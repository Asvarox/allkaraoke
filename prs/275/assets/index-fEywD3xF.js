const __vite__fileDeps=["assets/ConvertView-7mv4mwpq.js","assets/ShareSongsModal-1jEmPQ2w.js","assets/SongList-Dc5iTSfU.js"],__vite__mapDeps=i=>i.map(i=>__vite__fileDeps[i]);
function vB(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in e)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(e,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();var Fo=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function cr(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function qi(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var s=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return e[r]}})}),n}var sM={exports:{}},gm={},iM={exports:{}},rt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rf=Symbol.for("react.element"),yB=Symbol.for("react.portal"),AB=Symbol.for("react.fragment"),_B=Symbol.for("react.strict_mode"),bB=Symbol.for("react.profiler"),SB=Symbol.for("react.provider"),wB=Symbol.for("react.context"),xB=Symbol.for("react.forward_ref"),EB=Symbol.for("react.suspense"),kB=Symbol.for("react.memo"),CB=Symbol.for("react.lazy"),Jx=Symbol.iterator;function IB(e){return e===null||typeof e!="object"?null:(e=Jx&&e[Jx]||e["@@iterator"],typeof e=="function"?e:null)}var oM={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},aM=Object.assign,lM={};function iu(e,t,n){this.props=e,this.context=t,this.refs=lM,this.updater=n||oM}iu.prototype.isReactComponent={};iu.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};iu.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function cM(){}cM.prototype=iu.prototype;function U_(e,t,n){this.props=e,this.context=t,this.refs=lM,this.updater=n||oM}var z_=U_.prototype=new cM;z_.constructor=U_;aM(z_,iu.prototype);z_.isPureReactComponent=!0;var Xx=Array.isArray,uM=Object.prototype.hasOwnProperty,H_={current:null},dM={key:!0,ref:!0,__self:!0,__source:!0};function fM(e,t,n){var r,s={},i=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)uM.call(t,r)&&!dM.hasOwnProperty(r)&&(s[r]=t[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];s.children=l}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:Rf,type:e,key:i,ref:o,props:s,_owner:H_.current}}function TB(e,t){return{$$typeof:Rf,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function G_(e){return typeof e=="object"&&e!==null&&e.$$typeof===Rf}function RB(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Zx=/\/+/g;function dy(e,t){return typeof e=="object"&&e!==null&&e.key!=null?RB(""+e.key):t.toString(36)}function vp(e,t,n,r,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Rf:case yB:o=!0}}if(o)return o=e,s=s(o),e=r===""?"."+dy(o,0):r,Xx(s)?(n="",e!=null&&(n=e.replace(Zx,"$&/")+"/"),vp(s,t,n,"",function(c){return c})):s!=null&&(G_(s)&&(s=TB(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(Zx,"$&/")+"/")+e)),t.push(s)),1;if(o=0,r=r===""?".":r+":",Xx(e))for(var a=0;a<e.length;a++){i=e[a];var l=r+dy(i,a);o+=vp(i,t,n,l,s)}else if(l=IB(e),typeof l=="function")for(e=l.call(e),a=0;!(i=e.next()).done;)i=i.value,l=r+dy(i,a++),o+=vp(i,t,n,l,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function ph(e,t,n){if(e==null)return e;var r=[],s=0;return vp(e,r,"","",function(i){return t.call(n,i,s++)}),r}function MB(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Rr={current:null},yp={transition:null},PB={ReactCurrentDispatcher:Rr,ReactCurrentBatchConfig:yp,ReactCurrentOwner:H_};rt.Children={map:ph,forEach:function(e,t,n){ph(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return ph(e,function(){t++}),t},toArray:function(e){return ph(e,function(t){return t})||[]},only:function(e){if(!G_(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};rt.Component=iu;rt.Fragment=AB;rt.Profiler=bB;rt.PureComponent=U_;rt.StrictMode=_B;rt.Suspense=EB;rt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=PB;rt.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=aM({},e.props),s=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=H_.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(l in t)uM.call(t,l)&&!dM.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&a!==void 0?a[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:Rf,type:e.type,key:s,ref:i,props:r,_owner:o}};rt.createContext=function(e){return e={$$typeof:wB,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:SB,_context:e},e.Consumer=e};rt.createElement=fM;rt.createFactory=function(e){var t=fM.bind(null,e);return t.type=e,t};rt.createRef=function(){return{current:null}};rt.forwardRef=function(e){return{$$typeof:xB,render:e}};rt.isValidElement=G_;rt.lazy=function(e){return{$$typeof:CB,_payload:{_status:-1,_result:e},_init:MB}};rt.memo=function(e,t){return{$$typeof:kB,type:e,compare:t===void 0?null:t}};rt.startTransition=function(e){var t=yp.transition;yp.transition={};try{e()}finally{yp.transition=t}};rt.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};rt.useCallback=function(e,t){return Rr.current.useCallback(e,t)};rt.useContext=function(e){return Rr.current.useContext(e)};rt.useDebugValue=function(){};rt.useDeferredValue=function(e){return Rr.current.useDeferredValue(e)};rt.useEffect=function(e,t){return Rr.current.useEffect(e,t)};rt.useId=function(){return Rr.current.useId()};rt.useImperativeHandle=function(e,t,n){return Rr.current.useImperativeHandle(e,t,n)};rt.useInsertionEffect=function(e,t){return Rr.current.useInsertionEffect(e,t)};rt.useLayoutEffect=function(e,t){return Rr.current.useLayoutEffect(e,t)};rt.useMemo=function(e,t){return Rr.current.useMemo(e,t)};rt.useReducer=function(e,t,n){return Rr.current.useReducer(e,t,n)};rt.useRef=function(e){return Rr.current.useRef(e)};rt.useState=function(e){return Rr.current.useState(e)};rt.useSyncExternalStore=function(e,t,n){return Rr.current.useSyncExternalStore(e,t,n)};rt.useTransition=function(){return Rr.current.useTransition()};rt.version="18.2.0";iM.exports=rt;var A=iM.exports;const xe=cr(A),Xp=vB({__proto__:null,default:xe},[A]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jB=A,OB=Symbol.for("react.element"),VB=Symbol.for("react.fragment"),LB=Object.prototype.hasOwnProperty,$B=jB.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,BB={key:!0,ref:!0,__self:!0,__source:!0};function hM(e,t,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)LB.call(t,r)&&!BB.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:OB,type:e,key:i,ref:o,props:s,_owner:$B.current}}gm.Fragment=VB;gm.jsx=hM;gm.jsxs=hM;sM.exports=gm;var f=sM.exports;function NB(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}function DB(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),e.nonce!==void 0&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}var FB=function(){function e(n){var r=this;this._insertTag=function(s){var i;r.tags.length===0?r.insertionPoint?i=r.insertionPoint.nextSibling:r.prepend?i=r.container.firstChild:i=r.before:i=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(s,i),r.tags.push(s)},this.isSpeedy=n.speedy===void 0?!0:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(r){r.forEach(this._insertTag)},t.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(DB(this));var s=this.tags[this.tags.length-1];if(this.isSpeedy){var i=NB(s);try{i.insertRule(r,i.cssRules.length)}catch{}}else s.appendChild(document.createTextNode(r));this.ctr++},t.flush=function(){this.tags.forEach(function(r){return r.parentNode&&r.parentNode.removeChild(r)}),this.tags=[],this.ctr=0},e}(),gr="-ms-",Zp="-moz-",ht="-webkit-",pM="comm",q_="rule",W_="decl",UB="@import",gM="@keyframes",zB="@layer",HB=Math.abs,mm=String.fromCharCode,GB=Object.assign;function qB(e,t){return ir(e,0)^45?(((t<<2^ir(e,0))<<2^ir(e,1))<<2^ir(e,2))<<2^ir(e,3):0}function mM(e){return e.trim()}function WB(e,t){return(e=t.exec(e))?e[0]:e}function pt(e,t,n){return e.replace(t,n)}function e0(e,t){return e.indexOf(t)}function ir(e,t){return e.charCodeAt(t)|0}function Ld(e,t,n){return e.slice(t,n)}function Ei(e){return e.length}function K_(e){return e.length}function gh(e,t){return t.push(e),e}function KB(e,t){return e.map(t).join("")}var vm=1,Oc=1,vM=0,zr=0,Mn=0,ou="";function ym(e,t,n,r,s,i,o){return{value:e,root:t,parent:n,type:r,props:s,children:i,line:vm,column:Oc,length:o,return:""}}function Cu(e,t){return GB(ym("",null,null,"",null,null,0),e,{length:-e.length},t)}function YB(){return Mn}function QB(){return Mn=zr>0?ir(ou,--zr):0,Oc--,Mn===10&&(Oc=1,vm--),Mn}function is(){return Mn=zr<vM?ir(ou,zr++):0,Oc++,Mn===10&&(Oc=1,vm++),Mn}function Vi(){return ir(ou,zr)}function Ap(){return zr}function Mf(e,t){return Ld(ou,e,t)}function $d(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function yM(e){return vm=Oc=1,vM=Ei(ou=e),zr=0,[]}function AM(e){return ou="",e}function _p(e){return mM(Mf(zr-1,t0(e===91?e+2:e===40?e+1:e)))}function JB(e){for(;(Mn=Vi())&&Mn<33;)is();return $d(e)>2||$d(Mn)>3?"":" "}function XB(e,t){for(;--t&&is()&&!(Mn<48||Mn>102||Mn>57&&Mn<65||Mn>70&&Mn<97););return Mf(e,Ap()+(t<6&&Vi()==32&&is()==32))}function t0(e){for(;is();)switch(Mn){case e:return zr;case 34:case 39:e!==34&&e!==39&&t0(Mn);break;case 40:e===41&&t0(e);break;case 92:is();break}return zr}function ZB(e,t){for(;is()&&e+Mn!==57;)if(e+Mn===84&&Vi()===47)break;return"/*"+Mf(t,zr-1)+"*"+mm(e===47?e:is())}function eN(e){for(;!$d(Vi());)is();return Mf(e,zr)}function tN(e){return AM(bp("",null,null,null,[""],e=yM(e),0,[0],e))}function bp(e,t,n,r,s,i,o,a,l){for(var c=0,u=0,d=o,h=0,p=0,g=0,m=1,_=1,v=1,y=0,b="",w=s,S=i,x=r,E=b;_;)switch(g=y,y=is()){case 40:if(g!=108&&ir(E,d-1)==58){e0(E+=pt(_p(y),"&","&\f"),"&\f")!=-1&&(v=-1);break}case 34:case 39:case 91:E+=_p(y);break;case 9:case 10:case 13:case 32:E+=JB(g);break;case 92:E+=XB(Ap()-1,7);continue;case 47:switch(Vi()){case 42:case 47:gh(nN(ZB(is(),Ap()),t,n),l);break;default:E+="/"}break;case 123*m:a[c++]=Ei(E)*v;case 125*m:case 59:case 0:switch(y){case 0:case 125:_=0;case 59+u:v==-1&&(E=pt(E,/\f/g,"")),p>0&&Ei(E)-d&&gh(p>32?tE(E+";",r,n,d-1):tE(pt(E," ","")+";",r,n,d-2),l);break;case 59:E+=";";default:if(gh(x=eE(E,t,n,c,u,s,a,b,w=[],S=[],d),i),y===123)if(u===0)bp(E,t,x,x,w,i,d,a,S);else switch(h===99&&ir(E,3)===110?100:h){case 100:case 108:case 109:case 115:bp(e,x,x,r&&gh(eE(e,x,x,0,0,s,a,b,s,w=[],d),S),s,S,d,a,r?w:S);break;default:bp(E,x,x,x,[""],S,0,a,S)}}c=u=p=0,m=v=1,b=E="",d=o;break;case 58:d=1+Ei(E),p=g;default:if(m<1){if(y==123)--m;else if(y==125&&m++==0&&QB()==125)continue}switch(E+=mm(y),y*m){case 38:v=u>0?1:(E+="\f",-1);break;case 44:a[c++]=(Ei(E)-1)*v,v=1;break;case 64:Vi()===45&&(E+=_p(is())),h=Vi(),u=d=Ei(b=E+=eN(Ap())),y++;break;case 45:g===45&&Ei(E)==2&&(m=0)}}return i}function eE(e,t,n,r,s,i,o,a,l,c,u){for(var d=s-1,h=s===0?i:[""],p=K_(h),g=0,m=0,_=0;g<r;++g)for(var v=0,y=Ld(e,d+1,d=HB(m=o[g])),b=e;v<p;++v)(b=mM(m>0?h[v]+" "+y:pt(y,/&\f/g,h[v])))&&(l[_++]=b);return ym(e,t,n,s===0?q_:a,l,c,u)}function nN(e,t,n){return ym(e,t,n,pM,mm(YB()),Ld(e,2,-2),0)}function tE(e,t,n,r){return ym(e,t,n,W_,Ld(e,0,r),Ld(e,r+1,-1),r)}function hc(e,t){for(var n="",r=K_(e),s=0;s<r;s++)n+=t(e[s],s,e,t)||"";return n}function rN(e,t,n,r){switch(e.type){case zB:if(e.children.length)break;case UB:case W_:return e.return=e.return||e.value;case pM:return"";case gM:return e.return=e.value+"{"+hc(e.children,r)+"}";case q_:e.value=e.props.join(",")}return Ei(n=hc(e.children,r))?e.return=e.value+"{"+n+"}":""}function sN(e){var t=K_(e);return function(n,r,s,i){for(var o="",a=0;a<t;a++)o+=e[a](n,r,s,i)||"";return o}}function iN(e){return function(t){t.root||(t=t.return)&&e(t)}}function _M(e){var t=Object.create(null);return function(n){return t[n]===void 0&&(t[n]=e(n)),t[n]}}var oN=function(t,n,r){for(var s=0,i=0;s=i,i=Vi(),s===38&&i===12&&(n[r]=1),!$d(i);)is();return Mf(t,zr)},aN=function(t,n){var r=-1,s=44;do switch($d(s)){case 0:s===38&&Vi()===12&&(n[r]=1),t[r]+=oN(zr-1,n,r);break;case 2:t[r]+=_p(s);break;case 4:if(s===44){t[++r]=Vi()===58?"&\f":"",n[r]=t[r].length;break}default:t[r]+=mm(s)}while(s=is());return t},lN=function(t,n){return AM(aN(yM(t),n))},nE=new WeakMap,cN=function(t){if(!(t.type!=="rule"||!t.parent||t.length<1)){for(var n=t.value,r=t.parent,s=t.column===r.column&&t.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(t.props.length===1&&n.charCodeAt(0)!==58&&!nE.get(r))&&!s){nE.set(t,!0);for(var i=[],o=lN(n,i),a=r.props,l=0,c=0;l<o.length;l++)for(var u=0;u<a.length;u++,c++)t.props[c]=i[l]?o[l].replace(/&\f/g,a[u]):a[u]+" "+o[l]}}},uN=function(t){if(t.type==="decl"){var n=t.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(t.return="",t.value="")}};function bM(e,t){switch(qB(e,t)){case 5103:return ht+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return ht+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return ht+e+Zp+e+gr+e+e;case 6828:case 4268:return ht+e+gr+e+e;case 6165:return ht+e+gr+"flex-"+e+e;case 5187:return ht+e+pt(e,/(\w+).+(:[^]+)/,ht+"box-$1$2"+gr+"flex-$1$2")+e;case 5443:return ht+e+gr+"flex-item-"+pt(e,/flex-|-self/,"")+e;case 4675:return ht+e+gr+"flex-line-pack"+pt(e,/align-content|flex-|-self/,"")+e;case 5548:return ht+e+gr+pt(e,"shrink","negative")+e;case 5292:return ht+e+gr+pt(e,"basis","preferred-size")+e;case 6060:return ht+"box-"+pt(e,"-grow","")+ht+e+gr+pt(e,"grow","positive")+e;case 4554:return ht+pt(e,/([^-])(transform)/g,"$1"+ht+"$2")+e;case 6187:return pt(pt(pt(e,/(zoom-|grab)/,ht+"$1"),/(image-set)/,ht+"$1"),e,"")+e;case 5495:case 3959:return pt(e,/(image-set\([^]*)/,ht+"$1$`$1");case 4968:return pt(pt(e,/(.+:)(flex-)?(.*)/,ht+"box-pack:$3"+gr+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+ht+e+e;case 4095:case 3583:case 4068:case 2532:return pt(e,/(.+)-inline(.+)/,ht+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Ei(e)-1-t>6)switch(ir(e,t+1)){case 109:if(ir(e,t+4)!==45)break;case 102:return pt(e,/(.+:)(.+)-([^]+)/,"$1"+ht+"$2-$3$1"+Zp+(ir(e,t+3)==108?"$3":"$2-$3"))+e;case 115:return~e0(e,"stretch")?bM(pt(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(ir(e,t+1)!==115)break;case 6444:switch(ir(e,Ei(e)-3-(~e0(e,"!important")&&10))){case 107:return pt(e,":",":"+ht)+e;case 101:return pt(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+ht+(ir(e,14)===45?"inline-":"")+"box$3$1"+ht+"$2$3$1"+gr+"$2box$3")+e}break;case 5936:switch(ir(e,t+11)){case 114:return ht+e+gr+pt(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return ht+e+gr+pt(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return ht+e+gr+pt(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return ht+e+gr+e+e}return e}var dN=function(t,n,r,s){if(t.length>-1&&!t.return)switch(t.type){case W_:t.return=bM(t.value,t.length);break;case gM:return hc([Cu(t,{value:pt(t.value,"@","@"+ht)})],s);case q_:if(t.length)return KB(t.props,function(i){switch(WB(i,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return hc([Cu(t,{props:[pt(i,/:(read-\w+)/,":"+Zp+"$1")]})],s);case"::placeholder":return hc([Cu(t,{props:[pt(i,/:(plac\w+)/,":"+ht+"input-$1")]}),Cu(t,{props:[pt(i,/:(plac\w+)/,":"+Zp+"$1")]}),Cu(t,{props:[pt(i,/:(plac\w+)/,gr+"input-$1")]})],s)}return""})}},fN=[dN],Y_=function(t){var n=t.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(m){var _=m.getAttribute("data-emotion");_.indexOf(" ")!==-1&&(document.head.appendChild(m),m.setAttribute("data-s",""))})}var s=t.stylisPlugins||fN,i={},o,a=[];o=t.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(m){for(var _=m.getAttribute("data-emotion").split(" "),v=1;v<_.length;v++)i[_[v]]=!0;a.push(m)});var l,c=[cN,uN];{var u,d=[rN,iN(function(m){u.insert(m)})],h=sN(c.concat(s,d)),p=function(_){return hc(tN(_),h)};l=function(_,v,y,b){u=y,p(_?_+"{"+v.styles+"}":v.styles),b&&(g.inserted[v.name]=!0)}}var g={key:n,sheet:new FB({key:n,container:o,nonce:t.nonce,speedy:t.speedy,prepend:t.prepend,insertionPoint:t.insertionPoint}),nonce:t.nonce,inserted:i,registered:{},insert:l};return g.sheet.hydrate(a),g};function Me(){return Me=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Me.apply(this,arguments)}var SM={exports:{}},St={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xn=typeof Symbol=="function"&&Symbol.for,Q_=Xn?Symbol.for("react.element"):60103,J_=Xn?Symbol.for("react.portal"):60106,Am=Xn?Symbol.for("react.fragment"):60107,_m=Xn?Symbol.for("react.strict_mode"):60108,bm=Xn?Symbol.for("react.profiler"):60114,Sm=Xn?Symbol.for("react.provider"):60109,wm=Xn?Symbol.for("react.context"):60110,X_=Xn?Symbol.for("react.async_mode"):60111,xm=Xn?Symbol.for("react.concurrent_mode"):60111,Em=Xn?Symbol.for("react.forward_ref"):60112,km=Xn?Symbol.for("react.suspense"):60113,hN=Xn?Symbol.for("react.suspense_list"):60120,Cm=Xn?Symbol.for("react.memo"):60115,Im=Xn?Symbol.for("react.lazy"):60116,pN=Xn?Symbol.for("react.block"):60121,gN=Xn?Symbol.for("react.fundamental"):60117,mN=Xn?Symbol.for("react.responder"):60118,vN=Xn?Symbol.for("react.scope"):60119;function fs(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case Q_:switch(e=e.type,e){case X_:case xm:case Am:case bm:case _m:case km:return e;default:switch(e=e&&e.$$typeof,e){case wm:case Em:case Im:case Cm:case Sm:return e;default:return t}}case J_:return t}}}function wM(e){return fs(e)===xm}St.AsyncMode=X_;St.ConcurrentMode=xm;St.ContextConsumer=wm;St.ContextProvider=Sm;St.Element=Q_;St.ForwardRef=Em;St.Fragment=Am;St.Lazy=Im;St.Memo=Cm;St.Portal=J_;St.Profiler=bm;St.StrictMode=_m;St.Suspense=km;St.isAsyncMode=function(e){return wM(e)||fs(e)===X_};St.isConcurrentMode=wM;St.isContextConsumer=function(e){return fs(e)===wm};St.isContextProvider=function(e){return fs(e)===Sm};St.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===Q_};St.isForwardRef=function(e){return fs(e)===Em};St.isFragment=function(e){return fs(e)===Am};St.isLazy=function(e){return fs(e)===Im};St.isMemo=function(e){return fs(e)===Cm};St.isPortal=function(e){return fs(e)===J_};St.isProfiler=function(e){return fs(e)===bm};St.isStrictMode=function(e){return fs(e)===_m};St.isSuspense=function(e){return fs(e)===km};St.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Am||e===xm||e===bm||e===_m||e===km||e===hN||typeof e=="object"&&e!==null&&(e.$$typeof===Im||e.$$typeof===Cm||e.$$typeof===Sm||e.$$typeof===wm||e.$$typeof===Em||e.$$typeof===gN||e.$$typeof===mN||e.$$typeof===vN||e.$$typeof===pN)};St.typeOf=fs;SM.exports=St;var yN=SM.exports,Z_=yN,AN={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},_N={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},bN={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},xM={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},eb={};eb[Z_.ForwardRef]=bN;eb[Z_.Memo]=xM;function rE(e){return Z_.isMemo(e)?xM:eb[e.$$typeof]||AN}var SN=Object.defineProperty,wN=Object.getOwnPropertyNames,sE=Object.getOwnPropertySymbols,xN=Object.getOwnPropertyDescriptor,EN=Object.getPrototypeOf,iE=Object.prototype;function EM(e,t,n){if(typeof t!="string"){if(iE){var r=EN(t);r&&r!==iE&&EM(e,r,n)}var s=wN(t);sE&&(s=s.concat(sE(t)));for(var i=rE(e),o=rE(t),a=0;a<s.length;++a){var l=s[a];if(!_N[l]&&!(n&&n[l])&&!(o&&o[l])&&!(i&&i[l])){var c=xN(t,l);try{SN(e,l,c)}catch{}}}}return e}var kN=EM;const CN=cr(kN);var IN=!0;function TN(e,t,n){var r="";return n.split(" ").forEach(function(s){e[s]!==void 0?t.push(e[s]+";"):r+=s+" "}),r}var kM=function(t,n,r){var s=t.key+"-"+n.name;(r===!1||IN===!1)&&t.registered[s]===void 0&&(t.registered[s]=n.styles)},CM=function(t,n,r){kM(t,n,r);var s=t.key+"-"+n.name;if(t.inserted[n.name]===void 0){var i=n;do t.insert(n===i?"."+s:"",i,t.sheet,!0),i=i.next;while(i!==void 0)}};function RN(e){for(var t=0,n,r=0,s=e.length;s>=4;++r,s-=4)n=e.charCodeAt(r)&255|(e.charCodeAt(++r)&255)<<8|(e.charCodeAt(++r)&255)<<16|(e.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,t=(n&65535)*1540483477+((n>>>16)*59797<<16)^(t&65535)*1540483477+((t>>>16)*59797<<16);switch(s){case 3:t^=(e.charCodeAt(r+2)&255)<<16;case 2:t^=(e.charCodeAt(r+1)&255)<<8;case 1:t^=e.charCodeAt(r)&255,t=(t&65535)*1540483477+((t>>>16)*59797<<16)}return t^=t>>>13,t=(t&65535)*1540483477+((t>>>16)*59797<<16),((t^t>>>15)>>>0).toString(36)}var MN={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},PN=/[A-Z]|^ms/g,jN=/_EMO_([^_]+?)_([^]*?)_EMO_/g,IM=function(t){return t.charCodeAt(1)===45},oE=function(t){return t!=null&&typeof t!="boolean"},fy=_M(function(e){return IM(e)?e:e.replace(PN,"-$&").toLowerCase()}),aE=function(t,n){switch(t){case"animation":case"animationName":if(typeof n=="string")return n.replace(jN,function(r,s,i){return ki={name:s,styles:i,next:ki},s})}return MN[t]!==1&&!IM(t)&&typeof n=="number"&&n!==0?n+"px":n};function Bd(e,t,n){if(n==null)return"";if(n.__emotion_styles!==void 0)return n;switch(typeof n){case"boolean":return"";case"object":{if(n.anim===1)return ki={name:n.name,styles:n.styles,next:ki},n.name;if(n.styles!==void 0){var r=n.next;if(r!==void 0)for(;r!==void 0;)ki={name:r.name,styles:r.styles,next:ki},r=r.next;var s=n.styles+";";return s}return ON(e,t,n)}case"function":{if(e!==void 0){var i=ki,o=n(e);return ki=i,Bd(e,t,o)}break}}if(t==null)return n;var a=t[n];return a!==void 0?a:n}function ON(e,t,n){var r="";if(Array.isArray(n))for(var s=0;s<n.length;s++)r+=Bd(e,t,n[s])+";";else for(var i in n){var o=n[i];if(typeof o!="object")t!=null&&t[o]!==void 0?r+=i+"{"+t[o]+"}":oE(o)&&(r+=fy(i)+":"+aE(i,o)+";");else if(Array.isArray(o)&&typeof o[0]=="string"&&(t==null||t[o[0]]===void 0))for(var a=0;a<o.length;a++)oE(o[a])&&(r+=fy(i)+":"+aE(i,o[a])+";");else{var l=Bd(e,t,o);switch(i){case"animation":case"animationName":{r+=fy(i)+":"+l+";";break}default:r+=i+"{"+l+"}"}}}return r}var lE=/label:\s*([^\s;\n{]+)\s*(;|$)/g,ki,tb=function(t,n,r){if(t.length===1&&typeof t[0]=="object"&&t[0]!==null&&t[0].styles!==void 0)return t[0];var s=!0,i="";ki=void 0;var o=t[0];o==null||o.raw===void 0?(s=!1,i+=Bd(r,n,o)):i+=o[0];for(var a=1;a<t.length;a++)i+=Bd(r,n,t[a]),s&&(i+=o[a]);lE.lastIndex=0;for(var l="",c;(c=lE.exec(i))!==null;)l+="-"+c[1];var u=RN(i)+l;return{name:u,styles:i,next:ki}},VN=function(t){return t()},TM=Xp.useInsertionEffect?Xp.useInsertionEffect:!1,LN=TM||VN,cE=TM||A.useLayoutEffect,RM=A.createContext(typeof HTMLElement<"u"?Y_({key:"css"}):null),MM=RM.Provider,PM=function(t){return A.forwardRef(function(n,r){var s=A.useContext(RM);return t(n,s,r)})},Pf=A.createContext({}),$N=PM(function(e,t){var n=e.styles,r=tb([n],void 0,A.useContext(Pf)),s=A.useRef();return cE(function(){var i=t.key+"-global",o=new t.sheet.constructor({key:i,nonce:t.sheet.nonce,container:t.sheet.container,speedy:t.sheet.isSpeedy}),a=!1,l=document.querySelector('style[data-emotion="'+i+" "+r.name+'"]');return t.sheet.tags.length&&(o.before=t.sheet.tags[0]),l!==null&&(a=!0,l.setAttribute("data-emotion",i),o.hydrate([l])),s.current=[o,a],function(){o.flush()}},[t]),cE(function(){var i=s.current,o=i[0],a=i[1];if(a){i[1]=!1;return}if(r.next!==void 0&&CM(t,r.next,!0),o.tags.length){var l=o.tags[o.tags.length-1].nextElementSibling;o.before=l,o.flush()}t.insert("",r,o,!1)},[t,r.name]),null});function Vc(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return tb(t)}var fa=function(){var t=Vc.apply(void 0,arguments),n="animation-"+t.name;return{name:n,styles:"@keyframes "+n+"{"+t.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}};class So{constructor(){this.listeners=[],this.onUpdate=(...t)=>{this.listeners.forEach(n=>n(...t))},this.addListener=t=>(this.listeners.push(t),()=>{this.removeListener(t)}),this.removeListener=t=>{this.listeners=this.listeners.filter(n=>n!==t)},this.clearAllListeners=()=>{console.log("clearing all listeners"),this.listeners=[]}}}const n0=e=>({setItem:(t,n)=>{e.setItem(t,JSON.stringify(n))},getItem:t=>{const n=e.getItem(t);if(n===null)return null;try{return JSON.parse(n)}catch{return n}},removeItem:t=>{e.removeItem(t)},clear:()=>{e.clear()}});class r0{constructor(){this.store={}}setItem(t,n){this.store[t]=n}getItem(t){const n=this.store[t];return n===void 0?null:n}removeItem(t){delete this.store[t]}get length(){return Object.keys(this.store).length}key(t){return Object.keys(this.store)[t]}clear(){this.store={}}}const uE=n0((global==null?void 0:global.localStorage)??new r0),$e={...uE,local:uE,session:n0((global==null?void 0:global.sessionStorage)??new r0),memory:n0(new r0)},s0="CAMERA_GRANT_KEY",dE=$e.local.getItem(s0);class BN extends So{constructor(){super(),this.stream=null,this.recorder=null,this.videoData=[],this.permissionGranted=dE!==null?JSON.parse(dE):null,this.requestPermissions=async()=>{try{this.stream=await navigator.mediaDevices.getUserMedia({video:!0}),this.permissionGranted=!0,await this.stopRecord()}catch{this.permissionGranted=!1}return $e.local.setItem(s0,JSON.stringify(this.permissionGranted)),this.onUpdate(this.permissionGranted),this.permissionGranted},this.disable=()=>{this.permissionGranted=!1,$e.local.setItem(s0,JSON.stringify(this.permissionGranted)),this.onUpdate(this.permissionGranted)},this.startRecord=async()=>{if(this.permissionGranted)try{this.stream=await navigator.mediaDevices.getUserMedia({video:{frameRate:2}});const t=this.stream.getVideoTracks()[0].getSettings();this.video.width=t.width??this.video.width,this.video.height=t.height??this.video.height,this.canvas.width=this.video.width,this.canvas.height=this.video.height,this.video.srcObject=this.stream,await this.video.play(),this.recorder=new MediaRecorder(this.stream,{mimeType:"video/webm"}),this.recorder.ondataavailable=n=>{this.videoData.push(n.data)},this.recorder.start()}catch(t){console.warn(t)}},this.getVideo=()=>{const t=new Blob(this.videoData,{type:"video/webm"});return URL.createObjectURL(t)},this.stopRecord=async()=>{var t,n;this.permissionGranted&&((t=this.recorder)==null||t.stop(),(n=this.stream)==null||n.getTracks().forEach(r=>r.stop()))},this.clearData=()=>{this.videoData.length=0},this.restartRecord=async()=>{await this.stopRecord(),await this.clearData(),await this.startRecord()},this.getPermissionStatus=()=>this.permissionGranted,this.video=document.createElement("video"),this.video.width=480,this.video.height=this.video.width*(9/16),this.canvas=document.createElement("canvas"),this.canvas.width=this.video.width,this.canvas.height=this.video.height}}const ri=new BN;function fE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function Ce(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?fE(Object(n),!0).forEach(function(r){se(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Nd(e){return Nd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Nd(e)}function Ft(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function hE(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ut(e,t,n){return t&&hE(e.prototype,t),n&&hE(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function se(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function NN(e,t){if(e==null)return{};var n,r,s=function(o,a){if(o==null)return{};var l,c,u={},d=Object.keys(o);for(c=0;c<d.length;c++)l=d[c],a.indexOf(l)>=0||(u[l]=o[l]);return u}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function Er(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var s=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(s!=null){var i,o,a=[],l=!0,c=!1;try{for(s=s.call(n);!(l=(i=s.next()).done)&&(a.push(i.value),!r||a.length!==r);l=!0);}catch(u){c=!0,o=u}finally{try{l||s.return==null||s.return()}finally{if(c)throw o}}return a}}(e,t)||nb(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Lc(e){return function(t){if(Array.isArray(t))return i0(t)}(e)||function(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}(e)||nb(e)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function nb(e,t){if(e){if(typeof e=="string")return i0(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i0(e,t):void 0}}function i0(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function hi(e,t){var n=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=nb(e))||t&&e&&typeof e.length=="number"){n&&(e=n);var r=0,s=function(){};return{s,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(l){throw l},f:s}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var i,o=!0,a=!1;return{s:function(){n=n.call(e)},n:function(){var l=n.next();return o=l.done,l},e:function(l){a=!0,i=l},f:function(){try{o||n.return==null||n.return()}finally{if(a)throw i}}}}var $a={DEBUG:!1,LIB_VERSION:"1.130.0"},DN=Array.isArray,jM=Object.prototype,OM=jM.hasOwnProperty,Tm=jM.toString,Bn=DN||function(e){return Tm.call(e)==="[object Array]"},ai=function(e){return typeof e=="function"},Mi=function(e){return e===Object(e)&&!Bn(e)},hy=function(e){if(Mi(e)){for(var t in e)if(OM.call(e,t))return!1;return!0}return!1},He=function(e){return e===void 0},vr=function(e){return Tm.call(e)=="[object String]"},li=function(e){return e===null},Wo=function(e){return He(e)||li(e)},ei=function(e){return Tm.call(e)=="[object Number]"},Sp=function(e){return Tm.call(e)==="[object Boolean]"},FN=function(e){return e instanceof FormData},X=typeof window<"u"?window:void 0,$r=typeof globalThis<"u"?globalThis:X,VM=Array.prototype,pE=VM.forEach,gE=VM.indexOf,Dd=$r==null?void 0:$r.navigator,we=$r==null?void 0:$r.document,ks=$r==null?void 0:$r.location,rb=$r==null?void 0:$r.fetch,sb=$r!=null&&$r.XMLHttpRequest&&"withCredentials"in new $r.XMLHttpRequest?$r.XMLHttpRequest:void 0,mE=$r==null?void 0:$r.AbortController,vn=Dd==null?void 0:Dd.userAgent,Xr=X??{},vE="[PostHog.js]",pe={_log:function(e){if(X&&($a.DEBUG||Xr.POSTHOG_DEBUG)&&!He(X.console)&&X.console){for(var t=("__rrweb_original__"in X.console[e])?X.console[e].__rrweb_original__:X.console[e],n=arguments.length,r=new Array(n>1?n-1:0),s=1;s<n;s++)r[s-1]=arguments[s];t.apply(void 0,[vE].concat(r))}},info:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];pe._log.apply(pe,["log"].concat(t))},warn:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];pe._log.apply(pe,["warn"].concat(t))},error:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];pe._log.apply(pe,["error"].concat(t))},critical:function(){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];(e=console).error.apply(e,[vE].concat(n))},uninitializedWarning:function(e){pe.error("You must initialize PostHog before calling ".concat(e))}},eg={},Rm=function(e){return e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")};function pc(e,t,n){if(Bn(e)){if(pE&&e.forEach===pE)e.forEach(t,n);else if("length"in e&&e.length===+e.length){for(var r=0,s=e.length;r<s;r++)if(r in e&&t.call(n,e[r],r)===eg)return}}}function Vt(e,t,n){if(!Wo(e)){if(Bn(e))return pc(e,t,n);if(FN(e)){var r,s=hi(e.entries());try{for(s.s();!(r=s.n()).done;){var i=r.value;if(t.call(n,i[1],i[0])===eg)return}}catch(a){s.e(a)}finally{s.f()}}else for(var o in e)if(OM.call(e,o)&&t.call(n,e[o],o)===eg)return}}var Gn=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return pc(n,function(s){for(var i in s)s[i]!==void 0&&(e[i]=s[i])}),e};function ct(e,t){return e.indexOf(t)!==-1}function wp(e){for(var t=Object.keys(e),n=t.length,r=new Array(n);n--;)r[n]=[t[n],e[t[n]]];return r}var LM=function(){return Date.now=Date.now||function(){return+new Date},Date.now()},yE=function(e){try{return e()}catch{return}},UN=function(e){return function(){try{for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(this,n)}catch(s){pe.critical("Implementation error. Please turn on debug mode and open a ticket on https://app.posthog.com/home#panel=support%3Asupport%3A."),pe.critical(s)}}},o0=function(e){var t={};return Vt(e,function(n,r){vr(n)&&n.length>0&&(t[r]=n)}),t};function zN(e,t){return n=e,r=function(i){return vr(i)&&!li(t)?i.slice(0,t):i},s=new Set,function i(o,a){return o!==Object(o)?r?r(o,a):o:s.has(o)?void 0:(s.add(o),Bn(o)?(l=[],pc(o,function(c){l.push(i(c))})):(l={},Vt(o,function(c,u){s.has(c)||(l[u]=i(c,u))})),l);var l}(n);var n,r,s}var ni,HN=function(e){var t,n,r,s,i="";for(t=n=0,r=(e=(e+"").replace(/\r\n/g,`
`).replace(/\r/g,`
`)).length,s=0;s<r;s++){var o=e.charCodeAt(s),a=null;o<128?n++:a=o>127&&o<2048?String.fromCharCode(o>>6|192,63&o|128):String.fromCharCode(o>>12|224,o>>6&63|128,63&o|128),li(a)||(n>t&&(i+=e.substring(t,n)),i+=a,t=n=s+1)}return n>t&&(i+=e.substring(t,e.length)),i},no=function(){function e(t){return t&&(t.preventDefault=e.preventDefault,t.stopPropagation=e.stopPropagation),t}return e.preventDefault=function(){this.returnValue=!1},e.stopPropagation=function(){this.cancelBubble=!0},function(t,n,r,s,i){if(t)if(t.addEventListener&&!s)t.addEventListener(n,r,!!i);else{var o="on"+n,a=t[o];t[o]=function(l,c,u){return function(d){if(d=d||e(X==null?void 0:X.event)){var h,p=!0;ai(u)&&(h=u(d));var g=c.call(l,d);return h!==!1&&g!==!1||(p=!1),p}}}(t,r,a)}else pe.error("No valid element provided to register_event")}}();function Fd(e,t){var n=function(){if(!we)return t("document not found");var r=we.createElement("script");r.type="text/javascript",r.src=e,r.onload=function(o){return t(void 0,o)},r.onerror=function(o){return t(o)};var s,i=we.querySelectorAll("body > script");i.length>0?(s=i[0].parentNode)===null||s===void 0||s.insertBefore(r,i[0]):we.body.appendChild(r)};we!=null&&we.body?n():we==null||we.addEventListener("DOMContentLoaded",n)}(function(e){e.GZipJS="gzip-js",e.Base64="base64"})(ni||(ni={}));var $M="$people_distinct_id",Qu="__alias",Ju="__timers",AE="$autocapture_disabled_server_side",a0="$heatmaps_enabled_server_side",l0="$session_recording_enabled_server_side",_E="$console_log_recording_enabled_server_side",bE="$session_recording_network_payload_capture",SE="$session_recording_canvas_recording",wE="$replay_sample_rate",xE="$replay_minimum_duration",tg="$sesid",dd="$session_is_sampled",ql="$enabled_feature_flags",c0="$early_access_features",Wl="$stored_person_properties",jo="$stored_group_properties",u0="$surveys",ng="$flag_call_reported",Ji="$user_state",d0="$client_session_props",f0="$capture_rate_limit",h0="$initial_campaign_params",p0="$initial_referrer_info",rg="$epp",GN=[$M,Qu,"__cmpns",Ju,l0,a0,tg,ql,Ji,c0,jo,Wl,u0,ng,d0,f0,h0,p0,rg],py="$active_feature_flags",mh="$override_feature_flags",EE="$feature_flag_payloads",kE=function(e){var t,n={},r=hi(wp(e||{}));try{for(r.s();!(t=r.n()).done;){var s=Er(t.value,2),i=s[0],o=s[1];o&&(n[i]=o)}}catch(a){r.e(a)}finally{r.f()}return n},qN=function(){function e(t){Ft(this,e),this.instance=t,this._override_warning=!1,this.featureFlagEventHandlers=[],this.reloadFeatureFlagsQueued=!1,this.reloadFeatureFlagsInAction=!1}return Ut(e,[{key:"getFlags",value:function(){return Object.keys(this.getFlagVariants())}},{key:"getFlagVariants",value:function(){var t=this.instance.get_property(ql),n=this.instance.get_property(mh);if(!n)return t||{};for(var r=Gn({},t),s=Object.keys(n),i=0;i<s.length;i++)r[s[i]]=n[s[i]];return this._override_warning||(pe.warn(" Overriding feature flags!",{enabledFlags:t,overriddenFlags:n,finalFlags:r}),this._override_warning=!0),r}},{key:"getFlagPayloads",value:function(){return this.instance.get_property(EE)||{}}},{key:"reloadFeatureFlags",value:function(){this.reloadFeatureFlagsQueued||(this.reloadFeatureFlagsQueued=!0,this._startReloadTimer())}},{key:"setAnonymousDistinctId",value:function(t){this.$anon_distinct_id=t}},{key:"setReloadingPaused",value:function(t){this.reloadFeatureFlagsInAction=t}},{key:"resetRequestQueue",value:function(){this.reloadFeatureFlagsQueued=!1}},{key:"_startReloadTimer",value:function(){var t=this;this.reloadFeatureFlagsQueued&&!this.reloadFeatureFlagsInAction&&setTimeout(function(){!t.reloadFeatureFlagsInAction&&t.reloadFeatureFlagsQueued&&(t.reloadFeatureFlagsQueued=!1,t._reloadFeatureFlagsRequest())},5)}},{key:"_reloadFeatureFlagsRequest",value:function(){var t=this;if(!this.instance.config.advanced_disable_feature_flags){this.setReloadingPaused(!0);var n=this.instance.config.token,r=this.instance.get_property(Wl),s=this.instance.get_property(jo),i={token:n,distinct_id:this.instance.get_distinct_id(),groups:this.instance.getGroups(),$anon_distinct_id:this.$anon_distinct_id,person_properties:r,group_properties:s,disable_flags:this.instance.config.advanced_disable_feature_flags||void 0};this.instance._send_request({method:"POST",url:this.instance.requestRouter.endpointFor("api","/decide/?v=3"),data:i,compression:this.instance.config.disable_compression?void 0:ni.Base64,timeout:this.instance.config.feature_flag_request_timeout_ms,callback:function(o){var a;t.setReloadingPaused(!1);var l=!0;o.statusCode===200&&(t.$anon_distinct_id=void 0,l=!1),t.receivedFeatureFlags((a=o.json)!==null&&a!==void 0?a:{},l),t._startReloadTimer()}})}}},{key:"getFeatureFlag",value:function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.instance.decideEndpointWasHit||this.getFlags()&&this.getFlags().length>0){var r,s=this.getFlagVariants()[t],i="".concat(s),o=this.instance.get_property(ng)||{};return(n.send_event||!("send_event"in n))&&(!(t in o)||!o[t].includes(i))&&(Bn(o[t])?o[t].push(i):o[t]=[i],(r=this.instance.persistence)===null||r===void 0||r.register(se({},ng,o)),this.instance.capture("$feature_flag_called",{$feature_flag:t,$feature_flag_response:s})),s}pe.warn('getFeatureFlag for key "'+t+`" failed. Feature flags didn't load in time.`)}},{key:"getFeatureFlagPayload",value:function(t){return this.getFlagPayloads()[t]}},{key:"isFeatureEnabled",value:function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.instance.decideEndpointWasHit||this.getFlags()&&this.getFlags().length>0)return!!this.getFeatureFlag(t,n);pe.warn('isFeatureEnabled for key "'+t+`" failed. Feature flags didn't load in time.`)}},{key:"addFeatureFlagsHandler",value:function(t){this.featureFlagEventHandlers.push(t)}},{key:"removeFeatureFlagsHandler",value:function(t){this.featureFlagEventHandlers=this.featureFlagEventHandlers.filter(function(n){return n!==t})}},{key:"receivedFeatureFlags",value:function(t,n){if(this.instance.persistence){this.instance.decideEndpointWasHit=!0;var r=this.getFlagVariants(),s=this.getFlagPayloads();(function(i,o){var a,l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},c=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},u=i.featureFlags,d=i.featureFlagPayloads;if(u)if(Bn(u)){var h,p={};if(u)for(var g=0;g<u.length;g++)p[u[g]]=!0;o&&o.register((se(h={},py,u),se(h,ql,p),h))}else{var m=u,_=d;i.errorsWhileComputingFlags&&(m=Ce(Ce({},l),m),_=Ce(Ce({},c),_)),o&&o.register((se(a={},py,Object.keys(kE(m))),se(a,ql,m||{}),se(a,EE,_||{}),a))}})(t,this.instance.persistence,r,s),this._fireFeatureFlagsCallbacks(n)}}},{key:"override",value:function(t){if(!this.instance.__loaded||!this.instance.persistence)return pe.uninitializedWarning("posthog.feature_flags.override");if(this._override_warning=!1,t===!1)this.instance.persistence.unregister(mh);else if(Bn(t)){for(var n={},r=0;r<t.length;r++)n[t[r]]=!0;this.instance.persistence.register(se({},mh,n))}else this.instance.persistence.register(se({},mh,t))}},{key:"onFeatureFlags",value:function(t){var n=this;if(this.addFeatureFlagsHandler(t),this.instance.decideEndpointWasHit){var r=this._prepareFeatureFlagsForCallbacks(),s=r.flags,i=r.flagVariants;t(s,i)}return function(){return n.removeFeatureFlagsHandler(t)}}},{key:"updateEarlyAccessFeatureEnrollment",value:function(t,n){var r,s,i=se({},"$feature_enrollment/".concat(t),n);this.instance.capture("$feature_enrollment_update",{$feature_flag:t,$feature_enrollment:n,$set:i}),this.setPersonPropertiesForFlags(i,!1);var o=Ce(Ce({},this.getFlagVariants()),{},se({},t,n));(r=this.instance.persistence)===null||r===void 0||r.register((se(s={},py,Object.keys(kE(o))),se(s,ql,o),s)),this._fireFeatureFlagsCallbacks()}},{key:"getEarlyAccessFeatures",value:function(t){var n=this,r=arguments.length>1&&arguments[1]!==void 0&&arguments[1],s=this.instance.get_property(c0);if(s&&!r)return t(s);this.instance._send_request({transport:"XHR",url:this.instance.requestRouter.endpointFor("api","/api/early_access_features/?token=".concat(this.instance.config.token)),method:"GET",callback:function(i){var o;if(i.json){var a=i.json.earlyAccessFeatures;return(o=n.instance.persistence)===null||o===void 0||o.register(se({},c0,a)),t(a)}}})}},{key:"_prepareFeatureFlagsForCallbacks",value:function(){var t=this.getFlags(),n=this.getFlagVariants();return{flags:t.filter(function(r){return n[r]}),flagVariants:Object.keys(n).filter(function(r){return n[r]}).reduce(function(r,s){return r[s]=n[s],r},{})}}},{key:"_fireFeatureFlagsCallbacks",value:function(t){var n=this._prepareFeatureFlagsForCallbacks(),r=n.flags,s=n.flagVariants;this.featureFlagEventHandlers.forEach(function(i){return i(r,s,{errorsLoading:t})})}},{key:"setPersonPropertiesForFlags",value:function(t){var n=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],r=this.instance.get_property(Wl)||{};this.instance.register(se({},Wl,Ce(Ce({},r),t))),n&&this.instance.reloadFeatureFlags()}},{key:"resetPersonPropertiesForFlags",value:function(){this.instance.unregister(Wl)}},{key:"setGroupPropertiesForFlags",value:function(t){var n=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],r=this.instance.get_property(jo)||{};Object.keys(r).length!==0&&Object.keys(r).forEach(function(s){r[s]=Ce(Ce({},r[s]),t[s]),delete t[s]}),this.instance.register(se({},jo,Ce(Ce({},r),t))),n&&this.instance.reloadFeatureFlags()}},{key:"resetGroupPropertiesForFlags",value:function(t){if(t){var n=this.instance.get_property(jo)||{};this.instance.register(se({},jo,Ce(Ce({},n),{},se({},t,{}))))}else this.instance.unregister(jo)}}]),e}();Math.trunc||(Math.trunc=function(e){return e<0?Math.ceil(e):Math.floor(e)}),Number.isInteger||(Number.isInteger=function(e){return ei(e)&&isFinite(e)&&Math.floor(e)===e});var CE="0123456789abcdef",WN=function(){function e(t){if(Ft(this,e),this.bytes=t,t.length!==16)throw new TypeError("not 128-bit length")}return Ut(e,[{key:"toString",value:function(){for(var t="",n=0;n<this.bytes.length;n++)t=t+CE.charAt(this.bytes[n]>>>4)+CE.charAt(15&this.bytes[n]),n!==3&&n!==5&&n!==7&&n!==9||(t+="-");if(t.length!==36)throw new Error("Invalid UUIDv7 was generated");return t}},{key:"clone",value:function(){return new e(this.bytes.slice(0))}},{key:"equals",value:function(t){return this.compareTo(t)===0}},{key:"compareTo",value:function(t){for(var n=0;n<16;n++){var r=this.bytes[n]-t.bytes[n];if(r!==0)return Math.sign(r)}return 0}}],[{key:"fromFieldsV7",value:function(t,n,r,s){if(!Number.isInteger(t)||!Number.isInteger(n)||!Number.isInteger(r)||!Number.isInteger(s)||t<0||n<0||r<0||s<0||t>0xffffffffffff||n>4095||r>1073741823||s>4294967295)throw new RangeError("invalid field value");var i=new Uint8Array(16);return i[0]=t/Math.pow(2,40),i[1]=t/Math.pow(2,32),i[2]=t/Math.pow(2,24),i[3]=t/Math.pow(2,16),i[4]=t/Math.pow(2,8),i[5]=t,i[6]=112|n>>>8,i[7]=n,i[8]=128|r>>>24,i[9]=r>>>16,i[10]=r>>>8,i[11]=r,i[12]=s>>>24,i[13]=s>>>16,i[14]=s>>>8,i[15]=s,new e(i)}}]),e}(),KN=function(){function e(){Ft(this,e),se(this,"timestamp",0),se(this,"counter",0),se(this,"random",new YN)}return Ut(e,[{key:"generate",value:function(){var t=this.generateOrAbort();if(He(t)){this.timestamp=0;var n=this.generateOrAbort();if(He(n))throw new Error("Could not generate UUID after timestamp reset");return n}return t}},{key:"generateOrAbort",value:function(){var t=Date.now();if(t>this.timestamp)this.timestamp=t,this.resetCounter();else{if(!(t+1e4>this.timestamp))return;this.counter++,this.counter>4398046511103&&(this.timestamp++,this.resetCounter())}return WN.fromFieldsV7(this.timestamp,Math.trunc(this.counter/Math.pow(2,30)),this.counter&Math.pow(2,30)-1,this.random.nextUint32())}},{key:"resetCounter",value:function(){this.counter=1024*this.random.nextUint32()+(1023&this.random.nextUint32())}}]),e}(),BM=function(e){if(typeof UUIDV7_DENY_WEAK_RNG<"u"&&UUIDV7_DENY_WEAK_RNG)throw new Error("no cryptographically strong RNG available");for(var t=0;t<e.length;t++)e[t]=65536*Math.trunc(65536*Math.random())+Math.trunc(65536*Math.random());return e};X&&!He(X.crypto)&&crypto.getRandomValues&&(BM=function(e){return crypto.getRandomValues(e)});var IE,YN=function(){function e(){Ft(this,e),se(this,"buffer",new Uint32Array(8)),se(this,"cursor",1/0)}return Ut(e,[{key:"nextUint32",value:function(){return this.cursor>=this.buffer.length&&(BM(this.buffer),this.cursor=0),this.buffer[this.cursor++]}}]),e}(),Uo=function(){return QN().toString()},QN=function(){return(IE||(IE=new KN)).generate()},JN="Thu, 01 Jan 1970 00:00:00 GMT",Iu="",XN=/[a-z0-9][a-z0-9-]+\.[a-z]{2,}$/i;function ZN(e,t){if(t){var n=function(s){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:we;if(Iu)return Iu;if(!i||["localhost","127.0.0.1"].includes(s))return"";for(var o=s.split("."),a=Math.min(o.length,8),l="dmn_chk_"+Uo(),c=new RegExp("(^|;)\\s*"+l+"=1");!Iu&&a--;){var u=o.slice(a).join("."),d=l+"=1;domain=."+u;i.cookie=d,c.test(i.cookie)&&(i.cookie=d+";expires="+JN,Iu=u)}return Iu}(e);if(!n){var r=function(s){var i=s.match(XN);return i?i[0]:""}(e);r!==n&&pe.info("Warning: cookie subdomain discovery mismatch",r,n),n=r}return n?"; domain=."+n:""}return""}var er,Li={is_supported:function(){return!!we},error:function(e){pe.error("cookieStore error: "+e)},get:function(e){if(we){try{for(var t=e+"=",n=we.cookie.split(";").filter(function(i){return i.length}),r=0;r<n.length;r++){for(var s=n[r];s.charAt(0)==" ";)s=s.substring(1,s.length);if(s.indexOf(t)===0)return decodeURIComponent(s.substring(t.length,s.length))}}catch{}return null}},parse:function(e){var t;try{t=JSON.parse(Li.get(e))||{}}catch{}return t},set:function(e,t,n,r,s){if(we)try{var i="",o="",a=ZN(we.location.hostname,r);if(n){var l=new Date;l.setTime(l.getTime()+24*n*60*60*1e3),i="; expires="+l.toUTCString()}s&&(o="; secure");var c=e+"="+encodeURIComponent(JSON.stringify(t))+i+"; SameSite=Lax; path=/"+a+o;return c.length>3686.4&&pe.warn("cookieStore warning: large cookie, len="+c.length),we.cookie=c,c}catch{return}},remove:function(e,t){try{Li.set(e,"",-1,t)}catch{return}}},gy=null,In={is_supported:function(){if(!li(gy))return gy;var e=!0;if(He(X))e=!1;else try{var t="__mplssupport__";In.set(t,"xyz"),In.get(t)!=='"xyz"'&&(e=!1),In.remove(t)}catch{e=!1}return e||pe.error("localStorage unsupported; falling back to cookie store"),gy=e,e},error:function(e){pe.error("localStorage error: "+e)},get:function(e){try{return X==null?void 0:X.localStorage.getItem(e)}catch(t){In.error(t)}return null},parse:function(e){try{return JSON.parse(In.get(e))||{}}catch{}return null},set:function(e,t){try{X==null||X.localStorage.setItem(e,JSON.stringify(t))}catch(n){In.error(n)}},remove:function(e){try{X==null||X.localStorage.removeItem(e)}catch(t){In.error(t)}}},eD=["distinct_id",tg,dd,rg],Xu=Ce(Ce({},In),{},{parse:function(e){try{var t={};try{t=Li.parse(e)||{}}catch{}var n=Gn(t,JSON.parse(In.get(e)||"{}"));return In.set(e,n),n}catch{}return null},set:function(e,t,n,r,s){try{In.set(e,t);var i={};eD.forEach(function(o){t[o]&&(i[o]=t[o])}),Object.keys(i).length&&Li.set(e,i,n,r,s)}catch(o){In.error(o)}},remove:function(e,t){try{X==null||X.localStorage.removeItem(e),Li.remove(e,t)}catch(n){In.error(n)}}}),vh={},tD={is_supported:function(){return!0},error:function(e){pe.error("memoryStorage error: "+e)},get:function(e){return vh[e]||null},parse:function(e){return vh[e]||null},set:function(e,t){vh[e]=t},remove:function(e){delete vh[e]}},Sa=null,rr={is_supported:function(){if(!li(Sa))return Sa;if(Sa=!0,He(X))Sa=!1;else try{var e="__support__";rr.set(e,"xyz"),rr.get(e)!=='"xyz"'&&(Sa=!1),rr.remove(e)}catch{Sa=!1}return Sa},error:function(e){pe.error("sessionStorage error: ",e)},get:function(e){try{return X==null?void 0:X.sessionStorage.getItem(e)}catch(t){rr.error(t)}return null},parse:function(e){try{return JSON.parse(rr.get(e))||null}catch{}return null},set:function(e,t){try{X==null||X.sessionStorage.setItem(e,JSON.stringify(t))}catch(n){rr.error(n)}},remove:function(e){try{X==null||X.sessionStorage.removeItem(e)}catch(t){rr.error(t)}}},nD=["localhost","127.0.0.1"],NM=function(e){var t=we==null?void 0:we.createElement("a");return He(t)?null:(t.href=e,t)},rD=function(e,t){return!!function(n){try{new RegExp(n)}catch{return!1}return!0}(t)&&new RegExp(t).test(e)},sD=function(e){var t,n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"&",s=[];return Vt(e,function(i,o){He(i)||He(o)||o==="undefined"||(t=encodeURIComponent(function(a){return a instanceof File}(i)?i.name:i.toString()),n=encodeURIComponent(o),s[s.length]=n+"="+t)}),s.join(r)},TE=function(e,t){for(var n,r=((e.split("#")[0]||"").split("?")[1]||"").split("&"),s=0;s<r.length;s++){var i=r[s].split("=");if(i[0]===t){n=i;break}}if(!Bn(n)||n.length<2)return"";var o=n[1];try{o=decodeURIComponent(o)}catch{pe.error("Skipping decoding for malformed query param: "+o)}return o.replace(/\+/g," ")},sg=function(e,t){var n=e.match(new RegExp(t+"=([^&]*)"));return n?n[1]:null},Os="Mobile",ig="iOS",Pi="Android",Ud="Tablet",DM=Pi+" "+Ud,FM="iPad",UM="Apple",zM=UM+" Watch",Mm="Safari",$c="BlackBerry",HM="Samsung",GM=HM+"Browser",qM=HM+" Internet",Xa="Chrome",iD=Xa+" OS",WM=Xa+" "+ig,ib="Internet Explorer",KM=ib+" "+Os,ob="Opera",oD=ob+" Mini",ab="Edge",YM="Microsoft "+ab,gc="Firefox",QM=gc+" "+ig,zd="Nintendo",Hd="PlayStation",mc="Xbox",JM=Pi+" "+Os,XM=Os+" "+Mm,Zu="Windows",g0=Zu+" Phone",RE="Nokia",m0="Ouya",ZM="Generic",aD=ZM+" "+Os.toLowerCase(),eP=ZM+" "+Ud.toLowerCase(),v0="Konqueror",Sr="(\\d+(\\.\\d+)?)",my=new RegExp("Version/"+Sr),lD=new RegExp(mc,"i"),cD=new RegExp(Hd+" \\w+","i"),uD=new RegExp(zd+" \\w+","i"),lb=new RegExp($c+"|PlayBook|BB10","i"),dD={"NT3.51":"NT 3.11","NT4.0":"NT 4.0","5.0":"2000",5.1:"XP",5.2:"XP","6.0":"Vista",6.1:"7",6.2:"8",6.3:"8.1",6.4:"10","10.0":"10"},fD=function(e,t){return t&&ct(t,UM)||function(n){return ct(n,Mm)&&!ct(n,Xa)&&!ct(n,Pi)}(e)},ME=function(e,t){return t=t||"",ct(e," OPR/")&&ct(e,"Mini")?oD:ct(e," OPR/")?ob:lb.test(e)?$c:ct(e,"IE"+Os)||ct(e,"WPDesktop")?KM:ct(e,GM)?qM:ct(e,ab)||ct(e,"Edg/")?YM:ct(e,"FBIOS")?"Facebook "+Os:ct(e,Xa)?Xa:ct(e,"CriOS")?WM:ct(e,"UCWEB")||ct(e,"UCBrowser")?"UC Browser":ct(e,"FxiOS")?QM:ct(e,Pi)?JM:ct(e.toLowerCase(),v0.toLowerCase())?v0:fD(e,t)?ct(e,Os)?XM:Mm:ct(e,gc)?gc:ct(e,"MSIE")||ct(e,"Trident/")?ib:ct(e,"Gecko")?gc:""},hD=(se(er={},KM,[new RegExp("rv:"+Sr)]),se(er,YM,[new RegExp(ab+"?\\/"+Sr)]),se(er,Xa,[new RegExp(Xa+"/"+Sr)]),se(er,WM,[new RegExp("CriOS\\/"+Sr)]),se(er,"UC Browser",[new RegExp("(UCBrowser|UCWEB)\\/"+Sr)]),se(er,Mm,[my]),se(er,XM,[my]),se(er,ob,[new RegExp("(Opera|OPR)\\/"+Sr)]),se(er,gc,[new RegExp(gc+"\\/"+Sr)]),se(er,QM,[new RegExp("FxiOS\\/"+Sr)]),se(er,v0,[new RegExp("Konqueror[:/]?"+Sr,"i")]),se(er,$c,[new RegExp($c+" "+Sr),my]),se(er,JM,[new RegExp("android\\s"+Sr)]),se(er,qM,[new RegExp(GM+"\\/"+Sr)]),se(er,ib,[new RegExp("(rv:|MSIE )"+Sr)]),se(er,"Mozilla",[new RegExp("rv:"+Sr)]),er),PE=[[new RegExp(mc+"; "+mc+" (.*?)[);]","i"),function(e){return[mc,e&&e[1]||""]}],[new RegExp(zd,"i"),[zd,""]],[new RegExp(Hd,"i"),[Hd,""]],[lb,[$c,""]],[new RegExp(Zu,"i"),function(e,t){if(/Phone/.test(t)||/WPDesktop/.test(t))return[g0,""];if(new RegExp(Os).test(t)&&!/IEMobile\b/.test(t))return[Zu+" "+Os,""];var n=/Windows NT ([0-9.]+)/i.exec(t);if(n&&n[1]){var r=n[1],s=dD[r]||"";return/arm/i.test(t)&&(s="RT"),[Zu,s]}return[Zu,""]}],[/((iPhone|iPad|iPod).*?OS (\d+)_(\d+)_?(\d+)?|iPhone)/,function(e){if(e&&e[3]){var t=[e[3],e[4],e[5]||"0"];return[ig,t.join(".")]}return[ig,""]}],[/(watch.*\/(\d+\.\d+\.\d+)|watch os,(\d+\.\d+),)/i,function(e){var t="";return e&&e.length>=3&&(t=He(e[2])?e[3]:e[2]),["watchOS",t]}],[new RegExp("("+Pi+" (\\d+)\\.(\\d+)\\.?(\\d+)?|"+Pi+")","i"),function(e){if(e&&e[2]){var t=[e[2],e[3],e[4]||"0"];return[Pi,t.join(".")]}return[Pi,""]}],[/Mac OS X (\d+)[_.](\d+)[_.]?(\d+)?/i,function(e){var t=["Mac OS X",""];if(e&&e[1]){var n=[e[1],e[2],e[3]||"0"];t[1]=n.join(".")}return t}],[/Mac/i,["Mac OS X",""]],[/CrOS/,[iD,""]],[/Linux|debian/i,["Linux",""]]],jE=function(e){return uD.test(e)?zd:cD.test(e)?Hd:lD.test(e)?mc:new RegExp(m0,"i").test(e)?m0:new RegExp("("+g0+"|WPDesktop)","i").test(e)?g0:/iPad/.test(e)?FM:/iPod/.test(e)?"iPod Touch":/iPhone/.test(e)?"iPhone":/(watch)(?: ?os[,/]|\d,\d\/)[\d.]+/i.test(e)?zM:lb.test(e)?$c:/(kobo)\s(ereader|touch)/i.test(e)?"Kobo":new RegExp(RE,"i").test(e)?RE:/(kf[a-z]{2}wi|aeo[c-r]{2})( bui|\))/i.test(e)||/(kf[a-z]+)( bui|\)).+silk\//i.test(e)?"Kindle Fire":/(Android|ZTE)/i.test(e)?!new RegExp(Os).test(e)||/(9138B|TB782B|Nexus [97]|pixel c|HUAWEISHT|BTV|noble nook|smart ultra 6)/i.test(e)?/pixel[\daxl ]{1,6}/i.test(e)&&!/pixel c/i.test(e)||/(huaweimed-al00|tah-|APA|SM-G92|i980|zte|U304AA)/i.test(e)||/lmy47v/i.test(e)&&!/QTAQZ3/i.test(e)?Pi:DM:Pi:new RegExp("(pda|"+Os+")","i").test(e)?aD:new RegExp(Ud,"i").test(e)&&!new RegExp(Ud+" pc","i").test(e)?eP:""},yh="https?://(.*)",pD=["utm_source","utm_medium","utm_campaign","utm_content","utm_term","gclid","gad_source","gclsrc","dclid","gbraid","wbraid","fbclid","msclkid","twclid","li_fat_id","mc_cid","igshid","ttclid"],qn={campaignParams:function(e){var t=pD.concat(e||[]),n={};return Vt(t,function(r){var s=we?TE(we.URL,r):"";s.length&&(n[r]=s)}),n},searchEngine:function(){var e=we==null?void 0:we.referrer;return e?e.search(yh+"google.([^/?]*)")===0?"google":e.search(yh+"bing.com")===0?"bing":e.search(yh+"yahoo.com")===0?"yahoo":e.search(yh+"duckduckgo.com")===0?"duckduckgo":null:null},searchInfo:function(){var e=qn.searchEngine(),t=e!="yahoo"?"q":"p",n={};if(!li(e)){n.$search_engine=e;var r=we?TE(we.referrer,t):"";r.length&&(n.ph_keyword=r)}return n},browser:ME,browserVersion:function(e,t){var n=ME(e,t),r=hD[n];if(He(r))return null;for(var s=0;s<r.length;s++){var i=r[s],o=e.match(i);if(o)return parseFloat(o[o.length-2])}return null},browserLanguage:function(){return navigator.language||navigator.userLanguage},os:function(e){for(var t=0;t<PE.length;t++){var n=Er(PE[t],2),r=n[0],s=n[1],i=r.exec(e),o=i&&(ai(s)?s(i,e):s);if(o)return o}return["",""]},device:jE,deviceType:function(e){var t=jE(e);return t===FM||t===DM||t==="Kobo"||t==="Kindle Fire"||t===eP?Ud:t===zd||t===mc||t===Hd||t===m0?"Console":t===zM?"Wearable":t?Os:"Desktop"},referrer:function(){return(we==null?void 0:we.referrer)||"$direct"},referringDomain:function(){var e;return we!=null&&we.referrer&&((e=NM(we.referrer))===null||e===void 0?void 0:e.host)||"$direct"},referrerInfo:function(){return{$referrer:this.referrer(),$referring_domain:this.referringDomain()}},properties:function(){if(!vn)return{};var e=Er(qn.os(vn),2),t=e[0],n=e[1];return Gn(o0({$os:t,$os_version:n,$browser:qn.browser(vn,navigator.vendor),$device:qn.device(vn),$device_type:qn.deviceType(vn)}),{$current_url:ks==null?void 0:ks.href,$host:ks==null?void 0:ks.host,$pathname:ks==null?void 0:ks.pathname,$raw_user_agent:vn.length>1e3?vn.substring(0,997)+"...":vn,$browser_version:qn.browserVersion(vn,navigator.vendor),$browser_language:qn.browserLanguage(),$screen_height:X==null?void 0:X.screen.height,$screen_width:X==null?void 0:X.screen.width,$viewport_height:X==null?void 0:X.innerHeight,$viewport_width:X==null?void 0:X.innerWidth,$lib:"web",$lib_version:$a.LIB_VERSION,$insert_id:Math.random().toString(36).substring(2,10)+Math.random().toString(36).substring(2,10),$time:LM()/1e3})},people_properties:function(){if(!vn)return{};var e=Er(qn.os(vn),2),t=e[0],n=e[1];return Gn(o0({$os:t,$os_version:n,$browser:qn.browser(vn,navigator.vendor)}),{$browser_version:qn.browserVersion(vn,navigator.vendor)})}},gD=["cookie","localstorage","localstorage+cookie","sessionstorage","memory"],vy=function(){function e(t){Ft(this,e),this.config=t,this.props={},this.campaign_params_saved=!1,this.name=function(n){var r="";return n.token&&(r=n.token.replace(/\+/g,"PL").replace(/\//g,"SL").replace(/=/g,"EQ")),n.persistence_name?"ph_"+n.persistence_name:"ph_"+r+"_posthog"}(t),this.storage=this.buildStorage(t),this.load(),this.update_config(t,t),this.save()}return Ut(e,[{key:"buildStorage",value:function(t){gD.indexOf(t.persistence.toLowerCase())===-1&&(pe.critical("Unknown persistence type "+t.persistence+"; falling back to localStorage+cookie"),t.persistence="localStorage+cookie");var n=t.persistence.toLowerCase();return n==="localstorage"&&In.is_supported()?In:n==="localstorage+cookie"&&Xu.is_supported()?Xu:n==="sessionstorage"&&rr.is_supported()?rr:n==="memory"?tD:n==="cookie"?Li:Xu.is_supported()?Xu:Li}},{key:"properties",value:function(){var t={};return Vt(this.props,function(n,r){if(r===ql&&Mi(n))for(var s=Object.keys(n),i=0;i<s.length;i++)t["$feature/".concat(s[i])]=n[s[i]];else a=r,l=!1,(li(o=GN)?l:gE&&o.indexOf===gE?o.indexOf(a)!=-1:(Vt(o,function(c){if(l||(l=c===a))return eg}),l))||(t[r]=n);var o,a,l}),t}},{key:"load",value:function(){if(!this.disabled){var t=this.storage.parse(this.name);t&&(this.props=Gn({},t))}}},{key:"save",value:function(){this.disabled||this.storage.set(this.name,this.props,this.expire_days,this.cross_subdomain,this.secure)}},{key:"remove",value:function(){this.storage.remove(this.name,!1),this.storage.remove(this.name,!0)}},{key:"clear",value:function(){this.remove(),this.props={}}},{key:"register_once",value:function(t,n,r){var s=this;if(Mi(t)){He(n)&&(n="None"),this.expire_days=He(r)?this.default_expiry:r;var i=!1;if(Vt(t,function(o,a){s.props.hasOwnProperty(a)&&s.props[a]!==n||(s.props[a]=o,i=!0)}),i)return this.save(),!0}return!1}},{key:"register",value:function(t,n){var r=this;if(Mi(t)){this.expire_days=He(n)?this.default_expiry:n;var s=!1;if(Vt(t,function(i,o){t.hasOwnProperty(o)&&r.props[o]!==i&&(r.props[o]=i,s=!0)}),s)return this.save(),!0}return!1}},{key:"unregister",value:function(t){t in this.props&&(delete this.props[t],this.save())}},{key:"update_campaign_params",value:function(){this.campaign_params_saved||(this.register(qn.campaignParams(this.config.custom_campaign_params)),this.campaign_params_saved=!0)}},{key:"set_initial_campaign_params",value:function(){this.register_once(se({},h0,qn.campaignParams(this.config.custom_campaign_params)),void 0)}},{key:"update_search_keyword",value:function(){this.register(qn.searchInfo())}},{key:"update_referrer_info",value:function(){this.register(qn.referrerInfo())}},{key:"set_initial_referrer_info",value:function(){this.register_once(se({},p0,qn.referrerInfo()),void 0)}},{key:"get_referrer_info",value:function(){return o0({$referrer:this.props.$referrer,$referring_domain:this.props.$referring_domain})}},{key:"get_initial_props",value:function(){var t=this,n={};return Vt([p0,h0],function(r){var s=t.props[r];s&&Vt(s,function(i,o){var a;n["$initial_"+(a=o,a.replace(/^\$/,""))]=i})}),n}},{key:"safe_merge",value:function(t){return Vt(this.props,function(n,r){r in t||(t[r]=n)}),t}},{key:"update_config",value:function(t,n){if(this.default_expiry=this.expire_days=t.cookie_expiration,this.set_disabled(t.disable_persistence),this.set_cross_subdomain(t.cross_subdomain_cookie),this.set_secure(t.secure_cookie),t.persistence!==n.persistence){var r=this.buildStorage(t),s=this.props;this.clear(),this.storage=r,this.props=s,this.save()}}},{key:"set_disabled",value:function(t){this.disabled=t,this.disabled?this.remove():this.save()}},{key:"set_cross_subdomain",value:function(t){t!==this.cross_subdomain&&(this.cross_subdomain=t,this.remove(),this.save())}},{key:"get_cross_subdomain",value:function(){return!!this.cross_subdomain}},{key:"set_secure",value:function(t){t!==this.secure&&(this.secure=t,this.remove(),this.save())}},{key:"set_event_timer",value:function(t,n){var r=this.props[Ju]||{};r[t]=n,this.props[Ju]=r,this.save()}},{key:"remove_event_timer",value:function(t){var n=(this.props[Ju]||{})[t];return He(n)||(delete this.props[Ju][t],this.save()),n}},{key:"get_property",value:function(t){return this.props[t]}},{key:"set_property",value:function(t,n){this.props[t]=n,this.save()}}]),e}(),mD=2,vD=4,yD=Ut(function e(t){var n,r,s=this,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};Ft(this,e),se(this,"bucketSize",100),se(this,"refillRate",10),se(this,"mutationBuckets",{}),se(this,"loggedTracker",{}),se(this,"refillBuckets",function(){Object.keys(s.mutationBuckets).forEach(function(o){s.mutationBuckets[o]=s.mutationBuckets[o]+s.refillRate,s.mutationBuckets[o]>=s.bucketSize&&delete s.mutationBuckets[o]})}),se(this,"getNodeOrRelevantParent",function(o){var a=s.rrweb.mirror.getNode(o);if((a==null?void 0:a.nodeName)!=="svg"&&a instanceof Element){var l=a.closest("svg");if(l)return[s.rrweb.mirror.getId(l),l]}return[o,a]}),se(this,"numberOfChanges",function(o){var a,l,c,u,d,h,p,g;return((a=(l=o.removes)===null||l===void 0?void 0:l.length)!==null&&a!==void 0?a:0)+((c=(u=o.attributes)===null||u===void 0?void 0:u.length)!==null&&c!==void 0?c:0)+((d=(h=o.texts)===null||h===void 0?void 0:h.length)!==null&&d!==void 0?d:0)+((p=(g=o.adds)===null||g===void 0?void 0:g.length)!==null&&p!==void 0?p:0)}),se(this,"throttleMutations",function(o){if(o.type!==3||o.data.source!==0)return o;var a=o.data,l=s.numberOfChanges(a);a.attributes&&(a.attributes=a.attributes.filter(function(u){var d,h,p,g=Er(s.getNodeOrRelevantParent(u.id),2),m=g[0],_=g[1];return s.mutationBuckets[m]===0?!1:(s.mutationBuckets[m]=(d=s.mutationBuckets[m])!==null&&d!==void 0?d:s.bucketSize,s.mutationBuckets[m]=Math.max(s.mutationBuckets[m]-1,0),s.mutationBuckets[m]===0&&(s.loggedTracker[m]||(s.loggedTracker[m]=!0,(h=(p=s.options).onBlockedNode)===null||h===void 0||h.call(p,m,_))),u)}));var c=s.numberOfChanges(a);return c!==0||l===c?o:void 0}),this.rrweb=t,this.options=i,this.refillRate=(n=this.options.refillRate)!==null&&n!==void 0?n:this.refillRate,this.bucketSize=(r=this.options.bucketSize)!==null&&r!==void 0?r:this.bucketSize,setInterval(function(){s.refillBuckets()},1e3)}),xp=function(e){return e[e.DomContentLoaded=0]="DomContentLoaded",e[e.Load=1]="Load",e[e.FullSnapshot=2]="FullSnapshot",e[e.IncrementalSnapshot=3]="IncrementalSnapshot",e[e.Meta=4]="Meta",e[e.Custom=5]="Custom",e[e.Plugin=6]="Plugin",e}(xp||{});function cb(e){return e?Rm(e).split(/\s+/):[]}function og(e){var t="";switch(Nd(e.className)){case"string":t=e.className;break;case"object":t=("baseVal"in e.className?e.className.baseVal:null)||e.getAttribute("class")||"";break;default:t=""}return cb(t)}function tP(e){return Wo(e)?null:Rm(e).split(/(\s+)/).filter(function(t){return vc(t)}).join("").replace(/[\r\n]/g," ").replace(/[ ]+/g," ").substring(0,255)}function ag(e){var t="";return A0(e)&&!iP(e)&&e.childNodes&&e.childNodes.length&&Vt(e.childNodes,function(n){var r;nP(n)&&n.textContent&&(t+=(r=tP(n.textContent))!==null&&r!==void 0?r:"")}),Rm(t)}function ub(e){return!!e&&e.nodeType===1}function Ko(e,t){return!!e&&!!e.tagName&&e.tagName.toLowerCase()===t.toLowerCase()}function nP(e){return!!e&&e.nodeType===3}function rP(e){return!!e&&e.nodeType===11}var y0=["a","button","form","input","select","textarea","label"];function sP(e){var t=e.parentNode;return!(!t||!ub(t))&&t}function AD(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0,s=arguments.length>4?arguments[4]:void 0;if(!X||!e||Ko(e,"html")||!ub(e))return!1;if(n!=null&&n.url_allowlist){var i=X.location.href,o=n.url_allowlist;if(o&&!o.some(function(m){return i.match(m)}))return!1}if(n!=null&&n.dom_event_allowlist){var a=n.dom_event_allowlist;if(a&&!a.some(function(m){return t.type===m}))return!1}for(var l=!1,c=[e],u=!0,d=e;d.parentNode&&!Ko(d,"body");)if(rP(d.parentNode))c.push(d.parentNode.host),d=d.parentNode.host;else{if(!(u=sP(d)))break;if(r||y0.indexOf(u.tagName.toLowerCase())>-1)l=!0;else{var h=X.getComputedStyle(u);h&&h.getPropertyValue("cursor")==="pointer"&&(l=!0)}c.push(u),d=u}if(!function(m,_){var v=_==null?void 0:_.element_allowlist;if(He(v))return!0;var y,b=hi(m);try{var w=function(){var x=y.value;if(v.some(function(E){return x.tagName.toLowerCase()===E}))return{v:!0}};for(b.s();!(y=b.n()).done;){var S=w();if(Nd(S)==="object")return S.v}}catch(x){b.e(x)}finally{b.f()}return!1}(c,n)||!function(m,_){var v=_==null?void 0:_.css_selector_allowlist;if(He(v))return!0;var y,b=hi(m);try{var w=function(){var x=y.value;if(v.some(function(E){return x.matches(E)}))return{v:!0}};for(b.s();!(y=b.n()).done;){var S=w();if(Nd(S)==="object")return S.v}}catch(x){b.e(x)}finally{b.f()}return!1}(c,n))return!1;var p=X.getComputedStyle(e);if(p&&p.getPropertyValue("cursor")==="pointer"&&t.type==="click")return!0;var g=e.tagName.toLowerCase();switch(g){case"html":return!1;case"form":return(s||["submit"]).indexOf(t.type)>=0;case"input":case"select":case"textarea":return(s||["change","click"]).indexOf(t.type)>=0;default:return l?(s||["click"]).indexOf(t.type)>=0:(s||["click"]).indexOf(t.type)>=0&&(y0.indexOf(g)>-1||e.getAttribute("contenteditable")==="true")}}function A0(e){for(var t=e;t.parentNode&&!Ko(t,"body");t=t.parentNode){var n=og(t);if(ct(n,"ph-sensitive")||ct(n,"ph-no-capture"))return!1}if(ct(og(e),"ph-include"))return!0;var r=e.type||"";if(vr(r))switch(r.toLowerCase()){case"hidden":case"password":return!1}var s=e.name||e.id||"";return!(vr(s)&&/^cc|cardnum|ccnum|creditcard|csc|cvc|cvv|exp|pass|pwd|routing|seccode|securitycode|securitynum|socialsec|socsec|ssn/i.test(s.replace(/[^a-zA-Z0-9]/g,"")))}function iP(e){return!!(Ko(e,"input")&&!["button","checkbox","submit","reset"].includes(e.type)||Ko(e,"select")||Ko(e,"textarea")||e.getAttribute("contenteditable")==="true")}var oP="(4[0-9]{12}(?:[0-9]{3})?)|(5[1-5][0-9]{14})|(6(?:011|5[0-9]{2})[0-9]{12})|(3[47][0-9]{13})|(3(?:0[0-5]|[68][0-9])[0-9]{11})|((?:2131|1800|35[0-9]{3})[0-9]{11})",_D=new RegExp("^(?:".concat(oP,")$")),bD=new RegExp(oP),aP="\\d{3}-?\\d{2}-?\\d{4}",SD=new RegExp("^(".concat(aP,")$")),wD=new RegExp("(".concat(aP,")"));function vc(e){var t=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];return!(Wo(e)||vr(e)&&(e=Rm(e),(t?_D:bD).test((e||"").replace(/[- ]/g,""))||(t?SD:wD).test(e)))}function OE(e){var t=ag(e);return vc(t="".concat(t," ").concat(lP(e)).trim())?t:""}function lP(e){var t="";return e&&e.childNodes&&e.childNodes.length&&Vt(e.childNodes,function(n){var r;if(n&&((r=n.tagName)===null||r===void 0?void 0:r.toLowerCase())==="span")try{var s=ag(n);t="".concat(t," ").concat(s).trim(),n.childNodes&&n.childNodes.length&&(t="".concat(t," ").concat(lP(n)).trim())}catch(i){pe.error(i)}}),t}function xD(e){return function(t){var n=t.map(function(r){var s,i,o="";if(r.tag_name&&(o+=r.tag_name),r.attr_class){r.attr_class.sort();var a,l=hi(r.attr_class);try{for(l.s();!(a=l.n()).done;){var c=a.value;o+=".".concat(c.replace(/"/g,""))}}catch(h){l.e(h)}finally{l.f()}}var u=Ce(Ce(Ce(Ce({},r.text?{text:r.text}:{}),{},{"nth-child":(s=r.nth_child)!==null&&s!==void 0?s:0,"nth-of-type":(i=r.nth_of_type)!==null&&i!==void 0?i:0},r.href?{href:r.href}:{}),r.attr_id?{attr_id:r.attr_id}:{}),r.attributes),d={};return wp(u).sort(function(h,p){var g=Er(h,1)[0],m=Er(p,1)[0];return g.localeCompare(m)}).forEach(function(h){var p=Er(h,2),g=p[0],m=p[1];return d[VE(g.toString())]=VE(m.toString())}),o+=":",o+=wp(u).map(function(h){var p=Er(h,2),g=p[0],m=p[1];return"".concat(g,'="').concat(m,'"')}).join("")});return n.join(";")}(function(t){return t.map(function(n){var r,s,i={text:(r=n.$el_text)===null||r===void 0?void 0:r.slice(0,400),tag_name:n.tag_name,href:(s=n.attr__href)===null||s===void 0?void 0:s.slice(0,2048),attr_class:ED(n),attr_id:n.attr__id,nth_child:n.nth_child,nth_of_type:n.nth_of_type,attributes:{}};return wp(n).filter(function(o){return Er(o,1)[0].indexOf("attr__")===0}).forEach(function(o){var a=Er(o,2),l=a[0],c=a[1];return i.attributes[l]=c}),i})}(e))}function VE(e){return e.replace(/"|\\"/g,'\\"')}function ED(e){var t=e.attr__class;return t?Bn(t)?t:cb(t):void 0}var _0="[SessionRecording]",yy={initiatorTypes:["audio","beacon","body","css","early-hint","embed","fetch","frame","iframe","icon","image","img","input","link","navigation","object","ping","script","track","video","xmlhttprequest"],maskRequestFn:function(e){return e},recordHeaders:!1,recordBody:!1,recordInitialRequests:!1,recordPerformance:!1,performanceEntryTypeToObserve:["first-input","navigation","paint","resource"],payloadSizeLimitBytes:1e6},kD=["authorization","x-forwarded-for","authorization","cookie","set-cookie","x-api-key","x-real-ip","remote-addr","forwarded","proxy-authorization","x-csrf-token","x-csrftoken","x-xsrf-token"],CD=["password","secret","passwd","api_key","apikey","auth","credentials","mysql_pwd","privatekey","private_key","token"],ID=["/s/","/e/","/i/"];function LE(e,t,n,r){if(Wo(e))return e;var s=(t==null?void 0:t["content-length"])||function(i){return new Blob([i]).size}(e);return vr(s)&&(s=parseInt(s)),s>n?_0+" ".concat(r," body too large to record (").concat(s," bytes)"):e}function $E(e,t){if(Wo(e))return e;var n=e;return vc(n,!1)||(n=_0+" "+t+" body redacted"),Vt(CD,function(r){var s,i;(s=n)!==null&&s!==void 0&&s.length&&((i=n)===null||i===void 0?void 0:i.indexOf(r))!==-1&&(n=_0+" "+t+" body redacted as might contain: "+r)}),n}var TD=function(e,t){var n,r,s,i={payloadSizeLimitBytes:yy.payloadSizeLimitBytes,performanceEntryTypeToObserve:Lc(yy.performanceEntryTypeToObserve)},o=e.session_recording.recordHeaders!==!1&&t.recordHeaders,a=e.session_recording.recordBody!==!1&&t.recordBody,l=e.capture_performance!==!1&&t.recordPerformance,c=(n=i,s=Math.min(1e6,(r=n.payloadSizeLimitBytes)!==null&&r!==void 0?r:1e6),function(h){return h!=null&&h.requestBody&&(h.requestBody=LE(h.requestBody,h.requestHeaders,s,"Request")),h!=null&&h.responseBody&&(h.responseBody=LE(h.responseBody,h.responseHeaders,s,"Response")),h}),u=function(h){return c(function(m){var _=NM(m.name);if(!(_&&_.pathname&&ID.some(function(v){return _.pathname.indexOf(v)===0})))return m}((p=h,Vt(Object.keys((g=p.requestHeaders)!==null&&g!==void 0?g:{}),function(m){var _;kD.includes(m.toLowerCase())&&((_=p.requestHeaders)===null||_===void 0||delete _[m])}),p)));var p,g},d=ai(e.session_recording.maskNetworkRequestFn);return d&&ai(e.session_recording.maskCapturedNetworkRequestFn)&&pe.warn("Both `maskNetworkRequestFn` and `maskCapturedNetworkRequestFn` are defined. `maskNetworkRequestFn` will be ignored."),d&&(e.session_recording.maskCapturedNetworkRequestFn=function(h){var p=e.session_recording.maskNetworkRequestFn({url:h.name});return Ce(Ce({},h),{},{name:p==null?void 0:p.url})}),i.maskRequestFn=ai(e.session_recording.maskCapturedNetworkRequestFn)?function(h){var p,g,m,_=u(h);return _&&(p=(g=(m=e.session_recording).maskCapturedNetworkRequestFn)===null||g===void 0?void 0:g.call(m,_))!==null&&p!==void 0?p:void 0}:function(h){return function(p){if(!He(p))return p.requestBody=$E(p.requestBody,"Request"),p.responseBody=$E(p.responseBody,"Response"),p}(u(h))},Ce(Ce(Ce({},yy),i),{},{recordHeaders:o,recordBody:a,recordPerformance:l,recordInitialRequests:l})},RD="__ph_opt_in_out_";function MD(e,t){dP(!0,e,t)}function PD(e,t){dP(!1,e,t)}function jD(e,t){return uP(e,t)==="1"}function cP(e,t){return!!function(n){if(n&&n.respectDnt){var r=n&&n.window||X,s=r==null?void 0:r.navigator,i=!1;return Vt([s==null?void 0:s.doNotTrack,s.msDoNotTrack,r.doNotTrack],function(o){ct([!0,1,"1","yes"],o)&&(i=!0)}),i}return!1}(t)||uP(e,t)==="0"}function OD(e,t){db(t=t||{}).remove(fb(e,t),!!t.crossSubdomainCookie)}function db(e){return(e=e||{}).persistenceType==="localStorage"?In:e.persistenceType==="localStorage+cookie"?Xu:Li}function fb(e,t){return((t=t||{}).persistencePrefix||RD)+e}function uP(e,t){return db(t).get(fb(e,t))}function dP(e,t,n){vr(t)&&t.length?(db(n=n||{}).set(fb(t,n),e?1:0,ei(n.cookieExpiration)?n.cookieExpiration:null,n.crossSubdomainCookie,n.secureCookie),n.capture&&e&&n.capture(n.captureEventName||"$opt_in",n.captureProperties||{},{send_instantly:!0})):pe.error("gdpr."+(e?"optIn":"optOut")+" called with an invalid token")}function fP(e){var t=!1;try{var n=e.config.token,r=e.config.respect_dnt,s=e.config.opt_out_capturing_persistence_type,i=e.config.opt_out_capturing_cookie_prefix||void 0,o=e.config.window;n&&(t=cP(n,{respectDnt:r,persistenceType:s,persistencePrefix:i,window:o}))}catch(a){pe.error("Unexpected error when checking capturing opt-out status: "+a)}return t}var Si,hP=3e5,BE=hP;(function(e){e[e.Mutation=0]="Mutation",e[e.MouseMove=1]="MouseMove",e[e.MouseInteraction=2]="MouseInteraction",e[e.Scroll=3]="Scroll",e[e.ViewportResize=4]="ViewportResize",e[e.Input=5]="Input",e[e.TouchMove=6]="TouchMove",e[e.MediaInteraction=7]="MediaInteraction",e[e.StyleSheetRule=8]="StyleSheetRule",e[e.CanvasMutation=9]="CanvasMutation",e[e.Font=10]="Font",e[e.Log=11]="Log",e[e.Drag=12]="Drag",e[e.StyleDeclaration=13]="StyleDeclaration",e[e.Selection=14]="Selection",e[e.AdoptedStyleSheet=15]="AdoptedStyleSheet"})(Si||(Si={}));var VD=[Si.MouseMove,Si.MouseInteraction,Si.Scroll,Si.ViewportResize,Si.Input,Si.TouchMove,Si.MediaInteraction,Si.Drag],NE=function(e){return{rrwebMethod:e,enqueuedAt:Date.now(),attempt:1}},Yr="[SessionRecording]",LD=function(){function e(t){var n=this;if(Ft(this,e),se(this,"queuedRRWebEvents",[]),se(this,"isIdle",!1),se(this,"_linkedFlagSeen",!1),se(this,"_lastActivityTimestamp",Date.now()),se(this,"windowId",null),se(this,"sessionId",null),se(this,"_linkedFlag",null),se(this,"_forceAllowLocalhostNetworkCapture",!1),se(this,"_samplingSessionListener",null),this.instance=t,this._captureStarted=!1,this._endpoint="/s/",this.stopRrweb=void 0,this.receivedDecide=!1,X==null||X.addEventListener("beforeunload",function(){n._flushBuffer()}),X==null||X.addEventListener("offline",function(){n._tryAddCustomEvent("browser offline",{})}),X==null||X.addEventListener("online",function(){n._tryAddCustomEvent("browser online",{})}),X==null||X.addEventListener("visibilitychange",function(){if(we!=null&&we.visibilityState){var r="window "+we.visibilityState;n._tryAddCustomEvent(r,{})}}),!this.instance.sessionManager)throw pe.error(Yr+" started without valid sessionManager"),new Error(Yr+" started without valid sessionManager. This is a bug.");this.buffer=this.clearBuffer(),this._setupSampling()}return Ut(e,[{key:"rrwebRecord",get:function(){var t;return Xr==null||(t=Xr.rrweb)===null||t===void 0?void 0:t.record}},{key:"started",get:function(){return this._captureStarted}},{key:"sessionManager",get:function(){if(!this.instance.sessionManager)throw pe.error(Yr+" started without valid sessionManager"),new Error(Yr+" started without valid sessionManager. This is a bug.");return this.instance.sessionManager}},{key:"isSampled",get:function(){var t=this.instance.get_property(dd);return Sp(t)?t:null}},{key:"sessionDuration",get:function(){var t,n,r=(t=this.buffer)===null||t===void 0?void 0:t.data[((n=this.buffer)===null||n===void 0?void 0:n.data.length)-1],s=this.sessionManager.checkAndGetSessionAndWindowId(!0).sessionStartTimestamp;return r?r.timestamp-s:null}},{key:"isRecordingEnabled",get:function(){var t=!!this.instance.get_property(l0),n=!this.instance.config.disable_session_recording;return X&&t&&n}},{key:"isConsoleLogCaptureEnabled",get:function(){var t=!!this.instance.get_property(_E),n=this.instance.config.enable_recording_console_log;return n??t}},{key:"canvasRecording",get:function(){var t=this.instance.get_property(SE);return t&&t.fps&&t.quality?{enabled:t.enabled,fps:t.fps,quality:t.quality}:void 0}},{key:"networkPayloadCapture",get:function(){var t,n,r=this.instance.get_property(bE),s={recordHeaders:(t=this.instance.config.session_recording)===null||t===void 0?void 0:t.recordHeaders,recordBody:(n=this.instance.config.session_recording)===null||n===void 0?void 0:n.recordBody},i=(s==null?void 0:s.recordHeaders)||(r==null?void 0:r.recordHeaders),o=(s==null?void 0:s.recordBody)||(r==null?void 0:r.recordBody),a=this.instance.config.capture_performance||(r==null?void 0:r.capturePerformance);return i||o||a?{recordHeaders:i,recordBody:o,recordPerformance:a}:void 0}},{key:"sampleRate",get:function(){var t=this.instance.get_property(wE);return ei(t)?t:null}},{key:"minimumDuration",get:function(){var t=this.instance.get_property(xE);return ei(t)?t:null}},{key:"status",get:function(){return this.receivedDecide?this.isRecordingEnabled?Wo(this._linkedFlag)||this._linkedFlagSeen?Sp(this.isSampled)?this.isSampled?"sampled":"disabled":"active":"buffering":"disabled":"buffering"}},{key:"startIfEnabledOrStop",value:function(){this.isRecordingEnabled?(this._startCapture(),pe.info(Yr+" started")):(this.stopRecording(),this.clearBuffer())}},{key:"stopRecording",value:function(){this._captureStarted&&this.stopRrweb&&(this.stopRrweb(),this.stopRrweb=void 0,this._captureStarted=!1,pe.info(Yr+" stopped"))}},{key:"makeSamplingDecision",value:function(t){var n,r=this.sessionId!==t,s=this.sampleRate;if(ei(s)){var i,o=this.isSampled,a=r||!Sp(o);a?i=Math.random()<s:i=o,!i&&a&&pe.warn(Yr+" Sample rate (".concat(s,") has determined that this sessionId (").concat(t,") will not be sent to the server.")),this._tryAddCustomEvent("samplingDecisionMade",{sampleRate:s}),(n=this.instance.persistence)===null||n===void 0||n.register(se({},dd,i))}else{var l;(l=this.instance.persistence)===null||l===void 0||l.register(se({},dd,null))}}},{key:"afterDecideResponse",value:function(t){var n,r,s,i=this;if(this._persistDecideResponse(t),this._linkedFlag=((n=t.sessionRecording)===null||n===void 0?void 0:n.linkedFlag)||null,(r=t.sessionRecording)!==null&&r!==void 0&&r.endpoint&&(this._endpoint=(s=t.sessionRecording)===null||s===void 0?void 0:s.endpoint),this._setupSampling(),!Wo(this._linkedFlag)){var o=vr(this._linkedFlag)?this._linkedFlag:this._linkedFlag.flag,a=vr(this._linkedFlag)?null:this._linkedFlag.variant;this.instance.onFeatureFlags(function(l,c){var u=Mi(c)&&o in c,d=a?c[o]===a:u;if(d){var h={linkedFlag:o,linkedVariant:a},p="linked flag matched";pe.info(Yr+" "+p,h),i._tryAddCustomEvent(p,h)}i._linkedFlagSeen=d})}this.receivedDecide=!0,this.startIfEnabledOrStop()}},{key:"_setupSampling",value:function(){var t=this;ei(this.sampleRate)&&li(this._samplingSessionListener)&&(this._samplingSessionListener=this.sessionManager.onSessionId(function(n){t.makeSamplingDecision(n)}))}},{key:"_persistDecideResponse",value:function(t){if(this.instance.persistence){var n=this.instance.persistence,r=function(){var s,i,o,a,l,c,u,d,h=(s=t.sessionRecording)===null||s===void 0?void 0:s.sampleRate,p=Wo(h)?null:parseFloat(h),g=(i=t.sessionRecording)===null||i===void 0?void 0:i.minimumDurationMilliseconds;n.register((se(d={},l0,!!t.sessionRecording),se(d,_E,(o=t.sessionRecording)===null||o===void 0?void 0:o.consoleLogRecordingEnabled),se(d,bE,Ce({capturePerformance:t.capturePerformance},(a=t.sessionRecording)===null||a===void 0?void 0:a.networkPayloadCapture)),se(d,SE,{enabled:(l=t.sessionRecording)===null||l===void 0?void 0:l.recordCanvas,fps:(c=t.sessionRecording)===null||c===void 0?void 0:c.canvasFps,quality:(u=t.sessionRecording)===null||u===void 0?void 0:u.canvasQuality}),se(d,wE,p),se(d,xE,He(g)?null:g),d))};r(),this.sessionManager.onSessionId(r)}}},{key:"log",value:function(t){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"log";(n=this.instance.sessionRecording)===null||n===void 0||n.onRRwebEmit({type:6,data:{plugin:"rrweb/console@1",payload:{level:r,trace:[],payload:[JSON.stringify(t)]}},timestamp:LM()})}},{key:"_startCapture",value:function(){var t=this;He(Object.assign)||this._captureStarted||this.instance.config.disable_session_recording||fP(this.instance)||(this._captureStarted=!0,this.sessionManager.checkAndGetSessionAndWindowId(),this.rrwebRecord?this._onScriptLoaded():Fd(this.instance.requestRouter.endpointFor("assets","/static/recorder.js?v=".concat($a.LIB_VERSION)),function(n){if(n)return pe.error(Yr+" could not load recorder.js",n);t._onScriptLoaded()}))}},{key:"isInteractiveEvent",value:function(t){var n;return t.type===3&&VD.indexOf((n=t.data)===null||n===void 0?void 0:n.source)!==-1}},{key:"_updateWindowAndSessionIds",value:function(t){var n=this.isInteractiveEvent(t);n||this.isIdle||t.timestamp-this._lastActivityTimestamp>BE&&(this.isIdle=!0,this._tryAddCustomEvent("sessionIdle",{reason:"user inactivity",timeSinceLastActive:t.timestamp-this._lastActivityTimestamp,threshold:BE}));var r=!1;if(n&&(this._lastActivityTimestamp=t.timestamp,this.isIdle&&(this.isIdle=!1,this._tryAddCustomEvent("sessionNoLongerIdle",{reason:"user activity",type:t.type}),r=!0)),!this.isIdle){var s=this.sessionManager.checkAndGetSessionAndWindowId(!n,t.timestamp),i=s.windowId,o=s.sessionId,a=this.sessionId!==o,l=this.windowId!==i;this.windowId=i,this.sessionId=o,(r||[mD,vD].indexOf(t.type)===-1&&(l||a))&&this._tryTakeFullSnapshot()}}},{key:"_tryRRWebMethod",value:function(t){try{return t.rrwebMethod(),!0}catch(n){return this.queuedRRWebEvents.length<10?this.queuedRRWebEvents.push({enqueuedAt:t.enqueuedAt||Date.now(),attempt:t.attempt++,rrwebMethod:t.rrwebMethod}):pe.warn(Yr+" could not emit queued rrweb event.",n,t),!1}}},{key:"_tryAddCustomEvent",value:function(t,n){var r=this;return this._tryRRWebMethod(NE(function(){return r.rrwebRecord.addCustomEvent(t,n)}))}},{key:"_tryTakeFullSnapshot",value:function(){var t=this;return this._tryRRWebMethod(NE(function(){return t.rrwebRecord.takeFullSnapshot()}))}},{key:"_onScriptLoaded",value:function(){for(var t,n=this,r={blockClass:"ph-no-capture",blockSelector:void 0,ignoreClass:"ph-ignore-input",maskTextClass:"ph-mask",maskTextSelector:void 0,maskTextFn:void 0,maskAllInputs:!0,maskInputOptions:{},maskInputFn:void 0,slimDOMOptions:{},collectFonts:!1,inlineStylesheet:!0,recordCrossOriginIframes:!1},s=this.instance.config.session_recording,i=0,o=Object.entries(s||{});i<o.length;i++){var a=Er(o[i],2),l=a[0],c=a[1];l in r&&(r[l]=c)}if(this.canvasRecording&&this.canvasRecording.enabled&&(r.recordCanvas=!0,r.sampling={canvas:this.canvasRecording.fps},r.dataURLOptions={type:"image/webp",quality:this.canvasRecording.quality}),this.rrwebRecord){this.mutationRateLimiter=(t=this.mutationRateLimiter)!==null&&t!==void 0?t:new yD(this.rrwebRecord,{onBlockedNode:function(d,h){var p="Too many mutations on node '".concat(d,"'. Rate limiting. This could be due to SVG animations or something similar");pe.info(p,{node:h}),n.log(Yr+" "+p,"warn")}}),this._scheduleFullSnapshot();var u=this._gatherRRWebPlugins();this.stopRrweb=this.rrwebRecord(Ce({emit:function(d){n.onRRwebEmit(d)},plugins:u},r)),this.instance._addCaptureHook(function(d){try{if(d==="$pageview"){var h=X?n._maskUrl(X.location.href):"";if(!h)return;n._tryAddCustomEvent("$pageview",{href:h}),n._tryTakeFullSnapshot()}}catch(p){pe.error("Could not add $pageview to rrweb session",p)}}),this._lastActivityTimestamp=Date.now(),this.isIdle=!1,this._tryAddCustomEvent("$session_options",{sessionRecordingOptions:r,activePlugins:u.map(function(d){return d==null?void 0:d.name})}),this._tryAddCustomEvent("$posthog_config",{config:this.instance.config})}else pe.error(Yr+"onScriptLoaded was called but rrwebRecord is not available. This indicates something has gone wrong.")}},{key:"_scheduleFullSnapshot",value:function(){var t=this;this._fullSnapshotTimer&&clearInterval(this._fullSnapshotTimer),this._fullSnapshotTimer=setInterval(function(){t._tryTakeFullSnapshot()},hP)}},{key:"_gatherRRWebPlugins",value:function(){var t=[];return Xr.rrwebConsoleRecord&&this.isConsoleLogCaptureEnabled&&t.push(Xr.rrwebConsoleRecord.getRecordConsolePlugin()),this.networkPayloadCapture&&ai(Xr.getRecordNetworkPlugin)&&(!nD.includes(location.hostname)||this._forceAllowLocalhostNetworkCapture?t.push(Xr.getRecordNetworkPlugin(TD(this.instance.config,this.networkPayloadCapture))):pe.info(Yr+" NetworkCapture not started because we are on localhost.")),t}},{key:"onRRwebEmit",value:function(t){if(this._processQueuedEvents(),t&&Mi(t)){if(t.type===xp.Meta){var n=this._maskUrl(t.data.href);if(this._lastHref=n,!n)return;t.data.href=n}else this._pageViewFallBack();t.type===xp.FullSnapshot&&this._scheduleFullSnapshot();var r=this.mutationRateLimiter?this.mutationRateLimiter.throttleMutations(t):t;if(r){var s=function(a){var l=a;if(l&&Mi(l)&&l.type===6&&Mi(l.data)&&l.data.plugin==="rrweb/console@1"){l.data.payload.payload.length>10&&(l.data.payload.payload=l.data.payload.payload.slice(0,10),l.data.payload.payload.push("...[truncated]"));for(var c=[],u=0;u<l.data.payload.payload.length;u++)l.data.payload.payload[u]&&l.data.payload.payload[u].length>2e3?c.push(l.data.payload.payload[u].slice(0,2e3)+"...[truncated]"):c.push(l.data.payload.payload[u]);return l.data.payload.payload=c,a}return a}(r),i=JSON.stringify(s).length;if(this._updateWindowAndSessionIds(s),!this.isIdle||s.type===xp.Custom){var o={$snapshot_bytes:i,$snapshot_data:s,$session_id:this.sessionId,$window_id:this.windowId};this.status!=="disabled"?this._captureSnapshotBuffered(o):this.clearBuffer()}}}}},{key:"_pageViewFallBack",value:function(){if(!this.instance.config.capture_pageview&&X){var t=this._maskUrl(X.location.href);this._lastHref!==t&&(this._tryAddCustomEvent("$url_changed",{href:t}),this._lastHref=t)}}},{key:"_processQueuedEvents",value:function(){var t=this;if(this.queuedRRWebEvents.length){var n=Lc(this.queuedRRWebEvents);this.queuedRRWebEvents=[],n.forEach(function(r){Date.now()-r.enqueuedAt>2e3?t._tryAddCustomEvent("rrwebQueueTimeout",{enqueuedAt:r.enqueuedAt,attempt:r.attempt,queueLength:n.length}):t._tryRRWebMethod(r)&&t._tryAddCustomEvent("rrwebQueueSuccess",{enqueuedAt:r.enqueuedAt,attempt:r.attempt,queueLength:n.length})})}}},{key:"_maskUrl",value:function(t){var n=this.instance.config.session_recording;if(n.maskNetworkRequestFn){var r,s={url:t};return(r=s=n.maskNetworkRequestFn(s))===null||r===void 0?void 0:r.url}return t}},{key:"clearBuffer",value:function(){return this.buffer=void 0,{size:0,data:[],sessionId:this.sessionId,windowId:this.windowId}}},{key:"_flushBuffer",value:function(){var t=this;this.flushBufferTimer&&(clearTimeout(this.flushBufferTimer),this.flushBufferTimer=void 0);var n=this.minimumDuration,r=this.sessionDuration,s=ei(r)&&r>=0,i=ei(n)&&s&&r<n;return this.status==="buffering"||i?(this.flushBufferTimer=setTimeout(function(){t._flushBuffer()},2e3),this.buffer||this.clearBuffer()):this.buffer&&this.buffer.data.length!==0?(this._captureSnapshot({$snapshot_bytes:this.buffer.size,$snapshot_data:this.buffer.data,$session_id:this.buffer.sessionId,$window_id:this.buffer.windowId}),this.clearBuffer()):this.buffer||this.clearBuffer()}},{key:"_captureSnapshotBuffered",value:function(t){var n,r=this,s=2+(((n=this.buffer)===null||n===void 0?void 0:n.data.length)||0);(!this.buffer||this.buffer.size+t.$snapshot_bytes+s>943718.4||this.buffer.sessionId&&this.buffer.sessionId!==this.sessionId)&&(this.buffer=this._flushBuffer()),li(this.buffer.sessionId)&&!li(this.sessionId)&&(this.buffer.sessionId=this.sessionId,this.buffer.windowId=this.windowId),this.buffer.size+=t.$snapshot_bytes,this.buffer.data.push(t.$snapshot_data),this.flushBufferTimer||(this.flushBufferTimer=setTimeout(function(){r._flushBuffer()},2e3))}},{key:"_captureSnapshot",value:function(t){this.instance.capture("$snapshot",t,{_url:this.instance.requestRouter.endpointFor("api",this._endpoint),_noTruncate:!0,_batchKey:"recordings",_noHeatmaps:!0})}}]),e}(),$D=function(){function e(t){Ft(this,e),this.instance=t,this.instance.decideEndpointWasHit=this.instance._hasBootstrappedFeatureFlags()}return Ut(e,[{key:"call",value:function(){var t=this,n={token:this.instance.config.token,distinct_id:this.instance.get_distinct_id(),groups:this.instance.getGroups(),person_properties:this.instance.get_property(Wl),group_properties:this.instance.get_property(jo),disable_flags:this.instance.config.advanced_disable_feature_flags||this.instance.config.advanced_disable_feature_flags_on_first_load||void 0};this.instance._send_request({method:"POST",url:this.instance.requestRouter.endpointFor("api","/decide/?v=3"),data:n,compression:this.instance.config.disable_compression?void 0:ni.Base64,timeout:this.instance.config.feature_flag_request_timeout_ms,callback:function(r){return t.parseDecideResponse(r.json)}})}},{key:"parseDecideResponse",value:function(t){var n=this;this.instance.featureFlags.setReloadingPaused(!1),this.instance.featureFlags._startReloadTimer();var r=!t;if(this.instance.config.advanced_disable_feature_flags_on_first_load||this.instance.config.advanced_disable_feature_flags||this.instance.featureFlags.receivedFeatureFlags(t??{},r),r)pe.error("Failed to fetch feature flags from PostHog.");else{if(!we||!we.body)return pe.info("document not ready yet, trying again in 500 milliseconds..."),void setTimeout(function(){n.parseDecideResponse(t)},500);this.instance._afterDecideResponse(t);var s=X==null?void 0:X.extendPostHogWithExceptionAutoCapture;if(t.autocaptureExceptions&&t.autocaptureExceptions&&He(s)&&Fd(this.instance.requestRouter.endpointFor("assets","/static/exception-autocapture.js"),function(l){if(l)return pe.error("Could not load exception autocapture script",l);X.extendPostHogWithExceptionAutocapture(n.instance,t)}),t.siteApps)if(this.instance.config.opt_in_site_apps){var i,o=hi(t.siteApps);try{var a=function(){var l=i.value,c=l.id,u=l.url,d=n.instance.requestRouter.endpointFor("api",u);Xr["__$$ph_site_app_".concat(c)]=n.instance,Fd(d,function(h){h&&pe.error("Error while initializing PostHog app with config id ".concat(c),h)})};for(o.s();!(i=o.n()).done;)a()}catch(l){o.e(l)}finally{o.f()}}else t.siteApps.length>0&&pe.error('PostHog site apps are disabled. Enable the "opt_in_site_apps" config to proceed.')}}}]),e}(),BD=X!=null&&X.location?sg(X.location.hash,"__posthog")||sg(location.hash,"state"):null,Ay="_postHogToolbarParams",ND=function(){function e(t){Ft(this,e),se(this,"_toolbarScriptLoaded",!1),this.instance=t}return Ut(e,[{key:"maybeLoadToolbar",value:function(){var t,n,r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:void 0,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:void 0,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;if(!X||!we)return!1;r=(t=r)!==null&&t!==void 0?t:X.location,i=(n=i)!==null&&n!==void 0?n:X.history;try{if(!s){try{X.localStorage.setItem("test","test"),X.localStorage.removeItem("test")}catch{return!1}s=X==null?void 0:X.localStorage}var o,a=BD||sg(r.hash,"__posthog")||sg(r.hash,"state"),l=a?yE(function(){return JSON.parse(atob(decodeURIComponent(a)))})||yE(function(){return JSON.parse(decodeURIComponent(a))}):null;return l&&l.action==="ph_authorize"?((o=l).source="url",o&&Object.keys(o).length>0&&(l.desiredHash?r.hash=l.desiredHash:i?i.replaceState("",we.title,r.pathname+r.search):r.hash="")):((o=JSON.parse(s.getItem(Ay)||"{}")).source="localstorage",delete o.userIntent),!(!o.token||this.instance.config.token!==o.token)&&(this.loadToolbar(o),!0)}catch{return!1}}},{key:"_callLoadToolbar",value:function(t){(Xr.ph_load_toolbar||Xr.ph_load_editor)(t,this.instance)}},{key:"loadToolbar",value:function(t){var n=this;if(!X||X.localStorage.getItem(Ay)&&this._toolbarScriptLoaded)return!1;var r=this.instance.requestRouter.region==="custom"&&this.instance.config.advanced_disable_toolbar_metrics,s=Ce(Ce({token:this.instance.config.token},t),{},{apiURL:this.instance.requestRouter.endpointFor("ui")},r?{instrument:!1}:{});if(X.localStorage.setItem(Ay,JSON.stringify(Ce(Ce({},s),{},{source:void 0}))),this._toolbarScriptLoaded)this._callLoadToolbar(s);else{this._toolbarScriptLoaded=!0;var i=3e5,o=Math.floor(Date.now()/i)*i;Fd(this.instance.requestRouter.endpointFor("assets","/static/toolbar.js?t=".concat(o)),function(a){if(a)return pe.error("Failed to load toolbar",a),void(n._toolbarScriptLoaded=!1);n._callLoadToolbar(s)}),no(X,"turbolinks:load",function(){n._toolbarScriptLoaded=!1,n.loadToolbar(s)})}return!0}},{key:"_loadEditor",value:function(t){return this.loadToolbar(t)}},{key:"maybeLoadEditor",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:void 0,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:void 0,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;return this.maybeLoadToolbar(t,n,r)}}]),e}(),DD=function(){function e(t){Ft(this,e),se(this,"isPaused",!0),se(this,"queue",[]),se(this,"flushTimeoutMs",3e3),this.sendRequest=t}return Ut(e,[{key:"enqueue",value:function(t){this.queue.push(t),this.flushTimeout||this.setFlushTimeout()}},{key:"unload",value:function(){var t=this;this.clearFlushTimeout();var n=this.queue.length>0?this.formatQueue():{},r=Object.values(n);[].concat(Lc(r.filter(function(s){return s.url.indexOf("/e")===0})),Lc(r.filter(function(s){return s.url.indexOf("/e")!==0}))).map(function(s){t.sendRequest(Ce(Ce({},s),{},{transport:"sendBeacon"}))})}},{key:"enable",value:function(){this.isPaused=!1,this.setFlushTimeout()}},{key:"setFlushTimeout",value:function(){var t=this;this.isPaused||(this.flushTimeout=setTimeout(function(){if(t.clearFlushTimeout(),t.queue.length>0){var n=t.formatQueue(),r=function(i){var o=n[i],a=new Date().getTime();o.data&&Bn(o.data)&&Vt(o.data,function(l){l.offset=Math.abs(l.timestamp-a),delete l.timestamp}),t.sendRequest(o)};for(var s in n)r(s)}},this.flushTimeoutMs))}},{key:"clearFlushTimeout",value:function(){clearTimeout(this.flushTimeout),this.flushTimeout=void 0}},{key:"formatQueue",value:function(){var t={};return Vt(this.queue,function(n){var r,s=n,i=(s?s.batchKey:null)||s.url;He(t[i])&&(t[i]=Ce(Ce({},s),{},{data:[]})),(r=t[i].data)===null||r===void 0||r.push(s.data)}),this.queue=[],t}}]),e}(),os=Uint8Array,Ir=Uint16Array,Bc=Uint32Array,hb=new os([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),pb=new os([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),DE=new os([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),pP=function(e,t){for(var n=new Ir(31),r=0;r<31;++r)n[r]=t+=1<<e[r-1];var s=new Bc(n[30]);for(r=1;r<30;++r)for(var i=n[r];i<n[r+1];++i)s[i]=i-n[r]<<5|r;return[n,s]},gP=pP(hb,2),FD=gP[0],b0=gP[1];FD[28]=258,b0[258]=28;for(var FE=pP(pb,0)[1],S0=new Ir(32768),Nt=0;Nt<32768;++Nt){var wa=(43690&Nt)>>>1|(21845&Nt)<<1;wa=(61680&(wa=(52428&wa)>>>2|(13107&wa)<<2))>>>4|(3855&wa)<<4,S0[Nt]=((65280&wa)>>>8|(255&wa)<<8)>>>1}var fd=function(e,t,n){for(var r=e.length,s=0,i=new Ir(t);s<r;++s)++i[e[s]-1];var o,a=new Ir(t);for(s=0;s<t;++s)a[s]=a[s-1]+i[s-1]<<1;if(n){o=new Ir(1<<t);var l=15-t;for(s=0;s<r;++s)if(e[s])for(var c=s<<4|e[s],u=t-e[s],d=a[e[s]-1]++<<u,h=d|(1<<u)-1;d<=h;++d)o[S0[d]>>>l]=c}else for(o=new Ir(r),s=0;s<r;++s)o[s]=S0[a[e[s]-1]++]>>>15-e[s];return o},Za=new os(288);for(Nt=0;Nt<144;++Nt)Za[Nt]=8;for(Nt=144;Nt<256;++Nt)Za[Nt]=9;for(Nt=256;Nt<280;++Nt)Za[Nt]=7;for(Nt=280;Nt<288;++Nt)Za[Nt]=8;var lg=new os(32);for(Nt=0;Nt<32;++Nt)lg[Nt]=5;var UD=fd(Za,9,0),zD=fd(lg,5,0),mP=function(e){return(e/8>>0)+(7&e&&1)},vP=function(e,t,n){(t==null||t<0)&&(t=0),(n==null||n>e.length)&&(n=e.length);var r=new(e instanceof Ir?Ir:e instanceof Bc?Bc:os)(n-t);return r.set(e.subarray(t,n)),r},Ki=function(e,t,n){n<<=7&t;var r=t/8>>0;e[r]|=n,e[r+1]|=n>>>8},Tu=function(e,t,n){n<<=7&t;var r=t/8>>0;e[r]|=n,e[r+1]|=n>>>8,e[r+2]|=n>>>16},_y=function(e,t){for(var n=[],r=0;r<e.length;++r)e[r]&&n.push({s:r,f:e[r]});var s=n.length,i=n.slice();if(!s)return[new os(0),0];if(s==1){var o=new os(n[0].s+1);return o[n[0].s]=1,[o,1]}n.sort(function(S,x){return S.f-x.f}),n.push({s:-1,f:25001});var a=n[0],l=n[1],c=0,u=1,d=2;for(n[0]={s:-1,f:a.f+l.f,l:a,r:l};u!=s-1;)a=n[n[c].f<n[d].f?c++:d++],l=n[c!=u&&n[c].f<n[d].f?c++:d++],n[u++]={s:-1,f:a.f+l.f,l:a,r:l};var h=i[0].s;for(r=1;r<s;++r)i[r].s>h&&(h=i[r].s);var p=new Ir(h+1),g=HD(n[u-1],p,0);if(g>t){r=0;var m=0,_=g-t,v=1<<_;for(i.sort(function(S,x){return p[x.s]-p[S.s]||S.f-x.f});r<s;++r){var y=i[r].s;if(!(p[y]>t))break;m+=v-(1<<g-p[y]),p[y]=t}for(m>>>=_;m>0;){var b=i[r].s;p[b]<t?m-=1<<t-p[b]++-1:++r}for(;r>=0&&m;--r){var w=i[r].s;p[w]==t&&(--p[w],++m)}g=t}return[new os(p),g]},HD=function e(t,n,r){return t.s==-1?Math.max(e(t.l,n,r+1),e(t.r,n,r+1)):n[t.s]=r},UE=function(e){for(var t=e.length;t&&!e[--t];);for(var n=new Ir(++t),r=0,s=e[0],i=1,o=function(l){n[r++]=l},a=1;a<=t;++a)if(e[a]==s&&a!=t)++i;else{if(!s&&i>2){for(;i>138;i-=138)o(32754);i>2&&(o(i>10?i-11<<5|28690:i-3<<5|12305),i=0)}else if(i>3){for(o(s),--i;i>6;i-=6)o(8304);i>2&&(o(i-3<<5|8208),i=0)}for(;i--;)o(s);i=1,s=e[a]}return[n.subarray(0,r),t]},Ru=function(e,t){for(var n=0,r=0;r<t.length;++r)n+=e[r]*t[r];return n},Ep=function(e,t,n){var r=n.length,s=mP(t+2);e[s]=255&r,e[s+1]=r>>>8,e[s+2]=255^e[s],e[s+3]=255^e[s+1];for(var i=0;i<r;++i)e[s+i+4]=n[i];return 8*(s+4+r)},zE=function(e,t,n,r,s,i,o,a,l,c,u){Ki(t,u++,n),++s[256];for(var d=_y(s,15),h=d[0],p=d[1],g=_y(i,15),m=g[0],_=g[1],v=UE(h),y=v[0],b=v[1],w=UE(m),S=w[0],x=w[1],E=new Ir(19),T=0;T<y.length;++T)E[31&y[T]]++;for(T=0;T<S.length;++T)E[31&S[T]]++;for(var U=_y(E,7),$=U[0],D=U[1],Q=19;Q>4&&!$[DE[Q-1]];--Q);var P,L,M,I,z=c+5<<3,j=Ru(s,Za)+Ru(i,lg)+o,N=Ru(s,h)+Ru(i,m)+o+14+3*Q+Ru(E,$)+(2*E[16]+3*E[17]+7*E[18]);if(z<=j&&z<=N)return Ep(t,u,e.subarray(l,l+c));if(Ki(t,u,1+(N<j)),u+=2,N<j){P=fd(h,p,0),L=h,M=fd(m,_,0),I=m;var V=fd($,D,0);for(Ki(t,u,b-257),Ki(t,u+5,x-1),Ki(t,u+10,Q-4),u+=14,T=0;T<Q;++T)Ki(t,u+3*T,$[DE[T]]);u+=3*Q;for(var G=[y,S],F=0;F<2;++F){var ne=G[F];for(T=0;T<ne.length;++T){var O=31&ne[T];Ki(t,u,V[O]),u+=$[O],O>15&&(Ki(t,u,ne[T]>>>5&127),u+=ne[T]>>>12)}}}else P=UD,L=Za,M=zD,I=lg;for(T=0;T<a;++T)if(r[T]>255){O=r[T]>>>18&31,Tu(t,u,P[O+257]),u+=L[O+257],O>7&&(Ki(t,u,r[T]>>>23&31),u+=hb[O]);var fe=31&r[T];Tu(t,u,M[fe]),u+=I[fe],fe>3&&(Tu(t,u,r[T]>>>5&8191),u+=pb[fe])}else Tu(t,u,P[r[T]]),u+=L[r[T]];return Tu(t,u,P[256]),u+L[256]},GD=new Bc([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),qD=new os(0),WD=function(){for(var e=new Bc(256),t=0;t<256;++t){for(var n=t,r=9;--r;)n=(1&n&&3988292384)^n>>>1;e[t]=n}return e}(),KD=function(e,t,n,r,s){return function(i,o,a,l,c,u){var d=i.length,h=new os(l+d+5*(1+Math.floor(d/7e3))+c),p=h.subarray(l,h.length-c),g=0;if(!o||d<8)for(var m=0;m<=d;m+=65535){var _=m+65535;_<d?g=Ep(p,g,i.subarray(m,_)):(p[m]=u,g=Ep(p,g,i.subarray(m,d)))}else{for(var v=GD[o-1],y=v>>>13,b=8191&v,w=(1<<a)-1,S=new Ir(32768),x=new Ir(w+1),E=Math.ceil(a/3),T=2*E,U=function(qe){return(i[qe]^i[qe+1]<<E^i[qe+2]<<T)&w},$=new Bc(25e3),D=new Ir(288),Q=new Ir(32),P=0,L=0,M=(m=0,0),I=0,z=0;m<d;++m){var j=U(m),N=32767&m,V=x[j];if(S[N]=V,x[j]=N,I<=m){var G=d-m;if((P>7e3||M>24576)&&G>423){g=zE(i,p,0,$,D,Q,L,M,z,m-z,g),M=P=L=0,z=m;for(var F=0;F<286;++F)D[F]=0;for(F=0;F<30;++F)Q[F]=0}var ne=2,O=0,fe=b,Z=N-V&32767;if(G>2&&j==U(m-Z))for(var ae=Math.min(y,G)-1,Pe=Math.min(32767,m),ye=Math.min(258,G);Z<=Pe&&--fe&&N!=V;){if(i[m+ne]==i[m+ne-Z]){for(var ce=0;ce<ye&&i[m+ce]==i[m+ce-Z];++ce);if(ce>ne){if(ne=ce,O=Z,ce>ae)break;var _e=Math.min(Z,ce-2),Fe=0;for(F=0;F<_e;++F){var Ne=m-Z+F+32768&32767,be=Ne-S[Ne]+32768&32767;be>Fe&&(Fe=be,V=Ne)}}}Z+=(N=V)-(V=S[N])+32768&32767}if(O){$[M++]=268435456|b0[ne]<<18|FE[O];var Ee=31&b0[ne],Ge=31&FE[O];L+=hb[Ee]+pb[Ge],++D[257+Ee],++Q[Ge],I=m+ne,++P}else $[M++]=i[m],++D[i[m]]}}g=zE(i,p,u,$,D,Q,L,M,z,m-z,g),u||(g=Ep(p,g,qD))}return vP(h,0,l+mP(g)+c)}(e,t.level==null?6:t.level,t.mem==null?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(e.length)))):12+t.mem,n,r,!s)},by=function(e,t,n){for(;n;++t)e[t]=n,n>>>=8};function YD(e,t){t===void 0&&(t={});var n=function(){var a=4294967295;return{p:function(l){for(var c=a,u=0;u<l.length;++u)c=WD[255&c^l[u]]^c>>>8;a=c},d:function(){return 4294967295^a}}}(),r=e.length;n.p(e);var s,i=KD(e,t,10+((s=t).filename&&s.filename.length+1||0),8),o=i.length;return function(a,l){var c=l.filename;if(a[0]=31,a[1]=139,a[2]=8,a[8]=l.level<2?4:l.level==9?2:0,a[9]=3,l.mtime!=0&&by(a,4,Math.floor(new Date(l.mtime||Date.now())/1e3)),c){a[3]=8;for(var u=0;u<=c.length;++u)a[u+10]=c.charCodeAt(u)}}(i,t),by(i,o-8,n.d()),by(i,o-4,r),i}var QD=!!sb||!!rb,HE="text/plain",cg=function(e,t){var n=Er(e.split("?"),2),r=n[0],s=n[1],i=Ce({},t);s==null||s.split("&").forEach(function(a){var l=Er(a.split("="),1)[0];delete i[l]});var o=sD(i);return o=o?(s?s+"&":"")+o:s,"".concat(r,"?").concat(o)},JD=function(e){return"data="+encodeURIComponent(typeof e=="string"?e:JSON.stringify(e))},gb=function(e){var t=e.data,n=e.compression;if(t){if(n===ni.GZipJS){var r=YD(function(i,o){var a=i.length;if(!o&&typeof TextEncoder<"u")return new TextEncoder().encode(i);for(var l=new os(i.length+(i.length>>>1)),c=0,u=function(g){l[c++]=g},d=0;d<a;++d){if(c+5>l.length){var h=new os(c+8+(a-d<<1));h.set(l),l=h}var p=i.charCodeAt(d);p<128||o?u(p):p<2048?(u(192|p>>>6),u(128|63&p)):p>55295&&p<57344?(u(240|(p=65536+(1047552&p)|1023&i.charCodeAt(++d))>>>18),u(128|p>>>12&63),u(128|p>>>6&63),u(128|63&p)):(u(224|p>>>12),u(128|p>>>6&63),u(128|63&p))}return vP(l,0,c)}(JSON.stringify(t)),{mtime:0});return{contentType:HE,body:new Blob([r],{type:HE})}}if(n===ni.Base64){var s=function(i){var o,a,l,c,u,d="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",h=0,p=0,g="",m=[];if(!i)return i;i=HN(i);do o=(u=i.charCodeAt(h++)<<16|i.charCodeAt(h++)<<8|i.charCodeAt(h++))>>18&63,a=u>>12&63,l=u>>6&63,c=63&u,m[p++]=d.charAt(o)+d.charAt(a)+d.charAt(l)+d.charAt(c);while(h<i.length);switch(g=m.join(""),i.length%3){case 1:g=g.slice(0,-2)+"==";break;case 2:g=g.slice(0,-1)+"="}return g}(JSON.stringify(t));return{contentType:"application/x-www-form-urlencoded",body:JD(s)}}return{contentType:"application/json",body:JSON.stringify(t)}}},XD=function(e){var t,n=new sb;n.open(e.method||"GET",e.url,!0);var r=(t=gb(e))!==null&&t!==void 0?t:{},s=r.contentType,i=r.body;Vt(e.headers,function(o,a){n.setRequestHeader(a,o)}),s&&n.setRequestHeader("Content-Type",s),e.timeout&&(n.timeout=e.timeout),n.withCredentials=!0,n.onreadystatechange=function(){if(n.readyState===4){var o,a={statusCode:n.status,text:n.responseText};if(n.status===200)try{a.json=JSON.parse(n.responseText)}catch{}(o=e.callback)===null||o===void 0||o.call(e,a)}},n.send(i)},ZD=function(e){var t,n,r=(t=gb(e))!==null&&t!==void 0?t:{},s=r.contentType,i=r.body,o=new Headers;Vt(o,function(u,d){o.append(d,u)}),s&&o.append("Content-Type",s);var a=e.url,l=null;if(mE){var c=new mE;l={signal:c.signal,timeout:setTimeout(function(){return c.abort()},e.timeout)}}rb(a,{method:(e==null?void 0:e.method)||"GET",headers:o,keepalive:e.method==="POST",body:i,signal:(n=l)===null||n===void 0?void 0:n.signal}).then(function(u){return u.text().then(function(d){var h,p={statusCode:u.status,text:d};if(u.status===200)try{p.json=JSON.parse(d)}catch(g){pe.error(g)}(h=e.callback)===null||h===void 0||h.call(e,p)})}).catch(function(u){var d;pe.error(u),(d=e.callback)===null||d===void 0||d.call(e,{statusCode:0,text:u})}).finally(function(){return l?clearTimeout(l.timeout):null})},eF=function(e){var t=cg(e.url,{beacon:"1"});try{var n,r=(n=gb(e))!==null&&n!==void 0?n:{},s=r.contentType,i=r.body,o=typeof i=="string"?new Blob([i],{type:s}):i;Dd.sendBeacon(t,o)}catch{}},tF=function(e){var t;if(we){var n=we.createElement("script");n.type="text/javascript",n.async=!0,n.defer=!0,n.src=e.url;var r=we.getElementsByTagName("script")[0];(t=r.parentNode)===null||t===void 0||t.insertBefore(n,r)}},nF=["retriesPerformedSoFar"],Ba,rF=function(){function e(t){var n=this;Ft(this,e),se(this,"isPolling",!1),se(this,"pollIntervalMs",3e3),se(this,"queue",[]),this.instance=t,this.queue=[],this.areWeOnline=!0,!He(X)&&"onLine"in X.navigator&&(this.areWeOnline=X.navigator.onLine,X.addEventListener("online",function(){n.areWeOnline=!0,n.flush()}),X.addEventListener("offline",function(){n.areWeOnline=!1}))}return Ut(e,[{key:"retriableRequest",value:function(t){var n=this,r=t.retriesPerformedSoFar,s=NN(t,nF);ei(r)&&r>0&&(s.url=cg(s.url,{retry_count:r})),this.instance._send_request(Ce(Ce({},s),{},{callback:function(i){var o;i.statusCode!==200&&(i.statusCode<400||i.statusCode>=500)&&(r??0)<10?n.enqueue(Ce({},s)):(o=s.callback)===null||o===void 0||o.call(s,i)}}))}},{key:"enqueue",value:function(t){var n=t.retriesPerformedSoFar||0;t.retriesPerformedSoFar=n+1;var r=function(o){var a=3e3*Math.pow(2,o),l=a/2,c=Math.min(18e5,a),u=(Math.random()-.5)*(c-l);return Math.ceil(c+u)}(n),s=Date.now()+r;this.queue.push({retryAt:s,requestOptions:t});var i="Enqueued failed request for retry in ".concat(r);navigator.onLine||(i+=" (Browser is offline)"),pe.warn(i),this.isPolling||(this.isPolling=!0,this.poll())}},{key:"poll",value:function(){var t=this;this.poller&&clearTimeout(this.poller),this.poller=setTimeout(function(){t.areWeOnline&&t.queue.length>0&&t.flush(),t.poll()},this.pollIntervalMs)}},{key:"flush",value:function(){var t=Date.now(),n=[],r=this.queue.filter(function(a){return a.retryAt<t||(n.push(a),!1)});if(this.queue=n,r.length>0){var s,i=hi(r);try{for(i.s();!(s=i.n()).done;){var o=s.value.requestOptions;this.retriableRequest(o)}}catch(a){i.e(a)}finally{i.f()}}}},{key:"unload",value:function(){this.poller&&(clearTimeout(this.poller),this.poller=void 0);var t,n=hi(this.queue);try{for(n.s();!(t=n.n()).done;){var r=t.value.requestOptions;try{this.instance._send_request(Ce(Ce({},r),{},{transport:"sendBeacon"}))}catch(s){pe.error(s)}}}catch(s){n.e(s)}finally{n.f()}this.queue=[]}}]),e}(),Ah=1800,sF=function(){function e(t,n,r,s){Ft(this,e),se(this,"_sessionIdChangedHandlers",[]),this.config=t,this.persistence=n,this._windowId=void 0,this._sessionId=void 0,this._sessionStartTimestamp=null,this._sessionActivityTimestamp=null,this._sessionIdGenerator=r||Uo,this._windowIdGenerator=s||Uo;var i=t.persistence_name||t.token,o=t.session_idle_timeout_seconds||Ah;if(ei(o)?o>Ah?pe.warn("session_idle_timeout_seconds cannot be  greater than 30 minutes. Using 30 minutes instead."):o<60&&pe.warn("session_idle_timeout_seconds cannot be less than 60 seconds. Using 60 seconds instead."):(pe.warn("session_idle_timeout_seconds must be a number. Defaulting to 30 minutes."),o=Ah),this._sessionTimeoutMs=1e3*Math.min(Math.max(o,60),Ah),this._window_id_storage_key="ph_"+i+"_window_id",this._primary_window_exists_storage_key="ph_"+i+"_primary_window_exists",this._canUseSessionStorage()){var a=rr.parse(this._window_id_storage_key),l=rr.parse(this._primary_window_exists_storage_key);a&&!l?this._windowId=a:rr.remove(this._window_id_storage_key),rr.set(this._primary_window_exists_storage_key,!0)}this._listenToReloadWindow()}return Ut(e,[{key:"onSessionId",value:function(t){var n=this;return He(this._sessionIdChangedHandlers)&&(this._sessionIdChangedHandlers=[]),this._sessionIdChangedHandlers.push(t),this._sessionId&&t(this._sessionId,this._windowId),function(){n._sessionIdChangedHandlers=n._sessionIdChangedHandlers.filter(function(r){return r!==t})}}},{key:"_canUseSessionStorage",value:function(){return this.config.persistence!=="memory"&&!this.persistence.disabled&&rr.is_supported()}},{key:"_setWindowId",value:function(t){t!==this._windowId&&(this._windowId=t,this._canUseSessionStorage()&&rr.set(this._window_id_storage_key,t))}},{key:"_getWindowId",value:function(){return this._windowId?this._windowId:this._canUseSessionStorage()?rr.parse(this._window_id_storage_key):null}},{key:"_setSessionId",value:function(t,n,r){t===this._sessionId&&n===this._sessionActivityTimestamp&&r===this._sessionStartTimestamp||(this._sessionStartTimestamp=r,this._sessionActivityTimestamp=n,this._sessionId=t,this.persistence.register(se({},tg,[n,t,r])))}},{key:"_getSessionId",value:function(){if(this._sessionId&&this._sessionActivityTimestamp&&this._sessionStartTimestamp)return[this._sessionActivityTimestamp,this._sessionId,this._sessionStartTimestamp];var t=this.persistence.props[tg];return Bn(t)&&t.length===2&&t.push(t[0]),t||[0,null,0]}},{key:"resetSessionId",value:function(){this._setSessionId(null,null,null)}},{key:"_listenToReloadWindow",value:function(){var t=this;X==null||X.addEventListener("beforeunload",function(){t._canUseSessionStorage()&&rr.remove(t._primary_window_exists_storage_key)})}},{key:"checkAndGetSessionAndWindowId",value:function(){var t=arguments.length>0&&arguments[0]!==void 0&&arguments[0],n=(arguments.length>1&&arguments[1]!==void 0?arguments[1]:null)||new Date().getTime(),r=Er(this._getSessionId(),3),s=r[0],i=r[1],o=r[2],a=this._getWindowId(),l=o&&o>0&&Math.abs(n-o)>864e5,c=!1,u=!i,d=!t&&Math.abs(n-s)>this._sessionTimeoutMs;u||d||l?(i=this._sessionIdGenerator(),a=this._windowIdGenerator(),pe.info("[SessionId] new session ID generated",{sessionId:i,windowId:a,changeReason:{noSessionId:u,activityTimeout:d,sessionPastMaximumLength:l}}),o=n,c=!0):a||(a=this._windowIdGenerator(),c=!0);var h=s===0||!t||l?n:s,p=o===0?new Date().getTime():o;return this._setWindowId(a),this._setSessionId(i,h,p),c&&this._sessionIdChangedHandlers.forEach(function(g){return g(i,a)}),{sessionId:i,windowId:a,sessionStartTimestamp:p}}}]),e}();(function(e){e.US="us",e.EU="eu",e.CUSTOM="custom"})(Ba||(Ba={}));var GE="i.posthog.com",iF=function(){function e(t){Ft(this,e),se(this,"_regionCache",{}),this.instance=t}return Ut(e,[{key:"apiHost",get:function(){return this.instance.config.api_host.trim().replace(/\/$/,"")}},{key:"uiHost",get:function(){var t;return(t=this.instance.config.ui_host)===null||t===void 0?void 0:t.replace(/\/$/,"")}},{key:"region",get:function(){return this._regionCache[this.apiHost]||(/https:\/\/(app|us|us-assets)(\.i)?\.posthog\.com/i.test(this.apiHost)?this._regionCache[this.apiHost]=Ba.US:/https:\/\/(eu|eu-assets)(\.i)?\.posthog\.com/i.test(this.apiHost)?this._regionCache[this.apiHost]=Ba.EU:this._regionCache[this.apiHost]=Ba.CUSTOM),this._regionCache[this.apiHost]}},{key:"endpointFor",value:function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";if(n&&(n=n[0]==="/"?n:"/".concat(n)),t==="ui")return(this.uiHost||this.apiHost.replace(".".concat(GE),".posthog.com"))+n;if(this.region===Ba.CUSTOM)return this.apiHost+n;var r=GE+n;switch(t){case"assets":return"https://".concat(this.region,"-assets.").concat(r);case"api":return"https://".concat(this.region,".").concat(r)}}}]),e}(),oF=Ut(function e(t,n,r,s){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:["error"];Ft(this,e),this.name="posthog-js",this.setupOnce=function(o){o(function(a){var l,c,u,d,h;if(!(i==="*"||i.includes(a.level))||!t.__loaded)return a;a.tags||(a.tags={});var p=t.requestRouter.endpointFor("ui","/project/".concat(t.config.token,"/person/").concat(t.get_distinct_id()));a.tags["PostHog Person URL"]=p,t.sessionRecordingStarted()&&(a.tags["PostHog Recording URL"]=t.get_session_replay_url({withTimestamp:!0}));var g=((l=a.exception)===null||l===void 0?void 0:l.values)||[],m={$exception_message:((c=g[0])===null||c===void 0?void 0:c.value)||a.message,$exception_type:(u=g[0])===null||u===void 0?void 0:u.type,$exception_personURL:p,$sentry_event_id:a.event_id,$sentry_exception:a.exception,$sentry_exception_message:((d=g[0])===null||d===void 0?void 0:d.value)||a.message,$sentry_exception_type:(h=g[0])===null||h===void 0?void 0:h.type,$sentry_tags:a.tags,$level:a.level};return n&&r&&(m.$sentry_url=(s||"https://sentry.io/organizations/")+n+"/issues/?project="+r+"&query="+a.event_id),t.capture("$exception",m),a})}});function aF(e,t){var n=e.config.segment;if(!n)return t();(function(r,s){var i=r.config.segment;if(!i)return s();var o=function(l){var c=function(){return l.anonymousId()||Uo()};r.config.get_device_id=c,l.id()&&(r.register({distinct_id:l.id(),$device_id:c()}),r.persistence.set_property(Ji,"identified")),s()},a=i.user();"then"in a&&ai(a.then)?a.then(function(l){return o(l)}):o(a)})(e,function(){n.register(function(r){Promise&&Promise.resolve||pe.warn("This browser does not have Promise support, and can not use the segment integration");var s=function(i,o){var a;if(!o)return i;i.event.userId||i.event.anonymousId===r.get_distinct_id()||r.reset(),i.event.userId&&i.event.userId!==r.get_distinct_id()&&(r.register({distinct_id:i.event.userId}),r.reloadFeatureFlags());var l=r._calculate_event_properties(o,(a=i.event.properties)!==null&&a!==void 0?a:{});return i.event.properties=Object.assign({},l,i.event.properties),i};return{name:"PostHog JS",type:"enrichment",version:"1.0.0",isLoaded:function(){return!0},load:function(){return Promise.resolve()},track:function(i){return s(i,i.event.event)},page:function(i){return s(i,"$pageview")},identify:function(i){return s(i,"$identify")},screen:function(i){return s(i,"$screen")}}}(e)).then(function(){t()})})}var lF=function(){function e(t){Ft(this,e),this._instance=t}return Ut(e,[{key:"doPageView",value:function(){var t,n=this._previousScrollProperties();return this._currentPath=(t=X==null?void 0:X.location.pathname)!==null&&t!==void 0?t:"",this._instance.scrollManager.resetContext(),n}},{key:"doPageLeave",value:function(){return this._previousScrollProperties()}},{key:"_previousScrollProperties",value:function(){var t=this._currentPath,n=this._instance.scrollManager.getContext();if(!t||!n)return{};var r=n.maxScrollHeight,s=n.lastScrollY,i=n.maxScrollY,o=n.maxContentHeight,a=n.lastContentY,l=n.maxContentY;return He(r)||He(s)||He(i)||He(o)||He(a)||He(l)?{}:(r=Math.ceil(r),s=Math.ceil(s),i=Math.ceil(i),o=Math.ceil(o),a=Math.ceil(a),l=Math.ceil(l),{$prev_pageview_pathname:t,$prev_pageview_last_scroll:s,$prev_pageview_last_scroll_percentage:r<=1?1:_h(s/r,0,1),$prev_pageview_max_scroll:i,$prev_pageview_max_scroll_percentage:r<=1?1:_h(i/r,0,1),$prev_pageview_last_content:a,$prev_pageview_last_content_percentage:o<=1?1:_h(a/o,0,1),$prev_pageview_max_content:l,$prev_pageview_max_content_percentage:o<=1?1:_h(l/o,0,1)})}}]),e}();function _h(e,t,n){return Math.max(t,Math.min(e,n))}var cF={icontains:function(e){return!!X&&X.location.href.toLowerCase().indexOf(e.toLowerCase())>-1},regex:function(e){return!!X&&rD(X.location.href,e)},exact:function(e){return(X==null?void 0:X.location.href)===e}},uF=function(){function e(t){Ft(this,e),this.instance=t}return Ut(e,[{key:"afterDecideResponse",value:function(t){this._decideServerResponse=!!t.surveys,this.loadIfEnabled()}},{key:"loadIfEnabled",value:function(){var t=this,n=Xr==null?void 0:Xr.extendPostHogWithSurveys;this.instance.config.disable_surveys||!this._decideServerResponse||n||Fd(this.instance.requestRouter.endpointFor("assets","/static/surveys.js"),function(r){if(r)return pe.error("Could not load surveys script",r);Xr.extendPostHogWithSurveys(t.instance)})}},{key:"getSurveys",value:function(t){var n=this,r=arguments.length>1&&arguments[1]!==void 0&&arguments[1];if(this.instance.config.disable_surveys)return t([]);var s=this.instance.get_property(u0);if(s&&!r)return t(s);this.instance._send_request({url:this.instance.requestRouter.endpointFor("api","/api/surveys/?token=".concat(this.instance.config.token)),method:"GET",transport:"XHR",callback:function(i){var o;if(i.statusCode!==200||!i.json)return t([]);var a=i.json.surveys||[];return(o=n.instance.persistence)===null||o===void 0||o.register(se({},u0,a)),t(a)}})}},{key:"getActiveMatchingSurveys",value:function(t){var n=this,r=arguments.length>1&&arguments[1]!==void 0&&arguments[1];this.getSurveys(function(s){var i=s.filter(function(o){return!(!o.start_date||o.end_date)}).filter(function(o){var a,l,c,u;if(!o.conditions)return!0;var d=(a=o.conditions)===null||a===void 0||!a.url||cF[(l=(c=o.conditions)===null||c===void 0?void 0:c.urlMatchType)!==null&&l!==void 0?l:"icontains"](o.conditions.url),h=(u=o.conditions)===null||u===void 0||!u.selector||(we==null?void 0:we.querySelector(o.conditions.selector));return d&&h}).filter(function(o){if(!o.linked_flag_key&&!o.targeting_flag_key)return!0;var a=!o.linked_flag_key||n.instance.featureFlags.isFeatureEnabled(o.linked_flag_key),l=!o.targeting_flag_key||n.instance.featureFlags.isFeatureEnabled(o.targeting_flag_key);return a&&l});return t(i)},r)}}]),e}(),dF=function(){function e(t){var n,r,s=this;Ft(this,e),se(this,"serverLimits",{}),se(this,"lastEventRateLimited",!1),se(this,"checkForLimiting",function(i){var o=i.text;if(o&&o.length)try{(JSON.parse(o).quota_limited||[]).forEach(function(a){pe.info("[RateLimiter] ".concat(a||"events"," is quota limited.")),s.serverLimits[a]=new Date().getTime()+6e4})}catch(a){return void pe.warn('[RateLimiter] could not rate limit - continuing. Error: "'.concat(a==null?void 0:a.message,'"'),{text:o})}}),this.instance=t,this.captureEventsPerSecond=((n=t.config.rate_limiting)===null||n===void 0?void 0:n.events_per_second)||10,this.captureEventsBurstLimit=Math.max(((r=t.config.rate_limiting)===null||r===void 0?void 0:r.events_burst_limit)||10*this.captureEventsPerSecond,this.captureEventsPerSecond),this.lastEventRateLimited=this.isCaptureClientSideRateLimited(!0)}return Ut(e,[{key:"isCaptureClientSideRateLimited",value:function(){var t,n,r,s=arguments.length>0&&arguments[0]!==void 0&&arguments[0],i=new Date().getTime(),o=(t=(n=this.instance.persistence)===null||n===void 0?void 0:n.get_property(f0))!==null&&t!==void 0?t:{tokens:this.captureEventsBurstLimit,last:i};o.tokens+=(i-o.last)/1e3*this.captureEventsPerSecond,o.last=i,o.tokens>this.captureEventsBurstLimit&&(o.tokens=this.captureEventsBurstLimit);var a=o.tokens<1;return a||s||(o.tokens=Math.max(0,o.tokens-1)),!a||this.lastEventRateLimited||s||this.instance.capture("$$client_ingestion_warning",{$$client_ingestion_warning_message:"posthog-js client rate limited. Config is set to ".concat(this.captureEventsPerSecond," events per second and ").concat(this.captureEventsBurstLimit," events burst limit.")},{skip_client_rate_limiting:!0}),this.lastEventRateLimited=a,(r=this.instance.persistence)===null||r===void 0||r.set_property(f0,o),a}},{key:"isServerRateLimited",value:function(t){var n=this.serverLimits[t||"events"]||!1;return n!==!1&&new Date().getTime()<n}}]),e}(),fF=function(){return Ce({initialPathName:(ks==null?void 0:ks.pathname)||"",referringDomain:qn.referringDomain()},qn.campaignParams())},hF=function(){function e(t,n,r){var s=this;Ft(this,e),se(this,"_onSessionIdCallback",function(i){var o=s._getStoredProps();if(!o||o.sessionId!==i){var a={sessionId:i,props:s._sessionSourceParamGenerator()};s._persistence.register(se({},d0,a))}}),this._sessionIdManager=t,this._persistence=n,this._sessionSourceParamGenerator=r||fF,this._sessionIdManager.onSessionId(this._onSessionIdCallback)}return Ut(e,[{key:"_getStoredProps",value:function(){return this._persistence.props[d0]}},{key:"getSessionProps",value:function(){var t,n=(t=this._getStoredProps())===null||t===void 0?void 0:t.props;return n?{$client_session_initial_referring_host:n.referringDomain,$client_session_initial_pathname:n.initialPathName,$client_session_initial_utm_source:n.utm_source,$client_session_initial_utm_campaign:n.utm_campaign,$client_session_initial_utm_medium:n.utm_medium,$client_session_initial_utm_content:n.utm_content,$client_session_initial_utm_term:n.utm_term}:{}}}]),e}(),pF=["ahrefsbot","ahrefssiteaudit","applebot","baiduspider","bingbot","bingpreview","bot.htm","bot.php","crawler","deepscan","duckduckbot","facebookexternal","facebookcatalog","gptbot","http://yandex.com/bots","hubspot","ia_archiver","linkedinbot","mj12bot","msnbot","nessus","petalbot","pinterest","prerender","rogerbot","screaming frog","semrushbot","sitebulb","slurp","turnitin","twitterbot","vercelbot","yahoo! slurp","yandexbot","adsbot-google","apis-google","duplexweb-google","feedfetcher-google","google favicon","google web preview","google-read-aloud","googlebot","googleweblight","mediapartners-google","storebot-google","Bytespider;"],qE=function(e,t){if(!e)return!1;var n=e.toLowerCase();return pF.concat(t||[]).some(function(r){var s=r.toLowerCase();return n.indexOf(s)!==-1})},yP=function(){function e(){Ft(this,e),this.clicks=[]}return Ut(e,[{key:"isRageClick",value:function(t,n,r){var s=this.clicks[this.clicks.length-1];if(s&&Math.abs(t-s.x)+Math.abs(n-s.y)<30&&r-s.timestamp<1e3){if(this.clicks.push({x:t,y:n,timestamp:r}),this.clicks.length===3)return!0}else this.clicks=[{x:t,y:n,timestamp:r}];return!1}}]),e}(),WE="__POSTHOG_TOOLBAR__";function KE(e){var t;return e.id===WE||!((t=e.closest)===null||t===void 0||!t.call(e,"#"+WE))}var gF=function(){function e(t){var n;Ft(this,e),se(this,"rageclicks",new yP),se(this,"_enabledServerSide",!1),se(this,"_initialized",!1),this.instance=t,this._enabledServerSide=!((n=this.instance.persistence)===null||n===void 0||!n.props[a0])}return Ut(e,[{key:"startIfEnabled",value:function(){this.isEnabled&&!this._initialized&&this._setupListeners()}},{key:"isEnabled",get:function(){return He(this.instance.config.enable_heatmaps)?this._enabledServerSide:this.instance.config.enable_heatmaps}},{key:"afterDecideResponse",value:function(t){var n=!!t.heatmaps;this.instance.persistence&&this.instance.persistence.register(se({},a0,n)),this._enabledServerSide=n,this.startIfEnabled()}},{key:"getAndClearBuffer",value:function(){var t=this.buffer;return this.buffer=void 0,t}},{key:"_setupListeners",value:function(){var t=this;X&&we&&(no(we,"click",function(n){return t._onClick(n||(X==null?void 0:X.event))},!1,!0),no(we,"mousemove",function(n){return t._onMouseMove(n||(X==null?void 0:X.event))},!1,!0),this._initialized=!0)}},{key:"_getProperties",value:function(t,n){var r=this.instance.scrollManager.scrollY(),s=this.instance.scrollManager.scrollX(),i=this.instance.scrollManager.scrollElement(),o=function(a,l,c){for(var u=a;u&&!Ko(u,"body");){if(u===c)return!1;if(ct(l,X==null?void 0:X.getComputedStyle(u).position))return!0;u=sP(u)}return!1}(t.target,["fixed","sticky"],i);return{x:t.clientX+(o?0:s),y:t.clientY+(o?0:r),target_fixed:o,type:n}}},{key:"_onClick",value:function(t){var n;if(!KE(t.target)){var r=this._getProperties(t,"click");(n=this.rageclicks)!==null&&n!==void 0&&n.isRageClick(t.clientX,t.clientY,new Date().getTime())&&this._capture(Ce(Ce({},r),{},{type:"rageclick"})),this._capture(r)}}},{key:"_onMouseMove",value:function(t){var n=this;KE(t.target)||(clearTimeout(this._mouseMoveTimeout),this._mouseMoveTimeout=setTimeout(function(){n._capture(n._getProperties(t,"mousemove"))},500))}},{key:"_capture",value:function(t){if(X){var n=X.location.href;this.buffer=this.buffer||{},this.buffer[n]||(this.buffer[n]=[]),this.buffer[n].push(t)}}}]),e}(),mF=function(){function e(t){var n=this;Ft(this,e),se(this,"_updateScrollData",function(){var r,s,i,o;n.context||(n.context={});var a=n.scrollElement(),l=n.scrollY(),c=a?Math.max(0,a.scrollHeight-a.clientHeight):0,u=l+((a==null?void 0:a.clientHeight)||0),d=(a==null?void 0:a.scrollHeight)||0;n.context.lastScrollY=Math.ceil(l),n.context.maxScrollY=Math.max(l,(r=n.context.maxScrollY)!==null&&r!==void 0?r:0),n.context.maxScrollHeight=Math.max(c,(s=n.context.maxScrollHeight)!==null&&s!==void 0?s:0),n.context.lastContentY=u,n.context.maxContentY=Math.max(u,(i=n.context.maxContentY)!==null&&i!==void 0?i:0),n.context.maxContentHeight=Math.max(d,(o=n.context.maxContentHeight)!==null&&o!==void 0?o:0)}),this.instance=t}return Ut(e,[{key:"getContext",value:function(){return this.context}},{key:"resetContext",value:function(){var t=this.context;return setTimeout(this._updateScrollData,0),t}},{key:"startMeasuringScrollPosition",value:function(){X==null||X.addEventListener("scroll",this._updateScrollData,!0),X==null||X.addEventListener("scrollend",this._updateScrollData,!0),X==null||X.addEventListener("resize",this._updateScrollData)}},{key:"scrollElement",value:function(){if(!this.instance.config.scroll_root_selector)return X==null?void 0:X.document.documentElement;var t,n=hi(Bn(this.instance.config.scroll_root_selector)?this.instance.config.scroll_root_selector:[this.instance.config.scroll_root_selector]);try{for(n.s();!(t=n.n()).done;){var r=t.value,s=X==null?void 0:X.document.querySelector(r);if(s)return s}}catch(i){n.e(i)}finally{n.f()}}},{key:"scrollY",value:function(){if(this.instance.config.scroll_root_selector){var t=this.scrollElement();return t&&t.scrollTop||0}return X&&(X.scrollY||X.pageYOffset||X.document.documentElement.scrollTop)||0}},{key:"scrollX",value:function(){if(this.instance.config.scroll_root_selector){var t=this.scrollElement();return t&&t.scrollLeft||0}return X&&(X.scrollX||X.pageXOffset||X.document.documentElement.scrollLeft)||0}}]),e}(),vF=function(){function e(){Ft(this,e),se(this,"events",{}),this.events={}}return Ut(e,[{key:"on",value:function(t,n){var r=this;return this.events[t]||(this.events[t]=[]),this.events[t].push(n),function(){r.events[t]=r.events[t].filter(function(s){return s!==n})}}},{key:"emit",value:function(t,n){var r,s=hi(this.events[t]||[]);try{for(s.s();!(r=s.n()).done;)(0,r.value)(n)}catch(a){s.e(a)}finally{s.f()}var i,o=hi(this.events["*"]||[]);try{for(o.s();!(i=o.n()).done;)(0,i.value)(t,n)}catch(a){o.e(a)}finally{o.f()}}}]),e}(),Sy="$copy_autocapture";function wy(e,t){return t.length>e?t.slice(0,e)+"...":t}var yF=function(){function e(t){Ft(this,e),se(this,"_initialized",!1),se(this,"_isDisabledServerSide",null),se(this,"rageclicks",new yP),se(this,"_elementsChainAsString",!1),this.instance=t}return Ut(e,[{key:"config",get:function(){var t,n=Mi(this.instance.config.autocapture)?this.instance.config.autocapture:{};return n.url_allowlist=(t=n.url_allowlist)===null||t===void 0?void 0:t.map(function(r){return new RegExp(r)}),n}},{key:"_addDomEventHandlers",value:function(){var t=this;if(this.isBrowserSupported()){if(X&&we){var n=function(s){s=s||(X==null?void 0:X.event);try{t._captureEvent(s)}catch(i){pe.error("Failed to capture event",i)}},r=function(s){s=s||(X==null?void 0:X.event),t._captureEvent(s,Sy)};no(we,"submit",n,!1,!0),no(we,"change",n,!1,!0),no(we,"click",n,!1,!0),this.config.capture_copied_text&&(no(we,"copy",r,!1,!0),no(we,"cut",r,!1,!0))}}else pe.info("Disabling Automatic Event Collection because this browser is not supported")}},{key:"startIfEnabled",value:function(){this.isEnabled&&!this._initialized&&(this._addDomEventHandlers(),this._initialized=!0)}},{key:"afterDecideResponse",value:function(t){t.elementsChainAsString&&(this._elementsChainAsString=t.elementsChainAsString),this.instance.persistence&&this.instance.persistence.register(se({},AE,!!t.autocapture_opt_out)),this._isDisabledServerSide=!!t.autocapture_opt_out,this.startIfEnabled()}},{key:"isEnabled",get:function(){var t,n,r=(t=this.instance.persistence)===null||t===void 0?void 0:t.props[AE],s=this._isDisabledServerSide;if(li(s)&&!Sp(r)&&!this.instance.config.advanced_disable_decide)return!1;var i=(n=this._isDisabledServerSide)!==null&&n!==void 0?n:!!r;return!!this.instance.config.autocapture&&!i}},{key:"_previousElementSibling",value:function(t){if(t.previousElementSibling)return t.previousElementSibling;var n=t;do n=n.previousSibling;while(n&&!ub(n));return n}},{key:"_getAugmentPropertiesFromElement",value:function(t){if(!A0(t))return{};var n={};return Vt(t.attributes,function(r){if(r.name&&r.name.indexOf("data-ph-capture-attribute")===0){var s=r.name.replace("data-ph-capture-attribute-",""),i=r.value;s&&i&&vc(i)&&(n[s]=i)}}),n}},{key:"_getPropertiesFromElement",value:function(t,n,r){var s,i=t.tagName.toLowerCase(),o={tag_name:i};y0.indexOf(i)>-1&&!r&&(i.toLowerCase()==="a"||i.toLowerCase()==="button"?o.$el_text=wy(1024,OE(t)):o.$el_text=wy(1024,ag(t)));var a=og(t);a.length>0&&(o.classes=a.filter(function(h){return h!==""}));var l=(s=this.config)===null||s===void 0?void 0:s.element_attribute_ignorelist;Vt(t.attributes,function(h){var p;if((!iP(t)||["name","id","class","aria-label"].indexOf(h.name)!==-1)&&(l==null||!l.includes(h.name))&&!n&&vc(h.value)&&(p=h.name,!vr(p)||p.substring(0,10)!=="_ngcontent"&&p.substring(0,7)!=="_nghost")){var g=h.value;h.name==="class"&&(g=cb(g).join(" ")),o["attr__"+h.name]=wy(1024,g)}});for(var c=1,u=1,d=t;d=this._previousElementSibling(d);)c++,d.tagName===t.tagName&&u++;return o.nth_child=c,o.nth_of_type=u,o}},{key:"_getDefaultProperties",value:function(t){return{$event_type:t,$ce_version:1}}},{key:"_getEventTarget",value:function(t){return He(t.target)?t.srcElement||null:(n=t.target)!==null&&n!==void 0&&n.shadowRoot?t.composedPath()[0]||null:t.target||null;var n}},{key:"_captureEvent",value:function(t){var n=this,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"$autocapture";if(this.isEnabled){var s,i=this._getEventTarget(t);nP(i)&&(i=i.parentNode||null),r==="$autocapture"&&t.type==="click"&&t instanceof MouseEvent&&this.instance.config.rageclick&&(s=this.rageclicks)!==null&&s!==void 0&&s.isRageClick(t.clientX,t.clientY,new Date().getTime())&&this._captureEvent(t,"$rageclick");var o=r===Sy;if(i&&AD(i,t,this.config,o,o?["copy","cut"]:void 0)){for(var a,l,c=[i],u=i;u.parentNode&&!Ko(u,"body");)rP(u.parentNode)?(c.push(u.parentNode.host),u=u.parentNode.host):(c.push(u.parentNode),u=u.parentNode);var d,h=[],p={},g=!1;if(Vt(c,function(b){var w=A0(b);b.tagName.toLowerCase()==="a"&&(d=b.getAttribute("href"),d=w&&vc(d)&&d),ct(og(b),"ph-no-capture")&&(g=!0),h.push(n._getPropertiesFromElement(b,n.instance.config.mask_all_element_attributes,n.instance.config.mask_all_text));var S=n._getAugmentPropertiesFromElement(b);Gn(p,S)}),this.instance.config.mask_all_text||(i.tagName.toLowerCase()==="a"||i.tagName.toLowerCase()==="button"?h[0].$el_text=OE(i):h[0].$el_text=ag(i)),d&&(h[0].attr__href=d),g)return!1;var m=Gn(this._getDefaultProperties(t.type),this._elementsChainAsString?{$elements_chain:xD(h)}:{$elements:h},(a=h[0])!==null&&a!==void 0&&a.$el_text?{$el_text:(l=h[0])===null||l===void 0?void 0:l.$el_text}:{},p);if(r===Sy){var _,v=tP(X==null||(_=X.getSelection())===null||_===void 0?void 0:_.toString()),y=t.type||"clipboard";if(!v)return!1;m.$selected_content=v,m.$copy_type=y}return this.instance.capture(r,m),!0}}}},{key:"isBrowserSupported",value:function(){return ai(we==null?void 0:we.querySelectorAll)}}]),e}(),hd={},YE=function(){},zl="posthog",AP=!QD&&(vn==null?void 0:vn.indexOf("MSIE"))===-1&&(vn==null?void 0:vn.indexOf("Mozilla"))===-1,QE=function(){var e,t,n;return{api_host:"https://us.i.posthog.com",api_transport:"XHR",ui_host:null,token:"",autocapture:!0,rageclick:!0,cross_subdomain_cookie:(t=we==null?void 0:we.location,n=t==null?void 0:t.hostname,!!vr(n)&&n.split(".").slice(-2).join(".")!=="herokuapp.com"),persistence:"localStorage+cookie",persistence_name:"",loaded:YE,store_google:!0,custom_campaign_params:[],custom_blocked_useragents:[],save_referrer:!0,capture_pageview:!0,capture_pageleave:!0,debug:ks&&vr(ks==null?void 0:ks.search)&&ks.search.indexOf("__posthog_debug=true")!==-1||!1,verbose:!1,cookie_expiration:365,upgrade:!1,disable_session_recording:!1,disable_persistence:!1,disable_surveys:!1,enable_recording_console_log:void 0,secure_cookie:(X==null||(e=X.location)===null||e===void 0?void 0:e.protocol)==="https:",ip:!0,opt_out_capturing_by_default:!1,opt_out_persistence_by_default:!1,opt_out_useragent_filter:!1,opt_out_capturing_persistence_type:"localStorage",opt_out_capturing_cookie_prefix:null,opt_in_site_apps:!1,property_denylist:[],respect_dnt:!1,sanitize_properties:null,request_headers:{},inapp_protocol:"//",inapp_link_new_window:!1,request_batching:!0,properties_string_max_length:65535,session_recording:{},mask_all_element_attributes:!1,mask_all_text:!1,advanced_disable_decide:!1,advanced_disable_feature_flags:!1,advanced_disable_feature_flags_on_first_load:!1,advanced_disable_toolbar_metrics:!1,feature_flag_request_timeout_ms:3e3,on_request_error:function(r){var s="Bad HTTP status: "+r.statusCode+" "+r.text;pe.error(s)},get_device_id:function(r){return r},_onCapture:YE,capture_performance:void 0,name:"posthog",bootstrap:{},disable_compression:!1,session_idle_timeout_seconds:1800,person_profiles:"always"}},JE=function(e){var t={};He(e.process_person)||(t.person_profiles=e.process_person),He(e.xhr_headers)||(t.request_headers=e.xhr_headers),He(e.cookie_name)||(t.persistence_name=e.cookie_name),He(e.disable_cookie)||(t.disable_persistence=e.disable_cookie);var n=Gn({},t,e);return Bn(e.property_blacklist)&&(He(e.property_denylist)?n.property_denylist=e.property_blacklist:Bn(e.property_denylist)?n.property_denylist=[].concat(Lc(e.property_blacklist),Lc(e.property_denylist)):pe.error("Invalid value for property_denylist config: "+e.property_denylist)),n},AF=function(){function e(){Ft(this,e),se(this,"__forceAllowLocalhost",!1)}return Ut(e,[{key:"_forceAllowLocalhost",get:function(){return this.__forceAllowLocalhost},set:function(t){pe.error("WebPerformanceObserver is deprecated and has no impact on network capture. Use `_forceAllowLocalhostNetworkCapture` on `posthog.sessionRecording`"),this.__forceAllowLocalhost=t}}]),e}(),_P=function(){function e(){var t=this;Ft(this,e),se(this,"webPerformance",new AF),se(this,"_debugEventEmitter",new vF),this.config=QE(),this.decideEndpointWasHit=!1,this.SentryIntegration=oF,this.__request_queue=[],this.__loaded=!1,this.analyticsDefaultEndpoint="/e/",this.featureFlags=new qN(this),this.toolbar=new ND(this),this.scrollManager=new mF(this),this.pageViewManager=new lF(this),this.surveys=new uF(this),this.rateLimiter=new dF(this),this.requestRouter=new iF(this),this.people={set:function(n,r,s){var i=vr(n)?se({},n,r):n;t.setPersonProperties(i),s==null||s({})},set_once:function(n,r,s){var i=vr(n)?se({},n,r):n;t.setPersonProperties(void 0,i),s==null||s({})}},this.on("eventCaptured",function(n){return pe.info("send",n)})}return Ut(e,[{key:"init",value:function(t,n,r){if(r&&r!==zl){var s,i=(s=hd[r])!==null&&s!==void 0?s:new e;return i._init(t,n,r),hd[r]=i,hd[zl][r]=i,i}return this._init(t,n,r)}},{key:"_init",value:function(t){var n,r,s=this,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=arguments.length>2?arguments[2]:void 0;if(He(t)||function(_){return vr(_)&&_.trim().length===0}(t))return pe.critical("PostHog was initialized without a token. This likely indicates a misconfiguration. Please check the first argument passed to posthog.init()"),this;if(this.__loaded)return pe.warn("You have already initialized PostHog! Re-initializing is a no-op"),this;if(this.__loaded=!0,this.config={},this._triggered_notifs=[],this.set_config(Gn({},QE(),JE(i),{name:o,token:t})),this.compression=i.disable_compression?void 0:ni.Base64,this.persistence=new vy(this.config),this.sessionPersistence=this.config.persistence==="sessionStorage"?this.persistence:new vy(Ce(Ce({},this.config),{},{persistence:"sessionStorage"})),this._requestQueue=new DD(function(_){return s._send_request(_)}),this._retryQueue=new rF(this),this.__request_queue=[],this.sessionManager=new sF(this.config,this.persistence),this.sessionPropsManager=new hF(this.sessionManager,this.persistence),this.sessionRecording=new LD(this),this.sessionRecording.startIfEnabledOrStop(),this.config.disable_scroll_properties||this.scrollManager.startMeasuringScrollPosition(),this.autocapture=new yF(this),this.autocapture.startIfEnabled(),this.surveys.loadIfEnabled(),this.heatmaps=new gF(this),this.heatmaps.startIfEnabled(),$a.DEBUG=$a.DEBUG||this.config.debug,this._gdpr_init(),((n=i.bootstrap)===null||n===void 0?void 0:n.distinctID)!==void 0){var a,l,c=this.config.get_device_id(Uo()),u=(a=i.bootstrap)!==null&&a!==void 0&&a.isIdentifiedID?c:i.bootstrap.distinctID;this.persistence.set_property(Ji,(l=i.bootstrap)!==null&&l!==void 0&&l.isIdentifiedID?"identified":"anonymous"),this.register({distinct_id:i.bootstrap.distinctID,$device_id:u})}if(this._hasBootstrappedFeatureFlags()){var d,h,p=Object.keys(((d=i.bootstrap)===null||d===void 0?void 0:d.featureFlags)||{}).filter(function(_){var v,y;return!((v=i.bootstrap)===null||v===void 0||(y=v.featureFlags)===null||y===void 0||!y[_])}).reduce(function(_,v){var y,b;return _[v]=((y=i.bootstrap)===null||y===void 0||(b=y.featureFlags)===null||b===void 0?void 0:b[v])||!1,_},{}),g=Object.keys(((h=i.bootstrap)===null||h===void 0?void 0:h.featureFlagPayloads)||{}).filter(function(_){return p[_]}).reduce(function(_,v){var y,b,w,S;return(y=i.bootstrap)!==null&&y!==void 0&&(b=y.featureFlagPayloads)!==null&&b!==void 0&&b[v]&&(_[v]=(w=i.bootstrap)===null||w===void 0||(S=w.featureFlagPayloads)===null||S===void 0?void 0:S[v]),_},{});this.featureFlags.receivedFeatureFlags({featureFlags:p,featureFlagPayloads:g})}if(!this.get_distinct_id()){var m=this.config.get_device_id(Uo());this.register_once({distinct_id:m,$device_id:m},""),this.persistence.set_property(Ji,"anonymous")}return X==null||(r=X.addEventListener)===null||r===void 0||r.call(X,"onpagehide"in self?"pagehide":"unload",this._handle_unload.bind(this)),this.toolbar.maybeLoadToolbar(),i.segment?aF(this,function(){return s._loaded()}):this._loaded(),ai(this.config._onCapture)&&this.on("eventCaptured",function(_){return s.config._onCapture(_.event,_)}),this}},{key:"_afterDecideResponse",value:function(t){var n,r,s,i,o;this.compression=void 0,t.supportedCompression&&!this.config.disable_compression&&(this.compression=ct(t.supportedCompression,ni.GZipJS)?ni.GZipJS:ct(t.supportedCompression,ni.Base64)?ni.Base64:void 0),(n=t.analytics)!==null&&n!==void 0&&n.endpoint&&(this.analyticsDefaultEndpoint=t.analytics.endpoint),(r=this.sessionRecording)===null||r===void 0||r.afterDecideResponse(t),(s=this.autocapture)===null||s===void 0||s.afterDecideResponse(t),(i=this.heatmaps)===null||i===void 0||i.afterDecideResponse(t),(o=this.surveys)===null||o===void 0||o.afterDecideResponse(t)}},{key:"_loaded",value:function(){var t=this,n=this.config.advanced_disable_decide;n||this.featureFlags.setReloadingPaused(!0);try{this.config.loaded(this)}catch(r){pe.critical("`loaded` function failed",r)}this._start_queue_if_opted_in(),this.config.capture_pageview&&setTimeout(function(){we&&t.capture("$pageview",{title:we.title},{send_instantly:!0})},1),n||(new $D(this).call(),this.featureFlags.resetRequestQueue())}},{key:"_start_queue_if_opted_in",value:function(){var t;this.has_opted_out_capturing()||this.config.request_batching&&((t=this._requestQueue)===null||t===void 0||t.enable())}},{key:"_dom_loaded",value:function(){var t=this;this.has_opted_out_capturing()||pc(this.__request_queue,function(n){return t._send_retriable_request(n)}),this.__request_queue=[],this._start_queue_if_opted_in()}},{key:"_handle_unload",value:function(){var t,n;this.config.request_batching?(this.config.capture_pageview&&this.config.capture_pageleave&&this.capture("$pageleave"),(t=this._requestQueue)===null||t===void 0||t.unload(),(n=this._retryQueue)===null||n===void 0||n.unload()):this.config.capture_pageview&&this.config.capture_pageleave&&this.capture("$pageleave",null,{transport:"sendBeacon"})}},{key:"_send_request",value:function(t){var n=this;this.__loaded&&(AP?this.__request_queue.push(t):this.rateLimiter.isServerRateLimited(t.batchKey)||(t.transport=t.transport||this.config.api_transport,t.url=cg(t.url,{ip:this.config.ip?1:0}),t.headers=this.config.request_headers,t.compression=t.compression==="best-available"?this.compression:t.compression,function(r){var s=Ce({},r);s.timeout=s.timeout||6e4,s.url=cg(s.url,{_:new Date().getTime().toString(),ver:$a.LIB_VERSION,compression:s.compression}),s.transport==="sendBeacon"&&Dd!=null&&Dd.sendBeacon?eF(s):s.transport==="fetch"&&rb?ZD(s):sb||!we?XD(s):tF(s)}(Ce(Ce({},t),{},{callback:function(r){var s,i,o;n.rateLimiter.checkForLimiting(r),r.statusCode>=400&&((i=(o=n.config).on_request_error)===null||i===void 0||i.call(o,r)),(s=t.callback)===null||s===void 0||s.call(t,r)}}))))}},{key:"_send_retriable_request",value:function(t){this._retryQueue?this._retryQueue.retriableRequest(t):this._send_request(t)}},{key:"_execute_array",value:function(t){var n,r=this,s=[],i=[],o=[];pc(t,function(l){l&&(n=l[0],Bn(n)?o.push(l):ai(l)?l.call(r):Bn(l)&&n==="alias"?s.push(l):Bn(l)&&n.indexOf("capture")!==-1&&ai(r[n])?o.push(l):i.push(l))});var a=function(l,c){pc(l,function(u){if(Bn(u[0])){var d=c;Vt(u,function(h){d=d[h[0]].apply(d,h.slice(1))})}else this[u[0]].apply(this,u.slice(1))},c)};a(s,this),a(i,this),a(o,this)}},{key:"_hasBootstrappedFeatureFlags",value:function(){var t,n;return((t=this.config.bootstrap)===null||t===void 0?void 0:t.featureFlags)&&Object.keys((n=this.config.bootstrap)===null||n===void 0?void 0:n.featureFlags).length>0||!1}},{key:"push",value:function(t){this._execute_array([t])}},{key:"capture",value:function(t,n,r){var s;if(!(this.__loaded&&this.persistence&&this.sessionPersistence&&this._requestQueue))return pe.uninitializedWarning("posthog.capture");if(!fP(this))if(r!=null&&r.skip_client_rate_limiting||!this.rateLimiter.isCaptureClientSideRateLimited())if(!He(t)&&vr(t)){if(!vn||this.config.opt_out_useragent_filter||!qE(vn,this.config.custom_blocked_useragents)){this.sessionPersistence.update_search_keyword(),this.config.store_google&&(this.sessionPersistence.update_campaign_params(),this.persistence.set_initial_campaign_params()),this.config.save_referrer&&(this.sessionPersistence.update_referrer_info(),this.persistence.set_initial_referrer_info());var i={uuid:Uo(),event:t,properties:this._calculate_event_properties(t,n||{})};if(r==null||!r._noHeatmaps){var o,a=(o=this.heatmaps)===null||o===void 0?void 0:o.getAndClearBuffer();a&&(i.properties.$heatmap_data=a)}r!=null&&r.$set&&(i.$set=r==null?void 0:r.$set);var l=this._calculate_set_once_properties(r==null?void 0:r.$set_once);l&&(i.$set_once=l),(i=zN(i,r!=null&&r._noTruncate?null:this.config.properties_string_max_length)).timestamp=(r==null?void 0:r.timestamp)||new Date,He(r==null?void 0:r.timestamp)||(i.properties.$event_time_override_provided=!0,i.properties.$event_time_override_system_time=new Date);var c=Ce(Ce({},i.properties.$set),i.$set);hy(c)||this.setPersonPropertiesForFlags(c),this._debugEventEmitter.emit("eventCaptured",i);var u={method:"POST",url:(s=r==null?void 0:r._url)!==null&&s!==void 0?s:this.requestRouter.endpointFor("api",this.analyticsDefaultEndpoint),data:i,compression:"best-available",batchKey:r==null?void 0:r._batchKey};return!this.config.request_batching||r&&(r==null||!r._batchKey)||r!=null&&r.send_instantly?this._send_retriable_request(u):this._requestQueue.enqueue(u),i}}else pe.error("No event name provided to posthog.capture");else pe.critical("This capture call is ignored due to client rate limiting.")}},{key:"_addCaptureHook",value:function(t){this.on("eventCaptured",function(n){return t(n.event)})}},{key:"_calculate_event_properties",value:function(t,n){if(!this.persistence||!this.sessionPersistence)return n;var r=this.persistence.remove_event_timer(t),s=Ce({},n);if(s.token=this.config.token,t==="$snapshot"){var i=Ce(Ce({},this.persistence.properties()),this.sessionPersistence.properties());return s.distinct_id=i.distinct_id,s}var o=qn.properties();if(this.sessionManager){var a=this.sessionManager.checkAndGetSessionAndWindowId(),l=a.sessionId,c=a.windowId;s.$session_id=l,s.$window_id=c}if(this.requestRouter.region===Ba.CUSTOM&&(s.$lib_custom_api_host=this.config.api_host),this.sessionPropsManager&&this.config.__preview_send_client_session_params&&(t==="$pageview"||t==="$pageleave"||t==="$autocapture")){var u=this.sessionPropsManager.getSessionProps();s=Gn(s,u)}if(!this.config.disable_scroll_properties){var d={};t==="$pageview"?d=this.pageViewManager.doPageView():t==="$pageleave"&&(d=this.pageViewManager.doPageLeave()),s=Gn(s,d)}if(t==="$pageview"&&we&&(s.title=we.title),!He(r)){var h=new Date().getTime()-r;s.$duration=parseFloat((h/1e3).toFixed(3))}vn&&this.config.opt_out_useragent_filter&&(s.$browser_type=qE(vn,this.config.custom_blocked_useragents)?"bot":"browser"),(s=Gn({},o,this.persistence.properties(),this.sessionPersistence.properties(),s)).$is_identified=this._isIdentified(),Bn(this.config.property_denylist)?Vt(this.config.property_denylist,function(g){delete s[g]}):pe.error("Invalid value for property_denylist config: "+this.config.property_denylist+" or property_blacklist config: "+this.config.property_blacklist);var p=this.config.sanitize_properties;return p&&(s=p(s,t)),s.$process_person_profile=this._hasPersonProcessing(),s}},{key:"_calculate_set_once_properties",value:function(t){if(!this.persistence||!this._hasPersonProcessing())return t;var n=Gn({},this.persistence.get_initial_props(),t||{});return hy(n)?void 0:n}},{key:"register",value:function(t,n){var r;(r=this.persistence)===null||r===void 0||r.register(t,n)}},{key:"register_once",value:function(t,n,r){var s;(s=this.persistence)===null||s===void 0||s.register_once(t,n,r)}},{key:"register_for_session",value:function(t){var n;(n=this.sessionPersistence)===null||n===void 0||n.register(t)}},{key:"unregister",value:function(t){var n;(n=this.persistence)===null||n===void 0||n.unregister(t)}},{key:"unregister_for_session",value:function(t){var n;(n=this.sessionPersistence)===null||n===void 0||n.unregister(t)}},{key:"_register_single",value:function(t,n){this.register(se({},t,n))}},{key:"getFeatureFlag",value:function(t,n){return this.featureFlags.getFeatureFlag(t,n)}},{key:"getFeatureFlagPayload",value:function(t){var n=this.featureFlags.getFeatureFlagPayload(t);try{return JSON.parse(n)}catch{return n}}},{key:"isFeatureEnabled",value:function(t,n){return this.featureFlags.isFeatureEnabled(t,n)}},{key:"reloadFeatureFlags",value:function(){this.featureFlags.reloadFeatureFlags()}},{key:"updateEarlyAccessFeatureEnrollment",value:function(t,n){this.featureFlags.updateEarlyAccessFeatureEnrollment(t,n)}},{key:"getEarlyAccessFeatures",value:function(t){var n=arguments.length>1&&arguments[1]!==void 0&&arguments[1];return this.featureFlags.getEarlyAccessFeatures(t,n)}},{key:"on",value:function(t,n){return this._debugEventEmitter.on(t,n)}},{key:"onFeatureFlags",value:function(t){return this.featureFlags.onFeatureFlags(t)}},{key:"onSessionId",value:function(t){var n,r;return(n=(r=this.sessionManager)===null||r===void 0?void 0:r.onSessionId(t))!==null&&n!==void 0?n:function(){}}},{key:"getSurveys",value:function(t){var n=arguments.length>1&&arguments[1]!==void 0&&arguments[1];this.surveys.getSurveys(t,n)}},{key:"getActiveMatchingSurveys",value:function(t){var n=arguments.length>1&&arguments[1]!==void 0&&arguments[1];this.surveys.getActiveMatchingSurveys(t,n)}},{key:"identify",value:function(t,n,r){if(!this.__loaded||!this.persistence)return pe.uninitializedWarning("posthog.identify");if(ei(t)&&(t=t.toString(),pe.warn("The first argument to posthog.identify was a number, but it should be a string. It has been converted to a string.")),t){if(["distinct_id","distinctid"].includes(t.toLowerCase()))pe.critical('The string "'.concat(t,'" was set in posthog.identify which indicates an error. This ID should be unique to the user and not a hardcoded string.'));else if(this._requirePersonProcessing("posthog.identify")){var s=this.get_distinct_id();if(this.register({$user_id:t}),!this.get_property("$device_id")){var i=s;this.register_once({$had_persisted_distinct_id:!0,$device_id:i},"")}t!==s&&t!==this.get_property(Qu)&&(this.unregister(Qu),this.register({distinct_id:t}));var o=(this.persistence.get_property(Ji)||"anonymous")==="anonymous";t!==s&&o?(this.persistence.set_property(Ji,"identified"),this.setPersonPropertiesForFlags(n||{},!1),this.capture("$identify",{distinct_id:t,$anon_distinct_id:s},{$set:n||{},$set_once:r||{}}),this.featureFlags.setAnonymousDistinctId(s)):(n||r)&&this.setPersonProperties(n,r),t!==s&&(this.reloadFeatureFlags(),this.unregister(ng))}}else pe.error("Unique user id has not been set in posthog.identify")}},{key:"setPersonProperties",value:function(t,n){(t||n)&&this._requirePersonProcessing("posthog.setPersonProperties")&&(this.setPersonPropertiesForFlags(t||{}),this.capture("$set",{$set:t||{},$set_once:n||{}}))}},{key:"group",value:function(t,n,r){if(t&&n){if(this._requirePersonProcessing("posthog.group")){var s=this.getGroups();s[t]!==n&&this.resetGroupPropertiesForFlags(t),this.register({$groups:Ce(Ce({},s),{},se({},t,n))}),r&&(this.capture("$groupidentify",{$group_type:t,$group_key:n,$group_set:r}),this.setGroupPropertiesForFlags(se({},t,r))),s[t]===n||r||this.reloadFeatureFlags()}}else pe.error("posthog.group requires a group type and group key")}},{key:"resetGroups",value:function(){this.register({$groups:{}}),this.resetGroupPropertiesForFlags(),this.reloadFeatureFlags()}},{key:"setPersonPropertiesForFlags",value:function(t){var n=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];this._requirePersonProcessing("posthog.setPersonPropertiesForFlags")&&this.featureFlags.setPersonPropertiesForFlags(t,n)}},{key:"resetPersonPropertiesForFlags",value:function(){this.featureFlags.resetPersonPropertiesForFlags()}},{key:"setGroupPropertiesForFlags",value:function(t){var n=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];this._requirePersonProcessing("posthog.setGroupPropertiesForFlags")&&this.featureFlags.setGroupPropertiesForFlags(t,n)}},{key:"resetGroupPropertiesForFlags",value:function(t){this.featureFlags.resetGroupPropertiesForFlags(t)}},{key:"reset",value:function(t){var n,r,s,i;if(!this.__loaded)return pe.uninitializedWarning("posthog.reset");var o=this.get_property("$device_id");(n=this.persistence)===null||n===void 0||n.clear(),(r=this.sessionPersistence)===null||r===void 0||r.clear(),(s=this.persistence)===null||s===void 0||s.set_property(Ji,"anonymous"),(i=this.sessionManager)===null||i===void 0||i.resetSessionId();var a=this.config.get_device_id(Uo());this.register_once({distinct_id:a,$device_id:t?a:o},"")}},{key:"get_distinct_id",value:function(){return this.get_property("distinct_id")}},{key:"getGroups",value:function(){return this.get_property("$groups")||{}}},{key:"get_session_id",value:function(){var t,n;return(t=(n=this.sessionManager)===null||n===void 0?void 0:n.checkAndGetSessionAndWindowId(!0).sessionId)!==null&&t!==void 0?t:""}},{key:"get_session_replay_url",value:function(t){if(!this.sessionManager)return"";var n=this.sessionManager.checkAndGetSessionAndWindowId(!0),r=n.sessionId,s=n.sessionStartTimestamp,i=this.requestRouter.endpointFor("ui","/project/".concat(this.config.token,"/replay/").concat(r));if(t!=null&&t.withTimestamp&&s){var o,a=(o=t.timestampLookBack)!==null&&o!==void 0?o:10;if(!s)return i;var l=Math.max(Math.floor((new Date().getTime()-s)/1e3)-a,0);i+="?t=".concat(l)}return i}},{key:"alias",value:function(t,n){return t===this.get_property($M)?(pe.critical("Attempting to create alias for existing People user - aborting."),-2):this._requirePersonProcessing("posthog.alias")?(He(n)&&(n=this.get_distinct_id()),t!==n?(this._register_single(Qu,t),this.capture("$create_alias",{alias:t,distinct_id:n})):(pe.warn("alias matches current distinct_id - skipping api call."),this.identify(t),-1)):void 0}},{key:"set_config",value:function(t){var n,r,s,i,o=Ce({},this.config);Mi(t)&&(Gn(this.config,JE(t)),(n=this.persistence)===null||n===void 0||n.update_config(this.config,o),this.sessionPersistence=this.config.persistence==="sessionStorage"?this.persistence:new vy(Ce(Ce({},this.config),{},{persistence:"sessionStorage"})),In.is_supported()&&In.get("ph_debug")==="true"&&(this.config.debug=!0),this.config.debug&&($a.DEBUG=!0),(r=this.sessionRecording)===null||r===void 0||r.startIfEnabledOrStop(),(s=this.autocapture)===null||s===void 0||s.startIfEnabled(),(i=this.heatmaps)===null||i===void 0||i.startIfEnabled(),this.surveys.loadIfEnabled())}},{key:"startSessionRecording",value:function(t){if(t!=null&&t.sampling){var n,r,s=(n=this.sessionManager)===null||n===void 0?void 0:n.checkAndGetSessionAndWindowId();(r=this.persistence)===null||r===void 0||r.register(se({},dd,!0)),pe.info("Session recording started with sampling override for session: ",s==null?void 0:s.sessionId)}this.set_config({disable_session_recording:!1})}},{key:"stopSessionRecording",value:function(){this.set_config({disable_session_recording:!0})}},{key:"sessionRecordingStarted",value:function(){var t;return!((t=this.sessionRecording)===null||t===void 0||!t.started)}},{key:"loadToolbar",value:function(t){return this.toolbar.loadToolbar(t)}},{key:"get_property",value:function(t){var n;return(n=this.persistence)===null||n===void 0?void 0:n.props[t]}},{key:"getSessionProperty",value:function(t){var n;return(n=this.sessionPersistence)===null||n===void 0?void 0:n.props[t]}},{key:"toString",value:function(){var t,n=(t=this.config.name)!==null&&t!==void 0?t:zl;return n!==zl&&(n=zl+"."+n),n}},{key:"_isIdentified",value:function(){var t,n;return((t=this.persistence)===null||t===void 0?void 0:t.get_property(Ji))==="identified"||((n=this.sessionPersistence)===null||n===void 0?void 0:n.get_property(Ji))==="identified"}},{key:"_hasPersonProcessing",value:function(){var t,n,r,s;return!(this.config.person_profiles==="never"||this.config.person_profiles==="identified_only"&&!this._isIdentified()&&hy(this.getGroups())&&((t=this.persistence)===null||t===void 0||(n=t.props)===null||n===void 0||!n[Qu])&&((r=this.persistence)===null||r===void 0||(s=r.props)===null||s===void 0||!s[rg]))}},{key:"_requirePersonProcessing",value:function(t){return this.config.person_profiles==="never"?(pe.error(t+' was called, but process_person is set to "never". This call will be ignored.'),!1):(this._register_single(rg,!0),!0)}},{key:"_gdpr_init",value:function(){this.config.opt_out_capturing_persistence_type==="localStorage"&&In.is_supported()&&(!this.has_opted_in_capturing()&&this.has_opted_in_capturing({persistence_type:"cookie"})&&this.opt_in_capturing({enable_persistence:!1}),!this.has_opted_out_capturing()&&this.has_opted_out_capturing({persistence_type:"cookie"})&&this.opt_out_capturing({clear_persistence:!1}),this.clear_opt_in_out_capturing({persistence_type:"cookie",enable_persistence:!1})),this.has_opted_out_capturing()?this._gdpr_update_persistence({clear_persistence:!0}):this.has_opted_in_capturing()||!this.config.opt_out_capturing_by_default&&!Li.get("ph_optout")||(Li.remove("ph_optout"),this.opt_out_capturing({clear_persistence:this.config.opt_out_persistence_by_default}))}},{key:"_gdpr_update_persistence",value:function(t){var n,r,s,i,o;if(t&&t.clear_persistence)s=!0;else{if(!t||!t.enable_persistence)return;s=!1}this.config.disable_persistence||((n=this.persistence)===null||n===void 0?void 0:n.disabled)===s||(i=this.persistence)===null||i===void 0||i.set_disabled(s),this.config.disable_persistence||((r=this.sessionPersistence)===null||r===void 0?void 0:r.disabled)===s||(o=this.sessionPersistence)===null||o===void 0||o.set_disabled(s)}},{key:"_gdpr_call_func",value:function(t,n){return n=Gn({capture:this.capture.bind(this),persistence_type:this.config.opt_out_capturing_persistence_type,cookie_prefix:this.config.opt_out_capturing_cookie_prefix,cookie_expiration:this.config.cookie_expiration,cross_subdomain_cookie:this.config.cross_subdomain_cookie,secure_cookie:this.config.secure_cookie},n||{}),In.is_supported()||n.persistence_type!=="localStorage"||(n.persistence_type="cookie"),t(this.config.token,{capture:n.capture,captureEventName:n.capture_event_name,captureProperties:n.capture_properties,persistenceType:n.persistence_type,persistencePrefix:n.cookie_prefix,cookieExpiration:n.cookie_expiration,crossSubdomainCookie:n.cross_subdomain_cookie,secureCookie:n.secure_cookie})}},{key:"opt_in_capturing",value:function(t){t=Gn({enable_persistence:!0},t||{}),this._gdpr_call_func(MD,t),this._gdpr_update_persistence(t)}},{key:"opt_out_capturing",value:function(t){var n=Gn({clear_persistence:!0},t||{});this._gdpr_call_func(PD,n),this._gdpr_update_persistence(n)}},{key:"has_opted_in_capturing",value:function(t){return this._gdpr_call_func(jD,t)}},{key:"has_opted_out_capturing",value:function(t){return this._gdpr_call_func(cP,t)}},{key:"clear_opt_in_out_capturing",value:function(t){var n=Gn({enable_persistence:!0},t??{});this._gdpr_call_func(OD,n),this._gdpr_update_persistence(n)}},{key:"debug",value:function(t){t===!1?(X==null||X.console.log("You've disabled debug mode."),localStorage&&localStorage.removeItem("ph_debug"),this.set_config({debug:!1})):(X==null||X.console.log("You're now in debug mode. All calls to PostHog will be logged in your console.\nYou can disable this with `posthog.debug(false)`."),localStorage&&localStorage.setItem("ph_debug","true"),this.set_config({debug:!0}))}}]),e}();(function(e,t){for(var n=0;n<t.length;n++)e.prototype[t[n]]=UN(e.prototype[t[n]])})(_P,["identify"]);var XE,ZE;(function(e){e.Popover="popover",e.API="api",e.Widget="widget"})(XE||(XE={})),function(e){e.Open="open",e.MultipleChoice="multiple_choice",e.SingleChoice="single_choice",e.Rating="rating",e.Link="link"}(ZE||(ZE={}));var ek,jn=(ek=hd[zl]=new _P,function(){function e(){e.done||(e.done=!0,AP=!1,Vt(hd,function(t){t._dom_loaded()}))}we!=null&&we.addEventListener&&(we.readyState==="complete"?e():we.addEventListener("DOMContentLoaded",e,!1)),X&&no(X,"load",e,!0)}(),ek);class _t{constructor(t,n=!1,r=!0){this.name=t,this.track=n,this.log=r,this.subscribers=[],this.lastParams=null,this.subscribe=(s,i=!1)=>{this.unsubscribe(s),this.subscribers.push(s),i&&this.lastParams!==null&&s(...this.lastParams)},this.unsubscribe=s=>{this.subscribers=this.subscribers.filter(i=>i!==s)},this.dispatch=(...s)=>{this.log&&console.log("dispatch",this.name,...s),this.subscribers.forEach(i=>i(...s)),this.lastParams=s,this.track&&jn.capture(this.name,this.track instanceof Function?this.track(...s):s)}}}const te={sectionChange:new _t("sectionChange",void 0,!1),playerAdded:new _t("playerAdded",!1),playerRemoved:new _t("playerRemoved",!1),songStarted:new _t("songStarted",!1),songEnded:new _t("songEnded",!1),remoteMicConnected:new _t("remoteMicConnected"),remoteMicDisconnected:new _t("remoteMicDisconnected"),playerNameChanged:new _t("playerNameChanged"),playerInputChanged:new _t("playerInputChanged",(e,t,n)=>({player:e,old:t==null?void 0:t.source,new:n==null?void 0:n.source})),inputListChanged:new _t("inputListChanged"),karaokeConnectionStatusChange:new _t("karaokeConnectionStatusChange"),remoteMicPlayerSet:new _t("remoteMicPlayerSet"),remoteMicMonitoringStarted:new _t("remoteMicMonitoringStarted"),remoteMicMonitoringStopped:new _t("remoteMicMonitoringStopped"),micMonitoringStarted:new _t("micMonitoringStarted"),micMonitoringStopped:new _t("micMonitoringStopped"),playerChangeRequested:new _t("playerChangeRequested",!0),songStatStored:new _t("songStatStored"),songScoreUpdated:new _t("songScoreUpdated",()=>{}),remoteMicSubscribed:new _t("remoteMicSubscribed"),remoteKeyboardPressed:new _t("remoteKeyboardPressed"),remoteSongSearch:new _t("remoteSongSearch",!0),remoteMicListUpdated:new _t("remoteMicListUpdated"),remoteKeyboardLayout:new _t("remoteKeyboardLayout"),remoteReadinessRequested:new _t("remoteReadinessRequested"),remoteStyleChanged:new _t("remoteStyleChanged"),remoteMicPermissionsSet:new _t("remoteMicPermissionsSet"),readinessConfirmed:new _t("remoteReadinessConfirmed"),minPlayerNumberChanged:new _t("minPlayerNumberChanged")};te.songStarted.subscribe(()=>{ri.clearData(),ri.startRecord()});te.songEnded.subscribe(()=>{ri.stopRecord()});function ug(e){"@babel/helpers - typeof";return ug=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ug(e)}var _F=/^\s+/,bF=/\s+$/;function de(e,t){if(e=e||"",t=t||{},e instanceof de)return e;if(!(this instanceof de))return new de(e,t);var n=SF(e);this._originalInput=e,this._r=n.r,this._g=n.g,this._b=n.b,this._a=n.a,this._roundA=Math.round(100*this._a)/100,this._format=t.format||n.format,this._gradientType=t.gradientType,this._r<1&&(this._r=Math.round(this._r)),this._g<1&&(this._g=Math.round(this._g)),this._b<1&&(this._b=Math.round(this._b)),this._ok=n.ok}de.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var t=this.toRgb();return(t.r*299+t.g*587+t.b*114)/1e3},getLuminance:function(){var t=this.toRgb(),n,r,s,i,o,a;return n=t.r/255,r=t.g/255,s=t.b/255,n<=.03928?i=n/12.92:i=Math.pow((n+.055)/1.055,2.4),r<=.03928?o=r/12.92:o=Math.pow((r+.055)/1.055,2.4),s<=.03928?a=s/12.92:a=Math.pow((s+.055)/1.055,2.4),.2126*i+.7152*o+.0722*a},setAlpha:function(t){return this._a=bP(t),this._roundA=Math.round(100*this._a)/100,this},toHsv:function(){var t=nk(this._r,this._g,this._b);return{h:t.h*360,s:t.s,v:t.v,a:this._a}},toHsvString:function(){var t=nk(this._r,this._g,this._b),n=Math.round(t.h*360),r=Math.round(t.s*100),s=Math.round(t.v*100);return this._a==1?"hsv("+n+", "+r+"%, "+s+"%)":"hsva("+n+", "+r+"%, "+s+"%, "+this._roundA+")"},toHsl:function(){var t=tk(this._r,this._g,this._b);return{h:t.h*360,s:t.s,l:t.l,a:this._a}},toHslString:function(){var t=tk(this._r,this._g,this._b),n=Math.round(t.h*360),r=Math.round(t.s*100),s=Math.round(t.l*100);return this._a==1?"hsl("+n+", "+r+"%, "+s+"%)":"hsla("+n+", "+r+"%, "+s+"%, "+this._roundA+")"},toHex:function(t){return rk(this._r,this._g,this._b,t)},toHexString:function(t){return"#"+this.toHex(t)},toHex8:function(t){return kF(this._r,this._g,this._b,this._a,t)},toHex8String:function(t){return"#"+this.toHex8(t)},toRgb:function(){return{r:Math.round(this._r),g:Math.round(this._g),b:Math.round(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+")":"rgba("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:Math.round(Kt(this._r,255)*100)+"%",g:Math.round(Kt(this._g,255)*100)+"%",b:Math.round(Kt(this._b,255)*100)+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+Math.round(Kt(this._r,255)*100)+"%, "+Math.round(Kt(this._g,255)*100)+"%, "+Math.round(Kt(this._b,255)*100)+"%)":"rgba("+Math.round(Kt(this._r,255)*100)+"%, "+Math.round(Kt(this._g,255)*100)+"%, "+Math.round(Kt(this._b,255)*100)+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":this._a<1?!1:BF[rk(this._r,this._g,this._b,!0)]||!1},toFilter:function(t){var n="#"+sk(this._r,this._g,this._b,this._a),r=n,s=this._gradientType?"GradientType = 1, ":"";if(t){var i=de(t);r="#"+sk(i._r,i._g,i._b,i._a)}return"progid:DXImageTransform.Microsoft.gradient("+s+"startColorstr="+n+",endColorstr="+r+")"},toString:function(t){var n=!!t;t=t||this._format;var r=!1,s=this._a<1&&this._a>=0,i=!n&&s&&(t==="hex"||t==="hex6"||t==="hex3"||t==="hex4"||t==="hex8"||t==="name");return i?t==="name"&&this._a===0?this.toName():this.toRgbString():(t==="rgb"&&(r=this.toRgbString()),t==="prgb"&&(r=this.toPercentageRgbString()),(t==="hex"||t==="hex6")&&(r=this.toHexString()),t==="hex3"&&(r=this.toHexString(!0)),t==="hex4"&&(r=this.toHex8String(!0)),t==="hex8"&&(r=this.toHex8String()),t==="name"&&(r=this.toName()),t==="hsl"&&(r=this.toHslString()),t==="hsv"&&(r=this.toHsvString()),r||this.toHexString())},clone:function(){return de(this.toString())},_applyModification:function(t,n){var r=t.apply(null,[this].concat([].slice.call(n)));return this._r=r._r,this._g=r._g,this._b=r._b,this.setAlpha(r._a),this},lighten:function(){return this._applyModification(RF,arguments)},brighten:function(){return this._applyModification(MF,arguments)},darken:function(){return this._applyModification(PF,arguments)},desaturate:function(){return this._applyModification(CF,arguments)},saturate:function(){return this._applyModification(IF,arguments)},greyscale:function(){return this._applyModification(TF,arguments)},spin:function(){return this._applyModification(jF,arguments)},_applyCombination:function(t,n){return t.apply(null,[this].concat([].slice.call(n)))},analogous:function(){return this._applyCombination(LF,arguments)},complement:function(){return this._applyCombination(OF,arguments)},monochromatic:function(){return this._applyCombination($F,arguments)},splitcomplement:function(){return this._applyCombination(VF,arguments)},triad:function(){return this._applyCombination(ik,[3])},tetrad:function(){return this._applyCombination(ik,[4])}};de.fromRatio=function(e,t){if(ug(e)=="object"){var n={};for(var r in e)e.hasOwnProperty(r)&&(r==="a"?n[r]=e[r]:n[r]=ed(e[r]));e=n}return de(e,t)};function SF(e){var t={r:0,g:0,b:0},n=1,r=null,s=null,i=null,o=!1,a=!1;return typeof e=="string"&&(e=UF(e)),ug(e)=="object"&&(Yi(e.r)&&Yi(e.g)&&Yi(e.b)?(t=wF(e.r,e.g,e.b),o=!0,a=String(e.r).substr(-1)==="%"?"prgb":"rgb"):Yi(e.h)&&Yi(e.s)&&Yi(e.v)?(r=ed(e.s),s=ed(e.v),t=EF(e.h,r,s),o=!0,a="hsv"):Yi(e.h)&&Yi(e.s)&&Yi(e.l)&&(r=ed(e.s),i=ed(e.l),t=xF(e.h,r,i),o=!0,a="hsl"),e.hasOwnProperty("a")&&(n=e.a)),n=bP(n),{ok:o,format:e.format||a,r:Math.min(255,Math.max(t.r,0)),g:Math.min(255,Math.max(t.g,0)),b:Math.min(255,Math.max(t.b,0)),a:n}}function wF(e,t,n){return{r:Kt(e,255)*255,g:Kt(t,255)*255,b:Kt(n,255)*255}}function tk(e,t,n){e=Kt(e,255),t=Kt(t,255),n=Kt(n,255);var r=Math.max(e,t,n),s=Math.min(e,t,n),i,o,a=(r+s)/2;if(r==s)i=o=0;else{var l=r-s;switch(o=a>.5?l/(2-r-s):l/(r+s),r){case e:i=(t-n)/l+(t<n?6:0);break;case t:i=(n-e)/l+2;break;case n:i=(e-t)/l+4;break}i/=6}return{h:i,s:o,l:a}}function xF(e,t,n){var r,s,i;e=Kt(e,360),t=Kt(t,100),n=Kt(n,100);function o(c,u,d){return d<0&&(d+=1),d>1&&(d-=1),d<1/6?c+(u-c)*6*d:d<1/2?u:d<2/3?c+(u-c)*(2/3-d)*6:c}if(t===0)r=s=i=n;else{var a=n<.5?n*(1+t):n+t-n*t,l=2*n-a;r=o(l,a,e+1/3),s=o(l,a,e),i=o(l,a,e-1/3)}return{r:r*255,g:s*255,b:i*255}}function nk(e,t,n){e=Kt(e,255),t=Kt(t,255),n=Kt(n,255);var r=Math.max(e,t,n),s=Math.min(e,t,n),i,o,a=r,l=r-s;if(o=r===0?0:l/r,r==s)i=0;else{switch(r){case e:i=(t-n)/l+(t<n?6:0);break;case t:i=(n-e)/l+2;break;case n:i=(e-t)/l+4;break}i/=6}return{h:i,s:o,v:a}}function EF(e,t,n){e=Kt(e,360)*6,t=Kt(t,100),n=Kt(n,100);var r=Math.floor(e),s=e-r,i=n*(1-t),o=n*(1-s*t),a=n*(1-(1-s)*t),l=r%6,c=[n,o,i,i,a,n][l],u=[a,n,n,o,i,i][l],d=[i,i,a,n,n,o][l];return{r:c*255,g:u*255,b:d*255}}function rk(e,t,n,r){var s=[si(Math.round(e).toString(16)),si(Math.round(t).toString(16)),si(Math.round(n).toString(16))];return r&&s[0].charAt(0)==s[0].charAt(1)&&s[1].charAt(0)==s[1].charAt(1)&&s[2].charAt(0)==s[2].charAt(1)?s[0].charAt(0)+s[1].charAt(0)+s[2].charAt(0):s.join("")}function kF(e,t,n,r,s){var i=[si(Math.round(e).toString(16)),si(Math.round(t).toString(16)),si(Math.round(n).toString(16)),si(SP(r))];return s&&i[0].charAt(0)==i[0].charAt(1)&&i[1].charAt(0)==i[1].charAt(1)&&i[2].charAt(0)==i[2].charAt(1)&&i[3].charAt(0)==i[3].charAt(1)?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0)+i[3].charAt(0):i.join("")}function sk(e,t,n,r){var s=[si(SP(r)),si(Math.round(e).toString(16)),si(Math.round(t).toString(16)),si(Math.round(n).toString(16))];return s.join("")}de.equals=function(e,t){return!e||!t?!1:de(e).toRgbString()==de(t).toRgbString()};de.random=function(){return de.fromRatio({r:Math.random(),g:Math.random(),b:Math.random()})};function CF(e,t){t=t===0?0:t||10;var n=de(e).toHsl();return n.s-=t/100,n.s=Pm(n.s),de(n)}function IF(e,t){t=t===0?0:t||10;var n=de(e).toHsl();return n.s+=t/100,n.s=Pm(n.s),de(n)}function TF(e){return de(e).desaturate(100)}function RF(e,t){t=t===0?0:t||10;var n=de(e).toHsl();return n.l+=t/100,n.l=Pm(n.l),de(n)}function MF(e,t){t=t===0?0:t||10;var n=de(e).toRgb();return n.r=Math.max(0,Math.min(255,n.r-Math.round(255*-(t/100)))),n.g=Math.max(0,Math.min(255,n.g-Math.round(255*-(t/100)))),n.b=Math.max(0,Math.min(255,n.b-Math.round(255*-(t/100)))),de(n)}function PF(e,t){t=t===0?0:t||10;var n=de(e).toHsl();return n.l-=t/100,n.l=Pm(n.l),de(n)}function jF(e,t){var n=de(e).toHsl(),r=(n.h+t)%360;return n.h=r<0?360+r:r,de(n)}function OF(e){var t=de(e).toHsl();return t.h=(t.h+180)%360,de(t)}function ik(e,t){if(isNaN(t)||t<=0)throw new Error("Argument to polyad must be a positive number");for(var n=de(e).toHsl(),r=[de(e)],s=360/t,i=1;i<t;i++)r.push(de({h:(n.h+i*s)%360,s:n.s,l:n.l}));return r}function VF(e){var t=de(e).toHsl(),n=t.h;return[de(e),de({h:(n+72)%360,s:t.s,l:t.l}),de({h:(n+216)%360,s:t.s,l:t.l})]}function LF(e,t,n){t=t||6,n=n||30;var r=de(e).toHsl(),s=360/n,i=[de(e)];for(r.h=(r.h-(s*t>>1)+720)%360;--t;)r.h=(r.h+s)%360,i.push(de(r));return i}function $F(e,t){t=t||6;for(var n=de(e).toHsv(),r=n.h,s=n.s,i=n.v,o=[],a=1/t;t--;)o.push(de({h:r,s,v:i})),i=(i+a)%1;return o}de.mix=function(e,t,n){n=n===0?0:n||50;var r=de(e).toRgb(),s=de(t).toRgb(),i=n/100,o={r:(s.r-r.r)*i+r.r,g:(s.g-r.g)*i+r.g,b:(s.b-r.b)*i+r.b,a:(s.a-r.a)*i+r.a};return de(o)};de.readability=function(e,t){var n=de(e),r=de(t);return(Math.max(n.getLuminance(),r.getLuminance())+.05)/(Math.min(n.getLuminance(),r.getLuminance())+.05)};de.isReadable=function(e,t,n){var r=de.readability(e,t),s,i;switch(i=!1,s=zF(n),s.level+s.size){case"AAsmall":case"AAAlarge":i=r>=4.5;break;case"AAlarge":i=r>=3;break;case"AAAsmall":i=r>=7;break}return i};de.mostReadable=function(e,t,n){var r=null,s=0,i,o,a,l;n=n||{},o=n.includeFallbackColors,a=n.level,l=n.size;for(var c=0;c<t.length;c++)i=de.readability(e,t[c]),i>s&&(s=i,r=de(t[c]));return de.isReadable(e,r,{level:a,size:l})||!o?r:(n.includeFallbackColors=!1,de.mostReadable(e,["#fff","#000"],n))};var w0=de.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},BF=de.hexNames=NF(w0);function NF(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[e[n]]=n);return t}function bP(e){return e=parseFloat(e),(isNaN(e)||e<0||e>1)&&(e=1),e}function Kt(e,t){DF(e)&&(e="100%");var n=FF(e);return e=Math.min(t,Math.max(0,parseFloat(e))),n&&(e=parseInt(e*t,10)/100),Math.abs(e-t)<1e-6?1:e%t/parseFloat(t)}function Pm(e){return Math.min(1,Math.max(0,e))}function Qr(e){return parseInt(e,16)}function DF(e){return typeof e=="string"&&e.indexOf(".")!=-1&&parseFloat(e)===1}function FF(e){return typeof e=="string"&&e.indexOf("%")!=-1}function si(e){return e.length==1?"0"+e:""+e}function ed(e){return e<=1&&(e=e*100+"%"),e}function SP(e){return Math.round(parseFloat(e)*255).toString(16)}function ok(e){return Qr(e)/255}var Ys=function(){var e="[-\\+]?\\d+%?",t="[-\\+]?\\d*\\.\\d+%?",n="(?:"+t+")|(?:"+e+")",r="[\\s|\\(]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")\\s*\\)?",s="[\\s|\\(]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")\\s*\\)?";return{CSS_UNIT:new RegExp(n),rgb:new RegExp("rgb"+r),rgba:new RegExp("rgba"+s),hsl:new RegExp("hsl"+r),hsla:new RegExp("hsla"+s),hsv:new RegExp("hsv"+r),hsva:new RegExp("hsva"+s),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function Yi(e){return!!Ys.CSS_UNIT.exec(e)}function UF(e){e=e.replace(_F,"").replace(bF,"").toLowerCase();var t=!1;if(w0[e])e=w0[e],t=!0;else if(e=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var n;return(n=Ys.rgb.exec(e))?{r:n[1],g:n[2],b:n[3]}:(n=Ys.rgba.exec(e))?{r:n[1],g:n[2],b:n[3],a:n[4]}:(n=Ys.hsl.exec(e))?{h:n[1],s:n[2],l:n[3]}:(n=Ys.hsla.exec(e))?{h:n[1],s:n[2],l:n[3],a:n[4]}:(n=Ys.hsv.exec(e))?{h:n[1],s:n[2],v:n[3]}:(n=Ys.hsva.exec(e))?{h:n[1],s:n[2],v:n[3],a:n[4]}:(n=Ys.hex8.exec(e))?{r:Qr(n[1]),g:Qr(n[2]),b:Qr(n[3]),a:ok(n[4]),format:t?"name":"hex8"}:(n=Ys.hex6.exec(e))?{r:Qr(n[1]),g:Qr(n[2]),b:Qr(n[3]),format:t?"name":"hex"}:(n=Ys.hex4.exec(e))?{r:Qr(n[1]+""+n[1]),g:Qr(n[2]+""+n[2]),b:Qr(n[3]+""+n[3]),a:ok(n[4]+""+n[4]),format:t?"name":"hex8"}:(n=Ys.hex3.exec(e))?{r:Qr(n[1]+""+n[1]),g:Qr(n[2]+""+n[2]),b:Qr(n[3]+""+n[3]),format:t?"name":"hex"}:!1}function zF(e){var t,n;return e=e||{level:"AA",size:"small"},t=(e.level||"AA").toUpperCase(),n=(e.size||"small").toLowerCase(),t!=="AA"&&t!=="AAA"&&(t="AA"),n!=="small"&&n!=="large"&&(n="small"),{level:t,size:n}}const HF=de("rgb(52, 166, 95)"),GF=de("rgb(15, 138, 95)"),qF=de("rgb(245, 98, 77)"),WF=de("rgb(204, 35, 30)"),wP=de("rgb(245, 220, 21)"),KF=de(wP.toRgbString()).darken(15),xP=de("rgb(255, 70, 223)"),YF=de(xP.toRgbString()).darken(15),EP=de("rgb(255, 119, 20)"),QF=de(EP.toRgbString()).darken(15),kP=de("rgb(31, 192, 223)"),JF=de(kP.toRgbString()).darken(15),CP=de("rgb(102, 44, 182)"),XF=de(CP.toRgbString()).darken(15),ZF=de("rgb(0, 153, 255)"),e6=de("rgb(0, 77, 128)"),t6=de("rgb(255, 54, 54)"),n6=de("rgb(117, 25, 25)"),r6=de("rgb(255, 213, 0)"),kp=de("rgb(255, 183, 0)"),As=(e,t)=>e.setAlpha(t).toRgbString(),Ws=(e,t)=>({text:As(e,1),stroke:As(t,1),star:{fill:As(kp,.5),stroke:As(kp,0),lineWidth:1},perfect:{fill:As(e,1),stroke:"white",lineWidth:1},starPerfect:{fill:As(r6,1),stroke:As(kp,1),lineWidth:2},hit:{fill:As(e,.9),stroke:As(t,0),lineWidth:1},miss:{fill:As(e,.25),stroke:As(t,1),lineWidth:1}}),cn={blue:Ws(ZF,e6),red:Ws(t6,n6),green:Ws(de("rgb(0,183,0)"),de("rgb(0,84,0)")),yellow:Ws(de("rgb(239,209,0)"),de("rgb(114,84,0)")),christmasGreen:Ws(HF,GF),christmasRed:Ws(qF,WF),eurovisionYellow:Ws(wP,KF),eurovisionPink:Ws(xP,YF),eurovisionOrange:Ws(EP,QF),eurovisionBlue:Ws(kP,JF),eurovisionViolet:Ws(CP,XF)};let bi=[cn.blue,cn.red,cn.green,cn.yellow];const Ye={colors:{players:bi,lines:{normal:{fill:"rgba(127, 127, 127, .7)",stroke:"black",lineWidth:1},star:{fill:"rgba(158, 144, 106, 1)",stroke:As(kp,1),lineWidth:1},freestyle:{fill:"rgba(255, 255, 255, 0.1)",stroke:"black",lineWidth:2}},text:{active:"rgb(255, 165, 0)",activeBorder:"rgb(101,75,22)",default:"white",inactive:"grey"}}},IP=e=>{e==="christmas"&&bi[0]!==cn.christmasGreen?(bi=[cn.christmasGreen,cn.christmasRed],Ye.colors.players=bi):e==="eurovision"&&bi[0]!==cn.eurovisionYellow?(bi=[cn.eurovisionBlue,cn.eurovisionViolet,cn.eurovisionYellow,cn.eurovisionPink],Ye.colors.players=bi):e==="regular"&&bi[0]!==cn.blue&&(bi=[cn.blue,cn.red,cn.green,cn.yellow],Ye.colors.players=bi)};function yc(e,t,n){e==null||e.send({t,...n})}var x0;try{x0=new TextDecoder}catch{}var ge,Rs,W=0,Ot={},it,zo,bs=0,Ii=0,Yn,oo,Hr=[],nt,ak={useRecords:!1,mapsAsObjects:!0};class TP{}const RP=new TP;RP.name="MessagePack 0xC1";var Yo=!1,MP=2,lk;try{new Function("")}catch{MP=1/0}class Gd{constructor(t){t&&(t.useRecords===!1&&t.mapsAsObjects===void 0&&(t.mapsAsObjects=!0),t.sequential&&t.trusted!==!1&&(t.trusted=!0,!t.structures&&t.useRecords!=!1&&(t.structures=[],t.maxSharedStructures||(t.maxSharedStructures=0))),t.structures?t.structures.sharedLength=t.structures.length:t.getStructures&&((t.structures=[]).uninitialized=!0,t.structures.sharedLength=0),t.int64AsNumber&&(t.int64AsType="number")),Object.assign(this,t)}unpack(t,n){if(ge)return $P(()=>(k0(),this?this.unpack(t,n):Gd.prototype.unpack.call(ak,t,n)));!t.buffer&&t.constructor===ArrayBuffer&&(t=typeof Buffer<"u"?Buffer.from(t):new Uint8Array(t)),typeof n=="object"?(Rs=n.end||t.length,W=n.start||0):(W=0,Rs=n>-1?n:t.length),Ii=0,zo=null,Yn=null,ge=t;try{nt=t.dataView||(t.dataView=new DataView(t.buffer,t.byteOffset,t.byteLength))}catch(r){throw ge=null,t instanceof Uint8Array?r:new Error("Source must be a Uint8Array or Buffer but was a "+(t&&typeof t=="object"?t.constructor.name:typeof t))}if(this instanceof Gd){if(Ot=this,this.structures)return it=this.structures,bh(n);(!it||it.length>0)&&(it=[])}else Ot=ak,(!it||it.length>0)&&(it=[]);return bh(n)}unpackMultiple(t,n){let r,s=0;try{Yo=!0;let i=t.length,o=this?this.unpack(t,i):jm.unpack(t,i);if(n){if(n(o,s,W)===!1)return;for(;W<i;)if(s=W,n(bh(),s,W)===!1)return}else{for(r=[o];W<i;)s=W,r.push(bh());return r}}catch(i){throw i.lastPosition=s,i.values=r,i}finally{Yo=!1,k0()}}_mergeStructures(t,n){t=t||[],Object.isFrozen(t)&&(t=t.map(r=>r.slice(0)));for(let r=0,s=t.length;r<s;r++){let i=t[r];i&&(i.isShared=!0,r>=32&&(i.highByte=r-32>>5))}t.sharedLength=t.length;for(let r in n||[])if(r>=0){let s=t[r],i=n[r];i&&(s&&((t.restoreStructures||(t.restoreStructures=[]))[r]=s),t[r]=i)}return this.structures=t}decode(t,n){return this.unpack(t,n)}}function bh(e){try{if(!Ot.trusted&&!Yo){let n=it.sharedLength||0;n<it.length&&(it.length=n)}let t;if(Ot.randomAccessStructure&&ge[W]<64&&ge[W]>=32&&lk?(t=lk(ge,W,Rs,Ot),ge=null,!(e&&e.lazy)&&t&&(t=t.toJSON()),W=Rs):t=An(),Yn&&(W=Yn.postBundlePosition,Yn=null),Yo&&(it.restoreStructures=null),W==Rs)it&&it.restoreStructures&&ck(),it=null,ge=null,oo&&(oo=null);else{if(W>Rs)throw new Error("Unexpected end of MessagePack data");if(!Yo){let n;try{n=JSON.stringify(t,(r,s)=>typeof s=="bigint"?`${s}n`:s).slice(0,100)}catch(r){n="(JSON view not available "+r+")"}throw new Error("Data read, but end of buffer not reached "+n)}}return t}catch(t){throw it&&it.restoreStructures&&ck(),k0(),(t instanceof RangeError||t.message.startsWith("Unexpected end of buffer")||W>Rs)&&(t.incomplete=!0),t}}function ck(){for(let e in it.restoreStructures)it[e]=it.restoreStructures[e];it.restoreStructures=null}function An(){let e=ge[W++];if(e<160)if(e<128){if(e<64)return e;{let t=it[e&63]||Ot.getStructures&&PP()[e&63];return t?(t.read||(t.read=mb(t,e&63)),t.read()):e}}else if(e<144)if(e-=128,Ot.mapsAsObjects){let t={};for(let n=0;n<e;n++){let r=OP();r==="__proto__"&&(r="__proto_"),t[r]=An()}return t}else{let t=new Map;for(let n=0;n<e;n++)t.set(An(),An());return t}else{e-=144;let t=new Array(e);for(let n=0;n<e;n++)t[n]=An();return Ot.freezeData?Object.freeze(t):t}else if(e<192){let t=e-160;if(Ii>=W)return zo.slice(W-bs,(W+=t)-bs);if(Ii==0&&Rs<140){let n=t<16?vb(t):jP(t);if(n!=null)return n}return E0(t)}else{let t;switch(e){case 192:return null;case 193:return Yn?(t=An(),t>0?Yn[1].slice(Yn.position1,Yn.position1+=t):Yn[0].slice(Yn.position0,Yn.position0-=t)):RP;case 194:return!1;case 195:return!0;case 196:if(t=ge[W++],t===void 0)throw new Error("Unexpected end of buffer");return xy(t);case 197:return t=nt.getUint16(W),W+=2,xy(t);case 198:return t=nt.getUint32(W),W+=4,xy(t);case 199:return xa(ge[W++]);case 200:return t=nt.getUint16(W),W+=2,xa(t);case 201:return t=nt.getUint32(W),W+=4,xa(t);case 202:if(t=nt.getFloat32(W),Ot.useFloat32>2){let n=yb[(ge[W]&127)<<1|ge[W+1]>>7];return W+=4,(n*t+(t>0?.5:-.5)>>0)/n}return W+=4,t;case 203:return t=nt.getFloat64(W),W+=8,t;case 204:return ge[W++];case 205:return t=nt.getUint16(W),W+=2,t;case 206:return t=nt.getUint32(W),W+=4,t;case 207:return Ot.int64AsType==="number"?(t=nt.getUint32(W)*4294967296,t+=nt.getUint32(W+4)):Ot.int64AsType==="string"?t=nt.getBigUint64(W).toString():Ot.int64AsType==="auto"?(t=nt.getBigUint64(W),t<=BigInt(2)<<BigInt(52)&&(t=Number(t))):t=nt.getBigUint64(W),W+=8,t;case 208:return nt.getInt8(W++);case 209:return t=nt.getInt16(W),W+=2,t;case 210:return t=nt.getInt32(W),W+=4,t;case 211:return Ot.int64AsType==="number"?(t=nt.getInt32(W)*4294967296,t+=nt.getUint32(W+4)):Ot.int64AsType==="string"?t=nt.getBigInt64(W).toString():Ot.int64AsType==="auto"?(t=nt.getBigInt64(W),t>=BigInt(-2)<<BigInt(52)&&t<=BigInt(2)<<BigInt(52)&&(t=Number(t))):t=nt.getBigInt64(W),W+=8,t;case 212:if(t=ge[W++],t==114)return gk(ge[W++]&63);{let n=Hr[t];if(n)return n.read?(W++,n.read(An())):n.noBuffer?(W++,n()):n(ge.subarray(W,++W));throw new Error("Unknown extension "+t)}case 213:return t=ge[W],t==114?(W++,gk(ge[W++]&63,ge[W++])):xa(2);case 214:return xa(4);case 215:return xa(8);case 216:return xa(16);case 217:return t=ge[W++],Ii>=W?zo.slice(W-bs,(W+=t)-bs):i6(t);case 218:return t=nt.getUint16(W),W+=2,Ii>=W?zo.slice(W-bs,(W+=t)-bs):o6(t);case 219:return t=nt.getUint32(W),W+=4,Ii>=W?zo.slice(W-bs,(W+=t)-bs):a6(t);case 220:return t=nt.getUint16(W),W+=2,dk(t);case 221:return t=nt.getUint32(W),W+=4,dk(t);case 222:return t=nt.getUint16(W),W+=2,fk(t);case 223:return t=nt.getUint32(W),W+=4,fk(t);default:if(e>=224)return e-256;if(e===void 0){let n=new Error("Unexpected end of MessagePack data");throw n.incomplete=!0,n}throw new Error("Unknown MessagePack token "+e)}}}const s6=/^[a-zA-Z_$][a-zA-Z\d_$]*$/;function mb(e,t){function n(){if(n.count++>MP){let s=e.read=new Function("r","return function(){return "+(Ot.freezeData?"Object.freeze":"")+"({"+e.map(i=>i==="__proto__"?"__proto_:r()":s6.test(i)?i+":r()":"["+JSON.stringify(i)+"]:r()").join(",")+"})}")(An);return e.highByte===0&&(e.read=uk(t,e.read)),s()}let r={};for(let s=0,i=e.length;s<i;s++){let o=e[s];o==="__proto__"&&(o="__proto_"),r[o]=An()}return Ot.freezeData?Object.freeze(r):r}return n.count=0,e.highByte===0?uk(t,n):n}const uk=(e,t)=>function(){let n=ge[W++];if(n===0)return t();let r=e<32?-(e+(n<<5)):e+(n<<5),s=it[r]||PP()[r];if(!s)throw new Error("Record id is not defined for "+r);return s.read||(s.read=mb(s,e)),s.read()};function PP(){let e=$P(()=>(ge=null,Ot.getStructures()));return it=Ot._mergeStructures(e,it)}var E0=jf,i6=jf,o6=jf,a6=jf;function jf(e){let t;if(e<16&&(t=vb(e)))return t;if(e>64&&x0)return x0.decode(ge.subarray(W,W+=e));const n=W+e,r=[];for(t="";W<n;){const s=ge[W++];if(!(s&128))r.push(s);else if((s&224)===192){const i=ge[W++]&63;r.push((s&31)<<6|i)}else if((s&240)===224){const i=ge[W++]&63,o=ge[W++]&63;r.push((s&31)<<12|i<<6|o)}else if((s&248)===240){const i=ge[W++]&63,o=ge[W++]&63,a=ge[W++]&63;let l=(s&7)<<18|i<<12|o<<6|a;l>65535&&(l-=65536,r.push(l>>>10&1023|55296),l=56320|l&1023),r.push(l)}else r.push(s);r.length>=4096&&(t+=Hn.apply(String,r),r.length=0)}return r.length>0&&(t+=Hn.apply(String,r)),t}function dk(e){let t=new Array(e);for(let n=0;n<e;n++)t[n]=An();return Ot.freezeData?Object.freeze(t):t}function fk(e){if(Ot.mapsAsObjects){let t={};for(let n=0;n<e;n++){let r=OP();r==="__proto__"&&(r="__proto_"),t[r]=An()}return t}else{let t=new Map;for(let n=0;n<e;n++)t.set(An(),An());return t}}var Hn=String.fromCharCode;function jP(e){let t=W,n=new Array(e);for(let r=0;r<e;r++){const s=ge[W++];if((s&128)>0){W=t;return}n[r]=s}return Hn.apply(String,n)}function vb(e){if(e<4)if(e<2){if(e===0)return"";{let t=ge[W++];if((t&128)>1){W-=1;return}return Hn(t)}}else{let t=ge[W++],n=ge[W++];if((t&128)>0||(n&128)>0){W-=2;return}if(e<3)return Hn(t,n);let r=ge[W++];if((r&128)>0){W-=3;return}return Hn(t,n,r)}else{let t=ge[W++],n=ge[W++],r=ge[W++],s=ge[W++];if((t&128)>0||(n&128)>0||(r&128)>0||(s&128)>0){W-=4;return}if(e<6){if(e===4)return Hn(t,n,r,s);{let i=ge[W++];if((i&128)>0){W-=5;return}return Hn(t,n,r,s,i)}}else if(e<8){let i=ge[W++],o=ge[W++];if((i&128)>0||(o&128)>0){W-=6;return}if(e<7)return Hn(t,n,r,s,i,o);let a=ge[W++];if((a&128)>0){W-=7;return}return Hn(t,n,r,s,i,o,a)}else{let i=ge[W++],o=ge[W++],a=ge[W++],l=ge[W++];if((i&128)>0||(o&128)>0||(a&128)>0||(l&128)>0){W-=8;return}if(e<10){if(e===8)return Hn(t,n,r,s,i,o,a,l);{let c=ge[W++];if((c&128)>0){W-=9;return}return Hn(t,n,r,s,i,o,a,l,c)}}else if(e<12){let c=ge[W++],u=ge[W++];if((c&128)>0||(u&128)>0){W-=10;return}if(e<11)return Hn(t,n,r,s,i,o,a,l,c,u);let d=ge[W++];if((d&128)>0){W-=11;return}return Hn(t,n,r,s,i,o,a,l,c,u,d)}else{let c=ge[W++],u=ge[W++],d=ge[W++],h=ge[W++];if((c&128)>0||(u&128)>0||(d&128)>0||(h&128)>0){W-=12;return}if(e<14){if(e===12)return Hn(t,n,r,s,i,o,a,l,c,u,d,h);{let p=ge[W++];if((p&128)>0){W-=13;return}return Hn(t,n,r,s,i,o,a,l,c,u,d,h,p)}}else{let p=ge[W++],g=ge[W++];if((p&128)>0||(g&128)>0){W-=14;return}if(e<15)return Hn(t,n,r,s,i,o,a,l,c,u,d,h,p,g);let m=ge[W++];if((m&128)>0){W-=15;return}return Hn(t,n,r,s,i,o,a,l,c,u,d,h,p,g,m)}}}}}function hk(){let e=ge[W++],t;if(e<192)t=e-160;else switch(e){case 217:t=ge[W++];break;case 218:t=nt.getUint16(W),W+=2;break;case 219:t=nt.getUint32(W),W+=4;break;default:throw new Error("Expected string")}return jf(t)}function xy(e){return Ot.copyBuffers?Uint8Array.prototype.slice.call(ge,W,W+=e):ge.subarray(W,W+=e)}function xa(e){let t=ge[W++];if(Hr[t]){let n;return Hr[t](ge.subarray(W,n=W+=e),r=>{W=r;try{return An()}finally{W=n}})}else throw new Error("Unknown extension type "+t)}var pk=new Array(4096);function OP(){let e=ge[W++];if(e>=160&&e<192){if(e=e-160,Ii>=W)return zo.slice(W-bs,(W+=e)-bs);if(!(Ii==0&&Rs<180))return E0(e)}else return W--,VP(An());let t=(e<<5^(e>1?nt.getUint16(W):e>0?ge[W]:0))&4095,n=pk[t],r=W,s=W+e-3,i,o=0;if(n&&n.bytes==e){for(;r<s;){if(i=nt.getUint32(r),i!=n[o++]){r=1879048192;break}r+=4}for(s+=3;r<s;)if(i=ge[r++],i!=n[o++]){r=1879048192;break}if(r===s)return W=r,n.string;s-=3,r=W}for(n=[],pk[t]=n,n.bytes=e;r<s;)i=nt.getUint32(r),n.push(i),r+=4;for(s+=3;r<s;)i=ge[r++],n.push(i);let a=e<16?vb(e):jP(e);return a!=null?n.string=a:n.string=E0(e)}function VP(e){if(typeof e=="string")return e;if(typeof e=="number")return e.toString();throw new Error("Invalid property type for record",typeof e)}const gk=(e,t)=>{let n=An().map(VP),r=e;t!==void 0&&(e=e<32?-((t<<5)+e):(t<<5)+e,n.highByte=t);let s=it[e];return s&&(s.isShared||Yo)&&((it.restoreStructures||(it.restoreStructures=[]))[e]=s),it[e]=n,n.read=mb(n,r),n.read()};Hr[0]=()=>{};Hr[0].noBuffer=!0;Hr[66]=e=>{let t=e.length,n=BigInt(e[0]&128?e[0]-256:e[0]);for(let r=1;r<t;r++)n<<=8n,n+=BigInt(e[r]);return n};let l6={Error,TypeError,ReferenceError};Hr[101]=()=>{let e=An();return(l6[e[0]]||Error)(e[1])};Hr[105]=e=>{if(Ot.structuredClone===!1)throw new Error("Structured clone extension is disabled");let t=nt.getUint32(W-4);oo||(oo=new Map);let n=ge[W],r;n>=144&&n<160||n==220||n==221?r=[]:r={};let s={target:r};oo.set(t,s);let i=An();return s.used?Object.assign(r,i):(s.target=i,i)};Hr[112]=e=>{if(Ot.structuredClone===!1)throw new Error("Structured clone extension is disabled");let t=nt.getUint32(W-4),n=oo.get(t);return n.used=!0,n.target};Hr[115]=()=>new Set(An());const LP=["Int8","Uint8","Uint8Clamped","Int16","Uint16","Int32","Uint32","Float32","Float64","BigInt64","BigUint64"].map(e=>e+"Array");let c6=typeof globalThis=="object"?globalThis:window;Hr[116]=e=>{let t=e[0],n=LP[t];if(!n)throw new Error("Could not find typed array for code "+t);return new c6[n](Uint8Array.prototype.slice.call(e,1).buffer)};Hr[120]=()=>{let e=An();return new RegExp(e[0],e[1])};const u6=[];Hr[98]=e=>{let t=(e[0]<<24)+(e[1]<<16)+(e[2]<<8)+e[3],n=W;return W+=t-e.length,Yn=u6,Yn=[hk(),hk()],Yn.position0=0,Yn.position1=0,Yn.postBundlePosition=W,W=n,An()};Hr[255]=e=>e.length==4?new Date((e[0]*16777216+(e[1]<<16)+(e[2]<<8)+e[3])*1e3):e.length==8?new Date(((e[0]<<22)+(e[1]<<14)+(e[2]<<6)+(e[3]>>2))/1e6+((e[3]&3)*4294967296+e[4]*16777216+(e[5]<<16)+(e[6]<<8)+e[7])*1e3):e.length==12?new Date(((e[0]<<24)+(e[1]<<16)+(e[2]<<8)+e[3])/1e6+((e[4]&128?-281474976710656:0)+e[6]*1099511627776+e[7]*4294967296+e[8]*16777216+(e[9]<<16)+(e[10]<<8)+e[11])*1e3):new Date("invalid");function $P(e){let t=Rs,n=W,r=bs,s=Ii,i=zo,o=oo,a=Yn,l=new Uint8Array(ge.slice(0,Rs)),c=it,u=it.slice(0,it.length),d=Ot,h=Yo,p=e();return Rs=t,W=n,bs=r,Ii=s,zo=i,oo=o,Yn=a,ge=l,Yo=h,it=c,it.splice(0,it.length,...u),Ot=d,nt=new DataView(ge.buffer,ge.byteOffset,ge.byteLength),p}function k0(){ge=null,oo=null,it=null}const yb=new Array(147);for(let e=0;e<256;e++)yb[e]=+("1e"+Math.floor(45.15-e*.30103));var jm=new Gd({useRecords:!1});const d6=jm.unpack;jm.unpackMultiple;jm.unpack;let f6=new Float32Array(1);new Uint8Array(f6.buffer,0,4);let Cp;try{Cp=new TextEncoder}catch{}let C0,BP;const Om=typeof Buffer<"u",Sh=Om?function(e){return Buffer.allocUnsafeSlow(e)}:Uint8Array,NP=Om?Buffer:Uint8Array,mk=Om?4294967296:2144337920;let J,Mu,kt,K=0,br,Zt=null,h6;const p6=21760,g6=/[\u0080-\uFFFF]/,Pl=Symbol("record-id");class m6 extends Gd{constructor(t){super(t),this.offset=0;let n,r,s,i,o=NP.prototype.utf8Write?function(P,L){return J.utf8Write(P,L,4294967295)}:Cp&&Cp.encodeInto?function(P,L){return Cp.encodeInto(P,J.subarray(L)).written}:!1,a=this;t||(t={});let l=t&&t.sequential,c=t.structures||t.saveStructures,u=t.maxSharedStructures;if(u==null&&(u=c?32:0),u>8160)throw new Error("Maximum maxSharedStructure is 8160");t.structuredClone&&t.moreTypes==null&&(this.moreTypes=!0);let d=t.maxOwnStructures;d==null&&(d=c?32:64),!this.structures&&t.useRecords!=!1&&(this.structures=[]);let h=u>32||d+u>64,p=u+64,g=u+d+64;if(g>8256)throw new Error("Maximum maxSharedStructure + maxOwnStructure is 8192");let m=[],_=0,v=0;this.pack=this.encode=function(P,L){if(J||(J=new Sh(8192),kt=J.dataView||(J.dataView=new DataView(J.buffer,0,8192)),K=0),br=J.length-10,br-K<2048?(J=new Sh(J.length),kt=J.dataView||(J.dataView=new DataView(J.buffer,0,J.length)),br=J.length-10,K=0):K=K+7&2147483640,n=K,L&S6&&(K+=L&255),i=a.structuredClone?new Map:null,a.bundleStrings&&typeof P!="string"?(Zt=[],Zt.size=1/0):Zt=null,s=a.structures,s){s.uninitialized&&(s=a._mergeStructures(a.getStructures()));let I=s.sharedLength||0;if(I>u)throw new Error("Shared structures is larger than maximum shared structures, try increasing maxSharedStructures to "+s.sharedLength);if(!s.transitions){s.transitions=Object.create(null);for(let z=0;z<I;z++){let j=s[z];if(!j)continue;let N,V=s.transitions;for(let G=0,F=j.length;G<F;G++){let ne=j[G];N=V[ne],N||(N=V[ne]=Object.create(null)),V=N}V[Pl]=z+64}this.lastNamedStructuresLength=I}l||(s.nextId=I+64)}r&&(r=!1);let M;try{a.randomAccessStructure&&P&&P.constructor&&P.constructor===Object?Q(P):w(P);let I=Zt;if(Zt&&Ak(n,w,0),i&&i.idsToInsert){let z=i.idsToInsert.sort((G,F)=>G.offset>F.offset?1:-1),j=z.length,N=-1;for(;I&&j>0;){let G=z[--j].offset+n;G<I.stringsPosition+n&&N===-1&&(N=0),G>I.position+n?N>=0&&(N+=6):(N>=0&&(kt.setUint32(I.position+n,kt.getUint32(I.position+n)+N),N=-1),I=I.previous,j++)}N>=0&&I&&kt.setUint32(I.position+n,kt.getUint32(I.position+n)+N),K+=z.length*6,K>br&&U(K),a.offset=K;let V=y6(J.subarray(n,K),z);return i=null,V}return a.offset=K,L&_6?(J.start=n,J.end=K,J):J.subarray(n,K)}catch(I){throw M=I,I}finally{if(s&&(y(),r&&a.saveStructures)){let I=s.sharedLength||0,z=J.subarray(n,K),j=A6(s,a);if(!M)return a.saveStructures(j,j.isCompatible)===!1?a.pack(P,L):(a.lastNamedStructuresLength=I,z)}L&b6&&(K=n)}};const y=()=>{v<10&&v++;let P=s.sharedLength||0;if(s.length>P&&!l&&(s.length=P),_>1e4)s.transitions=null,v=0,_=0,m.length>0&&(m=[]);else if(m.length>0&&!l){for(let L=0,M=m.length;L<M;L++)m[L][Pl]=0;m=[]}},b=P=>{var L=P.length;L<16?J[K++]=144|L:L<65536?(J[K++]=220,J[K++]=L>>8,J[K++]=L&255):(J[K++]=221,kt.setUint32(K,L),K+=4);for(let M=0;M<L;M++)w(P[M])},w=P=>{K>br&&(J=U(K));var L=typeof P,M;if(L==="string"){let I=P.length;if(Zt&&I>=4&&I<4096){if((Zt.size+=I)>p6){let V,G=(Zt[0]?Zt[0].length*3+Zt[1].length:0)+10;K+G>br&&(J=U(K+G));let F;Zt.position?(F=Zt,J[K]=200,K+=3,J[K++]=98,V=K-n,K+=4,Ak(n,w,0),kt.setUint16(V+n-3,K-n-V)):(J[K++]=214,J[K++]=98,V=K-n,K+=4),Zt=["",""],Zt.previous=F,Zt.size=0,Zt.position=V}let N=g6.test(P);Zt[N?0:1]+=P,J[K++]=193,w(N?-I:I);return}let z;I<32?z=1:I<256?z=2:I<65536?z=3:z=5;let j=I*3;if(K+j>br&&(J=U(K+j)),I<64||!o){let N,V,G,F=K+z;for(N=0;N<I;N++)V=P.charCodeAt(N),V<128?J[F++]=V:V<2048?(J[F++]=V>>6|192,J[F++]=V&63|128):(V&64512)===55296&&((G=P.charCodeAt(N+1))&64512)===56320?(V=65536+((V&1023)<<10)+(G&1023),N++,J[F++]=V>>18|240,J[F++]=V>>12&63|128,J[F++]=V>>6&63|128,J[F++]=V&63|128):(J[F++]=V>>12|224,J[F++]=V>>6&63|128,J[F++]=V&63|128);M=F-K-z}else M=o(P,K+z);M<32?J[K++]=160|M:M<256?(z<2&&J.copyWithin(K+2,K+1,K+1+M),J[K++]=217,J[K++]=M):M<65536?(z<3&&J.copyWithin(K+3,K+2,K+2+M),J[K++]=218,J[K++]=M>>8,J[K++]=M&255):(z<5&&J.copyWithin(K+5,K+3,K+3+M),J[K++]=219,kt.setUint32(K,M),K+=4),K+=M}else if(L==="number")if(P>>>0===P)P<32||P<128&&this.useRecords===!1||P<64&&!this.randomAccessStructure?J[K++]=P:P<256?(J[K++]=204,J[K++]=P):P<65536?(J[K++]=205,J[K++]=P>>8,J[K++]=P&255):(J[K++]=206,kt.setUint32(K,P),K+=4);else if(P>>0===P)P>=-32?J[K++]=256+P:P>=-128?(J[K++]=208,J[K++]=P+256):P>=-32768?(J[K++]=209,kt.setInt16(K,P),K+=2):(J[K++]=210,kt.setInt32(K,P),K+=4);else{let I;if((I=this.useFloat32)>0&&P<4294967296&&P>=-2147483648){J[K++]=202,kt.setFloat32(K,P);let z;if(I<4||(z=P*yb[(J[K]&127)<<1|J[K+1]>>7])>>0===z){K+=4;return}else K--}J[K++]=203,kt.setFloat64(K,P),K+=8}else if(L==="object"||L==="function")if(!P)J[K++]=192;else{if(i){let z=i.get(P);if(z){if(!z.id){let j=i.idsToInsert||(i.idsToInsert=[]);z.id=j.push(z)}J[K++]=214,J[K++]=112,kt.setUint32(K,z.id),K+=4;return}else i.set(P,{offset:K-n})}let I=P.constructor;if(I===Object)T(P,!0);else if(I===Array)b(P);else if(I===Map)if(this.mapAsEmptyObject)J[K++]=128;else{M=P.size,M<16?J[K++]=128|M:M<65536?(J[K++]=222,J[K++]=M>>8,J[K++]=M&255):(J[K++]=223,kt.setUint32(K,M),K+=4);for(let[z,j]of P)w(z),w(j)}else{for(let z=0,j=C0.length;z<j;z++){let N=BP[z];if(P instanceof N){let V=C0[z];if(V.write){V.type&&(J[K++]=212,J[K++]=V.type,J[K++]=0);let fe=V.write.call(this,P);fe===P?Array.isArray(P)?b(P):T(P):w(fe);return}let G=J,F=kt,ne=K;J=null;let O;try{O=V.pack.call(this,P,fe=>(J=G,G=null,K+=fe,K>br&&U(K),{target:J,targetView:kt,position:K-fe}),w)}finally{G&&(J=G,kt=F,K=ne,br=J.length-10)}O&&(O.length+K>br&&U(O.length+K),K=v6(O,J,K,V.type));return}}if(Array.isArray(P))b(P);else{if(P.toJSON){const z=P.toJSON();if(z!==P)return w(z)}if(L==="function")return w(this.writeFunction&&this.writeFunction(P));T(P,!P.hasOwnProperty)}}}else if(L==="boolean")J[K++]=P?195:194;else if(L==="bigint"){if(P<BigInt(1)<<BigInt(63)&&P>=-(BigInt(1)<<BigInt(63)))J[K++]=211,kt.setBigInt64(K,P);else if(P<BigInt(1)<<BigInt(64)&&P>0)J[K++]=207,kt.setBigUint64(K,P);else if(this.largeBigIntToFloat)J[K++]=203,kt.setFloat64(K,Number(P));else if(this.useBigIntExtension&&P<2n**1023n&&P>-(2n**1023n)){J[K++]=199,K++,J[K++]=66;let I=[],z;do{let j=P&0xffn;z=(j&0x80n)===(P<0n?0x80n:0n),I.push(j),P>>=8n}while(!((P===0n||P===-1n)&&z));J[K-2]=I.length;for(let j=I.length;j>0;)J[K++]=Number(I[--j]);return}else throw new RangeError(P+" was too large to fit in MessagePack 64-bit integer format, use useBigIntExtension or set largeBigIntToFloat to convert to float-64");K+=8}else if(L==="undefined")this.encodeUndefinedAsNil?J[K++]=192:(J[K++]=212,J[K++]=0,J[K++]=0);else throw new Error("Unknown type: "+L)},S=this.variableMapSize||this.coercibleKeyAsNumber?P=>{let L=Object.keys(P),M=L.length;M<16?J[K++]=128|M:M<65536?(J[K++]=222,J[K++]=M>>8,J[K++]=M&255):(J[K++]=223,kt.setUint32(K,M),K+=4);let I;if(this.coercibleKeyAsNumber)for(let z=0;z<M;z++){I=L[z];let j=Number(I);w(isNaN(j)?I:j),w(P[I])}else for(let z=0;z<M;z++)w(I=L[z]),w(P[I])}:(P,L)=>{J[K++]=222;let M=K-n;K+=2;let I=0;for(let z in P)(L||P.hasOwnProperty(z))&&(w(z),w(P[z]),I++);J[M+++n]=I>>8,J[M+n]=I&255},x=this.useRecords===!1?S:t.progressiveRecords&&!h?(P,L)=>{let M,I=s.transitions||(s.transitions=Object.create(null)),z=K++-n,j;for(let N in P)if(L||P.hasOwnProperty(N)){if(M=I[N],M)I=M;else{let V=Object.keys(P),G=I;I=s.transitions;let F=0;for(let ne=0,O=V.length;ne<O;ne++){let fe=V[ne];M=I[fe],M||(M=I[fe]=Object.create(null),F++),I=M}z+n+1==K?(K--,$(I,V,F)):D(I,V,z,F),j=!0,I=G[N]}w(P[N])}if(!j){let N=I[Pl];N?J[z+n]=N:D(I,Object.keys(P),z,0)}}:(P,L)=>{let M,I=s.transitions||(s.transitions=Object.create(null)),z=0;for(let N in P)(L||P.hasOwnProperty(N))&&(M=I[N],M||(M=I[N]=Object.create(null),z++),I=M);let j=I[Pl];j?j>=96&&h?(J[K++]=((j-=96)&31)+96,J[K++]=j>>5):J[K++]=j:$(I,I.__keys__||Object.keys(P),z);for(let N in P)(L||P.hasOwnProperty(N))&&w(P[N])},E=typeof this.useRecords=="function"&&this.useRecords,T=E?(P,L)=>{E(P)?x(P,L):S(P,L)}:x,U=P=>{let L;if(P>16777216){if(P-n>mk)throw new Error("Packed buffer would be larger than maximum buffer size");L=Math.min(mk,Math.round(Math.max((P-n)*(P>67108864?1.25:2),4194304)/4096)*4096)}else L=(Math.max(P-n<<2,J.length-1)>>12)+1<<12;let M=new Sh(L);return kt=M.dataView||(M.dataView=new DataView(M.buffer,0,L)),P=Math.min(P,J.length),J.copy?J.copy(M,0,n,P):M.set(J.slice(n,P)),K-=n,n=0,br=M.length-10,J=M},$=(P,L,M)=>{let I=s.nextId;I||(I=64),I<p&&this.shouldShareStructure&&!this.shouldShareStructure(L)?(I=s.nextOwnId,I<g||(I=p),s.nextOwnId=I+1):(I>=g&&(I=p),s.nextId=I+1);let z=L.highByte=I>=96&&h?I-96>>5:-1;P[Pl]=I,P.__keys__=L,s[I-64]=L,I<p?(L.isShared=!0,s.sharedLength=I-63,r=!0,z>=0?(J[K++]=(I&31)+96,J[K++]=z):J[K++]=I):(z>=0?(J[K++]=213,J[K++]=114,J[K++]=(I&31)+96,J[K++]=z):(J[K++]=212,J[K++]=114,J[K++]=I),M&&(_+=v*M),m.length>=d&&(m.shift()[Pl]=0),m.push(P),w(L))},D=(P,L,M,I)=>{let z=J,j=K,N=br,V=n;J=Mu,K=0,n=0,J||(Mu=J=new Sh(8192)),br=J.length-10,$(P,L,I),Mu=J;let G=K;if(J=z,K=j,br=N,n=V,G>1){let F=K+G-1;F>br&&U(F);let ne=M+n;J.copyWithin(ne+G,ne+1,K),J.set(Mu.slice(0,G),ne),K=F}else J[M+n]=Mu[0]},Q=(P,L)=>{let M=h6(P,J,n,K,s,U,(I,z,j)=>{if(j)return r=!0;K=z;let N=J;return w(I),y(),N!==J?{position:K,targetView:kt,target:J}:K},this);if(M===0)return T(P,!0);K=M}}useBuffer(t){J=t,kt=new DataView(J.buffer,J.byteOffset,J.byteLength),K=0}clearSharedData(){this.structures&&(this.structures=[]),this.typedStructs&&(this.typedStructs=[])}}BP=[Date,Set,Error,RegExp,ArrayBuffer,Object.getPrototypeOf(Uint8Array.prototype).constructor,TP];C0=[{pack(e,t,n){let r=e.getTime()/1e3;if((this.useTimestamp32||e.getMilliseconds()===0)&&r>=0&&r<4294967296){let{target:s,targetView:i,position:o}=t(6);s[o++]=214,s[o++]=255,i.setUint32(o,r)}else if(r>0&&r<4294967296){let{target:s,targetView:i,position:o}=t(10);s[o++]=215,s[o++]=255,i.setUint32(o,e.getMilliseconds()*4e6+(r/1e3/4294967296>>0)),i.setUint32(o+4,r)}else if(isNaN(r)){if(this.onInvalidDate)return t(0),n(this.onInvalidDate());let{target:s,targetView:i,position:o}=t(3);s[o++]=212,s[o++]=255,s[o++]=255}else{let{target:s,targetView:i,position:o}=t(15);s[o++]=199,s[o++]=12,s[o++]=255,i.setUint32(o,e.getMilliseconds()*1e6),i.setBigInt64(o+4,BigInt(Math.floor(r)))}}},{pack(e,t,n){if(this.setAsEmptyObject)return t(0),n({});let r=Array.from(e),{target:s,position:i}=t(this.moreTypes?3:0);this.moreTypes&&(s[i++]=212,s[i++]=115,s[i++]=0),n(r)}},{pack(e,t,n){let{target:r,position:s}=t(this.moreTypes?3:0);this.moreTypes&&(r[s++]=212,r[s++]=101,r[s++]=0),n([e.name,e.message])}},{pack(e,t,n){let{target:r,position:s}=t(this.moreTypes?3:0);this.moreTypes&&(r[s++]=212,r[s++]=120,r[s++]=0),n([e.source,e.flags])}},{pack(e,t){this.moreTypes?vk(e,16,t):yk(Om?Buffer.from(e):new Uint8Array(e),t)}},{pack(e,t){let n=e.constructor;n!==NP&&this.moreTypes?vk(e,LP.indexOf(n.name),t):yk(e,t)}},{pack(e,t){let{target:n,position:r}=t(1);n[r]=193}}];function vk(e,t,n,r){let s=e.byteLength;if(s+1<256){var{target:i,position:o}=n(4+s);i[o++]=199,i[o++]=s+1}else if(s+1<65536){var{target:i,position:o}=n(5+s);i[o++]=200,i[o++]=s+1>>8,i[o++]=s+1&255}else{var{target:i,position:o,targetView:a}=n(7+s);i[o++]=201,a.setUint32(o,s+1),o+=4}i[o++]=116,i[o++]=t,i.set(new Uint8Array(e.buffer,e.byteOffset,e.byteLength),o)}function yk(e,t){let n=e.byteLength;var r,s;if(n<256){var{target:r,position:s}=t(n+2);r[s++]=196,r[s++]=n}else if(n<65536){var{target:r,position:s}=t(n+3);r[s++]=197,r[s++]=n>>8,r[s++]=n&255}else{var{target:r,position:s,targetView:i}=t(n+5);r[s++]=198,i.setUint32(s,n),s+=4}r.set(e,s)}function v6(e,t,n,r){let s=e.length;switch(s){case 1:t[n++]=212;break;case 2:t[n++]=213;break;case 4:t[n++]=214;break;case 8:t[n++]=215;break;case 16:t[n++]=216;break;default:s<256?(t[n++]=199,t[n++]=s):s<65536?(t[n++]=200,t[n++]=s>>8,t[n++]=s&255):(t[n++]=201,t[n++]=s>>24,t[n++]=s>>16&255,t[n++]=s>>8&255,t[n++]=s&255)}return t[n++]=r,t.set(e,n),n+=s,n}function y6(e,t){let n,r=t.length*6,s=e.length-r;for(;n=t.pop();){let i=n.offset,o=n.id;e.copyWithin(i+r,i,s),r-=6;let a=i+r;e[a++]=214,e[a++]=105,e[a++]=o>>24,e[a++]=o>>16&255,e[a++]=o>>8&255,e[a++]=o&255,s=i}return e}function Ak(e,t,n){if(Zt.length>0){kt.setUint32(Zt.position+e,K+n-Zt.position-e),Zt.stringsPosition=K-e;let r=Zt;Zt=null,t(r[0]),t(r[1])}}function A6(e,t){return e.isCompatible=n=>{let r=!n||(t.lastNamedStructuresLength||0)===n.length;return r||t._mergeStructures(n),r},e}let DP=new m6({useRecords:!1});const FP=DP.pack;DP.pack;const _6=512,b6=1024,S6=2048;function Ac(){return Date.now()}const dg=e=>FP(e),Ab=e=>d6(e);let w6=class{constructor(t,n){this.connection=t,this.inputLag=n,this.frequencies=[0],this.volumes=[0],this.requestReadinessPromise=null,this.getFrequencies=()=>this.frequencies,this.clearFrequencies=()=>{Array.isArray(this.frequencies[0])&&(this.frequencies=[this.frequencies[0].at(-1)])},this.getVolumes=()=>this.volumes,this.getInputLag=()=>this.inputLag,this.setInputLag=r=>{this.inputLag=r},this.requestReadiness=()=>(console.log("requestReadiness"),this.requestReadinessPromise||(this.requestReadinessPromise=new Promise(r=>{const s=i=>{i.t==="confirm-readiness"&&(r(!0),this.connection.off("data",s),this.requestReadinessPromise=null)};this.connection.on("data",s),yc(this.connection,"request-readiness")})),this.requestReadinessPromise),this.startMonitoring=async()=>{var r,s;(r=this.connection)==null||r.off("data",this.handleRTCData),yc(this.connection,"start-monitor"),(s=this.connection)==null||s.on("data",this.handleRTCData)},this.stopMonitoring=async()=>{var r;yc(this.connection,"stop-monitor"),(r=this.connection)==null||r.off("data",this.handleRTCData)},this.handleRTCData=r=>{r.t==="freq"&&(this.frequencies=[r[0],r[0]],this.volumes=[r[1],r[1]])}}},x6=class{constructor(t,n,r,s){this.id=t,this.name=n,this.connection=r,this.pingTime=9999,this.pingInterval=null,this.getInput=()=>this.input,this.setPlayerNumber=i=>{yc(this.connection,"set-player-number",{playerNumber:i})},this.onDisconnect=()=>{this.pingInterval!==null&&clearInterval(this.pingInterval)},this.setPermission=i=>{yc(this.connection,"set-permissions",{level:i})},this.isPinging=!1,this.latency=9999,this.onPong=()=>{this.latency=Ac()-this.pingTime,this.isPinging=!1,this.pingClient()},this.pingClient=()=>{this.pingInterval=setTimeout(()=>{this.pingTime=Ac(),this.isPinging=!0,yc(this.connection,"ping")},1e3)},this.getLatency=()=>this.isPinging?Ac()-this.pingTime:this.latency,this.getPingTime=()=>this.pingTime,this.input=new w6(r,s),this.pingClient()}};const _b={SelectionOnTop:"selection_on_top",WebsocketsRemoteMics:"websockets_remote_mics",InitialInputLag:"initial_input_lag",LandingPageBackground:"landing_page_background",VirtualizedSongSelection:"virtualized_song_selection",Eurovision:"eurovision",Shrek:"shrek"};class hs extends So{constructor(t,n,r="local"){super(),this.name=t,this.defaultValue=n,this.driver=r,this.value=void 0,this.get=()=>(this.value===void 0&&(this.value=$e[this.driver].getItem(`settings-${this.name}`)??this.defaultValue),this.value),this.set=s=>{this.value=s,$e[this.driver].setItem(`settings-${this.name}`,s),this.onUpdate(s)}}}const UP=["high","low"],E6="graphics-level",Ms=new hs(E6,UP[0]),k6=[null,"skip","remoteMics","singstar-mics","different-mics","advanced","built-in"],C6="mic-setup-preference",bb=new hs(C6,k6[0],"session"),zP=[60,30],Ha=new hs("fps-count",zP[0]),Vm=new hs("EXCLUDED_LANGUAGES_KEY_V2",null),ur=new hs("MOBILE_PHONE_MODE_KEY",null),HP=new hs("keyboard-help-visibility",!0);var YR;const _k=(YR=jn.getFeatureFlagPayload)==null?void 0:YR.call(jn,_b.InitialInputLag),pd=new hs("INPUT_LAG_V2",typeof _k=="number"?_k:0),GP=new hs("REMOTE_MIC_INPUT_LAG",0,"session"),bk=["write","read"],qP=new hs("DefaultRemoteMicPermission","write"),WP=["New","Classic"],Sb=new hs("background-music",WP[0]),Lm=new hs("BackgroundThemeSetting","regular","memory"),wb=new hs("AutoEnableFullscreenSetting",!0,"session"),fg=new hs("UseWebsocketsSettings",!1,"session");var QR;(QR=jn.onFeatureFlags)==null||QR.call(jn,()=>{fg.set(jn.isFeatureEnabled(_b.WebsocketsRemoteMics)??!1)});function Be(e){const[t,n]=A.useState(e.get());return A.useLayoutEffect(()=>e.addListener(n),[e]),[t,e.set]}const Sk="RememberedAccessesKey",Ey="rememberedSubscriptionsKey";class I6 extends So{constructor(){super(...arguments),this.remoteMics=[],this.micAccessMap=$e.getItem(Sk)??{},this.subscriptions=$e.session.getItem(Ey)??{"remote-mics":[]},this.addRemoteMic=(t,n,r,s,i)=>{this.remoteMics=this.remoteMics.filter(o=>o.id!==t),this.remoteMics=[...this.remoteMics,new x6(t,n,r,i)],this.setPermission(t,this.getPermission(t)),te.remoteMicConnected.dispatch({id:t,name:n,silent:s})},this.removeRemoteMic=(t,n=!1)=>{const r=this.remoteMics.find(s=>s.id===t);this.remoteMics=this.remoteMics.filter(s=>s.id!==t),r&&(r.onDisconnect(),te.remoteMicDisconnected.dispatch(r,n))},this.getRemoteMics=()=>this.remoteMics,this.getRemoteMicById=t=>this.remoteMics.find(n=>n.id===t),this.broadcast=t=>{this.getRemoteMics().forEach(n=>n.connection.send(t))},this.broadcastToChannel=(t,n)=>{this.subscriptions[t].forEach(r=>{var s;return(s=this.getRemoteMicById(r))==null?void 0:s.connection.send(n)})},this.getPermission=t=>this.micAccessMap[t]??qP.get(),this.setPermission=(t,n)=>{var r;(r=this.getRemoteMicById(t))==null||r.setPermission(n),this.micAccessMap[t]=n,$e.setItem(Sk,this.micAccessMap),this.onUpdate(t,n)},this.addSubscription=(t,n)=>{this.subscriptions[n]=[...new Set([...this.subscriptions[n],t])],$e.session.setItem(Ey,this.subscriptions),te.remoteMicSubscribed.dispatch(t,n)},this.removeSubscription=(t,n)=>{var r;this.subscriptions[n]=((r=this.subscriptions[n])==null?void 0:r.filter(s=>s!==t))??[],$e.session.setItem(Ey,this.subscriptions)}}}const Xe=new I6;Lm.addListener(e=>{IP(e),Xe.broadcast({t:"style-change",style:e})});te.remoteMicConnected.subscribe(e=>{var t;(t=Xe.getRemoteMicById(e.id))==null||t.connection.send({t:"style-change",style:Lm.get()})});class T6{constructor(){this.frequencies=[440,410],this.volumes=[1,1],this.startMonitoring=async()=>{},this.getFrequencies=t=>this.frequencies,this.getVolumes=t=>this.volumes,this.clearFrequencies=t=>{},this.stopMonitoring=async t=>{},this.getInputLag=()=>0,this.setFrequency=(t,n)=>this.frequencies[t]=n,this.requestReadiness=()=>Promise.resolve(!0),this.getStatus=()=>"ok"}}const R6=new T6;class M6{constructor(){this.frequencies=[410,210],this.volumes=[1,1],this.timestamp=0,this.interval=null,this.isMonitoring=!1,this.startMonitoring=async()=>{this.isMonitoring||(this.isMonitoring=!0,this.interval=global.setInterval(()=>{this.timestamp=this.timestamp+32,this.frequencies[0]=Math.sin(this.timestamp/1e3)*50+100,this.frequencies[1]=Math.cos(this.timestamp/1e3)*50+200},32))},this.getFrequencies=()=>this.frequencies,this.getVolumes=()=>this.volumes,this.clearFrequencies=t=>{},this.stopMonitoring=async()=>{this.isMonitoring&&(this.isMonitoring=!1,this.interval&&global.clearInterval(this.interval))},this.getInputLag=()=>150,this.requestReadiness=()=>Promise.resolve(!0),this.getStatus=()=>"ok"}}const P6=new M6,KP=Object.prototype.toString;function xb(e){switch(KP.call(e)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return uo(e,Error)}}function au(e,t){return KP.call(e)===`[object ${t}]`}function Eb(e){return au(e,"ErrorEvent")}function wk(e){return au(e,"DOMError")}function j6(e){return au(e,"DOMException")}function $i(e){return au(e,"String")}function kb(e){return typeof e=="object"&&e!==null&&"__sentry_template_string__"in e&&"__sentry_template_values__"in e}function Cb(e){return e===null||kb(e)||typeof e!="object"&&typeof e!="function"}function Nc(e){return au(e,"Object")}function $m(e){return typeof Event<"u"&&uo(e,Event)}function O6(e){return typeof Element<"u"&&uo(e,Element)}function V6(e){return au(e,"RegExp")}function Bm(e){return!!(e&&e.then&&typeof e.then=="function")}function L6(e){return Nc(e)&&"nativeEvent"in e&&"preventDefault"in e&&"stopPropagation"in e}function YP(e){return typeof e=="number"&&e!==e}function uo(e,t){try{return e instanceof t}catch{return!1}}function QP(e){return!!(typeof e=="object"&&e!==null&&(e.__isVue||e._isVue))}function _c(e,t=0){return typeof e!="string"||t===0||e.length<=t?e:`${e.slice(0,t)}...`}function xk(e,t){if(!Array.isArray(e))return"";const n=[];for(let r=0;r<e.length;r++){const s=e[r];try{QP(s)?n.push("[VueViewModel]"):n.push(String(s))}catch{n.push("[value cannot be serialized]")}}return n.join(t)}function $6(e,t,n=!1){return $i(e)?V6(t)?t.test(e):$i(t)?n?e===t:e.includes(t):!1:!1}function Of(e,t=[],n=!1){return t.some(r=>$6(e,r,n))}function B6(e,t,n=250,r,s,i,o){if(!i.exception||!i.exception.values||!o||!uo(o.originalException,Error))return;const a=i.exception.values.length>0?i.exception.values[i.exception.values.length-1]:void 0;a&&(i.exception.values=N6(I0(e,t,s,o.originalException,r,i.exception.values,a,0),n))}function I0(e,t,n,r,s,i,o,a){if(i.length>=n+1)return i;let l=[...i];if(uo(r[s],Error)){Ek(o,a);const c=e(t,r[s]),u=l.length;kk(c,s,u,a),l=I0(e,t,n,r[s],s,[c,...l],c,u)}return Array.isArray(r.errors)&&r.errors.forEach((c,u)=>{if(uo(c,Error)){Ek(o,a);const d=e(t,c),h=l.length;kk(d,`errors[${u}]`,h,a),l=I0(e,t,n,c,s,[d,...l],d,h)}}),l}function Ek(e,t){e.mechanism=e.mechanism||{type:"generic",handled:!0},e.mechanism={...e.mechanism,...e.type==="AggregateError"&&{is_exception_group:!0},exception_id:t}}function kk(e,t,n,r){e.mechanism=e.mechanism||{type:"generic",handled:!0},e.mechanism={...e.mechanism,type:"chained",source:t,exception_id:n,parent_id:r}}function N6(e,t){return e.map(n=>(n.value&&(n.value=_c(n.value,t)),n))}function wh(e){return e&&e.Math==Math?e:void 0}const gt=typeof globalThis=="object"&&wh(globalThis)||typeof window=="object"&&wh(window)||typeof self=="object"&&wh(self)||typeof global=="object"&&wh(global)||function(){return this}()||{};function Ib(){return gt}function JP(e,t,n){const r=n||gt,s=r.__SENTRY__=r.__SENTRY__||{};return s[e]||(s[e]=t())}const bc=Ib(),D6=80;function Dc(e,t={}){if(!e)return"<unknown>";try{let n=e;const r=5,s=[];let i=0,o=0;const a=" > ",l=a.length;let c;const u=Array.isArray(t)?t:t.keyAttrs,d=!Array.isArray(t)&&t.maxStringLength||D6;for(;n&&i++<r&&(c=F6(n,u),!(c==="html"||i>1&&o+s.length*l+c.length>=d));)s.push(c),o+=c.length,n=n.parentNode;return s.reverse().join(a)}catch{return"<unknown>"}}function F6(e,t){const n=e,r=[];let s,i,o,a,l;if(!n||!n.tagName)return"";if(bc.HTMLElement&&n instanceof HTMLElement&&n.dataset&&n.dataset.sentryComponent)return n.dataset.sentryComponent;r.push(n.tagName.toLowerCase());const c=t&&t.length?t.filter(d=>n.getAttribute(d)).map(d=>[d,n.getAttribute(d)]):null;if(c&&c.length)c.forEach(d=>{r.push(`[${d[0]}="${d[1]}"]`)});else if(n.id&&r.push(`#${n.id}`),s=n.className,s&&$i(s))for(i=s.split(/\s+/),l=0;l<i.length;l++)r.push(`.${i[l]}`);const u=["aria-label","type","name","title","alt"];for(l=0;l<u.length;l++)o=u[l],a=n.getAttribute(o),a&&r.push(`[${o}="${a}"]`);return r.join("")}function U6(){try{return bc.document.location.href}catch{return""}}function z6(e){return bc.document&&bc.document.querySelector?bc.document.querySelector(e):null}function XP(e){if(!bc.HTMLElement)return null;let t=e;const n=5;for(let r=0;r<n;r++){if(!t)return null;if(t instanceof HTMLElement&&t.dataset.sentryComponent)return t.dataset.sentryComponent;t=t.parentNode}return null}const lu=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,H6="Sentry Logger ",T0=["debug","info","warn","error","log","assert","trace"],hg={};function Nm(e){if(!("console"in gt))return e();const t=gt.console,n={},r=Object.keys(hg);r.forEach(s=>{const i=hg[s];n[s]=t[s],t[s]=i});try{return e()}finally{r.forEach(s=>{t[s]=n[s]})}}function G6(){let e=!1;const t={enable:()=>{e=!0},disable:()=>{e=!1},isEnabled:()=>e};return lu?T0.forEach(n=>{t[n]=(...r)=>{e&&Nm(()=>{gt.console[n](`${H6}[${n}]:`,...r)})}}):T0.forEach(n=>{t[n]=()=>{}}),t}const re=G6(),q6=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+)?)?@)([\w.-]+)(?::(\d+))?\/(.+)/;function W6(e){return e==="http"||e==="https"}function vl(e,t=!1){const{host:n,path:r,pass:s,port:i,projectId:o,protocol:a,publicKey:l}=e;return`${a}://${l}${t&&s?`:${s}`:""}@${n}${i?`:${i}`:""}/${r&&`${r}/`}${o}`}function K6(e){const t=q6.exec(e);if(!t){Nm(()=>{console.error(`Invalid Sentry Dsn: ${e}`)});return}const[n,r,s="",i,o="",a]=t.slice(1);let l="",c=a;const u=c.split("/");if(u.length>1&&(l=u.slice(0,-1).join("/"),c=u.pop()),c){const d=c.match(/^\d+/);d&&(c=d[0])}return ZP({host:i,pass:s,path:l,projectId:c,port:o,protocol:n,publicKey:r})}function ZP(e){return{protocol:e.protocol,publicKey:e.publicKey||"",pass:e.pass||"",host:e.host,port:e.port||"",path:e.path||"",projectId:e.projectId}}function Y6(e){if(!lu)return!0;const{port:t,projectId:n,protocol:r}=e;return["protocol","publicKey","host","projectId"].find(o=>e[o]?!1:(re.error(`Invalid Sentry Dsn: ${o} missing`),!0))?!1:n.match(/^\d+$/)?W6(r)?t&&isNaN(parseInt(t,10))?(re.error(`Invalid Sentry Dsn: Invalid port ${t}`),!1):!0:(re.error(`Invalid Sentry Dsn: Invalid protocol ${r}`),!1):(re.error(`Invalid Sentry Dsn: Invalid projectId ${n}`),!1)}function ej(e){const t=typeof e=="string"?K6(e):ZP(e);if(!(!t||!Y6(t)))return t}class Ti extends Error{constructor(t,n="warn"){super(t),this.message=t,this.name=new.target.prototype.constructor.name,Object.setPrototypeOf(this,new.target.prototype),this.logLevel=n}}function or(e,t,n){if(!(t in e))return;const r=e[t],s=n(r);typeof s=="function"&&tj(s,r),e[t]=s}function el(e,t,n){try{Object.defineProperty(e,t,{value:n,writable:!0,configurable:!0})}catch{lu&&re.log(`Failed to add non-enumerable property "${t}" to object`,e)}}function tj(e,t){try{const n=t.prototype||{};e.prototype=t.prototype=n,el(e,"__sentry_original__",t)}catch{}}function Tb(e){return e.__sentry_original__}function Q6(e){return Object.keys(e).map(t=>`${encodeURIComponent(t)}=${encodeURIComponent(e[t])}`).join("&")}function nj(e){if(xb(e))return{message:e.message,name:e.name,stack:e.stack,...Ik(e)};if($m(e)){const t={type:e.type,target:Ck(e.target),currentTarget:Ck(e.currentTarget),...Ik(e)};return typeof CustomEvent<"u"&&uo(e,CustomEvent)&&(t.detail=e.detail),t}else return e}function Ck(e){try{return O6(e)?Dc(e):Object.prototype.toString.call(e)}catch{return"<unknown>"}}function Ik(e){if(typeof e=="object"&&e!==null){const t={};for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}else return{}}function J6(e,t=40){const n=Object.keys(nj(e));if(n.sort(),!n.length)return"[object has no keys]";if(n[0].length>=t)return _c(n[0],t);for(let r=n.length;r>0;r--){const s=n.slice(0,r).join(", ");if(!(s.length>t))return r===n.length?s:_c(s,t)}return""}function ns(e){return R0(e,new Map)}function R0(e,t){if(X6(e)){const n=t.get(e);if(n!==void 0)return n;const r={};t.set(e,r);for(const s of Object.keys(e))typeof e[s]<"u"&&(r[s]=R0(e[s],t));return r}if(Array.isArray(e)){const n=t.get(e);if(n!==void 0)return n;const r=[];return t.set(e,r),e.forEach(s=>{r.push(R0(s,t))}),r}return e}function X6(e){if(!Nc(e))return!1;try{const t=Object.getPrototypeOf(e).constructor.name;return!t||t==="Object"}catch{return!0}}const rj=50,Tk=/\(error: (.*)\)/,Rk=/captureMessage|captureException/;function sj(...e){const t=e.sort((n,r)=>n[0]-r[0]).map(n=>n[1]);return(n,r=0)=>{const s=[],i=n.split(`
`);for(let o=r;o<i.length;o++){const a=i[o];if(a.length>1024)continue;const l=Tk.test(a)?a.replace(Tk,"$1"):a;if(!l.match(/\S*Error: /)){for(const c of t){const u=c(l);if(u){s.push(u);break}}if(s.length>=rj)break}}return e8(s)}}function Z6(e){return Array.isArray(e)?sj(...e):e}function e8(e){if(!e.length)return[];const t=Array.from(e);return/sentryWrapped/.test(t[t.length-1].function||"")&&t.pop(),t.reverse(),Rk.test(t[t.length-1].function||"")&&(t.pop(),Rk.test(t[t.length-1].function||"")&&t.pop()),t.slice(0,rj).map(n=>({...n,filename:n.filename||t[t.length-1].filename,function:n.function||"?"}))}const ky="<anonymous>";function fo(e){try{return!e||typeof e!="function"?ky:e.name||ky}catch{return ky}}const Ip={},Mk={};function yl(e,t){Ip[e]=Ip[e]||[],Ip[e].push(t)}function Al(e,t){Mk[e]||(t(),Mk[e]=!0)}function ci(e,t){const n=e&&Ip[e];if(n)for(const r of n)try{r(t)}catch(s){lu&&re.error(`Error while triggering instrumentation handler.
Type: ${e}
Name: ${fo(r)}
Error:`,s)}}function t8(e){const t="console";yl(t,e),Al(t,n8)}function n8(){"console"in gt&&T0.forEach(function(e){e in gt.console&&or(gt.console,e,function(t){return hg[e]=t,function(...n){ci("console",{args:n,level:e});const s=hg[e];s&&s.apply(gt.console,n)}})})}function bn(){const e=gt,t=e.crypto||e.msCrypto;let n=()=>Math.random()*16;try{if(t&&t.randomUUID)return t.randomUUID().replace(/-/g,"");t&&t.getRandomValues&&(n=()=>{const r=new Uint8Array(1);return t.getRandomValues(r),r[0]})}catch{}return("10000000100040008000"+1e11).replace(/[018]/g,r=>(r^(n()&15)>>r/4).toString(16))}function ij(e){return e.exception&&e.exception.values?e.exception.values[0]:void 0}function $o(e){const{message:t,event_id:n}=e;if(t)return t;const r=ij(e);return r?r.type&&r.value?`${r.type}: ${r.value}`:r.type||r.value||n||"<unknown>":n||"<unknown>"}function M0(e,t,n){const r=e.exception=e.exception||{},s=r.values=r.values||[],i=s[0]=s[0]||{};i.value||(i.value=t||""),i.type||(i.type=n||"Error")}function qd(e,t){const n=ij(e);if(!n)return;const r={type:"generic",handled:!0},s=n.mechanism;if(n.mechanism={...r,...s,...t},t&&"data"in t){const i={...s&&s.data,...t.data};n.mechanism.data=i}}function Pk(e){if(e&&e.__sentry_captured__)return!0;try{el(e,"__sentry_captured__",!0)}catch{}return!1}function oj(e){return Array.isArray(e)?e:[e]}const Hl=gt,r8=1e3;let jk,P0,j0;function s8(e){const t="dom";yl(t,e),Al(t,i8)}function i8(){if(!Hl.document)return;const e=ci.bind(null,"dom"),t=Ok(e,!0);Hl.document.addEventListener("click",t,!1),Hl.document.addEventListener("keypress",t,!1),["EventTarget","Node"].forEach(n=>{const r=Hl[n]&&Hl[n].prototype;!r||!r.hasOwnProperty||!r.hasOwnProperty("addEventListener")||(or(r,"addEventListener",function(s){return function(i,o,a){if(i==="click"||i=="keypress")try{const l=this,c=l.__sentry_instrumentation_handlers__=l.__sentry_instrumentation_handlers__||{},u=c[i]=c[i]||{refCount:0};if(!u.handler){const d=Ok(e);u.handler=d,s.call(this,i,d,a)}u.refCount++}catch{}return s.call(this,i,o,a)}}),or(r,"removeEventListener",function(s){return function(i,o,a){if(i==="click"||i=="keypress")try{const l=this,c=l.__sentry_instrumentation_handlers__||{},u=c[i];u&&(u.refCount--,u.refCount<=0&&(s.call(this,i,u.handler,a),u.handler=void 0,delete c[i]),Object.keys(c).length===0&&delete l.__sentry_instrumentation_handlers__)}catch{}return s.call(this,i,o,a)}}))})}function o8(e){if(e.type!==P0)return!1;try{if(!e.target||e.target._sentryId!==j0)return!1}catch{}return!0}function a8(e,t){return e!=="keypress"?!1:!t||!t.tagName?!0:!(t.tagName==="INPUT"||t.tagName==="TEXTAREA"||t.isContentEditable)}function Ok(e,t=!1){return n=>{if(!n||n._sentryCaptured)return;const r=l8(n);if(a8(n.type,r))return;el(n,"_sentryCaptured",!0),r&&!r._sentryId&&el(r,"_sentryId",bn());const s=n.type==="keypress"?"input":n.type;o8(n)||(e({event:n,name:s,global:t}),P0=n.type,j0=r?r._sentryId:void 0),clearTimeout(jk),jk=Hl.setTimeout(()=>{j0=void 0,P0=void 0},r8)}}function l8(e){try{return e.target}catch{return null}}const O0=Ib();function aj(){if(!("fetch"in O0))return!1;try{return new Headers,new Request("http://www.example.com"),new Response,!0}catch{return!1}}function V0(e){return e&&/^function fetch\(\)\s+\{\s+\[native code\]\s+\}$/.test(e.toString())}function c8(){if(typeof EdgeRuntime=="string")return!0;if(!aj())return!1;if(V0(O0.fetch))return!0;let e=!1;const t=O0.document;if(t&&typeof t.createElement=="function")try{const n=t.createElement("iframe");n.hidden=!0,t.head.appendChild(n),n.contentWindow&&n.contentWindow.fetch&&(e=V0(n.contentWindow.fetch)),t.head.removeChild(n)}catch(n){lu&&re.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",n)}return e}function lj(e){const t="fetch";yl(t,e),Al(t,u8)}function u8(){c8()&&or(gt,"fetch",function(e){return function(...t){const{method:n,url:r}=d8(t),s={args:t,fetchData:{method:n,url:r},startTimestamp:Date.now()};return ci("fetch",{...s}),e.apply(gt,t).then(i=>{const o={...s,endTimestamp:Date.now(),response:i};return ci("fetch",o),i},i=>{const o={...s,endTimestamp:Date.now(),error:i};throw ci("fetch",o),i})}})}function L0(e,t){return!!e&&typeof e=="object"&&!!e[t]}function Vk(e){return typeof e=="string"?e:e?L0(e,"url")?e.url:e.toString?e.toString():"":""}function d8(e){if(e.length===0)return{method:"GET",url:""};if(e.length===2){const[n,r]=e;return{url:Vk(n),method:L0(r,"method")?String(r.method).toUpperCase():"GET"}}const t=e[0];return{url:Vk(t),method:L0(t,"method")?String(t.method).toUpperCase():"GET"}}let xh=null;function cj(e){const t="error";yl(t,e),Al(t,f8)}function f8(){xh=gt.onerror,gt.onerror=function(e,t,n,r,s){return ci("error",{column:r,error:s,line:n,msg:e,url:t}),xh&&!xh.__SENTRY_LOADER__?xh.apply(this,arguments):!1},gt.onerror.__SENTRY_INSTRUMENTED__=!0}let Eh=null;function uj(e){const t="unhandledrejection";yl(t,e),Al(t,h8)}function h8(){Eh=gt.onunhandledrejection,gt.onunhandledrejection=function(e){return ci("unhandledrejection",e),Eh&&!Eh.__SENTRY_LOADER__?Eh.apply(this,arguments):!0},gt.onunhandledrejection.__SENTRY_INSTRUMENTED__=!0}const kh=Ib();function p8(){const e=kh.chrome,t=e&&e.app&&e.app.runtime,n="history"in kh&&!!kh.history.pushState&&!!kh.history.replaceState;return!t&&n}const Pu=gt;let Ch;function Rb(e){const t="history";yl(t,e),Al(t,g8)}function g8(){if(!p8())return;const e=Pu.onpopstate;Pu.onpopstate=function(...n){const r=Pu.location.href,s=Ch;if(Ch=r,ci("history",{from:s,to:r}),e)try{return e.apply(this,n)}catch{}};function t(n){return function(...r){const s=r.length>2?r[2]:void 0;if(s){const i=Ch,o=String(s);Ch=o,ci("history",{from:i,to:o})}return n.apply(this,r)}}or(Pu.history,"pushState",t),or(Pu.history,"replaceState",t)}const m8=gt,Kl="__sentry_xhr_v3__";function dj(e){const t="xhr";yl(t,e),Al(t,v8)}function v8(){if(!m8.XMLHttpRequest)return;const e=XMLHttpRequest.prototype;or(e,"open",function(t){return function(...n){const r=Date.now(),s=$i(n[0])?n[0].toUpperCase():void 0,i=y8(n[1]);if(!s||!i)return t.apply(this,n);this[Kl]={method:s,url:i,request_headers:{}},s==="POST"&&i.match(/sentry_key/)&&(this.__sentry_own_request__=!0);const o=()=>{const a=this[Kl];if(a&&this.readyState===4){try{a.status_code=this.status}catch{}const l={args:[s,i],endTimestamp:Date.now(),startTimestamp:r,xhr:this};ci("xhr",l)}};return"onreadystatechange"in this&&typeof this.onreadystatechange=="function"?or(this,"onreadystatechange",function(a){return function(...l){return o(),a.apply(this,l)}}):this.addEventListener("readystatechange",o),or(this,"setRequestHeader",function(a){return function(...l){const[c,u]=l,d=this[Kl];return d&&$i(c)&&$i(u)&&(d.request_headers[c.toLowerCase()]=u),a.apply(this,l)}}),t.apply(this,n)}}),or(e,"send",function(t){return function(...n){const r=this[Kl];if(!r)return t.apply(this,n);n[0]!==void 0&&(r.body=n[0]);const s={args:[r.method,r.url],startTimestamp:Date.now(),xhr:this};return ci("xhr",s),t.apply(this,n)}})}function y8(e){if($i(e))return e;try{return e.toString()}catch{}}function A8(){return"npm"}function _8(){const e=typeof WeakSet=="function",t=e?new WeakSet:[];function n(s){if(e)return t.has(s)?!0:(t.add(s),!1);for(let i=0;i<t.length;i++)if(t[i]===s)return!0;return t.push(s),!1}function r(s){if(e)t.delete(s);else for(let i=0;i<t.length;i++)if(t[i]===s){t.splice(i,1);break}}return[n,r]}function Oo(e,t=100,n=1/0){try{return $0("",e,t,n)}catch(r){return{ERROR:`**non-serializable** (${r})`}}}function fj(e,t=3,n=100*1024){const r=Oo(e,t);return x8(r)>n?fj(e,t-1,n):r}function $0(e,t,n=1/0,r=1/0,s=_8()){const[i,o]=s;if(t==null||["number","boolean","string"].includes(typeof t)&&!YP(t))return t;const a=b8(e,t);if(!a.startsWith("[object "))return a;if(t.__sentry_skip_normalization__)return t;const l=typeof t.__sentry_override_normalization_depth__=="number"?t.__sentry_override_normalization_depth__:n;if(l===0)return a.replace("object ","");if(i(t))return"[Circular ~]";const c=t;if(c&&typeof c.toJSON=="function")try{const p=c.toJSON();return $0("",p,l-1,r,s)}catch{}const u=Array.isArray(t)?[]:{};let d=0;const h=nj(t);for(const p in h){if(!Object.prototype.hasOwnProperty.call(h,p))continue;if(d>=r){u[p]="[MaxProperties ~]";break}const g=h[p];u[p]=$0(p,g,l-1,r,s),d++}return o(t),u}function b8(e,t){try{if(e==="domain"&&t&&typeof t=="object"&&t._events)return"[Domain]";if(e==="domainEmitter")return"[DomainEmitter]";if(typeof global<"u"&&t===global)return"[Global]";if(typeof window<"u"&&t===window)return"[Window]";if(typeof document<"u"&&t===document)return"[Document]";if(QP(t))return"[VueViewModel]";if(L6(t))return"[SyntheticEvent]";if(typeof t=="number"&&t!==t)return"[NaN]";if(typeof t=="function")return`[Function: ${fo(t)}]`;if(typeof t=="symbol")return`[${String(t)}]`;if(typeof t=="bigint")return`[BigInt: ${String(t)}]`;const n=S8(t);return/^HTML(\w*)Element$/.test(n)?`[HTMLElement: ${n}]`:`[object ${n}]`}catch(n){return`**non-serializable** (${n})`}}function S8(e){const t=Object.getPrototypeOf(e);return t?t.constructor.name:"null prototype"}function w8(e){return~-encodeURI(e).split(/%..|./).length}function x8(e){return w8(JSON.stringify(e))}var Xi;(function(e){e[e.PENDING=0]="PENDING";const n=1;e[e.RESOLVED=n]="RESOLVED";const r=2;e[e.REJECTED=r]="REJECTED"})(Xi||(Xi={}));function Fc(e){return new Zr(t=>{t(e)})}function Mb(e){return new Zr((t,n)=>{n(e)})}class Zr{constructor(t){Zr.prototype.__init.call(this),Zr.prototype.__init2.call(this),Zr.prototype.__init3.call(this),Zr.prototype.__init4.call(this),this._state=Xi.PENDING,this._handlers=[];try{t(this._resolve,this._reject)}catch(n){this._reject(n)}}then(t,n){return new Zr((r,s)=>{this._handlers.push([!1,i=>{if(!t)r(i);else try{r(t(i))}catch(o){s(o)}},i=>{if(!n)s(i);else try{r(n(i))}catch(o){s(o)}}]),this._executeHandlers()})}catch(t){return this.then(n=>n,t)}finally(t){return new Zr((n,r)=>{let s,i;return this.then(o=>{i=!1,s=o,t&&t()},o=>{i=!0,s=o,t&&t()}).then(()=>{if(i){r(s);return}n(s)})})}__init(){this._resolve=t=>{this._setResult(Xi.RESOLVED,t)}}__init2(){this._reject=t=>{this._setResult(Xi.REJECTED,t)}}__init3(){this._setResult=(t,n)=>{if(this._state===Xi.PENDING){if(Bm(n)){n.then(this._resolve,this._reject);return}this._state=t,this._value=n,this._executeHandlers()}}}__init4(){this._executeHandlers=()=>{if(this._state===Xi.PENDING)return;const t=this._handlers.slice();this._handlers=[],t.forEach(n=>{n[0]||(this._state===Xi.RESOLVED&&n[1](this._value),this._state===Xi.REJECTED&&n[2](this._value),n[0]=!0)})}}}function E8(e){const t=[];function n(){return e===void 0||t.length<e}function r(o){return t.splice(t.indexOf(o),1)[0]}function s(o){if(!n())return Mb(new Ti("Not adding Promise because buffer limit was reached."));const a=o();return t.indexOf(a)===-1&&t.push(a),a.then(()=>r(a)).then(null,()=>r(a).then(null,()=>{})),a}function i(o){return new Zr((a,l)=>{let c=t.length;if(!c)return a(!0);const u=setTimeout(()=>{o&&o>0&&a(!1)},o);t.forEach(d=>{Fc(d).then(()=>{--c||(clearTimeout(u),a(!0))},l)})})}return{$:t,add:s,drain:i}}function Ga(e){if(!e)return{};const t=e.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!t)return{};const n=t[6]||"",r=t[8]||"";return{host:t[4],path:t[5],protocol:t[2],search:n,hash:r,relative:t[5]+n+r}}const k8=["fatal","error","warning","log","info","debug"];function C8(e){return e==="warn"?"warning":k8.includes(e)?e:"log"}const hj=1e3;function Vf(){return Date.now()/hj}function I8(){const{performance:e}=gt;if(!e||!e.now)return Vf;const t=Date.now()-e.now(),n=e.timeOrigin==null?t:e.timeOrigin;return()=>(n+e.now())/hj}const tl=I8(),Ls=(()=>{const{performance:e}=gt;if(!e||!e.now)return;const t=3600*1e3,n=e.now(),r=Date.now(),s=e.timeOrigin?Math.abs(e.timeOrigin+n-r):t,i=s<t,o=e.timing&&e.timing.navigationStart,l=typeof o=="number"?Math.abs(o+n-r):t,c=l<t;return i||c?s<=l?e.timeOrigin:o:r})(),B0="baggage",pj="sentry-",T8=/^sentry-/,R8=8192;function M8(e){if(!$i(e)&&!Array.isArray(e))return;let t={};if(Array.isArray(e))t=e.reduce((r,s)=>{const i=Lk(s);for(const o of Object.keys(i))r[o]=i[o];return r},{});else{if(!e)return;t=Lk(e)}const n=Object.entries(t).reduce((r,[s,i])=>{if(s.match(T8)){const o=s.slice(pj.length);r[o]=i}return r},{});if(Object.keys(n).length>0)return n}function gj(e){if(!e)return;const t=Object.entries(e).reduce((n,[r,s])=>(s&&(n[`${pj}${r}`]=s),n),{});return P8(t)}function Lk(e){return e.split(",").map(t=>t.split("=").map(n=>decodeURIComponent(n.trim()))).reduce((t,[n,r])=>(t[n]=r,t),{})}function P8(e){if(Object.keys(e).length!==0)return Object.entries(e).reduce((t,[n,r],s)=>{const i=`${encodeURIComponent(n)}=${encodeURIComponent(r)}`,o=s===0?i:`${t},${i}`;return o.length>R8?(lu&&re.warn(`Not adding key: ${n} with val: ${r} to baggage header due to exceeding baggage size limits.`),t):o},"")}const j8=new RegExp("^[ \\t]*([0-9a-f]{32})?-?([0-9a-f]{16})?-?([01])?[ \\t]*$");function O8(e){if(!e)return;const t=e.match(j8);if(!t)return;let n;return t[3]==="1"?n=!0:t[3]==="0"&&(n=!1),{traceId:t[1],parentSampled:n,parentSpanId:t[2]}}function V8(e,t){const n=O8(e),r=M8(t),{traceId:s,parentSpanId:i,parentSampled:o}=n||{};return n?{traceId:s||bn(),parentSpanId:i||bn().substring(16),spanId:bn().substring(16),sampled:o,dsc:r||{}}:{traceId:s||bn(),spanId:bn().substring(16)}}function Pb(e=bn(),t=bn().substring(16),n){let r="";return n!==void 0&&(r=n?"-1":"-0"),`${e}-${t}${r}`}function _l(e,t=[]){return[e,t]}function L8(e,t){const[n,r]=e;return[n,[...r,t]]}function $k(e,t){const n=e[1];for(const r of n){const s=r[0].type;if(t(r,s))return!0}return!1}function N0(e,t){return(t||new TextEncoder).encode(e)}function $8(e,t){const[n,r]=e;let s=JSON.stringify(n);function i(o){typeof s=="string"?s=typeof o=="string"?s+o:[N0(s,t),o]:s.push(typeof o=="string"?N0(o,t):o)}for(const o of r){const[a,l]=o;if(i(`
${JSON.stringify(a)}
`),typeof l=="string"||l instanceof Uint8Array)i(l);else{let c;try{c=JSON.stringify(l)}catch{c=JSON.stringify(Oo(l))}i(c)}}return typeof s=="string"?s:B8(s)}function B8(e){const t=e.reduce((s,i)=>s+i.length,0),n=new Uint8Array(t);let r=0;for(const s of e)n.set(s,r),r+=s.length;return n}function N8(e,t){const n=typeof e.data=="string"?N0(e.data,t):e.data;return[ns({type:"attachment",length:n.length,filename:e.filename,content_type:e.contentType,attachment_type:e.attachmentType}),n]}const D8={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default",profile:"profile",replay_event:"replay",replay_recording:"replay",check_in:"monitor",feedback:"feedback",span:"span",statsd:"metric_bucket"};function Bk(e){return D8[e]}function mj(e){if(!e||!e.sdk)return;const{name:t,version:n}=e.sdk;return{name:t,version:n}}function F8(e,t,n,r){const s=e.sdkProcessingMetadata&&e.sdkProcessingMetadata.dynamicSamplingContext;return{event_id:e.event_id,sent_at:new Date().toISOString(),...t&&{sdk:t},...!!n&&r&&{dsn:vl(r)},...s&&{trace:ns({...s})}}}function U8(e,t,n){const r=[{type:"client_report"},{timestamp:n||Vf(),discarded_events:e}];return _l(t?{dsn:t}:{},[r])}const z8=60*1e3;function H8(e,t=Date.now()){const n=parseInt(`${e}`,10);if(!isNaN(n))return n*1e3;const r=Date.parse(`${e}`);return isNaN(r)?z8:r-t}function G8(e,t){return e[t]||e.all||0}function q8(e,t,n=Date.now()){return G8(e,t)>n}function W8(e,{statusCode:t,headers:n},r=Date.now()){const s={...e},i=n&&n["x-sentry-rate-limits"],o=n&&n["retry-after"];if(i)for(const a of i.trim().split(",")){const[l,c,,,u]=a.split(":",5),d=parseInt(l,10),h=(isNaN(d)?60:d)*1e3;if(!c)s.all=r+h;else for(const p of c.split(";"))p==="metric_bucket"?(!u||u.split(";").includes("custom"))&&(s[p]=r+h):s[p]=r+h}else o?s.all=r+H8(o,r):t===429&&(s.all=r+60*1e3);return s}const je=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,Dm="production";function jb(){return JP("globalEventProcessors",()=>[])}function K8(e){jb().push(e)}function pg(e,t,n,r=0){return new Zr((s,i)=>{const o=e[r];if(t===null||typeof o!="function")s(t);else{const a=o({...t},n);je&&o.id&&a===null&&re.log(`Event processor "${o.id}" dropped event`),Bm(a)?a.then(l=>pg(e,l,n,r+1).then(s)).then(null,i):pg(e,a,n,r+1).then(s).then(null,i)}})}function vj(e){const t=tl(),n={sid:bn(),init:!0,timestamp:t,started:t,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>Y8(n)};return e&&nl(n,e),n}function nl(e,t={}){if(t.user&&(!e.ipAddress&&t.user.ip_address&&(e.ipAddress=t.user.ip_address),!e.did&&!t.did&&(e.did=t.user.id||t.user.email||t.user.username)),e.timestamp=t.timestamp||tl(),t.abnormal_mechanism&&(e.abnormal_mechanism=t.abnormal_mechanism),t.ignoreDuration&&(e.ignoreDuration=t.ignoreDuration),t.sid&&(e.sid=t.sid.length===32?t.sid:bn()),t.init!==void 0&&(e.init=t.init),!e.did&&t.did&&(e.did=`${t.did}`),typeof t.started=="number"&&(e.started=t.started),e.ignoreDuration)e.duration=void 0;else if(typeof t.duration=="number")e.duration=t.duration;else{const n=e.timestamp-e.started;e.duration=n>=0?n:0}t.release&&(e.release=t.release),t.environment&&(e.environment=t.environment),!e.ipAddress&&t.ipAddress&&(e.ipAddress=t.ipAddress),!e.userAgent&&t.userAgent&&(e.userAgent=t.userAgent),typeof t.errors=="number"&&(e.errors=t.errors),t.status&&(e.status=t.status)}function yj(e,t){let n={};t?n={status:t}:e.status==="ok"&&(n={status:"exited"}),nl(e,n)}function Y8(e){return ns({sid:`${e.sid}`,init:e.init,started:new Date(e.started*1e3).toISOString(),timestamp:new Date(e.timestamp*1e3).toISOString(),status:e.status,errors:e.errors,did:typeof e.did=="number"||typeof e.did=="string"?`${e.did}`:void 0,duration:e.duration,abnormal_mechanism:e.abnormal_mechanism,attrs:{release:e.release,environment:e.environment,ip_address:e.ipAddress,user_agent:e.userAgent}})}const Q8=0,Aj=1;function Ob(e){const{spanId:t,traceId:n}=e.spanContext(),{data:r,op:s,parent_span_id:i,status:o,tags:a,origin:l}=On(e);return ns({data:r,op:s,parent_span_id:i,span_id:t,status:o,tags:a,trace_id:n,origin:l})}function Fm(e){const{traceId:t,spanId:n}=e.spanContext(),r=Vb(e);return Pb(t,n,r)}function Um(e){return typeof e=="number"?Nk(e):Array.isArray(e)?e[0]+e[1]/1e9:e instanceof Date?Nk(e.getTime()):tl()}function Nk(e){return e>9999999999?e/1e3:e}function On(e){return J8(e)?e.getSpanJSON():typeof e.toJSON=="function"?e.toJSON():{}}function J8(e){return typeof e.getSpanJSON=="function"}function Vb(e){const{traceFlags:t}=e.spanContext();return!!(t&Aj)}function X8(e,t,n,r,s,i){const{normalizeDepth:o=3,normalizeMaxBreadth:a=1e3}=e,l={...t,event_id:t.event_id||n.event_id||bn(),timestamp:t.timestamp||Vf()},c=n.integrations||e.integrations.map(_=>_.name);Z8(l,e),n9(l,c),t.type===void 0&&e9(l,e.stackParser);const u=s9(r,n.captureContext);n.mechanism&&qd(l,n.mechanism);const d=s&&s.getEventProcessors?s.getEventProcessors():[],h=m9().getScopeData();if(i){const _=i.getScopeData();Hk(h,_)}if(u){const _=u.getScopeData();Hk(h,_)}const p=[...n.attachments||[],...h.attachments];p.length&&(n.attachments=p),wj(l,h);const g=[...d,...jb(),...h.eventProcessors];return pg(g,l,n).then(_=>(_&&t9(_),typeof o=="number"&&o>0?r9(_,o,a):_))}function Z8(e,t){const{environment:n,release:r,dist:s,maxValueLength:i=250}=t;"environment"in e||(e.environment="environment"in t?n:Dm),e.release===void 0&&r!==void 0&&(e.release=r),e.dist===void 0&&s!==void 0&&(e.dist=s),e.message&&(e.message=_c(e.message,i));const o=e.exception&&e.exception.values&&e.exception.values[0];o&&o.value&&(o.value=_c(o.value,i));const a=e.request;a&&a.url&&(a.url=_c(a.url,i))}const Dk=new WeakMap;function e9(e,t){const n=gt._sentryDebugIds;if(!n)return;let r;const s=Dk.get(t);s?r=s:(r=new Map,Dk.set(t,r));const i=Object.keys(n).reduce((o,a)=>{let l;const c=r.get(a);c?l=c:(l=t(a),r.set(a,l));for(let u=l.length-1;u>=0;u--){const d=l[u];if(d.filename){o[d.filename]=n[a];break}}return o},{});try{e.exception.values.forEach(o=>{o.stacktrace.frames.forEach(a=>{a.filename&&(a.debug_id=i[a.filename])})})}catch{}}function t9(e){const t={};try{e.exception.values.forEach(r=>{r.stacktrace.frames.forEach(s=>{s.debug_id&&(s.abs_path?t[s.abs_path]=s.debug_id:s.filename&&(t[s.filename]=s.debug_id),delete s.debug_id)})})}catch{}if(Object.keys(t).length===0)return;e.debug_meta=e.debug_meta||{},e.debug_meta.images=e.debug_meta.images||[];const n=e.debug_meta.images;Object.keys(t).forEach(r=>{n.push({type:"sourcemap",code_file:r,debug_id:t[r]})})}function n9(e,t){t.length>0&&(e.sdk=e.sdk||{},e.sdk.integrations=[...e.sdk.integrations||[],...t])}function r9(e,t,n){if(!e)return null;const r={...e,...e.breadcrumbs&&{breadcrumbs:e.breadcrumbs.map(s=>({...s,...s.data&&{data:Oo(s.data,t,n)}}))},...e.user&&{user:Oo(e.user,t,n)},...e.contexts&&{contexts:Oo(e.contexts,t,n)},...e.extra&&{extra:Oo(e.extra,t,n)}};return e.contexts&&e.contexts.trace&&r.contexts&&(r.contexts.trace=e.contexts.trace,e.contexts.trace.data&&(r.contexts.trace.data=Oo(e.contexts.trace.data,t,n))),e.spans&&(r.spans=e.spans.map(s=>{const i=On(s).data;return i&&(s.data=Oo(i,t,n)),s})),r}function s9(e,t){if(!t)return e;const n=e?e.clone():new ao;return n.update(t),n}function i9(e){if(e)return o9(e)?{captureContext:e}:l9(e)?{captureContext:e}:e}function o9(e){return e instanceof ao||typeof e=="function"}const a9=["user","level","extra","contexts","tags","fingerprint","requestSession","propagationContext"];function l9(e){return Object.keys(e).some(t=>a9.includes(t))}function Fi(e,t){return Ar().captureException(e,i9(t))}function _j(e,t){return Ar().captureEvent(e,t)}function rl(e,t){Ar().addBreadcrumb(e,t)}function c9(e){Ar().setUser(e)}function Lb(...e){const t=Ar();if(e.length===2){const[n,r]=e;return n?t.withScope(()=>(t.getStackTop().scope=n,r(n))):t.withScope(r)}return t.withScope(e[0])}function Fk(e,t){return Lb(n=>(n.setSpan(e),t(n)))}function Vn(){return Ar().getClient()}function Wi(){return Ar().getScope()}function Uk(e){const t=Vn(),n=bl(),r=Wi(),{release:s,environment:i=Dm}=t&&t.getOptions()||{},{userAgent:o}=gt.navigator||{},a=vj({release:s,environment:i,user:r.getUser()||n.getUser(),...o&&{userAgent:o},...e}),l=n.getSession();return l&&l.status==="ok"&&nl(l,{status:"exited"}),bj(),n.setSession(a),r.setSession(a),a}function bj(){const e=bl(),t=Wi(),n=t.getSession()||e.getSession();n&&yj(n),Sj(),e.setSession(),t.setSession()}function Sj(){const e=bl(),t=Wi(),n=Vn(),r=t.getSession()||e.getSession();r&&n&&n.captureSession&&n.captureSession(r)}function zk(e=!1){if(e){bj();return}Sj()}function gg(e){return e.transaction}function zm(e,t,n){const r=t.getOptions(),{publicKey:s}=t.getDsn()||{},{segment:i}=n&&n.getUser()||{},o=ns({environment:r.environment||Dm,release:r.release,user_segment:i,public_key:s,trace_id:e});return t.emit&&t.emit("createDsc",o),o}function Uc(e){const t=Vn();if(!t)return{};const n=zm(On(e).trace_id||"",t,Wi()),r=gg(e);if(!r)return n;const s=r&&r._frozenDynamicSamplingContext;if(s)return s;const{sampleRate:i,source:o}=r.metadata;i!=null&&(n.sample_rate=`${i}`);const a=On(r);return o&&o!=="url"&&(n.transaction=a.description),n.sampled=String(Vb(r)),t.emit&&t.emit("createDsc",n),n}function wj(e,t){const{fingerprint:n,span:r,breadcrumbs:s,sdkProcessingMetadata:i}=t;u9(e,t),r&&h9(e,r),p9(e,n),d9(e,s),f9(e,i)}function Hk(e,t){const{extra:n,tags:r,user:s,contexts:i,level:o,sdkProcessingMetadata:a,breadcrumbs:l,fingerprint:c,eventProcessors:u,attachments:d,propagationContext:h,transactionName:p,span:g}=t;ju(e,"extra",n),ju(e,"tags",r),ju(e,"user",s),ju(e,"contexts",i),ju(e,"sdkProcessingMetadata",a),o&&(e.level=o),p&&(e.transactionName=p),g&&(e.span=g),l.length&&(e.breadcrumbs=[...e.breadcrumbs,...l]),c.length&&(e.fingerprint=[...e.fingerprint,...c]),u.length&&(e.eventProcessors=[...e.eventProcessors,...u]),d.length&&(e.attachments=[...e.attachments,...d]),e.propagationContext={...e.propagationContext,...h}}function ju(e,t,n){if(n&&Object.keys(n).length){e[t]={...e[t]};for(const r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[t][r]=n[r])}}function u9(e,t){const{extra:n,tags:r,user:s,contexts:i,level:o,transactionName:a}=t,l=ns(n);l&&Object.keys(l).length&&(e.extra={...l,...e.extra});const c=ns(r);c&&Object.keys(c).length&&(e.tags={...c,...e.tags});const u=ns(s);u&&Object.keys(u).length&&(e.user={...u,...e.user});const d=ns(i);d&&Object.keys(d).length&&(e.contexts={...d,...e.contexts}),o&&(e.level=o),a&&(e.transaction=a)}function d9(e,t){const n=[...e.breadcrumbs||[],...t];e.breadcrumbs=n.length?n:void 0}function f9(e,t){e.sdkProcessingMetadata={...e.sdkProcessingMetadata,...t}}function h9(e,t){e.contexts={trace:Ob(t),...e.contexts};const n=gg(t);if(n){e.sdkProcessingMetadata={dynamicSamplingContext:Uc(t),...e.sdkProcessingMetadata};const r=On(n).description;r&&(e.tags={transaction:r,...e.tags})}}function p9(e,t){e.fingerprint=e.fingerprint?oj(e.fingerprint):[],t&&(e.fingerprint=e.fingerprint.concat(t)),e.fingerprint&&!e.fingerprint.length&&delete e.fingerprint}const g9=100;let Cy;class ao{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={},this._propagationContext=Gk()}static clone(t){return t?t.clone():new ao}clone(){const t=new ao;return t._breadcrumbs=[...this._breadcrumbs],t._tags={...this._tags},t._extra={...this._extra},t._contexts={...this._contexts},t._user=this._user,t._level=this._level,t._span=this._span,t._session=this._session,t._transactionName=this._transactionName,t._fingerprint=this._fingerprint,t._eventProcessors=[...this._eventProcessors],t._requestSession=this._requestSession,t._attachments=[...this._attachments],t._sdkProcessingMetadata={...this._sdkProcessingMetadata},t._propagationContext={...this._propagationContext},t._client=this._client,t}setClient(t){this._client=t}getClient(){return this._client}addScopeListener(t){this._scopeListeners.push(t)}addEventProcessor(t){return this._eventProcessors.push(t),this}setUser(t){return this._user=t||{email:void 0,id:void 0,ip_address:void 0,segment:void 0,username:void 0},this._session&&nl(this._session,{user:t}),this._notifyScopeListeners(),this}getUser(){return this._user}getRequestSession(){return this._requestSession}setRequestSession(t){return this._requestSession=t,this}setTags(t){return this._tags={...this._tags,...t},this._notifyScopeListeners(),this}setTag(t,n){return this._tags={...this._tags,[t]:n},this._notifyScopeListeners(),this}setExtras(t){return this._extra={...this._extra,...t},this._notifyScopeListeners(),this}setExtra(t,n){return this._extra={...this._extra,[t]:n},this._notifyScopeListeners(),this}setFingerprint(t){return this._fingerprint=t,this._notifyScopeListeners(),this}setLevel(t){return this._level=t,this._notifyScopeListeners(),this}setTransactionName(t){return this._transactionName=t,this._notifyScopeListeners(),this}setContext(t,n){return n===null?delete this._contexts[t]:this._contexts[t]=n,this._notifyScopeListeners(),this}setSpan(t){return this._span=t,this._notifyScopeListeners(),this}getSpan(){return this._span}getTransaction(){const t=this._span;return t&&t.transaction}setSession(t){return t?this._session=t:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(t){if(!t)return this;const n=typeof t=="function"?t(this):t;if(n instanceof ao){const r=n.getScopeData();this._tags={...this._tags,...r.tags},this._extra={...this._extra,...r.extra},this._contexts={...this._contexts,...r.contexts},r.user&&Object.keys(r.user).length&&(this._user=r.user),r.level&&(this._level=r.level),r.fingerprint.length&&(this._fingerprint=r.fingerprint),n.getRequestSession()&&(this._requestSession=n.getRequestSession()),r.propagationContext&&(this._propagationContext=r.propagationContext)}else if(Nc(n)){const r=t;this._tags={...this._tags,...r.tags},this._extra={...this._extra,...r.extra},this._contexts={...this._contexts,...r.contexts},r.user&&(this._user=r.user),r.level&&(this._level=r.level),r.fingerprint&&(this._fingerprint=r.fingerprint),r.requestSession&&(this._requestSession=r.requestSession),r.propagationContext&&(this._propagationContext=r.propagationContext)}return this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._span=void 0,this._session=void 0,this._notifyScopeListeners(),this._attachments=[],this._propagationContext=Gk(),this}addBreadcrumb(t,n){const r=typeof n=="number"?n:g9;if(r<=0)return this;const s={timestamp:Vf(),...t},i=this._breadcrumbs;return i.push(s),this._breadcrumbs=i.length>r?i.slice(-r):i,this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(t){return this._attachments.push(t),this}getAttachments(){return this.getScopeData().attachments}clearAttachments(){return this._attachments=[],this}getScopeData(){const{_breadcrumbs:t,_attachments:n,_contexts:r,_tags:s,_extra:i,_user:o,_level:a,_fingerprint:l,_eventProcessors:c,_propagationContext:u,_sdkProcessingMetadata:d,_transactionName:h,_span:p}=this;return{breadcrumbs:t,attachments:n,contexts:r,tags:s,extra:i,user:o,level:a,fingerprint:l||[],eventProcessors:c,propagationContext:u,sdkProcessingMetadata:d,transactionName:h,span:p}}applyToEvent(t,n={},r=[]){wj(t,this.getScopeData());const s=[...r,...jb(),...this._eventProcessors];return pg(s,t,n)}setSDKProcessingMetadata(t){return this._sdkProcessingMetadata={...this._sdkProcessingMetadata,...t},this}setPropagationContext(t){return this._propagationContext=t,this}getPropagationContext(){return this._propagationContext}captureException(t,n){const r=n&&n.event_id?n.event_id:bn();if(!this._client)return re.warn("No client configured on scope - will not capture exception!"),r;const s=new Error("Sentry syntheticException");return this._client.captureException(t,{originalException:t,syntheticException:s,...n,event_id:r},this),r}captureMessage(t,n,r){const s=r&&r.event_id?r.event_id:bn();if(!this._client)return re.warn("No client configured on scope - will not capture message!"),s;const i=new Error(t);return this._client.captureMessage(t,n,{originalException:t,syntheticException:i,...r,event_id:s},this),s}captureEvent(t,n){const r=n&&n.event_id?n.event_id:bn();return this._client?(this._client.captureEvent(t,{...n,event_id:r},this),r):(re.warn("No client configured on scope - will not capture event!"),r)}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(t=>{t(this)}),this._notifyingListeners=!1)}}function m9(){return Cy||(Cy=new ao),Cy}function Gk(){return{traceId:bn(),spanId:bn().substring(16)}}const D0="7.112.2",xj=parseFloat(D0),v9=100;class Ej{constructor(t,n,r,s=xj){this._version=s;let i;n?i=n:(i=new ao,i.setClient(t));let o;r?o=r:(o=new ao,o.setClient(t)),this._stack=[{scope:i}],t&&this.bindClient(t),this._isolationScope=o}isOlderThan(t){return this._version<t}bindClient(t){const n=this.getStackTop();n.client=t,n.scope.setClient(t),t&&t.setupIntegrations&&t.setupIntegrations()}pushScope(){const t=this.getScope().clone();return this.getStack().push({client:this.getClient(),scope:t}),t}popScope(){return this.getStack().length<=1?!1:!!this.getStack().pop()}withScope(t){const n=this.pushScope();let r;try{r=t(n)}catch(s){throw this.popScope(),s}return Bm(r)?r.then(s=>(this.popScope(),s),s=>{throw this.popScope(),s}):(this.popScope(),r)}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getIsolationScope(){return this._isolationScope}getStack(){return this._stack}getStackTop(){return this._stack[this._stack.length-1]}captureException(t,n){const r=this._lastEventId=n&&n.event_id?n.event_id:bn(),s=new Error("Sentry syntheticException");return this.getScope().captureException(t,{originalException:t,syntheticException:s,...n,event_id:r}),r}captureMessage(t,n,r){const s=this._lastEventId=r&&r.event_id?r.event_id:bn(),i=new Error(t);return this.getScope().captureMessage(t,n,{originalException:t,syntheticException:i,...r,event_id:s}),s}captureEvent(t,n){const r=n&&n.event_id?n.event_id:bn();return t.type||(this._lastEventId=r),this.getScope().captureEvent(t,{...n,event_id:r}),r}lastEventId(){return this._lastEventId}addBreadcrumb(t,n){const{scope:r,client:s}=this.getStackTop();if(!s)return;const{beforeBreadcrumb:i=null,maxBreadcrumbs:o=v9}=s.getOptions&&s.getOptions()||{};if(o<=0)return;const l={timestamp:Vf(),...t},c=i?Nm(()=>i(l,n)):l;c!==null&&(s.emit&&s.emit("beforeAddBreadcrumb",c,n),r.addBreadcrumb(c,o))}setUser(t){this.getScope().setUser(t),this.getIsolationScope().setUser(t)}setTags(t){this.getScope().setTags(t),this.getIsolationScope().setTags(t)}setExtras(t){this.getScope().setExtras(t),this.getIsolationScope().setExtras(t)}setTag(t,n){this.getScope().setTag(t,n),this.getIsolationScope().setTag(t,n)}setExtra(t,n){this.getScope().setExtra(t,n),this.getIsolationScope().setExtra(t,n)}setContext(t,n){this.getScope().setContext(t,n),this.getIsolationScope().setContext(t,n)}configureScope(t){const{scope:n,client:r}=this.getStackTop();r&&t(n)}run(t){const n=qk(this);try{t(this)}finally{qk(n)}}getIntegration(t){const n=this.getClient();if(!n)return null;try{return n.getIntegration(t)}catch{return je&&re.warn(`Cannot retrieve integration ${t.id} from the current Hub`),null}}startTransaction(t,n){const r=this._callExtensionMethod("startTransaction",t,n);return je&&!r&&(this.getClient()?re.warn(`Tracing extension 'startTransaction' has not been added. Call 'addTracingExtensions' before calling 'init':
Sentry.addTracingExtensions();
Sentry.init({...});
`):re.warn("Tracing extension 'startTransaction' is missing. You should 'init' the SDK before calling 'startTransaction'")),r}traceHeaders(){return this._callExtensionMethod("traceHeaders")}captureSession(t=!1){if(t)return this.endSession();this._sendSessionUpdate()}endSession(){const n=this.getStackTop().scope,r=n.getSession();r&&yj(r),this._sendSessionUpdate(),n.setSession()}startSession(t){const{scope:n,client:r}=this.getStackTop(),{release:s,environment:i=Dm}=r&&r.getOptions()||{},{userAgent:o}=gt.navigator||{},a=vj({release:s,environment:i,user:n.getUser(),...o&&{userAgent:o},...t}),l=n.getSession&&n.getSession();return l&&l.status==="ok"&&nl(l,{status:"exited"}),this.endSession(),n.setSession(a),a}shouldSendDefaultPii(){const t=this.getClient(),n=t&&t.getOptions();return!!(n&&n.sendDefaultPii)}_sendSessionUpdate(){const{scope:t,client:n}=this.getStackTop(),r=t.getSession();r&&n&&n.captureSession&&n.captureSession(r)}_callExtensionMethod(t,...n){const s=Lf().__SENTRY__;if(s&&s.extensions&&typeof s.extensions[t]=="function")return s.extensions[t].apply(this,n);je&&re.warn(`Extension method ${t} couldn't be found, doing nothing.`)}}function Lf(){return gt.__SENTRY__=gt.__SENTRY__||{extensions:{},hub:void 0},gt}function qk(e){const t=Lf(),n=F0(t);return kj(t,e),n}function Ar(){const e=Lf();if(e.__SENTRY__&&e.__SENTRY__.acs){const t=e.__SENTRY__.acs.getCurrentHub();if(t)return t}return y9(e)}function bl(){return Ar().getIsolationScope()}function y9(e=Lf()){return(!A9(e)||F0(e).isOlderThan(xj))&&kj(e,new Ej),F0(e)}function A9(e){return!!(e&&e.__SENTRY__&&e.__SENTRY__.hub)}function F0(e){return JP("hub",()=>new Ej,e)}function kj(e,t){if(!e)return!1;const n=e.__SENTRY__=e.__SENTRY__||{};return n.hub=t,!0}function Sl(e){return(e||Ar()).getScope().getTransaction()}let Wk=!1;function _9(){Wk||(Wk=!0,cj(U0),uj(U0))}function U0(){const e=Sl();if(e){const t="internal_error";je&&re.log(`[Tracing] Transaction: ${t} -> Global error occured`),e.setStatus(t)}}U0.tag="sentry_tracingErrorCallback";var Kk;(function(e){const t="ok";e.Ok=t;const n="deadline_exceeded";e.DeadlineExceeded=n;const r="unauthenticated";e.Unauthenticated=r;const s="permission_denied";e.PermissionDenied=s;const i="not_found";e.NotFound=i;const o="resource_exhausted";e.ResourceExhausted=o;const a="invalid_argument";e.InvalidArgument=a;const l="unimplemented";e.Unimplemented=l;const c="unavailable";e.Unavailable=c;const u="internal_error";e.InternalError=u;const d="unknown_error";e.UnknownError=d;const h="cancelled";e.Cancelled=h;const p="already_exists";e.AlreadyExists=p;const g="failed_precondition";e.FailedPrecondition=g;const m="aborted";e.Aborted=m;const _="out_of_range";e.OutOfRange=_;const v="data_loss";e.DataLoss=v})(Kk||(Kk={}));function b9(e){if(e<400&&e>=100)return"ok";if(e>=400&&e<500)switch(e){case 401:return"unauthenticated";case 403:return"permission_denied";case 404:return"not_found";case 409:return"already_exists";case 413:return"failed_precondition";case 429:return"resource_exhausted";default:return"invalid_argument"}if(e>=500&&e<600)switch(e){case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline_exceeded";default:return"internal_error"}return"unknown_error"}function $b(e,t){e.setTag("http.status_code",String(t)),e.setData("http.response.status_code",t);const n=b9(t);n!=="unknown_error"&&e.setStatus(n)}function cu(e){if(typeof __SENTRY_TRACING__=="boolean"&&!__SENTRY_TRACING__)return!1;const t=Vn(),n=e||t&&t.getOptions();return!!n&&(n.enableTracing||"tracesSampleRate"in n||"tracesSampler"in n)}function gd(e){if(!cu())return;const t=w9(e),n=Ar(),r=e.scope?e.scope.getSpan():Bb();if(e.onlyIfParent&&!r)return;const o=(e.scope||Wi()).clone();return S9(n,{parentSpan:r,spanContext:t,forceTransaction:e.forceTransaction,scope:o})}function Bb(){return Wi().getSpan()}function S9(e,{parentSpan:t,spanContext:n,forceTransaction:r,scope:s}){if(!cu())return;const i=bl();let o;if(t&&!r)o=t.startChild(n);else if(t){const a=Uc(t),{traceId:l,spanId:c}=t.spanContext(),u=Vb(t);o=e.startTransaction({traceId:l,parentSpanId:c,parentSampled:u,...n,metadata:{dynamicSamplingContext:a,...n.metadata}})}else{const{traceId:a,dsc:l,parentSpanId:c,sampled:u}={...i.getPropagationContext(),...s.getPropagationContext()};o=e.startTransaction({traceId:a,parentSpanId:c,parentSampled:u,...n,metadata:{dynamicSamplingContext:l,...n.metadata}})}return s.setSpan(o),x9(o,s,i),o}function w9(e){if(e.startTime){const t={...e};return t.startTimestamp=Um(e.startTime),delete t.startTime,t}return e}const Cj="_sentryScope",Ij="_sentryIsolationScope";function x9(e,t,n){e&&(el(e,Ij,n),el(e,Cj,t))}function E9(e){return{scope:e[Cj],isolationScope:e[Ij]}}const Qo="sentry.source",Yl="sentry.sample_rate",Ih="sentry.op",Ql="sentry.origin",k9="profile_id";class Tj{constructor(t=1e3){this._maxlen=t,this.spans=[]}add(t){this.spans.length>this._maxlen?t.spanRecorder=void 0:this.spans.push(t)}}class Hm{constructor(t={}){this._traceId=t.traceId||bn(),this._spanId=t.spanId||bn().substring(16),this._startTime=t.startTimestamp||tl(),this.tags=t.tags?{...t.tags}:{},this.data=t.data?{...t.data}:{},this.instrumenter=t.instrumenter||"sentry",this._attributes={},this.setAttributes({[Ql]:t.origin||"manual",[Ih]:t.op,...t.attributes}),this._name=t.name||t.description,t.parentSpanId&&(this._parentSpanId=t.parentSpanId),"sampled"in t&&(this._sampled=t.sampled),t.status&&(this._status=t.status),t.endTimestamp&&(this._endTime=t.endTimestamp),t.exclusiveTime!==void 0&&(this._exclusiveTime=t.exclusiveTime),this._measurements=t.measurements?{...t.measurements}:{}}get name(){return this._name||""}set name(t){this.updateName(t)}get description(){return this._name}set description(t){this._name=t}get traceId(){return this._traceId}set traceId(t){this._traceId=t}get spanId(){return this._spanId}set spanId(t){this._spanId=t}set parentSpanId(t){this._parentSpanId=t}get parentSpanId(){return this._parentSpanId}get sampled(){return this._sampled}set sampled(t){this._sampled=t}get attributes(){return this._attributes}set attributes(t){this._attributes=t}get startTimestamp(){return this._startTime}set startTimestamp(t){this._startTime=t}get endTimestamp(){return this._endTime}set endTimestamp(t){this._endTime=t}get status(){return this._status}set status(t){this._status=t}get op(){return this._attributes[Ih]}set op(t){this.setAttribute(Ih,t)}get origin(){return this._attributes[Ql]}set origin(t){this.setAttribute(Ql,t)}spanContext(){const{_spanId:t,_traceId:n,_sampled:r}=this;return{spanId:t,traceId:n,traceFlags:r?Aj:Q8}}startChild(t){const n=new Hm({...t,parentSpanId:this._spanId,sampled:this._sampled,traceId:this._traceId});n.spanRecorder=this.spanRecorder,n.spanRecorder&&n.spanRecorder.add(n);const r=gg(this);if(n.transaction=r,je&&r){const s=t&&t.op||"< unknown op >",i=On(n).description||"< unknown name >",o=r.spanContext().spanId,a=`[Tracing] Starting '${s}' span on transaction '${i}' (${o}).`;re.log(a),this._logMessage=a}return n}setTag(t,n){return this.tags={...this.tags,[t]:n},this}setData(t,n){return this.data={...this.data,[t]:n},this}setAttribute(t,n){n===void 0?delete this._attributes[t]:this._attributes[t]=n}setAttributes(t){Object.keys(t).forEach(n=>this.setAttribute(n,t[n]))}setStatus(t){return this._status=t,this}setHttpStatus(t){return $b(this,t),this}setName(t){this.updateName(t)}updateName(t){return this._name=t,this}isSuccess(){return this._status==="ok"}finish(t){return this.end(t)}end(t){if(this._endTime)return;const n=gg(this);if(je&&n&&n.spanContext().spanId!==this._spanId){const r=this._logMessage;r&&re.log(r.replace("Starting","Finishing"))}this._endTime=Um(t)}toTraceparent(){return Fm(this)}toContext(){return ns({data:this._getData(),description:this._name,endTimestamp:this._endTime,op:this.op,parentSpanId:this._parentSpanId,sampled:this._sampled,spanId:this._spanId,startTimestamp:this._startTime,status:this._status,tags:this.tags,traceId:this._traceId})}updateWithContext(t){return this.data=t.data||{},this._name=t.name||t.description,this._endTime=t.endTimestamp,this.op=t.op,this._parentSpanId=t.parentSpanId,this._sampled=t.sampled,this._spanId=t.spanId||this._spanId,this._startTime=t.startTimestamp||this._startTime,this._status=t.status,this.tags=t.tags||{},this._traceId=t.traceId||this._traceId,this}getTraceContext(){return Ob(this)}getSpanJSON(){return ns({data:this._getData(),description:this._name,op:this._attributes[Ih],parent_span_id:this._parentSpanId,span_id:this._spanId,start_timestamp:this._startTime,status:this._status,tags:Object.keys(this.tags).length>0?this.tags:void 0,timestamp:this._endTime,trace_id:this._traceId,origin:this._attributes[Ql],_metrics_summary:void 0,profile_id:this._attributes[k9],exclusive_time:this._exclusiveTime,measurements:Object.keys(this._measurements).length>0?this._measurements:void 0})}isRecording(){return!this._endTime&&!!this._sampled}toJSON(){return this.getSpanJSON()}_getData(){const{data:t,_attributes:n}=this,r=Object.keys(t).length>0,s=Object.keys(n).length>0;if(!(!r&&!s))return r&&s?{...t,...n}:r?t:n}}class Rj extends Hm{constructor(t,n){super(t),this._contexts={},this._hub=n||Ar(),this._name=t.name||"",this._metadata={...t.metadata},this._trimEnd=t.trimEnd,this.transaction=this;const r=this._metadata.dynamicSamplingContext;r&&(this._frozenDynamicSamplingContext={...r})}get name(){return this._name}set name(t){this.setName(t)}get metadata(){return{source:"custom",spanMetadata:{},...this._metadata,...this._attributes[Qo]&&{source:this._attributes[Qo]},...this._attributes[Yl]&&{sampleRate:this._attributes[Yl]}}}set metadata(t){this._metadata=t}setName(t,n="custom"){this._name=t,this.setAttribute(Qo,n)}updateName(t){return this._name=t,this}initSpanRecorder(t=1e3){this.spanRecorder||(this.spanRecorder=new Tj(t)),this.spanRecorder.add(this)}setContext(t,n){n===null?delete this._contexts[t]:this._contexts[t]=n}setMeasurement(t,n,r=""){this._measurements[t]={value:n,unit:r}}setMetadata(t){this._metadata={...this._metadata,...t}}end(t){const n=Um(t),r=this._finishTransaction(n);if(r)return this._hub.captureEvent(r)}toContext(){const t=super.toContext();return ns({...t,name:this._name,trimEnd:this._trimEnd})}updateWithContext(t){return super.updateWithContext(t),this._name=t.name||"",this._trimEnd=t.trimEnd,this}getDynamicSamplingContext(){return Uc(this)}setHub(t){this._hub=t}getProfileId(){if(this._contexts!==void 0&&this._contexts.profile!==void 0)return this._contexts.profile.profile_id}_finishTransaction(t){if(this._endTime!==void 0)return;this._name||(je&&re.warn("Transaction has no name, falling back to `<unlabeled transaction>`."),this._name="<unlabeled transaction>"),super.end(t);const n=this._hub.getClient();if(n&&n.emit&&n.emit("finishTransaction",this),this._sampled!==!0){je&&re.log("[Tracing] Discarding transaction because its trace was not chosen to be sampled."),n&&n.recordDroppedEvent("sample_rate","transaction");return}const r=this.spanRecorder?this.spanRecorder.spans.filter(u=>u!==this&&On(u).timestamp):[];if(this._trimEnd&&r.length>0){const u=r.map(d=>On(d).timestamp).filter(Boolean);this._endTime=u.reduce((d,h)=>d>h?d:h)}const{scope:s,isolationScope:i}=E9(this),{metadata:o}=this,{source:a}=o,l={contexts:{...this._contexts,trace:Ob(this)},spans:r,start_timestamp:this._startTime,tags:this.tags,timestamp:this._endTime,transaction:this._name,type:"transaction",sdkProcessingMetadata:{...o,capturedSpanScope:s,capturedSpanIsolationScope:i,...ns({dynamicSamplingContext:Uc(this)})},_metrics_summary:void 0,...a&&{transaction_info:{source:a}}};return Object.keys(this._measurements).length>0&&(je&&re.log("[Measurements] Adding measurements to transaction",JSON.stringify(this._measurements,void 0,2)),l.measurements=this._measurements),je&&re.log(`[Tracing] Finishing ${this.op} transaction: ${this._name}.`),l}}const Tp={idleTimeout:1e3,finalTimeout:3e4,heartbeatInterval:5e3},C9="finishReason",jl=["heartbeatFailed","idleTimeout","documentHidden","finalTimeout","externalFinish","cancelled"];class I9 extends Tj{constructor(t,n,r,s){super(s),this._pushActivity=t,this._popActivity=n,this.transactionSpanId=r}add(t){if(t.spanContext().spanId!==this.transactionSpanId){const n=t.end;t.end=(...r)=>(this._popActivity(t.spanContext().spanId),n.apply(t,r)),On(t).timestamp===void 0&&this._pushActivity(t.spanContext().spanId)}super.add(t)}}class T9 extends Rj{constructor(t,n,r=Tp.idleTimeout,s=Tp.finalTimeout,i=Tp.heartbeatInterval,o=!1,a=!1){super(t,n),this._idleHub=n,this._idleTimeout=r,this._finalTimeout=s,this._heartbeatInterval=i,this._onScope=o,this.activities={},this._heartbeatCounter=0,this._finished=!1,this._idleTimeoutCanceledPermanently=!1,this._beforeFinishCallbacks=[],this._finishReason=jl[4],this._autoFinishAllowed=!a,o&&(je&&re.log(`Setting idle transaction on scope. Span ID: ${this.spanContext().spanId}`),n.getScope().setSpan(this)),a||this._restartIdleTimeout(),setTimeout(()=>{this._finished||(this.setStatus("deadline_exceeded"),this._finishReason=jl[3],this.end())},this._finalTimeout)}end(t){const n=Um(t);if(this._finished=!0,this.activities={},this.op==="ui.action.click"&&this.setAttribute(C9,this._finishReason),this.spanRecorder){je&&re.log("[Tracing] finishing IdleTransaction",new Date(n*1e3).toISOString(),this.op);for(const r of this._beforeFinishCallbacks)r(this,n);this.spanRecorder.spans=this.spanRecorder.spans.filter(r=>{if(r.spanContext().spanId===this.spanContext().spanId)return!0;On(r).timestamp||(r.setStatus("cancelled"),r.end(n),je&&re.log("[Tracing] cancelling span since transaction ended early",JSON.stringify(r,void 0,2)));const{start_timestamp:s,timestamp:i}=On(r),o=s&&s<n,a=(this._finalTimeout+this._idleTimeout)/1e3,l=i&&s&&i-s<a;if(je){const c=JSON.stringify(r,void 0,2);o?l||re.log("[Tracing] discarding Span since it finished after Transaction final timeout",c):re.log("[Tracing] discarding Span since it happened after Transaction was finished",c)}return o&&l}),je&&re.log("[Tracing] flushing IdleTransaction")}else je&&re.log("[Tracing] No active IdleTransaction");if(this._onScope){const r=this._idleHub.getScope();r.getTransaction()===this&&r.setSpan(void 0)}return super.end(t)}registerBeforeFinishCallback(t){this._beforeFinishCallbacks.push(t)}initSpanRecorder(t){if(!this.spanRecorder){const n=s=>{this._finished||this._pushActivity(s)},r=s=>{this._finished||this._popActivity(s)};this.spanRecorder=new I9(n,r,this.spanContext().spanId,t),je&&re.log("Starting heartbeat"),this._pingHeartbeat()}this.spanRecorder.add(this)}cancelIdleTimeout(t,{restartOnChildSpanChange:n}={restartOnChildSpanChange:!0}){this._idleTimeoutCanceledPermanently=n===!1,this._idleTimeoutID&&(clearTimeout(this._idleTimeoutID),this._idleTimeoutID=void 0,Object.keys(this.activities).length===0&&this._idleTimeoutCanceledPermanently&&(this._finishReason=jl[5],this.end(t)))}setFinishReason(t){this._finishReason=t}sendAutoFinishSignal(){this._autoFinishAllowed||(je&&re.log("[Tracing] Received finish signal for idle transaction."),this._restartIdleTimeout(),this._autoFinishAllowed=!0)}_restartIdleTimeout(t){this.cancelIdleTimeout(),this._idleTimeoutID=setTimeout(()=>{!this._finished&&Object.keys(this.activities).length===0&&(this._finishReason=jl[1],this.end(t))},this._idleTimeout)}_pushActivity(t){this.cancelIdleTimeout(void 0,{restartOnChildSpanChange:!this._idleTimeoutCanceledPermanently}),je&&re.log(`[Tracing] pushActivity: ${t}`),this.activities[t]=!0,je&&re.log("[Tracing] new activities count",Object.keys(this.activities).length)}_popActivity(t){if(this.activities[t]&&(je&&re.log(`[Tracing] popActivity ${t}`),delete this.activities[t],je&&re.log("[Tracing] new activities count",Object.keys(this.activities).length)),Object.keys(this.activities).length===0){const n=tl();this._idleTimeoutCanceledPermanently?this._autoFinishAllowed&&(this._finishReason=jl[5],this.end(n)):this._restartIdleTimeout(n+this._idleTimeout/1e3)}}_beat(){if(this._finished)return;const t=Object.keys(this.activities).join("");t===this._prevHeartbeatString?this._heartbeatCounter++:this._heartbeatCounter=1,this._prevHeartbeatString=t,this._heartbeatCounter>=3?this._autoFinishAllowed&&(je&&re.log("[Tracing] Transaction finished because of no change for 3 heart beats"),this.setStatus("deadline_exceeded"),this._finishReason=jl[0],this.end()):this._pingHeartbeat()}_pingHeartbeat(){je&&re.log(`pinging Heartbeat -> current counter: ${this._heartbeatCounter}`),setTimeout(()=>{this._beat()},this._heartbeatInterval)}}function Mj(e,t,n){if(!cu(t))return e.sampled=!1,e;if(e.sampled!==void 0)return e.setAttribute(Yl,Number(e.sampled)),e;let r;return typeof t.tracesSampler=="function"?(r=t.tracesSampler(n),e.setAttribute(Yl,Number(r))):n.parentSampled!==void 0?r=n.parentSampled:typeof t.tracesSampleRate<"u"?(r=t.tracesSampleRate,e.setAttribute(Yl,Number(r))):(r=1,e.setAttribute(Yl,r)),Pj(r)?r?(e.sampled=Math.random()<r,e.sampled?(je&&re.log(`[Tracing] starting ${e.op} transaction - ${On(e).description}`),e):(je&&re.log(`[Tracing] Discarding transaction because it's not included in the random sample (sampling rate = ${Number(r)})`),e)):(je&&re.log(`[Tracing] Discarding transaction because ${typeof t.tracesSampler=="function"?"tracesSampler returned 0 or false":"a negative sampling decision was inherited or tracesSampleRate is set to 0"}`),e.sampled=!1,e):(je&&re.warn("[Tracing] Discarding transaction because of invalid sample rate."),e.sampled=!1,e)}function Pj(e){return YP(e)||!(typeof e=="number"||typeof e=="boolean")?(je&&re.warn(`[Tracing] Given sample rate is invalid. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(e)} of type ${JSON.stringify(typeof e)}.`),!1):e<0||e>1?(je&&re.warn(`[Tracing] Given sample rate is invalid. Sample rate must be between 0 and 1. Got ${e}.`),!1):!0}function R9(){const t=this.getScope().getSpan();return t?{"sentry-trace":Fm(t)}:{}}function M9(e,t){const n=this.getClient(),r=n&&n.getOptions()||{},s=r.instrumenter||"sentry",i=e.instrumenter||"sentry";s!==i&&(je&&re.error(`A transaction was started with instrumenter=\`${i}\`, but the SDK is configured with the \`${s}\` instrumenter.
The transaction will not be sampled. Please use the ${s} instrumentation to start transactions.`),e.sampled=!1);let o=new Rj(e,this);return o=Mj(o,r,{name:e.name,parentSampled:e.parentSampled,transactionContext:e,attributes:{...e.data,...e.attributes},...t}),o.isRecording()&&o.initSpanRecorder(r._experiments&&r._experiments.maxSpans),n&&n.emit&&n.emit("startTransaction",o),o}function jj(e,t,n,r,s,i,o,a=!1){const l=e.getClient(),c=l&&l.getOptions()||{};let u=new T9(t,e,n,r,o,s,a);return u=Mj(u,c,{name:t.name,parentSampled:t.parentSampled,transactionContext:t,attributes:{...t.data,...t.attributes},...i}),u.isRecording()&&u.initSpanRecorder(c._experiments&&c._experiments.maxSpans),l&&l.emit&&l.emit("startTransaction",u),u}function P9(){const e=Lf();e.__SENTRY__&&(e.__SENTRY__.extensions=e.__SENTRY__.extensions||{},e.__SENTRY__.extensions.startTransaction||(e.__SENTRY__.extensions.startTransaction=M9),e.__SENTRY__.extensions.traceHeaders||(e.__SENTRY__.extensions.traceHeaders=R9),_9())}function j9(e,t,n){const r=Sl();r&&r.setMeasurement(e,t,n)}function O9(e,t){return t&&(e.sdk=e.sdk||{},e.sdk.name=e.sdk.name||t.name,e.sdk.version=e.sdk.version||t.version,e.sdk.integrations=[...e.sdk.integrations||[],...t.integrations||[]],e.sdk.packages=[...e.sdk.packages||[],...t.packages||[]]),e}function V9(e,t,n,r){const s=mj(n),i={sent_at:new Date().toISOString(),...s&&{sdk:s},...!!r&&t&&{dsn:vl(t)}},o="aggregates"in e?[{type:"sessions"},e]:[{type:"session"},e.toJSON()];return _l(i,[o])}function L9(e,t,n,r){const s=mj(n),i=e.type&&e.type!=="replay_event"?e.type:"event";O9(e,n&&n.sdk);const o=F8(e,s,r,t);return delete e.sdkProcessingMetadata,_l(o,[[{type:i},e]])}const $9="7";function Oj(e){const t=e.protocol?`${e.protocol}:`:"",n=e.port?`:${e.port}`:"";return`${t}//${e.host}${n}${e.path?`/${e.path}`:""}/api/`}function B9(e){return`${Oj(e)}${e.projectId}/envelope/`}function N9(e,t){return Q6({sentry_key:e.publicKey,sentry_version:$9,...t&&{sentry_client:`${t.name}/${t.version}`}})}function D9(e,t={}){const n=typeof t=="string"?t:t.tunnel,r=typeof t=="string"||!t._metadata?void 0:t._metadata.sdk;return n||`${B9(e)}?${N9(e,r)}`}function F9(e,t){const n=ej(e);if(!n)return"";const r=`${Oj(n)}embed/error-page/`;let s=`dsn=${vl(n)}`;for(const i in t)if(i!=="dsn"&&i!=="onClose")if(i==="user"){const o=t.user;if(!o)continue;o.name&&(s+=`&name=${encodeURIComponent(o.name)}`),o.email&&(s+=`&email=${encodeURIComponent(o.email)}`)}else s+=`&${encodeURIComponent(i)}=${encodeURIComponent(t[i])}`;return`${r}?${s}`}const Yk=[];function U9(e){const t={};return e.forEach(n=>{const{name:r}=n,s=t[r];s&&!s.isDefaultInstance&&n.isDefaultInstance||(t[r]=n)}),Object.keys(t).map(n=>t[n])}function z9(e){const t=e.defaultIntegrations||[],n=e.integrations;t.forEach(o=>{o.isDefaultInstance=!0});let r;Array.isArray(n)?r=[...t,...n]:typeof n=="function"?r=oj(n(t)):r=t;const s=U9(r),i=G9(s,o=>o.name==="Debug");if(i!==-1){const[o]=s.splice(i,1);s.push(o)}return s}function H9(e,t){const n={};return t.forEach(r=>{r&&Vj(e,r,n)}),n}function Qk(e,t){for(const n of t)n&&n.afterAllSetup&&n.afterAllSetup(e)}function Vj(e,t,n){if(n[t.name]){je&&re.log(`Integration skipped because it was already installed: ${t.name}`);return}if(n[t.name]=t,Yk.indexOf(t.name)===-1&&(t.setupOnce(K8,Ar),Yk.push(t.name)),t.setup&&typeof t.setup=="function"&&t.setup(e),e.on&&typeof t.preprocessEvent=="function"){const r=t.preprocessEvent.bind(t);e.on("preprocessEvent",(s,i)=>r(s,i,e))}if(e.addEventProcessor&&typeof t.processEvent=="function"){const r=t.processEvent.bind(t),s=Object.assign((i,o)=>r(i,o,e),{id:t.name});e.addEventProcessor(s)}je&&re.log(`Integration installed: ${t.name}`)}function G9(e,t){for(let n=0;n<e.length;n++)if(t(e[n])===!0)return n;return-1}function ha(e,t){return Object.assign(function(...r){return t(...r)},{id:e})}function q9(e){let t="";for(const n of e){const r=Object.entries(n.tags),s=r.length>0?`|#${r.map(([i,o])=>`${i}:${o}`).join(",")}`:"";t+=`${n.name}@${n.unit}:${n.metric}|${n.metricType}${s}|T${n.timestamp}
`}return t}function W9(e,t,n,r){const s={sent_at:new Date().toISOString()};n&&n.sdk&&(s.sdk={name:n.sdk.name,version:n.sdk.version}),r&&t&&(s.dsn=vl(t));const i=K9(e);return _l(s,[i])}function K9(e){const t=q9(e);return[{type:"statsd",length:t.length},t]}const Jk="Not capturing exception because it's already been captured.";class Y9{constructor(t){if(this._options=t,this._integrations={},this._integrationsInitialized=!1,this._numProcessing=0,this._outcomes={},this._hooks={},this._eventProcessors=[],t.dsn?this._dsn=ej(t.dsn):je&&re.warn("No DSN provided, client will not send events."),this._dsn){const n=D9(this._dsn,t);this._transport=t.transport({recordDroppedEvent:this.recordDroppedEvent.bind(this),...t.transportOptions,url:n})}}captureException(t,n,r){if(Pk(t)){je&&re.log(Jk);return}let s=n&&n.event_id;return this._process(this.eventFromException(t,n).then(i=>this._captureEvent(i,n,r)).then(i=>{s=i})),s}captureMessage(t,n,r,s){let i=r&&r.event_id;const o=kb(t)?t:String(t),a=Cb(t)?this.eventFromMessage(o,n,r):this.eventFromException(t,r);return this._process(a.then(l=>this._captureEvent(l,r,s)).then(l=>{i=l})),i}captureEvent(t,n,r){if(n&&n.originalException&&Pk(n.originalException)){je&&re.log(Jk);return}let s=n&&n.event_id;const o=(t.sdkProcessingMetadata||{}).capturedSpanScope;return this._process(this._captureEvent(t,n,o||r).then(a=>{s=a})),s}captureSession(t){typeof t.release!="string"?je&&re.warn("Discarded session because of missing or non-string release"):(this.sendSession(t),nl(t,{init:!1}))}getDsn(){return this._dsn}getOptions(){return this._options}getSdkMetadata(){return this._options._metadata}getTransport(){return this._transport}flush(t){const n=this._transport;return n?(this.metricsAggregator&&this.metricsAggregator.flush(),this._isClientDoneProcessing(t).then(r=>n.flush(t).then(s=>r&&s))):Fc(!0)}close(t){return this.flush(t).then(n=>(this.getOptions().enabled=!1,this.metricsAggregator&&this.metricsAggregator.close(),n))}getEventProcessors(){return this._eventProcessors}addEventProcessor(t){this._eventProcessors.push(t)}setupIntegrations(t){(t&&!this._integrationsInitialized||this._isEnabled()&&!this._integrationsInitialized)&&this._setupIntegrations()}init(){this._isEnabled()&&this._setupIntegrations()}getIntegrationById(t){return this.getIntegrationByName(t)}getIntegrationByName(t){return this._integrations[t]}getIntegration(t){try{return this._integrations[t.id]||null}catch{return je&&re.warn(`Cannot retrieve integration ${t.id} from the current Client`),null}}addIntegration(t){const n=this._integrations[t.name];Vj(this,t,this._integrations),n||Qk(this,[t])}sendEvent(t,n={}){this.emit("beforeSendEvent",t,n);let r=L9(t,this._dsn,this._options._metadata,this._options.tunnel);for(const i of n.attachments||[])r=L8(r,N8(i,this._options.transportOptions&&this._options.transportOptions.textEncoder));const s=this._sendEnvelope(r);s&&s.then(i=>this.emit("afterSendEvent",t,i),null)}sendSession(t){const n=V9(t,this._dsn,this._options._metadata,this._options.tunnel);this._sendEnvelope(n)}recordDroppedEvent(t,n,r){if(this._options.sendClientReports){const s=`${t}:${n}`;je&&re.log(`Adding outcome: "${s}"`),this._outcomes[s]=this._outcomes[s]+1||1}}captureAggregateMetrics(t){je&&re.log(`Flushing aggregated metrics, number of metrics: ${t.length}`);const n=W9(t,this._dsn,this._options._metadata,this._options.tunnel);this._sendEnvelope(n)}on(t,n){this._hooks[t]||(this._hooks[t]=[]),this._hooks[t].push(n)}emit(t,...n){this._hooks[t]&&this._hooks[t].forEach(r=>r(...n))}_setupIntegrations(){const{integrations:t}=this._options;this._integrations=H9(this,t),Qk(this,t),this._integrationsInitialized=!0}_updateSessionFromEvent(t,n){let r=!1,s=!1;const i=n.exception&&n.exception.values;if(i){s=!0;for(const l of i){const c=l.mechanism;if(c&&c.handled===!1){r=!0;break}}}const o=t.status==="ok";(o&&t.errors===0||o&&r)&&(nl(t,{...r&&{status:"crashed"},errors:t.errors||Number(s||r)}),this.captureSession(t))}_isClientDoneProcessing(t){return new Zr(n=>{let r=0;const s=1,i=setInterval(()=>{this._numProcessing==0?(clearInterval(i),n(!0)):(r+=s,t&&r>=t&&(clearInterval(i),n(!1)))},s)})}_isEnabled(){return this.getOptions().enabled!==!1&&this._transport!==void 0}_prepareEvent(t,n,r,s=bl()){const i=this.getOptions(),o=Object.keys(this._integrations);return!n.integrations&&o.length>0&&(n.integrations=o),this.emit("preprocessEvent",t,n),X8(i,t,n,r,this,s).then(a=>{if(a===null)return a;const l={...s.getPropagationContext(),...r?r.getPropagationContext():void 0};if(!(a.contexts&&a.contexts.trace)&&l){const{traceId:u,spanId:d,parentSpanId:h,dsc:p}=l;a.contexts={trace:{trace_id:u,span_id:d,parent_span_id:h},...a.contexts};const g=p||zm(u,this,r);a.sdkProcessingMetadata={dynamicSamplingContext:g,...a.sdkProcessingMetadata}}return a})}_captureEvent(t,n={},r){return this._processEvent(t,n,r).then(s=>s.event_id,s=>{if(je){const i=s;i.logLevel==="log"?re.log(i.message):re.warn(i)}})}_processEvent(t,n,r){const s=this.getOptions(),{sampleRate:i}=s,o=$j(t),a=Lj(t),l=t.type||"error",c=`before send for type \`${l}\``;if(a&&typeof i=="number"&&Math.random()>i)return this.recordDroppedEvent("sample_rate","error",t),Mb(new Ti(`Discarding event because it's not included in the random sample (sampling rate = ${i})`,"log"));const u=l==="replay_event"?"replay":l,h=(t.sdkProcessingMetadata||{}).capturedSpanIsolationScope;return this._prepareEvent(t,n,r,h).then(p=>{if(p===null)throw this.recordDroppedEvent("event_processor",u,t),new Ti("An event processor returned `null`, will not send event.","log");if(n.data&&n.data.__sentry__===!0)return p;const m=J9(s,p,n);return Q9(m,c)}).then(p=>{if(p===null)throw this.recordDroppedEvent("before_send",u,t),new Ti(`${c} returned \`null\`, will not send event.`,"log");const g=r&&r.getSession();!o&&g&&this._updateSessionFromEvent(g,p);const m=p.transaction_info;if(o&&m&&p.transaction!==t.transaction){const _="custom";p.transaction_info={...m,source:_}}return this.sendEvent(p,n),p}).then(null,p=>{throw p instanceof Ti?p:(this.captureException(p,{data:{__sentry__:!0},originalException:p}),new Ti(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.
Reason: ${p}`))})}_process(t){this._numProcessing++,t.then(n=>(this._numProcessing--,n),n=>(this._numProcessing--,n))}_sendEnvelope(t){if(this.emit("beforeEnvelope",t),this._isEnabled()&&this._transport)return this._transport.send(t).then(null,n=>{je&&re.error("Error while sending event:",n)});je&&re.error("Transport disabled")}_clearOutcomes(){const t=this._outcomes;return this._outcomes={},Object.keys(t).map(n=>{const[r,s]=n.split(":");return{reason:r,category:s,quantity:t[n]}})}}function Q9(e,t){const n=`${t} must return \`null\` or a valid event.`;if(Bm(e))return e.then(r=>{if(!Nc(r)&&r!==null)throw new Ti(n);return r},r=>{throw new Ti(`${t} rejected with ${r}`)});if(!Nc(e)&&e!==null)throw new Ti(n);return e}function J9(e,t,n){const{beforeSend:r,beforeSendTransaction:s}=e;return Lj(t)&&r?r(t,n):$j(t)&&s?s(t,n):t}function Lj(e){return e.type===void 0}function $j(e){return e.type==="transaction"}function X9(e,t){t.debug===!0&&(je?re.enable():Nm(()=>{console.warn("[Sentry] Cannot initialize SDK with `debug` option using a non-debug bundle.")})),Wi().update(t.initialScope);const r=new e(t);Z9(r),e7(r)}function Z9(e){const n=Ar().getStackTop();n.client=e,n.scope.setClient(e)}function e7(e){e.init?e.init():e.setupIntegrations&&e.setupIntegrations()}const t7=30;function Bj(e,t,n=E8(e.bufferSize||t7)){let r={};const s=o=>n.drain(o);function i(o){const a=[];if($k(o,(d,h)=>{const p=Bk(h);if(q8(r,p)){const g=Xk(d,h);e.recordDroppedEvent("ratelimit_backoff",p,g)}else a.push(d)}),a.length===0)return Fc();const l=_l(o[0],a),c=d=>{$k(l,(h,p)=>{const g=Xk(h,p);e.recordDroppedEvent(d,Bk(p),g)})},u=()=>t({body:$8(l,e.textEncoder)}).then(d=>(d.statusCode!==void 0&&(d.statusCode<200||d.statusCode>=300)&&je&&re.warn(`Sentry responded with status code ${d.statusCode} to sent event.`),r=W8(r,d),d),d=>{throw c("network_error"),d});return n.add(u).then(d=>d,d=>{if(d instanceof Ti)return je&&re.error("Skipped sending event because buffer is full."),c("queue_overflow"),Fc();throw d})}return i.__sentry__baseTransport__=!0,{send:i,flush:s}}function Xk(e,t){if(!(t!=="event"&&t!=="transaction"))return Array.isArray(e)?e[1]:void 0}function n7(e,t){const n={sent_at:new Date().toISOString()};t&&(n.dsn=vl(t));const r=e.map(r7);return _l(n,r)}function r7(e){return[{type:"span"},e]}function Nj(e,t,n=[t],r="npm"){const s=e._metadata||{};s.sdk||(s.sdk={name:`sentry.javascript.${t}`,packages:n.map(i=>({name:`${r}:@sentry/${i}`,version:D0})),version:D0}),e._metadata=s}const s7=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/,/^ResizeObserver loop completed with undelivered notifications.$/,/^Cannot redefine property: googletag$/],i7=[/^.*\/healthcheck$/,/^.*\/healthy$/,/^.*\/live$/,/^.*\/ready$/,/^.*\/heartbeat$/,/^.*\/health$/,/^.*\/healthz$/],Dj="InboundFilters",o7=(e={})=>({name:Dj,setupOnce(){},processEvent(t,n,r){const s=r.getOptions(),i=a7(e,s);return l7(t,i)?null:t}}),Fj=o7;ha(Dj,Fj);function a7(e={},t={}){return{allowUrls:[...e.allowUrls||[],...t.allowUrls||[]],denyUrls:[...e.denyUrls||[],...t.denyUrls||[]],ignoreErrors:[...e.ignoreErrors||[],...t.ignoreErrors||[],...e.disableErrorDefaults?[]:s7],ignoreTransactions:[...e.ignoreTransactions||[],...t.ignoreTransactions||[],...e.disableTransactionDefaults?[]:i7],ignoreInternal:e.ignoreInternal!==void 0?e.ignoreInternal:!0}}function l7(e,t){return t.ignoreInternal&&p7(e)?(je&&re.warn(`Event dropped due to being internal Sentry Error.
Event: ${$o(e)}`),!0):c7(e,t.ignoreErrors)?(je&&re.warn(`Event dropped due to being matched by \`ignoreErrors\` option.
Event: ${$o(e)}`),!0):u7(e,t.ignoreTransactions)?(je&&re.warn(`Event dropped due to being matched by \`ignoreTransactions\` option.
Event: ${$o(e)}`),!0):d7(e,t.denyUrls)?(je&&re.warn(`Event dropped due to being matched by \`denyUrls\` option.
Event: ${$o(e)}.
Url: ${mg(e)}`),!0):f7(e,t.allowUrls)?!1:(je&&re.warn(`Event dropped due to not being matched by \`allowUrls\` option.
Event: ${$o(e)}.
Url: ${mg(e)}`),!0)}function c7(e,t){return e.type||!t||!t.length?!1:h7(e).some(n=>Of(n,t))}function u7(e,t){if(e.type!=="transaction"||!t||!t.length)return!1;const n=e.transaction;return n?Of(n,t):!1}function d7(e,t){if(!t||!t.length)return!1;const n=mg(e);return n?Of(n,t):!1}function f7(e,t){if(!t||!t.length)return!0;const n=mg(e);return n?Of(n,t):!0}function h7(e){const t=[];e.message&&t.push(e.message);let n;try{n=e.exception.values[e.exception.values.length-1]}catch{}return n&&n.value&&(t.push(n.value),n.type&&t.push(`${n.type}: ${n.value}`)),je&&t.length===0&&re.error(`Could not extract message for event ${$o(e)}`),t}function p7(e){try{return e.exception.values[0].type==="SentryError"}catch{}return!1}function g7(e=[]){for(let t=e.length-1;t>=0;t--){const n=e[t];if(n&&n.filename!=="<anonymous>"&&n.filename!=="[native code]")return n.filename||null}return null}function mg(e){try{let t;try{t=e.exception.values[0].stacktrace.frames}catch{}return t?g7(t):null}catch{return je&&re.error(`Cannot extract url for event ${$o(e)}`),null}}let Zk;const Uj="FunctionToString",e2=new WeakMap,m7=()=>({name:Uj,setupOnce(){Zk=Function.prototype.toString;try{Function.prototype.toString=function(...e){const t=Tb(this),n=e2.has(Vn())&&t!==void 0?t:this;return Zk.apply(n,e)}}catch{}},setup(e){e2.set(e,!0)}}),zj=m7;ha(Uj,zj);const Yt=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,Ue=gt;function v7(){Ue.document?Ue.document.addEventListener("visibilitychange",()=>{const e=Sl();if(Ue.document.hidden&&e){const t="cancelled",{op:n,status:r}=On(e);Yt&&re.log(`[Tracing] Transaction: ${t} -> since tab moved to the background, op: ${n}`),r||e.setStatus(t),e.setTag("visibilitychange","document.hidden"),e.end()}}):Yt&&re.warn("[Tracing] Could not set up background tab detection due to lack of global document")}const $f=(e,t,n)=>{let r,s;return i=>{t.value>=0&&(i||n)&&(s=t.value-(r||0),(s||r===void 0)&&(r=t.value,t.delta=s,e(t)))}},y7=()=>`v3-${Date.now()}-${Math.floor(Math.random()*(9e12-1))+1e12}`,A7=()=>{const e=Ue.performance.timing,t=Ue.performance.navigation.type,n={entryType:"navigation",startTime:0,type:t==2?"back_forward":t===1?"reload":"navigate"};for(const r in e)r!=="navigationStart"&&r!=="toJSON"&&(n[r]=Math.max(e[r]-e.navigationStart,0));return n},Gm=()=>Ue.__WEB_VITALS_POLYFILL__?Ue.performance&&(performance.getEntriesByType&&performance.getEntriesByType("navigation")[0]||A7()):Ue.performance&&performance.getEntriesByType&&performance.getEntriesByType("navigation")[0],Nb=()=>{const e=Gm();return e&&e.activationStart||0},Bf=(e,t)=>{const n=Gm();let r="navigate";return n&&(Ue.document&&Ue.document.prerendering||Nb()>0?r="prerender":r=n.type.replace(/_/g,"-")),{name:e,value:typeof t>"u"?-1:t,rating:"good",delta:0,entries:[],id:y7(),navigationType:r}},uu=(e,t,n)=>{try{if(PerformanceObserver.supportedEntryTypes.includes(e)){const r=new PerformanceObserver(s=>{t(s.getEntries())});return r.observe(Object.assign({type:e,buffered:!0},n||{})),r}}catch{}},Nf=(e,t)=>{const n=r=>{(r.type==="pagehide"||Ue.document.visibilityState==="hidden")&&(e(r),t&&(removeEventListener("visibilitychange",n,!0),removeEventListener("pagehide",n,!0)))};Ue.document&&(addEventListener("visibilitychange",n,!0),addEventListener("pagehide",n,!0))},_7=e=>{const t=Bf("CLS",0);let n,r=0,s=[];const i=a=>{a.forEach(l=>{if(!l.hadRecentInput){const c=s[0],u=s[s.length-1];r&&s.length!==0&&l.startTime-u.startTime<1e3&&l.startTime-c.startTime<5e3?(r+=l.value,s.push(l)):(r=l.value,s=[l]),r>t.value&&(t.value=r,t.entries=s,n&&n())}})},o=uu("layout-shift",i);if(o){n=$f(e,t);const a=()=>{i(o.takeRecords()),n(!0)};return Nf(a),a}};let vg=-1;const b7=()=>{Ue.document&&Ue.document.visibilityState&&(vg=Ue.document.visibilityState==="hidden"&&!Ue.document.prerendering?0:1/0)},S7=()=>{Nf(({timeStamp:e})=>{vg=e},!0)},Db=()=>(vg<0&&(b7(),S7()),{get firstHiddenTime(){return vg}}),w7=e=>{const t=Db(),n=Bf("FID");let r;const s=a=>{a.startTime<t.firstHiddenTime&&(n.value=a.processingStart-a.startTime,n.entries.push(a),r(!0))},i=a=>{a.forEach(s)},o=uu("first-input",i);r=$f(e,n),o&&Nf(()=>{i(o.takeRecords()),o.disconnect()},!0)};let Hj=0,Iy=1/0,Th=0;const x7=e=>{e.forEach(t=>{t.interactionId&&(Iy=Math.min(Iy,t.interactionId),Th=Math.max(Th,t.interactionId),Hj=Th?(Th-Iy)/7+1:0)})};let z0;const E7=()=>z0?Hj:performance.interactionCount||0,k7=()=>{"interactionCount"in performance||z0||(z0=uu("event",x7,{type:"event",buffered:!0,durationThreshold:0}))},Gj=()=>E7(),t2=10,eo=[],Ty={},n2=e=>{const t=eo[eo.length-1],n=Ty[e.interactionId];if(n||eo.length<t2||e.duration>t.latency){if(n)n.entries.push(e),n.latency=Math.max(n.latency,e.duration);else{const r={id:e.interactionId,latency:e.duration,entries:[e]};Ty[r.id]=r,eo.push(r)}eo.sort((r,s)=>s.latency-r.latency),eo.splice(t2).forEach(r=>{delete Ty[r.id]})}},C7=()=>{const e=Math.min(eo.length-1,Math.floor(Gj()/50));return eo[e]},I7=(e,t)=>{t=t||{},k7();const n=Bf("INP");let r;const s=o=>{o.forEach(l=>{l.interactionId&&n2(l),l.entryType==="first-input"&&!eo.some(u=>u.entries.some(d=>l.duration===d.duration&&l.startTime===d.startTime))&&n2(l)});const a=C7();a&&a.latency!==n.value&&(n.value=a.latency,n.entries=a.entries,r())},i=uu("event",s,{durationThreshold:t.durationThreshold||40});r=$f(e,n,t.reportAllChanges),i&&(i.observe({type:"first-input",buffered:!0}),Nf(()=>{s(i.takeRecords()),n.value<0&&Gj()>0&&(n.value=0,n.entries=[]),r(!0)}))},r2={},T7=e=>{const t=Db(),n=Bf("LCP");let r;const s=o=>{const a=o[o.length-1];if(a){const l=Math.max(a.startTime-Nb(),0);l<t.firstHiddenTime&&(n.value=l,n.entries=[a],r())}},i=uu("largest-contentful-paint",s);if(i){r=$f(e,n);const o=()=>{r2[n.id]||(s(i.takeRecords()),i.disconnect(),r2[n.id]=!0,r(!0))};return["keydown","click"].forEach(a=>{Ue.document&&addEventListener(a,o,{once:!0,capture:!0})}),Nf(o,!0),o}},H0=e=>{Ue.document&&(Ue.document.prerendering?addEventListener("prerenderingchange",()=>H0(e),!0):Ue.document.readyState!=="complete"?addEventListener("load",()=>H0(e),!0):setTimeout(e,0))},R7=(e,t)=>{t=t||{};const n=Bf("TTFB"),r=$f(e,n,t.reportAllChanges);H0(()=>{const s=Gm();if(s){if(n.value=Math.max(s.responseStart-Nb(),0),n.value<0||n.value>performance.now())return;n.entries=[s],r(!0)}})},md={},yg={};let qj,Wj,Kj,Yj,Qj;function M7(e,t=!1){return Df("cls",e,L7,qj,t)}function P7(e,t=!1){return Df("lcp",e,B7,Kj,t)}function j7(e){return Df("ttfb",e,N7,Yj)}function O7(e){return Df("fid",e,$7,Wj)}function V7(e){return Df("inp",e,D7,Qj)}function Wd(e,t){return Jj(e,t),yg[e]||(F7(e),yg[e]=!0),Xj(e,t)}function du(e,t){const n=md[e];if(!(!n||!n.length))for(const r of n)try{r(t)}catch(s){Yt&&re.error(`Error while triggering instrumentation handler.
Type: ${e}
Name: ${fo(r)}
Error:`,s)}}function L7(){return _7(e=>{du("cls",{metric:e}),qj=e})}function $7(){return w7(e=>{du("fid",{metric:e}),Wj=e})}function B7(){return T7(e=>{du("lcp",{metric:e}),Kj=e})}function N7(){return R7(e=>{du("ttfb",{metric:e}),Yj=e})}function D7(){return I7(e=>{du("inp",{metric:e}),Qj=e})}function Df(e,t,n,r,s=!1){Jj(e,t);let i;return yg[e]||(i=n(),yg[e]=!0),r&&t({metric:r}),Xj(e,t,s?i:void 0)}function F7(e){const t={};e==="event"&&(t.durationThreshold=0),uu(e,n=>{du(e,{entries:n})},t)}function Jj(e,t){md[e]=md[e]||[],md[e].push(t)}function Xj(e,t,n){return()=>{n&&n();const r=md[e];if(!r)return;const s=r.indexOf(t);s!==-1&&r.splice(s,1)}}function Ry(e){return typeof e=="number"&&isFinite(e)}function zc(e,{startTimestamp:t,...n}){return t&&e.startTimestamp>t&&(e.startTimestamp=t),e.startChild({startTimestamp:t,...n})}const U7=2147483647;function Nn(e){return e/1e3}function Fb(){return Ue&&Ue.addEventListener&&Ue.performance}let s2=0,ln={},wi,vd;function z7(){const e=Fb();if(e&&Ls){e.mark&&Ue.performance.mark("sentry-tracing-init");const t=Y7(),n=W7(),r=K7(),s=Q7();return()=>{t(),n(),r(),s()}}return()=>{}}function H7(){Wd("longtask",({entries:e})=>{for(const t of e){const n=Sl();if(!n)return;const r=Nn(Ls+t.startTime),s=Nn(t.duration);n.startChild({description:"Main UI thread blocked",op:"ui.long-task",origin:"auto.ui.browser.metrics",startTimestamp:r,endTimestamp:r+s})}})}function G7(){Wd("event",({entries:e})=>{for(const t of e){const n=Sl();if(!n)return;if(t.name==="click"){const r=Nn(Ls+t.startTime),s=Nn(t.duration),i={description:Dc(t.target),op:`ui.interaction.${t.name}`,origin:"auto.ui.browser.metrics",startTimestamp:r,endTimestamp:r+s},o=XP(t.target);o&&(i.attributes={"ui.component_name":o}),n.startChild(i)}}})}function q7(e,t){if(Fb()&&Ls){const r=J7(e,t);return()=>{r()}}return()=>{}}function W7(){return M7(({metric:e})=>{const t=e.entries[e.entries.length-1];t&&(Yt&&re.log("[Measurements] Adding CLS"),ln.cls={value:e.value,unit:""},vd=t)},!0)}function K7(){return P7(({metric:e})=>{const t=e.entries[e.entries.length-1];t&&(Yt&&re.log("[Measurements] Adding LCP"),ln.lcp={value:e.value,unit:"millisecond"},wi=t)},!0)}function Y7(){return O7(({metric:e})=>{const t=e.entries[e.entries.length-1];if(!t)return;const n=Nn(Ls),r=Nn(t.startTime);Yt&&re.log("[Measurements] Adding FID"),ln.fid={value:e.value,unit:"millisecond"},ln["mark.fid"]={value:n+r,unit:"second"}})}function Q7(){return j7(({metric:e})=>{e.entries[e.entries.length-1]&&(Yt&&re.log("[Measurements] Adding TTFB"),ln.ttfb={value:e.value,unit:"millisecond"})})}const i2={click:"click",pointerdown:"click",pointerup:"click",mousedown:"click",mouseup:"click",touchstart:"click",touchend:"click",mouseover:"hover",mouseout:"hover",mouseenter:"hover",mouseleave:"hover",pointerover:"hover",pointerout:"hover",pointerenter:"hover",pointerleave:"hover",dragstart:"drag",dragend:"drag",drag:"drag",dragenter:"drag",dragleave:"drag",dragover:"drag",drop:"drag",keydown:"press",keyup:"press",keypress:"press",input:"press"};function J7(e,t){return V7(({metric:n})=>{if(n.value===void 0)return;const r=n.entries.find(b=>b.duration===n.value&&i2[b.name]!==void 0),s=Vn();if(!r||!s)return;const i=i2[r.name],o=s.getOptions(),a=Nn(Ls+r.startTime),l=Nn(n.value),c=r.interactionId!==void 0?e[r.interactionId]:void 0;if(c===void 0)return;const{routeName:u,parentContext:d,activeTransaction:h,user:p,replayId:g}=c,m=p!==void 0?p.email||p.id||p.ip_address:void 0,_=h!==void 0?h.getProfileId():void 0,v=new Hm({startTimestamp:a,endTimestamp:a+l,op:`ui.interaction.${i}`,name:Dc(r.target),attributes:{release:o.release,environment:o.environment,transaction:u,...m!==void 0&&m!==""?{user:m}:{},..._!==void 0?{profile_id:_}:{},...g!==void 0?{replay_id:g}:{}},exclusiveTime:n.value,measurements:{inp:{value:n.value,unit:"millisecond"}}}),y=oU(d,o,t);if(y&&Math.random()<y){const b=v?n7([v],s.getDsn()):void 0,w=s&&s.getTransport();w&&b&&w.send(b).then(null,S=>{Yt&&re.error("Error while sending interaction:",S)});return}})}function X7(e){const t=Fb();if(!t||!Ue.performance.getEntries||!Ls)return;Yt&&re.log("[Tracing] Adding & adjusting spans using Performance API");const n=Nn(Ls),r=t.getEntries(),{op:s,start_timestamp:i}=On(e);if(r.slice(s2).forEach(o=>{const a=Nn(o.startTime),l=Nn(o.duration);if(!(e.op==="navigation"&&i&&n+a<i))switch(o.entryType){case"navigation":{eU(e,o,n);break}case"mark":case"paint":case"measure":{Z7(e,o,a,l,n);const c=Db(),u=o.startTime<c.firstHiddenTime;o.name==="first-paint"&&u&&(Yt&&re.log("[Measurements] Adding FP"),ln.fp={value:o.startTime,unit:"millisecond"}),o.name==="first-contentful-paint"&&u&&(Yt&&re.log("[Measurements] Adding FCP"),ln.fcp={value:o.startTime,unit:"millisecond"});break}case"resource":{nU(e,o,o.name,a,l,n);break}}}),s2=Math.max(r.length-1,0),rU(e),s==="pageload"){iU(ln),["fcp","fp","lcp"].forEach(a=>{if(!ln[a]||!i||n>=i)return;const l=ln[a].value,c=n+Nn(l),u=Math.abs((c-i)*1e3),d=u-l;Yt&&re.log(`[Measurements] Normalized ${a} from ${l} to ${u} (${d})`),ln[a].value=u});const o=ln["mark.fid"];o&&ln.fid&&(zc(e,{description:"first input delay",endTimestamp:o.value+Nn(ln.fid.value),op:"ui.action",origin:"auto.ui.browser.metrics",startTimestamp:o.value}),delete ln["mark.fid"]),"fcp"in ln||delete ln.cls,Object.keys(ln).forEach(a=>{j9(a,ln[a].value,ln[a].unit)}),sU(e)}wi=void 0,vd=void 0,ln={}}function Z7(e,t,n,r,s){const i=s+n,o=i+r;return zc(e,{description:t.name,endTimestamp:o,op:t.entryType,origin:"auto.resource.browser.metrics",startTimestamp:i}),i}function eU(e,t,n){["unloadEvent","redirect","domContentLoadedEvent","loadEvent","connect"].forEach(r=>{Rh(e,t,r,n)}),Rh(e,t,"secureConnection",n,"TLS/SSL","connectEnd"),Rh(e,t,"fetch",n,"cache","domainLookupStart"),Rh(e,t,"domainLookup",n,"DNS"),tU(e,t,n)}function Rh(e,t,n,r,s,i){const o=i?t[i]:t[`${n}End`],a=t[`${n}Start`];!a||!o||zc(e,{op:"browser",origin:"auto.browser.browser.metrics",description:s||n,startTimestamp:r+Nn(a),endTimestamp:r+Nn(o)})}function tU(e,t,n){t.responseEnd&&(zc(e,{op:"browser",origin:"auto.browser.browser.metrics",description:"request",startTimestamp:n+Nn(t.requestStart),endTimestamp:n+Nn(t.responseEnd)}),zc(e,{op:"browser",origin:"auto.browser.browser.metrics",description:"response",startTimestamp:n+Nn(t.responseStart),endTimestamp:n+Nn(t.responseEnd)}))}function nU(e,t,n,r,s,i){if(t.initiatorType==="xmlhttprequest"||t.initiatorType==="fetch")return;const o=Ga(n),a={};My(a,t,"transferSize","http.response_transfer_size"),My(a,t,"encodedBodySize","http.response_content_length"),My(a,t,"decodedBodySize","http.decoded_response_content_length"),"renderBlockingStatus"in t&&(a["resource.render_blocking_status"]=t.renderBlockingStatus),o.protocol&&(a["url.scheme"]=o.protocol.split(":").pop()),o.host&&(a["server.address"]=o.host),a["url.same_origin"]=n.includes(Ue.location.origin);const l=i+r,c=l+s;zc(e,{description:n.replace(Ue.location.origin,""),endTimestamp:c,op:t.initiatorType?`resource.${t.initiatorType}`:"resource.other",origin:"auto.resource.browser.metrics",startTimestamp:l,data:a})}function rU(e){const t=Ue.navigator;if(!t)return;const n=t.connection;n&&(n.effectiveType&&e.setTag("effectiveConnectionType",n.effectiveType),n.type&&e.setTag("connectionType",n.type),Ry(n.rtt)&&(ln["connection.rtt"]={value:n.rtt,unit:"millisecond"})),Ry(t.deviceMemory)&&e.setTag("deviceMemory",`${t.deviceMemory} GB`),Ry(t.hardwareConcurrency)&&e.setTag("hardwareConcurrency",String(t.hardwareConcurrency))}function sU(e){wi&&(Yt&&re.log("[Measurements] Adding LCP Data"),wi.element&&e.setTag("lcp.element",Dc(wi.element)),wi.id&&e.setTag("lcp.id",wi.id),wi.url&&e.setTag("lcp.url",wi.url.trim().slice(0,200)),e.setTag("lcp.size",wi.size)),vd&&vd.sources&&(Yt&&re.log("[Measurements] Adding CLS Data"),vd.sources.forEach((t,n)=>e.setTag(`cls.source.${n+1}`,Dc(t.node))))}function My(e,t,n,r){const s=t[n];s!=null&&s<U7&&(e[r]=s)}function iU(e){const t=Gm();if(!t)return;const{responseStart:n,requestStart:r}=t;r<=n&&(Yt&&re.log("[Measurements] Adding TTFB Request Time"),e["ttfb.requestTime"]={value:n-r,unit:"millisecond"})}function oU(e,t,n){if(!cu(t))return!1;let r;return e!==void 0&&typeof t.tracesSampler=="function"?r=t.tracesSampler({transactionContext:e,name:e.name,parentSampled:e.parentSampled,attributes:{...e.data,...e.attributes},location:Ue.location}):e!==void 0&&e.sampled!==void 0?r=e.sampled:typeof t.tracesSampleRate<"u"?r=t.tracesSampleRate:r=1,Pj(r)?r===!0?n:r===!1?0:r*n:(Yt&&re.warn("[Tracing] Discarding interaction span because of invalid sample rate."),!1)}function aU(e,t,n,r,s="auto.http.browser"){if(!cu()||!e.fetchData)return;const i=t(e.fetchData.url);if(e.endTimestamp&&i){const p=e.fetchData.__span;if(!p)return;const g=r[p];g&&(uU(g,e),delete r[p]);return}const o=Wi(),a=Vn(),{method:l,url:c}=e.fetchData,u=cU(c),d=u?Ga(u).host:void 0,h=i?gd({name:`${l} ${c}`,onlyIfParent:!0,attributes:{url:c,type:"fetch","http.method":l,"http.url":u,"server.address":d,[Ql]:s},op:"http.client"}):void 0;if(h&&(e.fetchData.__span=h.spanContext().spanId,r[h.spanContext().spanId]=h),n(e.fetchData.url)&&a){const p=e.args[0];e.args[1]=e.args[1]||{};const g=e.args[1];g.headers=lU(p,a,o,g,h)}return h}function lU(e,t,n,r,s){const i=s||n.getSpan(),o=bl(),{traceId:a,spanId:l,sampled:c,dsc:u}={...o.getPropagationContext(),...n.getPropagationContext()},d=i?Fm(i):Pb(a,l,c),h=gj(u||(i?Uc(i):zm(a,t,n))),p=r.headers||(typeof Request<"u"&&uo(e,Request)?e.headers:void 0);if(p)if(typeof Headers<"u"&&uo(p,Headers)){const g=new Headers(p);return g.append("sentry-trace",d),h&&g.append(B0,h),g}else if(Array.isArray(p)){const g=[...p,["sentry-trace",d]];return h&&g.push([B0,h]),g}else{const g="baggage"in p?p.baggage:void 0,m=[];return Array.isArray(g)?m.push(...g):g&&m.push(g),h&&m.push(h),{...p,"sentry-trace":d,baggage:m.length>0?m.join(","):void 0}}else return{"sentry-trace":d,baggage:h}}function cU(e){try{return new URL(e).href}catch{return}}function uU(e,t){if(t.response){$b(e,t.response.status);const n=t.response&&t.response.headers&&t.response.headers.get("content-length");if(n){const r=parseInt(n);r>0&&e.setAttribute("http.response_content_length",r)}}else t.error&&e.setStatus("internal_error");e.end()}const G0=["localhost",/^\/(?!\/)/],q0={traceFetch:!0,traceXHR:!0,enableHTTPTimings:!0,tracingOrigins:G0,tracePropagationTargets:G0};function dU(e){const{traceFetch:t,traceXHR:n,tracePropagationTargets:r,tracingOrigins:s,shouldCreateSpanForRequest:i,enableHTTPTimings:o}={traceFetch:q0.traceFetch,traceXHR:q0.traceXHR,...e},a=typeof i=="function"?i:u=>!0,l=u=>gU(u,r||s),c={};t&&lj(u=>{const d=aU(u,a,l,c);if(d){const h=Zj(u.fetchData.url),p=h?Ga(h).host:void 0;d.setAttributes({"http.url":h,"server.address":p})}o&&d&&o2(d)}),n&&dj(u=>{const d=mU(u,a,l,c);o&&d&&o2(d)})}function fU(e){return e.entryType==="resource"&&"initiatorType"in e&&typeof e.nextHopProtocol=="string"&&(e.initiatorType==="fetch"||e.initiatorType==="xmlhttprequest")}function o2(e){const{url:t}=On(e).data||{};if(!t||typeof t!="string")return;const n=Wd("resource",({entries:r})=>{r.forEach(s=>{fU(s)&&s.name.endsWith(t)&&(pU(s).forEach(o=>e.setAttribute(...o)),setTimeout(n))})})}function hU(e){let t="unknown",n="unknown",r="";for(const s of e){if(s==="/"){[t,n]=e.split("/");break}if(!isNaN(Number(s))){t=r==="h"?"http":r,n=e.split(r)[1];break}r+=s}return r===e&&(t=r),{name:t,version:n}}function Ai(e=0){return((Ls||performance.timeOrigin)+e)/1e3}function pU(e){const{name:t,version:n}=hU(e.nextHopProtocol),r=[];return r.push(["network.protocol.version",n],["network.protocol.name",t]),Ls?[...r,["http.request.redirect_start",Ai(e.redirectStart)],["http.request.fetch_start",Ai(e.fetchStart)],["http.request.domain_lookup_start",Ai(e.domainLookupStart)],["http.request.domain_lookup_end",Ai(e.domainLookupEnd)],["http.request.connect_start",Ai(e.connectStart)],["http.request.secure_connection_start",Ai(e.secureConnectionStart)],["http.request.connection_end",Ai(e.connectEnd)],["http.request.request_start",Ai(e.requestStart)],["http.request.response_start",Ai(e.responseStart)],["http.request.response_end",Ai(e.responseEnd)]]:r}function gU(e,t){return Of(e,t||G0)}function mU(e,t,n,r){const s=e.xhr,i=s&&s[Kl];if(!cu()||!s||s.__sentry_own_request__||!i)return;const o=t(i.url);if(e.endTimestamp&&o){const p=s.__sentry_xhr_span_id__;if(!p)return;const g=r[p];g&&i.status_code!==void 0&&($b(g,i.status_code),g.end(),delete r[p]);return}const a=Wi(),l=bl(),c=Zj(i.url),u=c?Ga(c).host:void 0,d=o?gd({name:`${i.method} ${i.url}`,onlyIfParent:!0,attributes:{type:"xhr","http.method":i.method,"http.url":c,url:i.url,"server.address":u,[Ql]:"auto.http.browser"},op:"http.client"}):void 0;d&&(s.__sentry_xhr_span_id__=d.spanContext().spanId,r[s.__sentry_xhr_span_id__]=d);const h=Vn();if(s.setRequestHeader&&n(i.url)&&h){const{traceId:p,spanId:g,sampled:m,dsc:_}={...l.getPropagationContext(),...a.getPropagationContext()},v=d?Fm(d):Pb(p,g,m),y=gj(_||(d?Uc(d):zm(p,h,a)));vU(s,v,y)}return d}function vU(e,t,n){try{e.setRequestHeader("sentry-trace",t),n&&e.setRequestHeader(B0,n)}catch{}}function Zj(e){try{return new URL(e,Ue.location.origin).href}catch{return}}const yU="BrowserTracing",AU={...Tp,instrumentNavigation:!0,instrumentPageLoad:!0,markBackgroundSpan:!0,enableLongTask:!0,enableInp:!1,interactionsSampleRate:1,_experiments:{},...q0},_U=(e={})=>{const t=Yt?!!(e.tracePropagationTargets||e.tracingOrigins):!1;P9(),!e.tracePropagationTargets&&e.tracingOrigins&&(e.tracePropagationTargets=e.tracingOrigins);const n={...AU,...e},r=z7(),s={};n.enableInp&&q7(s,n.interactionsSampleRate),n.enableLongTask&&H7(),n._experiments.enableInteractions&&G7();const i={name:void 0,context:void 0};function o(a){const l=Ar(),{beforeStartSpan:c,idleTimeout:u,finalTimeout:d,heartbeatInterval:h}=n,p=a.op==="pageload";let g;if(p){const y=p?a2("sentry-trace"):"",b=p?a2("baggage"):void 0,{traceId:w,dsc:S,parentSpanId:x,sampled:E}=V8(y,b);g={traceId:w,parentSpanId:x,parentSampled:E,...a,metadata:{...a.metadata,dynamicSamplingContext:S},trimEnd:!0}}else g={trimEnd:!0,...a};const m=c?c(g):g;m.metadata=m.name!==g.name?{...m.metadata,source:"custom"}:m.metadata,i.name=m.name,i.context=m,m.sampled===!1&&Yt&&re.log(`[Tracing] Will not send ${m.op} transaction because of beforeNavigate.`),Yt&&re.log(`[Tracing] Starting ${m.op} transaction on scope`);const{location:_}=Ue,v=jj(l,m,u,d,!0,{location:_},h,p);return p&&Ue.document&&(Ue.document.addEventListener("readystatechange",()=>{["interactive","complete"].includes(Ue.document.readyState)&&v.sendAutoFinishSignal()}),["interactive","complete"].includes(Ue.document.readyState)&&v.sendAutoFinishSignal()),v.registerBeforeFinishCallback(y=>{r(),X7(y)}),v}return{name:yU,setupOnce:()=>{},afterAllSetup(a){const l=a.getOptions(),{markBackgroundSpan:c,traceFetch:u,traceXHR:d,shouldCreateSpanForRequest:h,enableHTTPTimings:p,_experiments:g}=n,m=l&&l.tracePropagationTargets,_=m||n.tracePropagationTargets;Yt&&t&&m&&re.warn("[Tracing] The `tracePropagationTargets` option was set in the BrowserTracing integration and top level `Sentry.init`. The top level `Sentry.init` value is being used.");let v,y=Ue.location&&Ue.location.href;if(a.on&&(a.on("startNavigationSpan",b=>{v&&(Yt&&re.log(`[Tracing] Finishing current transaction with op: ${On(v).op}`),v.end()),v=o({op:"navigation",...b})}),a.on("startPageLoadSpan",b=>{v&&(Yt&&re.log(`[Tracing] Finishing current transaction with op: ${On(v).op}`),v.end()),v=o({op:"pageload",...b})})),n.instrumentPageLoad&&a.emit&&Ue.location){const b={name:Ue.location.pathname,startTimestamp:Ls?Ls/1e3:void 0,origin:"auto.pageload.browser",attributes:{[Qo]:"url"}};bU(a,b)}n.instrumentNavigation&&a.emit&&Ue.location&&Rb(({to:b,from:w})=>{if(w===void 0&&y&&y.indexOf(b)!==-1){y=void 0;return}if(w!==b){y=void 0;const S={name:Ue.location.pathname,origin:"auto.navigation.browser",attributes:{[Qo]:"url"}};SU(a,S)}}),c&&v7(),g.enableInteractions&&wU(n,i),n.enableInp&&EU(s,i),dU({traceFetch:u,traceXHR:d,tracePropagationTargets:_,shouldCreateSpanForRequest:h,enableHTTPTimings:p})},options:n}};function bU(e,t){if(!e.emit)return;e.emit("startPageLoadSpan",t);const n=Bb();return(n&&On(n).op)==="pageload"?n:void 0}function SU(e,t){if(!e.emit)return;e.emit("startNavigationSpan",t);const n=Bb();return(n&&On(n).op)==="navigation"?n:void 0}function a2(e){const t=z6(`meta[name=${e}]`);return t?t.getAttribute("content"):void 0}function wU(e,t){let n;const r=()=>{const{idleTimeout:s,finalTimeout:i,heartbeatInterval:o}=e,a="ui.action.click",l=Sl();if(l&&l.op&&["navigation","pageload"].includes(l.op)){Yt&&re.warn(`[Tracing] Did not create ${a} transaction because a pageload or navigation transaction is in progress.`);return}if(n&&(n.setFinishReason("interactionInterrupted"),n.end(),n=void 0),!t.name){Yt&&re.warn(`[Tracing] Did not create ${a} transaction because _latestRouteName is missing.`);return}const{location:c}=Ue,u={name:t.name,op:a,trimEnd:!0,data:{[Qo]:t.context?kU(t.context):"url"}};n=jj(Ar(),u,s,i,!0,{location:c},o)};["click"].forEach(s=>{Ue.document&&addEventListener(s,r,{once:!1,capture:!0})})}function xU(e){return"duration"in e}const l2=10;function EU(e,t){const n=({entries:r})=>{const s=Vn(),i=s!==void 0&&s.getIntegrationByName!==void 0?s.getIntegrationByName("Replay"):void 0,o=i!==void 0?i.getReplayId():void 0,a=Sl(),l=Wi(),c=l!==void 0?l.getUser():void 0;r.forEach(u=>{if(xU(u)){const d=u.interactionId;if(d===void 0)return;const h=e[d],p=u.duration,g=u.startTime,m=Object.keys(e),_=m.length>0?m.reduce((v,y)=>e[v].duration<e[y].duration?v:y):void 0;if(u.entryType==="first-input"&&m.map(y=>e[y]).some(y=>y.duration===p&&y.startTime===g)||!d)return;if(h)h.duration=Math.max(h.duration,p);else if(m.length<l2||_===void 0||p>e[_].duration){const v=t.name,y=t.context;v&&y&&(_&&Object.keys(e).length>=l2&&delete e[_],e[d]={routeName:v,duration:p,parentContext:y,user:c,activeTransaction:a,replayId:o,startTime:g})}}})};Wd("event",n),Wd("first-input",n)}function kU(e){const t=e.attributes&&e.attributes[Qo],n=e.data&&e.data[Qo],r=e.metadata&&e.metadata.source;return t||n||r}const ut=gt;let W0=0;function eO(){return W0>0}function CU(){W0++,setTimeout(()=>{W0--})}function Hc(e,t={},n){if(typeof e!="function")return e;try{const s=e.__sentry_wrapped__;if(s)return s;if(Tb(e))return e}catch{return e}const r=function(){const s=Array.prototype.slice.call(arguments);try{n&&typeof n=="function"&&n.apply(this,arguments);const i=s.map(o=>Hc(o,t));return e.apply(this,i)}catch(i){throw CU(),Lb(o=>{o.addEventProcessor(a=>(t.mechanism&&(M0(a,void 0,void 0),qd(a,t.mechanism)),a.extra={...a.extra,arguments:s},a)),Fi(i)}),i}};try{for(const s in e)Object.prototype.hasOwnProperty.call(e,s)&&(r[s]=e[s])}catch{}tj(r,e),el(e,"__sentry_wrapped__",r);try{Object.getOwnPropertyDescriptor(r,"name").configurable&&Object.defineProperty(r,"name",{get(){return e.name}})}catch{}return r}const Ps=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__;function tO(e,t){const n=Ub(e,t),r={type:t&&t.name,value:MU(t)};return n.length&&(r.stacktrace={frames:n}),r.type===void 0&&r.value===""&&(r.value="Unrecoverable error caught"),r}function IU(e,t,n,r){const s=Vn(),i=s&&s.getOptions().normalizeDepth,o={exception:{values:[{type:$m(t)?t.constructor.name:r?"UnhandledRejection":"Error",value:OU(t,{isUnhandledRejection:r})}]},extra:{__serialized__:fj(t,i)}};if(n){const a=Ub(e,n);a.length&&(o.exception.values[0].stacktrace={frames:a})}return o}function Py(e,t){return{exception:{values:[tO(e,t)]}}}function Ub(e,t){const n=t.stacktrace||t.stack||"",r=RU(t);try{return e(n,r)}catch{}return[]}const TU=/Minified React error #\d+;/i;function RU(e){if(e){if(typeof e.framesToPop=="number")return e.framesToPop;if(TU.test(e.message))return 1}return 0}function MU(e){const t=e&&e.message;return t?t.error&&typeof t.error.message=="string"?t.error.message:t:"No error message"}function PU(e,t,n,r){const s=n&&n.syntheticException||void 0,i=zb(e,t,s,r);return qd(i),i.level="error",n&&n.event_id&&(i.event_id=n.event_id),Fc(i)}function jU(e,t,n="info",r,s){const i=r&&r.syntheticException||void 0,o=K0(e,t,i,s);return o.level=n,r&&r.event_id&&(o.event_id=r.event_id),Fc(o)}function zb(e,t,n,r,s){let i;if(Eb(t)&&t.error)return Py(e,t.error);if(wk(t)||j6(t)){const o=t;if("stack"in t)i=Py(e,t);else{const a=o.name||(wk(o)?"DOMError":"DOMException"),l=o.message?`${a}: ${o.message}`:a;i=K0(e,l,n,r),M0(i,l)}return"code"in o&&(i.tags={...i.tags,"DOMException.code":`${o.code}`}),i}return xb(t)?Py(e,t):Nc(t)||$m(t)?(i=IU(e,t,n,s),qd(i,{synthetic:!0}),i):(i=K0(e,t,n,r),M0(i,`${t}`,void 0),qd(i,{synthetic:!0}),i)}function K0(e,t,n,r){const s={};if(r&&n){const i=Ub(e,n);i.length&&(s.exception={values:[{value:t,stacktrace:{frames:i}}]})}if(kb(t)){const{__sentry_template_string__:i,__sentry_template_values__:o}=t;return s.logentry={message:i,params:o},s}return s.message=t,s}function OU(e,{isUnhandledRejection:t}){const n=J6(e),r=t?"promise rejection":"exception";return Eb(e)?`Event \`ErrorEvent\` captured as ${r} with message \`${e.message}\``:$m(e)?`Event \`${VU(e)}\` (type=${e.type}) captured as ${r}`:`Object captured as ${r} with keys: ${n}`}function VU(e){try{const t=Object.getPrototypeOf(e);return t?t.constructor.name:void 0}catch{}}function LU(e,{metadata:t,tunnel:n,dsn:r}){const s={event_id:e.event_id,sent_at:new Date().toISOString(),...t&&t.sdk&&{sdk:{name:t.sdk.name,version:t.sdk.version}},...!!n&&!!r&&{dsn:vl(r)}},i=$U(e);return _l(s,[i])}function $U(e){return[{type:"user_report"},e]}class BU extends Y9{constructor(t){const n=ut.SENTRY_SDK_SOURCE||A8();Nj(t,"browser",["browser"],n),super(t),t.sendClientReports&&ut.document&&ut.document.addEventListener("visibilitychange",()=>{ut.document.visibilityState==="hidden"&&this._flushOutcomes()})}eventFromException(t,n){return PU(this._options.stackParser,t,n,this._options.attachStacktrace)}eventFromMessage(t,n="info",r){return jU(this._options.stackParser,t,n,r,this._options.attachStacktrace)}captureUserFeedback(t){if(!this._isEnabled()){Ps&&re.warn("SDK not enabled, will not capture user feedback.");return}const n=LU(t,{metadata:this.getSdkMetadata(),dsn:this.getDsn(),tunnel:this.getOptions().tunnel});this._sendEnvelope(n)}_prepareEvent(t,n,r){return t.platform=t.platform||"javascript",super._prepareEvent(t,n,r)}_flushOutcomes(){const t=this._clearOutcomes();if(t.length===0){Ps&&re.log("No outcomes to send");return}if(!this._dsn){Ps&&re.log("No dsn provided, will not send outcomes");return}Ps&&re.log("Sending outcomes:",t);const n=U8(t,this._options.tunnel&&vl(this._dsn));this._sendEnvelope(n)}}let td;function NU(){if(td)return td;if(V0(ut.fetch))return td=ut.fetch.bind(ut);const e=ut.document;let t=ut.fetch;if(e&&typeof e.createElement=="function")try{const n=e.createElement("iframe");n.hidden=!0,e.head.appendChild(n);const r=n.contentWindow;r&&r.fetch&&(t=r.fetch),e.head.removeChild(n)}catch(n){Ps&&re.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",n)}return td=t.bind(ut)}function DU(){td=void 0}function FU(e,t=NU()){let n=0,r=0;function s(i){const o=i.body.length;n+=o,r++;const a={body:i.body,method:"POST",referrerPolicy:"origin",headers:e.headers,keepalive:n<=6e4&&r<15,...e.fetchOptions};try{return t(e.url,a).then(l=>(n-=o,r--,{statusCode:l.status,headers:{"x-sentry-rate-limits":l.headers.get("X-Sentry-Rate-Limits"),"retry-after":l.headers.get("Retry-After")}}))}catch(l){return DU(),n-=o,r--,Mb(l)}}return Bj(e,s)}const UU=4;function zU(e){function t(n){return new Zr((r,s)=>{const i=new XMLHttpRequest;i.onerror=s,i.onreadystatechange=()=>{i.readyState===UU&&r({statusCode:i.status,headers:{"x-sentry-rate-limits":i.getResponseHeader("X-Sentry-Rate-Limits"),"retry-after":i.getResponseHeader("Retry-After")}})},i.open("POST",e.url);for(const o in e.headers)Object.prototype.hasOwnProperty.call(e.headers,o)&&i.setRequestHeader(o,e.headers[o]);i.send(n.body)})}return Bj(e,t)}const qm="?",HU=30,GU=40,qU=50;function Hb(e,t,n,r){const s={filename:e,function:t,in_app:!0};return n!==void 0&&(s.lineno=n),r!==void 0&&(s.colno=r),s}const WU=/^\s*at (?:(.+?\)(?: \[.+\])?|.*?) ?\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,KU=/\((\S*)(?::(\d+))(?::(\d+))\)/,YU=e=>{const t=WU.exec(e);if(t){if(t[2]&&t[2].indexOf("eval")===0){const i=KU.exec(t[2]);i&&(t[2]=i[1],t[3]=i[2],t[4]=i[3])}const[r,s]=nO(t[1]||qm,t[2]);return Hb(s,r,t[3]?+t[3]:void 0,t[4]?+t[4]:void 0)}},QU=[HU,YU],JU=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:[-a-z]+)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,XU=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,ZU=e=>{const t=JU.exec(e);if(t){if(t[3]&&t[3].indexOf(" > eval")>-1){const i=XU.exec(t[3]);i&&(t[1]=t[1]||"eval",t[3]=i[1],t[4]=i[2],t[5]="")}let r=t[3],s=t[1]||qm;return[s,r]=nO(s,r),Hb(r,s,t[4]?+t[4]:void 0,t[5]?+t[5]:void 0)}},ez=[qU,ZU],tz=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:[-a-z]+):.*?):(\d+)(?::(\d+))?\)?\s*$/i,nz=e=>{const t=tz.exec(e);return t?Hb(t[2],t[1]||qm,+t[3],t[4]?+t[4]:void 0):void 0},rz=[GU,nz],sz=[QU,ez,rz],iz=sj(...sz),nO=(e,t)=>{const n=e.indexOf("safari-extension")!==-1,r=e.indexOf("safari-web-extension")!==-1;return n||r?[e.indexOf("@")!==-1?e.split("@")[0]:qm,n?`safari-extension:${t}`:`safari-web-extension:${t}`]:[e,t]},Mh=1024,rO="Breadcrumbs",oz=(e={})=>{const t={console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0,...e};return{name:rO,setupOnce(){},setup(n){t.console&&t8(cz(n)),t.dom&&s8(lz(n,t.dom)),t.xhr&&dj(uz(n)),t.fetch&&lj(dz(n)),t.history&&Rb(fz(n)),t.sentry&&n.on&&n.on("beforeSendEvent",az(n))}}},sO=oz;ha(rO,sO);function az(e){return function(n){Vn()===e&&rl({category:`sentry.${n.type==="transaction"?"transaction":"event"}`,event_id:n.event_id,level:n.level,message:$o(n)},{event:n})}}function lz(e,t){return function(r){if(Vn()!==e)return;let s,i,o=typeof t=="object"?t.serializeAttribute:void 0,a=typeof t=="object"&&typeof t.maxStringLength=="number"?t.maxStringLength:void 0;a&&a>Mh&&(Ps&&re.warn(`\`dom.maxStringLength\` cannot exceed ${Mh}, but a value of ${a} was configured. Sentry will use ${Mh} instead.`),a=Mh),typeof o=="string"&&(o=[o]);try{const c=r.event,u=hz(c)?c.target:c;s=Dc(u,{keyAttrs:o,maxStringLength:a}),i=XP(u)}catch{s="<unknown>"}if(s.length===0)return;const l={category:`ui.${r.name}`,message:s};i&&(l.data={"ui.component_name":i}),rl(l,{event:r.event,name:r.name,global:r.global})}}function cz(e){return function(n){if(Vn()!==e)return;const r={category:"console",data:{arguments:n.args,logger:"console"},level:C8(n.level),message:xk(n.args," ")};if(n.level==="assert")if(n.args[0]===!1)r.message=`Assertion failed: ${xk(n.args.slice(1)," ")||"console.assert"}`,r.data.arguments=n.args.slice(1);else return;rl(r,{input:n.args,level:n.level})}}function uz(e){return function(n){if(Vn()!==e)return;const{startTimestamp:r,endTimestamp:s}=n,i=n.xhr[Kl];if(!r||!s||!i)return;const{method:o,url:a,status_code:l,body:c}=i,u={method:o,url:a,status_code:l},d={xhr:n.xhr,input:c,startTimestamp:r,endTimestamp:s};rl({category:"xhr",data:u,type:"http"},d)}}function dz(e){return function(n){if(Vn()!==e)return;const{startTimestamp:r,endTimestamp:s}=n;if(s&&!(n.fetchData.url.match(/sentry_key/)&&n.fetchData.method==="POST"))if(n.error){const i=n.fetchData,o={data:n.error,input:n.args,startTimestamp:r,endTimestamp:s};rl({category:"fetch",data:i,level:"error",type:"http"},o)}else{const i=n.response,o={...n.fetchData,status_code:i&&i.status},a={input:n.args,response:i,startTimestamp:r,endTimestamp:s};rl({category:"fetch",data:o,type:"http"},a)}}}function fz(e){return function(n){if(Vn()!==e)return;let r=n.from,s=n.to;const i=Ga(ut.location.href);let o=r?Ga(r):void 0;const a=Ga(s);(!o||!o.path)&&(o=i),i.protocol===a.protocol&&i.host===a.host&&(s=a.relative),i.protocol===o.protocol&&i.host===o.host&&(r=o.relative),rl({category:"navigation",data:{from:r,to:s}})}}function hz(e){return!!e&&!!e.target}const iO="Dedupe",pz=()=>{let e;return{name:iO,setupOnce(){},processEvent(t){if(t.type)return t;try{if(gz(t,e))return Ps&&re.warn("Event dropped due to being a duplicate of previously captured event."),null}catch{}return e=t}}},oO=pz;ha(iO,oO);function gz(e,t){return t?!!(mz(e,t)||vz(e,t)):!1}function mz(e,t){const n=e.message,r=t.message;return!(!n&&!r||n&&!r||!n&&r||n!==r||!lO(e,t)||!aO(e,t))}function vz(e,t){const n=c2(t),r=c2(e);return!(!n||!r||n.type!==r.type||n.value!==r.value||!lO(e,t)||!aO(e,t))}function aO(e,t){let n=u2(e),r=u2(t);if(!n&&!r)return!0;if(n&&!r||!n&&r||(n=n,r=r,r.length!==n.length))return!1;for(let s=0;s<r.length;s++){const i=r[s],o=n[s];if(i.filename!==o.filename||i.lineno!==o.lineno||i.colno!==o.colno||i.function!==o.function)return!1}return!0}function lO(e,t){let n=e.fingerprint,r=t.fingerprint;if(!n&&!r)return!0;if(n&&!r||!n&&r)return!1;n=n,r=r;try{return n.join("")===r.join("")}catch{return!1}}function c2(e){return e.exception&&e.exception.values&&e.exception.values[0]}function u2(e){const t=e.exception;if(t)try{return t.values[0].stacktrace.frames}catch{return}}const cO="GlobalHandlers",yz=(e={})=>{const t={onerror:!0,onunhandledrejection:!0,...e};return{name:cO,setupOnce(){Error.stackTraceLimit=50},setup(n){t.onerror&&(Az(n),d2("onerror")),t.onunhandledrejection&&(_z(n),d2("onunhandledrejection"))}}},uO=yz;ha(cO,uO);function Az(e){cj(t=>{const{stackParser:n,attachStacktrace:r}=fO();if(Vn()!==e||eO())return;const{msg:s,url:i,line:o,column:a,error:l}=t,c=l===void 0&&$i(s)?wz(s,i,o,a):dO(zb(n,l||s,void 0,r,!1),i,o,a);c.level="error",_j(c,{originalException:l,mechanism:{handled:!1,type:"onerror"}})})}function _z(e){uj(t=>{const{stackParser:n,attachStacktrace:r}=fO();if(Vn()!==e||eO())return;const s=bz(t),i=Cb(s)?Sz(s):zb(n,s,void 0,r,!0);i.level="error",_j(i,{originalException:s,mechanism:{handled:!1,type:"onunhandledrejection"}})})}function bz(e){if(Cb(e))return e;const t=e;try{if("reason"in t)return t.reason;if("detail"in t&&"reason"in t.detail)return t.detail.reason}catch{}return e}function Sz(e){return{exception:{values:[{type:"UnhandledRejection",value:`Non-Error promise rejection captured with value: ${String(e)}`}]}}}function wz(e,t,n,r){const s=/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/i;let i=Eb(e)?e.message:e,o="Error";const a=i.match(s);return a&&(o=a[1],i=a[2]),dO({exception:{values:[{type:o,value:i}]}},t,n,r)}function dO(e,t,n,r){const s=e.exception=e.exception||{},i=s.values=s.values||[],o=i[0]=i[0]||{},a=o.stacktrace=o.stacktrace||{},l=a.frames=a.frames||[],c=isNaN(parseInt(r,10))?void 0:r,u=isNaN(parseInt(n,10))?void 0:n,d=$i(t)&&t.length>0?t:U6();return l.length===0&&l.push({colno:c,filename:d,function:"?",in_app:!0,lineno:u}),e}function d2(e){Ps&&re.log(`Global Handler attached: ${e}`)}function fO(){const e=Vn();return e&&e.getOptions()||{stackParser:()=>[],attachStacktrace:!1}}const hO="HttpContext",xz=()=>({name:hO,setupOnce(){},preprocessEvent(e){if(!ut.navigator&&!ut.location&&!ut.document)return;const t=e.request&&e.request.url||ut.location&&ut.location.href,{referrer:n}=ut.document||{},{userAgent:r}=ut.navigator||{},s={...e.request&&e.request.headers,...n&&{Referer:n},...r&&{"User-Agent":r}},i={...e.request,...t&&{url:t},headers:s};e.request=i}}),pO=xz;ha(hO,pO);const Ez="cause",kz=5,gO="LinkedErrors",Cz=(e={})=>{const t=e.limit||kz,n=e.key||Ez;return{name:gO,setupOnce(){},preprocessEvent(r,s,i){const o=i.getOptions();B6(tO,o.stackParser,o.maxValueLength,n,t,r,s)}}},mO=Cz;ha(gO,mO);const Iz=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","BroadcastChannel","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","SharedWorker","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],vO="TryCatch",Tz=(e={})=>{const t={XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0,...e};return{name:vO,setupOnce(){t.setTimeout&&or(ut,"setTimeout",f2),t.setInterval&&or(ut,"setInterval",f2),t.requestAnimationFrame&&or(ut,"requestAnimationFrame",Rz),t.XMLHttpRequest&&"XMLHttpRequest"in ut&&or(XMLHttpRequest.prototype,"send",Mz);const n=t.eventTarget;n&&(Array.isArray(n)?n:Iz).forEach(Pz)}}},yO=Tz;ha(vO,yO);function f2(e){return function(...t){const n=t[0];return t[0]=Hc(n,{mechanism:{data:{function:fo(e)},handled:!1,type:"instrument"}}),e.apply(this,t)}}function Rz(e){return function(t){return e.apply(this,[Hc(t,{mechanism:{data:{function:"requestAnimationFrame",handler:fo(e)},handled:!1,type:"instrument"}})])}}function Mz(e){return function(...t){const n=this;return["onload","onerror","onprogress","onreadystatechange"].forEach(s=>{s in n&&typeof n[s]=="function"&&or(n,s,function(i){const o={mechanism:{data:{function:s,handler:fo(i)},handled:!1,type:"instrument"}},a=Tb(i);return a&&(o.mechanism.data.handler=fo(a)),Hc(i,o)})}),e.apply(this,t)}}function Pz(e){const t=ut,n=t[e]&&t[e].prototype;!n||!n.hasOwnProperty||!n.hasOwnProperty("addEventListener")||(or(n,"addEventListener",function(r){return function(s,i,o){try{typeof i.handleEvent=="function"&&(i.handleEvent=Hc(i.handleEvent,{mechanism:{data:{function:"handleEvent",handler:fo(i),target:e},handled:!1,type:"instrument"}}))}catch{}return r.apply(this,[s,Hc(i,{mechanism:{data:{function:"addEventListener",handler:fo(i),target:e},handled:!1,type:"instrument"}}),o])}}),or(n,"removeEventListener",function(r){return function(s,i,o){const a=i;try{const l=a&&a.__sentry_wrapped__;l&&r.call(this,s,l,o)}catch{}return r.call(this,s,a,o)}}))}const jz=[Fj(),zj(),yO(),sO(),uO(),mO(),oO(),pO()];function Oz(e){return[...jz]}function Vz(e={}){e.defaultIntegrations===void 0&&(e.defaultIntegrations=Oz()),e.release===void 0&&(typeof __SENTRY_RELEASE__=="string"&&(e.release=__SENTRY_RELEASE__),ut.SENTRY_RELEASE&&ut.SENTRY_RELEASE.id&&(e.release=ut.SENTRY_RELEASE.id)),e.autoSessionTracking===void 0&&(e.autoSessionTracking=!0),e.sendClientReports===void 0&&(e.sendClientReports=!0);const t={...e,stackParser:Z6(e.stackParser||iz),integrations:z9(e),transport:e.transport||(aj()?FU:zU)};X9(BU,t),e.autoSessionTracking&&Lz()}const h2=(e={},t=Ar())=>{if(!ut.document){Ps&&re.error("Global document not defined in showReportDialog call");return}const{client:n,scope:r}=t.getStackTop(),s=e.dsn||n&&n.getDsn();if(!s){Ps&&re.error("DSN not configured for showReportDialog call");return}r&&(e.user={...r.getUser(),...e.user}),e.eventId||(e.eventId=t.lastEventId());const i=ut.document.createElement("script");i.async=!0,i.crossOrigin="anonymous",i.src=F9(s,e),e.onLoad&&(i.onload=e.onLoad);const{onClose:o}=e;if(o){const l=c=>{if(c.data==="__sentry_reportdialog_closed__")try{o()}finally{ut.removeEventListener("message",l)}};ut.addEventListener("message",l)}const a=ut.document.head||ut.document.body;a?a.appendChild(i):Ps&&re.error("Not injecting report dialog. No injection point found in HTML")};function Lz(){if(typeof ut.document>"u"){Ps&&re.warn("Session tracking in non-browser environment with @sentry/browser is not supported.");return}Uk({ignoreDuration:!0}),zk(),Rb(({from:e,to:t})=>{e!==void 0&&e!==t&&(Uk({ignoreDuration:!0}),zk())})}function Ph(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var AO={exports:{}};/*!
    localForage -- Offline Storage, Improved
    Version 1.10.0
    https://localforage.github.io/localForage
    (c) 2013-2017 Mozilla, Apache License 2.0
*/(function(e,t){(function(n){e.exports=n()})(function(){return function n(r,s,i){function o(c,u){if(!s[c]){if(!r[c]){var d=typeof Ph=="function"&&Ph;if(!u&&d)return d(c,!0);if(a)return a(c,!0);var h=new Error("Cannot find module '"+c+"'");throw h.code="MODULE_NOT_FOUND",h}var p=s[c]={exports:{}};r[c][0].call(p.exports,function(g){var m=r[c][1][g];return o(m||g)},p,p.exports,n,r,s,i)}return s[c].exports}for(var a=typeof Ph=="function"&&Ph,l=0;l<i.length;l++)o(i[l]);return o}({1:[function(n,r,s){(function(i){var o=i.MutationObserver||i.WebKitMutationObserver,a;if(o){var l=0,c=new o(g),u=i.document.createTextNode("");c.observe(u,{characterData:!0}),a=function(){u.data=l=++l%2}}else if(!i.setImmediate&&typeof i.MessageChannel<"u"){var d=new i.MessageChannel;d.port1.onmessage=g,a=function(){d.port2.postMessage(0)}}else"document"in i&&"onreadystatechange"in i.document.createElement("script")?a=function(){var _=i.document.createElement("script");_.onreadystatechange=function(){g(),_.onreadystatechange=null,_.parentNode.removeChild(_),_=null},i.document.documentElement.appendChild(_)}:a=function(){setTimeout(g,0)};var h,p=[];function g(){h=!0;for(var _,v,y=p.length;y;){for(v=p,p=[],_=-1;++_<y;)v[_]();y=p.length}h=!1}r.exports=m;function m(_){p.push(_)===1&&!h&&a()}}).call(this,typeof Fo<"u"?Fo:typeof self<"u"?self:typeof window<"u"?window:{})},{}],2:[function(n,r,s){var i=n(1);function o(){}var a={},l=["REJECTED"],c=["FULFILLED"],u=["PENDING"];r.exports=d;function d(S){if(typeof S!="function")throw new TypeError("resolver must be a function");this.state=u,this.queue=[],this.outcome=void 0,S!==o&&m(this,S)}d.prototype.catch=function(S){return this.then(null,S)},d.prototype.then=function(S,x){if(typeof S!="function"&&this.state===c||typeof x!="function"&&this.state===l)return this;var E=new this.constructor(o);if(this.state!==u){var T=this.state===c?S:x;p(E,T,this.outcome)}else this.queue.push(new h(E,S,x));return E};function h(S,x,E){this.promise=S,typeof x=="function"&&(this.onFulfilled=x,this.callFulfilled=this.otherCallFulfilled),typeof E=="function"&&(this.onRejected=E,this.callRejected=this.otherCallRejected)}h.prototype.callFulfilled=function(S){a.resolve(this.promise,S)},h.prototype.otherCallFulfilled=function(S){p(this.promise,this.onFulfilled,S)},h.prototype.callRejected=function(S){a.reject(this.promise,S)},h.prototype.otherCallRejected=function(S){p(this.promise,this.onRejected,S)};function p(S,x,E){i(function(){var T;try{T=x(E)}catch(U){return a.reject(S,U)}T===S?a.reject(S,new TypeError("Cannot resolve promise with itself")):a.resolve(S,T)})}a.resolve=function(S,x){var E=_(g,x);if(E.status==="error")return a.reject(S,E.value);var T=E.value;if(T)m(S,T);else{S.state=c,S.outcome=x;for(var U=-1,$=S.queue.length;++U<$;)S.queue[U].callFulfilled(x)}return S},a.reject=function(S,x){S.state=l,S.outcome=x;for(var E=-1,T=S.queue.length;++E<T;)S.queue[E].callRejected(x);return S};function g(S){var x=S&&S.then;if(S&&(typeof S=="object"||typeof S=="function")&&typeof x=="function")return function(){x.apply(S,arguments)}}function m(S,x){var E=!1;function T(Q){E||(E=!0,a.reject(S,Q))}function U(Q){E||(E=!0,a.resolve(S,Q))}function $(){x(U,T)}var D=_($);D.status==="error"&&T(D.value)}function _(S,x){var E={};try{E.value=S(x),E.status="success"}catch(T){E.status="error",E.value=T}return E}d.resolve=v;function v(S){return S instanceof this?S:a.resolve(new this(o),S)}d.reject=y;function y(S){var x=new this(o);return a.reject(x,S)}d.all=b;function b(S){var x=this;if(Object.prototype.toString.call(S)!=="[object Array]")return this.reject(new TypeError("must be an array"));var E=S.length,T=!1;if(!E)return this.resolve([]);for(var U=new Array(E),$=0,D=-1,Q=new this(o);++D<E;)P(S[D],D);return Q;function P(L,M){x.resolve(L).then(I,function(z){T||(T=!0,a.reject(Q,z))});function I(z){U[M]=z,++$===E&&!T&&(T=!0,a.resolve(Q,U))}}}d.race=w;function w(S){var x=this;if(Object.prototype.toString.call(S)!=="[object Array]")return this.reject(new TypeError("must be an array"));var E=S.length,T=!1;if(!E)return this.resolve([]);for(var U=-1,$=new this(o);++U<E;)D(S[U]);return $;function D(Q){x.resolve(Q).then(function(P){T||(T=!0,a.resolve($,P))},function(P){T||(T=!0,a.reject($,P))})}}},{1:1}],3:[function(n,r,s){(function(i){typeof i.Promise!="function"&&(i.Promise=n(2))}).call(this,typeof Fo<"u"?Fo:typeof self<"u"?self:typeof window<"u"?window:{})},{2:2}],4:[function(n,r,s){var i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(k){return typeof k}:function(k){return k&&typeof Symbol=="function"&&k.constructor===Symbol&&k!==Symbol.prototype?"symbol":typeof k};function o(k,B){if(!(k instanceof B))throw new TypeError("Cannot call a class as a function")}function a(){try{if(typeof indexedDB<"u")return indexedDB;if(typeof webkitIndexedDB<"u")return webkitIndexedDB;if(typeof mozIndexedDB<"u")return mozIndexedDB;if(typeof OIndexedDB<"u")return OIndexedDB;if(typeof msIndexedDB<"u")return msIndexedDB}catch{return}}var l=a();function c(){try{if(!l||!l.open)return!1;var k=typeof openDatabase<"u"&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),B=typeof fetch=="function"&&fetch.toString().indexOf("[native code")!==-1;return(!k||B)&&typeof indexedDB<"u"&&typeof IDBKeyRange<"u"}catch{return!1}}function u(k,B){k=k||[],B=B||{};try{return new Blob(k,B)}catch(H){if(H.name!=="TypeError")throw H;for(var R=typeof BlobBuilder<"u"?BlobBuilder:typeof MSBlobBuilder<"u"?MSBlobBuilder:typeof MozBlobBuilder<"u"?MozBlobBuilder:WebKitBlobBuilder,q=new R,Y=0;Y<k.length;Y+=1)q.append(k[Y]);return q.getBlob(B.type)}}typeof Promise>"u"&&n(3);var d=Promise;function h(k,B){B&&k.then(function(R){B(null,R)},function(R){B(R)})}function p(k,B,R){typeof B=="function"&&k.then(B),typeof R=="function"&&k.catch(R)}function g(k){return typeof k!="string"&&(console.warn(k+" used as a key, but it is not a string."),k=String(k)),k}function m(){if(arguments.length&&typeof arguments[arguments.length-1]=="function")return arguments[arguments.length-1]}var _="local-forage-detect-blob-support",v=void 0,y={},b=Object.prototype.toString,w="readonly",S="readwrite";function x(k){for(var B=k.length,R=new ArrayBuffer(B),q=new Uint8Array(R),Y=0;Y<B;Y++)q[Y]=k.charCodeAt(Y);return R}function E(k){return new d(function(B){var R=k.transaction(_,S),q=u([""]);R.objectStore(_).put(q,"key"),R.onabort=function(Y){Y.preventDefault(),Y.stopPropagation(),B(!1)},R.oncomplete=function(){var Y=navigator.userAgent.match(/Chrome\/(\d+)/),H=navigator.userAgent.match(/Edge\//);B(H||!Y||parseInt(Y[1],10)>=43)}}).catch(function(){return!1})}function T(k){return typeof v=="boolean"?d.resolve(v):E(k).then(function(B){return v=B,v})}function U(k){var B=y[k.name],R={};R.promise=new d(function(q,Y){R.resolve=q,R.reject=Y}),B.deferredOperations.push(R),B.dbReady?B.dbReady=B.dbReady.then(function(){return R.promise}):B.dbReady=R.promise}function $(k){var B=y[k.name],R=B.deferredOperations.pop();if(R)return R.resolve(),R.promise}function D(k,B){var R=y[k.name],q=R.deferredOperations.pop();if(q)return q.reject(B),q.promise}function Q(k,B){return new d(function(R,q){if(y[k.name]=y[k.name]||F(),k.db)if(B)U(k),k.db.close();else return R(k.db);var Y=[k.name];B&&Y.push(k.version);var H=l.open.apply(l,Y);B&&(H.onupgradeneeded=function(ee){var ie=H.result;try{ie.createObjectStore(k.storeName),ee.oldVersion<=1&&ie.createObjectStore(_)}catch(le){if(le.name==="ConstraintError")console.warn('The database "'+k.name+'" has been upgraded from version '+ee.oldVersion+" to version "+ee.newVersion+', but the storage "'+k.storeName+'" already exists.');else throw le}}),H.onerror=function(ee){ee.preventDefault(),q(H.error)},H.onsuccess=function(){var ee=H.result;ee.onversionchange=function(ie){ie.target.close()},R(ee),$(k)}})}function P(k){return Q(k,!1)}function L(k){return Q(k,!0)}function M(k,B){if(!k.db)return!0;var R=!k.db.objectStoreNames.contains(k.storeName),q=k.version<k.db.version,Y=k.version>k.db.version;if(q&&(k.version!==B&&console.warn('The database "'+k.name+`" can't be downgraded from version `+k.db.version+" to version "+k.version+"."),k.version=k.db.version),Y||R){if(R){var H=k.db.version+1;H>k.version&&(k.version=H)}return!0}return!1}function I(k){return new d(function(B,R){var q=new FileReader;q.onerror=R,q.onloadend=function(Y){var H=btoa(Y.target.result||"");B({__local_forage_encoded_blob:!0,data:H,type:k.type})},q.readAsBinaryString(k)})}function z(k){var B=x(atob(k.data));return u([B],{type:k.type})}function j(k){return k&&k.__local_forage_encoded_blob}function N(k){var B=this,R=B._initReady().then(function(){var q=y[B._dbInfo.name];if(q&&q.dbReady)return q.dbReady});return p(R,k,k),R}function V(k){U(k);for(var B=y[k.name],R=B.forages,q=0;q<R.length;q++){var Y=R[q];Y._dbInfo.db&&(Y._dbInfo.db.close(),Y._dbInfo.db=null)}return k.db=null,P(k).then(function(H){return k.db=H,M(k)?L(k):H}).then(function(H){k.db=B.db=H;for(var ee=0;ee<R.length;ee++)R[ee]._dbInfo.db=H}).catch(function(H){throw D(k,H),H})}function G(k,B,R,q){q===void 0&&(q=1);try{var Y=k.db.transaction(k.storeName,B);R(null,Y)}catch(H){if(q>0&&(!k.db||H.name==="InvalidStateError"||H.name==="NotFoundError"))return d.resolve().then(function(){if(!k.db||H.name==="NotFoundError"&&!k.db.objectStoreNames.contains(k.storeName)&&k.version<=k.db.version)return k.db&&(k.version=k.db.version+1),L(k)}).then(function(){return V(k).then(function(){G(k,B,R,q-1)})}).catch(R);R(H)}}function F(){return{forages:[],db:null,dbReady:null,deferredOperations:[]}}function ne(k){var B=this,R={db:null};if(k)for(var q in k)R[q]=k[q];var Y=y[R.name];Y||(Y=F(),y[R.name]=Y),Y.forages.push(B),B._initReady||(B._initReady=B.ready,B.ready=N);var H=[];function ee(){return d.resolve()}for(var ie=0;ie<Y.forages.length;ie++){var le=Y.forages[ie];le!==B&&H.push(le._initReady().catch(ee))}var ue=Y.forages.slice(0);return d.all(H).then(function(){return R.db=Y.db,P(R)}).then(function(he){return R.db=he,M(R,B._defaultConfig.version)?L(R):he}).then(function(he){R.db=Y.db=he,B._dbInfo=R;for(var ke=0;ke<ue.length;ke++){var Je=ue[ke];Je!==B&&(Je._dbInfo.db=R.db,Je._dbInfo.version=R.version)}})}function O(k,B){var R=this;k=g(k);var q=new d(function(Y,H){R.ready().then(function(){G(R._dbInfo,w,function(ee,ie){if(ee)return H(ee);try{var le=ie.objectStore(R._dbInfo.storeName),ue=le.get(k);ue.onsuccess=function(){var he=ue.result;he===void 0&&(he=null),j(he)&&(he=z(he)),Y(he)},ue.onerror=function(){H(ue.error)}}catch(he){H(he)}})}).catch(H)});return h(q,B),q}function fe(k,B){var R=this,q=new d(function(Y,H){R.ready().then(function(){G(R._dbInfo,w,function(ee,ie){if(ee)return H(ee);try{var le=ie.objectStore(R._dbInfo.storeName),ue=le.openCursor(),he=1;ue.onsuccess=function(){var ke=ue.result;if(ke){var Je=ke.value;j(Je)&&(Je=z(Je));var mt=k(Je,ke.key,he++);mt!==void 0?Y(mt):ke.continue()}else Y()},ue.onerror=function(){H(ue.error)}}catch(ke){H(ke)}})}).catch(H)});return h(q,B),q}function Z(k,B,R){var q=this;k=g(k);var Y=new d(function(H,ee){var ie;q.ready().then(function(){return ie=q._dbInfo,b.call(B)==="[object Blob]"?T(ie.db).then(function(le){return le?B:I(B)}):B}).then(function(le){G(q._dbInfo,S,function(ue,he){if(ue)return ee(ue);try{var ke=he.objectStore(q._dbInfo.storeName);le===null&&(le=void 0);var Je=ke.put(le,k);he.oncomplete=function(){le===void 0&&(le=null),H(le)},he.onabort=he.onerror=function(){var mt=Je.error?Je.error:Je.transaction.error;ee(mt)}}catch(mt){ee(mt)}})}).catch(ee)});return h(Y,R),Y}function ae(k,B){var R=this;k=g(k);var q=new d(function(Y,H){R.ready().then(function(){G(R._dbInfo,S,function(ee,ie){if(ee)return H(ee);try{var le=ie.objectStore(R._dbInfo.storeName),ue=le.delete(k);ie.oncomplete=function(){Y()},ie.onerror=function(){H(ue.error)},ie.onabort=function(){var he=ue.error?ue.error:ue.transaction.error;H(he)}}catch(he){H(he)}})}).catch(H)});return h(q,B),q}function Pe(k){var B=this,R=new d(function(q,Y){B.ready().then(function(){G(B._dbInfo,S,function(H,ee){if(H)return Y(H);try{var ie=ee.objectStore(B._dbInfo.storeName),le=ie.clear();ee.oncomplete=function(){q()},ee.onabort=ee.onerror=function(){var ue=le.error?le.error:le.transaction.error;Y(ue)}}catch(ue){Y(ue)}})}).catch(Y)});return h(R,k),R}function ye(k){var B=this,R=new d(function(q,Y){B.ready().then(function(){G(B._dbInfo,w,function(H,ee){if(H)return Y(H);try{var ie=ee.objectStore(B._dbInfo.storeName),le=ie.count();le.onsuccess=function(){q(le.result)},le.onerror=function(){Y(le.error)}}catch(ue){Y(ue)}})}).catch(Y)});return h(R,k),R}function ce(k,B){var R=this,q=new d(function(Y,H){if(k<0){Y(null);return}R.ready().then(function(){G(R._dbInfo,w,function(ee,ie){if(ee)return H(ee);try{var le=ie.objectStore(R._dbInfo.storeName),ue=!1,he=le.openKeyCursor();he.onsuccess=function(){var ke=he.result;if(!ke){Y(null);return}k===0||ue?Y(ke.key):(ue=!0,ke.advance(k))},he.onerror=function(){H(he.error)}}catch(ke){H(ke)}})}).catch(H)});return h(q,B),q}function _e(k){var B=this,R=new d(function(q,Y){B.ready().then(function(){G(B._dbInfo,w,function(H,ee){if(H)return Y(H);try{var ie=ee.objectStore(B._dbInfo.storeName),le=ie.openKeyCursor(),ue=[];le.onsuccess=function(){var he=le.result;if(!he){q(ue);return}ue.push(he.key),he.continue()},le.onerror=function(){Y(le.error)}}catch(he){Y(he)}})}).catch(Y)});return h(R,k),R}function Fe(k,B){B=m.apply(this,arguments);var R=this.config();k=typeof k!="function"&&k||{},k.name||(k.name=k.name||R.name,k.storeName=k.storeName||R.storeName);var q=this,Y;if(!k.name)Y=d.reject("Invalid arguments");else{var H=k.name===R.name&&q._dbInfo.db,ee=H?d.resolve(q._dbInfo.db):P(k).then(function(ie){var le=y[k.name],ue=le.forages;le.db=ie;for(var he=0;he<ue.length;he++)ue[he]._dbInfo.db=ie;return ie});k.storeName?Y=ee.then(function(ie){if(ie.objectStoreNames.contains(k.storeName)){var le=ie.version+1;U(k);var ue=y[k.name],he=ue.forages;ie.close();for(var ke=0;ke<he.length;ke++){var Je=he[ke];Je._dbInfo.db=null,Je._dbInfo.version=le}var mt=new d(function(At,kn){var mn=l.open(k.name,le);mn.onerror=function(ys){var ku=mn.result;ku.close(),kn(ys)},mn.onupgradeneeded=function(){var ys=mn.result;ys.deleteObjectStore(k.storeName)},mn.onsuccess=function(){var ys=mn.result;ys.close(),At(ys)}});return mt.then(function(At){ue.db=At;for(var kn=0;kn<he.length;kn++){var mn=he[kn];mn._dbInfo.db=At,$(mn._dbInfo)}}).catch(function(At){throw(D(k,At)||d.resolve()).catch(function(){}),At})}}):Y=ee.then(function(ie){U(k);var le=y[k.name],ue=le.forages;ie.close();for(var he=0;he<ue.length;he++){var ke=ue[he];ke._dbInfo.db=null}var Je=new d(function(mt,At){var kn=l.deleteDatabase(k.name);kn.onerror=function(){var mn=kn.result;mn&&mn.close(),At(kn.error)},kn.onblocked=function(){console.warn('dropInstance blocked for database "'+k.name+'" until all open connections are closed')},kn.onsuccess=function(){var mn=kn.result;mn&&mn.close(),mt(mn)}});return Je.then(function(mt){le.db=mt;for(var At=0;At<ue.length;At++){var kn=ue[At];$(kn._dbInfo)}}).catch(function(mt){throw(D(k,mt)||d.resolve()).catch(function(){}),mt})})}return h(Y,B),Y}var Ne={_driver:"asyncStorage",_initStorage:ne,_support:c(),iterate:fe,getItem:O,setItem:Z,removeItem:ae,clear:Pe,length:ye,key:ce,keys:_e,dropInstance:Fe};function be(){return typeof openDatabase=="function"}var Ee="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Ge="~~local_forage_type~",qe=/^~~local_forage_type~([^~]+)~/,Ie="__lfsc__:",st=Ie.length,xt="arbf",Jt="blob",It="si08",fn="ui08",at="uic8",vt="si16",zt="si32",Ke="ur16",Tt="ui32",me="fl32",et="fl64",hn=st+xt.length,lt=Object.prototype.toString;function tt(k){var B=k.length*.75,R=k.length,q,Y=0,H,ee,ie,le;k[k.length-1]==="="&&(B--,k[k.length-2]==="="&&B--);var ue=new ArrayBuffer(B),he=new Uint8Array(ue);for(q=0;q<R;q+=4)H=Ee.indexOf(k[q]),ee=Ee.indexOf(k[q+1]),ie=Ee.indexOf(k[q+2]),le=Ee.indexOf(k[q+3]),he[Y++]=H<<2|ee>>4,he[Y++]=(ee&15)<<4|ie>>2,he[Y++]=(ie&3)<<6|le&63;return ue}function Xt(k){var B=new Uint8Array(k),R="",q;for(q=0;q<B.length;q+=3)R+=Ee[B[q]>>2],R+=Ee[(B[q]&3)<<4|B[q+1]>>4],R+=Ee[(B[q+1]&15)<<2|B[q+2]>>6],R+=Ee[B[q+2]&63];return B.length%3===2?R=R.substring(0,R.length-1)+"=":B.length%3===1&&(R=R.substring(0,R.length-2)+"=="),R}function sn(k,B){var R="";if(k&&(R=lt.call(k)),k&&(R==="[object ArrayBuffer]"||k.buffer&&lt.call(k.buffer)==="[object ArrayBuffer]")){var q,Y=Ie;k instanceof ArrayBuffer?(q=k,Y+=xt):(q=k.buffer,R==="[object Int8Array]"?Y+=It:R==="[object Uint8Array]"?Y+=fn:R==="[object Uint8ClampedArray]"?Y+=at:R==="[object Int16Array]"?Y+=vt:R==="[object Uint16Array]"?Y+=Ke:R==="[object Int32Array]"?Y+=zt:R==="[object Uint32Array]"?Y+=Tt:R==="[object Float32Array]"?Y+=me:R==="[object Float64Array]"?Y+=et:B(new Error("Failed to get type for BinaryArray"))),B(Y+Xt(q))}else if(R==="[object Blob]"){var H=new FileReader;H.onload=function(){var ee=Ge+k.type+"~"+Xt(this.result);B(Ie+Jt+ee)},H.readAsArrayBuffer(k)}else try{B(JSON.stringify(k))}catch(ee){console.error("Couldn't convert value into a JSON string: ",k),B(null,ee)}}function Ht(k){if(k.substring(0,st)!==Ie)return JSON.parse(k);var B=k.substring(hn),R=k.substring(st,hn),q;if(R===Jt&&qe.test(B)){var Y=B.match(qe);q=Y[1],B=B.substring(Y[0].length)}var H=tt(B);switch(R){case xt:return H;case Jt:return u([H],{type:q});case It:return new Int8Array(H);case fn:return new Uint8Array(H);case at:return new Uint8ClampedArray(H);case vt:return new Int16Array(H);case Ke:return new Uint16Array(H);case zt:return new Int32Array(H);case Tt:return new Uint32Array(H);case me:return new Float32Array(H);case et:return new Float64Array(H);default:throw new Error("Unkown type: "+R)}}var ft={serialize:sn,deserialize:Ht,stringToBuffer:tt,bufferToString:Xt};function Ln(k,B,R,q){k.executeSql("CREATE TABLE IF NOT EXISTS "+B.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],R,q)}function dr(k){var B=this,R={db:null};if(k)for(var q in k)R[q]=typeof k[q]!="string"?k[q].toString():k[q];var Y=new d(function(H,ee){try{R.db=openDatabase(R.name,String(R.version),R.description,R.size)}catch(ie){return ee(ie)}R.db.transaction(function(ie){Ln(ie,R,function(){B._dbInfo=R,H()},function(le,ue){ee(ue)})},ee)});return R.serializer=ft,Y}function pn(k,B,R,q,Y,H){k.executeSql(R,q,Y,function(ee,ie){ie.code===ie.SYNTAX_ERR?ee.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[B.storeName],function(le,ue){ue.rows.length?H(le,ie):Ln(le,B,function(){le.executeSql(R,q,Y,H)},H)},H):H(ee,ie)},H)}function ms(k,B){var R=this;k=g(k);var q=new d(function(Y,H){R.ready().then(function(){var ee=R._dbInfo;ee.db.transaction(function(ie){pn(ie,ee,"SELECT * FROM "+ee.storeName+" WHERE key = ? LIMIT 1",[k],function(le,ue){var he=ue.rows.length?ue.rows.item(0).value:null;he&&(he=ee.serializer.deserialize(he)),Y(he)},function(le,ue){H(ue)})})}).catch(H)});return h(q,B),q}function qr(k,B){var R=this,q=new d(function(Y,H){R.ready().then(function(){var ee=R._dbInfo;ee.db.transaction(function(ie){pn(ie,ee,"SELECT * FROM "+ee.storeName,[],function(le,ue){for(var he=ue.rows,ke=he.length,Je=0;Je<ke;Je++){var mt=he.item(Je),At=mt.value;if(At&&(At=ee.serializer.deserialize(At)),At=k(At,mt.key,Je+1),At!==void 0){Y(At);return}}Y()},function(le,ue){H(ue)})})}).catch(H)});return h(q,B),q}function yt(k,B,R,q){var Y=this;k=g(k);var H=new d(function(ee,ie){Y.ready().then(function(){B===void 0&&(B=null);var le=B,ue=Y._dbInfo;ue.serializer.serialize(B,function(he,ke){ke?ie(ke):ue.db.transaction(function(Je){pn(Je,ue,"INSERT OR REPLACE INTO "+ue.storeName+" (key, value) VALUES (?, ?)",[k,he],function(){ee(le)},function(mt,At){ie(At)})},function(Je){if(Je.code===Je.QUOTA_ERR){if(q>0){ee(yt.apply(Y,[k,le,R,q-1]));return}ie(Je)}})})}).catch(ie)});return h(H,R),H}function gn(k,B,R){return yt.apply(this,[k,B,R,1])}function Oe(k,B){var R=this;k=g(k);var q=new d(function(Y,H){R.ready().then(function(){var ee=R._dbInfo;ee.db.transaction(function(ie){pn(ie,ee,"DELETE FROM "+ee.storeName+" WHERE key = ?",[k],function(){Y()},function(le,ue){H(ue)})})}).catch(H)});return h(q,B),q}function Qe(k){var B=this,R=new d(function(q,Y){B.ready().then(function(){var H=B._dbInfo;H.db.transaction(function(ee){pn(ee,H,"DELETE FROM "+H.storeName,[],function(){q()},function(ie,le){Y(le)})})}).catch(Y)});return h(R,k),R}function Un(k){var B=this,R=new d(function(q,Y){B.ready().then(function(){var H=B._dbInfo;H.db.transaction(function(ee){pn(ee,H,"SELECT COUNT(key) as c FROM "+H.storeName,[],function(ie,le){var ue=le.rows.item(0).c;q(ue)},function(ie,le){Y(le)})})}).catch(Y)});return h(R,k),R}function Wr(k,B){var R=this,q=new d(function(Y,H){R.ready().then(function(){var ee=R._dbInfo;ee.db.transaction(function(ie){pn(ie,ee,"SELECT key FROM "+ee.storeName+" WHERE id = ? LIMIT 1",[k+1],function(le,ue){var he=ue.rows.length?ue.rows.item(0).key:null;Y(he)},function(le,ue){H(ue)})})}).catch(H)});return h(q,B),q}function ve(k){var B=this,R=new d(function(q,Y){B.ready().then(function(){var H=B._dbInfo;H.db.transaction(function(ee){pn(ee,H,"SELECT key FROM "+H.storeName,[],function(ie,le){for(var ue=[],he=0;he<le.rows.length;he++)ue.push(le.rows.item(he).key);q(ue)},function(ie,le){Y(le)})})}).catch(Y)});return h(R,k),R}function Le(k){return new d(function(B,R){k.transaction(function(q){q.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],function(Y,H){for(var ee=[],ie=0;ie<H.rows.length;ie++)ee.push(H.rows.item(ie).name);B({db:k,storeNames:ee})},function(Y,H){R(H)})},function(q){R(q)})})}function De(k,B){B=m.apply(this,arguments);var R=this.config();k=typeof k!="function"&&k||{},k.name||(k.name=k.name||R.name,k.storeName=k.storeName||R.storeName);var q=this,Y;return k.name?Y=new d(function(H){var ee;k.name===R.name?ee=q._dbInfo.db:ee=openDatabase(k.name,"","",0),k.storeName?H({db:ee,storeNames:[k.storeName]}):H(Le(ee))}).then(function(H){return new d(function(ee,ie){H.db.transaction(function(le){function ue(mt){return new d(function(At,kn){le.executeSql("DROP TABLE IF EXISTS "+mt,[],function(){At()},function(mn,ys){kn(ys)})})}for(var he=[],ke=0,Je=H.storeNames.length;ke<Je;ke++)he.push(ue(H.storeNames[ke]));d.all(he).then(function(){ee()}).catch(function(mt){ie(mt)})},function(le){ie(le)})})}):Y=d.reject("Invalid arguments"),h(Y,B),Y}var En={_driver:"webSQLStorage",_initStorage:dr,_support:be(),iterate:qr,getItem:ms,setItem:gn,removeItem:Oe,clear:Qe,length:Un,key:Wr,keys:ve,dropInstance:De};function zn(){try{return typeof localStorage<"u"&&"setItem"in localStorage&&!!localStorage.setItem}catch{return!1}}function Kr(k,B){var R=k.name+"/";return k.storeName!==B.storeName&&(R+=k.storeName+"/"),R}function vs(){var k="_localforage_support_test";try{return localStorage.setItem(k,!0),localStorage.removeItem(k),!1}catch{return!0}}function Zn(){return!vs()||localStorage.length>0}function Pr(k){var B=this,R={};if(k)for(var q in k)R[q]=k[q];return R.keyPrefix=Kr(k,B._defaultConfig),Zn()?(B._dbInfo=R,R.serializer=ft,d.resolve()):d.reject()}function Rt(k){var B=this,R=B.ready().then(function(){for(var q=B._dbInfo.keyPrefix,Y=localStorage.length-1;Y>=0;Y--){var H=localStorage.key(Y);H.indexOf(q)===0&&localStorage.removeItem(H)}});return h(R,k),R}function _a(k,B){var R=this;k=g(k);var q=R.ready().then(function(){var Y=R._dbInfo,H=localStorage.getItem(Y.keyPrefix+k);return H&&(H=Y.serializer.deserialize(H)),H});return h(q,B),q}function iy(k,B){var R=this,q=R.ready().then(function(){for(var Y=R._dbInfo,H=Y.keyPrefix,ee=H.length,ie=localStorage.length,le=1,ue=0;ue<ie;ue++){var he=localStorage.key(ue);if(he.indexOf(H)===0){var ke=localStorage.getItem(he);if(ke&&(ke=Y.serializer.deserialize(ke)),ke=k(ke,he.substring(ee),le++),ke!==void 0)return ke}}});return h(q,B),q}function ch(k,B){var R=this,q=R.ready().then(function(){var Y=R._dbInfo,H;try{H=localStorage.key(k)}catch{H=null}return H&&(H=H.substring(Y.keyPrefix.length)),H});return h(q,B),q}function uh(k){var B=this,R=B.ready().then(function(){for(var q=B._dbInfo,Y=localStorage.length,H=[],ee=0;ee<Y;ee++){var ie=localStorage.key(ee);ie.indexOf(q.keyPrefix)===0&&H.push(ie.substring(q.keyPrefix.length))}return H});return h(R,k),R}function dh(k){var B=this,R=B.keys().then(function(q){return q.length});return h(R,k),R}function fh(k,B){var R=this;k=g(k);var q=R.ready().then(function(){var Y=R._dbInfo;localStorage.removeItem(Y.keyPrefix+k)});return h(q,B),q}function Et(k,B,R){var q=this;k=g(k);var Y=q.ready().then(function(){B===void 0&&(B=null);var H=B;return new d(function(ee,ie){var le=q._dbInfo;le.serializer.serialize(B,function(ue,he){if(he)ie(he);else try{localStorage.setItem(le.keyPrefix+k,ue),ee(H)}catch(ke){(ke.name==="QuotaExceededError"||ke.name==="NS_ERROR_DOM_QUOTA_REACHED")&&ie(ke),ie(ke)}})})});return h(Y,R),Y}function qs(k,B){if(B=m.apply(this,arguments),k=typeof k!="function"&&k||{},!k.name){var R=this.config();k.name=k.name||R.name,k.storeName=k.storeName||R.storeName}var q=this,Y;return k.name?Y=new d(function(H){k.storeName?H(Kr(k,q._defaultConfig)):H(k.name+"/")}).then(function(H){for(var ee=localStorage.length-1;ee>=0;ee--){var ie=localStorage.key(ee);ie.indexOf(H)===0&&localStorage.removeItem(ie)}}):Y=d.reject("Invalid arguments"),h(Y,B),Y}var xu={_driver:"localStorageWrapper",_initStorage:Pr,_support:zn(),iterate:iy,getItem:_a,setItem:Et,removeItem:fh,clear:Rt,length:dh,key:ch,keys:uh,dropInstance:qs},ba=function(B,R){return B===R||typeof B=="number"&&typeof R=="number"&&isNaN(B)&&isNaN(R)},oy=function(B,R){for(var q=B.length,Y=0;Y<q;){if(ba(B[Y],R))return!0;Y++}return!1},Rl=Array.isArray||function(k){return Object.prototype.toString.call(k)==="[object Array]"},Eu={},Yx={},Ml={INDEXEDDB:Ne,WEBSQL:En,LOCALSTORAGE:xu},cB=[Ml.INDEXEDDB._driver,Ml.WEBSQL._driver,Ml.LOCALSTORAGE._driver],hh=["dropInstance"],ay=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(hh),uB={description:"",driver:cB.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function dB(k,B){k[B]=function(){var R=arguments;return k.ready().then(function(){return k[B].apply(k,R)})}}function ly(){for(var k=1;k<arguments.length;k++){var B=arguments[k];if(B)for(var R in B)B.hasOwnProperty(R)&&(Rl(B[R])?arguments[0][R]=B[R].slice():arguments[0][R]=B[R])}return arguments[0]}var fB=function(){function k(B){o(this,k);for(var R in Ml)if(Ml.hasOwnProperty(R)){var q=Ml[R],Y=q._driver;this[R]=Y,Eu[Y]||this.defineDriver(q)}this._defaultConfig=ly({},uB),this._config=ly({},this._defaultConfig,B),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}return k.prototype.config=function(R){if((typeof R>"u"?"undefined":i(R))==="object"){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var q in R){if(q==="storeName"&&(R[q]=R[q].replace(/\W/g,"_")),q==="version"&&typeof R[q]!="number")return new Error("Database version must be a number.");this._config[q]=R[q]}return"driver"in R&&R.driver?this.setDriver(this._config.driver):!0}else return typeof R=="string"?this._config[R]:this._config},k.prototype.defineDriver=function(R,q,Y){var H=new d(function(ee,ie){try{var le=R._driver,ue=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!R._driver){ie(ue);return}for(var he=ay.concat("_initStorage"),ke=0,Je=he.length;ke<Je;ke++){var mt=he[ke],At=!oy(hh,mt);if((At||R[mt])&&typeof R[mt]!="function"){ie(ue);return}}var kn=function(){for(var ku=function(gB){return function(){var mB=new Error("Method "+gB+" is not implemented by the current driver"),Qx=d.reject(mB);return h(Qx,arguments[arguments.length-1]),Qx}},cy=0,pB=hh.length;cy<pB;cy++){var uy=hh[cy];R[uy]||(R[uy]=ku(uy))}};kn();var mn=function(ku){Eu[le]&&console.info("Redefining LocalForage driver: "+le),Eu[le]=R,Yx[le]=ku,ee()};"_support"in R?R._support&&typeof R._support=="function"?R._support().then(mn,ie):mn(!!R._support):mn(!0)}catch(ys){ie(ys)}});return p(H,q,Y),H},k.prototype.driver=function(){return this._driver||null},k.prototype.getDriver=function(R,q,Y){var H=Eu[R]?d.resolve(Eu[R]):d.reject(new Error("Driver not found."));return p(H,q,Y),H},k.prototype.getSerializer=function(R){var q=d.resolve(ft);return p(q,R),q},k.prototype.ready=function(R){var q=this,Y=q._driverSet.then(function(){return q._ready===null&&(q._ready=q._initDriver()),q._ready});return p(Y,R,R),Y},k.prototype.setDriver=function(R,q,Y){var H=this;Rl(R)||(R=[R]);var ee=this._getSupportedDrivers(R);function ie(){H._config.driver=H.driver()}function le(ke){return H._extend(ke),ie(),H._ready=H._initStorage(H._config),H._ready}function ue(ke){return function(){var Je=0;function mt(){for(;Je<ke.length;){var At=ke[Je];return Je++,H._dbInfo=null,H._ready=null,H.getDriver(At).then(le).catch(mt)}ie();var kn=new Error("No available storage method found.");return H._driverSet=d.reject(kn),H._driverSet}return mt()}}var he=this._driverSet!==null?this._driverSet.catch(function(){return d.resolve()}):d.resolve();return this._driverSet=he.then(function(){var ke=ee[0];return H._dbInfo=null,H._ready=null,H.getDriver(ke).then(function(Je){H._driver=Je._driver,ie(),H._wrapLibraryMethodsWithReady(),H._initDriver=ue(ee)})}).catch(function(){ie();var ke=new Error("No available storage method found.");return H._driverSet=d.reject(ke),H._driverSet}),p(this._driverSet,q,Y),this._driverSet},k.prototype.supports=function(R){return!!Yx[R]},k.prototype._extend=function(R){ly(this,R)},k.prototype._getSupportedDrivers=function(R){for(var q=[],Y=0,H=R.length;Y<H;Y++){var ee=R[Y];this.supports(ee)&&q.push(ee)}return q},k.prototype._wrapLibraryMethodsWithReady=function(){for(var R=0,q=ay.length;R<q;R++)dB(this,ay[R])},k.prototype.createInstance=function(R){return new k(R)},k}(),hB=new fB;r.exports=hB},{3:3}]},{},[4])(4)})})(AO);var $z=AO.exports;const sl=cr($z);function Bz(e){const t={...e};Nj(t,"react"),Vz(t)}const Nz="ui.react.render",Dz="ui.react.update",Fz="ui.react.mount",p2="/home/runner/work/sentry-javascript/sentry-javascript/packages/react/src/profiler.tsx",Uz="unknown";class _O extends A.Component{static __initStatic(){this.defaultProps={disabled:!1,includeRender:!0,includeUpdates:!0}}constructor(t){super(t);const{name:n,disabled:r=!1}=this.props;r||(this._mountSpan=gd({name:`<${n}>`,onlyIfParent:!0,op:Fz,origin:"auto.ui.react.profiler",attributes:{"ui.component_name":n}}))}componentDidMount(){this._mountSpan&&this._mountSpan.end()}shouldComponentUpdate({updateProps:t,includeUpdates:n=!0}){if(n&&this._mountSpan&&t!==this.props.updateProps){const r=Object.keys(t).filter(s=>t[s]!==this.props.updateProps[s]);if(r.length>0){const s=tl();this._updateSpan=Fk(this._mountSpan,()=>gd({name:`<${this.props.name}>`,onlyIfParent:!0,op:Dz,origin:"auto.ui.react.profiler",startTimestamp:s,attributes:{"ui.component_name":this.props.name,"ui.react.changed_props":r}}))}}return!0}componentDidUpdate(){this._updateSpan&&(this._updateSpan.end(),this._updateSpan=void 0)}componentWillUnmount(){const t=tl(),{name:n,includeRender:r=!0}=this.props;if(this._mountSpan&&r){const s=On(this._mountSpan).timestamp;Fk(this._mountSpan,()=>{const i=gd({onlyIfParent:!0,name:`<${n}>`,op:Nz,origin:"auto.ui.react.profiler",startTimestamp:s,attributes:{"ui.component_name":n}});i&&i.end(t)})}}render(){return this.props.children}}_O.__initStatic();function zz(e,t){const n=t&&t.name||e.displayName||e.name||Uz,r=s=>A.createElement(_O,{...t,name:n,updateProps:s,__self:this,__source:{fileName:p2,lineNumber:159}},A.createElement(e,{...s,__self:this,__source:{fileName:p2,lineNumber:160}}));return r.displayName=`profiler(${n})`,CN(r,e),r}const Hz=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__;function Gz(e){const t=e.match(/^([^.]+)/);return t!==null&&parseInt(t[0])>=17}const g2={componentStack:null,error:null,eventId:null};function qz(e,t){const n=new WeakMap;function r(s,i){if(!n.has(s)){if(s.cause)return n.set(s,!0),r(s.cause,i);s.cause=i}}r(e,t)}class Gb extends A.Component{constructor(t){super(t),Gb.prototype.__init.call(this),this.state=g2,this._openFallbackReportDialog=!0;const n=Vn();n&&n.on&&t.showDialog&&(this._openFallbackReportDialog=!1,n.on("afterSendEvent",r=>{!r.type&&r.event_id===this._lastEventId&&h2({...t.dialogOptions,eventId:this._lastEventId})}))}componentDidCatch(t,{componentStack:n}){const{beforeCapture:r,onError:s,showDialog:i,dialogOptions:o}=this.props;Lb(a=>{if(Gz(A.version)&&xb(t)){const c=new Error(t.message);c.name=`React ErrorBoundary ${t.name}`,c.stack=n,qz(t,c)}r&&r(a,t,n);const l=Fi(t,{captureContext:{contexts:{react:{componentStack:n}}},mechanism:{handled:!!this.props.fallback}});s&&s(t,n,l),i&&(this._lastEventId=l,this._openFallbackReportDialog&&h2({...o,eventId:l})),this.setState({error:t,componentStack:n,eventId:l})})}componentDidMount(){const{onMount:t}=this.props;t&&t()}componentWillUnmount(){const{error:t,componentStack:n,eventId:r}=this.state,{onUnmount:s}=this.props;s&&s(t,n,r)}__init(){this.resetErrorBoundary=()=>{const{onReset:t}=this.props,{error:n,componentStack:r,eventId:s}=this.state;t&&t(n,r,s),this.setState(g2)}}render(){const{fallback:t,children:n}=this.props,r=this.state;if(r.error){let s;return typeof t=="function"?s=t({error:r.error,componentStack:r.componentStack,resetError:this.resetErrorBoundary,eventId:r.eventId}):s=t,A.isValidElement(s)?s:(t&&Hz&&re.warn("fallback did not produce a valid ReactElement"),null)}return typeof n=="function"?n():n}}const Wz="modulepreload",Kz=function(e){return"/prs/275/"+e},m2={},Wm=function(t,n,r){let s=Promise.resolve();if(n&&n.length>0){const i=document.getElementsByTagName("link"),o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.all(n.map(l=>{if(l=Kz(l),l in m2)return;m2[l]=!0;const c=l.endsWith(".css"),u=c?'[rel="stylesheet"]':"";if(!!r)for(let p=i.length-1;p>=0;p--){const g=i[p];if(g.href===l&&(!c||g.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${l}"]${u}`))return;const h=document.createElement("link");if(h.rel=c?"stylesheet":Wz,c||(h.as="script",h.crossOrigin=""),h.href=l,a&&h.setAttribute("nonce",a),document.head.appendChild(h),c)return new Promise((p,g)=>{h.addEventListener("load",p),h.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${l}`)))})}))}return s.then(()=>t()).catch(i=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=i,window.dispatchEvent(o),!o.defaultPrevented)throw i})};class bO{constructor(){this.init=async(t,n)=>{const r=await Wm(()=>import("./aubio-BXVQmmIs.js"),[]),{Pitch:s}=await r.default();this.detector=new s("default",n,n/8,t.sampleRate),this.detector.setTolerance(.5)},this.getFrequency=async t=>this.detector.do(t)}getSampleSize(){return 2048}}class Yz extends So{constructor(){super(...arguments),this.status="uninitialised",this.getUserMedia=async(...t)=>this.requestAndTrack(()=>navigator.mediaDevices.getUserMedia(...t)),this.enumerateDevices=async(...t)=>this.requestAndTrack(()=>navigator.mediaDevices.enumerateDevices(...t)),this.requestAndTrack=async t=>{try{this.status!=="accepted"&&this.setStatus("requested");const n=await t();return this.setStatus("accepted"),n}catch(n){throw this.setStatus("declined"),n}},this.setStatus=t=>{this.status=t,this.onUpdate(t)},this.getStatus=()=>this.status}}const Jo=new Yz;let SO=class{constructor(){this.stream=null,this.context=null,this.interval=null,this.frequencies=[0,0],this.volumes=[0,0],this.startedMonitoring=!1,this.startMonitoring=async(t,n=!1)=>{if(!this.startedMonitoring){this.startedMonitoring=!0;try{this.stream=await Jo.getUserMedia({audio:{...t?{deviceId:t,exact:!0}:{},echoCancellation:n},video:!1});try{this.context=new AudioContext;const r=this.context.createMediaStreamSource(this.stream),s=this.context.createChannelSplitter(2);r.connect(s);const i=this.context.createAnalyser();i.fftSize=2048,i.minDecibels=-100;const o=this.context.createAnalyser();o.fftSize=2048,o.minDecibels=-100,s.connect(i,0),s.connect(o,1);const a=new bO;await a.init(this.context,i.fftSize),this.interval=setInterval(async()=>{const l=new Float32Array(i.fftSize),c=new Float32Array(o.fftSize);i.getFloatTimeDomainData(l),o.getFloatTimeDomainData(c),this.frequencies=await Promise.all([a.getFrequency(l),a.getFrequency(c)]),this.volumes=[this.calculateVolume(l),this.calculateVolume(c)]},this.context.sampleRate/i.fftSize),te.micMonitoringStarted.dispatch()}catch(r){Fi(r),console.error(r)}}catch(r){Fi(r,{level:"warning"}),console.warn(r)}}},this.getFrequencies=()=>this.frequencies,this.getVolumes=()=>this.volumes,this.clearFrequencies=t=>{},this.stopMonitoring=async()=>{var t,n;if(this.startedMonitoring){this.startedMonitoring=!1,this.interval&&clearInterval(this.interval),(t=this.stream)==null||t.getTracks().forEach(function(r){r.stop()});try{await((n=this.context)==null?void 0:n.close())}catch(r){console.log("MicInput.stoMonitoring error",r)}te.micMonitoringStopped.dispatch()}},this.getInputLag=()=>180,this.requestReadiness=()=>Promise.resolve(!0),this.getStatus=()=>"ok"}calculateVolume(t){let n,r=0;for(n=0;n<t.length;++n)r+=t[n]*t[n];return Math.sqrt(r/t.length)}};new SO;class Qz{constructor(){this.devices={},this.startMonitoring=async(t,n=!1)=>{t&&(this.devices[t]||(this.devices[t]=new SO),await this.devices[t].startMonitoring(t,n))},this.getFrequencies=t=>t&&this.devices[t]?this.devices[t].getFrequencies():[0,0],this.getVolumes=t=>t&&this.devices[t]?this.devices[t].getVolumes():[0,0],this.clearFrequencies=t=>{if(t&&this.devices[t])return this.devices[t].clearFrequencies(t)},this.stopMonitoring=async()=>{Object.values(this.devices).forEach(t=>t.stopMonitoring())},this.getInputLag=t=>t&&this.devices[t]?this.devices[t].getInputLag():180,this.requestReadiness=async t=>t&&this.devices[t]?this.devices[t].requestReadiness():!0,this.getStatus=t=>t&&this.devices[t]?this.devices[t].getStatus():"ok"}}const Jz=new Qz;class Xz{constructor(){this.frequencies=[0],this.volumes=[1],this.startMonitoring=async t=>{var n;return(n=Xe.getRemoteMicById(t??""))==null?void 0:n.getInput().startMonitoring()},this.getFrequencies=t=>{var r;return((r=Xe.getRemoteMicById(t??""))==null?void 0:r.getInput().getFrequencies())??this.frequencies},this.clearFrequencies=t=>{var n;(n=Xe.getRemoteMicById(t??""))==null||n.getInput().clearFrequencies()},this.getVolumes=t=>{var r;return((r=Xe.getRemoteMicById(t??""))==null?void 0:r.getInput().getVolumes())??this.volumes},this.stopMonitoring=async t=>{var n;return(n=Xe.getRemoteMicById(t??""))==null?void 0:n.getInput().stopMonitoring()},this.requestReadiness=t=>{var n;return((n=Xe.getRemoteMicById(t??""))==null?void 0:n.getInput().requestReadiness())??Promise.resolve(!0)},this.getInputLag=t=>{var n;return((n=Xe.getRemoteMicById(t??""))==null?void 0:n.getInput().getInputLag())??0},this.getStatus=t=>{const n=Xe.getRemoteMicById(t??"");return!n||n.getLatency()>1500?"unavailable":n.getLatency()>500?"unstable":"ok"}}}const Zz=new Xz;function pi(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var wO=typeof global=="object"&&global&&global.Object===Object&&global,eH=typeof self=="object"&&self&&self.Object===Object&&self,mi=wO||eH||Function("return this")(),jy=function(){return mi.Date.now()},tH=/\s/;function nH(e){for(var t=e.length;t--&&tH.test(e.charAt(t)););return t}var rH=/^\s+/;function sH(e){return e&&e.slice(0,nH(e)+1).replace(rH,"")}var $s=mi.Symbol,xO=Object.prototype,iH=xO.hasOwnProperty,oH=xO.toString,Ou=$s?$s.toStringTag:void 0;function aH(e){var t=iH.call(e,Ou),n=e[Ou];try{e[Ou]=void 0;var r=!0}catch{}var s=oH.call(e);return r&&(t?e[Ou]=n:delete e[Ou]),s}var lH=Object.prototype,cH=lH.toString;function uH(e){return cH.call(e)}var dH="[object Null]",fH="[object Undefined]",v2=$s?$s.toStringTag:void 0;function wl(e){return e==null?e===void 0?fH:dH:v2&&v2 in Object(e)?aH(e):uH(e)}function ho(e){return e!=null&&typeof e=="object"}var hH="[object Symbol]";function Km(e){return typeof e=="symbol"||ho(e)&&wl(e)==hH}var y2=NaN,pH=/^[-+]0x[0-9a-f]+$/i,gH=/^0b[01]+$/i,mH=/^0o[0-7]+$/i,vH=parseInt;function Y0(e){if(typeof e=="number")return e;if(Km(e))return y2;if(pi(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=pi(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=sH(e);var n=gH.test(e);return n||mH.test(e)?vH(e.slice(2),n?2:8):pH.test(e)?y2:+e}var yH="Expected a function",AH=Math.max,_H=Math.min;function EO(e,t,n){var r,s,i,o,a,l,c=0,u=!1,d=!1,h=!0;if(typeof e!="function")throw new TypeError(yH);t=Y0(t)||0,pi(n)&&(u=!!n.leading,d="maxWait"in n,i=d?AH(Y0(n.maxWait)||0,t):i,h="trailing"in n?!!n.trailing:h);function p(x){var E=r,T=s;return r=s=void 0,c=x,o=e.apply(T,E),o}function g(x){return c=x,a=setTimeout(v,t),u?p(x):o}function m(x){var E=x-l,T=x-c,U=t-E;return d?_H(U,i-T):U}function _(x){var E=x-l,T=x-c;return l===void 0||E>=t||E<0||d&&T>=i}function v(){var x=jy();if(_(x))return y(x);a=setTimeout(v,m(x))}function y(x){return a=void 0,h&&r?p(x):(r=s=void 0,o)}function b(){a!==void 0&&clearTimeout(a),c=0,r=l=s=a=void 0}function w(){return a===void 0?o:y(jy())}function S(){var x=jy(),E=_(x);if(r=arguments,s=this,l=x,E){if(a===void 0)return g(l);if(d)return clearTimeout(a),a=setTimeout(v,t),p(l)}return a===void 0&&(a=setTimeout(v,t)),o}return S.cancel=b,S.flush=w,S}const kr={DUEL:"DUEL",PASS_THE_MIC:"PASS_THE_MIC",CO_OP:"CO_OP"},yd=["freestyle","rap"],kO=[],CO=440,IO=69,qb=20;var bH="[object AsyncFunction]",SH="[object Function]",wH="[object GeneratorFunction]",xH="[object Proxy]";function TO(e){if(!pi(e))return!1;var t=wl(e);return t==SH||t==wH||t==bH||t==xH}var Oy=mi["__core-js_shared__"],A2=function(){var e=/[^.]+$/.exec(Oy&&Oy.keys&&Oy.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function EH(e){return!!A2&&A2 in e}var kH=Function.prototype,CH=kH.toString;function xl(e){if(e!=null){try{return CH.call(e)}catch{}try{return e+""}catch{}}return""}var IH=/[\\^$.*+?()[\]{}|]/g,TH=/^\[object .+?Constructor\]$/,RH=Function.prototype,MH=Object.prototype,PH=RH.toString,jH=MH.hasOwnProperty,OH=RegExp("^"+PH.call(jH).replace(IH,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function VH(e){if(!pi(e)||EH(e))return!1;var t=TO(e)?OH:TH;return t.test(xl(e))}function LH(e,t){return e==null?void 0:e[t]}function El(e,t){var n=LH(e,t);return VH(n)?n:void 0}var Kd=El(Object,"create");function $H(){this.__data__=Kd?Kd(null):{},this.size=0}function BH(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var NH="__lodash_hash_undefined__",DH=Object.prototype,FH=DH.hasOwnProperty;function UH(e){var t=this.__data__;if(Kd){var n=t[e];return n===NH?void 0:n}return FH.call(t,e)?t[e]:void 0}var zH=Object.prototype,HH=zH.hasOwnProperty;function GH(e){var t=this.__data__;return Kd?t[e]!==void 0:HH.call(t,e)}var qH="__lodash_hash_undefined__";function WH(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=Kd&&t===void 0?qH:t,this}function il(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}il.prototype.clear=$H;il.prototype.delete=BH;il.prototype.get=UH;il.prototype.has=GH;il.prototype.set=WH;function KH(){this.__data__=[],this.size=0}function Ym(e,t){return e===t||e!==e&&t!==t}function Qm(e,t){for(var n=e.length;n--;)if(Ym(e[n][0],t))return n;return-1}var YH=Array.prototype,QH=YH.splice;function JH(e){var t=this.__data__,n=Qm(t,e);if(n<0)return!1;var r=t.length-1;return n==r?t.pop():QH.call(t,n,1),--this.size,!0}function XH(e){var t=this.__data__,n=Qm(t,e);return n<0?void 0:t[n][1]}function ZH(e){return Qm(this.__data__,e)>-1}function eG(e,t){var n=this.__data__,r=Qm(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}function wo(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}wo.prototype.clear=KH;wo.prototype.delete=JH;wo.prototype.get=XH;wo.prototype.has=ZH;wo.prototype.set=eG;var Yd=El(mi,"Map");function tG(){this.size=0,this.__data__={hash:new il,map:new(Yd||wo),string:new il}}function nG(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function Jm(e,t){var n=e.__data__;return nG(t)?n[typeof t=="string"?"string":"hash"]:n.map}function rG(e){var t=Jm(this,e).delete(e);return this.size-=t?1:0,t}function sG(e){return Jm(this,e).get(e)}function iG(e){return Jm(this,e).has(e)}function oG(e,t){var n=Jm(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}function xo(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}xo.prototype.clear=tG;xo.prototype.delete=rG;xo.prototype.get=sG;xo.prototype.has=iG;xo.prototype.set=oG;var aG="Expected a function";function Xm(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(aG);var n=function(){var r=arguments,s=t?t.apply(this,r):r[0],i=n.cache;if(i.has(s))return i.get(s);var o=e.apply(this,r);return n.cache=i.set(s,o)||i,o};return n.cache=new(Xm.Cache||xo),n}Xm.Cache=xo;function Ag(e){return yd.includes(e.note.type)?0:e.distance}function Ct(e){return(e==null?void 0:e.type)==="notes"&&!!e.notes.length}const lG=35e5,Ea={freestyle:.25,rap:.25,rapstar:.5,star:2,normal:1,perfect:.5,vibrato:.25},_2=e=>({freestyle:e.freestyle*Ea.freestyle,rap:e.rap*Ea.rap,rapstar:e.rapstar*Ea.rapstar,star:e.star*Ea.star,normal:e.normal*Ea.normal,perfect:e.perfect*Ea.perfect,vibrato:e.vibrato*Ea.vibrato}),Wb=e=>e.freestyle+e.rap+e.star+e.normal+e.perfect+e.vibrato,jh=(e,t)=>({freestyle:e.freestyle*t,rap:e.rap*t,rapstar:e.rapstar*t,star:e.star*t,normal:e.normal*t,perfect:e.perfect*t,vibrato:e.vibrato*t}),b2=(e,t)=>({freestyle:e.freestyle+t.freestyle,rap:e.rap+t.rap,rapstar:e.rapstar+t.rapstar,star:e.star+t.star,normal:e.normal+t.normal,perfect:e.perfect+t.perfect,vibrato:e.vibrato+t.vibrato}),S2=(e,t)=>({freestyle:e.freestyle/t,rap:e.rap/t,rapstar:e.rapstar/t,star:e.star/t,normal:e.normal/t,perfect:e.perfect/t,vibrato:e.vibrato/t}),w2=Xm(e=>e.tracks.map(({sections:t})=>{const n={freestyle:0,rap:0,rapstar:0,star:0,normal:0,perfect:0,vibrato:0};return t.filter(Ct).forEach(r=>{r.notes.filter(i=>!kO.includes(i.type)).forEach(i=>{n[i.type]=n[i.type]+i.length,n.perfect=n.perfect+i.length,n.vibrato=n.vibrato+i.length})}),n}));function RO(e,t,n){const r=w2(t),s={freestyle:0,rap:0,rapstar:0,star:0,normal:0,perfect:0,vibrato:0};if(!r[n])return console.error(`No beat count for track ${n} in song`,t),[0,s,s];const i=_2(w2(t)[n]),o=lG/Wb(i);for(let a=0;a<e.length;a++){const l=e[a];kO.includes(l.note.type)||Ag(l)===0&&(s[l.note.type]=s[l.note.type]+l.length,l.isPerfect&&(s.perfect=s.perfect+l.length),l.vibrato&&(s.vibrato=s.vibrato+l.length))}return[o,_2(s),i]}function cG(e,t,n){const[r,s]=RO(e,t,n);return Wb(s)*r}function uG(e,t,n,r=!0){const s=(e-n)/t;return r?Math.floor(s):s}function dG(e){return CO*Math.pow(2,(e-IO)/12)}const fG=e=>Math.round(12*(Math.log(e/CO)/Math.log(2)))+IO,hG=(e,t)=>Math.floor(1200*Math.log(t/e)/Math.log(2)),pG=(e,t,n)=>{const r=dG(e),s=hG(r,t);return Math.sign(s)*((Math.abs(s)%1200+600)%1200-600)/(n*100+50)},gG=(e,t,n)=>{const r=(e%12-t%12+18)%12-6;return Math.abs(r)<=n?0:r},mG=(e,t)=>{const n=Ve.getTolerance(),r=fG(e);let s=-1;const i=gG(r,t,n);return i===0&&(s=pG(t,e,n)),{distance:i,preciseDistance:s}},x2=6;function vG(e){const t=[];for(let r=1;r<e.length;r++){if(Math.round(e[r].frequency/2)===Math.round(e[r-1].frequency/2))continue;const s=e[r].frequency>e[r-1].frequency?">":"<";if(t.length===0)t.push({...e[r],interval:e[r].timestamp-e[r-1].timestamp,change:s});else{const i=t.at(-1);i.change!==s&&t.push({...e[r],interval:e[r].timestamp-i.timestamp,change:s})}}const n=t;for(let r=0;r<n.length-x2;r++){const i=n.slice(r,r+x2-1).map(c=>c.interval),o=Math.max(...i),a=Math.min(...i),l=i.reduce((c,u)=>c+u,0)/i.length;if(o<l*1.75&&a>l/1.75)return!0}return!1}const yG=100;function AG(e,t,n,r){if(t.frequency===0)return;const s={...t,beat:Math.max(0,t.timestamp)/r,...mG(t.frequency,n.pitch)},i=e.at(-1),o=yG/r,a=n.start+n.length,l=!i||i.note.start!==n.start,c=!i||i.distance!==s.distance&&!yd.includes(n.type);if(l||c||s.beat-(i.start+i.length)>o){const u=s.beat-o<n.start?n.start:s.beat;if(e.push({start:Math.min(l?u:s.beat,a),length:0,distance:s.distance,note:n,isPerfect:!1,vibrato:!1,frequencyRecords:[{frequency:s.frequency,preciseDistance:s.preciseDistance,timestamp:s.timestamp}]}),i&&n.start!==i.note.start){const d=i.start+i.length,h=i.note.start+i.note.length,p=d+o>h?h:d;i.length=Math.max(0,p-i.start)}}else i.length=Math.max(0,Math.min(s.beat,n.start+n.length)-i.start),i.frequencyRecords.push({frequency:s.frequency,timestamp:s.timestamp,preciseDistance:s.preciseDistance}),i.isPerfect=i.distance===0&&Math.abs(i.length-i.note.length)<.5,i.vibrato=i.distance===0&&vG(i.frequencyRecords)}const _G=e=>e.notes[0],oa=e=>{const t=e.find(Ct);return t?_G(t).start:1/0},Qd=e=>{const n=e.filter(Ct).at(-1);return n?Jd(n):0},Jd=e=>{const t=e.notes.at(-1);return t.start+t.length},E2=(e,t,n=0)=>e.notes.find(r=>r.start-n<=t&&r.start+r.length+n>=t);class bG{constructor(t,n){this.number=t,this.gameState=n,this.frequencyRecords=[],this.playerNotes=[],this.realFrequencyRecords=[],this.realPlayerNotes=[],this.min=1/0,this.max=-1/0,this.storedSectionIndex=0,this.getNumber=()=>this.number,this.update=()=>{const r=this.gameState.getCurrentTime(),s=dn.getPlayerFrequency(this.number),i=r-dn.getPlayerInputLag(this.number);if(Array.isArray(s)){const o=this.realFrequencyRecords.at(-1)||this.frequencyRecords.at(0),a=(o==null?void 0:o.timestamp)??0,l=(i-a)/s.length;this.frequencyRecords=this.realFrequencyRecords,this.playerNotes=this.realPlayerNotes;for(let u=0;u<s.length;u++){const d=a+l*(u+1);this.updatePlayerNotes(d,s[u])}this.realFrequencyRecords=[...this.frequencyRecords],this.realPlayerNotes=[...this.playerNotes];const c=this.realPlayerNotes.at(-1);c&&(this.realPlayerNotes[this.realPlayerNotes.length-1]={...c,frequencyRecords:[...c.frequencyRecords??[]]}),dn.clearPlayerCachedFrequencies(this.number)}else this.updatePlayerNotes(i,s);this.dispatchSectionUpdate()},this.dispatchSectionUpdate=()=>{const r=this.getCurrentSectionIndex();this.storedSectionIndex!==r&&(te.sectionChange.dispatch(this.number,this.storedSectionIndex),this.storedSectionIndex=r)},this.updatePlayerNotes=(r,s)=>{const i={timestamp:r,frequency:s};this.frequencyRecords.push(i);const o=i.timestamp/this.gameState.getSongBeatLength(),a=this.getSectionByBeat(o);if(Ct(a)){const l=E2(a,o,0)??E2(a,o,.5);l&&AG(this.playerNotes,i,l,this.gameState.getSongBeatLength())}},this.getPlayerNotes=()=>this.playerNotes,this.getPlayerFrequencies=()=>this.frequencyRecords,this.getSectionIndexByBeat=r=>this.getTrack().sections.findIndex((s,i,o)=>r<0?!0:r<s.start?!1:i===o.length-1?!0:o[i+1].start>r),this.getCurrentSectionIndex=()=>this.getSectionIndexByBeat(this.gameState.getCurrentBeat()),this.getSectionByBeat=r=>this.getTrack().sections[this.getSectionIndexByBeat(r)]??null,this.getCurrentSection=()=>{const r=this.getCurrentSectionIndex();return this.getTrack().sections[r]??null},this.getNextSection=(r=1)=>{const s=this.getCurrentSectionIndex();return s>-1?this.getTrack().sections[s+r]??null:null},this.getPreviousSection=(r=1)=>{const s=this.getCurrentSectionIndex();return s>-1?this.getTrack().sections[s-r]??null:null},this.getLastNotesSection=()=>{const r=this.getTrack().sections.at(-1);return Ct(r)?r:this.getTrack().sections.at(-2)},this.getScore=()=>cG(this.playerNotes,this.gameState.getSong(),this.getTrackIndex()),this.getDetailedScore=()=>RO(this.playerNotes,this.gameState.getSong(),this.getTrackIndex()),this.getMinPitch=()=>this.min,this.getMaxPitch=()=>this.max,this.getTrackIndex=()=>this.gameState.getSingSetup().players.find(r=>r.number===this.number).track,this.getTrack=()=>{var r;return this.gameState.isMergedTrack()?(r=this.gameState.getSong())==null?void 0:r.mergedTrack:this.gameState.getSong().tracks[this.getTrackIndex()]},this.resetNotes=()=>{this.playerNotes=[]},this.getTrack().sections.filter(Ct).forEach(r=>r.notes.forEach(s=>{this.min=Math.min(this.min,s.pitch),this.max=Math.max(this.max,s.pitch)}))}}function SG(e){return Math.max(...e.tracks.map(t=>{const n=t.sections.filter(Ct).at(-1);return n?Jd(n):0}))}function Kb(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError("Expected a function");const n=function(...r){const s=t?t.apply(this,r):r[0],i=n.cache;if(i.has(s))return i.get(s);const o=e.apply(this,r);return n.cache=i.set(s,o)||i,o};return n.cache=new(Kb.Cache||Map),n}Kb.Cache=Map;const fu=Kb(function(t){return 60/t.bpm/(t.bar??4)*1e3});class wG{constructor(){this.song=null,this.currentTime=0,this.duration=0,this.singSetup=null,this.playerStates=[],this.playing=!1,this.setCurrentTime=t=>this.currentTime=t,this.getCurrentTime=(t=!0)=>this.currentTime-(t&&this.song?this.song.gap:0),this.getSongBeatLength=()=>fu(this.song),this.getCurrentBeat=()=>uG(this.getCurrentTime(),this.getSongBeatLength(),0,!1),this.setSong=t=>this.song=t,this.getSong=()=>this.song,this.getSingSetup=()=>this.singSetup,this.setSingSetup=t=>{this.singSetup=t,this.playerStates=t.players.map(({number:n},r)=>new bG(n,this)),this.currentTime=0,this.playing=!0},this.resetSingSetup=()=>{this.playing=!1},this.isPlaying=()=>this.playing,this.getTolerance=()=>{var t;return((t=this.getSingSetup())==null?void 0:t.tolerance)??2},this.setDuration=t=>this.duration=t,this.getDuration=()=>this.duration,this.getPlayer=t=>this.playerStates.find(n=>n.getNumber()===t),this.getPlayers=()=>this.playerStates,this.getPlayerCount=()=>this.playerStates.length,this.getPlayerScore=t=>{var n,r;return((n=this.getSingSetup())==null?void 0:n.mode)===kr.CO_OP?this.getPlayers().reduce((i,o)=>i+o.getScore(),0)/this.getPlayerCount():((r=this.getPlayer(t))==null?void 0:r.getScore())??-1},this.getPlayerDetailedScore=t=>{var n;if(((n=this.getSingSetup())==null?void 0:n.mode)===kr.CO_OP){const r=this.getPlayers().map(a=>a.getDetailedScore()),[s,...i]=r.map(([a,l,c])=>[jh(l,a),jh(c,a)]),o=i.reduce((a,l)=>[b2(a[0],l[0]),b2(a[1],l[1])],s);return[S2(o[0],this.getPlayerCount()),S2(o[1],this.getPlayerCount())]}else{const[r,s,i]=this.getPlayer(t).getDetailedScore();return[jh(s,r),jh(i,r)]}},this.getSongCompletionProgress=()=>Math.max(0,Math.min(1,this.getCurrentBeat()/SG(this.getSong()))),this.startInputMonitoring=async()=>dn.startMonitoring(),this.stopInputMonitoring=()=>dn.stopMonitoring(),this.update=()=>{this.playerStates.forEach(t=>t.update())},this.resetPlayerNotes=()=>{this.playerStates.forEach(t=>t.resetNotes())},this.isMergedTrack=()=>{var t;return((t=this.getSingSetup())==null?void 0:t.players.length)!==2}}}const Ve=new wG;var JR;const xG=(JR=global==null?void 0:global.sessionStorage)==null?void 0:JR.getItem("isE2E");function Ui(){var t,n;if(xG)return!0;const e=(global==null?void 0:global.isE2ETests)||((t=global==null?void 0:global.location)==null?void 0:t.search.includes("e2e-test"));return e&&((n=global==null?void 0:global.sessionStorage)==null||n.setItem("isE2E","true")),e}const EG=Ui()?{host:"localhost",port:3001,path:"/"}:{},MO={...EG};var kG=Object.create,Zm=Object.defineProperty,CG=Object.defineProperties,IG=Object.getOwnPropertyDescriptor,TG=Object.getOwnPropertyDescriptors,PO=Object.getOwnPropertyNames,k2=Object.getOwnPropertySymbols,RG=Object.getPrototypeOf,jO=Object.prototype.hasOwnProperty,MG=Object.prototype.propertyIsEnumerable,C2=(e,t,n)=>t in e?Zm(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Yb=(e,t)=>{for(var n in t||(t={}))jO.call(t,n)&&C2(e,n,t[n]);if(k2)for(var n of k2(t))MG.call(t,n)&&C2(e,n,t[n]);return e},OO=(e,t)=>CG(e,TG(t)),PG=e=>Zm(e,"__esModule",{value:!0}),Qb=(e,t)=>function(){return t||(0,e[PO(e)[0]])((t={exports:{}}).exports,t),t.exports},jG=(e,t,n,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of PO(t))!jO.call(e,s)&&(n||s!=="default")&&Zm(e,s,{get:()=>t[s],enumerable:!(r=IG(t,s))||r.enumerable});return e},Ff=(e,t)=>jG(PG(Zm(e!=null?kG(RG(e)):{},"default",!t&&e&&e.__esModule?{get:()=>e.default,enumerable:!0}:{value:e,enumerable:!0})),e),Jl=(e,t,n)=>new Promise((r,s)=>{var i=l=>{try{a(n.next(l))}catch(c){s(c)}},o=l=>{try{a(n.throw(l))}catch(c){s(c)}},a=l=>l.done?r(l.value):Promise.resolve(l.value).then(i,o);a((n=n.apply(e,t)).next())}),I2=Qb({"node_modules/peerjs-js-binarypack/lib/bufferbuilder.js"(e,t){var n={};n.useBlobBuilder=function(){try{return new Blob([]),!1}catch{return!0}}(),n.useArrayBufferView=!n.useBlobBuilder&&function(){try{return new Blob([new Uint8Array([])]).size===0}catch{return!0}}(),t.exports.binaryFeatures=n;var r=t.exports.BlobBuilder;typeof window<"u"&&(r=t.exports.BlobBuilder=window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder||window.BlobBuilder);function s(){this._pieces=[],this._parts=[]}s.prototype.append=function(i){typeof i=="number"?this._pieces.push(i):(this.flush(),this._parts.push(i))},s.prototype.flush=function(){if(this._pieces.length>0){var i=new Uint8Array(this._pieces);n.useArrayBufferView||(i=i.buffer),this._parts.push(i),this._pieces=[]}},s.prototype.getBuffer=function(){if(this.flush(),n.useBlobBuilder){for(var i=new r,o=0,a=this._parts.length;o<a;o++)i.append(this._parts[o]);return i.getBlob()}else return new Blob(this._parts)},t.exports.BufferBuilder=s}}),OG=Qb({"node_modules/peerjs-js-binarypack/lib/binarypack.js"(e,t){var n=I2().BufferBuilder,r=I2().binaryFeatures,s={unpack:function(c){var u=new i(c);return u.unpack()},pack:function(c){var u=new o;u.pack(c);var d=u.getBuffer();return d}};t.exports=s;function i(c){this.index=0,this.dataBuffer=c,this.dataView=new Uint8Array(this.dataBuffer),this.length=this.dataBuffer.byteLength}i.prototype.unpack=function(){var c=this.unpack_uint8();if(c<128)return c;if((c^224)<32)return(c^224)-32;var u;if((u=c^160)<=15)return this.unpack_raw(u);if((u=c^176)<=15)return this.unpack_string(u);if((u=c^144)<=15)return this.unpack_array(u);if((u=c^128)<=15)return this.unpack_map(u);switch(c){case 192:return null;case 193:return;case 194:return!1;case 195:return!0;case 202:return this.unpack_float();case 203:return this.unpack_double();case 204:return this.unpack_uint8();case 205:return this.unpack_uint16();case 206:return this.unpack_uint32();case 207:return this.unpack_uint64();case 208:return this.unpack_int8();case 209:return this.unpack_int16();case 210:return this.unpack_int32();case 211:return this.unpack_int64();case 212:return;case 213:return;case 214:return;case 215:return;case 216:return u=this.unpack_uint16(),this.unpack_string(u);case 217:return u=this.unpack_uint32(),this.unpack_string(u);case 218:return u=this.unpack_uint16(),this.unpack_raw(u);case 219:return u=this.unpack_uint32(),this.unpack_raw(u);case 220:return u=this.unpack_uint16(),this.unpack_array(u);case 221:return u=this.unpack_uint32(),this.unpack_array(u);case 222:return u=this.unpack_uint16(),this.unpack_map(u);case 223:return u=this.unpack_uint32(),this.unpack_map(u)}},i.prototype.unpack_uint8=function(){var c=this.dataView[this.index]&255;return this.index++,c},i.prototype.unpack_uint16=function(){var c=this.read(2),u=(c[0]&255)*256+(c[1]&255);return this.index+=2,u},i.prototype.unpack_uint32=function(){var c=this.read(4),u=((c[0]*256+c[1])*256+c[2])*256+c[3];return this.index+=4,u},i.prototype.unpack_uint64=function(){var c=this.read(8),u=((((((c[0]*256+c[1])*256+c[2])*256+c[3])*256+c[4])*256+c[5])*256+c[6])*256+c[7];return this.index+=8,u},i.prototype.unpack_int8=function(){var c=this.unpack_uint8();return c<128?c:c-256},i.prototype.unpack_int16=function(){var c=this.unpack_uint16();return c<32768?c:c-65536},i.prototype.unpack_int32=function(){var c=this.unpack_uint32();return c<Math.pow(2,31)?c:c-Math.pow(2,32)},i.prototype.unpack_int64=function(){var c=this.unpack_uint64();return c<Math.pow(2,63)?c:c-Math.pow(2,64)},i.prototype.unpack_raw=function(c){if(this.length<this.index+c)throw new Error("BinaryPackFailure: index is out of range "+this.index+" "+c+" "+this.length);var u=this.dataBuffer.slice(this.index,this.index+c);return this.index+=c,u},i.prototype.unpack_string=function(c){for(var u=this.read(c),d=0,h="",p,g;d<c;)p=u[d],p<128?(h+=String.fromCharCode(p),d++):(p^192)<32?(g=(p^192)<<6|u[d+1]&63,h+=String.fromCharCode(g),d+=2):(g=(p&15)<<12|(u[d+1]&63)<<6|u[d+2]&63,h+=String.fromCharCode(g),d+=3);return this.index+=c,h},i.prototype.unpack_array=function(c){for(var u=new Array(c),d=0;d<c;d++)u[d]=this.unpack();return u},i.prototype.unpack_map=function(c){for(var u={},d=0;d<c;d++){var h=this.unpack(),p=this.unpack();u[h]=p}return u},i.prototype.unpack_float=function(){var c=this.unpack_uint32(),u=c>>31,d=(c>>23&255)-127,h=c&8388607|8388608;return(u===0?1:-1)*h*Math.pow(2,d-23)},i.prototype.unpack_double=function(){var c=this.unpack_uint32(),u=this.unpack_uint32(),d=c>>31,h=(c>>20&2047)-1023,p=c&1048575|1048576,g=p*Math.pow(2,h-20)+u*Math.pow(2,h-52);return(d===0?1:-1)*g},i.prototype.read=function(c){var u=this.index;if(u+c<=this.length)return this.dataView.subarray(u,u+c);throw new Error("BinaryPackFailure: read index out of range")};function o(){this.bufferBuilder=new n}o.prototype.getBuffer=function(){return this.bufferBuilder.getBuffer()},o.prototype.pack=function(c){var u=typeof c;if(u==="string")this.pack_string(c);else if(u==="number")Math.floor(c)===c?this.pack_integer(c):this.pack_double(c);else if(u==="boolean")c===!0?this.bufferBuilder.append(195):c===!1&&this.bufferBuilder.append(194);else if(u==="undefined")this.bufferBuilder.append(192);else if(u==="object")if(c===null)this.bufferBuilder.append(192);else{var d=c.constructor;if(d==Array)this.pack_array(c);else if(d==Blob||d==File||c instanceof Blob||c instanceof File)this.pack_bin(c);else if(d==ArrayBuffer)r.useArrayBufferView?this.pack_bin(new Uint8Array(c)):this.pack_bin(c);else if("BYTES_PER_ELEMENT"in c)r.useArrayBufferView?this.pack_bin(new Uint8Array(c.buffer)):this.pack_bin(c.buffer);else if(d==Object||d.toString().startsWith("class"))this.pack_object(c);else if(d==Date)this.pack_string(c.toString());else if(typeof c.toBinaryPack=="function")this.bufferBuilder.append(c.toBinaryPack());else throw new Error('Type "'+d.toString()+'" not yet supported')}else throw new Error('Type "'+u+'" not yet supported');this.bufferBuilder.flush()},o.prototype.pack_bin=function(c){var u=c.length||c.byteLength||c.size;if(u<=15)this.pack_uint8(160+u);else if(u<=65535)this.bufferBuilder.append(218),this.pack_uint16(u);else if(u<=4294967295)this.bufferBuilder.append(219),this.pack_uint32(u);else throw new Error("Invalid length");this.bufferBuilder.append(c)},o.prototype.pack_string=function(c){var u=l(c);if(u<=15)this.pack_uint8(176+u);else if(u<=65535)this.bufferBuilder.append(216),this.pack_uint16(u);else if(u<=4294967295)this.bufferBuilder.append(217),this.pack_uint32(u);else throw new Error("Invalid length");this.bufferBuilder.append(c)},o.prototype.pack_array=function(c){var u=c.length;if(u<=15)this.pack_uint8(144+u);else if(u<=65535)this.bufferBuilder.append(220),this.pack_uint16(u);else if(u<=4294967295)this.bufferBuilder.append(221),this.pack_uint32(u);else throw new Error("Invalid length");for(var d=0;d<u;d++)this.pack(c[d])},o.prototype.pack_integer=function(c){if(c>=-32&&c<=127)this.bufferBuilder.append(c&255);else if(c>=0&&c<=255)this.bufferBuilder.append(204),this.pack_uint8(c);else if(c>=-128&&c<=127)this.bufferBuilder.append(208),this.pack_int8(c);else if(c>=0&&c<=65535)this.bufferBuilder.append(205),this.pack_uint16(c);else if(c>=-32768&&c<=32767)this.bufferBuilder.append(209),this.pack_int16(c);else if(c>=0&&c<=4294967295)this.bufferBuilder.append(206),this.pack_uint32(c);else if(c>=-2147483648&&c<=2147483647)this.bufferBuilder.append(210),this.pack_int32(c);else if(c>=-9223372036854776e3&&c<=9223372036854776e3)this.bufferBuilder.append(211),this.pack_int64(c);else if(c>=0&&c<=18446744073709552e3)this.bufferBuilder.append(207),this.pack_uint64(c);else throw new Error("Invalid integer")},o.prototype.pack_double=function(c){var u=0;c<0&&(u=1,c=-c);var d=Math.floor(Math.log(c)/Math.LN2),h=c/Math.pow(2,d)-1,p=Math.floor(h*Math.pow(2,52)),g=Math.pow(2,32),m=u<<31|d+1023<<20|p/g&1048575,_=p%g;this.bufferBuilder.append(203),this.pack_int32(m),this.pack_int32(_)},o.prototype.pack_object=function(c){var u=Object.keys(c),d=u.length;if(d<=15)this.pack_uint8(128+d);else if(d<=65535)this.bufferBuilder.append(222),this.pack_uint16(d);else if(d<=4294967295)this.bufferBuilder.append(223),this.pack_uint32(d);else throw new Error("Invalid length");for(var h in c)c.hasOwnProperty(h)&&(this.pack(h),this.pack(c[h]))},o.prototype.pack_uint8=function(c){this.bufferBuilder.append(c)},o.prototype.pack_uint16=function(c){this.bufferBuilder.append(c>>8),this.bufferBuilder.append(c&255)},o.prototype.pack_uint32=function(c){var u=c&4294967295;this.bufferBuilder.append((u&4278190080)>>>24),this.bufferBuilder.append((u&16711680)>>>16),this.bufferBuilder.append((u&65280)>>>8),this.bufferBuilder.append(u&255)},o.prototype.pack_uint64=function(c){var u=c/Math.pow(2,32),d=c%Math.pow(2,32);this.bufferBuilder.append((u&4278190080)>>>24),this.bufferBuilder.append((u&16711680)>>>16),this.bufferBuilder.append((u&65280)>>>8),this.bufferBuilder.append(u&255),this.bufferBuilder.append((d&4278190080)>>>24),this.bufferBuilder.append((d&16711680)>>>16),this.bufferBuilder.append((d&65280)>>>8),this.bufferBuilder.append(d&255)},o.prototype.pack_int8=function(c){this.bufferBuilder.append(c&255)},o.prototype.pack_int16=function(c){this.bufferBuilder.append((c&65280)>>8),this.bufferBuilder.append(c&255)},o.prototype.pack_int32=function(c){this.bufferBuilder.append(c>>>24&255),this.bufferBuilder.append((c&16711680)>>>16),this.bufferBuilder.append((c&65280)>>>8),this.bufferBuilder.append(c&255)},o.prototype.pack_int64=function(c){var u=Math.floor(c/Math.pow(2,32)),d=c%Math.pow(2,32);this.bufferBuilder.append((u&4278190080)>>>24),this.bufferBuilder.append((u&16711680)>>>16),this.bufferBuilder.append((u&65280)>>>8),this.bufferBuilder.append(u&255),this.bufferBuilder.append((d&4278190080)>>>24),this.bufferBuilder.append((d&16711680)>>>16),this.bufferBuilder.append((d&65280)>>>8),this.bufferBuilder.append(d&255)};function a(c){var u=c.charCodeAt(0);return u<=2047?"00":u<=65535?"000":u<=2097151?"0000":u<=67108863?"00000":"000000"}function l(c){return c.length>600?new Blob([c]).size:c.replace(/[^\u0000-\u007F]/g,a).length}}}),ev=Qb({"node_modules/eventemitter3/index.js"(e,t){var n=Object.prototype.hasOwnProperty,r="~";function s(){}Object.create&&(s.prototype=Object.create(null),new s().__proto__||(r=!1));function i(c,u,d){this.fn=c,this.context=u,this.once=d||!1}function o(c,u,d,h,p){if(typeof d!="function")throw new TypeError("The listener must be a function");var g=new i(d,h||c,p),m=r?r+u:u;return c._events[m]?c._events[m].fn?c._events[m]=[c._events[m],g]:c._events[m].push(g):(c._events[m]=g,c._eventsCount++),c}function a(c,u){--c._eventsCount===0?c._events=new s:delete c._events[u]}function l(){this._events=new s,this._eventsCount=0}l.prototype.eventNames=function(){var u=[],d,h;if(this._eventsCount===0)return u;for(h in d=this._events)n.call(d,h)&&u.push(r?h.slice(1):h);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},l.prototype.listeners=function(u){var d=r?r+u:u,h=this._events[d];if(!h)return[];if(h.fn)return[h.fn];for(var p=0,g=h.length,m=new Array(g);p<g;p++)m[p]=h[p].fn;return m},l.prototype.listenerCount=function(u){var d=r?r+u:u,h=this._events[d];return h?h.fn?1:h.length:0},l.prototype.emit=function(u,d,h,p,g,m){var _=r?r+u:u;if(!this._events[_])return!1;var v=this._events[_],y=arguments.length,b,w;if(v.fn){switch(v.once&&this.removeListener(u,v.fn,void 0,!0),y){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,d),!0;case 3:return v.fn.call(v.context,d,h),!0;case 4:return v.fn.call(v.context,d,h,p),!0;case 5:return v.fn.call(v.context,d,h,p,g),!0;case 6:return v.fn.call(v.context,d,h,p,g,m),!0}for(w=1,b=new Array(y-1);w<y;w++)b[w-1]=arguments[w];v.fn.apply(v.context,b)}else{var S=v.length,x;for(w=0;w<S;w++)switch(v[w].once&&this.removeListener(u,v[w].fn,void 0,!0),y){case 1:v[w].fn.call(v[w].context);break;case 2:v[w].fn.call(v[w].context,d);break;case 3:v[w].fn.call(v[w].context,d,h);break;case 4:v[w].fn.call(v[w].context,d,h,p);break;default:if(!b)for(x=1,b=new Array(y-1);x<y;x++)b[x-1]=arguments[x];v[w].fn.apply(v[w].context,b)}}return!0},l.prototype.on=function(u,d,h){return o(this,u,d,h,!1)},l.prototype.once=function(u,d,h){return o(this,u,d,h,!0)},l.prototype.removeListener=function(u,d,h,p){var g=r?r+u:u;if(!this._events[g])return this;if(!d)return a(this,g),this;var m=this._events[g];if(m.fn)m.fn===d&&(!p||m.once)&&(!h||m.context===h)&&a(this,g);else{for(var _=0,v=[],y=m.length;_<y;_++)(m[_].fn!==d||p&&!m[_].once||h&&m[_].context!==h)&&v.push(m[_]);v.length?this._events[g]=v.length===1?v[0]:v:a(this,g)}return this},l.prototype.removeAllListeners=function(u){var d;return u?(d=r?r+u:u,this._events[d]&&a(this,d)):(this._events=new s,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,typeof t<"u"&&(t.exports=l)}}),T2=Ff(OG()),VG={iceServers:[{urls:"stun:stun.l.google.com:19302"},{urls:"turn:0.peerjs.com:3478",username:"peerjs",credential:"peerjsp"}],sdpSemantics:"unified-plan"},en=new class{constructor(){this.CLOUD_HOST="0.peerjs.com",this.CLOUD_PORT=443,this.chunkedMTU=16300,this.defaultConfig=VG,this.pack=T2.pack,this.unpack=T2.unpack,this._dataCount=1}validateId(e){return!e||/^[A-Za-z0-9]+(?:[ _-][A-Za-z0-9]+)*$/.test(e)}chunk(e){const t=[],n=e.size,r=Math.ceil(n/en.chunkedMTU);let s=0,i=0;for(;i<n;){const o=Math.min(n,i+en.chunkedMTU),a=e.slice(i,o),l={__peerData:this._dataCount,n:s,data:a,total:r};t.push(l),i=o,s++}return this._dataCount++,t}blobToArrayBuffer(e,t,n){const r=new e;return r.onload=function(s){s.target&&n(s.target.result)},r.readAsArrayBuffer(t),r}binaryStringToArrayBuffer(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n)&255;return t.buffer}randomToken(){return Math.random().toString(36).substr(2)}isSecure(){return location.protocol==="https:"}},LG=Ff(ev()),$G="PeerJS: ",BG=class{constructor(){this._logLevel=0}get logLevel(){return this._logLevel}set logLevel(e){this._logLevel=e}log(...e){this._logLevel>=3&&this._print(3,...e)}warn(...e){this._logLevel>=2&&this._print(2,...e)}error(...e){this._logLevel>=1&&this._print(1,...e)}setLogFunction(e){this._print=e}_print(e,...t){const n=[$G,...t];for(let r in n)n[r]instanceof Error&&(n[r]="("+n[r].name+") "+n[r].message);e>=3?console.log(...n):e>=2?console.warn("WARNING",...n):e>=1&&console.error("ERROR",...n)}},Se=new BG,NG=Ff(ev()),DG=class extends NG.EventEmitter{constructor({secure:e,host:t,port:n,path:r,key:s,pingInterval:i=5e3,polyfills:o}){super(),this._disconnected=!0,this._id=null,this._messagesQueue=[],this.alive=!1,this._destroyed=!1;var a;this.pingInterval=i;const l=e?"wss://":"ws://";this._baseUrl=l+t+":"+n+r+"peerjs?key="+s,this.WebSocketConstructor=(a=o==null?void 0:o.WebSocket)!=null?a:window.WebSocket}get messagesQueue(){return this._messagesQueue}get destroyed(){return this._destroyed}start(e,t){if(this._destroyed)throw new Error("Socket was destroyed!");if(this._id=e,this._socket||!this._disconnected)return;const n=`${this._baseUrl}&id=${e}&token=${t}`;this._socket=new this.WebSocketConstructor(n),this._disconnected=!1,this._socket.onmessage=r=>{if(this._destroyed)return;let s;try{s=JSON.parse(r.data),Se.log("Server message received:",s)}catch{Se.log("Invalid server message",r.data);return}this.emit("message",s)},this._socket.onclose=r=>{this._disconnected||this._destroyed||(Se.log("Socket closed.",r),this._cleanup(),this._disconnected=!0,this.emit("disconnected"))},this._socket.onopen=()=>{this._disconnected||this._destroyed||(Se.log("Socket open"),this.emit("open"),this._sendQueuedMessages(),this._scheduleHeartbeat())}}_scheduleHeartbeat(){this._wsPingTimer=setTimeout(()=>{this._sendHeartbeat()},this.pingInterval)}_sendHeartbeat(){if(this._destroyed)return;if(!this._wsOpen()){Se.log("Cannot send heartbeat, because socket closed");return}const e=JSON.stringify({type:"HEARTBEAT"});this._socket.send(e),this._scheduleHeartbeat()}_wsOpen(){return!!this._socket&&this._socket.readyState===1}_sendQueuedMessages(){const e=[...this._messagesQueue];this._messagesQueue=[];for(const t of e)this.send(t);e.length>0&&Se.log(`${e.length} queued messages was sent`)}send(e){if(this._destroyed)throw new Error("Socket was destroyed!");if(!e.type){this.emit("error","Invalid message");return}if(!this.alive)return;if(this._id==null||!this._wsOpen()){this._messagesQueue.push(e);return}const t=JSON.stringify(e);this._socket.send(t)}close(){this._disconnected||(this._cleanup(),this._id=null,this._disconnected=!0)}_cleanup(){this._socket&&(this._socket.onopen=this._socket.onmessage=this._socket.onclose=null,this._socket.close(),this._socket=void 0),clearTimeout(this._wsPingTimer)}destroy(){this._destroyed||(this.close(),this._messagesQueue.length=0,this._destroyed=!0)}};function FG(){}var VO=class{constructor(e){this.connection=e}get webRtc(){var e,t;return(t=(e=this.connection.provider.options.polyfills)==null?void 0:e.WebRTC)!=null?t:window}startConnection(e){const t=this._startPeerConnection();if(this.connection.peerConnection=t,this.connection.type==="media"&&e._stream&&this._addTracksToConnection(e._stream,t),e.originator){if(this.connection.type==="data"){const n=this.connection,r={ordered:!!e.reliable},s=t.createDataChannel(n.label,r);n.initialize(s)}this._makeOffer()}else this.handleSDP("OFFER",e.sdp)}_startPeerConnection(){Se.log("Creating RTCPeerConnection.");const e=this.webRtc.RTCPeerConnection,t=new e(this.connection.provider.options.config);return this._setupListeners(t),t}_setupListeners(e){const t=this.connection.peer,n=this.connection.connectionId,r=this.connection.type,s=this.connection.provider;Se.log("Listening for ICE candidates, remote streams and data channels."),e.onicecandidate=i=>{!i.candidate||!i.candidate.candidate||(Se.log(`Received ICE candidates for ${t}:`,i.candidate),s.socket.send({type:"CANDIDATE",payload:{candidate:i.candidate,type:r,connectionId:n},dst:t}))},e.oniceconnectionstatechange=()=>{switch(e.iceConnectionState){case"failed":Se.log("iceConnectionState is failed, closing connections to "+t),this.connection.emit("error",new Error("Negotiation of connection to "+t+" failed.")),this.connection.close();break;case"closed":Se.log("iceConnectionState is closed, closing connections to "+t),this.connection.emit("error",new Error("Connection to "+t+" closed.")),this.connection.close();break;case"connected":Se.log("iceConnectionState changed to connected on the connection with "+t);break;case"disconnected":Se.log("iceConnectionState changed to disconnected on the connection with "+t);break;case"completed":Se.log("iceConnectionState changed to completed on the connection with "+t),e.onicecandidate=FG;break}this.connection.emit("iceStateChanged",e.iceConnectionState)},e.ondatachannel=i=>{Se.log("Received data channel");const o=i.channel;s.getConnection(t,n).initialize(o)},e.ontrack=i=>{Se.log("Received remote stream");const o=i.streams[0],a=s.getConnection(t,n);if(a.type==="media"){const l=a;this._addStreamToMediaConnection(o,l)}}}cleanup(){Se.log("Cleaning up PeerConnection to "+this.connection.peer);const e=this.connection.peerConnection;if(!e)return;this.connection.peerConnection=null,e.onicecandidate=e.oniceconnectionstatechange=e.ondatachannel=e.ontrack=null;const t=e.signalingState!=="closed";let n=!1;if(this.connection.type==="data"){const s=this.connection.dataChannel;s&&(n=!!s.readyState&&s.readyState!=="closed")}(t||n)&&e.close()}_makeOffer(){return Jl(this,null,function*(){const e=this.connection.peerConnection,t=this.connection.provider;try{const n=yield e.createOffer(this.connection.options.constraints);if(e.signalingState==="closed")return;Se.log("Created offer."),this.connection.options.sdpTransform&&typeof this.connection.options.sdpTransform=="function"&&(n.sdp=this.connection.options.sdpTransform(n.sdp)||n.sdp);try{yield e.setLocalDescription(n),Se.log("Set localDescription:",n,`for:${this.connection.peer}`);let r={sdp:n,type:this.connection.type,connectionId:this.connection.connectionId,metadata:this.connection.metadata};if(this.connection.type==="data"){const s=this.connection;r=OO(Yb({},r),{label:s.label,reliable:s.reliable,serialization:s.serialization})}t.socket.send({type:"OFFER",payload:r,dst:this.connection.peer})}catch(r){r!="OperationError: Failed to set local offer sdp: Called in wrong state: kHaveRemoteOffer"&&(t.emitError("webrtc",r),Se.log("Failed to setLocalDescription, ",r))}}catch(n){t.emitError("webrtc",n),Se.log("Failed to createOffer, ",n)}})}_makeAnswer(){return Jl(this,null,function*(){const e=this.connection.peerConnection,t=this.connection.provider;try{const n=yield e.createAnswer();if(e.signalingState==="closed")return;Se.log("Created answer."),this.connection.options.sdpTransform&&typeof this.connection.options.sdpTransform=="function"&&(n.sdp=this.connection.options.sdpTransform(n.sdp)||n.sdp);try{yield e.setLocalDescription(n),Se.log("Set localDescription:",n,`for:${this.connection.peer}`),t.socket.send({type:"ANSWER",payload:{sdp:n,type:this.connection.type,connectionId:this.connection.connectionId},dst:this.connection.peer})}catch(r){t.emitError("webrtc",r),Se.log("Failed to setLocalDescription, ",r)}}catch(n){t.emitError("webrtc",n),Se.log("Failed to create answer, ",n)}})}handleSDP(e,t){return Jl(this,null,function*(){const n=this.webRtc.RTCSessionDescription;t=new n(t);const r=this.connection.peerConnection,s=this.connection.provider;Se.log("Setting remote description",t);const i=this;try{yield r.setRemoteDescription(t),Se.log(`Set remoteDescription:${e} for:${this.connection.peer}`),e==="OFFER"&&(yield i._makeAnswer())}catch(o){s.emitError("webrtc",o),Se.log("Failed to setRemoteDescription, ",o)}})}handleCandidate(e){return Jl(this,null,function*(){Se.log("handleCandidate:",e);const t=e.candidate,n=e.sdpMLineIndex,r=e.sdpMid,s=this.connection.peerConnection,i=this.connection.provider;try{const o=this.webRtc.RTCIceCandidate;yield s.addIceCandidate(new o({sdpMid:r,sdpMLineIndex:n,candidate:t})),Se.log(`Added ICE candidate for:${this.connection.peer}`)}catch(o){i.emitError("webrtc",o),Se.log("Failed to handleCandidate, ",o)}})}_addTracksToConnection(e,t){if(Se.log(`add tracks from stream ${e.id} to peer connection`),!t.addTrack)return Se.error("Your browser does't support RTCPeerConnection#addTrack. Ignored.");e.getTracks().forEach(n=>{t.addTrack(n,e)})}_addStreamToMediaConnection(e,t){Se.log(`add stream ${e.id} to media connection ${t.connectionId}`),t.addStream(e)}},UG=Ff(ev()),LO=class extends UG.EventEmitter{constructor(e,t,n){super(),this.peer=e,this.provider=t,this.options=n,this._open=!1,this.metadata=n.metadata}get open(){return this._open}},$O=class extends LO{get type(){return"media"}get localStream(){return this._localStream}get remoteStream(){return this._remoteStream}constructor(e,t,n){super(e,t,n),this._localStream=this.options._stream,this.connectionId=this.options.connectionId||$O.ID_PREFIX+en.randomToken(),this._negotiator=new VO(this),this._localStream&&this._negotiator.startConnection({_stream:this._localStream,originator:!0})}addStream(e){Se.log("Receiving stream",e),this._remoteStream=e,super.emit("stream",e)}handleMessage(e){const t=e.type,n=e.payload;switch(e.type){case"ANSWER":this._negotiator.handleSDP(t,n.sdp),this._open=!0;break;case"CANDIDATE":this._negotiator.handleCandidate(n.candidate);break;default:Se.warn(`Unrecognized message type:${t} from peer:${this.peer}`);break}}answer(e,t={}){if(this._localStream){Se.warn("Local stream already exists on this MediaConnection. Are you answering a call twice?");return}this._localStream=e,t&&t.sdpTransform&&(this.options.sdpTransform=t.sdpTransform),this._negotiator.startConnection(OO(Yb({},this.options._payload),{_stream:e}));const n=this.provider._getMessages(this.connectionId);for(let r of n)this.handleMessage(r);this._open=!0}close(){this._negotiator&&(this._negotiator.cleanup(),this._negotiator=null),this._localStream=null,this._remoteStream=null,this.provider&&(this.provider._removeConnection(this),this.provider=null),this.options&&this.options._stream&&(this.options._stream=null),this.open&&(this._open=!1,super.emit("close"))}},Q0=$O;Q0.ID_PREFIX="mc_";var zG=Ff(ev()),HG=class extends zG.EventEmitter{constructor(e){super(),this.fileReader=e,this._queue=[],this._processing=!1,this.fileReader.onload=t=>{this._processing=!1,t.target&&this.emit("done",t.target.result),this.doNextTask()},this.fileReader.onerror=t=>{Se.error("EncodingQueue error:",t),this._processing=!1,this.destroy(),this.emit("error",t)}}get queue(){return this._queue}get size(){return this.queue.length}get processing(){return this._processing}enque(e){this.queue.push(e),!this.processing&&this.doNextTask()}destroy(){this.fileReader.abort(),this._queue=[]}doNextTask(){this.size!==0&&(this.processing||(this._processing=!0,this.fileReader.readAsArrayBuffer(this.queue.shift())))}},J0=class extends LO{constructor(e,t,n){super(e,t,n),this.stringify=JSON.stringify,this.parse=JSON.parse,this._buffer=[],this._bufferSize=0,this._buffering=!1,this._chunkedData={};var r,s;this.connectionId=this.options.connectionId||J0.ID_PREFIX+en.randomToken(),this.label=this.options.label||this.connectionId,this.serialization=this.options.serialization||"binary",this.reliable=!!this.options.reliable,this.FileReaderCtr=(s=(r=t.options.polyfills)==null?void 0:r.FileReader)!=null?s:window.FileReader,this._encodingQueue=new HG(new this.FileReaderCtr),this._encodingQueue.on("done",i=>{this._bufferedSend(i)}),this._encodingQueue.on("error",()=>{Se.error(`DC#${this.connectionId}: Error occured in encoding from blob to arraybuffer, close DC`),this.close()}),this._negotiator=new VO(this),this._negotiator.startConnection(this.options._payload||{originator:!0})}get type(){return"data"}get dataChannel(){return this._dc}get bufferSize(){return this._bufferSize}initialize(e){this._dc=e,this._configureDataChannel()}_configureDataChannel(){(!this.provider.features.binaryBlob||this.provider.features.reliable)&&(this.dataChannel.binaryType="arraybuffer"),this.dataChannel.onopen=()=>{Se.log(`DC#${this.connectionId} dc connection success`),this._open=!0,this.emit("open")},this.dataChannel.onmessage=e=>{Se.log(`DC#${this.connectionId} dc onmessage:`,e.data),this._handleDataMessage(e)},this.dataChannel.onclose=()=>{Se.log(`DC#${this.connectionId} dc closed for:`,this.peer),this.close()}}_handleDataMessage({data:e}){const t=e.constructor,n=this.serialization==="binary"||this.serialization==="binary-utf8";let r=e;if(n){if(t===Blob){en.blobToArrayBuffer(this.FileReaderCtr,e,s=>{const i=en.unpack(s);this.emit("data",i)});return}else if(t===ArrayBuffer)r=en.unpack(e);else if(t===String){const s=en.binaryStringToArrayBuffer(e);r=en.unpack(s)}}else this.serialization==="json"&&(r=this.parse(e));if(r.__peerData){this._handleChunk(r);return}super.emit("data",r)}_handleChunk(e){const t=e.__peerData,n=this._chunkedData[t]||{data:[],count:0,total:e.total};if(n.data[e.n]=e.data,n.count++,this._chunkedData[t]=n,n.total===n.count){delete this._chunkedData[t];const r=new Blob(n.data);this._handleDataMessage({data:r})}}close(){this._buffer=[],this._bufferSize=0,this._chunkedData={},this._negotiator&&(this._negotiator.cleanup(),this._negotiator=null),this.provider&&(this.provider._removeConnection(this),this.provider=null),this.dataChannel&&(this.dataChannel.onopen=null,this.dataChannel.onmessage=null,this.dataChannel.onclose=null,this._dc=null),this._encodingQueue&&(this._encodingQueue.destroy(),this._encodingQueue.removeAllListeners(),this._encodingQueue=null),this.open&&(this._open=!1,super.emit("close"))}send(e,t){if(!this.open){super.emit("error",new Error("Connection is not open. You should listen for the `open` event before sending messages."));return}if(this.serialization==="json")this._bufferedSend(this.stringify(e));else if(this.serialization==="binary"||this.serialization==="binary-utf8"){const n=en.pack(e);if(!t&&n.size>en.chunkedMTU){this._sendChunks(n);return}this.provider.features.binaryBlob?this._bufferedSend(n):this._encodingQueue.enque(n)}else this._bufferedSend(e)}_bufferedSend(e){(this._buffering||!this._trySend(e))&&(this._buffer.push(e),this._bufferSize=this._buffer.length)}_trySend(e){if(!this.open)return!1;if(this.dataChannel.bufferedAmount>J0.MAX_BUFFERED_AMOUNT)return this._buffering=!0,setTimeout(()=>{this._buffering=!1,this._tryBuffer()},50),!1;try{this.dataChannel.send(e)}catch(t){return Se.error(`DC#:${this.connectionId} Error when sending:`,t),this._buffering=!0,this.close(),!1}return!0}_tryBuffer(){if(!this.open||this._buffer.length===0)return;const e=this._buffer[0];this._trySend(e)&&(this._buffer.shift(),this._bufferSize=this._buffer.length,this._tryBuffer())}_sendChunks(e){const t=en.chunk(e);Se.log(`DC#${this.connectionId} Try to send ${t.length} chunks...`);for(let n of t)this.send(n,!0)}handleMessage(e){const t=e.payload;switch(e.type){case"ANSWER":this._negotiator.handleSDP(e.type,t.sdp);break;case"CANDIDATE":this._negotiator.handleCandidate(t.candidate);break;default:Se.warn("Unrecognized message type:",e.type,"from peer:",this.peer);break}}},_g=J0;_g.ID_PREFIX="dc_";_g.MAX_BUFFERED_AMOUNT=8*1024*1024;var GG=class{constructor(e){this._options=e}_request(e){var t,n;return((n=(t=this._options.polyfills)==null?void 0:t.fetch)!=null?n:window.fetch)(e)}_buildUrl(e){let n=(this._options.secure?"https://":"http://")+this._options.host+":"+this._options.port+this._options.path+this._options.key+"/"+e;const r="?ts="+new Date().getTime()+Math.random();return n+=r,n}retrieveId(){return Jl(this,null,function*(){const e=this._buildUrl("id");try{const t=yield this._request(e);if(t.status!==200)throw new Error(`Error. Status:${t.status}`);return t.text()}catch(t){Se.error("Error retrieving ID",t);let n="";throw this._options.path==="/"&&this._options.host!==en.CLOUD_HOST&&(n=" If you passed in a `path` to your self-hosted PeerServer, you'll also need to pass in that same path when creating a new Peer."),new Error("Could not get an ID from the server."+n)}})}listAllPeers(){return Jl(this,null,function*(){const e=this._buildUrl("peers");try{const t=yield this._request(e);if(t.status!==200){if(t.status===401){let n="";throw this._options.host===en.CLOUD_HOST?n="It looks like you're using the cloud server. You can email team@peerjs.com to enable peer listing for your API key.":n="You need to enable `allow_discovery` on your self-hosted PeerServer to use this feature.",new Error("It doesn't look like you have permission to list peers IDs. "+n)}throw new Error(`Error. Status:${t.status}`)}return t.json()}catch(t){throw Se.error("Error retrieving list peers",t),new Error("Could not get list peers from the server."+t)}})}},qG={isUnifiedPlanSupported(e){if(!e&&typeof window<"u"&&(e=window),typeof e.RTCRtpTransceiver>"u"||!("currentDirection"in e.RTCRtpTransceiver.prototype))return!1;let t,n=!1;try{t=new e.RTCPeerConnection,t.addTransceiver("audio"),n=!0}catch{}finally{t&&t.close()}return n}},Ta=class extends LG.EventEmitter{constructor(e,t){super(),this._id=null,this._lastServerId=null,this._destroyed=!1,this._disconnected=!1,this._open=!1,this._connections=new Map,this._lostMessages=new Map;var n;let r;if(e&&e.constructor==Object?t=e:e&&(r=e.toString()),t=Yb({debug:0,host:en.CLOUD_HOST,port:en.CLOUD_PORT,path:"/",key:Ta.DEFAULT_KEY,token:en.randomToken(),config:en.defaultConfig},t),this._options=t,typeof window<"u"&&this._options.host==="/"&&(this._options.host=window.location.hostname),this._options.path&&(this._options.path[0]!=="/"&&(this._options.path="/"+this._options.path),this._options.path[this._options.path.length-1]!=="/"&&(this._options.path+="/")),this._options.secure===void 0&&this._options.host!==en.CLOUD_HOST?this._options.secure=en.isSecure():this._options.host==en.CLOUD_HOST&&(this._options.secure=!0),this._options.logFunction&&Se.setLogFunction(this._options.logFunction),Se.logLevel=this._options.debug||0,this._api=new GG(t),this._socket=this._createServerConnection(),this.features=Ta.getFeatures((n=this._options.polyfills)==null?void 0:n.WebRTC),!this.features.audioVideo&&!this.features.data){this._delayedAbort("browser-incompatible","The current browser does not support WebRTC");return}if(r&&!en.validateId(r)){this._delayedAbort("invalid-id",`ID "${r}" is invalid`);return}this.socket.alive=!0,r?this._initialize(r):this._api.retrieveId().then(s=>this._initialize(s)).catch(s=>this._abort("server-error",s))}get id(){return this._id}get options(){return this._options}get open(){return this._open}get socket(){return this._socket}get connections(){const e=Object.create(null);for(let[t,n]of this._connections)e[t]=n;return e}get destroyed(){return this._destroyed}get disconnected(){return this._disconnected}_createServerConnection(){const e=new DG(this._options);return e.on("message",t=>{this._handleMessage(t)}),e.on("error",t=>{this._abort("socket-error",t)}),e.on("disconnected",()=>{this.disconnected||(this.emitError("network","Lost connection to server."),this.disconnect())}),e.on("close",()=>{this.disconnected||this._abort("socket-closed","Underlying socket is already closed.")}),e}_initialize(e){this.destroyed||(this._id=e,this.socket.start(e,this._options.token))}_handleMessage(e){const t=e.type,n=e.payload,r=e.src;switch(t){case"OPEN":this._lastServerId=this.id,this._open=!0,this.emit("open",this.id);break;case"ERROR":this._abort("server-error",n.msg);break;case"ID-TAKEN":this._abort("unavailable-id",`ID "${this.id}" is taken`);break;case"INVALID-KEY":this._abort("invalid-key",`API KEY "${this._options.key}" is invalid`);break;case"LEAVE":Se.log(`Received leave message from ${r}`),this._cleanupPeer(r),this._connections.delete(r);break;case"EXPIRE":this.emitError("peer-unavailable",`Could not connect to peer ${r}`);break;case"OFFER":{const s=n.connectionId;let i=this.getConnection(r,s);if(i&&(i.close(),Se.warn(`Offer received for existing Connection ID:${s}`)),n.type==="media")i=new Q0(r,this,{connectionId:s,_payload:n,metadata:n.metadata}),this._addConnection(r,i),this.emit("call",i);else if(n.type==="data")i=new _g(r,this,{connectionId:s,_payload:n,metadata:n.metadata,label:n.label,serialization:n.serialization,reliable:n.reliable}),this._addConnection(r,i),this.emit("connection",i);else{Se.warn(`Received malformed connection type:${n.type}`);return}const o=this._getMessages(s);for(let a of o)i.handleMessage(a);break}default:{if(!n){Se.warn(`You received a malformed message from ${r} of type ${t}`);return}const s=n.connectionId,i=this.getConnection(r,s);i&&i.peerConnection?i.handleMessage(e):s?this._storeMessage(s,e):Se.warn("You received an unrecognized message:",e);break}}}_storeMessage(e,t){this._lostMessages.has(e)||this._lostMessages.set(e,[]),this._lostMessages.get(e).push(t)}_getMessages(e){const t=this._lostMessages.get(e);return t?(this._lostMessages.delete(e),t):[]}connect(e,t={}){if(this.disconnected){Se.warn("You cannot connect to a new Peer because you called .disconnect() on this Peer and ended your connection with the server. You can create a new Peer to reconnect, or call reconnect on this peer if you believe its ID to still be available."),this.emitError("disconnected","Cannot connect to new Peer after disconnecting from server.");return}const n=new _g(e,this,t);return this._addConnection(e,n),n}call(e,t,n={}){if(this.disconnected){Se.warn("You cannot connect to a new Peer because you called .disconnect() on this Peer and ended your connection with the server. You can create a new Peer to reconnect."),this.emitError("disconnected","Cannot connect to new Peer after disconnecting from server.");return}if(!t){Se.error("To call a peer, you must provide a stream from your browser's `getUserMedia`.");return}n._stream=t;const r=new Q0(e,this,n);return this._addConnection(e,r),r}_addConnection(e,t){Se.log(`add connection ${t.type}:${t.connectionId} to peerId:${e}`),this._connections.has(e)||this._connections.set(e,[]),this._connections.get(e).push(t)}_removeConnection(e){const t=this._connections.get(e.peer);if(t){const n=t.indexOf(e);n!==-1&&(t.splice(n,1),t.length===0&&this._connections.delete(e.peer))}this._lostMessages.delete(e.connectionId)}getConnection(e,t){const n=this._connections.get(e);if(!n)return null;for(let r of n)if(r.connectionId===t)return r;return null}_delayedAbort(e,t){setTimeout(()=>{this._abort(e,t)},0)}_abort(e,t){Se.error("Aborting!"),this.emitError(e,t),this._lastServerId?this.disconnect():this.destroy()}emitError(e,t){Se.error("Error:",t);let n;typeof t=="string"?n=new Error(t):n=t,n.type=e,this.emit("error",n)}destroy(){this.destroyed||(Se.log(`Destroy peer with ID:${this.id}`),this.disconnect(),this._cleanup(),this.socket.destroy(),this._destroyed=!0,this.emit("close"))}_cleanup(){for(let e of this._connections.keys())this._cleanupPeer(e),this._connections.delete(e);this.socket.removeAllListeners()}_cleanupPeer(e){const t=this._connections.get(e);if(t)for(let n of t)n.close()}disconnect(){if(this.disconnected)return;const e=this.id;Se.log(`Disconnect peer with ID:${e}`),this._disconnected=!0,this._open=!1,this.socket.alive=!1,this.socket.close(),this._lastServerId=e,this._id=null,this.emit("disconnected",e)}reconnect(){if(this.disconnected&&!this.destroyed)Se.log(`Attempting reconnection to server with ID ${this._lastServerId}`),this._disconnected=!1,this.socket.alive=!0,this._initialize(this._lastServerId);else{if(this.destroyed)throw new Error("This peer cannot reconnect to the server. It has already been destroyed.");if(!this.disconnected&&!this.open)Se.error("In a hurry? We're still trying to make the initial connection!");else throw new Error(`Peer ${this.id} cannot reconnect because it is not disconnected from the server!`)}}listAllPeers(e=t=>{}){this._api.listAllPeers().then(t=>e(t)).catch(t=>this._abort("server-error",t))}static getFeatures(e){return!e&&typeof window<"u"&&(e=window),Ta._features||(Ta._features=Ta.checkFeatures(e)),Ta._features}static checkFeatures(e){!e&&typeof window<"u"&&(e=window);const t={webRTC:typeof e.RTCPeerConnection<"u",audioVideo:!0,data:!1,binaryBlob:!1,reliable:!1,unifiedPlan:!1};if(!t.webRTC)return t;let n;try{n=new e.RTCPeerConnection(en.defaultConfig);let r;try{r=n.createDataChannel("_PEERJSTEST",{ordered:!0}),t.data=!0,t.reliable=!!r.ordered;try{r.binaryType="blob",t.binaryBlob=!0}catch{}}catch{}finally{r&&r.close()}}catch{}finally{n&&n.close()}return t.unifiedPlan=qG.isUnifiedPlanSupported(e),t}},tv=Ta;tv.DEFAULT_KEY="peerjs";typeof window<"u"&&(window.Peer=tv);class WG extends So{constructor(){super(...arguments),this.name="PeerJS",this.peer=null,this.disconnect=()=>{var t;(t=this.peer)==null||t.disconnect()}}connect(t,n,r){this.peer=new tv(`allkaraoke-party-room-${t}`,MO),this.peer.on("open",function(s){n(),console.log("My peer ID is: "+s)}),this.peer.on("connection",s=>{s.on("data",i=>{this.onUpdate(i,s)}),s.on("error",i=>console.warn("error",i)),s.on("iceStateChanged",i=>{(i==="disconnected"||i==="closed")&&this.onUpdate({t:"unregister"},s)}),s.on("close",()=>{Xe.removeRemoteMic(s.peer)})})}}const BO="wss://backend.allkaraoke.party";class KG extends So{constructor(){super(),this.name="WebSockets",this.connection=null,this.disconnect=()=>{var t;(t=this.connection)==null||t.close()}}connect(t,n,r){this.connection=new WebSocket(BO),this.connection.binaryType="arraybuffer",this.connection.onopen=()=>{var s,i;(s=this.connection)==null||s.send(dg({t:"register-room",id:t})),n(),(i=this.connection)==null||i.addEventListener("message",o=>{var l;const a=Ab(o.data);if(["ping","pong","freq"].includes((l=a==null?void 0:a.payload)==null?void 0:l.t)||console.log("received",a),a.t==="forward"){const{sender:c,payload:u}=a,d=new YG(c,this.connection);this.onUpdate(u,d)}})}}}class YG{constructor(t,n){this.peer=t,this.socket=n,this.send=r=>{const s={t:"forward",recipients:[this.peer],payload:r};["ping","pong","freq"].includes(r==null?void 0:r.t)||console.log("sending",this.peer,r),this.socket.send(dg(s))},this.callbacksMap=new Map,this.on=(r,s)=>{r==="data"&&(this.callbacksMap.set(s,i=>{const o=Ab(i.data);if(o.t==="forward"){const{sender:a,payload:l}=o;a===this.peer&&s(l)}}),this.socket.addEventListener("message",this.callbacksMap.get(s)))},this.off=(r,s)=>{if(r==="data"){const i=this.callbacksMap.get(s);this.socket.removeEventListener("message",i),this.callbacksMap.delete(s)}},this.close=()=>{this.socket.close()}}}var NO={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(Fo,function(){var n=1e3,r=6e4,s=36e5,i="millisecond",o="second",a="minute",l="hour",c="day",u="week",d="month",h="quarter",p="year",g="date",m="Invalid Date",_=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,v=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,y={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(L){var M=["th","st","nd","rd"],I=L%100;return"["+L+(M[(I-20)%10]||M[I]||M[0])+"]"}},b=function(L,M,I){var z=String(L);return!z||z.length>=M?L:""+Array(M+1-z.length).join(I)+L},w={s:b,z:function(L){var M=-L.utcOffset(),I=Math.abs(M),z=Math.floor(I/60),j=I%60;return(M<=0?"+":"-")+b(z,2,"0")+":"+b(j,2,"0")},m:function L(M,I){if(M.date()<I.date())return-L(I,M);var z=12*(I.year()-M.year())+(I.month()-M.month()),j=M.clone().add(z,d),N=I-j<0,V=M.clone().add(z+(N?-1:1),d);return+(-(z+(I-j)/(N?j-V:V-j))||0)},a:function(L){return L<0?Math.ceil(L)||0:Math.floor(L)},p:function(L){return{M:d,y:p,w:u,d:c,D:g,h:l,m:a,s:o,ms:i,Q:h}[L]||String(L||"").toLowerCase().replace(/s$/,"")},u:function(L){return L===void 0}},S="en",x={};x[S]=y;var E="$isDayjsObject",T=function(L){return L instanceof Q||!(!L||!L[E])},U=function L(M,I,z){var j;if(!M)return S;if(typeof M=="string"){var N=M.toLowerCase();x[N]&&(j=N),I&&(x[N]=I,j=N);var V=M.split("-");if(!j&&V.length>1)return L(V[0])}else{var G=M.name;x[G]=M,j=G}return!z&&j&&(S=j),j||!z&&S},$=function(L,M){if(T(L))return L.clone();var I=typeof M=="object"?M:{};return I.date=L,I.args=arguments,new Q(I)},D=w;D.l=U,D.i=T,D.w=function(L,M){return $(L,{locale:M.$L,utc:M.$u,x:M.$x,$offset:M.$offset})};var Q=function(){function L(I){this.$L=U(I.locale,null,!0),this.parse(I),this.$x=this.$x||I.x||{},this[E]=!0}var M=L.prototype;return M.parse=function(I){this.$d=function(z){var j=z.date,N=z.utc;if(j===null)return new Date(NaN);if(D.u(j))return new Date;if(j instanceof Date)return new Date(j);if(typeof j=="string"&&!/Z$/i.test(j)){var V=j.match(_);if(V){var G=V[2]-1||0,F=(V[7]||"0").substring(0,3);return N?new Date(Date.UTC(V[1],G,V[3]||1,V[4]||0,V[5]||0,V[6]||0,F)):new Date(V[1],G,V[3]||1,V[4]||0,V[5]||0,V[6]||0,F)}}return new Date(j)}(I),this.init()},M.init=function(){var I=this.$d;this.$y=I.getFullYear(),this.$M=I.getMonth(),this.$D=I.getDate(),this.$W=I.getDay(),this.$H=I.getHours(),this.$m=I.getMinutes(),this.$s=I.getSeconds(),this.$ms=I.getMilliseconds()},M.$utils=function(){return D},M.isValid=function(){return this.$d.toString()!==m},M.isSame=function(I,z){var j=$(I);return this.startOf(z)<=j&&j<=this.endOf(z)},M.isAfter=function(I,z){return $(I)<this.startOf(z)},M.isBefore=function(I,z){return this.endOf(z)<$(I)},M.$g=function(I,z,j){return D.u(I)?this[z]:this.set(j,I)},M.unix=function(){return Math.floor(this.valueOf()/1e3)},M.valueOf=function(){return this.$d.getTime()},M.startOf=function(I,z){var j=this,N=!!D.u(z)||z,V=D.p(I),G=function(ye,ce){var _e=D.w(j.$u?Date.UTC(j.$y,ce,ye):new Date(j.$y,ce,ye),j);return N?_e:_e.endOf(c)},F=function(ye,ce){return D.w(j.toDate()[ye].apply(j.toDate("s"),(N?[0,0,0,0]:[23,59,59,999]).slice(ce)),j)},ne=this.$W,O=this.$M,fe=this.$D,Z="set"+(this.$u?"UTC":"");switch(V){case p:return N?G(1,0):G(31,11);case d:return N?G(1,O):G(0,O+1);case u:var ae=this.$locale().weekStart||0,Pe=(ne<ae?ne+7:ne)-ae;return G(N?fe-Pe:fe+(6-Pe),O);case c:case g:return F(Z+"Hours",0);case l:return F(Z+"Minutes",1);case a:return F(Z+"Seconds",2);case o:return F(Z+"Milliseconds",3);default:return this.clone()}},M.endOf=function(I){return this.startOf(I,!1)},M.$set=function(I,z){var j,N=D.p(I),V="set"+(this.$u?"UTC":""),G=(j={},j[c]=V+"Date",j[g]=V+"Date",j[d]=V+"Month",j[p]=V+"FullYear",j[l]=V+"Hours",j[a]=V+"Minutes",j[o]=V+"Seconds",j[i]=V+"Milliseconds",j)[N],F=N===c?this.$D+(z-this.$W):z;if(N===d||N===p){var ne=this.clone().set(g,1);ne.$d[G](F),ne.init(),this.$d=ne.set(g,Math.min(this.$D,ne.daysInMonth())).$d}else G&&this.$d[G](F);return this.init(),this},M.set=function(I,z){return this.clone().$set(I,z)},M.get=function(I){return this[D.p(I)]()},M.add=function(I,z){var j,N=this;I=Number(I);var V=D.p(z),G=function(O){var fe=$(N);return D.w(fe.date(fe.date()+Math.round(O*I)),N)};if(V===d)return this.set(d,this.$M+I);if(V===p)return this.set(p,this.$y+I);if(V===c)return G(1);if(V===u)return G(7);var F=(j={},j[a]=r,j[l]=s,j[o]=n,j)[V]||1,ne=this.$d.getTime()+I*F;return D.w(ne,this)},M.subtract=function(I,z){return this.add(-1*I,z)},M.format=function(I){var z=this,j=this.$locale();if(!this.isValid())return j.invalidDate||m;var N=I||"YYYY-MM-DDTHH:mm:ssZ",V=D.z(this),G=this.$H,F=this.$m,ne=this.$M,O=j.weekdays,fe=j.months,Z=j.meridiem,ae=function(ce,_e,Fe,Ne){return ce&&(ce[_e]||ce(z,N))||Fe[_e].slice(0,Ne)},Pe=function(ce){return D.s(G%12||12,ce,"0")},ye=Z||function(ce,_e,Fe){var Ne=ce<12?"AM":"PM";return Fe?Ne.toLowerCase():Ne};return N.replace(v,function(ce,_e){return _e||function(Fe){switch(Fe){case"YY":return String(z.$y).slice(-2);case"YYYY":return D.s(z.$y,4,"0");case"M":return ne+1;case"MM":return D.s(ne+1,2,"0");case"MMM":return ae(j.monthsShort,ne,fe,3);case"MMMM":return ae(fe,ne);case"D":return z.$D;case"DD":return D.s(z.$D,2,"0");case"d":return String(z.$W);case"dd":return ae(j.weekdaysMin,z.$W,O,2);case"ddd":return ae(j.weekdaysShort,z.$W,O,3);case"dddd":return O[z.$W];case"H":return String(G);case"HH":return D.s(G,2,"0");case"h":return Pe(1);case"hh":return Pe(2);case"a":return ye(G,F,!0);case"A":return ye(G,F,!1);case"m":return String(F);case"mm":return D.s(F,2,"0");case"s":return String(z.$s);case"ss":return D.s(z.$s,2,"0");case"SSS":return D.s(z.$ms,3,"0");case"Z":return V}return null}(ce)||V.replace(":","")})},M.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},M.diff=function(I,z,j){var N,V=this,G=D.p(z),F=$(I),ne=(F.utcOffset()-this.utcOffset())*r,O=this-F,fe=function(){return D.m(V,F)};switch(G){case p:N=fe()/12;break;case d:N=fe();break;case h:N=fe()/3;break;case u:N=(O-ne)/6048e5;break;case c:N=(O-ne)/864e5;break;case l:N=O/s;break;case a:N=O/r;break;case o:N=O/n;break;default:N=O}return j?N:D.a(N)},M.daysInMonth=function(){return this.endOf(d).$D},M.$locale=function(){return x[this.$L]},M.locale=function(I,z){if(!I)return this.$L;var j=this.clone(),N=U(I,z,!0);return N&&(j.$L=N),j},M.clone=function(){return D.w(this.$d,this)},M.toDate=function(){return new Date(this.valueOf())},M.toJSON=function(){return this.isValid()?this.toISOString():null},M.toISOString=function(){return this.$d.toISOString()},M.toString=function(){return this.$d.toUTCString()},L}(),P=Q.prototype;return $.prototype=P,[["$ms",i],["$s",o],["$m",a],["$H",l],["$W",c],["$M",d],["$y",p],["$D",g]].forEach(function(L){P[L[1]]=function(M){return this.$g(M,L[0],L[1])}}),$.extend=function(L,M){return L.$i||(L(M,Q,$),L.$i=!0),$},$.locale=U,$.isDayjs=T,$.unix=function(L){return $(1e3*L)},$.en=x[S],$.Ls=x,$.p={},$})})(NO);var QG=NO.exports;const ii=cr(QG);function JG(e){return!!e}function XG(e){return[...Array(e).keys()]}const ZG=250,Vy=(e,t=0,n=1/0)=>e.filter(Ct).filter(r=>oa([r])>=t).filter(r=>Qd([r])<=n).reduce((r,s)=>r+s.notes.reduce((i,o)=>i+o.length,0),0),eq=(e,t)=>{const[n,...r]=e.filter(Ct),s=[[n]];return r.forEach(i=>{const o=s.at(-1),a=Qd(o);(oa([i])-a)*t>ZG?s.push([i]):o.push(i)}),s},DO=(e,t)=>e+t,R2=e=>{const t=e.map(n=>n.reduce(DO,0));return Math.max(...t)-Math.min(...t)},tq=(e,t)=>{const n=JSON.parse(JSON.stringify(e)),r=i=>{if(n[i-1].length<2)return;const o=n[i-1].pop();n[i].push(o)},s=i=>{var l;if(((l=n[i+1])==null?void 0:l.length)<2)return;const[o,...a]=n[i+1];n[i].push(o),n[i+1]=a};return t%2===1?r(Math.ceil(t/2)):s(Math.ceil(t/2)),n},nq=e=>e.reduce(DO,0);function Jb(e,t){const r=fu(t);if(e.sections.length<9)return[];const s=eq(e.sections,r);let i=[],o=[Vy(s[0])];for(let a=0;a<s.length-2;a++){const l=s[i.flat().length-1]??[],u=Vy(e.sections,Qd(l)??0)/(10-i.length),d=Vy(s[a+1]),h=nq(o);h+d<u?o=[...o,d]:u-h<h+d-u?(i.push(o),o=[d]):(i.push([...o,d]),o=[])}for(let a=0;a<100;a++){const l=R2(i),c=XG((i.length-2)*2+2).map(p=>tq(i,p)),u=c.map(R2),d=Math.min(...u);if(l<=d)break;const h=u.indexOf(d);i=c[h]}return i.map(a=>a.length).reduce((a,l)=>[...a,(a.at(-1)??0)+l],[]).map(a=>Qd(s[a-1]))}var FO={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(Fo,function(){function n(r){return typeof r=="string"?r.replace(/[^A-Za-z0-9]/g,function(s){return n.characters[s]||s}):r}return n.characters={Á:"A",Ă:"A",Ắ:"A",Ặ:"A",Ằ:"A",Ẳ:"A",Ẵ:"A",Ǎ:"A",Â:"A",Ấ:"A",Ậ:"A",Ầ:"A",Ẩ:"A",Ẫ:"A",Ä:"A",Ǟ:"A",Ȧ:"A",Ǡ:"A",Ạ:"A",Ȁ:"A",À:"A",Ả:"A",Ȃ:"A",Ā:"A",Ą:"A",Å:"A",Ǻ:"A",Ḁ:"A","Ⱥ":"A",Ã:"A","Ꜳ":"AA",Æ:"AE",Ǽ:"AE",Ǣ:"AE","Ꜵ":"AO","Ꜷ":"AU","Ꜹ":"AV","Ꜻ":"AV","Ꜽ":"AY",Ḃ:"B",Ḅ:"B",Ɓ:"B",Ḇ:"B","Ƀ":"B",Ƃ:"B",Ć:"C",Č:"C",Ç:"C",Ḉ:"C",Ĉ:"C",Ċ:"C",Ƈ:"C","Ȼ":"C",Ď:"D",Ḑ:"D",Ḓ:"D",Ḋ:"D",Ḍ:"D",Ɗ:"D",Ḏ:"D",ǲ:"D",ǅ:"D",Đ:"D",Ð:"D",Ƌ:"D",Ǳ:"DZ",Ǆ:"DZ",É:"E",Ĕ:"E",Ě:"E",Ȩ:"E",Ḝ:"E",Ê:"E",Ế:"E",Ệ:"E",Ề:"E",Ể:"E",Ễ:"E",Ḙ:"E",Ë:"E",Ė:"E",Ẹ:"E",Ȅ:"E",È:"E",Ẻ:"E",Ȇ:"E",Ē:"E",Ḗ:"E",Ḕ:"E",Ę:"E","Ɇ":"E",Ẽ:"E",Ḛ:"E","Ꝫ":"ET",Ḟ:"F",Ƒ:"F",Ǵ:"G",Ğ:"G",Ǧ:"G",Ģ:"G",Ĝ:"G",Ġ:"G",Ɠ:"G",Ḡ:"G",Ǥ:"G",Ḫ:"H",Ȟ:"H",Ḩ:"H",Ĥ:"H","Ⱨ":"H",Ḧ:"H",Ḣ:"H",Ḥ:"H",Ħ:"H",Í:"I",Ĭ:"I",Ǐ:"I",Î:"I",Ï:"I",Ḯ:"I",İ:"I",Ị:"I",Ȉ:"I",Ì:"I",Ỉ:"I",Ȋ:"I",Ī:"I",Į:"I",Ɨ:"I",Ĩ:"I",Ḭ:"I",І:"I","Ꝺ":"D","Ꝼ":"F","Ᵹ":"G","Ꞃ":"R","Ꞅ":"S","Ꞇ":"T","Ꝭ":"IS",Ĵ:"J","Ɉ":"J",Ḱ:"K",Ǩ:"K",Ķ:"K","Ⱪ":"K","Ꝃ":"K",Ḳ:"K",Ƙ:"K",Ḵ:"K","Ꝁ":"K","Ꝅ":"K",Ĺ:"L","Ƚ":"L",Ľ:"L",Ļ:"L",Ḽ:"L",Ḷ:"L",Ḹ:"L","Ⱡ":"L","Ꝉ":"L",Ḻ:"L",Ŀ:"L","Ɫ":"L",ǈ:"L",Ł:"L",Ǉ:"LJ",Ḿ:"M",Ṁ:"M",Ṃ:"M","Ɱ":"M",Ń:"N",Ň:"N",Ņ:"N",Ṋ:"N",Ṅ:"N",Ṇ:"N",Ǹ:"N",Ɲ:"N",Ṉ:"N","Ƞ":"N",ǋ:"N",Ñ:"N",Ǌ:"NJ",Ó:"O",Ŏ:"O",Ǒ:"O",Ô:"O",Ố:"O",Ộ:"O",Ồ:"O",Ổ:"O",Ỗ:"O",Ö:"O",Ȫ:"O",Ȯ:"O",Ȱ:"O",Ọ:"O",Ő:"O",Ȍ:"O",Ò:"O",Ỏ:"O",Ơ:"O",Ớ:"O",Ợ:"O",Ờ:"O",Ở:"O",Ỡ:"O",Ȏ:"O","Ꝋ":"O","Ꝍ":"O",Ō:"O",Ṓ:"O",Ṑ:"O",Ɵ:"O",Ǫ:"O",Ǭ:"O",Ø:"O",Ǿ:"O",Õ:"O",Ṍ:"O",Ṏ:"O",Ȭ:"O",Ƣ:"OI","Ꝏ":"OO",Ɛ:"E",Ɔ:"O",Ȣ:"OU",Ṕ:"P",Ṗ:"P","Ꝓ":"P",Ƥ:"P","Ꝕ":"P","Ᵽ":"P","Ꝑ":"P","Ꝙ":"Q","Ꝗ":"Q",Ŕ:"R",Ř:"R",Ŗ:"R",Ṙ:"R",Ṛ:"R",Ṝ:"R",Ȑ:"R",Ȓ:"R",Ṟ:"R","Ɍ":"R","Ɽ":"R","Ꜿ":"C",Ǝ:"E",Ś:"S",Ṥ:"S",Š:"S",Ṧ:"S",Ş:"S",Ŝ:"S",Ș:"S",Ṡ:"S",Ṣ:"S",Ṩ:"S",ß:"ss",Ť:"T",Ţ:"T",Ṱ:"T",Ț:"T","Ⱦ":"T",Ṫ:"T",Ṭ:"T",Ƭ:"T",Ṯ:"T",Ʈ:"T",Ŧ:"T","Ɐ":"A","Ꞁ":"L",Ɯ:"M","Ʌ":"V","Ꜩ":"TZ",Ú:"U",Ŭ:"U",Ǔ:"U",Û:"U",Ṷ:"U",Ü:"U",Ǘ:"U",Ǚ:"U",Ǜ:"U",Ǖ:"U",Ṳ:"U",Ụ:"U",Ű:"U",Ȕ:"U",Ù:"U",Ủ:"U",Ư:"U",Ứ:"U",Ự:"U",Ừ:"U",Ử:"U",Ữ:"U",Ȗ:"U",Ū:"U",Ṻ:"U",Ų:"U",Ů:"U",Ũ:"U",Ṹ:"U",Ṵ:"U","Ꝟ":"V",Ṿ:"V",Ʋ:"V",Ṽ:"V","Ꝡ":"VY",Ẃ:"W",Ŵ:"W",Ẅ:"W",Ẇ:"W",Ẉ:"W",Ẁ:"W","Ⱳ":"W",Ẍ:"X",Ẋ:"X",Ý:"Y",Ŷ:"Y",Ÿ:"Y",Ẏ:"Y",Ỵ:"Y",Ỳ:"Y",Ƴ:"Y",Ỷ:"Y","Ỿ":"Y",Ȳ:"Y","Ɏ":"Y",Ỹ:"Y",Ї:"YI",Ź:"Z",Ž:"Z",Ẑ:"Z","Ⱬ":"Z",Ż:"Z",Ẓ:"Z",Ȥ:"Z",Ẕ:"Z",Ƶ:"Z",Þ:"TH",Ĳ:"IJ",Œ:"OE","ᴀ":"A","ᴁ":"AE",ʙ:"B","ᴃ":"B","ᴄ":"C","ᴅ":"D","ᴇ":"E","ꜰ":"F",ɢ:"G",ʛ:"G",ʜ:"H",ɪ:"I",ʁ:"R","ᴊ":"J","ᴋ":"K",ʟ:"L","ᴌ":"L","ᴍ":"M",ɴ:"N","ᴏ":"O",ɶ:"OE","ᴐ":"O","ᴕ":"OU","ᴘ":"P",ʀ:"R","ᴎ":"N","ᴙ":"R","ꜱ":"S","ᴛ":"T","ⱻ":"E","ᴚ":"R","ᴜ":"U","ᴠ":"V","ᴡ":"W",ʏ:"Y","ᴢ":"Z",á:"a",ă:"a",ắ:"a",ặ:"a",ằ:"a",ẳ:"a",ẵ:"a",ǎ:"a",â:"a",ấ:"a",ậ:"a",ầ:"a",ẩ:"a",ẫ:"a",ä:"a",ǟ:"a",ȧ:"a",ǡ:"a",ạ:"a",ȁ:"a",à:"a",ả:"a",ȃ:"a",ā:"a",ą:"a","ᶏ":"a",ẚ:"a",å:"a",ǻ:"a",ḁ:"a","ⱥ":"a",ã:"a","ꜳ":"aa",æ:"ae",ǽ:"ae",ǣ:"ae","ꜵ":"ao","ꜷ":"au","ꜹ":"av","ꜻ":"av","ꜽ":"ay",ḃ:"b",ḅ:"b",ɓ:"b",ḇ:"b","ᵬ":"b","ᶀ":"b",ƀ:"b",ƃ:"b",ɵ:"o",ć:"c",č:"c",ç:"c",ḉ:"c",ĉ:"c",ɕ:"c",ċ:"c",ƈ:"c","ȼ":"c",ď:"d",ḑ:"d",ḓ:"d","ȡ":"d",ḋ:"d",ḍ:"d",ɗ:"d","ᶑ":"d",ḏ:"d","ᵭ":"d","ᶁ":"d",đ:"d",ɖ:"d",ƌ:"d",ð:"d",ı:"i","ȷ":"j",ɟ:"j",ʄ:"j",ǳ:"dz",ǆ:"dz",é:"e",ĕ:"e",ě:"e",ȩ:"e",ḝ:"e",ê:"e",ế:"e",ệ:"e",ề:"e",ể:"e",ễ:"e",ḙ:"e",ë:"e",ė:"e",ẹ:"e",ȅ:"e",è:"e",ẻ:"e",ȇ:"e",ē:"e",ḗ:"e",ḕ:"e","ⱸ":"e",ę:"e","ᶒ":"e","ɇ":"e",ẽ:"e",ḛ:"e","ꝫ":"et",ḟ:"f",ƒ:"f","ᵮ":"f","ᶂ":"f",ǵ:"g",ğ:"g",ǧ:"g",ģ:"g",ĝ:"g",ġ:"g",ɠ:"g",ḡ:"g","ᶃ":"g",ǥ:"g",ḫ:"h",ȟ:"h",ḩ:"h",ĥ:"h","ⱨ":"h",ḧ:"h",ḣ:"h",ḥ:"h",ɦ:"h",ẖ:"h",ħ:"h",ƕ:"hv",í:"i",ĭ:"i",ǐ:"i",î:"i",ï:"i",ḯ:"i",ị:"i",ȉ:"i",ì:"i",ỉ:"i",ȋ:"i",ī:"i",į:"i","ᶖ":"i",ɨ:"i",ĩ:"i",ḭ:"i",і:"i","ꝺ":"d","ꝼ":"f","ᵹ":"g","ꞃ":"r","ꞅ":"s","ꞇ":"t","ꝭ":"is",ǰ:"j",ĵ:"j",ʝ:"j","ɉ":"j",ḱ:"k",ǩ:"k",ķ:"k","ⱪ":"k","ꝃ":"k",ḳ:"k",ƙ:"k",ḵ:"k","ᶄ":"k","ꝁ":"k","ꝅ":"k",ĺ:"l",ƚ:"l",ɬ:"l",ľ:"l",ļ:"l",ḽ:"l","ȴ":"l",ḷ:"l",ḹ:"l","ⱡ":"l","ꝉ":"l",ḻ:"l",ŀ:"l",ɫ:"l","ᶅ":"l",ɭ:"l",ł:"l",ǉ:"lj",ſ:"s","ẜ":"s",ẛ:"s","ẝ":"s",ḿ:"m",ṁ:"m",ṃ:"m",ɱ:"m","ᵯ":"m","ᶆ":"m",ń:"n",ň:"n",ņ:"n",ṋ:"n","ȵ":"n",ṅ:"n",ṇ:"n",ǹ:"n",ɲ:"n",ṉ:"n",ƞ:"n","ᵰ":"n","ᶇ":"n",ɳ:"n",ñ:"n",ǌ:"nj",ó:"o",ŏ:"o",ǒ:"o",ô:"o",ố:"o",ộ:"o",ồ:"o",ổ:"o",ỗ:"o",ö:"o",ȫ:"o",ȯ:"o",ȱ:"o",ọ:"o",ő:"o",ȍ:"o",ò:"o",ỏ:"o",ơ:"o",ớ:"o",ợ:"o",ờ:"o",ở:"o",ỡ:"o",ȏ:"o","ꝋ":"o","ꝍ":"o","ⱺ":"o",ō:"o",ṓ:"o",ṑ:"o",ǫ:"o",ǭ:"o",ø:"o",ǿ:"o",õ:"o",ṍ:"o",ṏ:"o",ȭ:"o",ƣ:"oi","ꝏ":"oo",ɛ:"e","ᶓ":"e",ɔ:"o","ᶗ":"o",ȣ:"ou",ṕ:"p",ṗ:"p","ꝓ":"p",ƥ:"p","ᵱ":"p","ᶈ":"p","ꝕ":"p","ᵽ":"p","ꝑ":"p","ꝙ":"q",ʠ:"q","ɋ":"q","ꝗ":"q",ŕ:"r",ř:"r",ŗ:"r",ṙ:"r",ṛ:"r",ṝ:"r",ȑ:"r",ɾ:"r","ᵳ":"r",ȓ:"r",ṟ:"r",ɼ:"r","ᵲ":"r","ᶉ":"r","ɍ":"r",ɽ:"r","ↄ":"c","ꜿ":"c",ɘ:"e",ɿ:"r",ś:"s",ṥ:"s",š:"s",ṧ:"s",ş:"s",ŝ:"s",ș:"s",ṡ:"s",ṣ:"s",ṩ:"s",ʂ:"s","ᵴ":"s","ᶊ":"s","ȿ":"s",ɡ:"g","ᴑ":"o","ᴓ":"o","ᴝ":"u",ť:"t",ţ:"t",ṱ:"t",ț:"t","ȶ":"t",ẗ:"t","ⱦ":"t",ṫ:"t",ṭ:"t",ƭ:"t",ṯ:"t","ᵵ":"t",ƫ:"t",ʈ:"t",ŧ:"t","ᵺ":"th",ɐ:"a","ᴂ":"ae",ǝ:"e","ᵷ":"g",ɥ:"h","ʮ":"h","ʯ":"h","ᴉ":"i",ʞ:"k","ꞁ":"l",ɯ:"m",ɰ:"m","ᴔ":"oe",ɹ:"r",ɻ:"r",ɺ:"r","ⱹ":"r",ʇ:"t",ʌ:"v",ʍ:"w",ʎ:"y","ꜩ":"tz",ú:"u",ŭ:"u",ǔ:"u",û:"u",ṷ:"u",ü:"u",ǘ:"u",ǚ:"u",ǜ:"u",ǖ:"u",ṳ:"u",ụ:"u",ű:"u",ȕ:"u",ù:"u",ủ:"u",ư:"u",ứ:"u",ự:"u",ừ:"u",ử:"u",ữ:"u",ȗ:"u",ū:"u",ṻ:"u",ų:"u","ᶙ":"u",ů:"u",ũ:"u",ṹ:"u",ṵ:"u","ᵫ":"ue","ꝸ":"um","ⱴ":"v","ꝟ":"v",ṿ:"v",ʋ:"v","ᶌ":"v","ⱱ":"v",ṽ:"v","ꝡ":"vy",ẃ:"w",ŵ:"w",ẅ:"w",ẇ:"w",ẉ:"w",ẁ:"w","ⱳ":"w",ẘ:"w",ẍ:"x",ẋ:"x","ᶍ":"x",ý:"y",ŷ:"y",ÿ:"y",ẏ:"y",ỵ:"y",ỳ:"y",ƴ:"y",ỷ:"y","ỿ":"y",ȳ:"y",ẙ:"y","ɏ":"y",ỹ:"y",ї:"yi",ź:"z",ž:"z",ẑ:"z",ʑ:"z","ⱬ":"z",ż:"z",ẓ:"z",ȥ:"z",ẕ:"z","ᵶ":"z","ᶎ":"z",ʐ:"z",ƶ:"z","ɀ":"z",þ:"th",ﬀ:"ff",ﬃ:"ffi",ﬄ:"ffl",ﬁ:"fi",ﬂ:"fl",ĳ:"ij",œ:"oe",ﬆ:"st","ₐ":"a","ₑ":"e","ᵢ":"i","ⱼ":"j","ₒ":"o","ᵣ":"r","ᵤ":"u","ᵥ":"v","ₓ":"x",Ё:"YO",Й:"I",Ц:"TS",У:"U",К:"K",Е:"E",Н:"N",Г:"G",Ґ:"G",Ш:"SH",Щ:"SCH",З:"Z",Х:"H",Ъ:"'",ё:"yo",й:"i",ц:"ts",у:"u",к:"k",е:"e",н:"n",г:"g",ґ:"g",ш:"sh",щ:"sch",з:"z",х:"h",ъ:"'",Ф:"F",Ы:"I",В:"V",А:"a",П:"P",Р:"R",О:"O",Л:"L",Д:"D",Ж:"ZH",Э:"E",ф:"f",ы:"i",в:"v",а:"a",п:"p",р:"r",о:"o",л:"l",д:"d",ж:"zh",э:"e",Я:"Ya",Ч:"CH",С:"S",М:"M",И:"I",Т:"T",Ь:"'",Б:"B",Ю:"YU",я:"ya",ч:"ch",с:"s",м:"m",и:"i",т:"t",ь:"'",б:"b",ю:"yu"},n})})(FO);var rq=FO.exports;const sq=cr(rq),iq=/[^0-9a-z]/gi;function qa(e){return Xb(e).toLowerCase().normalize("NFKD").replace(iq,"")}function Xb(e){return sq(e)}function UO(e){return Xb(e).toLowerCase().replace(/[^a-z0-9\s-]/g,"").replace(/\s+/g,"-").replace(/-+$/,"").replace(/^-+/,"").replace(/-+/g,"-")}function Zb(e){return e.id?e.id:UO(`${e==null?void 0:e.artist}-${e==null?void 0:e.title}`)}const M2=(e,t,n)=>n>=e&&n<=t,P2=e=>e.notes.map(t=>t.lyrics).join(""),j2=e=>new Set(qa(e)).size,oq=(e,t)=>{const n=e.reduce((s,i)=>`${s}${P2(i)}`,""),r=P2(t);return j2(n)/j2(r)<.5},aq=(e,t)=>{const n=t.start,r=Jd(t),s=e.filter(o=>{const a=o.start,l=Jd(o);return M2(n,r,a)||M2(n,r,l)||a<=n&&l>=r}),i=oq(s,t);return{section:t,shouldReplace:s.length===0||i,sectionsToRemove:s}};function zO(e,t){if(e){if(e.length===1)return e[0]}else return e;const n=e.map(o=>o.sections.filter(Ct)),r=n[1].map(o=>aq(n[0],o));let s=[...n[0]];r.forEach((o,a)=>{o.shouldReplace&&(s=s.filter(l=>!o.sectionsToRemove.some(c=>c.start===l.start)),s.push(o.section))});const i={...e[0],sections:s.sort((o,a)=>o.start-a.start),changes:[]};return i.changes=Jb(i,t),i}const O2={R:"rap",F:"freestyle","*":"star",":":"normal",G:"rapstar"},D_e={rap:"R",freestyle:"F",star:"*",normal:":",rapstar:"G"},lq=["TRACKNAMES","YEAR","EDITION","GENRE","LANGUAGE","VIDEOGAP","PREVIEWSTART","CREATOR","TITLE","ARTIST","BPM","GAP","ID","LASTUPDATE","VOLUME","REALBPM","PREVIEWEND","CREATORURL","SOURCEURL","ARTISTORIGIN","VIDEOID","ALLKARAOKE_ID","ALLKARAOKE_LASTUPDATE","ALLKARAOKE_VOLUME","ALLKARAOKE_REALBPM","ALLKARAOKE_PREVIEWEND","ALLKARAOKE_CREATORURL","ALLKARAOKE_SOURCEURL","ALLKARAOKE_ARTISTORIGIN","ALLKARAOKE_VIDEOID"];function cq(e){return e.split(`
`).filter(t=>t.startsWith("#")&&!lq.includes(t.substring(1).split(":")[0]))}function Pt(e,t,n="string"){const r=s=>{var a;const i=new RegExp(`#${s}\\:(.*)`),o=(a=e.match(i))==null?void 0:a[1];if(o!==void 0)return n==="number"?Number(o.replace(",","."))??0:n==="array"?o.split(", "):o};return t.map(r).filter(JG).at(0)}function uq(e){var r;const t=Pt(e,["VIDEO"])??"",n=new RegExp("v=(.*?)(,|$)");return(r=t.match(n))==null?void 0:r[1]}const dq=/- -?\d+ -?\d+/;function V2(e){try{const t=new URL(e);return t.host==="youtu.be"?t.pathname.substring(1):t.host==="www.youtube.com"||t.host==="youtube.com"?t.searchParams.get("v"):null}catch{return null}}function fq(e,t){try{return JSON.parse(e)}catch{return t}}function hq(e){const t=Pt(e,["P1"]),n=Pt(e,["P2"]);return t||n?[t,n]:fq(Pt(e,["TRACKNAMES"]),[])}function pq(e,t,n,r,s){var p,g;const i=hq(e),o={year:Pt(e,["YEAR"]),artistOrigin:Pt(e,["ALLKARAOKE_ARTISTORIGIN","ARTISTORIGIN"]),lastUpdate:Pt(e,["ALLKARAOKE_LASTUPDATE","LASTUPDATE"]),edition:Pt(e,["EDITION"]),genre:Pt(e,["GENRE"]),videoGap:Pt(e,["VIDEOGAP"],"number"),realBpm:Pt(e,["ALLKARAOKE_REALBPM","REALBPM"],"number"),previewStart:Pt(e,["PREVIEWSTART"],"number"),previewEnd:Pt(e,["ALLKARAOKE_PREVIEWEND","PREVIEWEND"],"number"),volume:Pt(e,["ALLKARAOKE_VOLUME","VOLUME"],"number"),author:Pt(e,["CREATOR"])??n,authorUrl:Pt(e,["ALLKARAOKE_CREATORURL","CREATORURL"])??r,sourceUrl:Pt(e,["ALLKARAOKE_SOURCEURL","SOURCEURL"])??s};o.videoGap&&(o.videoGap=Math.floor(o.videoGap));const a=Pt(e,["TITLE"])??"",l=Pt(e,["ARTIST"])??"",c=Pt(e,["ALLKARAOKE_VIDEOID","VIDEOID"])??V2(Pt(e,["AUDIOURL"])??"")??V2(Pt(e,["VIDEOURL"])??"")??uq(e)??"",u={id:Pt(e,["ALLKARAOKE_ID","ID"])??Zb({title:a,artist:l}),title:a,artist:l,video:c,language:Pt(e,["LANGUAGE"],"array")??[],bpm:Number(((p=Pt(e,["BPM"]))==null?void 0:p.replace(",","."))??0),bar:4,gap:Number(((g=Pt(e,["GAP"]))==null?void 0:g.replace(",","."))??0),...o,tracks:[],unsupportedProps:cq(e),mergedTrack:{}};if((t==null?void 0:t.length)===11)u.video=t;else if(t)try{const m=new URL(t);u.video=m.searchParams.get("v")||"Invalid link"}catch(m){u.video=`Invalid link: ${m.message}`}let d=[],h=0;return e.split(`
`).forEach(m=>{if(m.startsWith("#"))return;const _=m.split(" ");if(Number(_[1])<h*.75&&d.length&&(i[u.tracks.length]?u.tracks.push({sections:d,name:i[u.tracks.length],changes:[]}):u.tracks.push({sections:d,changes:[]}),d=[]),dq.test(m)){const[,v,y]=_;d.push({start:Number(v),end:Number(y),type:"pause"}),d.push({start:Number(y),type:"notes",notes:[]}),h=Number(y)}else if(m.startsWith("-"))d.push({start:Number(m.split("-")[1].trim()),notes:[],type:"notes"});else if(Object.keys(O2).includes(m[0])){d.length===0&&(d=[{start:0,notes:[],type:"notes"}]);const v=d[d.length-1],[y,b,w,S,...x]=_;v.notes.push({type:O2[y]??"normal",start:Number(b),length:Number(w),pitch:Number(S),lyrics:x.join(" ")}),h=Number(_[1])}}),i[u.tracks.length]?u.tracks.push({sections:d,name:i[u.tracks.length],changes:[]}):u.tracks.push({sections:d,changes:[]}),u.tracks=u.tracks.map(m=>({...m,sections:m.sections.filter(_=>_.type==="pause"||_.notes.length),changes:[]})).map(m=>({...m,changes:Jb(m,u)})),u.mergedTrack=zO(u.tracks,u),u}const HO="CURRENT_VISIT_KEY",GO="LAST_VISIT_KEY",gq=3*60*60*1e3,nv=Date.now(),Ly=Number($e.local.getItem(HO)??nv),qO=$e.local.getItem("posthog-user-id")===null,mq=qO?nv:1673642382501;let WO=Number($e.local.getItem(GO)??mq);(qO||nv-Ly>gq)&&($e.local.setItem(GO,String(Ly)),WO=Ly);$e.local.setItem(HO,String(nv));const vq=e=>qa(`${e.artist}${e.title}`),yq=({bar:e,unsupportedProps:t,mergedTrack:n,...r},s=!1)=>({...r,id:Zb(r),language:Array.isArray(r.language)?r.language:[r.language],tracksCount:r.tracks.length,tracks:r.tracks.map(({name:i,sections:o})=>({name:i,start:oa(o)})),search:vq(r),local:s});let $y=null;const Ro=()=>($y||($y=sl.createInstance({name:"songs_v2"})),$y),Oh="DELETED_SONGS_V2";class Aq{constructor(){this.finalIndex=null,this.indexWithDeletedSongs=null,this.store=async t=>{await Ro().setItem(this.generateSongFile(t),{...t,lastUpdate:new Date().toISOString()}),await this.reloadIndex()},this.get=async t=>{const n=await this.getLocal(t);return n||await fetch(`/songs/${t}.txt`).then(r=>r.text()).then(pq)},this.getIndex=async(t=!1)=>(this.finalIndex===null&&await this.reloadIndex(),t?this.indexWithDeletedSongs:this.finalIndex),this.getCurrentIndex=()=>this.finalIndex,this.getDeletedSongsList=async()=>await Ro().getItem(Oh)??[],this.generateSongFile=t=>Zb(t),this.reloadIndex=async()=>{const[t,n,r]=await Promise.all([fetch("/songs/index.json").then(a=>a.json()),this.getLocalIndex(),this.getDeletedSongsList()]),s=ii(WO),i=n.filter(a=>{const l=t.find(c=>c.id===a.id);return l?ii(a.lastUpdate??0).isAfter(ii(l.lastUpdate??0)):!0}),o=i.map(a=>a.id);n.forEach(a=>{o.includes(a.id)||Ro().removeItem(a.id)}),this.indexWithDeletedSongs=[...i,...t.filter(a=>!o.includes(this.generateSongFile(a)))].map(a=>({...a,isNew:a.lastUpdate?ii(a.lastUpdate).isAfter(s):!1,isDeleted:r==null?void 0:r.includes(this.generateSongFile(a))})),this.indexWithDeletedSongs.sort((a,l)=>`${a.artist} ${a.title}`.localeCompare(`${l.artist} ${l.title}`.toLowerCase())),this.finalIndex=this.indexWithDeletedSongs.filter(a=>!a.isDeleted)},this.deleteSong=async t=>(await Ro().removeItem(t),this.reloadIndex()),this.softDeleteSong=async t=>{const n=await this.getDeletedSongsList();return await Ro().setItem(Oh,[...new Set([...n,t])]),this.reloadIndex()},this.restoreSong=async t=>{const n=await this.getDeletedSongsList();return await Ro().setItem(Oh,n.filter(r=>r!==t)),this.reloadIndex()},this.getLocal=async t=>{const n=await Ro().getItem(decodeURIComponent(t));return n&&n.tracks?{...n,language:Array.isArray(n.language)?n.language:[n.language],mergedTrack:zO(n.tracks,n),tracks:n.tracks.map(r=>({...r,changes:Jb(r,n)}))}:null},this.getLocalIndex=async()=>(await Promise.all((await this.getKeys()).map(this.getLocal))).filter(n=>n!==null).map(n=>{try{return yq(n,!0)}catch(r){return console.error(r),null}}).filter(n=>n!==null),this.getKeys=async()=>{const t=[Oh];return(await Ro().keys()).filter(n=>!t.includes(n))}}}const zi=new Aq,L2="room_id_key",Rp=5;class _q{constructor(){var t;if(this.gameCode=$e.session.getItem(L2),this.started=!1,this.start=()=>{this.transport||(this.transport=fg.get()?new KG:new WG),!this.started&&(this.started=!0,console.log("connection started",this.getGameCode()),$e.session.setItem(L2,this.gameCode),this.transport.connect(this.getGameCode(),()=>{this.transport.addListener((n,r)=>{var i;const s=n.t;if(s==="register")Xe.addRemoteMic(n.id,n.name,r,n.silent,n.lag);else if(s==="unregister")Xe.removeRemoteMic(r.peer,!0);else if(s==="subscribe-event")Xe.addSubscription(r.peer,n.channel);else if(s==="unsubscribe-event")Xe.removeSubscription(r.peer,n.channel);else if(s==="ping")r.send({t:"pong"});else if(s==="pong")(i=Xe.getRemoteMicById(r.peer))==null||i.onPong();else if(s==="request-songlist")Promise.all([zi.getLocalIndex(),zi.getDeletedSongsList()]).then(([o,a])=>{r.send({t:"songlist",custom:o.map(l=>({artist:l.artist,title:l.title,video:l.video,language:l.language})),deleted:a})});else if(s==="get-microphone-lag-request"){const o=Xe.getRemoteMicById(r.peer);o&&r.send({t:"get-microphone-lag-response",value:o.getInput().getInputLag()})}else if(s==="set-microphone-lag-request"){const o=Xe.getRemoteMicById(r.peer);o&&(o.getInput().setInputLag(n.value),r.send({t:"get-microphone-lag-response",value:o.getInput().getInputLag()}))}else Xe.getPermission(r.peer)==="write"&&(s==="keystroke"?te.remoteKeyboardPressed.dispatch(n.key):s==="search-song"?te.remoteSongSearch.dispatch(n.search):s==="request-mic-select"?te.playerChangeRequested.dispatch(n.id,n.playerNumber):s==="get-game-input-lag-request"?r.send({t:"get-game-input-lag-response",value:pd.get()}):s==="set-game-input-lag-request"&&(pd.set(n.value),r.send({t:"get-game-input-lag-response",value:pd.get()})))})},()=>{this.started=!1}))},this.getGameCode=()=>(fg.get()?"w":"p")+this.gameCode,!this.gameCode){this.gameCode="";for(let n=0;n<Rp-1;n++)this.gameCode+=String.fromCharCode(Math.floor(Math.random()*26)+97)}(t=global==null?void 0:global.addEventListener)==null||t.call(global,"beforeunload",()=>{var n;Xe.getRemoteMics().forEach(r=>r.connection.close()),(n=this.transport)==null||n.disconnect()})}}const bg=new _q,ol=e=>`${e.deviceId};${e.channel}`,$2=[{channels:2,channel:1,label:"Drawing Test Input",id:ol({deviceId:"default",channel:1}),deviceId:"default"}],Oa=class Oa{};Oa.inputName="DrawingTest",Oa.getDefault=()=>$2[0],Oa.getInputs=async()=>$2,Oa.subscribeToListChange=t=>{},Oa.unsubscribeToListChange=t=>{};let X0=Oa;const B2=[{channels:2,channel:0,label:"Dummy Input 1",id:ol({deviceId:"default",channel:0}),deviceId:"default"},{channels:2,channel:1,label:"Dummy Input 2",id:ol({deviceId:"default",channel:1}),deviceId:"default"}],Va=class Va{};Va.inputName="Dummy",Va.getDefault=()=>B2[0],Va.getInputs=async()=>B2,Va.subscribeToListChange=t=>{},Va.unsubscribeToListChange=t=>{};let Sg=Va;var bq=Math.ceil,Sq=Math.max;function wq(e,t,n,r){for(var s=-1,i=Sq(bq((t-e)/(n||1)),0),o=Array(i);i--;)o[r?i:++s]=e,e+=n;return o}var xq=9007199254740991;function eS(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=xq}function tS(e){return e!=null&&eS(e.length)&&!TO(e)}var Eq=9007199254740991,kq=/^(?:0|[1-9]\d*)$/;function nS(e,t){var n=typeof e;return t=t??Eq,!!t&&(n=="number"||n!="symbol"&&kq.test(e))&&e>-1&&e%1==0&&e<t}function KO(e,t,n){if(!pi(n))return!1;var r=typeof t;return(r=="number"?tS(n)&&nS(t,n.length):r=="string"&&t in n)?Ym(n[t],e):!1}var N2=1/0,Cq=17976931348623157e292;function Mp(e){if(!e)return e===0?e:0;if(e=Y0(e),e===N2||e===-N2){var t=e<0?-1:1;return t*Cq}return e===e?e:0}function Iq(e){return function(t,n,r){return r&&typeof r!="number"&&KO(t,n,r)&&(n=r=void 0),t=Mp(t),n===void 0?(n=t,t=0):n=Mp(n),r=r===void 0?t<n?1:-1:Mp(r),wq(t,n,r,e)}}var Tq=Iq();const Z0={test:e=>e.toLowerCase().includes("wireless mic #")||e.toLowerCase().includes("sony wireless singstar"),map:(e,t)=>`SingStar Wireless - ${t===0?"Blue":"Red"}`},e1={test:e=>e.toLowerCase().includes("usbmic serial#")||e.toLowerCase().includes("singstar"),map:(e,t)=>`SingStar Wired - ${t===0?"Blue":"Red"}`},t1={test:(e,t,n)=>n===2&&e.toLowerCase().includes("singstar"),map:(e,t)=>`SingStar Mic - ${t===0?"Blue":"Red"}`},Rq=(...[e,t,n])=>e1.test(e,t,n)||Z0.test(e,t,n)||t1.test(e,t,n)?t:void 0,Mq=(e,t,n)=>Z0.test(e,t,n)?Z0.map(e,t):e1.test(e,t,n)?e1.map(e,t):t1.test(e,t,n)?t1.map(e,t):n>1?`${e} (ch ${t+1})`:e,_s=class _s{};_s.inputList=[],_s.inputName="Microphone",_s.getDefault=()=>_s.inputList.find(t=>t.id===ol({deviceId:"default",channel:0}))??_s.inputList[0]??null,_s.getInputs=async()=>{let t=[];try{await Jo.getUserMedia({audio:!0,video:!1}),t=await Jo.enumerateDevices()}catch(r){Fi(r,{level:"warning",extra:{message:"Microphone.getInputs"}}),console.warn(r)}const n=await Promise.all(t.filter(r=>r.kind==="audioinput").map(async r=>{let s=1;try{s=(await Jo.getUserMedia({audio:{deviceId:{exact:r.deviceId},echoCancellation:{exact:!1}},video:!1})).getAudioTracks()[0].getSettings().channelCount??1}catch(i){console.warn(i)}return Tq(0,s).map(i=>({label:Mq(r.label,i,s),channel:i,channels:s,deviceId:r.deviceId,id:ol({deviceId:r.deviceId,channel:i}),preferred:Rq(r.label,i,s)}))}));return _s.inputList=n.flat(),_s.inputList},_s.subscribeToListChange=t=>navigator.mediaDevices.addEventListener("devicechange",t),_s.unsubscribeToListChange=t=>navigator.mediaDevices.removeEventListener("devicechange",t);let lo=_s;const D2=e=>({label:`📱${e.name}`,id:ol({deviceId:e.id,channel:0}),deviceId:e.id,channels:1,channel:0}),La=class La{};La.inputName="Remote Microphone",La.getDefault=()=>Xe.getRemoteMics().map(D2)[0]??null,La.getInputs=async()=>Xe.getRemoteMics().map(D2),La.subscribeToListChange=t=>{te.remoteMicConnected.subscribe(t),te.remoteMicDisconnected.subscribe(t)},La.unsubscribeToListChange=t=>{te.remoteMicConnected.unsubscribe(t),te.remoteMicDisconnected.unsubscribe(t)};let po=La;const Pq=e=>`${e.deviceId};${e.channel}`;class jq{constructor(){this.initialiseInputSource=(t,n=!1)=>(n||t.getInputs().then(r=>{this.inputList[t.inputName].list=r,te.inputListChanged.dispatch(!0),t.subscribeToListChange(async()=>{this.inputList[t.inputName].list=await t.getInputs(),te.inputListChanged.dispatch(!1)})}),{list:[],getDefault:t.getDefault}),this.loadMics=()=>{this.inputList.Microphone.list.length||(this.inputList.Microphone=this.initialiseInputSource(lo))},this.getInputList=()=>this.inputList,this.getInputForPlayerSelected=(t,n=!0)=>{const r=this.inputList[t.source];return r.list.find(s=>s.id===Pq(t))??(n?r.getDefault():null)},this.inputList={[lo.inputName]:this.initialiseInputSource(lo,!0),[Sg.inputName]:this.initialiseInputSource(Sg),[po.inputName]:this.initialiseInputSource(po)}}}const go=new jq,F2="playerselectedinputs",wg=4,pm=class pm{constructor(t,n,r){this.number=t,this.input=n,this.name=r,this.nameOverride="",this.changeInput=(s,i=0,o)=>{let a=null;dn.monitoringStarted()&&(a=dn.stopMonitoring());const l={source:s,deviceId:o,channel:i},c=this.input;this.input=l,te.playerInputChanged.dispatch(this.number,c,l),a&&a.then(dn.startMonitoring)},this.toJSON=()=>({number:this.number,input:this.input,name:this.name}),this.getName=()=>this.nameOverride||(this.name??`Player #${this.number+1}`),this.isDefaultName=()=>this.name===void 0,this.setName=s=>{const i=this.name;this.name=s,te.playerNameChanged.dispatch(this.number,i)}}};pm.fromJSON=t=>new pm(t.number,t.input,t.name);let Xl=pm;class Oq{constructor(){this.minPlayerNumber=2,this.players=[],this.requestingPromise=null,this.storePlayers=()=>{$e.session.setItem(F2,this.getPlayers().map(n=>n.toJSON()))},this.requestReadiness=async()=>(this.requestingPromise||(this.requestingPromise=new Promise(n=>{const r=async()=>{!this.getPlayers().filter(i=>i.input.source==="Remote Microphone").some(i=>go.getInputForPlayerSelected(i.input,!1)===null)&&(await Promise.all(this.getPlayers().map(i=>dn.sourceNameToInput(i.input.source).requestReadiness(i.input.deviceId).then(()=>{te.readinessConfirmed.dispatch(i.input.deviceId)}))),te.inputListChanged.unsubscribe(r),this.requestingPromise=null,n(!0))};te.inputListChanged.subscribe(r),r()})),this.requestingPromise),this.getPlayers=()=>this.players,this.getPlayer=n=>this.players.find(r=>r.number===n),this.getMinPlayerNumber=()=>this.minPlayerNumber,this.setMinPlayerNumber=n=>{const r=this.minPlayerNumber;this.minPlayerNumber=n,te.minPlayerNumberChanged.dispatch(r,n)},this.addPlayer=n=>{if(Ve.isPlaying()||this.getPlayer(n))return;const r=new Xl(n,{source:"Dummy",deviceId:"default",channel:0});return this.players.push(r),this.storePlayers(),te.playerAdded.dispatch(r.number),te.playerInputChanged.dispatch(r.number,void 0,r.input),r},this.removePlayer=n=>{if(Ve.isPlaying())return;const r=this.getPlayer(n);r&&(this.players=this.players.filter(s=>s.number!==n),this.players.length<this.minPlayerNumber&&this.addPlayer(new Array(wg).fill(0).find((s,i)=>!this.players.find(o=>o.number===i))),this.storePlayers(),te.playerRemoved.dispatch(r))},this.getInputs=()=>this.getPlayers().map(n=>n.input);const t=$e.session.getItem(F2)??[];t.length?(this.players=t.map(Xl.fromJSON),this.getPlayers().some(n=>n.input.source==="Microphone")&&go.loadMics(),this.getPlayers().some(n=>n.input.source==="Remote Microphone")&&bg.start()):this.players=[new Xl(0,{source:"Dummy",deviceId:"default",channel:0}),new Xl(1,{source:"Dummy",deviceId:"default",channel:1})],te.playerInputChanged.subscribe((n,r,s)=>{const i=this.getPlayer(n);if(!(!s||!i)){if(s.source==="Remote Microphone"){const o=Xe.getRemoteMicById(s.deviceId);o&&(i.nameOverride=o.name)}else i.nameOverride="";this.storePlayers()}}),te.playerNameChanged.subscribe(EO(this.storePlayers,1e3)),te.remoteMicConnected.subscribe(({id:n,name:r})=>{this.getPlayers().forEach(s=>{s.input.source==="Remote Microphone"&&s.input.deviceId===n&&s.getName()!==r&&(s.nameOverride=r)})})}}const Re=new Oq;class Vq{constructor(){this.isMonitoring=!1,this.getInputStatus=t=>{const n=Re.getPlayer(t);return n?this.sourceNameToInput(n.input.source).getStatus(n.input.deviceId,n.input.channel):"unavailable"},this.getPlayerFrequency=t=>{var s;const n=(s=Re.getPlayer(t))==null?void 0:s.input;return n?this.sourceNameToInput(n.source).getFrequencies(n.deviceId)[n.channel]:0},this.clearPlayerCachedFrequencies=t=>{var r;const n=(r=Re.getPlayer(t))==null?void 0:r.input;if(!n)return 0;this.sourceNameToInput(n.source).clearFrequencies(n.deviceId)},this.getPlayerVolume=t=>{var s;const n=(s=Re.getPlayer(t))==null?void 0:s.input;return n?this.sourceNameToInput(n.source).getVolumes(n.deviceId)[n.channel]:0},this.getPlayerInputLag=t=>{var r;const n=(r=Re.getPlayer(t))==null?void 0:r.input;return n?this.sourceNameToInput(n.source).getInputLag(n.deviceId):0},this.startMonitoring=async()=>{await Promise.all(Re.getPlayers().map(t=>this.sourceNameToInput(t.input.source).startMonitoring(t.input.deviceId))),this.isMonitoring=!0},this.stopMonitoring=async()=>{await Promise.all(Re.getPlayers().map(t=>this.sourceNameToInput(t.input.source).stopMonitoring(t.input.deviceId))),this.isMonitoring=!1},this.monitoringStarted=()=>this.isMonitoring,this.sourceNameToInput=t=>t===lo.inputName?Jz:t===X0.inputName?R6:t===po.inputName?Zz:P6,te.inputListChanged.subscribe(async()=>{this.isMonitoring&&(await this.stopMonitoring(),this.startMonitoring())})}}const dn=new Vq;function YO(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=YO(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}function Ho(){for(var e,t,n=0,r="";n<arguments.length;)(e=arguments[n++])&&(t=YO(e))&&(r&&(r+=" "),r+=t);return r}const Ad=e=>typeof e=="number"&&!isNaN(e),al=e=>typeof e=="string",Br=e=>typeof e=="function",Pp=e=>al(e)||Br(e)?e:null,By=e=>A.isValidElement(e)||al(e)||Br(e)||Ad(e);function Lq(e,t,n){n===void 0&&(n=300);const{scrollHeight:r,style:s}=e;requestAnimationFrame(()=>{s.minHeight="initial",s.height=r+"px",s.transition=`all ${n}ms`,requestAnimationFrame(()=>{s.height="0",s.padding="0",s.margin="0",setTimeout(t,n)})})}function rv(e){let{enter:t,exit:n,appendPosition:r=!1,collapse:s=!0,collapseDuration:i=300}=e;return function(o){let{children:a,position:l,preventExitTransition:c,done:u,nodeRef:d,isIn:h}=o;const p=r?`${t}--${l}`:t,g=r?`${n}--${l}`:n,m=A.useRef(0);return A.useLayoutEffect(()=>{const _=d.current,v=p.split(" "),y=b=>{b.target===d.current&&(_.dispatchEvent(new Event("d")),_.removeEventListener("animationend",y),_.removeEventListener("animationcancel",y),m.current===0&&b.type!=="animationcancel"&&_.classList.remove(...v))};_.classList.add(...v),_.addEventListener("animationend",y),_.addEventListener("animationcancel",y)},[]),A.useEffect(()=>{const _=d.current,v=()=>{_.removeEventListener("animationend",v),s?Lq(_,u,i):u()};h||(c?v():(m.current=1,_.className+=` ${g}`,_.addEventListener("animationend",v)))},[h]),xe.createElement(xe.Fragment,null,a)}}function U2(e,t){return e!=null?{content:e.content,containerId:e.props.containerId,id:e.props.toastId,theme:e.props.theme,type:e.props.type,data:e.props.data||{},isLoading:e.props.isLoading,icon:e.props.icon,status:t}:{}}const ws={list:new Map,emitQueue:new Map,on(e,t){return this.list.has(e)||this.list.set(e,[]),this.list.get(e).push(t),this},off(e,t){if(t){const n=this.list.get(e).filter(r=>r!==t);return this.list.set(e,n),this}return this.list.delete(e),this},cancelEmit(e){const t=this.emitQueue.get(e);return t&&(t.forEach(clearTimeout),this.emitQueue.delete(e)),this},emit(e){this.list.has(e)&&this.list.get(e).forEach(t=>{const n=setTimeout(()=>{t(...[].slice.call(arguments,1))},0);this.emitQueue.has(e)||this.emitQueue.set(e,[]),this.emitQueue.get(e).push(n)})}},Vh=e=>{let{theme:t,type:n,...r}=e;return xe.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:t==="colored"?"currentColor":`var(--toastify-icon-color-${n})`,...r})},Ny={info:function(e){return xe.createElement(Vh,{...e},xe.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))},warning:function(e){return xe.createElement(Vh,{...e},xe.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))},success:function(e){return xe.createElement(Vh,{...e},xe.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))},error:function(e){return xe.createElement(Vh,{...e},xe.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))},spinner:function(){return xe.createElement("div",{className:"Toastify__spinner"})}};function $q(e){const[,t]=A.useReducer(p=>p+1,0),[n,r]=A.useState([]),s=A.useRef(null),i=A.useRef(new Map).current,o=p=>n.indexOf(p)!==-1,a=A.useRef({toastKey:1,displayedToast:0,count:0,queue:[],props:e,containerId:null,isToastActive:o,getToast:p=>i.get(p)}).current;function l(p){let{containerId:g}=p;const{limit:m}=a.props;!m||g&&a.containerId!==g||(a.count-=a.queue.length,a.queue=[])}function c(p){r(g=>p==null?[]:g.filter(m=>m!==p))}function u(){const{toastContent:p,toastProps:g,staleId:m}=a.queue.shift();h(p,g,m)}function d(p,g){let{delay:m,staleId:_,...v}=g;if(!By(p)||function(Q){return!s.current||a.props.enableMultiContainer&&Q.containerId!==a.props.containerId||i.has(Q.toastId)&&Q.updateId==null}(v))return;const{toastId:y,updateId:b,data:w}=v,{props:S}=a,x=()=>c(y),E=b==null;E&&a.count++;const T={...S,style:S.toastStyle,key:a.toastKey++,...Object.fromEntries(Object.entries(v).filter(Q=>{let[P,L]=Q;return L!=null})),toastId:y,updateId:b,data:w,closeToast:x,isIn:!1,className:Pp(v.className||S.toastClassName),bodyClassName:Pp(v.bodyClassName||S.bodyClassName),progressClassName:Pp(v.progressClassName||S.progressClassName),autoClose:!v.isLoading&&(U=v.autoClose,$=S.autoClose,U===!1||Ad(U)&&U>0?U:$),deleteToast(){const Q=U2(i.get(y),"removed");i.delete(y),ws.emit(4,Q);const P=a.queue.length;if(a.count=y==null?a.count-a.displayedToast:a.count-1,a.count<0&&(a.count=0),P>0){const L=y==null?a.props.limit:1;if(P===1||L===1)a.displayedToast++,u();else{const M=L>P?P:L;a.displayedToast=M;for(let I=0;I<M;I++)u()}}else t()}};var U,$;T.iconOut=function(Q){let{theme:P,type:L,isLoading:M,icon:I}=Q,z=null;const j={theme:P,type:L};return I===!1||(Br(I)?z=I(j):A.isValidElement(I)?z=A.cloneElement(I,j):al(I)||Ad(I)?z=I:M?z=Ny.spinner():(N=>N in Ny)(L)&&(z=Ny[L](j))),z}(T),Br(v.onOpen)&&(T.onOpen=v.onOpen),Br(v.onClose)&&(T.onClose=v.onClose),T.closeButton=S.closeButton,v.closeButton===!1||By(v.closeButton)?T.closeButton=v.closeButton:v.closeButton===!0&&(T.closeButton=!By(S.closeButton)||S.closeButton);let D=p;A.isValidElement(p)&&!al(p.type)?D=A.cloneElement(p,{closeToast:x,toastProps:T,data:w}):Br(p)&&(D=p({closeToast:x,toastProps:T,data:w})),S.limit&&S.limit>0&&a.count>S.limit&&E?a.queue.push({toastContent:D,toastProps:T,staleId:_}):Ad(m)?setTimeout(()=>{h(D,T,_)},m):h(D,T,_)}function h(p,g,m){const{toastId:_}=g;m&&i.delete(m);const v={content:p,props:g};i.set(_,v),r(y=>[...y,_].filter(b=>b!==m)),ws.emit(4,U2(v,v.props.updateId==null?"added":"updated"))}return A.useEffect(()=>(a.containerId=e.containerId,ws.cancelEmit(3).on(0,d).on(1,p=>s.current&&c(p)).on(5,l).emit(2,a),()=>{i.clear(),ws.emit(3,a)}),[]),A.useEffect(()=>{a.props=e,a.isToastActive=o,a.displayedToast=n.length}),{getToastToRender:function(p){const g=new Map,m=Array.from(i.values());return e.newestOnTop&&m.reverse(),m.forEach(_=>{const{position:v}=_.props;g.has(v)||g.set(v,[]),g.get(v).push(_)}),Array.from(g,_=>p(_[0],_[1]))},containerRef:s,isToastActive:o}}function z2(e){return e.targetTouches&&e.targetTouches.length>=1?e.targetTouches[0].clientX:e.clientX}function H2(e){return e.targetTouches&&e.targetTouches.length>=1?e.targetTouches[0].clientY:e.clientY}function Bq(e){const[t,n]=A.useState(!1),[r,s]=A.useState(!1),i=A.useRef(null),o=A.useRef({start:0,x:0,y:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,boundingRect:null,didMove:!1}).current,a=A.useRef(e),{autoClose:l,pauseOnHover:c,closeToast:u,onClick:d,closeOnClick:h}=e;function p(w){if(e.draggable){w.nativeEvent.type==="touchstart"&&w.nativeEvent.preventDefault(),o.didMove=!1,document.addEventListener("mousemove",v),document.addEventListener("mouseup",y),document.addEventListener("touchmove",v),document.addEventListener("touchend",y);const S=i.current;o.canCloseOnClick=!0,o.canDrag=!0,o.boundingRect=S.getBoundingClientRect(),S.style.transition="",o.x=z2(w.nativeEvent),o.y=H2(w.nativeEvent),e.draggableDirection==="x"?(o.start=o.x,o.removalDistance=S.offsetWidth*(e.draggablePercent/100)):(o.start=o.y,o.removalDistance=S.offsetHeight*(e.draggablePercent===80?1.5*e.draggablePercent:e.draggablePercent/100))}}function g(w){if(o.boundingRect){const{top:S,bottom:x,left:E,right:T}=o.boundingRect;w.nativeEvent.type!=="touchend"&&e.pauseOnHover&&o.x>=E&&o.x<=T&&o.y>=S&&o.y<=x?_():m()}}function m(){n(!0)}function _(){n(!1)}function v(w){const S=i.current;o.canDrag&&S&&(o.didMove=!0,t&&_(),o.x=z2(w),o.y=H2(w),o.delta=e.draggableDirection==="x"?o.x-o.start:o.y-o.start,o.start!==o.x&&(o.canCloseOnClick=!1),S.style.transform=`translate${e.draggableDirection}(${o.delta}px)`,S.style.opacity=""+(1-Math.abs(o.delta/o.removalDistance)))}function y(){document.removeEventListener("mousemove",v),document.removeEventListener("mouseup",y),document.removeEventListener("touchmove",v),document.removeEventListener("touchend",y);const w=i.current;if(o.canDrag&&o.didMove&&w){if(o.canDrag=!1,Math.abs(o.delta)>o.removalDistance)return s(!0),void e.closeToast();w.style.transition="transform 0.2s, opacity 0.2s",w.style.transform=`translate${e.draggableDirection}(0)`,w.style.opacity="1"}}A.useEffect(()=>{a.current=e}),A.useEffect(()=>(i.current&&i.current.addEventListener("d",m,{once:!0}),Br(e.onOpen)&&e.onOpen(A.isValidElement(e.children)&&e.children.props),()=>{const w=a.current;Br(w.onClose)&&w.onClose(A.isValidElement(w.children)&&w.children.props)}),[]),A.useEffect(()=>(e.pauseOnFocusLoss&&(document.hasFocus()||_(),window.addEventListener("focus",m),window.addEventListener("blur",_)),()=>{e.pauseOnFocusLoss&&(window.removeEventListener("focus",m),window.removeEventListener("blur",_))}),[e.pauseOnFocusLoss]);const b={onMouseDown:p,onTouchStart:p,onMouseUp:g,onTouchEnd:g};return l&&c&&(b.onMouseEnter=_,b.onMouseLeave=m),h&&(b.onClick=w=>{d&&d(w),o.canCloseOnClick&&u()}),{playToast:m,pauseToast:_,isRunning:t,preventExitTransition:r,toastRef:i,eventHandlers:b}}function QO(e){let{closeToast:t,theme:n,ariaLabel:r="close"}=e;return xe.createElement("button",{className:`Toastify__close-button Toastify__close-button--${n}`,type:"button",onClick:s=>{s.stopPropagation(),t(s)},"aria-label":r},xe.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},xe.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function Nq(e){let{delay:t,isRunning:n,closeToast:r,type:s="default",hide:i,className:o,style:a,controlledProgress:l,progress:c,rtl:u,isIn:d,theme:h}=e;const p=i||l&&c===0,g={...a,animationDuration:`${t}ms`,animationPlayState:n?"running":"paused",opacity:p?0:1};l&&(g.transform=`scaleX(${c})`);const m=Ho("Toastify__progress-bar",l?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${h}`,`Toastify__progress-bar--${s}`,{"Toastify__progress-bar--rtl":u}),_=Br(o)?o({rtl:u,type:s,defaultClassName:m}):Ho(m,o);return xe.createElement("div",{role:"progressbar","aria-hidden":p?"true":"false","aria-label":"notification timer",className:_,style:g,[l&&c>=1?"onTransitionEnd":"onAnimationEnd"]:l&&c<1?null:()=>{d&&r()}})}const Dq=e=>{const{isRunning:t,preventExitTransition:n,toastRef:r,eventHandlers:s}=Bq(e),{closeButton:i,children:o,autoClose:a,onClick:l,type:c,hideProgressBar:u,closeToast:d,transition:h,position:p,className:g,style:m,bodyClassName:_,bodyStyle:v,progressClassName:y,progressStyle:b,updateId:w,role:S,progress:x,rtl:E,toastId:T,deleteToast:U,isIn:$,isLoading:D,iconOut:Q,closeOnClick:P,theme:L}=e,M=Ho("Toastify__toast",`Toastify__toast-theme--${L}`,`Toastify__toast--${c}`,{"Toastify__toast--rtl":E},{"Toastify__toast--close-on-click":P}),I=Br(g)?g({rtl:E,position:p,type:c,defaultClassName:M}):Ho(M,g),z=!!x||!a,j={closeToast:d,type:c,theme:L};let N=null;return i===!1||(N=Br(i)?i(j):A.isValidElement(i)?A.cloneElement(i,j):QO(j)),xe.createElement(h,{isIn:$,done:U,position:p,preventExitTransition:n,nodeRef:r},xe.createElement("div",{id:T,onClick:l,className:I,...s,style:m,ref:r},xe.createElement("div",{...$&&{role:S},className:Br(_)?_({type:c}):Ho("Toastify__toast-body",_),style:v},Q!=null&&xe.createElement("div",{className:Ho("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!D})},Q),xe.createElement("div",null,o)),N,xe.createElement(Nq,{...w&&!z?{key:`pb-${w}`}:{},rtl:E,theme:L,delay:a,isRunning:t,isIn:$,closeToast:d,hide:u,type:c,style:b,className:y,controlledProgress:z,progress:x||0})))},sv=function(e,t){return t===void 0&&(t=!1),{enter:`Toastify--animate Toastify__${e}-enter`,exit:`Toastify--animate Toastify__${e}-exit`,appendPosition:t}},Fq=rv(sv("bounce",!0));rv(sv("slide",!0));rv(sv("zoom"));rv(sv("flip"));const n1=A.forwardRef((e,t)=>{const{getToastToRender:n,containerRef:r,isToastActive:s}=$q(e),{className:i,style:o,rtl:a,containerId:l}=e;function c(u){const d=Ho("Toastify__toast-container",`Toastify__toast-container--${u}`,{"Toastify__toast-container--rtl":a});return Br(i)?i({position:u,rtl:a,defaultClassName:d}):Ho(d,Pp(i))}return A.useEffect(()=>{t&&(t.current=r.current)},[]),xe.createElement("div",{ref:r,className:"Toastify",id:l},n((u,d)=>{const h=d.length?{...o}:{...o,pointerEvents:"none"};return xe.createElement("div",{className:c(u),style:h,key:`container-${u}`},d.map((p,g)=>{let{content:m,props:_}=p;return xe.createElement(Dq,{..._,isIn:s(_.toastId),style:{..._.style,"--nth":g+1,"--len":d.length},key:`toast-${_.key}`},m)}))}))});n1.displayName="ToastContainer",n1.defaultProps={position:"top-right",transition:Fq,autoClose:5e3,closeButton:QO,pauseOnHover:!0,pauseOnFocusLoss:!0,closeOnClick:!0,draggable:!0,draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light"};let Dy,Ra=new Map,nd=[],Uq=1;function JO(){return""+Uq++}function zq(e){return e&&(al(e.toastId)||Ad(e.toastId))?e.toastId:JO()}function _d(e,t){return Ra.size>0?ws.emit(0,e,t):nd.push({content:e,options:t}),t.toastId}function xg(e,t){return{...t,type:t&&t.type||e,toastId:zq(t)}}function Lh(e){return(t,n)=>_d(t,xg(e,n))}function Mt(e,t){return _d(e,xg("default",t))}Mt.loading=(e,t)=>_d(e,xg("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...t})),Mt.promise=function(e,t,n){let r,{pending:s,error:i,success:o}=t;s&&(r=al(s)?Mt.loading(s,n):Mt.loading(s.render,{...n,...s}));const a={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},l=(u,d,h)=>{if(d==null)return void Mt.dismiss(r);const p={type:u,...a,...n,data:h},g=al(d)?{render:d}:d;return r?Mt.update(r,{...p,...g}):Mt(g.render,{...p,...g}),h},c=Br(e)?e():e;return c.then(u=>l("success",o,u)).catch(u=>l("error",i,u)),c},Mt.success=Lh("success"),Mt.info=Lh("info"),Mt.error=Lh("error"),Mt.warning=Lh("warning"),Mt.warn=Mt.warning,Mt.dark=(e,t)=>_d(e,xg("default",{theme:"dark",...t})),Mt.dismiss=e=>{Ra.size>0?ws.emit(1,e):nd=nd.filter(t=>e!=null&&t.options.toastId!==e)},Mt.clearWaitingQueue=function(e){return e===void 0&&(e={}),ws.emit(5,e)},Mt.isActive=e=>{let t=!1;return Ra.forEach(n=>{n.isToastActive&&n.isToastActive(e)&&(t=!0)}),t},Mt.update=function(e,t){t===void 0&&(t={}),setTimeout(()=>{const n=function(r,s){let{containerId:i}=s;const o=Ra.get(i||Dy);return o&&o.getToast(r)}(e,t);if(n){const{props:r,content:s}=n,i={delay:100,...r,...t,toastId:t.toastId||e,updateId:JO()};i.toastId!==e&&(i.staleId=e);const o=i.render||s;delete i.render,_d(o,i)}},0)},Mt.done=e=>{Mt.update(e,{progress:1})},Mt.onChange=e=>(ws.on(4,e),()=>{ws.off(4,e)}),Mt.POSITION={TOP_LEFT:"top-left",TOP_RIGHT:"top-right",TOP_CENTER:"top-center",BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",BOTTOM_CENTER:"bottom-center"},Mt.TYPE={INFO:"info",SUCCESS:"success",WARNING:"warning",ERROR:"error",DEFAULT:"default"},ws.on(2,e=>{Dy=e.containerId||e,Ra.set(Dy,e),nd.forEach(t=>{ws.emit(0,t.content,t.options)}),nd=[]}).on(3,e=>{Ra.delete(e.containerId||e),Ra.size===0&&ws.off(0).off(1).off(5)});te.playerRemoved.subscribe(e=>{if(e.input.source===po.inputName){const t=Xe.getRemoteMicById(e.input.deviceId);t&&t.setPlayerNumber(null)}});te.playerInputChanged.subscribe((e,t,n)=>{var r;if((t==null?void 0:t.source)===po.inputName){const s=(r=Re.getPlayers().find(o=>o.input.source==="Remote Microphone"&&o.input.deviceId===t.deviceId))==null?void 0:r.number,i=Xe.getRemoteMicById(t.deviceId);i==null||i.setPlayerNumber(s!==void 0?s:null)}if((n==null?void 0:n.source)==="Remote Microphone"){const s=Xe.getRemoteMicById(n.deviceId);s==null||s.setPlayerNumber(e)}});te.remoteMicConnected.subscribe(({id:e})=>{var n,r;const t=(n=Re.getPlayers().find(s=>s.input.source==="Remote Microphone"&&s.input.deviceId===e))==null?void 0:n.number;if(t!==void 0){const s=Xe.getRemoteMicById(e);s==null||s.setPlayerNumber(t),dn.monitoringStarted()&&((r=s==null?void 0:s.getInput())==null||r.startMonitoring())}});te.playerChangeRequested.subscribe((e,t)=>{var r;const n=Re.getPlayers().find(s=>s.input.deviceId===e);if(n&&Re.removePlayer(n.number),t!==null){const s=Re.getPlayer(t);s?s.changeInput("Remote Microphone",0,e):(r=Re.addPlayer(t))==null||r.changeInput("Remote Microphone",0,e)}});te.remoteMicConnected.subscribe(({name:e,silent:t})=>{t||Mt.success(f.jsxs(f.Fragment,{children:["Remote microphone ",f.jsx("b",{className:"ph-no-capture",children:e})," connected!"]}))});te.remoteMicDisconnected.subscribe(({name:e},t)=>{t||Mt.warning(f.jsxs(f.Fragment,{children:["Remote microphone ",f.jsx("b",{className:"ph-no-capture",children:e})," disconnected!"]}))});const rS=()=>{const e=Xe.getRemoteMics().map(t=>{var n;return{id:t.id,name:t.name,number:((n=Re.getPlayers().find(r=>r.input.deviceId===t.id))==null?void 0:n.number)??null}});Xe.broadcastToChannel("remote-mics",{t:"remote-mics-list",list:e})};te.inputListChanged.subscribe(rS);te.playerInputChanged.subscribe(rS);te.remoteMicSubscribed.subscribe(rS);const XO=e=>({artist:t,title:n,id:r,lastUpdate:s},i,o=[],a)=>{var u;const l=o.length>1&&o.every(d=>d.score===o[0].score),c={};if(Re.getPlayers().forEach((d,h)=>c[`input${h}`]=d.input.source),e==="songEnded")try{const d=(u=Ve.getPlayer(0))==null?void 0:u.getPlayerNotes().filter(p=>Ag(p)===0).map(p=>p.frequencyRecords).flat().map(p=>[p.timestamp,p.frequency]).map((p,g,m)=>{var _,v;return[p[0]-(((_=m[g-1])==null?void 0:_[0])??0),p[1]-(((v=m[g-1])==null?void 0:v[1])??0)]}).map(p=>[Math.round(p[0]*100),Math.round(p[1]*100)]).map(p=>p[1]===0?p[0]:p),h=FP(d);console.log("compressed",h)}catch(d){Fi(d)}jn.capture(e,{songId:r,songLastUpdated:s,name:`${t} - ${n}`,artist:t,title:n,mode:i.mode,tolerance:i.tolerance,players:i.players.length,tracks:i.players.map(d=>d.track),progress:a??null,singId:i.id,sameScores:l,mobilePhoneMode:!!ur.get(),...c,...o.reduce((d,h,p)=>({...d,[`score${p}`]:h.score}),{}),...i.players.reduce((d,h,p)=>({...d,[`track${p}`]:h.track}),{})})};te.songStarted.subscribe(XO("songStarted"));te.songEnded.subscribe(XO("songEnded"));const Gc=e=>zi.generateSongFile(e),ZO=async e=>{const t=Gc(e);return await sl.getItem(t)||{plays:0,scores:[]}},e3=async(e,t)=>{await sl.setItem(Gc(e),t)},Hq=async()=>{const e=await sl.keys(),t={};return await Promise.all(e.map(async n=>{t[n]=await sl.getItem(n)})),t};te.songEnded.subscribe(async(e,t,n,r)=>{if(n.every(o=>o.score===0))return;let s=await sl.getItem(Gc(e));const i={setup:t,scores:n,date:new Date().toISOString(),progress:r};s?(s.scores=[...(s==null?void 0:s.scores)??[],i],s.plays=s.scores.length):s={plays:1,scores:[i]},await e3(e,s),te.songStatStored.dispatch(Gc(e),s)});const qc="session-player-names",Gq="previous-player-names";function qq(e){return e!=null}te.songStarted.subscribe((e,t)=>{let n=JSON.parse($e.session.getItem(qc))||[];const r=t.players.map(({number:i})=>Re.getPlayer(i)).filter(qq).map(i=>i.getName().trim()),s=[...n].concat(...r);n=[...new Set(s)].filter(Boolean),$e.session.setItem(qc,JSON.stringify(n)),$e.session.setItem(Gq,JSON.stringify(r))});te.songScoreUpdated.subscribe((e,t,n)=>{let r=JSON.parse($e.session.getItem(qc))||[];const s=[...r].concat(n);r=[...new Set(s)].filter(Boolean),$e.session.setItem(qc,JSON.stringify(r))});function Wq(e,t){const n=t<0?e.length+t:t;return e[n]}[].at||(Array.prototype.at=function(e){return Wq(this,e)});[].findLastIndex||(Array.prototype.findLastIndex=function(e,t){for(let n=this.length-1;n>=0;n--)if(e.call(t,this[n],n,this))return n;return-1});var Kq="Expected a function";function Sc(e,t,n){var r=!0,s=!0;if(typeof e!="function")throw new TypeError(Kq);return pi(n)&&(r="leading"in n?!!n.leading:r,s="trailing"in n?!!n.trailing:s),EO(e,t,{leading:r,maxWait:t,trailing:s})}class Yq extends So{constructor(){super(...arguments),this.stream=null,this.context=null,this.interval=null,this.frequencies=[0,0],this.volumes=[0,0],this.startedMonitoring=!1,this.startMonitoring=async(t,n=!1)=>{if(!this.startedMonitoring){this.startedMonitoring=!0;try{this.stream=await Jo.getUserMedia({audio:{echoCancellation:!0,noiseSuppression:!0,autoGainControl:!1},video:!1});try{this.context=new AudioContext;const r=this.context.createMediaStreamSource(this.stream),s=this.context.createAnalyser();s.fftSize=2048,s.minDecibels=-100,r.connect(s);const i=new bO;await i.init(this.context,s.fftSize),this.interval=setInterval(async()=>{const o=new Float32Array(s.fftSize);s.getFloatTimeDomainData(o);const a=await i.getFrequency(o),l=this.calculateVolume(o);this.frequencies=[a,a],this.volumes=[l,l],this.onUpdate(a,l)},this.context.sampleRate/s.fftSize),te.micMonitoringStarted.dispatch()}catch(r){Fi(r),console.error(r)}}catch(r){Fi(r,{level:"warning",extra:{message:"SimplifiedMic.startMonitoring"}}),console.warn(r)}}},this.getFrequencies=()=>this.frequencies,this.getVolumes=()=>this.volumes,this.clearFrequencies=t=>{},this.stopMonitoring=async()=>{var t,n;if(this.startedMonitoring){this.startedMonitoring=!1,this.interval&&clearInterval(this.interval),(t=this.stream)==null||t.getTracks().forEach(function(r){r.stop()});try{await((n=this.context)==null?void 0:n.close())}catch(r){console.log("MicInput.stoMonitoring error",r)}te.micMonitoringStopped.dispatch()}},this.getInputLag=()=>180,this.requestReadiness=()=>Promise.resolve(!0),this.getStatus=()=>"ok"}calculateVolume(t){let n,r=0;for(n=0;n<t.length;++n)r+=t[n]*t[n];return Math.sqrt(r/t.length)}}const Xs=new Yq;class Qq extends So{constructor(){super(...arguments),this.peer=null,this.connection=null,this.unavailableIdRetries=0,this.unavailableIdRetryTimeout=null,this.connectToRoom=(t,n,r)=>{var s;this.connection=this.peer.connect(`allkaraoke-party-room-${t}`),this.connection.on("open",()=>{n()}),this.connection.on("close",()=>r("closed",null)),(s=this.connection)==null||s.on("data",i=>{console.log(i),this.onUpdate(i)})},this.isConnected=()=>{var t,n;return!!((t=this.connection)!=null&&t.open)&&!((n=this.peer)!=null&&n.disconnected)},this.close=()=>{var t;(t=this.connection)==null||t.close()}}connect(t,n,r,s,i){this.peer&&!this.peer.disconnected?this.connectToRoom(n,r,s):(this.peer=new tv(t,{...MO,debug:3}),this.peer.on("open",()=>{this.connectToRoom(n,r,s)}),this.peer.on("error",o=>{var a,l;o.type==="unavailable-id"&&this.unavailableIdRetries<3&&this.unavailableIdRetryTimeout===null?((l=(a=this.peer)==null?void 0:a.destroy)==null||l.call(a),this.unavailableIdRetryTimeout=setTimeout(()=>{this.unavailableIdRetryTimeout=null,this.unavailableIdRetries++,this.connect(t,n,r,s,i)},1750)):(this.unavailableIdRetries=0,console.error(o.type,o),s(o.type,o))}))}sendEvent(t){var n;(n=this.connection)==null||n.send(t)}}class Jq extends So{constructor(){super(...arguments),this.connection=null,this.roomId=null,this.isConnected=()=>{var t;return(((t=this.connection)==null?void 0:t.readyState)??1/0)<2},this.close=()=>{var t;(t=this.connection)==null||t.close()}}connect(t,n,r,s,i){this.roomId=n,this.connection=new WebSocket(BO),this.connection.binaryType="arraybuffer",this.connection.onopen=()=>{var o;(o=this.connection)==null||o.send(dg({t:"register-player",id:t,roomId:n}))},this.connection.onmessage=o=>{const a=Ab(o.data);a.t==="forward"?this.onUpdate(a.payload):a.t==="connected"&&r()},this.connection.onclose=o=>{var l;let a="unknown";try{a=(l=JSON.parse(o.reason))==null?void 0:l.error}catch{console.info("could not parse close reason",o)}this.clearAllListeners(),s(a,o)},this.connection.onerror=o=>{this.clearAllListeners(),i("error",o)}}sendEvent(t){var n;(n=this.connection)==null||n.send(dg({t:"forward",recipients:[this.roomId],payload:t}))}}const G2=(e,t)=>{if(e===0)return 0;const n=Math.pow(10,t);return Math.round(e*n)/n};let $h;const Xq=new Uint8Array(16);function Zq(){if(!$h&&($h=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!$h))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return $h(Xq)}const tr=[];for(let e=0;e<256;++e)tr.push((e+256).toString(16).slice(1));function eW(e,t=0){return tr[e[t+0]]+tr[e[t+1]]+tr[e[t+2]]+tr[e[t+3]]+"-"+tr[e[t+4]]+tr[e[t+5]]+"-"+tr[e[t+6]]+tr[e[t+7]]+"-"+tr[e[t+8]]+tr[e[t+9]]+"-"+tr[e[t+10]]+tr[e[t+11]]+tr[e[t+12]]+tr[e[t+13]]+tr[e[t+14]]+tr[e[t+15]]}const tW=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),q2={randomUUID:tW};function Eg(e,t,n){if(q2.randomUUID&&!t&&!e)return q2.randomUUID();e=e||{};const r=e.random||(e.rng||Zq)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,t){n=n||0;for(let s=0;s<16;++s)t[n+s]=r[s];return t}return eW(r)}const r1="MIC_CLIENT_ID";class nW{constructor(){this.clientId=$e.getItem(r1),this.roomId=null,this.reconnecting=!1,this.connected=!1,this.frequencies=[],this.sendFrequencies=Sc(t=>{const n=this.frequencies.map(r=>G2(r,2));this.frequencies.length=0,this.sendEvent("freq",[n,G2(t,4)])},50),this.onFrequencyUpdate=Sc((t,n)=>{this.frequencies.push(t),this.sendFrequencies(n)},1e3/60),this.getClientId=()=>this.clientId,this.setClientId=t=>{this.clientId=t,$e.setItem(r1,t)},this.connect=(t,n,r)=>{const s=t.toLowerCase();if(this.transport||(this.transport=s.startsWith("w")?new Jq:new Qq),this.clientId===null&&this.setClientId(Eg()),this.roomId=s,this.transport.isConnected()){console.log("not reconnecting",this.transport);return}this.reconnecting||te.karaokeConnectionStatusChange.dispatch("connecting"),this.transport.connect(this.clientId,this.roomId,()=>{this.connectToServer(s,n,r)},(i,o)=>{var a;if(i==="unavailable-id"){this.setClientId(Eg()),this.connect(s,n,r);return}console.log("closed connection :o",i,o),global.removeEventListener("beforeunload",this.disconnect),this.reconnecting?te.karaokeConnectionStatusChange.dispatch("reconnecting"):this.connected?te.karaokeConnectionStatusChange.dispatch("disconnected"):(te.karaokeConnectionStatusChange.dispatch("error",i),jn.capture("remote_mic_connection_error",{reason:i,transport:(a=this.roomId)==null?void 0:a.charAt(0)})),te.remoteMicPlayerSet.dispatch(null),te.remoteKeyboardLayout.dispatch(void 0),Xs.removeListener(this.onFrequencyUpdate),Xs.stopMonitoring(),!this.reconnecting&&this.connected&&(this.reconnecting=!0,setTimeout(()=>this.reconnect(s,n),1500)),this.connected=!1},console.warn)},this.latency=999,this.pingStart=Date.now(),this.pinging=!1,this.ping=()=>{this.pinging=!0,this.pingStart=Ac(),this.sendEvent("ping",{p:this.pingStart})},this.reportPing=Sc(t=>jn.capture("remote_mic_ping",{ping:t}),1e4),this.onPong=()=>{this.latency=Ac()-this.pingStart,this.pinging=!1,this.reportPing(this.latency),setTimeout(this.ping,1e3)},this.connectToServer=(t,n,r)=>{var s;this.connected=!0,this.reconnecting=!1,te.karaokeConnectionStatusChange.dispatch("connected"),jn.capture("remote_mic_connection_successful",{transport:(s=this.roomId)==null?void 0:s.charAt(0)}),this.sendEvent("register",{name:n,id:this.clientId,silent:r,lag:GP.get()}),this.ping(),global==null||global.addEventListener("beforeunload",this.disconnect),this.transport.addListener(i=>{var a,l;const o=i.t;o==="start-monitor"?(Xs.removeListener(this.onFrequencyUpdate),Xs.addListener(this.onFrequencyUpdate),Xs.startMonitoring(void 0,!0)):o==="stop-monitor"?(Xs.removeListener(this.onFrequencyUpdate),Xs.stopMonitoring()):o==="set-player-number"?te.remoteMicPlayerSet.dispatch(i.playerNumber):o==="keyboard-layout"?te.remoteKeyboardLayout.dispatch(i.help):o==="reload-mic"?(global.removeEventListener("beforeunload",this.disconnect),this.sendEvent("unregister"),$e.session.setItem("reload-mic-request","1"),(a=document.getElementById("phone-ui-container"))==null||a.remove(),(l=global.location)==null||l.reload()):o==="request-readiness"?te.remoteReadinessRequested.dispatch():o==="pong"?this.onPong():o==="ping"?this.sendEvent("pong"):o==="set-permissions"?te.remoteMicPermissionsSet.dispatch(i.level):o==="remote-mics-list"?te.remoteMicListUpdated.dispatch(i.list):o==="style-change"&&te.remoteStyleChanged.dispatch(i.style)})},this.reconnect=(t,n)=>{this.reconnecting&&(te.karaokeConnectionStatusChange.dispatch("reconnecting"),this.connect(t,n,!1),setTimeout(()=>this.reconnect(t,n),2e3))},this.sendKeyStroke=t=>{this.sendEvent("keystroke",{key:t})},this.searchSong=t=>{this.sendEvent("search-song",{search:t})},this.requestPlayerChange=(t,n)=>{this.sendEvent("request-mic-select",{id:t,playerNumber:n})},this.confirmReadiness=()=>{this.sendEvent("confirm-readiness")},this.subscribe=t=>{this.sendEvent("subscribe-event",{channel:t})},this.unsubscribe=t=>{this.sendEvent("unsubscribe-event",{channel:t})},this.getSongList=()=>this.sendRequest({t:"request-songlist"},"songlist"),this.getGameInputLag=()=>this.sendRequest({t:"get-game-input-lag-request"},"get-game-input-lag-response"),this.setGameInputLag=t=>this.sendRequest({t:"set-game-input-lag-request",value:t},"get-game-input-lag-response"),this.getMicrophoneInputLag=()=>this.sendRequest({t:"get-microphone-lag-request"},"get-microphone-lag-response"),this.setMicrophoneInputLag=t=>this.sendRequest({t:"set-microphone-lag-request",value:t},"get-microphone-lag-response"),this.sendEvent=(t,n)=>{var r;(r=this.transport)!=null&&r.isConnected()?this.transport.sendEvent({t,...n}):console.debug("not connected, skipping",t,n)},this.sendRequest=({t,...n},r)=>new Promise((s,i)=>{var l;const o=setTimeout(()=>{var c;(c=this.transport)==null||c.removeListener(a),i(`${t} timed out waiting for ${r}`)},1e4),a=c=>{var u;c.t===r&&(clearTimeout(o),(u=this.transport)==null||u.removeListener(a),s(c))};(l=this.transport)==null||l.addListener(a),this.sendEvent(t,n)}),this.disconnect=()=>{var t;(t=this.transport)==null||t.close()}}}const Sn=new nW,rW="/prs/275/assets/2020-12-16_-_Christmas_Rock_-_www.FesliyanStudios.com_Steve_Oxen-DMCunqoI.ogg",sW="/prs/275/assets/376817__original_sound__impact-cinematic-CwEVHJ3C.ogg",iW="/prs/275/assets/421888__b-sean__retro-CErSO5v-.ogg",oW="/prs/275/assets/459342__papaninkasettratat__cinematic-music-short-rn-rfKrG.ogg",aW="/prs/275/assets/60013__qubodup__whoosh-CRSX-bwR.mp3",lW="/prs/275/assets/Funk%20Cool%20Groove%20(No%20Copyright%20Music)%20By%20Anwar%20Amr-Chfv45i1.ogg",cW="/prs/275/assets/menu_back-CXKu2j7w.mp3",uW="data:audio/mpeg;base64,SUQzBAAAAAAAIlRTU0UAAAAOAAADTGF2ZjYwLjMuMTAwAAAAAAAAAAAAAAD/+1QAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABYaW5nAAAADwAAABMAAA04AEFBQUFBZWVlZWV/f39/f5GRkZGRkZqampqaoaGhoaGoqKioqLCwsLCwsLe3t7e3vr6+vr7FxcXFxc3Nzc3NzdTU1NTU29vb29vi4uLi4urq6urq6vHx8fHx+Pj4+Pj//////wAAAABMYXZjNjAuMy4AAAAAAAAAAAAAAAAkAuUAAAAAAAANOLGcZrL/+8REAAEA/ADLaAAACh+AGY0AAAFGhC0ZtYMAKP4GYzKwkAUAFJyXj/AAAB7QAAB4eHh4YYAOM////jh4eAAAAAIw8AlNybj/AAAB/AAADw8PDwxwAAGf///5h4eAAAAAIw9hSJuIlQJTskunEz5RFv1Y2byK7n/97llcFmmyCgoMFBQUFAoKCgoMFDX////qAoKChQUFESxJ2AfoAZiMJDhIyAqTJk81xxarn/97lWmgXEJCQoUJCChQUFBQSCgoKChQUv//6YKFAoKCgwUFBQUhBQU0WgEEAFZUiUdVZ7urwsAwAAAoTmeCxjBAdkrnZm5gCuz2BTRyEx8VJUhukDsoNVBjExsWZAsIvo6ZtcOZTJhAKFQlp6a7oGrhgQ1GypacseeN5GgM7LimCHZWKo200F2pFIbcrBxGTFxgYmAAQQh6wspcVlNfLCxvO2HAzIQgDZSzJWt9XFnYFf27////7/0ko32xTymMyqLclUq8QECiT3+7//+laf///9uMHyGvGu2u2so2EgAAAAADIAEGFguPUQDJhoMKHjtm/ExnBISAuP5tq7A0VjIBuAgFjyzu0ITEAhWvB/0sPUTU5MzMnhocNpDqll1v/GBSiOTAAAWq/agAGAMGDkG2YBxmZlUXgGO2D0YAgS4cGyYBIAoNAqIQNjBRA4BAFZgOABuLCYbR9W0P1ijMzWyHU3rL3T2m1K3RtqSLDrfcC31jHuH9r6RUOFIwt0G+T2Y9yNS/FrmLTOcX1qpRxdapf/+f4gPaOLN2fYACixdruAAAHzMDQmBJhGTdzmMADioJDwTNcGAFKgEmAwApvBgDS6/hLpkYzDFewH6hgRt+3pCrr5/3651XUGvoTGe1AAACh1ZV5WQADAgMzFkSzVCXT2T/+6Rk5IAFRzBLfm9kgFGDij/NsCRO4MEnXeeAIQ0NZLe68ATIzWYcjI0FQUTAYG4GARMBYUYAQQoAsBHktFznLy0sSlohrcySM0V97trfW6mUEZ4r3G0Su6apFIYlLPRjDC0HKnNGDPCbCtAP2eeEAA3ZmhL+AAAG5JEGTcHdpB80aHvkDv0YiAhA2mHHOna1doX/uZ6qnnDUzTgKUABohnh230QAAMbEBQnNCETYME2cNbMBjy7BqoGICdqx1SsFklW0zpKswQnCikdnsJ4tsbhp/ASpfR1JaY61CrDJgx/F3EWoNSoEVBqRvuTG5yhcItANgUThn9//+tgCHmIeH3wBoCkKCxgISgSstpAzImgHGYaQ6AVraQgJgaXZN2SAGyriKC3mDpVtvoo5FXA4mYiIj/aAABUhpCZgEAUnGtWKCEAZ/BEFQDhceXTMw8yUktRRlhhbRJYUkSpDzpdNaErxzPiWxVMqtHMxstZL1/1froSdU2dnUSBCnAUUTDiw2FdX+MCo0MrMuDAAAE84aw5jGXtZrP0+3AGAJVVUyjYENrIhERZuDyP8PUISzy7xH/4MlwUJsBBcI7GR4DyaWF6iCwni4hbZmGQWTQIi6L3h+abmhZzs1OZ7gOu0RcL/+4Rk6AAS+iLI+68a+C5DOV9rAxlLuHch7eXlYMgNZP2WFVzAmUIpCmxCchkYSLdCTM0X2sVgAjJ+gEAnQkJe1v9aZjJCCJfFH1YIagNfLtAJODmCQtYaPzBF//yVIIAAAUHjJAVCHeXwjlgBxVOjKgO1ddIsKHgBBT1MQU1FMy4xMDBVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVAAABzCFdZkkAAAsCDOBkGYUxBTUUzLjEwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVQ0kMkxBTUUzLjEwMKqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqoZVUxBTUUzLjEwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+2Rk7wEStyFJ+08a+icCKR9h4ycGxGkp7CSn6HKE4u2GCJRVVVVVVVVVVVVVVVVVVVVVSUxBTUUzLjEwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVSUxBTUUzLjEwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUxBTUUzLjEwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUxBTUUzLjH/+yRk7Idw1QbEowxBAA1AyIgl4wMBUA0PBWMAIBUBolQUmAYwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUxBTUUzLjEwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+xRk6g9wQAJDKU8ACARASJUEQAEAXAsOA4wgIAaAYgAQAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUxBTUUzLjEwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+xRk4w/wDwDEAMAACAAAD/AAAAEAGAMUAQAAIAAAP8AAAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUxBTUUzLjEwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+xRk4o/wBgDEgEAACAAAD/AAAAEADAMaAIAAIAAAP8AAAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUxBTUUzLjEwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+xRk4g/wAwDGACAACAAAD/AAAAEADAMWAIAAIAAAP8AAAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUxBTUUzLjEwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+xRk4g/wAwDFgCAACAAAD/AAAAEADAMUAIAAIAAAP8AAAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUxBTUUzLjEwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+xRE4Y/wAAB/gAAACAAAD/AAAAEAAAH+AAAAIAAAP8AAAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUxBTUUzLjEwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+xRE4Y/wAAB/gAAACAAAD/AAAAEAAAH+AAAAIAAAP8AAAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+xRE4Y/wAAB/gAAACAAAD/AAAAEAAAH+AAAAIAAAP8AAAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+xRk4Y/wAAB/gAAACAAAD/AAAAEAAAH+AAAAIAAAP8AAAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+xRk4Y/wAAB/gAAACAAAD/AAAAEAAAH+AAAAIAAAP8AAAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+xRk4Y/wAAB/gAAACAAADSAAAAEAAAH+AAAAIAAAP8AAAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+xRk4Y/wAAB/gAAACAAAD/AAAAEAAAH+AAAAIAAAP8AAAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+xRk4Y/wAAB/gAAACAAAD/AAAAEAAAGkAAAAIAAANIAAAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+xRk4Y/wAABpAAAACAAADSAAAAEAAAGkAAAAIAAANIAAAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVU=",dW="/prs/275/assets/menu_navigate-C6GUIZQM.mp3";class Eo{constructor(t){this.options=t,this.sound=null,this.play=async(n=!0)=>{var r,s;try{if(n&&this.playing()){const i=(r=this.sound)==null?void 0:r.cloneNode(!0);await i.play(),i.remove()}else await((s=this.sound)==null?void 0:s.play())}catch(i){return console.warn(i)}},this.pause=()=>{var n;(n=this.sound)==null||n.pause()},this.stop=()=>{this.sound&&(this.sound.pause(),this.sound.currentTime=0)},this.playing=()=>{var n;return!((n=this.sound)!=null&&n.paused)},global.Audio&&(this.sound=new Audio(t.src),this.sound.preload=t.preload?"auto":"none",this.sound.volume=t.volume??1,this.sound.loop=t.loop??!1)}}const iv=new Eo({src:dW}),sS=new Eo({src:uW}),iS=new Eo({src:cW}),t3=new Eo({src:sW,preload:!0}),oS=new Eo({src:aW,preload:!0,volume:.5}),n3=new Eo({src:lW,volume:.3,loop:!0}),r3=new Eo({src:iW,volume:.4,loop:!0}),s3=new Eo({src:rW,volume:.25,loop:!0}),jp=new Eo({src:oW,volume:.8}),fW=Object.freeze(Object.defineProperty({__proto__:null,backgroundMusic:n3,christmasBackgroundMusic:s3,classicBackgroundMusic:r3,menuBack:iS,menuEnter:sS,menuNavigate:iv,waitFinished:t3,waitForReadinessMusic:jp,woosh:oS},Symbol.toStringTag,{value:"Module"})),hW={RemoteMicClient:Sn,RemoteMicServer:bg,GameState:Ve,GameEvents:te,RemoteMicManager:Xe,SongDao:zi,InputManager:dn,InputSourceManager:go,CameraManager:ri,UserMediaService:Jo,PlayersManager:Re,SoundManager:fW,importSongs:async()=>{await(await Wm(()=>import("./importSongsFromPostHog-zfHwYTXF.js"),[])).default()}};global.__exposeSingletons=()=>{global.__singletons=hW};console.log("Run global.__exposeSingletons() and inspect global.__singletons for debugging");function aS(e,t){for(var n=-1,r=e==null?0:e.length,s=Array(r);++n<r;)s[n]=t(e[n],n,e);return s}function pW(){this.__data__=new wo,this.size=0}function gW(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}function mW(e){return this.__data__.get(e)}function vW(e){return this.__data__.has(e)}var yW=200;function AW(e,t){var n=this.__data__;if(n instanceof wo){var r=n.__data__;if(!Yd||r.length<yW-1)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new xo(r)}return n.set(e,t),this.size=n.size,this}function Bi(e){var t=this.__data__=new wo(e);this.size=t.size}Bi.prototype.clear=pW;Bi.prototype.delete=gW;Bi.prototype.get=mW;Bi.prototype.has=vW;Bi.prototype.set=AW;function _W(e,t){for(var n=-1,r=e==null?0:e.length;++n<r&&t(e[n],n,e)!==!1;);return e}var kg=function(){try{var e=El(Object,"defineProperty");return e({},"",{}),e}catch{}}();function i3(e,t,n){t=="__proto__"&&kg?kg(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}var bW=Object.prototype,SW=bW.hasOwnProperty;function o3(e,t,n){var r=e[t];(!(SW.call(e,t)&&Ym(r,n))||n===void 0&&!(t in e))&&i3(e,t,n)}function Uf(e,t,n,r){var s=!n;n||(n={});for(var i=-1,o=t.length;++i<o;){var a=t[i],l=r?r(n[a],e[a],a,n,e):void 0;l===void 0&&(l=e[a]),s?i3(n,a,l):o3(n,a,l)}return n}function wW(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}var xW="[object Arguments]";function W2(e){return ho(e)&&wl(e)==xW}var a3=Object.prototype,EW=a3.hasOwnProperty,kW=a3.propertyIsEnumerable,lS=W2(function(){return arguments}())?W2:function(e){return ho(e)&&EW.call(e,"callee")&&!kW.call(e,"callee")},Bs=Array.isArray;function CW(){return!1}var l3=typeof exports=="object"&&exports&&!exports.nodeType&&exports,K2=l3&&typeof module=="object"&&module&&!module.nodeType&&module,IW=K2&&K2.exports===l3,Y2=IW?mi.Buffer:void 0,TW=Y2?Y2.isBuffer:void 0,Cg=TW||CW,RW="[object Arguments]",MW="[object Array]",PW="[object Boolean]",jW="[object Date]",OW="[object Error]",VW="[object Function]",LW="[object Map]",$W="[object Number]",BW="[object Object]",NW="[object RegExp]",DW="[object Set]",FW="[object String]",UW="[object WeakMap]",zW="[object ArrayBuffer]",HW="[object DataView]",GW="[object Float32Array]",qW="[object Float64Array]",WW="[object Int8Array]",KW="[object Int16Array]",YW="[object Int32Array]",QW="[object Uint8Array]",JW="[object Uint8ClampedArray]",XW="[object Uint16Array]",ZW="[object Uint32Array]",Bt={};Bt[GW]=Bt[qW]=Bt[WW]=Bt[KW]=Bt[YW]=Bt[QW]=Bt[JW]=Bt[XW]=Bt[ZW]=!0;Bt[RW]=Bt[MW]=Bt[zW]=Bt[PW]=Bt[HW]=Bt[jW]=Bt[OW]=Bt[VW]=Bt[LW]=Bt[$W]=Bt[BW]=Bt[NW]=Bt[DW]=Bt[FW]=Bt[UW]=!1;function eK(e){return ho(e)&&eS(e.length)&&!!Bt[wl(e)]}function cS(e){return function(t){return e(t)}}var c3=typeof exports=="object"&&exports&&!exports.nodeType&&exports,bd=c3&&typeof module=="object"&&module&&!module.nodeType&&module,tK=bd&&bd.exports===c3,Fy=tK&&wO.process,Wc=function(){try{var e=bd&&bd.require&&bd.require("util").types;return e||Fy&&Fy.binding&&Fy.binding("util")}catch{}}(),Q2=Wc&&Wc.isTypedArray,u3=Q2?cS(Q2):eK,nK=Object.prototype,rK=nK.hasOwnProperty;function d3(e,t){var n=Bs(e),r=!n&&lS(e),s=!n&&!r&&Cg(e),i=!n&&!r&&!s&&u3(e),o=n||r||s||i,a=o?wW(e.length,String):[],l=a.length;for(var c in e)(t||rK.call(e,c))&&!(o&&(c=="length"||s&&(c=="offset"||c=="parent")||i&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||nS(c,l)))&&a.push(c);return a}var sK=Object.prototype;function uS(e){var t=e&&e.constructor,n=typeof t=="function"&&t.prototype||sK;return e===n}function f3(e,t){return function(n){return e(t(n))}}var iK=f3(Object.keys,Object),oK=Object.prototype,aK=oK.hasOwnProperty;function lK(e){if(!uS(e))return iK(e);var t=[];for(var n in Object(e))aK.call(e,n)&&n!="constructor"&&t.push(n);return t}function zf(e){return tS(e)?d3(e):lK(e)}function cK(e,t){return e&&Uf(t,zf(t),e)}function uK(e){var t=[];if(e!=null)for(var n in Object(e))t.push(n);return t}var dK=Object.prototype,fK=dK.hasOwnProperty;function hK(e){if(!pi(e))return uK(e);var t=uS(e),n=[];for(var r in e)r=="constructor"&&(t||!fK.call(e,r))||n.push(r);return n}function dS(e){return tS(e)?d3(e,!0):hK(e)}function pK(e,t){return e&&Uf(t,dS(t),e)}var h3=typeof exports=="object"&&exports&&!exports.nodeType&&exports,J2=h3&&typeof module=="object"&&module&&!module.nodeType&&module,gK=J2&&J2.exports===h3,X2=gK?mi.Buffer:void 0,Z2=X2?X2.allocUnsafe:void 0;function mK(e,t){if(t)return e.slice();var n=e.length,r=Z2?Z2(n):new e.constructor(n);return e.copy(r),r}function p3(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}function vK(e,t){for(var n=-1,r=e==null?0:e.length,s=0,i=[];++n<r;){var o=e[n];t(o,n,e)&&(i[s++]=o)}return i}function g3(){return[]}var yK=Object.prototype,AK=yK.propertyIsEnumerable,eC=Object.getOwnPropertySymbols,fS=eC?function(e){return e==null?[]:(e=Object(e),vK(eC(e),function(t){return AK.call(e,t)}))}:g3;function _K(e,t){return Uf(e,fS(e),t)}function hS(e,t){for(var n=-1,r=t.length,s=e.length;++n<r;)e[s+n]=t[n];return e}var bK=f3(Object.getPrototypeOf,Object);const pS=bK;var SK=Object.getOwnPropertySymbols,m3=SK?function(e){for(var t=[];e;)hS(t,fS(e)),e=pS(e);return t}:g3;function wK(e,t){return Uf(e,m3(e),t)}function v3(e,t,n){var r=t(e);return Bs(e)?r:hS(r,n(e))}function s1(e){return v3(e,zf,fS)}function y3(e){return v3(e,dS,m3)}var i1=El(mi,"DataView"),o1=El(mi,"Promise"),wc=El(mi,"Set"),a1=El(mi,"WeakMap"),tC="[object Map]",xK="[object Object]",nC="[object Promise]",rC="[object Set]",sC="[object WeakMap]",iC="[object DataView]",EK=xl(i1),kK=xl(Yd),CK=xl(o1),IK=xl(wc),TK=xl(a1),Ma=wl;(i1&&Ma(new i1(new ArrayBuffer(1)))!=iC||Yd&&Ma(new Yd)!=tC||o1&&Ma(o1.resolve())!=nC||wc&&Ma(new wc)!=rC||a1&&Ma(new a1)!=sC)&&(Ma=function(e){var t=wl(e),n=t==xK?e.constructor:void 0,r=n?xl(n):"";if(r)switch(r){case EK:return iC;case kK:return tC;case CK:return nC;case IK:return rC;case TK:return sC}return t});const Xd=Ma;var RK=Object.prototype,MK=RK.hasOwnProperty;function PK(e){var t=e.length,n=new e.constructor(t);return t&&typeof e[0]=="string"&&MK.call(e,"index")&&(n.index=e.index,n.input=e.input),n}var Ig=mi.Uint8Array;function gS(e){var t=new e.constructor(e.byteLength);return new Ig(t).set(new Ig(e)),t}function jK(e,t){var n=t?gS(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}var OK=/\w*$/;function VK(e){var t=new e.constructor(e.source,OK.exec(e));return t.lastIndex=e.lastIndex,t}var oC=$s?$s.prototype:void 0,aC=oC?oC.valueOf:void 0;function LK(e){return aC?Object(aC.call(e)):{}}function $K(e,t){var n=t?gS(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}var BK="[object Boolean]",NK="[object Date]",DK="[object Map]",FK="[object Number]",UK="[object RegExp]",zK="[object Set]",HK="[object String]",GK="[object Symbol]",qK="[object ArrayBuffer]",WK="[object DataView]",KK="[object Float32Array]",YK="[object Float64Array]",QK="[object Int8Array]",JK="[object Int16Array]",XK="[object Int32Array]",ZK="[object Uint8Array]",eY="[object Uint8ClampedArray]",tY="[object Uint16Array]",nY="[object Uint32Array]";function rY(e,t,n){var r=e.constructor;switch(t){case qK:return gS(e);case BK:case NK:return new r(+e);case WK:return jK(e,n);case KK:case YK:case QK:case JK:case XK:case ZK:case eY:case tY:case nY:return $K(e,n);case DK:return new r;case FK:case HK:return new r(e);case UK:return VK(e);case zK:return new r;case GK:return LK(e)}}var lC=Object.create,sY=function(){function e(){}return function(t){if(!pi(t))return{};if(lC)return lC(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();function iY(e){return typeof e.constructor=="function"&&!uS(e)?sY(pS(e)):{}}var oY="[object Map]";function aY(e){return ho(e)&&Xd(e)==oY}var cC=Wc&&Wc.isMap,lY=cC?cS(cC):aY,cY="[object Set]";function uY(e){return ho(e)&&Xd(e)==cY}var uC=Wc&&Wc.isSet,dY=uC?cS(uC):uY,fY=1,hY=2,pY=4,A3="[object Arguments]",gY="[object Array]",mY="[object Boolean]",vY="[object Date]",yY="[object Error]",_3="[object Function]",AY="[object GeneratorFunction]",_Y="[object Map]",bY="[object Number]",b3="[object Object]",SY="[object RegExp]",wY="[object Set]",xY="[object String]",EY="[object Symbol]",kY="[object WeakMap]",CY="[object ArrayBuffer]",IY="[object DataView]",TY="[object Float32Array]",RY="[object Float64Array]",MY="[object Int8Array]",PY="[object Int16Array]",jY="[object Int32Array]",OY="[object Uint8Array]",VY="[object Uint8ClampedArray]",LY="[object Uint16Array]",$Y="[object Uint32Array]",jt={};jt[A3]=jt[gY]=jt[CY]=jt[IY]=jt[mY]=jt[vY]=jt[TY]=jt[RY]=jt[MY]=jt[PY]=jt[jY]=jt[_Y]=jt[bY]=jt[b3]=jt[SY]=jt[wY]=jt[xY]=jt[EY]=jt[OY]=jt[VY]=jt[LY]=jt[$Y]=!0;jt[yY]=jt[_3]=jt[kY]=!1;function Op(e,t,n,r,s,i){var o,a=t&fY,l=t&hY,c=t&pY;if(n&&(o=s?n(e,r,s,i):n(e)),o!==void 0)return o;if(!pi(e))return e;var u=Bs(e);if(u){if(o=PK(e),!a)return p3(e,o)}else{var d=Xd(e),h=d==_3||d==AY;if(Cg(e))return mK(e,a);if(d==b3||d==A3||h&&!s){if(o=l||h?{}:iY(e),!a)return l?wK(e,pK(o,e)):_K(e,cK(o,e))}else{if(!jt[d])return s?e:{};o=rY(e,d,a)}}i||(i=new Bi);var p=i.get(e);if(p)return p;i.set(e,o),dY(e)?e.forEach(function(_){o.add(Op(_,t,n,_,e,i))}):lY(e)&&e.forEach(function(_,v){o.set(v,Op(_,t,n,v,e,i))});var g=c?l?y3:s1:l?dS:zf,m=u?void 0:g(e);return _W(m||e,function(_,v){m&&(v=_,_=e[v]),o3(o,v,Op(_,t,n,v,e,i))}),o}var BY=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,NY=/^\w*$/;function mS(e,t){if(Bs(e))return!1;var n=typeof e;return n=="number"||n=="symbol"||n=="boolean"||e==null||Km(e)?!0:NY.test(e)||!BY.test(e)||t!=null&&e in Object(t)}var DY=500;function FY(e){var t=Xm(e,function(r){return n.size===DY&&n.clear(),r}),n=t.cache;return t}var UY=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,zY=/\\(\\)?/g,HY=FY(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(UY,function(n,r,s,i){t.push(s?i.replace(zY,"$1"):r||n)}),t}),GY=1/0,dC=$s?$s.prototype:void 0,fC=dC?dC.toString:void 0;function S3(e){if(typeof e=="string")return e;if(Bs(e))return aS(e,S3)+"";if(Km(e))return fC?fC.call(e):"";var t=e+"";return t=="0"&&1/e==-GY?"-0":t}function vS(e){return e==null?"":S3(e)}function ov(e,t){return Bs(e)?e:mS(e,t)?[e]:HY(vS(e))}function qY(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var WY=1/0;function Hf(e){if(typeof e=="string"||Km(e))return e;var t=e+"";return t=="0"&&1/e==-WY?"-0":t}function yS(e,t){t=ov(t,e);for(var n=0,r=t.length;e!=null&&n<r;)e=e[Hf(t[n++])];return n&&n==r?e:void 0}function AS(e,t,n){var r=-1,s=e.length;t<0&&(t=-t>s?0:s+t),n=n>s?s:n,n<0&&(n+=s),s=t>n?0:n-t>>>0,t>>>=0;for(var i=Array(s);++r<s;)i[r]=e[r+t];return i}function KY(e,t){return t.length<2?e:yS(e,AS(t,0,-1))}function YY(e,t){return t=ov(t,e),e=KY(e,t),e==null||delete e[Hf(qY(t))]}var QY="[object Object]",JY=Function.prototype,XY=Object.prototype,w3=JY.toString,ZY=XY.hasOwnProperty,eQ=w3.call(Object);function tQ(e){if(!ho(e)||wl(e)!=QY)return!1;var t=pS(e);if(t===null)return!0;var n=ZY.call(t,"constructor")&&t.constructor;return typeof n=="function"&&n instanceof n&&w3.call(n)==eQ}function nQ(e){return tQ(e)?void 0:e}var hC=$s?$s.isConcatSpreadable:void 0;function rQ(e){return Bs(e)||lS(e)||!!(hC&&e&&e[hC])}function x3(e,t,n,r,s){var i=-1,o=e.length;for(n||(n=rQ),s||(s=[]);++i<o;){var a=e[i];t>0&&n(a)?t>1?x3(a,t-1,n,r,s):hS(s,a):r||(s[s.length]=a)}return s}function sQ(e){var t=e==null?0:e.length;return t?x3(e,1):[]}function iQ(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}var pC=Math.max;function oQ(e,t,n){return t=pC(t===void 0?e.length-1:t,0),function(){for(var r=arguments,s=-1,i=pC(r.length-t,0),o=Array(i);++s<i;)o[s]=r[t+s];s=-1;for(var a=Array(t+1);++s<t;)a[s]=r[s];return a[t]=n(o),iQ(e,this,a)}}function aQ(e){return function(){return e}}function E3(e){return e}var lQ=kg?function(e,t){return kg(e,"toString",{configurable:!0,enumerable:!1,value:aQ(t),writable:!0})}:E3;const cQ=lQ;var uQ=800,dQ=16,fQ=Date.now;function hQ(e){var t=0,n=0;return function(){var r=fQ(),s=dQ-(r-n);if(n=r,s>0){if(++t>=uQ)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var pQ=hQ(cQ);function gQ(e){return pQ(oQ(e,void 0,sQ),e+"")}var mQ=1,vQ=2,yQ=4,AQ=gQ(function(e,t){var n={};if(e==null)return n;var r=!1;t=aS(t,function(i){return i=ov(i,e),r||(r=i.length>1),i}),Uf(e,y3(e),n),r&&(n=Op(n,mQ|vQ|yQ,nQ));for(var s=t.length;s--;)YY(n,t[s]);return n});function Hi(e,t=!1){const[n,r]=A.useState(null);return A.useEffect(()=>{const s=(...i)=>{r(i)};return e.subscribe(s,t),()=>e.unsubscribe(s)},[e]),n}function cs(e,t){const n=Array.isArray(e)?e:[e];A.useEffect(()=>(n.forEach(r=>r.subscribe(t)),()=>n.forEach(r=>r.unsubscribe(t))),[...n,t])}function Ns(e,t,n=[]){const r=A.useMemo(t,[]),[s,i]=A.useState(r),o=Array.isArray(e)?e:[e];return A.useEffect(()=>{i(t())},n),A.useEffect(()=>{const a=()=>i(t());return o.forEach(l=>l.subscribe(a)),()=>o.forEach(l=>l.unsubscribe(a))},[...o]),s}var _Q=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,Vp=_M(function(e){return _Q.test(e)||e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)<91}),bQ=function(){const t=Array.prototype.slice.call(arguments).filter(Boolean),n={},r=[];t.forEach(i=>{(i?i.split(" "):[]).forEach(a=>{if(a.startsWith("atm_")){const[,l]=a.split("_");n[l]=a}else r.push(a)})});const s=[];for(const i in n)Object.prototype.hasOwnProperty.call(n,i)&&s.push(n[i]);return s.push(...r),s.join(" ")},Zd=bQ,SQ=e=>e.toUpperCase()===e,wQ=e=>t=>e.indexOf(t)===-1,k3=(e,t)=>{const n={};return Object.keys(e).filter(wQ(t)).forEach(r=>{n[r]=e[r]}),n};function xQ(e,t,n){const r=k3(t,n);if(!e){const s=typeof Vp=="function"?{default:Vp}:Vp;Object.keys(r).forEach(i=>{s.default(i)||delete r[i]})}return r}var EQ=(e,t)=>{};function kQ(e){let t="";return n=>{const r=(i,o)=>{const{as:a=e,class:l=t}=i,c=n.propsAsIs===void 0?!(typeof a=="string"&&a.indexOf("-")===-1&&!SQ(a[0])):n.propsAsIs,u=xQ(c,i,["as","class"]);u.ref=o,u.className=n.atomic?Zd(n.class,u.className||l):Zd(u.className||l,n.class);const{vars:d}=n;if(d){const h={};for(const m in d){const _=d[m],v=_[0],y=_[1]||"",b=typeof v=="function"?v(i):v;EQ(b,n.name),h[`--${m}`]=`${b}${y}`}const p=u.style||{},g=Object.keys(p);g.length>0&&g.forEach(m=>{h[m]=p[m]}),u.style=h}return e.__wyw_meta&&e!==a?(u.as=a,xe.createElement(e,u)):xe.createElement(a,u)},s=xe.forwardRef?xe.forwardRef(r):i=>{const o=k3(i,["innerRef"]);return r(o,i.innerRef)};return s.displayName=n.name,s.__wyw_meta={className:n.class||t,extends:e},s}}var C=kQ,Uy=typeof navigator<"u"?navigator.userAgent.toLowerCase().indexOf("firefox")>0:!1;function zy(e,t,n,r){e.addEventListener?e.addEventListener(t,n,r):e.attachEvent&&e.attachEvent("on".concat(t),function(){n(window.event)})}function C3(e,t){for(var n=t.slice(0,t.length-1),r=0;r<n.length;r++)n[r]=e[n[r].toLowerCase()];return n}function I3(e){typeof e!="string"&&(e=""),e=e.replace(/\s/g,"");for(var t=e.split(","),n=t.lastIndexOf("");n>=0;)t[n-1]+=",",t.splice(n,1),n=t.lastIndexOf("");return t}function CQ(e,t){for(var n=e.length>=t.length?e:t,r=e.length>=t.length?t:e,s=!0,i=0;i<n.length;i++)r.indexOf(n[i])===-1&&(s=!1);return s}var _S={backspace:8,tab:9,clear:12,enter:13,return:13,esc:27,escape:27,space:32,left:37,up:38,right:39,down:40,del:46,delete:46,ins:45,insert:45,home:36,end:35,pageup:33,pagedown:34,capslock:20,num_0:96,num_1:97,num_2:98,num_3:99,num_4:100,num_5:101,num_6:102,num_7:103,num_8:104,num_9:105,num_multiply:106,num_add:107,num_enter:108,num_subtract:109,num_decimal:110,num_divide:111,"⇪":20,",":188,".":190,"/":191,"`":192,"-":Uy?173:189,"=":Uy?61:187,";":Uy?59:186,"'":222,"[":219,"]":221,"\\":220},aa={"⇧":16,shift:16,"⌥":18,alt:18,option:18,"⌃":17,ctrl:17,control:17,"⌘":91,cmd:91,command:91},l1={16:"shiftKey",18:"altKey",17:"ctrlKey",91:"metaKey",shiftKey:16,ctrlKey:17,altKey:18,metaKey:91},sr={16:!1,18:!1,17:!1,91:!1},Tn={};for(var Bh=1;Bh<20;Bh++)_S["f".concat(Bh)]=111+Bh;var qt=[],gC=!1,T3="all",R3=[],av=function(t){return _S[t.toLowerCase()]||aa[t.toLowerCase()]||t.toUpperCase().charCodeAt(0)};function M3(e){T3=e||"all"}function ef(){return T3||"all"}function IQ(){return qt.slice(0)}function TQ(e){var t=e.target||e.srcElement,n=t.tagName,r=!0;return(t.isContentEditable||(n==="INPUT"||n==="TEXTAREA"||n==="SELECT")&&!t.readOnly)&&(r=!1),r}function RQ(e){return typeof e=="string"&&(e=av(e)),qt.indexOf(e)!==-1}function MQ(e,t){var n,r;e||(e=ef());for(var s in Tn)if(Object.prototype.hasOwnProperty.call(Tn,s))for(n=Tn[s],r=0;r<n.length;)n[r].scope===e?n.splice(r,1):r++;ef()===e&&M3(t||"all")}function PQ(e){var t=e.keyCode||e.which||e.charCode,n=qt.indexOf(t);if(n>=0&&qt.splice(n,1),e.key&&e.key.toLowerCase()==="meta"&&qt.splice(0,qt.length),(t===93||t===224)&&(t=91),t in sr){sr[t]=!1;for(var r in aa)aa[r]===t&&(rs[r]=!1)}}function jQ(e){if(typeof e>"u")Object.keys(Tn).forEach(function(o){return delete Tn[o]});else if(Array.isArray(e))e.forEach(function(o){o.key&&Hy(o)});else if(typeof e=="object")e.key&&Hy(e);else if(typeof e=="string"){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var s=n[0],i=n[1];typeof s=="function"&&(i=s,s=""),Hy({key:e,scope:s,method:i,splitKey:"+"})}}var Hy=function(t){var n=t.key,r=t.scope,s=t.method,i=t.splitKey,o=i===void 0?"+":i,a=I3(n);a.forEach(function(l){var c=l.split(o),u=c.length,d=c[u-1],h=d==="*"?"*":av(d);if(Tn[h]){r||(r=ef());var p=u>1?C3(aa,c):[];Tn[h]=Tn[h].filter(function(g){var m=s?g.method===s:!0;return!(m&&g.scope===r&&CQ(g.mods,p))})}})};function mC(e,t,n,r){if(t.element===r){var s;if(t.scope===n||t.scope==="all"){s=t.mods.length>0;for(var i in sr)Object.prototype.hasOwnProperty.call(sr,i)&&(!sr[i]&&t.mods.indexOf(+i)>-1||sr[i]&&t.mods.indexOf(+i)===-1)&&(s=!1);(t.mods.length===0&&!sr[16]&&!sr[18]&&!sr[17]&&!sr[91]||s||t.shortcut==="*")&&t.method(e,t)===!1&&(e.preventDefault?e.preventDefault():e.returnValue=!1,e.stopPropagation&&e.stopPropagation(),e.cancelBubble&&(e.cancelBubble=!0))}}}function vC(e,t){var n=Tn["*"],r=e.keyCode||e.which||e.charCode;if(rs.filter.call(this,e)){if((r===93||r===224)&&(r=91),qt.indexOf(r)===-1&&r!==229&&qt.push(r),["ctrlKey","altKey","shiftKey","metaKey"].forEach(function(g){var m=l1[g];e[g]&&qt.indexOf(m)===-1?qt.push(m):!e[g]&&qt.indexOf(m)>-1?qt.splice(qt.indexOf(m),1):g==="metaKey"&&e[g]&&qt.length===3&&(e.ctrlKey||e.shiftKey||e.altKey||(qt=qt.slice(qt.indexOf(m))))}),r in sr){sr[r]=!0;for(var s in aa)aa[s]===r&&(rs[s]=!0);if(!n)return}for(var i in sr)Object.prototype.hasOwnProperty.call(sr,i)&&(sr[i]=e[l1[i]]);e.getModifierState&&!(e.altKey&&!e.ctrlKey)&&e.getModifierState("AltGraph")&&(qt.indexOf(17)===-1&&qt.push(17),qt.indexOf(18)===-1&&qt.push(18),sr[17]=!0,sr[18]=!0);var o=ef();if(n)for(var a=0;a<n.length;a++)n[a].scope===o&&(e.type==="keydown"&&n[a].keydown||e.type==="keyup"&&n[a].keyup)&&mC(e,n[a],o,t);if(r in Tn){for(var l=0;l<Tn[r].length;l++)if((e.type==="keydown"&&Tn[r][l].keydown||e.type==="keyup"&&Tn[r][l].keyup)&&Tn[r][l].key){for(var c=Tn[r][l],u=c.splitKey,d=c.key.split(u),h=[],p=0;p<d.length;p++)h.push(av(d[p]));h.sort().join("")===qt.sort().join("")&&mC(e,c,o,t)}}}}function OQ(e){return R3.indexOf(e)>-1}function rs(e,t,n){qt=[];var r=I3(e),s=[],i="all",o=document,a=0,l=!1,c=!0,u="+",d=!1;for(n===void 0&&typeof t=="function"&&(n=t),Object.prototype.toString.call(t)==="[object Object]"&&(t.scope&&(i=t.scope),t.element&&(o=t.element),t.keyup&&(l=t.keyup),t.keydown!==void 0&&(c=t.keydown),t.capture!==void 0&&(d=t.capture),typeof t.splitKey=="string"&&(u=t.splitKey)),typeof t=="string"&&(i=t);a<r.length;a++)e=r[a].split(u),s=[],e.length>1&&(s=C3(aa,e)),e=e[e.length-1],e=e==="*"?"*":av(e),e in Tn||(Tn[e]=[]),Tn[e].push({keyup:l,keydown:c,scope:i,mods:s,shortcut:r[a],method:n,key:r[a],splitKey:u,element:o});typeof o<"u"&&!OQ(o)&&window&&(R3.push(o),zy(o,"keydown",function(h){vC(h,o)},d),gC||(gC=!0,zy(window,"focus",function(){qt=[]},d)),zy(o,"keyup",function(h){vC(h,o),PQ(h)},d))}function VQ(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"all";Object.keys(Tn).forEach(function(n){var r=Tn[n].find(function(s){return s.scope===t&&s.shortcut===e});r&&r.method&&r.method()})}var Gy={setScope:M3,getScope:ef,deleteScope:MQ,getPressedKeyCodes:IQ,isPressed:RQ,filter:TQ,trigger:VQ,unbind:jQ,keyMap:_S,modifier:aa,modifierMap:l1};for(var qy in Gy)Object.prototype.hasOwnProperty.call(Gy,qy)&&(rs[qy]=Gy[qy]);if(typeof window<"u"){var LQ=window.hotkeys;rs.noConflict=function(e){return e&&window.hotkeys===rs&&(window.hotkeys=LQ),rs},window.hotkeys=rs}rs.filter=function(){return!0};var P3=function(t,n){var r=t.target,s=r&&r.tagName;return!!(s&&n&&n.includes(s))},$Q=function(t){return P3(t,["INPUT","TEXTAREA","SELECT"])};function xr(e,t,n,r){n instanceof Array&&(r=n,n=void 0);var s=n||{},i=s.enableOnTags,o=s.filter,a=s.keyup,l=s.keydown,c=s.filterPreventDefault,u=c===void 0?!0:c,d=s.enabled,h=d===void 0?!0:d,p=s.enableOnContentEditable,g=p===void 0?!1:p,m=A.useRef(null),_=A.useCallback(function(v,y){var b,w;return o&&!o(v)?!u:$Q(v)&&!P3(v,i)||(b=v.target)!=null&&b.isContentEditable&&!g?!0:m.current===null||document.activeElement===m.current||(w=m.current)!=null&&w.contains(document.activeElement)?(t(v,y),!0):!1},r?[m,i,o].concat(r):[m,i,o]);return A.useEffect(function(){if(!h){rs.unbind(e,_);return}return a&&l!==!0&&(n.keydown=!1),rs(e,n||{},_),function(){return rs.unbind(e,_)}},[_,e,h]),m}rs.isPressed;const c1="a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,r,s,t,u,w,x,y,z,1,2,3,4,5,6,7,8,9,0";var XR,mp,ZR;try{(ZR=(mp=(XR=global==null?void 0:global.navigator)==null?void 0:XR.keyboard)==null?void 0:mp.lock)==null||ZR.call(mp,["Escape"])}catch(e){console.warn(e)}var eM,tM;const BQ=!!((tM=(eM=global==null?void 0:global.navigator)==null?void 0:eM.keyboard)!=null&&tM.lock),ka=e=>t=>{e&&(t.preventDefault(),t.stopPropagation(),e(t))};function kl(e,t=!0,n){cs(te.remoteKeyboardPressed,r=>{var s;t&&r in e&&((s=e[r])==null||s.call(e))}),xr("up",ka(e.up),{enabled:t&&!!(e!=null&&e.up)},n),xr("down",ka(e.down),{enabled:t&&!!(e!=null&&e.down)},n),xr("left",ka(e.left),{enabled:t&&!!(e!=null&&e.left)},n),xr("right",ka(e.right),{enabled:t&&!!(e!=null&&e.right)},n),xr("Enter",ka(e.accept),{enabled:t&&!!(e!=null&&e.accept)},n),xr("Escape,Backspace",ka(e.back),{enabled:t&&!!(e!=null&&e.back)},n),xr("Shift+R",ka(e.random),{enabled:t&&!!(e!=null&&e.random)},n)}function NQ({help:e}){const[t]=Be(ur),[n,r]=Be(HP);xr("shift+h",()=>r(!n),void 0,[n]);const s=Object.entries(e??{}).filter(([,i])=>i!==void 0);return t?null:f.jsx(f.Fragment,{children:f.jsx(YQ,{"data-test":"help-container",onClick:()=>r(!n),visible:!!s.length&&n,children:n&&f.jsxs(f.Fragment,{children:[f.jsx(WQ,{children:"Use indicated keys on your keyboard"}),s.map(([i,o])=>{const{view:a,defaultLabel:l}=qQ[i];return f.jsxs(yC,{children:[f.jsx(_C,{children:o??l}),f.jsx(AC,{children:f.jsx(a,{})})]},i)}),f.jsxs(yC,{children:[f.jsx(_C,{children:"Show/hide this help"}),f.jsx(AC,{children:j3("h")()})]})]})})})}const bS=({vertical:e=!1,horizontal:t=!1})=>f.jsxs(f.Fragment,{children:[f.jsx(ji,{disabled:!e,children:"↑"}),f.jsx("br",{}),f.jsx(ji,{disabled:!t,children:"←"}),f.jsx(ji,{disabled:!e,children:"↓"}),f.jsx(ji,{disabled:!t,children:"→"})]}),DQ=()=>f.jsx(bS,{horizontal:!0}),FQ=()=>f.jsx(bS,{vertical:!0}),UQ=()=>f.jsx(bS,{vertical:!0,horizontal:!0}),zQ=()=>f.jsx(ji,{children:"Enter ⏎"}),HQ=()=>BQ?f.jsx(ji,{children:"Escape"}):f.jsx(ji,{children:"Backspace ⌫"}),j3=e=>()=>f.jsxs(f.Fragment,{children:[f.jsx(ji,{children:"Shift"})," + ",f.jsx(ji,{children:e.toUpperCase()})]}),GQ=()=>f.jsx(f.Fragment,{children:f.jsx(ji,{children:"start typing"})}),qQ={"horizontal-vertical":{view:UQ,defaultLabel:"Navigate"},horizontal:{view:DQ,defaultLabel:"Navigate"},vertical:{view:FQ,defaultLabel:"Navigate"},accept:{view:zQ,defaultLabel:"Select"},back:{view:HQ,defaultLabel:"Go back"},shiftR:{view:j3("r"),defaultLabel:"Pick random"},alphanumeric:{view:GQ,defaultLabel:"Search"}},yC=C("div")({name:"Section",class:"sttzub",propsAsIs:!1}),AC=C("div")({name:"SectionKeys",class:"s1pb9ywh",propsAsIs:!1}),_C=C("span")({name:"SectionHelp",class:"s1r4k87c",propsAsIs:!1}),WQ=C("div")({name:"UseKeyboardIndicator",class:"uieoeka",propsAsIs:!1}),KQ=()=>e=>e.visible?"visible":"hidden",YQ=C("div")({name:"Container",class:"c1tsuo58",propsAsIs:!1,vars:{"c1tsuo58-0":[KQ()]}}),QQ=()=>e=>e.disabled?.25:1,ji=C("kbd")({name:"Kbd",class:"kfz5m4x",propsAsIs:!1,vars:{"kfz5m4x-0":[QQ()]}}),SS=A.createContext({setKeyboard:(e,t)=>{},unsetKeyboard:e=>{},hasContent:!1}),JQ=({children:e})=>{const[t,n]=A.useState({}),r=(u,d)=>{n(h=>({...h,[u]:d}))},s=u=>n(d=>AQ(d,[u])),[i,o]=Object.entries(t).at(-1)??[];cs(te.remoteMicConnected,({id:u})=>{var d;(d=Xe.getRemoteMicById(u))==null||d.connection.send({t:"keyboard-layout",help:o})}),A.useEffect(()=>{Xe.broadcast({t:"keyboard-layout",help:o})},[i]);const{remote:a,...l}=o??{},c=!!Object.values(l).length;return f.jsxs(SS.Provider,{value:{setKeyboard:r,unsetKeyboard:s,hasContent:c},children:[e,f.jsx(NQ,{help:l})]})};var XQ={webm:"data:video/webm;base64,GkXfowEAAAAAAAAfQoaBAUL3gQFC8oEEQvOBCEKChHdlYm1Ch4EEQoWBAhhTgGcBAAAAAAAVkhFNm3RALE27i1OrhBVJqWZTrIHfTbuMU6uEFlSua1OsggEwTbuMU6uEHFO7a1OsghV17AEAAAAAAACkAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAVSalmAQAAAAAAAEUq17GDD0JATYCNTGF2ZjU1LjMzLjEwMFdBjUxhdmY1NS4zMy4xMDBzpJBlrrXf3DCDVB8KcgbMpcr+RImIQJBgAAAAAAAWVK5rAQAAAAAAD++uAQAAAAAAADLXgQFzxYEBnIEAIrWcg3VuZIaFVl9WUDiDgQEj44OEAmJaAOABAAAAAAAABrCBsLqBkK4BAAAAAAAPq9eBAnPFgQKcgQAitZyDdW5khohBX1ZPUkJJU4OBAuEBAAAAAAAAEZ+BArWIQOdwAAAAAABiZIEgY6JPbwIeVgF2b3JiaXMAAAAAAoC7AAAAAAAAgLUBAAAAAAC4AQN2b3JiaXMtAAAAWGlwaC5PcmcgbGliVm9yYmlzIEkgMjAxMDExMDEgKFNjaGF1ZmVudWdnZXQpAQAAABUAAABlbmNvZGVyPUxhdmM1NS41Mi4xMDIBBXZvcmJpcyVCQ1YBAEAAACRzGCpGpXMWhBAaQlAZ4xxCzmvsGUJMEYIcMkxbyyVzkCGkoEKIWyiB0JBVAABAAACHQXgUhIpBCCGEJT1YkoMnPQghhIg5eBSEaUEIIYQQQgghhBBCCCGERTlokoMnQQgdhOMwOAyD5Tj4HIRFOVgQgydB6CCED0K4moOsOQghhCQ1SFCDBjnoHITCLCiKgsQwuBaEBDUojILkMMjUgwtCiJqDSTX4GoRnQXgWhGlBCCGEJEFIkIMGQcgYhEZBWJKDBjm4FITLQagahCo5CB+EIDRkFQCQAACgoiiKoigKEBqyCgDIAAAQQFEUx3EcyZEcybEcCwgNWQUAAAEACAAAoEiKpEiO5EiSJFmSJVmSJVmS5omqLMuyLMuyLMsyEBqyCgBIAABQUQxFcRQHCA1ZBQBkAAAIoDiKpViKpWiK54iOCISGrAIAgAAABAAAEDRDUzxHlETPVFXXtm3btm3btm3btm3btm1blmUZCA1ZBQBAAAAQ0mlmqQaIMAMZBkJDVgEACAAAgBGKMMSA0JBVAABAAACAGEoOogmtOd+c46BZDppKsTkdnEi1eZKbirk555xzzsnmnDHOOeecopxZDJoJrTnnnMSgWQqaCa0555wnsXnQmiqtOeeccc7pYJwRxjnnnCateZCajbU555wFrWmOmkuxOeecSLl5UptLtTnnnHPOOeecc84555zqxekcnBPOOeecqL25lpvQxTnnnE/G6d6cEM4555xzzjnnnHPOOeecIDRkFQAABABAEIaNYdwpCNLnaCBGEWIaMulB9+gwCRqDnELq0ehopJQ6CCWVcVJKJwgNWQUAAAIAQAghhRRSSCGFFFJIIYUUYoghhhhyyimnoIJKKqmooowyyyyzzDLLLLPMOuyssw47DDHEEEMrrcRSU2011lhr7jnnmoO0VlprrbVSSimllFIKQkNWAQAgAAAEQgYZZJBRSCGFFGKIKaeccgoqqIDQkFUAACAAgAAAAABP8hzRER3RER3RER3RER3R8RzPESVREiVREi3TMjXTU0VVdWXXlnVZt31b2IVd933d933d+HVhWJZlWZZlWZZlWZZlWZZlWZYgNGQVAAACAAAghBBCSCGFFFJIKcYYc8w56CSUEAgNWQUAAAIACAAAAHAUR3EcyZEcSbIkS9IkzdIsT/M0TxM9URRF0zRV0RVdUTdtUTZl0zVdUzZdVVZtV5ZtW7Z125dl2/d93/d93/d93/d93/d9XQdCQ1YBABIAADqSIymSIimS4ziOJElAaMgqAEAGAEAAAIriKI7jOJIkSZIlaZJneZaomZrpmZ4qqkBoyCoAABAAQAAAAAAAAIqmeIqpeIqoeI7oiJJomZaoqZoryqbsuq7ruq7ruq7ruq7ruq7ruq7ruq7ruq7ruq7ruq7ruq7ruq4LhIasAgAkAAB0JEdyJEdSJEVSJEdygNCQVQCADACAAAAcwzEkRXIsy9I0T/M0TxM90RM901NFV3SB0JBVAAAgAIAAAAAAAAAMybAUy9EcTRIl1VItVVMt1VJF1VNVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVN0zRNEwgNWQkAkAEAkBBTLS3GmgmLJGLSaqugYwxS7KWxSCpntbfKMYUYtV4ah5RREHupJGOKQcwtpNApJq3WVEKFFKSYYyoVUg5SIDRkhQAQmgHgcBxAsixAsiwAAAAAAAAAkDQN0DwPsDQPAAAAAAAAACRNAyxPAzTPAwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABA0jRA8zxA8zwAAAAAAAAA0DwP8DwR8EQRAAAAAAAAACzPAzTRAzxRBAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABA0jRA8zxA8zwAAAAAAAAAsDwP8EQR0DwRAAAAAAAAACzPAzxRBDzRAwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAEOAAABBgIRQasiIAiBMAcEgSJAmSBM0DSJYFTYOmwTQBkmVB06BpME0AAAAAAAAAAAAAJE2DpkHTIIoASdOgadA0iCIAAAAAAAAAAAAAkqZB06BpEEWApGnQNGgaRBEAAAAAAAAAAAAAzzQhihBFmCbAM02IIkQRpgkAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAGHAAAAgwoQwUGrIiAIgTAHA4imUBAIDjOJYFAACO41gWAABYliWKAABgWZooAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAYcAAACDChDBQashIAiAIAcCiKZQHHsSzgOJYFJMmyAJYF0DyApgFEEQAIAAAocAAACLBBU2JxgEJDVgIAUQAABsWxLE0TRZKkaZoniiRJ0zxPFGma53meacLzPM80IYqiaJoQRVE0TZimaaoqME1VFQAAUOAAABBgg6bE4gCFhqwEAEICAByKYlma5nmeJ4qmqZokSdM8TxRF0TRNU1VJkqZ5niiKommapqqyLE3zPFEURdNUVVWFpnmeKIqiaaqq6sLzPE8URdE0VdV14XmeJ4qiaJqq6roQRVE0TdNUTVV1XSCKpmmaqqqqrgtETxRNU1Vd13WB54miaaqqq7ouEE3TVFVVdV1ZBpimaaqq68oyQFVV1XVdV5YBqqqqruu6sgxQVdd1XVmWZQCu67qyLMsCAAAOHAAAAoygk4wqi7DRhAsPQKEhKwKAKAAAwBimFFPKMCYhpBAaxiSEFEImJaXSUqogpFJSKRWEVEoqJaOUUmopVRBSKamUCkIqJZVSAADYgQMA2IGFUGjISgAgDwCAMEYpxhhzTiKkFGPOOScRUoox55yTSjHmnHPOSSkZc8w556SUzjnnnHNSSuacc845KaVzzjnnnJRSSuecc05KKSWEzkEnpZTSOeecEwAAVOAAABBgo8jmBCNBhYasBABSAQAMjmNZmuZ5omialiRpmud5niiapiZJmuZ5nieKqsnzPE8URdE0VZXneZ4oiqJpqirXFUXTNE1VVV2yLIqmaZqq6rowTdNUVdd1XZimaaqq67oubFtVVdV1ZRm2raqq6rqyDFzXdWXZloEsu67s2rIAAPAEBwCgAhtWRzgpGgssNGQlAJABAEAYg5BCCCFlEEIKIYSUUggJAAAYcAAACDChDBQashIASAUAAIyx1lprrbXWQGettdZaa62AzFprrbXWWmuttdZaa6211lJrrbXWWmuttdZaa6211lprrbXWWmuttdZaa6211lprrbXWWmuttdZaa6211lprrbXWWmstpZRSSimllFJKKaWUUkoppZRSSgUA+lU4APg/2LA6wknRWGChISsBgHAAAMAYpRhzDEIppVQIMeacdFRai7FCiDHnJKTUWmzFc85BKCGV1mIsnnMOQikpxVZjUSmEUlJKLbZYi0qho5JSSq3VWIwxqaTWWoutxmKMSSm01FqLMRYjbE2ptdhqq7EYY2sqLbQYY4zFCF9kbC2m2moNxggjWywt1VprMMYY3VuLpbaaizE++NpSLDHWXAAAd4MDAESCjTOsJJ0VjgYXGrISAAgJACAQUooxxhhzzjnnpFKMOeaccw5CCKFUijHGnHMOQgghlIwx5pxzEEIIIYRSSsaccxBCCCGEkFLqnHMQQgghhBBKKZ1zDkIIIYQQQimlgxBCCCGEEEoopaQUQgghhBBCCKmklEIIIYRSQighlZRSCCGEEEIpJaSUUgohhFJCCKGElFJKKYUQQgillJJSSimlEkoJJYQSUikppRRKCCGUUkpKKaVUSgmhhBJKKSWllFJKIYQQSikFAAAcOAAABBhBJxlVFmGjCRcegEJDVgIAZAAAkKKUUiktRYIipRikGEtGFXNQWoqocgxSzalSziDmJJaIMYSUk1Qy5hRCDELqHHVMKQYtlRhCxhik2HJLoXMOAAAAQQCAgJAAAAMEBTMAwOAA4XMQdAIERxsAgCBEZohEw0JweFAJEBFTAUBigkIuAFRYXKRdXECXAS7o4q4DIQQhCEEsDqCABByccMMTb3jCDU7QKSp1IAAAAAAADADwAACQXAAREdHMYWRobHB0eHyAhIiMkAgAAAAAABcAfAAAJCVAREQ0cxgZGhscHR4fICEiIyQBAIAAAgAAAAAggAAEBAQAAAAAAAIAAAAEBB9DtnUBAAAAAAAEPueBAKOFggAAgACjzoEAA4BwBwCdASqwAJAAAEcIhYWIhYSIAgIABhwJ7kPfbJyHvtk5D32ych77ZOQ99snIe+2TkPfbJyHvtk5D32ych77ZOQ99YAD+/6tQgKOFggADgAqjhYIAD4AOo4WCACSADqOZgQArADECAAEQEAAYABhYL/QACIBDmAYAAKOFggA6gA6jhYIAT4AOo5mBAFMAMQIAARAQABgAGFgv9AAIgEOYBgAAo4WCAGSADqOFggB6gA6jmYEAewAxAgABEBAAGAAYWC/0AAiAQ5gGAACjhYIAj4AOo5mBAKMAMQIAARAQABgAGFgv9AAIgEOYBgAAo4WCAKSADqOFggC6gA6jmYEAywAxAgABEBAAGAAYWC/0AAiAQ5gGAACjhYIAz4AOo4WCAOSADqOZgQDzADECAAEQEAAYABhYL/QACIBDmAYAAKOFggD6gA6jhYIBD4AOo5iBARsAEQIAARAQFGAAYWC/0AAiAQ5gGACjhYIBJIAOo4WCATqADqOZgQFDADECAAEQEAAYABhYL/QACIBDmAYAAKOFggFPgA6jhYIBZIAOo5mBAWsAMQIAARAQABgAGFgv9AAIgEOYBgAAo4WCAXqADqOFggGPgA6jmYEBkwAxAgABEBAAGAAYWC/0AAiAQ5gGAACjhYIBpIAOo4WCAbqADqOZgQG7ADECAAEQEAAYABhYL/QACIBDmAYAAKOFggHPgA6jmYEB4wAxAgABEBAAGAAYWC/0AAiAQ5gGAACjhYIB5IAOo4WCAfqADqOZgQILADECAAEQEAAYABhYL/QACIBDmAYAAKOFggIPgA6jhYICJIAOo5mBAjMAMQIAARAQABgAGFgv9AAIgEOYBgAAo4WCAjqADqOFggJPgA6jmYECWwAxAgABEBAAGAAYWC/0AAiAQ5gGAACjhYICZIAOo4WCAnqADqOZgQKDADECAAEQEAAYABhYL/QACIBDmAYAAKOFggKPgA6jhYICpIAOo5mBAqsAMQIAARAQABgAGFgv9AAIgEOYBgAAo4WCArqADqOFggLPgA6jmIEC0wARAgABEBAUYABhYL/QACIBDmAYAKOFggLkgA6jhYIC+oAOo5mBAvsAMQIAARAQABgAGFgv9AAIgEOYBgAAo4WCAw+ADqOZgQMjADECAAEQEAAYABhYL/QACIBDmAYAAKOFggMkgA6jhYIDOoAOo5mBA0sAMQIAARAQABgAGFgv9AAIgEOYBgAAo4WCA0+ADqOFggNkgA6jmYEDcwAxAgABEBAAGAAYWC/0AAiAQ5gGAACjhYIDeoAOo4WCA4+ADqOZgQObADECAAEQEAAYABhYL/QACIBDmAYAAKOFggOkgA6jhYIDuoAOo5mBA8MAMQIAARAQABgAGFgv9AAIgEOYBgAAo4WCA8+ADqOFggPkgA6jhYID+oAOo4WCBA+ADhxTu2sBAAAAAAAAEbuPs4EDt4r3gQHxghEr8IEK",mp4:"data:video/mp4;base64,AAAAHGZ0eXBNNFYgAAACAGlzb21pc28yYXZjMQAAAAhmcmVlAAAGF21kYXTeBAAAbGliZmFhYyAxLjI4AABCAJMgBDIARwAAArEGBf//rdxF6b3m2Ui3lizYINkj7u94MjY0IC0gY29yZSAxNDIgcjIgOTU2YzhkOCAtIEguMjY0L01QRUctNCBBVkMgY29kZWMgLSBDb3B5bGVmdCAyMDAzLTIwMTQgLSBodHRwOi8vd3d3LnZpZGVvbGFuLm9yZy94MjY0Lmh0bWwgLSBvcHRpb25zOiBjYWJhYz0wIHJlZj0zIGRlYmxvY2s9MTowOjAgYW5hbHlzZT0weDE6MHgxMTEgbWU9aGV4IHN1Ym1lPTcgcHN5PTEgcHN5X3JkPTEuMDA6MC4wMCBtaXhlZF9yZWY9MSBtZV9yYW5nZT0xNiBjaHJvbWFfbWU9MSB0cmVsbGlzPTEgOHg4ZGN0PTAgY3FtPTAgZGVhZHpvbmU9MjEsMTEgZmFzdF9wc2tpcD0xIGNocm9tYV9xcF9vZmZzZXQ9LTIgdGhyZWFkcz02IGxvb2thaGVhZF90aHJlYWRzPTEgc2xpY2VkX3RocmVhZHM9MCBucj0wIGRlY2ltYXRlPTEgaW50ZXJsYWNlZD0wIGJsdXJheV9jb21wYXQ9MCBjb25zdHJhaW5lZF9pbnRyYT0wIGJmcmFtZXM9MCB3ZWlnaHRwPTAga2V5aW50PTI1MCBrZXlpbnRfbWluPTI1IHNjZW5lY3V0PTQwIGludHJhX3JlZnJlc2g9MCByY19sb29rYWhlYWQ9NDAgcmM9Y3JmIG1idHJlZT0xIGNyZj0yMy4wIHFjb21wPTAuNjAgcXBtaW49MCBxcG1heD02OSBxcHN0ZXA9NCB2YnZfbWF4cmF0ZT03NjggdmJ2X2J1ZnNpemU9MzAwMCBjcmZfbWF4PTAuMCBuYWxfaHJkPW5vbmUgZmlsbGVyPTAgaXBfcmF0aW89MS40MCBhcT0xOjEuMDAAgAAAAFZliIQL8mKAAKvMnJycnJycnJycnXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXiEASZACGQAjgCEASZACGQAjgAAAAAdBmjgX4GSAIQBJkAIZACOAAAAAB0GaVAX4GSAhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZpgL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGagC/AySEASZACGQAjgAAAAAZBmqAvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZrAL8DJIQBJkAIZACOAAAAABkGa4C/AySEASZACGQAjgCEASZACGQAjgAAAAAZBmwAvwMkhAEmQAhkAI4AAAAAGQZsgL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGbQC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBm2AvwMkhAEmQAhkAI4AAAAAGQZuAL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGboC/AySEASZACGQAjgAAAAAZBm8AvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZvgL8DJIQBJkAIZACOAAAAABkGaAC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBmiAvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZpAL8DJIQBJkAIZACOAAAAABkGaYC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBmoAvwMkhAEmQAhkAI4AAAAAGQZqgL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGawC/AySEASZACGQAjgAAAAAZBmuAvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZsAL8DJIQBJkAIZACOAAAAABkGbIC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBm0AvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZtgL8DJIQBJkAIZACOAAAAABkGbgCvAySEASZACGQAjgCEASZACGQAjgAAAAAZBm6AnwMkhAEmQAhkAI4AhAEmQAhkAI4AhAEmQAhkAI4AhAEmQAhkAI4AAAAhubW9vdgAAAGxtdmhkAAAAAAAAAAAAAAAAAAAD6AAABDcAAQAAAQAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAwAAAzB0cmFrAAAAXHRraGQAAAADAAAAAAAAAAAAAAABAAAAAAAAA+kAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAALAAAACQAAAAAAAkZWR0cwAAABxlbHN0AAAAAAAAAAEAAAPpAAAAAAABAAAAAAKobWRpYQAAACBtZGhkAAAAAAAAAAAAAAAAAAB1MAAAdU5VxAAAAAAALWhkbHIAAAAAAAAAAHZpZGUAAAAAAAAAAAAAAABWaWRlb0hhbmRsZXIAAAACU21pbmYAAAAUdm1oZAAAAAEAAAAAAAAAAAAAACRkaW5mAAAAHGRyZWYAAAAAAAAAAQAAAAx1cmwgAAAAAQAAAhNzdGJsAAAAr3N0c2QAAAAAAAAAAQAAAJ9hdmMxAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAALAAkABIAAAASAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGP//AAAALWF2Y0MBQsAN/+EAFWdCwA3ZAsTsBEAAAPpAADqYA8UKkgEABWjLg8sgAAAAHHV1aWRraEDyXyRPxbo5pRvPAyPzAAAAAAAAABhzdHRzAAAAAAAAAAEAAAAeAAAD6QAAABRzdHNzAAAAAAAAAAEAAAABAAAAHHN0c2MAAAAAAAAAAQAAAAEAAAABAAAAAQAAAIxzdHN6AAAAAAAAAAAAAAAeAAADDwAAAAsAAAALAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAAiHN0Y28AAAAAAAAAHgAAAEYAAANnAAADewAAA5gAAAO0AAADxwAAA+MAAAP2AAAEEgAABCUAAARBAAAEXQAABHAAAASMAAAEnwAABLsAAATOAAAE6gAABQYAAAUZAAAFNQAABUgAAAVkAAAFdwAABZMAAAWmAAAFwgAABd4AAAXxAAAGDQAABGh0cmFrAAAAXHRraGQAAAADAAAAAAAAAAAAAAACAAAAAAAABDcAAAAAAAAAAAAAAAEBAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAkZWR0cwAAABxlbHN0AAAAAAAAAAEAAAQkAAADcAABAAAAAAPgbWRpYQAAACBtZGhkAAAAAAAAAAAAAAAAAAC7gAAAykBVxAAAAAAALWhkbHIAAAAAAAAAAHNvdW4AAAAAAAAAAAAAAABTb3VuZEhhbmRsZXIAAAADi21pbmYAAAAQc21oZAAAAAAAAAAAAAAAJGRpbmYAAAAcZHJlZgAAAAAAAAABAAAADHVybCAAAAABAAADT3N0YmwAAABnc3RzZAAAAAAAAAABAAAAV21wNGEAAAAAAAAAAQAAAAAAAAAAAAIAEAAAAAC7gAAAAAAAM2VzZHMAAAAAA4CAgCIAAgAEgICAFEAVBbjYAAu4AAAADcoFgICAAhGQBoCAgAECAAAAIHN0dHMAAAAAAAAAAgAAADIAAAQAAAAAAQAAAkAAAAFUc3RzYwAAAAAAAAAbAAAAAQAAAAEAAAABAAAAAgAAAAIAAAABAAAAAwAAAAEAAAABAAAABAAAAAIAAAABAAAABgAAAAEAAAABAAAABwAAAAIAAAABAAAACAAAAAEAAAABAAAACQAAAAIAAAABAAAACgAAAAEAAAABAAAACwAAAAIAAAABAAAADQAAAAEAAAABAAAADgAAAAIAAAABAAAADwAAAAEAAAABAAAAEAAAAAIAAAABAAAAEQAAAAEAAAABAAAAEgAAAAIAAAABAAAAFAAAAAEAAAABAAAAFQAAAAIAAAABAAAAFgAAAAEAAAABAAAAFwAAAAIAAAABAAAAGAAAAAEAAAABAAAAGQAAAAIAAAABAAAAGgAAAAEAAAABAAAAGwAAAAIAAAABAAAAHQAAAAEAAAABAAAAHgAAAAIAAAABAAAAHwAAAAQAAAABAAAA4HN0c3oAAAAAAAAAAAAAADMAAAAaAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAACMc3RjbwAAAAAAAAAfAAAALAAAA1UAAANyAAADhgAAA6IAAAO+AAAD0QAAA+0AAAQAAAAEHAAABC8AAARLAAAEZwAABHoAAASWAAAEqQAABMUAAATYAAAE9AAABRAAAAUjAAAFPwAABVIAAAVuAAAFgQAABZ0AAAWwAAAFzAAABegAAAX7AAAGFwAAAGJ1ZHRhAAAAWm1ldGEAAAAAAAAAIWhkbHIAAAAAAAAAAG1kaXJhcHBsAAAAAAAAAAAAAAAALWlsc3QAAAAlqXRvbwAAAB1kYXRhAAAAAQAAAABMYXZmNTUuMzMuMTAw"};const{webm:ZQ,mp4:eJ}=XQ,Wy=()=>typeof navigator<"u"&&parseFloat((""+(/CPU.*OS ([0-9_]{3,4})[0-9_]{0,1}|(CPU like).*AppleWebKit.*Mobile/i.exec(navigator.userAgent)||[0,""])[1]).replace("undefined","3_2").replace("_",".").replace("_",""))<10&&!window.MSStream,Ky=()=>"wakeLock"in navigator&&window.navigator.userAgent.indexOf("Samsung")===-1;class tJ{constructor(){if(this.enabled=!1,Ky()){this._wakeLock=null;const t=()=>{this._wakeLock!==null&&document.visibilityState==="visible"&&this.enable()};document.addEventListener("visibilitychange",t),document.addEventListener("fullscreenchange",t)}else Wy()?this.noSleepTimer=null:(this.noSleepVideo=document.createElement("video"),this.noSleepVideo.setAttribute("title","No Sleep"),this.noSleepVideo.setAttribute("playsinline",""),this._addSourceToVideo(this.noSleepVideo,"webm",ZQ),this._addSourceToVideo(this.noSleepVideo,"mp4",eJ),Object.assign(this.noSleepVideo.style,{position:"absolute",left:"-100%",top:"-100%"}),document.querySelector("body").append(this.noSleepVideo),this.noSleepVideo.addEventListener("loadedmetadata",()=>{this.noSleepVideo.duration<=1?this.noSleepVideo.setAttribute("loop",""):this.noSleepVideo.addEventListener("timeupdate",()=>{this.noSleepVideo.currentTime>.5&&(this.noSleepVideo.currentTime=Math.random())})}))}_addSourceToVideo(t,n,r){var s=document.createElement("source");s.src=r,s.type=`video/${n}`,t.appendChild(s)}get isEnabled(){return this.enabled}enable(){return Ky()?navigator.wakeLock.request("screen").then(t=>{this._wakeLock=t,this.enabled=!0,console.log("Wake Lock active."),this._wakeLock.addEventListener("release",()=>{console.log("Wake Lock released.")})}).catch(t=>{throw this.enabled=!1,console.error(`${t.name}, ${t.message}`),t}):Wy()?(this.disable(),console.warn(`
        NoSleep enabled for older iOS devices. This can interrupt
        active or long-running network requests from completing successfully.
        See https://github.com/richtr/NoSleep.js/issues/15 for more details.
      `),this.noSleepTimer=window.setInterval(()=>{document.hidden||(window.location.href=window.location.href.split("#")[0],window.setTimeout(window.stop,0))},15e3),this.enabled=!0,Promise.resolve()):this.noSleepVideo.play().then(n=>(this.enabled=!0,n)).catch(n=>{throw this.enabled=!1,n})}disable(){Ky()?(this._wakeLock&&this._wakeLock.release(),this._wakeLock=null):Wy()?this.noSleepTimer&&(console.warn(`
          NoSleep now disabled for older iOS devices.
        `),window.clearInterval(this.noSleepTimer),this.noSleepTimer=null):this.noSleepVideo.pause(),this.enabled=!1}}var nJ=tJ;const rJ=cr(nJ),wS=A.createContext({visible:!0,theme:"regular",setVisibility:e=>{},setTheme:e=>{}}),pa=(e,t="regular")=>{const{setVisibility:n,setTheme:r}=A.useContext(wS);A.useEffect(()=>{n(e)},[e,n]),A.useEffect(()=>{r(t)},[t,r])};function sJ({children:e}){const[t,n]=A.useState(!0),[r,s]=A.useState("regular"),[i]=Be(Ms);return f.jsxs(wS.Provider,{value:{visible:t,setVisibility:n,setTheme:s,theme:r},children:[t&&f.jsx(hJ,{className:Zd(r==="christmas"?aJ:r==="eurovision"?lJ:cJ,i==="high"&&dJ),bgtheme:r,children:r==="eurovision"&&f.jsx(u1,{})}),e]})}const iJ="e91txq9",oJ=C("div")({name:"EscBar",class:"e1wgpngo",propsAsIs:!1}),u1=()=>{var e;return f.jsx(f.Fragment,{children:f.jsx(oJ,{className:Zd(((e=global.location)==null?void 0:e.href.includes("/remote-mic"))&&iJ)})})},aJ="cghlwk7",lJ="etr1qpi",cJ="r1xqs2w6",uJ=C("div")({name:"BackgroundStatic",class:"b1lvgsce",propsAsIs:!1}),dJ="b65hrzp",fJ=()=>uJ,hJ=C(fJ())({name:"Background",class:"b181luos",propsAsIs:!0});function pJ({size:e=16}){return f.jsx("style",{children:`html {
                font-size: ${e}px !important;
            }`})}function lv(e){return A.useMemo(()=>{var t;return new URLSearchParams((t=global.location)==null?void 0:t.search).get(e)},[e])}const gJ=C("div")({name:"GameScreens",class:"g8sft15",propsAsIs:!1});var xS={},O3={exports:{}};(function(e){function t(n){return n&&n.__esModule?n:{default:n}}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports})(O3);var Ze=O3.exports,Yy={};function Bo(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function V3(e){if(!Bo(e))return e;const t={};return Object.keys(e).forEach(n=>{t[n]=V3(e[n])}),t}function ui(e,t,n={clone:!0}){const r=n.clone?Me({},e):e;return Bo(e)&&Bo(t)&&Object.keys(t).forEach(s=>{s!=="__proto__"&&(Bo(t[s])&&s in e&&Bo(e[s])?r[s]=ui(e[s],t[s],n):n.clone?r[s]=Bo(t[s])?V3(t[s]):t[s]:r[s]=t[s])}),r}const mJ=Object.freeze(Object.defineProperty({__proto__:null,default:ui,isPlainObject:Bo},Symbol.toStringTag,{value:"Module"}));var L3={exports:{}},vJ="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",yJ=vJ,AJ=yJ;function $3(){}function B3(){}B3.resetWarningCache=$3;var _J=function(){function e(r,s,i,o,a,l){if(l!==AJ){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}e.isRequired=e;function t(){return e}var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:B3,resetWarningCache:$3};return n.PropTypes=n,n};L3.exports=_J();var bJ=L3.exports;const We=cr(bJ);function ll(e){let t="https://mui.com/production-error/?code="+e;for(let n=1;n<arguments.length;n+=1)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified MUI error #"+e+"; visit "+t+" for the full message."}const SJ=Object.freeze(Object.defineProperty({__proto__:null,default:ll},Symbol.toStringTag,{value:"Module"}));var N3={exports:{}},wt={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ES=Symbol.for("react.element"),kS=Symbol.for("react.portal"),cv=Symbol.for("react.fragment"),uv=Symbol.for("react.strict_mode"),dv=Symbol.for("react.profiler"),fv=Symbol.for("react.provider"),hv=Symbol.for("react.context"),wJ=Symbol.for("react.server_context"),pv=Symbol.for("react.forward_ref"),gv=Symbol.for("react.suspense"),mv=Symbol.for("react.suspense_list"),vv=Symbol.for("react.memo"),yv=Symbol.for("react.lazy"),xJ=Symbol.for("react.offscreen"),D3;D3=Symbol.for("react.module.reference");function Hs(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case ES:switch(e=e.type,e){case cv:case dv:case uv:case gv:case mv:return e;default:switch(e=e&&e.$$typeof,e){case wJ:case hv:case pv:case yv:case vv:case fv:return e;default:return t}}case kS:return t}}}wt.ContextConsumer=hv;wt.ContextProvider=fv;wt.Element=ES;wt.ForwardRef=pv;wt.Fragment=cv;wt.Lazy=yv;wt.Memo=vv;wt.Portal=kS;wt.Profiler=dv;wt.StrictMode=uv;wt.Suspense=gv;wt.SuspenseList=mv;wt.isAsyncMode=function(){return!1};wt.isConcurrentMode=function(){return!1};wt.isContextConsumer=function(e){return Hs(e)===hv};wt.isContextProvider=function(e){return Hs(e)===fv};wt.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===ES};wt.isForwardRef=function(e){return Hs(e)===pv};wt.isFragment=function(e){return Hs(e)===cv};wt.isLazy=function(e){return Hs(e)===yv};wt.isMemo=function(e){return Hs(e)===vv};wt.isPortal=function(e){return Hs(e)===kS};wt.isProfiler=function(e){return Hs(e)===dv};wt.isStrictMode=function(e){return Hs(e)===uv};wt.isSuspense=function(e){return Hs(e)===gv};wt.isSuspenseList=function(e){return Hs(e)===mv};wt.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===cv||e===dv||e===uv||e===gv||e===mv||e===xJ||typeof e=="object"&&e!==null&&(e.$$typeof===yv||e.$$typeof===vv||e.$$typeof===fv||e.$$typeof===hv||e.$$typeof===pv||e.$$typeof===D3||e.getModuleId!==void 0)};wt.typeOf=Hs;N3.exports=wt;var bC=N3.exports;const EJ=/^\s*function(?:\s|\s*\/\*.*\*\/\s*)+([^(\s/]*)\s*/;function F3(e){const t=`${e}`.match(EJ);return t&&t[1]||""}function U3(e,t=""){return e.displayName||e.name||F3(e)||t}function SC(e,t,n){const r=U3(t);return e.displayName||(r!==""?`${n}(${r})`:n)}function kJ(e){if(e!=null){if(typeof e=="string")return e;if(typeof e=="function")return U3(e,"Component");if(typeof e=="object")switch(e.$$typeof){case bC.ForwardRef:return SC(e,e.render,"ForwardRef");case bC.Memo:return SC(e,e.type,"memo");default:return}}}const CJ=Object.freeze(Object.defineProperty({__proto__:null,default:kJ,getFunctionName:F3},Symbol.toStringTag,{value:"Module"}));function Qn(e){if(typeof e!="string")throw new Error(ll(7));return e.charAt(0).toUpperCase()+e.slice(1)}const IJ=Object.freeze(Object.defineProperty({__proto__:null,default:Qn},Symbol.toStringTag,{value:"Module"}));function TJ(...e){return e.reduce((t,n)=>n==null?t:function(...s){t.apply(this,s),n.apply(this,s)},()=>{})}function RJ(e,t=166){let n;function r(...s){const i=()=>{e.apply(this,s)};clearTimeout(n),n=setTimeout(i,t)}return r.clear=()=>{clearTimeout(n)},r}function MJ(e,t){return()=>null}function PJ(e,t){var n,r;return A.isValidElement(e)&&t.indexOf((n=e.type.muiName)!=null?n:(r=e.type)==null||(r=r._payload)==null||(r=r.value)==null?void 0:r.muiName)!==-1}function z3(e){return e&&e.ownerDocument||document}function jJ(e){return z3(e).defaultView||window}function OJ(e,t){return()=>null}function H3(e,t){typeof e=="function"?e(t):e&&(e.current=t)}const G3=typeof window<"u"?A.useLayoutEffect:A.useEffect;let wC=0;function VJ(e){const[t,n]=A.useState(e),r=e||t;return A.useEffect(()=>{t==null&&(wC+=1,n(`mui-${wC}`))},[t]),r}const xC=Xp.useId;function LJ(e){if(xC!==void 0){const t=xC();return e??t}return VJ(e)}function $J(e,t,n,r,s){return null}function BJ({controlled:e,default:t,name:n,state:r="value"}){const{current:s}=A.useRef(e!==void 0),[i,o]=A.useState(t),a=s?e:i,l=A.useCallback(c=>{s||o(c)},[]);return[a,l]}function rd(e){const t=A.useRef(e);return G3(()=>{t.current=e}),A.useRef((...n)=>(0,t.current)(...n)).current}function d1(...e){return A.useMemo(()=>e.every(t=>t==null)?null:t=>{e.forEach(n=>{H3(n,t)})},e)}const EC={};function NJ(e,t){const n=A.useRef(EC);return n.current===EC&&(n.current=e(t)),n}const DJ=[];function FJ(e){A.useEffect(e,DJ)}class Av{constructor(){this.currentId=null,this.clear=()=>{this.currentId!==null&&(clearTimeout(this.currentId),this.currentId=null)},this.disposeEffect=()=>this.clear}static create(){return new Av}start(t,n){this.clear(),this.currentId=setTimeout(()=>{this.currentId=null,n()},t)}}function UJ(){const e=NJ(Av.create).current;return FJ(e.disposeEffect),e}let _v=!0,f1=!1;const zJ=new Av,HJ={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function GJ(e){const{type:t,tagName:n}=e;return!!(n==="INPUT"&&HJ[t]&&!e.readOnly||n==="TEXTAREA"&&!e.readOnly||e.isContentEditable)}function qJ(e){e.metaKey||e.altKey||e.ctrlKey||(_v=!0)}function Qy(){_v=!1}function WJ(){this.visibilityState==="hidden"&&f1&&(_v=!0)}function KJ(e){e.addEventListener("keydown",qJ,!0),e.addEventListener("mousedown",Qy,!0),e.addEventListener("pointerdown",Qy,!0),e.addEventListener("touchstart",Qy,!0),e.addEventListener("visibilitychange",WJ,!0)}function YJ(e){const{target:t}=e;try{return t.matches(":focus-visible")}catch{}return _v||GJ(t)}function q3(){const e=A.useCallback(s=>{s!=null&&KJ(s.ownerDocument)},[]),t=A.useRef(!1);function n(){return t.current?(f1=!0,zJ.start(100,()=>{f1=!1}),t.current=!1,!0):!1}function r(s){return YJ(s)?(t.current=!0,!0):!1}return{isFocusVisibleRef:t,onFocus:r,onBlur:n,ref:e}}function W3(e,t){const n=Me({},t);return Object.keys(e).forEach(r=>{if(r.toString().match(/^(components|slots)$/))n[r]=Me({},e[r],n[r]);else if(r.toString().match(/^(componentsProps|slotProps)$/)){const s=e[r]||{},i=t[r];n[r]={},!i||!Object.keys(i)?n[r]=s:!s||!Object.keys(s)?n[r]=i:(n[r]=Me({},i),Object.keys(s).forEach(o=>{n[r][o]=W3(s[o],i[o])}))}else n[r]===void 0&&(n[r]=e[r])}),n}function Gf(e,t,n=void 0){const r={};return Object.keys(e).forEach(s=>{r[s]=e[s].reduce((i,o)=>{if(o){const a=t(o);a!==""&&i.push(a),n&&n[o]&&i.push(n[o])}return i},[]).join(" ")}),r}const kC=e=>e,QJ=()=>{let e=kC;return{configure(t){e=t},generate(t){return e(t)},reset(){e=kC}}},JJ=QJ(),K3=JJ,XJ={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function hu(e,t,n="Mui"){const r=XJ[t];return r?`${n}-${r}`:`${K3.generate(e)}-${t}`}function pu(e,t,n="Mui"){const r={};return t.forEach(s=>{r[s]=hu(e,s,n)}),r}function Y3(e,t=Number.MIN_SAFE_INTEGER,n=Number.MAX_SAFE_INTEGER){return Math.max(t,Math.min(e,n))}const ZJ=Object.freeze(Object.defineProperty({__proto__:null,default:Y3},Symbol.toStringTag,{value:"Module"}));function _r(e,t){if(e==null)return{};var n={},r=Object.keys(e),s,i;for(i=0;i<r.length;i++)s=r[i],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}function Q3(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(n=Q3(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function Vr(){for(var e,t,n=0,r="",s=arguments.length;n<s;n++)(e=arguments[n])&&(t=Q3(e))&&(r&&(r+=" "),r+=t);return r}function eX(e){const{theme:t,name:n,props:r}=e;return!t||!t.components||!t.components[n]||!t.components[n].defaultProps?r:W3(t.components[n].defaultProps,r)}const tX=["values","unit","step"],nX=e=>{const t=Object.keys(e).map(n=>({key:n,val:e[n]}))||[];return t.sort((n,r)=>n.val-r.val),t.reduce((n,r)=>Me({},n,{[r.key]:r.val}),{})};function J3(e){const{values:t={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:n="px",step:r=5}=e,s=_r(e,tX),i=nX(t),o=Object.keys(i);function a(h){return`@media (min-width:${typeof t[h]=="number"?t[h]:h}${n})`}function l(h){return`@media (max-width:${(typeof t[h]=="number"?t[h]:h)-r/100}${n})`}function c(h,p){const g=o.indexOf(p);return`@media (min-width:${typeof t[h]=="number"?t[h]:h}${n}) and (max-width:${(g!==-1&&typeof t[o[g]]=="number"?t[o[g]]:p)-r/100}${n})`}function u(h){return o.indexOf(h)+1<o.length?c(h,o[o.indexOf(h)+1]):a(h)}function d(h){const p=o.indexOf(h);return p===0?a(o[1]):p===o.length-1?l(o[p]):c(h,o[o.indexOf(h)+1]).replace("@media","@media not all and")}return Me({keys:o,values:i,up:a,down:l,between:c,only:u,not:d,unit:n},s)}const rX={borderRadius:4},sX=rX;function Sd(e,t){return t?ui(e,t,{clone:!1}):e}const CS={xs:0,sm:600,md:900,lg:1200,xl:1536},CC={keys:["xs","sm","md","lg","xl"],up:e=>`@media (min-width:${CS[e]}px)`};function mo(e,t,n){const r=e.theme||{};if(Array.isArray(t)){const i=r.breakpoints||CC;return t.reduce((o,a,l)=>(o[i.up(i.keys[l])]=n(t[l]),o),{})}if(typeof t=="object"){const i=r.breakpoints||CC;return Object.keys(t).reduce((o,a)=>{if(Object.keys(i.values||CS).indexOf(a)!==-1){const l=i.up(a);o[l]=n(t[a],a)}else{const l=a;o[l]=t[l]}return o},{})}return n(t)}function X3(e={}){var t;return((t=e.keys)==null?void 0:t.reduce((r,s)=>{const i=e.up(s);return r[i]={},r},{}))||{}}function Z3(e,t){return e.reduce((n,r)=>{const s=n[r];return(!s||Object.keys(s).length===0)&&delete n[r],n},t)}function F_e(e,...t){const n=X3(e),r=[n,...t].reduce((s,i)=>ui(s,i),{});return Z3(Object.keys(n),r)}function iX(e,t){if(typeof e!="object")return{};const n={},r=Object.keys(t);return Array.isArray(e)?r.forEach((s,i)=>{i<e.length&&(n[s]=!0)}):r.forEach(s=>{e[s]!=null&&(n[s]=!0)}),n}function U_e({values:e,breakpoints:t,base:n}){const r=n||iX(e,t),s=Object.keys(r);if(s.length===0)return e;let i;return s.reduce((o,a,l)=>(Array.isArray(e)?(o[a]=e[l]!=null?e[l]:e[i],i=l):typeof e=="object"?(o[a]=e[a]!=null?e[a]:e[i],i=a):o[a]=e,o),{})}function bv(e,t,n=!0){if(!t||typeof t!="string")return null;if(e&&e.vars&&n){const r=`vars.${t}`.split(".").reduce((s,i)=>s&&s[i]?s[i]:null,e);if(r!=null)return r}return t.split(".").reduce((r,s)=>r&&r[s]!=null?r[s]:null,e)}function Tg(e,t,n,r=n){let s;return typeof e=="function"?s=e(n):Array.isArray(e)?s=e[n]||r:s=bv(e,n)||r,t&&(s=t(s,r,e)),s}function wn(e){const{prop:t,cssProperty:n=e.prop,themeKey:r,transform:s}=e,i=o=>{if(o[t]==null)return null;const a=o[t],l=o.theme,c=bv(l,r)||{};return mo(o,a,d=>{let h=Tg(c,s,d);return d===h&&typeof d=="string"&&(h=Tg(c,s,`${t}${d==="default"?"":Qn(d)}`,d)),n===!1?h:{[n]:h}})};return i.propTypes={},i.filterProps=[t],i}function oX(e){const t={};return n=>(t[n]===void 0&&(t[n]=e(n)),t[n])}const aX={m:"margin",p:"padding"},lX={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},IC={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},cX=oX(e=>{if(e.length>2)if(IC[e])e=IC[e];else return[e];const[t,n]=e.split(""),r=aX[t],s=lX[n]||"";return Array.isArray(s)?s.map(i=>r+i):[r+s]}),IS=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],TS=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...IS,...TS];function qf(e,t,n,r){var s;const i=(s=bv(e,t,!1))!=null?s:n;return typeof i=="number"?o=>typeof o=="string"?o:i*o:Array.isArray(i)?o=>typeof o=="string"?o:i[o]:typeof i=="function"?i:()=>{}}function eV(e){return qf(e,"spacing",8)}function Wf(e,t){if(typeof t=="string"||t==null)return t;const n=Math.abs(t),r=e(n);return t>=0?r:typeof r=="number"?-r:`-${r}`}function uX(e,t){return n=>e.reduce((r,s)=>(r[s]=Wf(t,n),r),{})}function dX(e,t,n,r){if(t.indexOf(n)===-1)return null;const s=cX(n),i=uX(s,r),o=e[n];return mo(e,o,i)}function tV(e,t){const n=eV(e.theme);return Object.keys(e).map(r=>dX(e,t,r,n)).reduce(Sd,{})}function on(e){return tV(e,IS)}on.propTypes={};on.filterProps=IS;function an(e){return tV(e,TS)}an.propTypes={};an.filterProps=TS;function fX(e=8){if(e.mui)return e;const t=eV({spacing:e}),n=(...r)=>(r.length===0?[1]:r).map(i=>{const o=t(i);return typeof o=="number"?`${o}px`:o}).join(" ");return n.mui=!0,n}function Sv(...e){const t=e.reduce((r,s)=>(s.filterProps.forEach(i=>{r[i]=s}),r),{}),n=r=>Object.keys(r).reduce((s,i)=>t[i]?Sd(s,t[i](r)):s,{});return n.propTypes={},n.filterProps=e.reduce((r,s)=>r.concat(s.filterProps),[]),n}function Cs(e){return typeof e!="number"?e:`${e}px solid`}function Gs(e,t){return wn({prop:e,themeKey:"borders",transform:t})}const hX=Gs("border",Cs),pX=Gs("borderTop",Cs),gX=Gs("borderRight",Cs),mX=Gs("borderBottom",Cs),vX=Gs("borderLeft",Cs),yX=Gs("borderColor"),AX=Gs("borderTopColor"),_X=Gs("borderRightColor"),bX=Gs("borderBottomColor"),SX=Gs("borderLeftColor"),wX=Gs("outline",Cs),xX=Gs("outlineColor"),wv=e=>{if(e.borderRadius!==void 0&&e.borderRadius!==null){const t=qf(e.theme,"shape.borderRadius",4),n=r=>({borderRadius:Wf(t,r)});return mo(e,e.borderRadius,n)}return null};wv.propTypes={};wv.filterProps=["borderRadius"];Sv(hX,pX,gX,mX,vX,yX,AX,_X,bX,SX,wv,wX,xX);const xv=e=>{if(e.gap!==void 0&&e.gap!==null){const t=qf(e.theme,"spacing",8),n=r=>({gap:Wf(t,r)});return mo(e,e.gap,n)}return null};xv.propTypes={};xv.filterProps=["gap"];const Ev=e=>{if(e.columnGap!==void 0&&e.columnGap!==null){const t=qf(e.theme,"spacing",8),n=r=>({columnGap:Wf(t,r)});return mo(e,e.columnGap,n)}return null};Ev.propTypes={};Ev.filterProps=["columnGap"];const kv=e=>{if(e.rowGap!==void 0&&e.rowGap!==null){const t=qf(e.theme,"spacing",8),n=r=>({rowGap:Wf(t,r)});return mo(e,e.rowGap,n)}return null};kv.propTypes={};kv.filterProps=["rowGap"];const EX=wn({prop:"gridColumn"}),kX=wn({prop:"gridRow"}),CX=wn({prop:"gridAutoFlow"}),IX=wn({prop:"gridAutoColumns"}),TX=wn({prop:"gridAutoRows"}),RX=wn({prop:"gridTemplateColumns"}),MX=wn({prop:"gridTemplateRows"}),PX=wn({prop:"gridTemplateAreas"}),jX=wn({prop:"gridArea"});Sv(xv,Ev,kv,EX,kX,CX,IX,TX,RX,MX,PX,jX);function xc(e,t){return t==="grey"?t:e}const OX=wn({prop:"color",themeKey:"palette",transform:xc}),VX=wn({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:xc}),LX=wn({prop:"backgroundColor",themeKey:"palette",transform:xc});Sv(OX,VX,LX);function es(e){return e<=1&&e!==0?`${e*100}%`:e}const $X=wn({prop:"width",transform:es}),RS=e=>{if(e.maxWidth!==void 0&&e.maxWidth!==null){const t=n=>{var r,s;const i=((r=e.theme)==null||(r=r.breakpoints)==null||(r=r.values)==null?void 0:r[n])||CS[n];return i?((s=e.theme)==null||(s=s.breakpoints)==null?void 0:s.unit)!=="px"?{maxWidth:`${i}${e.theme.breakpoints.unit}`}:{maxWidth:i}:{maxWidth:es(n)}};return mo(e,e.maxWidth,t)}return null};RS.filterProps=["maxWidth"];const BX=wn({prop:"minWidth",transform:es}),NX=wn({prop:"height",transform:es}),DX=wn({prop:"maxHeight",transform:es}),FX=wn({prop:"minHeight",transform:es});wn({prop:"size",cssProperty:"width",transform:es});wn({prop:"size",cssProperty:"height",transform:es});const UX=wn({prop:"boxSizing"});Sv($X,RS,BX,NX,DX,FX,UX);const zX={border:{themeKey:"borders",transform:Cs},borderTop:{themeKey:"borders",transform:Cs},borderRight:{themeKey:"borders",transform:Cs},borderBottom:{themeKey:"borders",transform:Cs},borderLeft:{themeKey:"borders",transform:Cs},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:Cs},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:wv},color:{themeKey:"palette",transform:xc},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:xc},backgroundColor:{themeKey:"palette",transform:xc},p:{style:an},pt:{style:an},pr:{style:an},pb:{style:an},pl:{style:an},px:{style:an},py:{style:an},padding:{style:an},paddingTop:{style:an},paddingRight:{style:an},paddingBottom:{style:an},paddingLeft:{style:an},paddingX:{style:an},paddingY:{style:an},paddingInline:{style:an},paddingInlineStart:{style:an},paddingInlineEnd:{style:an},paddingBlock:{style:an},paddingBlockStart:{style:an},paddingBlockEnd:{style:an},m:{style:on},mt:{style:on},mr:{style:on},mb:{style:on},ml:{style:on},mx:{style:on},my:{style:on},margin:{style:on},marginTop:{style:on},marginRight:{style:on},marginBottom:{style:on},marginLeft:{style:on},marginX:{style:on},marginY:{style:on},marginInline:{style:on},marginInlineStart:{style:on},marginInlineEnd:{style:on},marginBlock:{style:on},marginBlockStart:{style:on},marginBlockEnd:{style:on},displayPrint:{cssProperty:!1,transform:e=>({"@media print":{display:e}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:xv},rowGap:{style:kv},columnGap:{style:Ev},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:es},maxWidth:{style:RS},minWidth:{transform:es},height:{transform:es},maxHeight:{transform:es},minHeight:{transform:es},boxSizing:{},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}},Kf=zX;function HX(...e){const t=e.reduce((r,s)=>r.concat(Object.keys(s)),[]),n=new Set(t);return e.every(r=>n.size===Object.keys(r).length)}function GX(e,t){return typeof e=="function"?e(t):e}function nV(){function e(n,r,s,i){const o={[n]:r,theme:s},a=i[n];if(!a)return{[n]:r};const{cssProperty:l=n,themeKey:c,transform:u,style:d}=a;if(r==null)return null;if(c==="typography"&&r==="inherit")return{[n]:r};const h=bv(s,c)||{};return d?d(o):mo(o,r,g=>{let m=Tg(h,u,g);return g===m&&typeof g=="string"&&(m=Tg(h,u,`${n}${g==="default"?"":Qn(g)}`,g)),l===!1?m:{[l]:m}})}function t(n){var r;const{sx:s,theme:i={}}=n||{};if(!s)return null;const o=(r=i.unstable_sxConfig)!=null?r:Kf;function a(l){let c=l;if(typeof l=="function")c=l(i);else if(typeof l!="object")return l;if(!c)return null;const u=X3(i.breakpoints),d=Object.keys(u);let h=u;return Object.keys(c).forEach(p=>{const g=GX(c[p],i);if(g!=null)if(typeof g=="object")if(o[p])h=Sd(h,e(p,g,i,o));else{const m=mo({theme:i},g,_=>({[p]:_}));HX(m,g)?h[p]=t({sx:g,theme:i}):h=Sd(h,m)}else h=Sd(h,e(p,g,i,o))}),Z3(d,h)}return Array.isArray(s)?s.map(a):a(s)}return t}const rV=nV();rV.filterProps=["sx"];const MS=rV;function sV(e,t){const n=this;return n.vars&&typeof n.getColorSchemeSelector=="function"?{[n.getColorSchemeSelector(e).replace(/(\[[^\]]+\])/,"*:where($1)")]:t}:n.palette.mode===e?t:{}}const qX=["breakpoints","palette","spacing","shape"];function PS(e={},...t){const{breakpoints:n={},palette:r={},spacing:s,shape:i={}}=e,o=_r(e,qX),a=J3(n),l=fX(s);let c=ui({breakpoints:a,direction:"ltr",components:{},palette:Me({mode:"light"},r),spacing:l,shape:Me({},sX,i)},o);return c.applyStyles=sV,c=t.reduce((u,d)=>ui(u,d),c),c.unstable_sxConfig=Me({},Kf,o==null?void 0:o.unstable_sxConfig),c.unstable_sx=function(d){return MS({sx:d,theme:this})},c}const WX=Object.freeze(Object.defineProperty({__proto__:null,default:PS,private_createBreakpoints:J3,unstable_applyStyles:sV},Symbol.toStringTag,{value:"Module"}));var KX=Vp,YX=function(t){return t!=="theme"},TC=function(t){return typeof t=="string"&&t.charCodeAt(0)>96?KX:YX},RC=function(t,n,r){var s;if(n){var i=n.shouldForwardProp;s=t.__emotion_forwardProp&&i?function(o){return t.__emotion_forwardProp(o)&&i(o)}:i}return typeof s!="function"&&r&&(s=t.__emotion_forwardProp),s},QX=function(t){var n=t.cache,r=t.serialized,s=t.isStringTag;return kM(n,r,s),LN(function(){return CM(n,r,s)}),null},jS=function e(t,n){var r=t.__emotion_real===t,s=r&&t.__emotion_base||t,i,o;n!==void 0&&(i=n.label,o=n.target);var a=RC(t,n,r),l=a||TC(s),c=!l("as");return function(){var u=arguments,d=r&&t.__emotion_styles!==void 0?t.__emotion_styles.slice(0):[];if(i!==void 0&&d.push("label:"+i+";"),u[0]==null||u[0].raw===void 0)d.push.apply(d,u);else{d.push(u[0][0]);for(var h=u.length,p=1;p<h;p++)d.push(u[p],u[0][p])}var g=PM(function(m,_,v){var y=c&&m.as||s,b="",w=[],S=m;if(m.theme==null){S={};for(var x in m)S[x]=m[x];S.theme=A.useContext(Pf)}typeof m.className=="string"?b=TN(_.registered,w,m.className):m.className!=null&&(b=m.className+" ");var E=tb(d.concat(w),_.registered,S);b+=_.key+"-"+E.name,o!==void 0&&(b+=" "+o);var T=c&&a===void 0?TC(y):l,U={};for(var $ in m)c&&$==="as"||T($)&&(U[$]=m[$]);return U.className=b,U.ref=v,A.createElement(A.Fragment,null,A.createElement(QX,{cache:_,serialized:E,isStringTag:typeof y=="string"}),A.createElement(y,U))});return g.displayName=i!==void 0?i:"Styled("+(typeof s=="string"?s:s.displayName||s.name||"Component")+")",g.defaultProps=t.defaultProps,g.__emotion_real=g,g.__emotion_base=s,g.__emotion_styles=d,g.__emotion_forwardProp=a,Object.defineProperty(g,"toString",{value:function(){return"."+o}}),g.withComponent=function(m,_){return e(m,Me({},n,_,{shouldForwardProp:RC(g,_,!0)})).apply(void 0,d)},g}},JX=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],h1=jS.bind();JX.forEach(function(e){h1[e]=h1(e)});let p1;typeof document=="object"&&(p1=Y_({key:"css",prepend:!0}));function XX(e){const{injectFirst:t,children:n}=e;return t&&p1?f.jsx(MM,{value:p1,children:n}):n}function ZX(e){return e==null||Object.keys(e).length===0}function eZ(e){const{styles:t,defaultTheme:n={}}=e,r=typeof t=="function"?s=>t(ZX(s)?n:s):t;return f.jsx($N,{styles:r})}function tZ(e,t){return h1(e,t)}const nZ=(e,t)=>{Array.isArray(e.__emotion_styles)&&(e.__emotion_styles=t(e.__emotion_styles))},rZ=Object.freeze(Object.defineProperty({__proto__:null,GlobalStyles:eZ,StyledEngineProvider:XX,ThemeContext:Pf,css:Vc,default:tZ,internal_processStyles:nZ,keyframes:fa},Symbol.toStringTag,{value:"Module"}));function sZ(e){return Object.keys(e).length===0}function iV(e=null){const t=A.useContext(Pf);return!t||sZ(t)?e:t}const iZ=PS();function oZ(e=iZ){return iV(e)}function aZ({props:e,name:t,defaultTheme:n,themeId:r}){let s=oZ(n);return r&&(s=s[r]||s),eX({theme:s,name:t,props:e})}const lZ=["sx"],cZ=e=>{var t,n;const r={systemProps:{},otherProps:{}},s=(t=e==null||(n=e.theme)==null?void 0:n.unstable_sxConfig)!=null?t:Kf;return Object.keys(e).forEach(i=>{s[i]?r.systemProps[i]=e[i]:r.otherProps[i]=e[i]}),r};function uZ(e){const{sx:t}=e,n=_r(e,lZ),{systemProps:r,otherProps:s}=cZ(n);let i;return Array.isArray(t)?i=[r,...t]:typeof t=="function"?i=(...o)=>{const a=t(...o);return Bo(a)?Me({},r,a):r}:i=Me({},r,t),Me({},s,{sx:i})}const dZ=Object.freeze(Object.defineProperty({__proto__:null,default:MS,extendSxProp:uZ,unstable_createStyleFunctionSx:nV,unstable_defaultSxConfig:Kf},Symbol.toStringTag,{value:"Module"}));function fZ(e,t){return Me({toolbar:{minHeight:56,[e.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[e.up("sm")]:{minHeight:64}}},t)}var xn={};const hZ=qi(SJ),pZ=qi(ZJ);var oV=Ze;Object.defineProperty(xn,"__esModule",{value:!0});var MC=xn.alpha=uV;xn.blend=CZ;xn.colorChannel=void 0;var gZ=xn.darken=VS;xn.decomposeColor=Ds;xn.emphasize=kZ;var mZ=xn.getContrastRatio=SZ;xn.getLuminance=Rg;xn.hexToRgb=aV;xn.hslToRgb=cV;var vZ=xn.lighten=LS;xn.private_safeAlpha=wZ;xn.private_safeColorChannel=void 0;xn.private_safeDarken=xZ;xn.private_safeEmphasize=dV;xn.private_safeLighten=EZ;xn.recomposeColor=gu;xn.rgbToHex=bZ;var PC=oV(hZ),yZ=oV(pZ);function OS(e,t=0,n=1){return(0,yZ.default)(e,t,n)}function aV(e){e=e.slice(1);const t=new RegExp(`.{1,${e.length>=6?2:1}}`,"g");let n=e.match(t);return n&&n[0].length===1&&(n=n.map(r=>r+r)),n?`rgb${n.length===4?"a":""}(${n.map((r,s)=>s<3?parseInt(r,16):Math.round(parseInt(r,16)/255*1e3)/1e3).join(", ")})`:""}function AZ(e){const t=e.toString(16);return t.length===1?`0${t}`:t}function Ds(e){if(e.type)return e;if(e.charAt(0)==="#")return Ds(aV(e));const t=e.indexOf("("),n=e.substring(0,t);if(["rgb","rgba","hsl","hsla","color"].indexOf(n)===-1)throw new Error((0,PC.default)(9,e));let r=e.substring(t+1,e.length-1),s;if(n==="color"){if(r=r.split(" "),s=r.shift(),r.length===4&&r[3].charAt(0)==="/"&&(r[3]=r[3].slice(1)),["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(s)===-1)throw new Error((0,PC.default)(10,s))}else r=r.split(",");return r=r.map(i=>parseFloat(i)),{type:n,values:r,colorSpace:s}}const lV=e=>{const t=Ds(e);return t.values.slice(0,3).map((n,r)=>t.type.indexOf("hsl")!==-1&&r!==0?`${n}%`:n).join(" ")};xn.colorChannel=lV;const _Z=(e,t)=>{try{return lV(e)}catch{return e}};xn.private_safeColorChannel=_Z;function gu(e){const{type:t,colorSpace:n}=e;let{values:r}=e;return t.indexOf("rgb")!==-1?r=r.map((s,i)=>i<3?parseInt(s,10):s):t.indexOf("hsl")!==-1&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),t.indexOf("color")!==-1?r=`${n} ${r.join(" ")}`:r=`${r.join(", ")}`,`${t}(${r})`}function bZ(e){if(e.indexOf("#")===0)return e;const{values:t}=Ds(e);return`#${t.map((n,r)=>AZ(r===3?Math.round(255*n):n)).join("")}`}function cV(e){e=Ds(e);const{values:t}=e,n=t[0],r=t[1]/100,s=t[2]/100,i=r*Math.min(s,1-s),o=(c,u=(c+n/30)%12)=>s-i*Math.max(Math.min(u-3,9-u,1),-1);let a="rgb";const l=[Math.round(o(0)*255),Math.round(o(8)*255),Math.round(o(4)*255)];return e.type==="hsla"&&(a+="a",l.push(t[3])),gu({type:a,values:l})}function Rg(e){e=Ds(e);let t=e.type==="hsl"||e.type==="hsla"?Ds(cV(e)).values:e.values;return t=t.map(n=>(e.type!=="color"&&(n/=255),n<=.03928?n/12.92:((n+.055)/1.055)**2.4)),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function SZ(e,t){const n=Rg(e),r=Rg(t);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}function uV(e,t){return e=Ds(e),t=OS(t),(e.type==="rgb"||e.type==="hsl")&&(e.type+="a"),e.type==="color"?e.values[3]=`/${t}`:e.values[3]=t,gu(e)}function wZ(e,t,n){try{return uV(e,t)}catch{return e}}function VS(e,t){if(e=Ds(e),t=OS(t),e.type.indexOf("hsl")!==-1)e.values[2]*=1-t;else if(e.type.indexOf("rgb")!==-1||e.type.indexOf("color")!==-1)for(let n=0;n<3;n+=1)e.values[n]*=1-t;return gu(e)}function xZ(e,t,n){try{return VS(e,t)}catch{return e}}function LS(e,t){if(e=Ds(e),t=OS(t),e.type.indexOf("hsl")!==-1)e.values[2]+=(100-e.values[2])*t;else if(e.type.indexOf("rgb")!==-1)for(let n=0;n<3;n+=1)e.values[n]+=(255-e.values[n])*t;else if(e.type.indexOf("color")!==-1)for(let n=0;n<3;n+=1)e.values[n]+=(1-e.values[n])*t;return gu(e)}function EZ(e,t,n){try{return LS(e,t)}catch{return e}}function kZ(e,t=.15){return Rg(e)>.5?VS(e,t):LS(e,t)}function dV(e,t,n){try{return dV(e,t)}catch{return e}}function CZ(e,t,n,r=1){const s=(l,c)=>Math.round((l**(1/r)*(1-n)+c**(1/r)*n)**r),i=Ds(e),o=Ds(t),a=[s(i.values[0],o.values[0]),s(i.values[1],o.values[1]),s(i.values[2],o.values[2])];return gu({type:"rgb",values:a})}const IZ={black:"#000",white:"#fff"},tf=IZ,TZ={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},RZ=TZ,MZ={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},Ol=MZ,PZ={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},Vl=PZ,jZ={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},Vu=jZ,OZ={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},Ll=OZ,VZ={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},$l=VZ,LZ={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},Bl=LZ,$Z=["mode","contrastThreshold","tonalOffset"],jC={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:tf.white,default:tf.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},Jy={text:{primary:tf.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:tf.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function OC(e,t,n,r){const s=r.light||r,i=r.dark||r*1.5;e[t]||(e.hasOwnProperty(n)?e[t]=e[n]:t==="light"?e.light=vZ(e.main,s):t==="dark"&&(e.dark=gZ(e.main,i)))}function BZ(e="light"){return e==="dark"?{main:Ll[200],light:Ll[50],dark:Ll[400]}:{main:Ll[700],light:Ll[400],dark:Ll[800]}}function NZ(e="light"){return e==="dark"?{main:Ol[200],light:Ol[50],dark:Ol[400]}:{main:Ol[500],light:Ol[300],dark:Ol[700]}}function DZ(e="light"){return e==="dark"?{main:Vl[500],light:Vl[300],dark:Vl[700]}:{main:Vl[700],light:Vl[400],dark:Vl[800]}}function FZ(e="light"){return e==="dark"?{main:$l[400],light:$l[300],dark:$l[700]}:{main:$l[700],light:$l[500],dark:$l[900]}}function UZ(e="light"){return e==="dark"?{main:Bl[400],light:Bl[300],dark:Bl[700]}:{main:Bl[800],light:Bl[500],dark:Bl[900]}}function zZ(e="light"){return e==="dark"?{main:Vu[400],light:Vu[300],dark:Vu[700]}:{main:"#ed6c02",light:Vu[500],dark:Vu[900]}}function HZ(e){const{mode:t="light",contrastThreshold:n=3,tonalOffset:r=.2}=e,s=_r(e,$Z),i=e.primary||BZ(t),o=e.secondary||NZ(t),a=e.error||DZ(t),l=e.info||FZ(t),c=e.success||UZ(t),u=e.warning||zZ(t);function d(m){return mZ(m,Jy.text.primary)>=n?Jy.text.primary:jC.text.primary}const h=({color:m,name:_,mainShade:v=500,lightShade:y=300,darkShade:b=700})=>{if(m=Me({},m),!m.main&&m[v]&&(m.main=m[v]),!m.hasOwnProperty("main"))throw new Error(ll(11,_?` (${_})`:"",v));if(typeof m.main!="string")throw new Error(ll(12,_?` (${_})`:"",JSON.stringify(m.main)));return OC(m,"light",y,r),OC(m,"dark",b,r),m.contrastText||(m.contrastText=d(m.main)),m},p={dark:Jy,light:jC};return ui(Me({common:Me({},tf),mode:t,primary:h({color:i,name:"primary"}),secondary:h({color:o,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:h({color:a,name:"error"}),warning:h({color:u,name:"warning"}),info:h({color:l,name:"info"}),success:h({color:c,name:"success"}),grey:RZ,contrastThreshold:n,getContrastText:d,augmentColor:h,tonalOffset:r},p[t]),s)}const GZ=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];function qZ(e){return Math.round(e*1e5)/1e5}const VC={textTransform:"uppercase"},LC='"Roboto", "Helvetica", "Arial", sans-serif';function WZ(e,t){const n=typeof t=="function"?t(e):t,{fontFamily:r=LC,fontSize:s=14,fontWeightLight:i=300,fontWeightRegular:o=400,fontWeightMedium:a=500,fontWeightBold:l=700,htmlFontSize:c=16,allVariants:u,pxToRem:d}=n,h=_r(n,GZ),p=s/14,g=d||(v=>`${v/c*p}rem`),m=(v,y,b,w,S)=>Me({fontFamily:r,fontWeight:v,fontSize:g(y),lineHeight:b},r===LC?{letterSpacing:`${qZ(w/y)}em`}:{},S,u),_={h1:m(i,96,1.167,-1.5),h2:m(i,60,1.2,-.5),h3:m(o,48,1.167,0),h4:m(o,34,1.235,.25),h5:m(o,24,1.334,0),h6:m(a,20,1.6,.15),subtitle1:m(o,16,1.75,.15),subtitle2:m(a,14,1.57,.1),body1:m(o,16,1.5,.15),body2:m(o,14,1.43,.15),button:m(a,14,1.75,.4,VC),caption:m(o,12,1.66,.4),overline:m(o,12,2.66,1,VC),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return ui(Me({htmlFontSize:c,pxToRem:g,fontFamily:r,fontSize:s,fontWeightLight:i,fontWeightRegular:o,fontWeightMedium:a,fontWeightBold:l},_),h,{clone:!1})}const KZ=.2,YZ=.14,QZ=.12;function Gt(...e){return[`${e[0]}px ${e[1]}px ${e[2]}px ${e[3]}px rgba(0,0,0,${KZ})`,`${e[4]}px ${e[5]}px ${e[6]}px ${e[7]}px rgba(0,0,0,${YZ})`,`${e[8]}px ${e[9]}px ${e[10]}px ${e[11]}px rgba(0,0,0,${QZ})`].join(",")}const JZ=["none",Gt(0,2,1,-1,0,1,1,0,0,1,3,0),Gt(0,3,1,-2,0,2,2,0,0,1,5,0),Gt(0,3,3,-2,0,3,4,0,0,1,8,0),Gt(0,2,4,-1,0,4,5,0,0,1,10,0),Gt(0,3,5,-1,0,5,8,0,0,1,14,0),Gt(0,3,5,-1,0,6,10,0,0,1,18,0),Gt(0,4,5,-2,0,7,10,1,0,2,16,1),Gt(0,5,5,-3,0,8,10,1,0,3,14,2),Gt(0,5,6,-3,0,9,12,1,0,3,16,2),Gt(0,6,6,-3,0,10,14,1,0,4,18,3),Gt(0,6,7,-4,0,11,15,1,0,4,20,3),Gt(0,7,8,-4,0,12,17,2,0,5,22,4),Gt(0,7,8,-4,0,13,19,2,0,5,24,4),Gt(0,7,9,-4,0,14,21,2,0,5,26,4),Gt(0,8,9,-5,0,15,22,2,0,6,28,5),Gt(0,8,10,-5,0,16,24,2,0,6,30,5),Gt(0,8,11,-5,0,17,26,2,0,6,32,5),Gt(0,9,11,-5,0,18,28,2,0,7,34,6),Gt(0,9,12,-6,0,19,29,2,0,7,36,6),Gt(0,10,13,-6,0,20,31,3,0,8,38,7),Gt(0,10,13,-6,0,21,33,3,0,8,40,7),Gt(0,10,14,-6,0,22,35,3,0,8,42,7),Gt(0,11,14,-7,0,23,36,3,0,9,44,8),Gt(0,11,15,-7,0,24,38,3,0,9,46,8)],XZ=["duration","easing","delay"],ZZ={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},eee={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function $C(e){return`${Math.round(e)}ms`}function tee(e){if(!e)return 0;const t=e/36;return Math.round((4+15*t**.25+t/5)*10)}function nee(e){const t=Me({},ZZ,e.easing),n=Me({},eee,e.duration);return Me({getAutoHeightDuration:tee,create:(s=["all"],i={})=>{const{duration:o=n.standard,easing:a=t.easeInOut,delay:l=0}=i;return _r(i,XZ),(Array.isArray(s)?s:[s]).map(c=>`${c} ${typeof o=="string"?o:$C(o)} ${a} ${typeof l=="string"?l:$C(l)}`).join(",")}},e,{easing:t,duration:n})}const ree={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},see=ree,iee=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function fV(e={},...t){const{mixins:n={},palette:r={},transitions:s={},typography:i={}}=e,o=_r(e,iee);if(e.vars)throw new Error(ll(18));const a=HZ(r),l=PS(e);let c=ui(l,{mixins:fZ(l.breakpoints,n),palette:a,shadows:JZ.slice(),typography:WZ(a,i),transitions:nee(s),zIndex:Me({},see)});return c=ui(c,o),c=t.reduce((u,d)=>ui(u,d),c),c.unstable_sxConfig=Me({},Kf,o==null?void 0:o.unstable_sxConfig),c.unstable_sx=function(d){return MS({sx:d,theme:this})},c}const oee=fV(),hV=oee,Mg="$$material";function mu({props:e,name:t}){return aZ({props:e,name:t,defaultTheme:hV,themeId:Mg})}var Yf={},Xy={exports:{}},BC;function aee(){return BC||(BC=1,function(e){function t(){return e.exports=t=Object.assign?Object.assign.bind():function(n){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var i in s)Object.prototype.hasOwnProperty.call(s,i)&&(n[i]=s[i])}return n},e.exports.__esModule=!0,e.exports.default=e.exports,t.apply(this,arguments)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports}(Xy)),Xy.exports}var Zy={exports:{}},NC;function lee(){return NC||(NC=1,function(e){function t(n,r){if(n==null)return{};var s={},i=Object.keys(n),o,a;for(a=0;a<i.length;a++)o=i[a],!(r.indexOf(o)>=0)&&(s[o]=n[o]);return s}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports}(Zy)),Zy.exports}const cee=qi(rZ),uee=qi(mJ),dee=qi(IJ),fee=qi(CJ),hee=qi(WX),pee=qi(dZ);var vu=Ze;Object.defineProperty(Yf,"__esModule",{value:!0});var gee=Yf.default=Iee;Yf.shouldForwardProp=Lp;Yf.systemDefaultTheme=void 0;var Ss=vu(aee()),g1=vu(lee()),DC=See(cee),mee=uee;vu(dee);vu(fee);var vee=vu(hee),yee=vu(pee);const Aee=["ownerState"],_ee=["variants"],bee=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function pV(e){if(typeof WeakMap!="function")return null;var t=new WeakMap,n=new WeakMap;return(pV=function(r){return r?n:t})(e)}function See(e,t){if(!t&&e&&e.__esModule)return e;if(e===null||typeof e!="object"&&typeof e!="function")return{default:e};var n=pV(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(i!=="default"&&Object.prototype.hasOwnProperty.call(e,i)){var o=s?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(r,i,o):r[i]=e[i]}return r.default=e,n&&n.set(e,r),r}function wee(e){return Object.keys(e).length===0}function xee(e){return typeof e=="string"&&e.charCodeAt(0)>96}function Lp(e){return e!=="ownerState"&&e!=="theme"&&e!=="sx"&&e!=="as"}const Eee=Yf.systemDefaultTheme=(0,vee.default)(),kee=e=>e&&e.charAt(0).toLowerCase()+e.slice(1);function Nh({defaultTheme:e,theme:t,themeId:n}){return wee(t)?e:t[n]||t}function Cee(e){return e?(t,n)=>n[e]:null}function $p(e,t){let{ownerState:n}=t,r=(0,g1.default)(t,Aee);const s=typeof e=="function"?e((0,Ss.default)({ownerState:n},r)):e;if(Array.isArray(s))return s.flatMap(i=>$p(i,(0,Ss.default)({ownerState:n},r)));if(s&&typeof s=="object"&&Array.isArray(s.variants)){const{variants:i=[]}=s;let a=(0,g1.default)(s,_ee);return i.forEach(l=>{let c=!0;typeof l.props=="function"?c=l.props((0,Ss.default)({ownerState:n},r,n)):Object.keys(l.props).forEach(u=>{(n==null?void 0:n[u])!==l.props[u]&&r[u]!==l.props[u]&&(c=!1)}),c&&(Array.isArray(a)||(a=[a]),a.push(typeof l.style=="function"?l.style((0,Ss.default)({ownerState:n},r,n)):l.style))}),a}return s}function Iee(e={}){const{themeId:t,defaultTheme:n=Eee,rootShouldForwardProp:r=Lp,slotShouldForwardProp:s=Lp}=e,i=o=>(0,yee.default)((0,Ss.default)({},o,{theme:Nh((0,Ss.default)({},o,{defaultTheme:n,themeId:t}))}));return i.__mui_systemSx=!0,(o,a={})=>{(0,DC.internal_processStyles)(o,S=>S.filter(x=>!(x!=null&&x.__mui_systemSx)));const{name:l,slot:c,skipVariantsResolver:u,skipSx:d,overridesResolver:h=Cee(kee(c))}=a,p=(0,g1.default)(a,bee),g=u!==void 0?u:c&&c!=="Root"&&c!=="root"||!1,m=d||!1;let _,v=Lp;c==="Root"||c==="root"?v=r:c?v=s:xee(o)&&(v=void 0);const y=(0,DC.default)(o,(0,Ss.default)({shouldForwardProp:v,label:_},p)),b=S=>typeof S=="function"&&S.__emotion_real!==S||(0,mee.isPlainObject)(S)?x=>$p(S,(0,Ss.default)({},x,{theme:Nh({theme:x.theme,defaultTheme:n,themeId:t})})):S,w=(S,...x)=>{let E=b(S);const T=x?x.map(b):[];l&&h&&T.push(D=>{const Q=Nh((0,Ss.default)({},D,{defaultTheme:n,themeId:t}));if(!Q.components||!Q.components[l]||!Q.components[l].styleOverrides)return null;const P=Q.components[l].styleOverrides,L={};return Object.entries(P).forEach(([M,I])=>{L[M]=$p(I,(0,Ss.default)({},D,{theme:Q}))}),h(D,L)}),l&&!g&&T.push(D=>{var Q;const P=Nh((0,Ss.default)({},D,{defaultTheme:n,themeId:t})),L=P==null||(Q=P.components)==null||(Q=Q[l])==null?void 0:Q.variants;return $p({variants:L},(0,Ss.default)({},D,{theme:P}))}),m||T.push(i);const U=T.length-x.length;if(Array.isArray(S)&&U>0){const D=new Array(U).fill("");E=[...S,...D],E.raw=[...S.raw,...D]}const $=y(E,...T);return o.muiName&&($.muiName=o.muiName),$};return y.withConfig&&(w.withConfig=y.withConfig),w}}function Tee(e){return e!=="ownerState"&&e!=="theme"&&e!=="sx"&&e!=="as"}const Ree=e=>Tee(e)&&e!=="classes",ko=gee({themeId:Mg,defaultTheme:hV,rootShouldForwardProp:Ree});function Mee(e){return hu("MuiSvgIcon",e)}pu("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const Pee=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],jee=e=>{const{color:t,fontSize:n,classes:r}=e,s={root:["root",t!=="inherit"&&`color${Qn(t)}`,`fontSize${Qn(n)}`]};return Gf(s,Mee,r)},Oee=ko("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.color!=="inherit"&&t[`color${Qn(n.color)}`],t[`fontSize${Qn(n.fontSize)}`]]}})(({theme:e,ownerState:t})=>{var n,r,s,i,o,a,l,c,u,d,h,p,g;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:t.hasSvgAsChild?void 0:"currentColor",flexShrink:0,transition:(n=e.transitions)==null||(r=n.create)==null?void 0:r.call(n,"fill",{duration:(s=e.transitions)==null||(s=s.duration)==null?void 0:s.shorter}),fontSize:{inherit:"inherit",small:((i=e.typography)==null||(o=i.pxToRem)==null?void 0:o.call(i,20))||"1.25rem",medium:((a=e.typography)==null||(l=a.pxToRem)==null?void 0:l.call(a,24))||"1.5rem",large:((c=e.typography)==null||(u=c.pxToRem)==null?void 0:u.call(c,35))||"2.1875rem"}[t.fontSize],color:(d=(h=(e.vars||e).palette)==null||(h=h[t.color])==null?void 0:h.main)!=null?d:{action:(p=(e.vars||e).palette)==null||(p=p.action)==null?void 0:p.active,disabled:(g=(e.vars||e).palette)==null||(g=g.action)==null?void 0:g.disabled,inherit:void 0}[t.color]}}),m1=A.forwardRef(function(t,n){const r=mu({props:t,name:"MuiSvgIcon"}),{children:s,className:i,color:o="inherit",component:a="svg",fontSize:l="medium",htmlColor:c,inheritViewBox:u=!1,titleAccess:d,viewBox:h="0 0 24 24"}=r,p=_r(r,Pee),g=A.isValidElement(s)&&s.type==="svg",m=Me({},r,{color:o,component:a,fontSize:l,instanceFontSize:t.fontSize,inheritViewBox:u,viewBox:h,hasSvgAsChild:g}),_={};u||(_.viewBox=h);const v=jee(m);return f.jsxs(Oee,Me({as:a,className:Vr(v.root,i),focusable:"false",color:c,"aria-hidden":d?void 0:!0,role:d?"img":void 0,ref:n},_,p,g&&s.props,{ownerState:m,children:[g?s.props.children:s,d?f.jsx("title",{children:d}):null]}))});m1.muiName="SvgIcon";function Vee(e,t){function n(r,s){return f.jsx(m1,Me({"data-testid":`${t}Icon`,ref:s},r,{children:e}))}return n.muiName=m1.muiName,A.memo(A.forwardRef(n))}const Lee={configure:e=>{K3.configure(e)}},$ee=Object.freeze(Object.defineProperty({__proto__:null,capitalize:Qn,createChainedFunction:TJ,createSvgIcon:Vee,debounce:RJ,deprecatedPropType:MJ,isMuiElement:PJ,ownerDocument:z3,ownerWindow:jJ,requirePropFactory:OJ,setRef:H3,unstable_ClassNameGenerator:Lee,unstable_useEnhancedEffect:G3,unstable_useId:LJ,unsupportedProp:$J,useControlled:BJ,useEventCallback:rd,useForkRef:d1,useIsFocusVisible:q3},Symbol.toStringTag,{value:"Module"})),Bee=qi($ee);var FC;function ot(){return FC||(FC=1,function(e){"use client";Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.createSvgIcon}});var t=Bee}(Yy)),Yy}var Nee=Ze;Object.defineProperty(xS,"__esModule",{value:!0});var gV=xS.default=void 0,Dee=Nee(ot()),Fee=f;gV=xS.default=(0,Dee.default)((0,Fee.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m1 17h-2v-2h2zm2.07-7.75-.9.92C13.45 12.9 13 13.5 13 15h-2v-.5c0-1.1.45-2.1 1.17-2.83l1.24-1.26c.37-.36.59-.86.59-1.41 0-1.1-.9-2-2-2s-2 .9-2 2H8c0-2.21 1.79-4 4-4s4 1.79 4 4c0 .88-.36 1.68-.93 2.25"}),"Help");var $S={},Uee=Ze;Object.defineProperty($S,"__esModule",{value:!0});var mV=$S.default=void 0,zee=Uee(ot()),Hee=f;mV=$S.default=(0,zee.default)((0,Hee.jsx)("path",{d:"M11 18h2v-2h-2zm1-16C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m0-14c-2.21 0-4 1.79-4 4h2c0-1.1.9-2 2-2s2 .9 2 2c0 2-3 1.75-3 5h2c0-2.25 3-2.5 3-5 0-2.21-1.79-4-4-4"}),"HelpOutline");var BS={},Gee=Ze;Object.defineProperty(BS,"__esModule",{value:!0});var nf=BS.default=void 0,qee=Gee(ot()),Wee=f;nf=BS.default=(0,qee.default)((0,Wee.jsx)("path",{d:"M15 21h-2v-2h2zm-2-7h-2v5h2zm8-2h-2v4h2zm-2-2h-2v2h2zM7 12H5v2h2zm-2-2H3v2h2zm7-5h2V3h-2zm-7.5-.5v3h3v-3zM9 9H3V3h6zm-4.5 7.5v3h3v-3zM9 21H3v-6h6zm7.5-16.5v3h3v-3zM21 9h-6V3h6zm-2 10v-3h-4v2h2v3h4v-2zm-2-7h-4v2h4zm-4-2H7v2h2v2h2v-2h2zm1-1V7h-2V5h-2v4zM6.75 5.25h-1.5v1.5h1.5zm0 12h-1.5v1.5h1.5zm12-12h-1.5v1.5h1.5z"}),"QrCode2");function v1(e,t){return v1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},v1(e,t)}function Kee(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,v1(e,t)}var vV={exports:{}},ps={},yV={exports:{}},AV={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(j,N){var V=j.length;j.push(N);e:for(;0<V;){var G=V-1>>>1,F=j[G];if(0<s(F,N))j[G]=N,j[V]=F,V=G;else break e}}function n(j){return j.length===0?null:j[0]}function r(j){if(j.length===0)return null;var N=j[0],V=j.pop();if(V!==N){j[0]=V;e:for(var G=0,F=j.length,ne=F>>>1;G<ne;){var O=2*(G+1)-1,fe=j[O],Z=O+1,ae=j[Z];if(0>s(fe,V))Z<F&&0>s(ae,fe)?(j[G]=ae,j[Z]=V,G=Z):(j[G]=fe,j[O]=V,G=O);else if(Z<F&&0>s(ae,V))j[G]=ae,j[Z]=V,G=Z;else break e}}return N}function s(j,N){var V=j.sortIndex-N.sortIndex;return V!==0?V:j.id-N.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();e.unstable_now=function(){return o.now()-a}}var l=[],c=[],u=1,d=null,h=3,p=!1,g=!1,m=!1,_=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(j){for(var N=n(c);N!==null;){if(N.callback===null)r(c);else if(N.startTime<=j)r(c),N.sortIndex=N.expirationTime,t(l,N);else break;N=n(c)}}function w(j){if(m=!1,b(j),!g)if(n(l)!==null)g=!0,I(S);else{var N=n(c);N!==null&&z(w,N.startTime-j)}}function S(j,N){g=!1,m&&(m=!1,v(T),T=-1),p=!0;var V=h;try{for(b(N),d=n(l);d!==null&&(!(d.expirationTime>N)||j&&!D());){var G=d.callback;if(typeof G=="function"){d.callback=null,h=d.priorityLevel;var F=G(d.expirationTime<=N);N=e.unstable_now(),typeof F=="function"?d.callback=F:d===n(l)&&r(l),b(N)}else r(l);d=n(l)}if(d!==null)var ne=!0;else{var O=n(c);O!==null&&z(w,O.startTime-N),ne=!1}return ne}finally{d=null,h=V,p=!1}}var x=!1,E=null,T=-1,U=5,$=-1;function D(){return!(e.unstable_now()-$<U)}function Q(){if(E!==null){var j=e.unstable_now();$=j;var N=!0;try{N=E(!0,j)}finally{N?P():(x=!1,E=null)}}else x=!1}var P;if(typeof y=="function")P=function(){y(Q)};else if(typeof MessageChannel<"u"){var L=new MessageChannel,M=L.port2;L.port1.onmessage=Q,P=function(){M.postMessage(null)}}else P=function(){_(Q,0)};function I(j){E=j,x||(x=!0,P())}function z(j,N){T=_(function(){j(e.unstable_now())},N)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(j){j.callback=null},e.unstable_continueExecution=function(){g||p||(g=!0,I(S))},e.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):U=0<j?Math.floor(1e3/j):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(j){switch(h){case 1:case 2:case 3:var N=3;break;default:N=h}var V=h;h=N;try{return j()}finally{h=V}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(j,N){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var V=h;h=j;try{return N()}finally{h=V}},e.unstable_scheduleCallback=function(j,N,V){var G=e.unstable_now();switch(typeof V=="object"&&V!==null?(V=V.delay,V=typeof V=="number"&&0<V?G+V:G):V=G,j){case 1:var F=-1;break;case 2:F=250;break;case 5:F=1073741823;break;case 4:F=1e4;break;default:F=5e3}return F=V+F,j={id:u++,callback:N,priorityLevel:j,startTime:V,expirationTime:F,sortIndex:-1},V>G?(j.sortIndex=V,t(c,j),n(l)===null&&j===n(c)&&(m?(v(T),T=-1):m=!0,z(w,V-G))):(j.sortIndex=F,t(l,j),g||p||(g=!0,I(S))),j},e.unstable_shouldYield=D,e.unstable_wrapCallback=function(j){var N=h;return function(){var V=h;h=N;try{return j.apply(this,arguments)}finally{h=V}}}})(AV);yV.exports=AV;var Yee=yV.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _V=A,us=Yee;function oe(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var bV=new Set,rf={};function Cl(e,t){Kc(e,t),Kc(e+"Capture",t)}function Kc(e,t){for(rf[e]=t,e=0;e<t.length;e++)bV.add(t[e])}var vo=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),y1=Object.prototype.hasOwnProperty,Qee=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,UC={},zC={};function Jee(e){return y1.call(zC,e)?!0:y1.call(UC,e)?!1:Qee.test(e)?zC[e]=!0:(UC[e]=!0,!1)}function Xee(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Zee(e,t,n,r){if(t===null||typeof t>"u"||Xee(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Mr(e,t,n,r,s,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var lr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){lr[e]=new Mr(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];lr[t]=new Mr(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){lr[e]=new Mr(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){lr[e]=new Mr(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){lr[e]=new Mr(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){lr[e]=new Mr(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){lr[e]=new Mr(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){lr[e]=new Mr(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){lr[e]=new Mr(e,5,!1,e.toLowerCase(),null,!1,!1)});var NS=/[\-:]([a-z])/g;function DS(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(NS,DS);lr[t]=new Mr(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(NS,DS);lr[t]=new Mr(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(NS,DS);lr[t]=new Mr(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){lr[e]=new Mr(e,1,!1,e.toLowerCase(),null,!1,!1)});lr.xlinkHref=new Mr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){lr[e]=new Mr(e,1,!1,e.toLowerCase(),null,!0,!0)});function FS(e,t,n,r){var s=lr.hasOwnProperty(t)?lr[t]:null;(s!==null?s.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Zee(t,n,s,r)&&(n=null),r||s===null?Jee(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,r=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Co=_V.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Dh=Symbol.for("react.element"),Zl=Symbol.for("react.portal"),ec=Symbol.for("react.fragment"),US=Symbol.for("react.strict_mode"),A1=Symbol.for("react.profiler"),SV=Symbol.for("react.provider"),wV=Symbol.for("react.context"),zS=Symbol.for("react.forward_ref"),_1=Symbol.for("react.suspense"),b1=Symbol.for("react.suspense_list"),HS=Symbol.for("react.memo"),Vo=Symbol.for("react.lazy"),xV=Symbol.for("react.offscreen"),HC=Symbol.iterator;function Lu(e){return e===null||typeof e!="object"?null:(e=HC&&e[HC]||e["@@iterator"],typeof e=="function"?e:null)}var rn=Object.assign,eA;function sd(e){if(eA===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);eA=t&&t[1]||""}return`
`+eA+e}var tA=!1;function nA(e,t){if(!e||tA)return"";tA=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=o&&0<=a);break}}}finally{tA=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?sd(e):""}function ete(e){switch(e.tag){case 5:return sd(e.type);case 16:return sd("Lazy");case 13:return sd("Suspense");case 19:return sd("SuspenseList");case 0:case 2:case 15:return e=nA(e.type,!1),e;case 11:return e=nA(e.type.render,!1),e;case 1:return e=nA(e.type,!0),e;default:return""}}function S1(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ec:return"Fragment";case Zl:return"Portal";case A1:return"Profiler";case US:return"StrictMode";case _1:return"Suspense";case b1:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case wV:return(e.displayName||"Context")+".Consumer";case SV:return(e._context.displayName||"Context")+".Provider";case zS:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case HS:return t=e.displayName||null,t!==null?t:S1(e.type)||"Memo";case Vo:t=e._payload,e=e._init;try{return S1(e(t))}catch{}}return null}function tte(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return S1(t);case 8:return t===US?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function la(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function EV(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function nte(e){var t=EV(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Fh(e){e._valueTracker||(e._valueTracker=nte(e))}function kV(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=EV(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Pg(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function w1(e,t){var n=t.checked;return rn({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function GC(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=la(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function CV(e,t){t=t.checked,t!=null&&FS(e,"checked",t,!1)}function x1(e,t){CV(e,t);var n=la(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?E1(e,t.type,n):t.hasOwnProperty("defaultValue")&&E1(e,t.type,la(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function qC(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function E1(e,t,n){(t!=="number"||Pg(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var id=Array.isArray;function Ec(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+la(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function k1(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(oe(91));return rn({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function WC(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(oe(92));if(id(n)){if(1<n.length)throw Error(oe(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:la(n)}}function IV(e,t){var n=la(t.value),r=la(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function KC(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function TV(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function C1(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?TV(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Uh,RV=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Uh=Uh||document.createElement("div"),Uh.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Uh.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function sf(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var wd={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},rte=["Webkit","ms","Moz","O"];Object.keys(wd).forEach(function(e){rte.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),wd[t]=wd[e]})});function MV(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||wd.hasOwnProperty(e)&&wd[e]?(""+t).trim():t+"px"}function PV(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=MV(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}var ste=rn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function I1(e,t){if(t){if(ste[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(oe(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(oe(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(oe(61))}if(t.style!=null&&typeof t.style!="object")throw Error(oe(62))}}function T1(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var R1=null;function GS(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var M1=null,kc=null,Cc=null;function YC(e){if(e=Xf(e)){if(typeof M1!="function")throw Error(oe(280));var t=e.stateNode;t&&(t=Mv(t),M1(e.stateNode,e.type,t))}}function jV(e){kc?Cc?Cc.push(e):Cc=[e]:kc=e}function OV(){if(kc){var e=kc,t=Cc;if(Cc=kc=null,YC(e),t)for(e=0;e<t.length;e++)YC(t[e])}}function VV(e,t){return e(t)}function LV(){}var rA=!1;function $V(e,t,n){if(rA)return e(t,n);rA=!0;try{return VV(e,t,n)}finally{rA=!1,(kc!==null||Cc!==null)&&(LV(),OV())}}function of(e,t){var n=e.stateNode;if(n===null)return null;var r=Mv(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(oe(231,t,typeof n));return n}var P1=!1;if(vo)try{var $u={};Object.defineProperty($u,"passive",{get:function(){P1=!0}}),window.addEventListener("test",$u,$u),window.removeEventListener("test",$u,$u)}catch{P1=!1}function ite(e,t,n,r,s,i,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var xd=!1,jg=null,Og=!1,j1=null,ote={onError:function(e){xd=!0,jg=e}};function ate(e,t,n,r,s,i,o,a,l){xd=!1,jg=null,ite.apply(ote,arguments)}function lte(e,t,n,r,s,i,o,a,l){if(ate.apply(this,arguments),xd){if(xd){var c=jg;xd=!1,jg=null}else throw Error(oe(198));Og||(Og=!0,j1=c)}}function Il(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function BV(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function QC(e){if(Il(e)!==e)throw Error(oe(188))}function cte(e){var t=e.alternate;if(!t){if(t=Il(e),t===null)throw Error(oe(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return QC(s),e;if(i===r)return QC(s),t;i=i.sibling}throw Error(oe(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(oe(189))}}if(n.alternate!==r)throw Error(oe(190))}if(n.tag!==3)throw Error(oe(188));return n.stateNode.current===n?e:t}function NV(e){return e=cte(e),e!==null?DV(e):null}function DV(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=DV(e);if(t!==null)return t;e=e.sibling}return null}var FV=us.unstable_scheduleCallback,JC=us.unstable_cancelCallback,ute=us.unstable_shouldYield,dte=us.unstable_requestPaint,_n=us.unstable_now,fte=us.unstable_getCurrentPriorityLevel,qS=us.unstable_ImmediatePriority,UV=us.unstable_UserBlockingPriority,Vg=us.unstable_NormalPriority,hte=us.unstable_LowPriority,zV=us.unstable_IdlePriority,Cv=null,Ni=null;function pte(e){if(Ni&&typeof Ni.onCommitFiberRoot=="function")try{Ni.onCommitFiberRoot(Cv,e,void 0,(e.current.flags&128)===128)}catch{}}var di=Math.clz32?Math.clz32:vte,gte=Math.log,mte=Math.LN2;function vte(e){return e>>>=0,e===0?32:31-(gte(e)/mte|0)|0}var zh=64,Hh=4194304;function od(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Lg(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,s=e.suspendedLanes,i=e.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=od(a):(i&=o,i!==0&&(r=od(i)))}else o=n&~s,o!==0?r=od(o):i!==0&&(r=od(i));if(r===0)return 0;if(t!==0&&t!==r&&!(t&s)&&(s=r&-r,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-di(t),s=1<<n,r|=e[n],t&=~s;return r}function yte(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ate(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-di(i),a=1<<o,l=s[o];l===-1?(!(a&n)||a&r)&&(s[o]=yte(a,t)):l<=t&&(e.expiredLanes|=a),i&=~a}}function O1(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function HV(){var e=zh;return zh<<=1,!(zh&4194240)&&(zh=64),e}function sA(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Qf(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-di(t),e[t]=n}function _te(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-di(n),i=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~i}}function WS(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-di(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var bt=0;function GV(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var qV,KS,WV,KV,YV,V1=!1,Gh=[],Xo=null,Zo=null,ea=null,af=new Map,lf=new Map,No=[],bte="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function XC(e,t){switch(e){case"focusin":case"focusout":Xo=null;break;case"dragenter":case"dragleave":Zo=null;break;case"mouseover":case"mouseout":ea=null;break;case"pointerover":case"pointerout":af.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":lf.delete(t.pointerId)}}function Bu(e,t,n,r,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},t!==null&&(t=Xf(t),t!==null&&KS(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function Ste(e,t,n,r,s){switch(t){case"focusin":return Xo=Bu(Xo,e,t,n,r,s),!0;case"dragenter":return Zo=Bu(Zo,e,t,n,r,s),!0;case"mouseover":return ea=Bu(ea,e,t,n,r,s),!0;case"pointerover":var i=s.pointerId;return af.set(i,Bu(af.get(i)||null,e,t,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,lf.set(i,Bu(lf.get(i)||null,e,t,n,r,s)),!0}return!1}function QV(e){var t=Na(e.target);if(t!==null){var n=Il(t);if(n!==null){if(t=n.tag,t===13){if(t=BV(n),t!==null){e.blockedOn=t,YV(e.priority,function(){WV(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Bp(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=L1(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);R1=r,n.target.dispatchEvent(r),R1=null}else return t=Xf(n),t!==null&&KS(t),e.blockedOn=n,!1;t.shift()}return!0}function ZC(e,t,n){Bp(e)&&n.delete(t)}function wte(){V1=!1,Xo!==null&&Bp(Xo)&&(Xo=null),Zo!==null&&Bp(Zo)&&(Zo=null),ea!==null&&Bp(ea)&&(ea=null),af.forEach(ZC),lf.forEach(ZC)}function Nu(e,t){e.blockedOn===t&&(e.blockedOn=null,V1||(V1=!0,us.unstable_scheduleCallback(us.unstable_NormalPriority,wte)))}function cf(e){function t(s){return Nu(s,e)}if(0<Gh.length){Nu(Gh[0],e);for(var n=1;n<Gh.length;n++){var r=Gh[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Xo!==null&&Nu(Xo,e),Zo!==null&&Nu(Zo,e),ea!==null&&Nu(ea,e),af.forEach(t),lf.forEach(t),n=0;n<No.length;n++)r=No[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<No.length&&(n=No[0],n.blockedOn===null);)QV(n),n.blockedOn===null&&No.shift()}var Ic=Co.ReactCurrentBatchConfig,$g=!0;function xte(e,t,n,r){var s=bt,i=Ic.transition;Ic.transition=null;try{bt=1,YS(e,t,n,r)}finally{bt=s,Ic.transition=i}}function Ete(e,t,n,r){var s=bt,i=Ic.transition;Ic.transition=null;try{bt=4,YS(e,t,n,r)}finally{bt=s,Ic.transition=i}}function YS(e,t,n,r){if($g){var s=L1(e,t,n,r);if(s===null)pA(e,t,r,Bg,n),XC(e,r);else if(Ste(s,e,t,n,r))r.stopPropagation();else if(XC(e,r),t&4&&-1<bte.indexOf(e)){for(;s!==null;){var i=Xf(s);if(i!==null&&qV(i),i=L1(e,t,n,r),i===null&&pA(e,t,r,Bg,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else pA(e,t,r,null,n)}}var Bg=null;function L1(e,t,n,r){if(Bg=null,e=GS(r),e=Na(e),e!==null)if(t=Il(e),t===null)e=null;else if(n=t.tag,n===13){if(e=BV(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Bg=e,null}function JV(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(fte()){case qS:return 1;case UV:return 4;case Vg:case hte:return 16;case zV:return 536870912;default:return 16}default:return 16}}var Go=null,QS=null,Np=null;function XV(){if(Np)return Np;var e,t=QS,n=t.length,r,s="value"in Go?Go.value:Go.textContent,i=s.length;for(e=0;e<n&&t[e]===s[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===s[i-r];r++);return Np=s.slice(e,1<r?1-r:void 0)}function Dp(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function qh(){return!0}function eI(){return!1}function gs(e){function t(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?qh:eI,this.isPropagationStopped=eI,this}return rn(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=qh)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=qh)},persist:function(){},isPersistent:qh}),t}var yu={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},JS=gs(yu),Jf=rn({},yu,{view:0,detail:0}),kte=gs(Jf),iA,oA,Du,Iv=rn({},Jf,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:XS,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Du&&(Du&&e.type==="mousemove"?(iA=e.screenX-Du.screenX,oA=e.screenY-Du.screenY):oA=iA=0,Du=e),iA)},movementY:function(e){return"movementY"in e?e.movementY:oA}}),tI=gs(Iv),Cte=rn({},Iv,{dataTransfer:0}),Ite=gs(Cte),Tte=rn({},Jf,{relatedTarget:0}),aA=gs(Tte),Rte=rn({},yu,{animationName:0,elapsedTime:0,pseudoElement:0}),Mte=gs(Rte),Pte=rn({},yu,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),jte=gs(Pte),Ote=rn({},yu,{data:0}),nI=gs(Ote),Vte={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Lte={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},$te={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Bte(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=$te[e])?!!t[e]:!1}function XS(){return Bte}var Nte=rn({},Jf,{key:function(e){if(e.key){var t=Vte[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Dp(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Lte[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:XS,charCode:function(e){return e.type==="keypress"?Dp(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Dp(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Dte=gs(Nte),Fte=rn({},Iv,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),rI=gs(Fte),Ute=rn({},Jf,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:XS}),zte=gs(Ute),Hte=rn({},yu,{propertyName:0,elapsedTime:0,pseudoElement:0}),Gte=gs(Hte),qte=rn({},Iv,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Wte=gs(qte),Kte=[9,13,27,32],ZS=vo&&"CompositionEvent"in window,Ed=null;vo&&"documentMode"in document&&(Ed=document.documentMode);var Yte=vo&&"TextEvent"in window&&!Ed,ZV=vo&&(!ZS||Ed&&8<Ed&&11>=Ed),sI=" ",iI=!1;function e5(e,t){switch(e){case"keyup":return Kte.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function t5(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var tc=!1;function Qte(e,t){switch(e){case"compositionend":return t5(t);case"keypress":return t.which!==32?null:(iI=!0,sI);case"textInput":return e=t.data,e===sI&&iI?null:e;default:return null}}function Jte(e,t){if(tc)return e==="compositionend"||!ZS&&e5(e,t)?(e=XV(),Np=QS=Go=null,tc=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return ZV&&t.locale!=="ko"?null:t.data;default:return null}}var Xte={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function oI(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Xte[e.type]:t==="textarea"}function n5(e,t,n,r){jV(r),t=Ng(t,"onChange"),0<t.length&&(n=new JS("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var kd=null,uf=null;function Zte(e){h5(e,0)}function Tv(e){var t=sc(e);if(kV(t))return e}function ene(e,t){if(e==="change")return t}var r5=!1;if(vo){var lA;if(vo){var cA="oninput"in document;if(!cA){var aI=document.createElement("div");aI.setAttribute("oninput","return;"),cA=typeof aI.oninput=="function"}lA=cA}else lA=!1;r5=lA&&(!document.documentMode||9<document.documentMode)}function lI(){kd&&(kd.detachEvent("onpropertychange",s5),uf=kd=null)}function s5(e){if(e.propertyName==="value"&&Tv(uf)){var t=[];n5(t,uf,e,GS(e)),$V(Zte,t)}}function tne(e,t,n){e==="focusin"?(lI(),kd=t,uf=n,kd.attachEvent("onpropertychange",s5)):e==="focusout"&&lI()}function nne(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Tv(uf)}function rne(e,t){if(e==="click")return Tv(t)}function sne(e,t){if(e==="input"||e==="change")return Tv(t)}function ine(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var gi=typeof Object.is=="function"?Object.is:ine;function df(e,t){if(gi(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!y1.call(t,s)||!gi(e[s],t[s]))return!1}return!0}function cI(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function uI(e,t){var n=cI(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=cI(n)}}function i5(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?i5(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function o5(){for(var e=window,t=Pg();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Pg(e.document)}return t}function ew(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function one(e){var t=o5(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&i5(n.ownerDocument.documentElement,n)){if(r!==null&&ew(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!e.extend&&i>r&&(s=r,r=i,i=s),s=uI(n,i);var o=uI(n,r);s&&o&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var ane=vo&&"documentMode"in document&&11>=document.documentMode,nc=null,$1=null,Cd=null,B1=!1;function dI(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;B1||nc==null||nc!==Pg(r)||(r=nc,"selectionStart"in r&&ew(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Cd&&df(Cd,r)||(Cd=r,r=Ng($1,"onSelect"),0<r.length&&(t=new JS("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=nc)))}function Wh(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var rc={animationend:Wh("Animation","AnimationEnd"),animationiteration:Wh("Animation","AnimationIteration"),animationstart:Wh("Animation","AnimationStart"),transitionend:Wh("Transition","TransitionEnd")},uA={},a5={};vo&&(a5=document.createElement("div").style,"AnimationEvent"in window||(delete rc.animationend.animation,delete rc.animationiteration.animation,delete rc.animationstart.animation),"TransitionEvent"in window||delete rc.transitionend.transition);function Rv(e){if(uA[e])return uA[e];if(!rc[e])return e;var t=rc[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in a5)return uA[e]=t[n];return e}var l5=Rv("animationend"),c5=Rv("animationiteration"),u5=Rv("animationstart"),d5=Rv("transitionend"),f5=new Map,fI="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ga(e,t){f5.set(e,t),Cl(t,[e])}for(var dA=0;dA<fI.length;dA++){var fA=fI[dA],lne=fA.toLowerCase(),cne=fA[0].toUpperCase()+fA.slice(1);ga(lne,"on"+cne)}ga(l5,"onAnimationEnd");ga(c5,"onAnimationIteration");ga(u5,"onAnimationStart");ga("dblclick","onDoubleClick");ga("focusin","onFocus");ga("focusout","onBlur");ga(d5,"onTransitionEnd");Kc("onMouseEnter",["mouseout","mouseover"]);Kc("onMouseLeave",["mouseout","mouseover"]);Kc("onPointerEnter",["pointerout","pointerover"]);Kc("onPointerLeave",["pointerout","pointerover"]);Cl("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Cl("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Cl("onBeforeInput",["compositionend","keypress","textInput","paste"]);Cl("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Cl("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Cl("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ad="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),une=new Set("cancel close invalid load scroll toggle".split(" ").concat(ad));function hI(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,lte(r,t,void 0,e),e.currentTarget=null}function h5(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;hI(s,a,c),i=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;hI(s,a,c),i=l}}}if(Og)throw e=j1,Og=!1,j1=null,e}function $t(e,t){var n=t[z1];n===void 0&&(n=t[z1]=new Set);var r=e+"__bubble";n.has(r)||(p5(t,e,2,!1),n.add(r))}function hA(e,t,n){var r=0;t&&(r|=4),p5(n,e,r,t)}var Kh="_reactListening"+Math.random().toString(36).slice(2);function ff(e){if(!e[Kh]){e[Kh]=!0,bV.forEach(function(n){n!=="selectionchange"&&(une.has(n)||hA(n,!1,e),hA(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Kh]||(t[Kh]=!0,hA("selectionchange",!1,t))}}function p5(e,t,n,r){switch(JV(t)){case 1:var s=xte;break;case 4:s=Ete;break;default:s=YS}n=s.bind(null,t,n,e),s=void 0,!P1||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function pA(e,t,n,r,s){var i=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=Na(a),o===null)return;if(l=o.tag,l===5||l===6){r=i=o;continue e}a=a.parentNode}}r=r.return}$V(function(){var c=i,u=GS(n),d=[];e:{var h=f5.get(e);if(h!==void 0){var p=JS,g=e;switch(e){case"keypress":if(Dp(n)===0)break e;case"keydown":case"keyup":p=Dte;break;case"focusin":g="focus",p=aA;break;case"focusout":g="blur",p=aA;break;case"beforeblur":case"afterblur":p=aA;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=tI;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=Ite;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=zte;break;case l5:case c5:case u5:p=Mte;break;case d5:p=Gte;break;case"scroll":p=kte;break;case"wheel":p=Wte;break;case"copy":case"cut":case"paste":p=jte;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=rI}var m=(t&4)!==0,_=!m&&e==="scroll",v=m?h!==null?h+"Capture":null:h;m=[];for(var y=c,b;y!==null;){b=y;var w=b.stateNode;if(b.tag===5&&w!==null&&(b=w,v!==null&&(w=of(y,v),w!=null&&m.push(hf(y,w,b)))),_)break;y=y.return}0<m.length&&(h=new p(h,g,null,n,u),d.push({event:h,listeners:m}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",h&&n!==R1&&(g=n.relatedTarget||n.fromElement)&&(Na(g)||g[yo]))break e;if((p||h)&&(h=u.window===u?u:(h=u.ownerDocument)?h.defaultView||h.parentWindow:window,p?(g=n.relatedTarget||n.toElement,p=c,g=g?Na(g):null,g!==null&&(_=Il(g),g!==_||g.tag!==5&&g.tag!==6)&&(g=null)):(p=null,g=c),p!==g)){if(m=tI,w="onMouseLeave",v="onMouseEnter",y="mouse",(e==="pointerout"||e==="pointerover")&&(m=rI,w="onPointerLeave",v="onPointerEnter",y="pointer"),_=p==null?h:sc(p),b=g==null?h:sc(g),h=new m(w,y+"leave",p,n,u),h.target=_,h.relatedTarget=b,w=null,Na(u)===c&&(m=new m(v,y+"enter",g,n,u),m.target=b,m.relatedTarget=_,w=m),_=w,p&&g)t:{for(m=p,v=g,y=0,b=m;b;b=Nl(b))y++;for(b=0,w=v;w;w=Nl(w))b++;for(;0<y-b;)m=Nl(m),y--;for(;0<b-y;)v=Nl(v),b--;for(;y--;){if(m===v||v!==null&&m===v.alternate)break t;m=Nl(m),v=Nl(v)}m=null}else m=null;p!==null&&pI(d,h,p,m,!1),g!==null&&_!==null&&pI(d,_,g,m,!0)}}e:{if(h=c?sc(c):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var S=ene;else if(oI(h))if(r5)S=sne;else{S=nne;var x=tne}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(S=rne);if(S&&(S=S(e,c))){n5(d,S,n,u);break e}x&&x(e,h,c),e==="focusout"&&(x=h._wrapperState)&&x.controlled&&h.type==="number"&&E1(h,"number",h.value)}switch(x=c?sc(c):window,e){case"focusin":(oI(x)||x.contentEditable==="true")&&(nc=x,$1=c,Cd=null);break;case"focusout":Cd=$1=nc=null;break;case"mousedown":B1=!0;break;case"contextmenu":case"mouseup":case"dragend":B1=!1,dI(d,n,u);break;case"selectionchange":if(ane)break;case"keydown":case"keyup":dI(d,n,u)}var E;if(ZS)e:{switch(e){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else tc?e5(e,n)&&(T="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(T="onCompositionStart");T&&(ZV&&n.locale!=="ko"&&(tc||T!=="onCompositionStart"?T==="onCompositionEnd"&&tc&&(E=XV()):(Go=u,QS="value"in Go?Go.value:Go.textContent,tc=!0)),x=Ng(c,T),0<x.length&&(T=new nI(T,e,null,n,u),d.push({event:T,listeners:x}),E?T.data=E:(E=t5(n),E!==null&&(T.data=E)))),(E=Yte?Qte(e,n):Jte(e,n))&&(c=Ng(c,"onBeforeInput"),0<c.length&&(u=new nI("onBeforeInput","beforeinput",null,n,u),d.push({event:u,listeners:c}),u.data=E))}h5(d,t)})}function hf(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Ng(e,t){for(var n=t+"Capture",r=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=of(e,n),i!=null&&r.unshift(hf(e,i,s)),i=of(e,t),i!=null&&r.push(hf(e,i,s))),e=e.return}return r}function Nl(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function pI(e,t,n,r,s){for(var i=t._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,s?(l=of(n,i),l!=null&&o.unshift(hf(n,l,a))):s||(l=of(n,i),l!=null&&o.push(hf(n,l,a)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var dne=/\r\n?/g,fne=/\u0000|\uFFFD/g;function gI(e){return(typeof e=="string"?e:""+e).replace(dne,`
`).replace(fne,"")}function Yh(e,t,n){if(t=gI(t),gI(e)!==t&&n)throw Error(oe(425))}function Dg(){}var N1=null,D1=null;function F1(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var U1=typeof setTimeout=="function"?setTimeout:void 0,hne=typeof clearTimeout=="function"?clearTimeout:void 0,mI=typeof Promise=="function"?Promise:void 0,pne=typeof queueMicrotask=="function"?queueMicrotask:typeof mI<"u"?function(e){return mI.resolve(null).then(e).catch(gne)}:U1;function gne(e){setTimeout(function(){throw e})}function gA(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){e.removeChild(s),cf(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);cf(t)}function ta(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function vI(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Au=Math.random().toString(36).slice(2),Ri="__reactFiber$"+Au,pf="__reactProps$"+Au,yo="__reactContainer$"+Au,z1="__reactEvents$"+Au,mne="__reactListeners$"+Au,vne="__reactHandles$"+Au;function Na(e){var t=e[Ri];if(t)return t;for(var n=e.parentNode;n;){if(t=n[yo]||n[Ri]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=vI(e);e!==null;){if(n=e[Ri])return n;e=vI(e)}return t}e=n,n=e.parentNode}return null}function Xf(e){return e=e[Ri]||e[yo],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function sc(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(oe(33))}function Mv(e){return e[pf]||null}var H1=[],ic=-1;function ma(e){return{current:e}}function Dt(e){0>ic||(e.current=H1[ic],H1[ic]=null,ic--)}function Lt(e,t){ic++,H1[ic]=e.current,e.current=t}var ca={},yr=ma(ca),Dr=ma(!1),cl=ca;function Yc(e,t){var n=e.type.contextTypes;if(!n)return ca;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Fr(e){return e=e.childContextTypes,e!=null}function Fg(){Dt(Dr),Dt(yr)}function yI(e,t,n){if(yr.current!==ca)throw Error(oe(168));Lt(yr,t),Lt(Dr,n)}function g5(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in t))throw Error(oe(108,tte(e)||"Unknown",s));return rn({},n,r)}function Ug(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ca,cl=yr.current,Lt(yr,e),Lt(Dr,Dr.current),!0}function AI(e,t,n){var r=e.stateNode;if(!r)throw Error(oe(169));n?(e=g5(e,t,cl),r.__reactInternalMemoizedMergedChildContext=e,Dt(Dr),Dt(yr),Lt(yr,e)):Dt(Dr),Lt(Dr,n)}var to=null,Pv=!1,mA=!1;function m5(e){to===null?to=[e]:to.push(e)}function yne(e){Pv=!0,m5(e)}function va(){if(!mA&&to!==null){mA=!0;var e=0,t=bt;try{var n=to;for(bt=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}to=null,Pv=!1}catch(s){throw to!==null&&(to=to.slice(e+1)),FV(qS,va),s}finally{bt=t,mA=!1}}return null}var oc=[],ac=0,zg=null,Hg=0,Is=[],Ts=0,ul=null,so=1,io="";function Pa(e,t){oc[ac++]=Hg,oc[ac++]=zg,zg=e,Hg=t}function v5(e,t,n){Is[Ts++]=so,Is[Ts++]=io,Is[Ts++]=ul,ul=e;var r=so;e=io;var s=32-di(r)-1;r&=~(1<<s),n+=1;var i=32-di(t)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,so=1<<32-di(t)+s|n<<s|r,io=i+e}else so=1<<i|n<<s|r,io=e}function tw(e){e.return!==null&&(Pa(e,1),v5(e,1,0))}function nw(e){for(;e===zg;)zg=oc[--ac],oc[ac]=null,Hg=oc[--ac],oc[ac]=null;for(;e===ul;)ul=Is[--Ts],Is[Ts]=null,io=Is[--Ts],Is[Ts]=null,so=Is[--Ts],Is[Ts]=null}var as=null,ss=null,Qt=!1,ti=null;function y5(e,t){var n=js(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function _I(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,as=e,ss=ta(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,as=e,ss=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=ul!==null?{id:so,overflow:io}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=js(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,as=e,ss=null,!0):!1;default:return!1}}function G1(e){return(e.mode&1)!==0&&(e.flags&128)===0}function q1(e){if(Qt){var t=ss;if(t){var n=t;if(!_I(e,t)){if(G1(e))throw Error(oe(418));t=ta(n.nextSibling);var r=as;t&&_I(e,t)?y5(r,n):(e.flags=e.flags&-4097|2,Qt=!1,as=e)}}else{if(G1(e))throw Error(oe(418));e.flags=e.flags&-4097|2,Qt=!1,as=e}}}function bI(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;as=e}function Qh(e){if(e!==as)return!1;if(!Qt)return bI(e),Qt=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!F1(e.type,e.memoizedProps)),t&&(t=ss)){if(G1(e))throw A5(),Error(oe(418));for(;t;)y5(e,t),t=ta(t.nextSibling)}if(bI(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(oe(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){ss=ta(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}ss=null}}else ss=as?ta(e.stateNode.nextSibling):null;return!0}function A5(){for(var e=ss;e;)e=ta(e.nextSibling)}function Qc(){ss=as=null,Qt=!1}function rw(e){ti===null?ti=[e]:ti.push(e)}var Ane=Co.ReactCurrentBatchConfig;function Qs(e,t){if(e&&e.defaultProps){t=rn({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}var Gg=ma(null),qg=null,lc=null,sw=null;function iw(){sw=lc=qg=null}function ow(e){var t=Gg.current;Dt(Gg),e._currentValue=t}function W1(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Tc(e,t){qg=e,sw=lc=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Nr=!0),e.firstContext=null)}function Fs(e){var t=e._currentValue;if(sw!==e)if(e={context:e,memoizedValue:t,next:null},lc===null){if(qg===null)throw Error(oe(308));lc=e,qg.dependencies={lanes:0,firstContext:e}}else lc=lc.next=e;return t}var Da=null;function aw(e){Da===null?Da=[e]:Da.push(e)}function _5(e,t,n,r){var s=t.interleaved;return s===null?(n.next=n,aw(t)):(n.next=s.next,s.next=n),t.interleaved=n,Ao(e,r)}function Ao(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Lo=!1;function lw(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function b5(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function co(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function na(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,dt&2){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,Ao(e,n)}return s=r.interleaved,s===null?(t.next=t,aw(r)):(t.next=s.next,s.next=t),r.interleaved=t,Ao(e,n)}function Fp(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,WS(e,n)}}function SI(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=t:i=i.next=t}else s=i=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Wg(e,t,n,r){var s=e.updateQueue;Lo=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?i=c:o.next=c,o=l;var u=e.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==o&&(a===null?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(i!==null){var d=s.baseState;o=0,u=c=l=null,a=i;do{var h=a.lane,p=a.eventTime;if((r&h)===h){u!==null&&(u=u.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var g=e,m=a;switch(h=t,p=n,m.tag){case 1:if(g=m.payload,typeof g=="function"){d=g.call(p,d,h);break e}d=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=m.payload,h=typeof g=="function"?g.call(p,d,h):g,h==null)break e;d=rn({},d,h);break e;case 2:Lo=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,h=s.effects,h===null?s.effects=[a]:h.push(a))}else p={eventTime:p,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(c=u=p,l=d):u=u.next=p,o|=h;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;h=a,a=h.next,h.next=null,s.lastBaseUpdate=h,s.shared.pending=null}}while(!0);if(u===null&&(l=d),s.baseState=l,s.firstBaseUpdate=c,s.lastBaseUpdate=u,t=s.shared.interleaved,t!==null){s=t;do o|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);fl|=o,e.lanes=o,e.memoizedState=d}}function wI(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(oe(191,s));s.call(r)}}}var S5=new _V.Component().refs;function K1(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:rn({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var jv={isMounted:function(e){return(e=e._reactInternals)?Il(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Tr(),s=sa(e),i=co(r,s);i.payload=t,n!=null&&(i.callback=n),t=na(e,i,s),t!==null&&(fi(t,e,s,r),Fp(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Tr(),s=sa(e),i=co(r,s);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=na(e,i,s),t!==null&&(fi(t,e,s,r),Fp(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Tr(),r=sa(e),s=co(n,r);s.tag=2,t!=null&&(s.callback=t),t=na(e,s,r),t!==null&&(fi(t,e,r,n),Fp(t,e,r))}};function xI(e,t,n,r,s,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,i,o):t.prototype&&t.prototype.isPureReactComponent?!df(n,r)||!df(s,i):!0}function w5(e,t,n){var r=!1,s=ca,i=t.contextType;return typeof i=="object"&&i!==null?i=Fs(i):(s=Fr(t)?cl:yr.current,r=t.contextTypes,i=(r=r!=null)?Yc(e,s):ca),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=jv,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function EI(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&jv.enqueueReplaceState(t,t.state,null)}function Y1(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs=S5,lw(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=Fs(i):(i=Fr(t)?cl:yr.current,s.context=Yc(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(K1(e,t,i,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&jv.enqueueReplaceState(s,s.state,null),Wg(e,n,s,r),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function Fu(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(oe(309));var r=n.stateNode}if(!r)throw Error(oe(147,e));var s=r,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var a=s.refs;a===S5&&(a=s.refs={}),o===null?delete a[i]:a[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(oe(284));if(!n._owner)throw Error(oe(290,e))}return e}function Jh(e,t){throw e=Object.prototype.toString.call(t),Error(oe(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function kI(e){var t=e._init;return t(e._payload)}function x5(e){function t(v,y){if(e){var b=v.deletions;b===null?(v.deletions=[y],v.flags|=16):b.push(y)}}function n(v,y){if(!e)return null;for(;y!==null;)t(v,y),y=y.sibling;return null}function r(v,y){for(v=new Map;y!==null;)y.key!==null?v.set(y.key,y):v.set(y.index,y),y=y.sibling;return v}function s(v,y){return v=ia(v,y),v.index=0,v.sibling=null,v}function i(v,y,b){return v.index=b,e?(b=v.alternate,b!==null?(b=b.index,b<y?(v.flags|=2,y):b):(v.flags|=2,y)):(v.flags|=1048576,y)}function o(v){return e&&v.alternate===null&&(v.flags|=2),v}function a(v,y,b,w){return y===null||y.tag!==6?(y=wA(b,v.mode,w),y.return=v,y):(y=s(y,b),y.return=v,y)}function l(v,y,b,w){var S=b.type;return S===ec?u(v,y,b.props.children,w,b.key):y!==null&&(y.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Vo&&kI(S)===y.type)?(w=s(y,b.props),w.ref=Fu(v,y,b),w.return=v,w):(w=Wp(b.type,b.key,b.props,null,v.mode,w),w.ref=Fu(v,y,b),w.return=v,w)}function c(v,y,b,w){return y===null||y.tag!==4||y.stateNode.containerInfo!==b.containerInfo||y.stateNode.implementation!==b.implementation?(y=xA(b,v.mode,w),y.return=v,y):(y=s(y,b.children||[]),y.return=v,y)}function u(v,y,b,w,S){return y===null||y.tag!==7?(y=Ka(b,v.mode,w,S),y.return=v,y):(y=s(y,b),y.return=v,y)}function d(v,y,b){if(typeof y=="string"&&y!==""||typeof y=="number")return y=wA(""+y,v.mode,b),y.return=v,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Dh:return b=Wp(y.type,y.key,y.props,null,v.mode,b),b.ref=Fu(v,null,y),b.return=v,b;case Zl:return y=xA(y,v.mode,b),y.return=v,y;case Vo:var w=y._init;return d(v,w(y._payload),b)}if(id(y)||Lu(y))return y=Ka(y,v.mode,b,null),y.return=v,y;Jh(v,y)}return null}function h(v,y,b,w){var S=y!==null?y.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return S!==null?null:a(v,y,""+b,w);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Dh:return b.key===S?l(v,y,b,w):null;case Zl:return b.key===S?c(v,y,b,w):null;case Vo:return S=b._init,h(v,y,S(b._payload),w)}if(id(b)||Lu(b))return S!==null?null:u(v,y,b,w,null);Jh(v,b)}return null}function p(v,y,b,w,S){if(typeof w=="string"&&w!==""||typeof w=="number")return v=v.get(b)||null,a(y,v,""+w,S);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Dh:return v=v.get(w.key===null?b:w.key)||null,l(y,v,w,S);case Zl:return v=v.get(w.key===null?b:w.key)||null,c(y,v,w,S);case Vo:var x=w._init;return p(v,y,b,x(w._payload),S)}if(id(w)||Lu(w))return v=v.get(b)||null,u(y,v,w,S,null);Jh(y,w)}return null}function g(v,y,b,w){for(var S=null,x=null,E=y,T=y=0,U=null;E!==null&&T<b.length;T++){E.index>T?(U=E,E=null):U=E.sibling;var $=h(v,E,b[T],w);if($===null){E===null&&(E=U);break}e&&E&&$.alternate===null&&t(v,E),y=i($,y,T),x===null?S=$:x.sibling=$,x=$,E=U}if(T===b.length)return n(v,E),Qt&&Pa(v,T),S;if(E===null){for(;T<b.length;T++)E=d(v,b[T],w),E!==null&&(y=i(E,y,T),x===null?S=E:x.sibling=E,x=E);return Qt&&Pa(v,T),S}for(E=r(v,E);T<b.length;T++)U=p(E,v,T,b[T],w),U!==null&&(e&&U.alternate!==null&&E.delete(U.key===null?T:U.key),y=i(U,y,T),x===null?S=U:x.sibling=U,x=U);return e&&E.forEach(function(D){return t(v,D)}),Qt&&Pa(v,T),S}function m(v,y,b,w){var S=Lu(b);if(typeof S!="function")throw Error(oe(150));if(b=S.call(b),b==null)throw Error(oe(151));for(var x=S=null,E=y,T=y=0,U=null,$=b.next();E!==null&&!$.done;T++,$=b.next()){E.index>T?(U=E,E=null):U=E.sibling;var D=h(v,E,$.value,w);if(D===null){E===null&&(E=U);break}e&&E&&D.alternate===null&&t(v,E),y=i(D,y,T),x===null?S=D:x.sibling=D,x=D,E=U}if($.done)return n(v,E),Qt&&Pa(v,T),S;if(E===null){for(;!$.done;T++,$=b.next())$=d(v,$.value,w),$!==null&&(y=i($,y,T),x===null?S=$:x.sibling=$,x=$);return Qt&&Pa(v,T),S}for(E=r(v,E);!$.done;T++,$=b.next())$=p(E,v,T,$.value,w),$!==null&&(e&&$.alternate!==null&&E.delete($.key===null?T:$.key),y=i($,y,T),x===null?S=$:x.sibling=$,x=$);return e&&E.forEach(function(Q){return t(v,Q)}),Qt&&Pa(v,T),S}function _(v,y,b,w){if(typeof b=="object"&&b!==null&&b.type===ec&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case Dh:e:{for(var S=b.key,x=y;x!==null;){if(x.key===S){if(S=b.type,S===ec){if(x.tag===7){n(v,x.sibling),y=s(x,b.props.children),y.return=v,v=y;break e}}else if(x.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Vo&&kI(S)===x.type){n(v,x.sibling),y=s(x,b.props),y.ref=Fu(v,x,b),y.return=v,v=y;break e}n(v,x);break}else t(v,x);x=x.sibling}b.type===ec?(y=Ka(b.props.children,v.mode,w,b.key),y.return=v,v=y):(w=Wp(b.type,b.key,b.props,null,v.mode,w),w.ref=Fu(v,y,b),w.return=v,v=w)}return o(v);case Zl:e:{for(x=b.key;y!==null;){if(y.key===x)if(y.tag===4&&y.stateNode.containerInfo===b.containerInfo&&y.stateNode.implementation===b.implementation){n(v,y.sibling),y=s(y,b.children||[]),y.return=v,v=y;break e}else{n(v,y);break}else t(v,y);y=y.sibling}y=xA(b,v.mode,w),y.return=v,v=y}return o(v);case Vo:return x=b._init,_(v,y,x(b._payload),w)}if(id(b))return g(v,y,b,w);if(Lu(b))return m(v,y,b,w);Jh(v,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,y!==null&&y.tag===6?(n(v,y.sibling),y=s(y,b),y.return=v,v=y):(n(v,y),y=wA(b,v.mode,w),y.return=v,v=y),o(v)):n(v,y)}return _}var Jc=x5(!0),E5=x5(!1),Zf={},Di=ma(Zf),gf=ma(Zf),mf=ma(Zf);function Fa(e){if(e===Zf)throw Error(oe(174));return e}function cw(e,t){switch(Lt(mf,t),Lt(gf,e),Lt(Di,Zf),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:C1(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=C1(t,e)}Dt(Di),Lt(Di,t)}function Xc(){Dt(Di),Dt(gf),Dt(mf)}function k5(e){Fa(mf.current);var t=Fa(Di.current),n=C1(t,e.type);t!==n&&(Lt(gf,e),Lt(Di,n))}function uw(e){gf.current===e&&(Dt(Di),Dt(gf))}var tn=ma(0);function Kg(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var vA=[];function dw(){for(var e=0;e<vA.length;e++)vA[e]._workInProgressVersionPrimary=null;vA.length=0}var Up=Co.ReactCurrentDispatcher,yA=Co.ReactCurrentBatchConfig,dl=0,nn=null,$n=null,Wn=null,Yg=!1,Id=!1,vf=0,_ne=0;function fr(){throw Error(oe(321))}function fw(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!gi(e[n],t[n]))return!1;return!0}function hw(e,t,n,r,s,i){if(dl=i,nn=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Up.current=e===null||e.memoizedState===null?xne:Ene,e=n(r,s),Id){i=0;do{if(Id=!1,vf=0,25<=i)throw Error(oe(301));i+=1,Wn=$n=null,t.updateQueue=null,Up.current=kne,e=n(r,s)}while(Id)}if(Up.current=Qg,t=$n!==null&&$n.next!==null,dl=0,Wn=$n=nn=null,Yg=!1,t)throw Error(oe(300));return e}function pw(){var e=vf!==0;return vf=0,e}function xi(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Wn===null?nn.memoizedState=Wn=e:Wn=Wn.next=e,Wn}function Us(){if($n===null){var e=nn.alternate;e=e!==null?e.memoizedState:null}else e=$n.next;var t=Wn===null?nn.memoizedState:Wn.next;if(t!==null)Wn=t,$n=e;else{if(e===null)throw Error(oe(310));$n=e,e={memoizedState:$n.memoizedState,baseState:$n.baseState,baseQueue:$n.baseQueue,queue:$n.queue,next:null},Wn===null?nn.memoizedState=Wn=e:Wn=Wn.next=e}return Wn}function yf(e,t){return typeof t=="function"?t(e):t}function AA(e){var t=Us(),n=t.queue;if(n===null)throw Error(oe(311));n.lastRenderedReducer=e;var r=$n,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,l=null,c=i;do{var u=c.lane;if((dl&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var d={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=d,o=r):l=l.next=d,nn.lanes|=u,fl|=u}c=c.next}while(c!==null&&c!==i);l===null?o=r:l.next=a,gi(r,t.memoizedState)||(Nr=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=l,n.lastRenderedState=r}if(e=n.interleaved,e!==null){s=e;do i=s.lane,nn.lanes|=i,fl|=i,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function _A(e){var t=Us(),n=t.queue;if(n===null)throw Error(oe(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,i=t.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=e(i,o.action),o=o.next;while(o!==s);gi(i,t.memoizedState)||(Nr=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function C5(){}function I5(e,t){var n=nn,r=Us(),s=t(),i=!gi(r.memoizedState,s);if(i&&(r.memoizedState=s,Nr=!0),r=r.queue,gw(M5.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||Wn!==null&&Wn.memoizedState.tag&1){if(n.flags|=2048,Af(9,R5.bind(null,n,r,s,t),void 0,null),Jn===null)throw Error(oe(349));dl&30||T5(n,t,s)}return s}function T5(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=nn.updateQueue,t===null?(t={lastEffect:null,stores:null},nn.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function R5(e,t,n,r){t.value=n,t.getSnapshot=r,P5(t)&&j5(e)}function M5(e,t,n){return n(function(){P5(t)&&j5(e)})}function P5(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!gi(e,n)}catch{return!0}}function j5(e){var t=Ao(e,1);t!==null&&fi(t,e,1,-1)}function CI(e){var t=xi();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:yf,lastRenderedState:e},t.queue=e,e=e.dispatch=wne.bind(null,nn,e),[t.memoizedState,e]}function Af(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=nn.updateQueue,t===null?(t={lastEffect:null,stores:null},nn.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function O5(){return Us().memoizedState}function zp(e,t,n,r){var s=xi();nn.flags|=e,s.memoizedState=Af(1|t,n,void 0,r===void 0?null:r)}function Ov(e,t,n,r){var s=Us();r=r===void 0?null:r;var i=void 0;if($n!==null){var o=$n.memoizedState;if(i=o.destroy,r!==null&&fw(r,o.deps)){s.memoizedState=Af(t,n,i,r);return}}nn.flags|=e,s.memoizedState=Af(1|t,n,i,r)}function II(e,t){return zp(8390656,8,e,t)}function gw(e,t){return Ov(2048,8,e,t)}function V5(e,t){return Ov(4,2,e,t)}function L5(e,t){return Ov(4,4,e,t)}function $5(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function B5(e,t,n){return n=n!=null?n.concat([e]):null,Ov(4,4,$5.bind(null,t,e),n)}function mw(){}function N5(e,t){var n=Us();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&fw(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function D5(e,t){var n=Us();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&fw(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function F5(e,t,n){return dl&21?(gi(n,t)||(n=HV(),nn.lanes|=n,fl|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Nr=!0),e.memoizedState=n)}function bne(e,t){var n=bt;bt=n!==0&&4>n?n:4,e(!0);var r=yA.transition;yA.transition={};try{e(!1),t()}finally{bt=n,yA.transition=r}}function U5(){return Us().memoizedState}function Sne(e,t,n){var r=sa(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},z5(e))H5(t,n);else if(n=_5(e,t,n,r),n!==null){var s=Tr();fi(n,e,r,s),G5(n,t,r)}}function wne(e,t,n){var r=sa(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(z5(e))H5(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,gi(a,o)){var l=t.interleaved;l===null?(s.next=s,aw(t)):(s.next=l.next,l.next=s),t.interleaved=s;return}}catch{}finally{}n=_5(e,t,s,r),n!==null&&(s=Tr(),fi(n,e,r,s),G5(n,t,r))}}function z5(e){var t=e.alternate;return e===nn||t!==null&&t===nn}function H5(e,t){Id=Yg=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function G5(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,WS(e,n)}}var Qg={readContext:Fs,useCallback:fr,useContext:fr,useEffect:fr,useImperativeHandle:fr,useInsertionEffect:fr,useLayoutEffect:fr,useMemo:fr,useReducer:fr,useRef:fr,useState:fr,useDebugValue:fr,useDeferredValue:fr,useTransition:fr,useMutableSource:fr,useSyncExternalStore:fr,useId:fr,unstable_isNewReconciler:!1},xne={readContext:Fs,useCallback:function(e,t){return xi().memoizedState=[e,t===void 0?null:t],e},useContext:Fs,useEffect:II,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,zp(4194308,4,$5.bind(null,t,e),n)},useLayoutEffect:function(e,t){return zp(4194308,4,e,t)},useInsertionEffect:function(e,t){return zp(4,2,e,t)},useMemo:function(e,t){var n=xi();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=xi();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Sne.bind(null,nn,e),[r.memoizedState,e]},useRef:function(e){var t=xi();return e={current:e},t.memoizedState=e},useState:CI,useDebugValue:mw,useDeferredValue:function(e){return xi().memoizedState=e},useTransition:function(){var e=CI(!1),t=e[0];return e=bne.bind(null,e[1]),xi().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=nn,s=xi();if(Qt){if(n===void 0)throw Error(oe(407));n=n()}else{if(n=t(),Jn===null)throw Error(oe(349));dl&30||T5(r,t,n)}s.memoizedState=n;var i={value:n,getSnapshot:t};return s.queue=i,II(M5.bind(null,r,i,e),[e]),r.flags|=2048,Af(9,R5.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=xi(),t=Jn.identifierPrefix;if(Qt){var n=io,r=so;n=(r&~(1<<32-di(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=vf++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=_ne++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Ene={readContext:Fs,useCallback:N5,useContext:Fs,useEffect:gw,useImperativeHandle:B5,useInsertionEffect:V5,useLayoutEffect:L5,useMemo:D5,useReducer:AA,useRef:O5,useState:function(){return AA(yf)},useDebugValue:mw,useDeferredValue:function(e){var t=Us();return F5(t,$n.memoizedState,e)},useTransition:function(){var e=AA(yf)[0],t=Us().memoizedState;return[e,t]},useMutableSource:C5,useSyncExternalStore:I5,useId:U5,unstable_isNewReconciler:!1},kne={readContext:Fs,useCallback:N5,useContext:Fs,useEffect:gw,useImperativeHandle:B5,useInsertionEffect:V5,useLayoutEffect:L5,useMemo:D5,useReducer:_A,useRef:O5,useState:function(){return _A(yf)},useDebugValue:mw,useDeferredValue:function(e){var t=Us();return $n===null?t.memoizedState=e:F5(t,$n.memoizedState,e)},useTransition:function(){var e=_A(yf)[0],t=Us().memoizedState;return[e,t]},useMutableSource:C5,useSyncExternalStore:I5,useId:U5,unstable_isNewReconciler:!1};function Zc(e,t){try{var n="",r=t;do n+=ete(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function bA(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Q1(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Cne=typeof WeakMap=="function"?WeakMap:Map;function q5(e,t,n){n=co(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Xg||(Xg=!0,o_=r),Q1(e,t)},n}function W5(e,t,n){n=co(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){Q1(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Q1(e,t),typeof r!="function"&&(ra===null?ra=new Set([this]):ra.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function TI(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new Cne;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=Fne.bind(null,e,t,n),t.then(e,e))}function RI(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function MI(e,t,n,r,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=co(-1,1),t.tag=2,na(n,t,1))),n.lanes|=1),e)}var Ine=Co.ReactCurrentOwner,Nr=!1;function wr(e,t,n,r){t.child=e===null?E5(t,null,n,r):Jc(t,e.child,n,r)}function PI(e,t,n,r,s){n=n.render;var i=t.ref;return Tc(t,s),r=hw(e,t,n,r,i,s),n=pw(),e!==null&&!Nr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,_o(e,t,s)):(Qt&&n&&tw(t),t.flags|=1,wr(e,t,r,s),t.child)}function jI(e,t,n,r,s){if(e===null){var i=n.type;return typeof i=="function"&&!xw(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,K5(e,t,i,r,s)):(e=Wp(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:df,n(o,r)&&e.ref===t.ref)return _o(e,t,s)}return t.flags|=1,e=ia(i,r),e.ref=t.ref,e.return=t,t.child=e}function K5(e,t,n,r,s){if(e!==null){var i=e.memoizedProps;if(df(i,r)&&e.ref===t.ref)if(Nr=!1,t.pendingProps=r=i,(e.lanes&s)!==0)e.flags&131072&&(Nr=!0);else return t.lanes=e.lanes,_o(e,t,s)}return J1(e,t,n,r,s)}function Y5(e,t,n){var r=t.pendingProps,s=r.children,i=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Lt(uc,Jr),Jr|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Lt(uc,Jr),Jr|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,Lt(uc,Jr),Jr|=r}else i!==null?(r=i.baseLanes|n,t.memoizedState=null):r=n,Lt(uc,Jr),Jr|=r;return wr(e,t,s,n),t.child}function Q5(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function J1(e,t,n,r,s){var i=Fr(n)?cl:yr.current;return i=Yc(t,i),Tc(t,s),n=hw(e,t,n,r,i,s),r=pw(),e!==null&&!Nr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,_o(e,t,s)):(Qt&&r&&tw(t),t.flags|=1,wr(e,t,n,s),t.child)}function OI(e,t,n,r,s){if(Fr(n)){var i=!0;Ug(t)}else i=!1;if(Tc(t,s),t.stateNode===null)Hp(e,t),w5(t,n,r),Y1(t,n,r,s),r=!0;else if(e===null){var o=t.stateNode,a=t.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=Fs(c):(c=Fr(n)?cl:yr.current,c=Yc(t,c));var u=n.getDerivedStateFromProps,d=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&EI(t,o,r,c),Lo=!1;var h=t.memoizedState;o.state=h,Wg(t,r,o,s),l=t.memoizedState,a!==r||h!==l||Dr.current||Lo?(typeof u=="function"&&(K1(t,n,u,r),l=t.memoizedState),(a=Lo||xI(t,n,a,r,h,l,c))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,b5(e,t),a=t.memoizedProps,c=t.type===t.elementType?a:Qs(t.type,a),o.props=c,d=t.pendingProps,h=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Fs(l):(l=Fr(n)?cl:yr.current,l=Yc(t,l));var p=n.getDerivedStateFromProps;(u=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||h!==l)&&EI(t,o,r,l),Lo=!1,h=t.memoizedState,o.state=h,Wg(t,r,o,s);var g=t.memoizedState;a!==d||h!==g||Dr.current||Lo?(typeof p=="function"&&(K1(t,n,p,r),g=t.memoizedState),(c=Lo||xI(t,n,c,r,h,g,l)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,g,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,g,l)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=g),o.props=r,o.state=g,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return X1(e,t,n,r,i,s)}function X1(e,t,n,r,s,i){Q5(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return s&&AI(t,n,!1),_o(e,t,i);r=t.stateNode,Ine.current=t;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=Jc(t,e.child,null,i),t.child=Jc(t,null,a,i)):wr(e,t,a,i),t.memoizedState=r.state,s&&AI(t,n,!0),t.child}function J5(e){var t=e.stateNode;t.pendingContext?yI(e,t.pendingContext,t.pendingContext!==t.context):t.context&&yI(e,t.context,!1),cw(e,t.containerInfo)}function VI(e,t,n,r,s){return Qc(),rw(s),t.flags|=256,wr(e,t,n,r),t.child}var Z1={dehydrated:null,treeContext:null,retryLane:0};function e_(e){return{baseLanes:e,cachePool:null,transitions:null}}function X5(e,t,n){var r=t.pendingProps,s=tn.current,i=!1,o=(t.flags&128)!==0,a;if((a=o)||(a=e!==null&&e.memoizedState===null?!1:(s&2)!==0),a?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),Lt(tn,s&1),e===null)return q1(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,i?(r=t.mode,i=t.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=$v(o,r,0,null),e=Ka(e,r,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=e_(n),t.memoizedState=Z1,e):vw(t,o));if(s=e.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return Tne(e,t,o,r,a,s,n);if(i){i=r.fallback,o=t.mode,s=e.child,a=s.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&t.child!==s?(r=t.child,r.childLanes=0,r.pendingProps=l,t.deletions=null):(r=ia(s,l),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=ia(a,i):(i=Ka(i,o,n,null),i.flags|=2),i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,o=e.child.memoizedState,o=o===null?e_(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~n,t.memoizedState=Z1,r}return i=e.child,e=i.sibling,r=ia(i,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function vw(e,t){return t=$v({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Xh(e,t,n,r){return r!==null&&rw(r),Jc(t,e.child,null,n),e=vw(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Tne(e,t,n,r,s,i,o){if(n)return t.flags&256?(t.flags&=-257,r=bA(Error(oe(422))),Xh(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=r.fallback,s=t.mode,r=$v({mode:"visible",children:r.children},s,0,null),i=Ka(i,s,o,null),i.flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,t.mode&1&&Jc(t,e.child,null,o),t.child.memoizedState=e_(o),t.memoizedState=Z1,i);if(!(t.mode&1))return Xh(e,t,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(oe(419)),r=bA(i,r,void 0),Xh(e,t,o,r)}if(a=(o&e.childLanes)!==0,Nr||a){if(r=Jn,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Ao(e,s),fi(r,e,s,-1))}return ww(),r=bA(Error(oe(421))),Xh(e,t,o,r)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=Une.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,ss=ta(s.nextSibling),as=t,Qt=!0,ti=null,e!==null&&(Is[Ts++]=so,Is[Ts++]=io,Is[Ts++]=ul,so=e.id,io=e.overflow,ul=t),t=vw(t,r.children),t.flags|=4096,t)}function LI(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),W1(e.return,t,n)}function SA(e,t,n,r,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function Z5(e,t,n){var r=t.pendingProps,s=r.revealOrder,i=r.tail;if(wr(e,t,r.children,n),r=tn.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&LI(e,n,t);else if(e.tag===19)LI(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Lt(tn,r),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&Kg(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),SA(t,!1,s,n,i);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Kg(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}SA(t,!0,n,null,i);break;case"together":SA(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Hp(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function _o(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),fl|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(oe(153));if(t.child!==null){for(e=t.child,n=ia(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=ia(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Rne(e,t,n){switch(t.tag){case 3:J5(t),Qc();break;case 5:k5(t);break;case 1:Fr(t.type)&&Ug(t);break;case 4:cw(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;Lt(Gg,r._currentValue),r._currentValue=s;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Lt(tn,tn.current&1),t.flags|=128,null):n&t.child.childLanes?X5(e,t,n):(Lt(tn,tn.current&1),e=_o(e,t,n),e!==null?e.sibling:null);Lt(tn,tn.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return Z5(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Lt(tn,tn.current),r)break;return null;case 22:case 23:return t.lanes=0,Y5(e,t,n)}return _o(e,t,n)}var e4,t_,t4,n4;e4=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};t_=function(){};t4=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,Fa(Di.current);var i=null;switch(n){case"input":s=w1(e,s),r=w1(e,r),i=[];break;case"select":s=rn({},s,{value:void 0}),r=rn({},r,{value:void 0}),i=[];break;case"textarea":s=k1(e,s),r=k1(e,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Dg)}I1(n,r);var o;n=null;for(c in s)if(!r.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var a=s[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(rf.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in r){var l=r[c];if(a=s!=null?s[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(i||(i=[]),i.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(rf.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&$t("scroll",e),i||a===l||(i=[])):(i=i||[]).push(c,l))}n&&(i=i||[]).push("style",n);var c=i;(t.updateQueue=c)&&(t.flags|=4)}};n4=function(e,t,n,r){n!==r&&(t.flags|=4)};function Uu(e,t){if(!Qt)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function hr(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Mne(e,t,n){var r=t.pendingProps;switch(nw(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return hr(t),null;case 1:return Fr(t.type)&&Fg(),hr(t),null;case 3:return r=t.stateNode,Xc(),Dt(Dr),Dt(yr),dw(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Qh(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,ti!==null&&(c_(ti),ti=null))),t_(e,t),hr(t),null;case 5:uw(t);var s=Fa(mf.current);if(n=t.type,e!==null&&t.stateNode!=null)t4(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(oe(166));return hr(t),null}if(e=Fa(Di.current),Qh(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[Ri]=t,r[pf]=i,e=(t.mode&1)!==0,n){case"dialog":$t("cancel",r),$t("close",r);break;case"iframe":case"object":case"embed":$t("load",r);break;case"video":case"audio":for(s=0;s<ad.length;s++)$t(ad[s],r);break;case"source":$t("error",r);break;case"img":case"image":case"link":$t("error",r),$t("load",r);break;case"details":$t("toggle",r);break;case"input":GC(r,i),$t("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},$t("invalid",r);break;case"textarea":WC(r,i),$t("invalid",r)}I1(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&Yh(r.textContent,a,e),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&Yh(r.textContent,a,e),s=["children",""+a]):rf.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&$t("scroll",r)}switch(n){case"input":Fh(r),qC(r,i,!0);break;case"textarea":Fh(r),KC(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Dg)}r=s,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=TV(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[Ri]=t,e[pf]=r,e4(e,t,!1,!1),t.stateNode=e;e:{switch(o=T1(n,r),n){case"dialog":$t("cancel",e),$t("close",e),s=r;break;case"iframe":case"object":case"embed":$t("load",e),s=r;break;case"video":case"audio":for(s=0;s<ad.length;s++)$t(ad[s],e);s=r;break;case"source":$t("error",e),s=r;break;case"img":case"image":case"link":$t("error",e),$t("load",e),s=r;break;case"details":$t("toggle",e),s=r;break;case"input":GC(e,r),s=w1(e,r),$t("invalid",e);break;case"option":s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=rn({},r,{value:void 0}),$t("invalid",e);break;case"textarea":WC(e,r),s=k1(e,r),$t("invalid",e);break;default:s=r}I1(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?PV(e,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&RV(e,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&sf(e,l):typeof l=="number"&&sf(e,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(rf.hasOwnProperty(i)?l!=null&&i==="onScroll"&&$t("scroll",e):l!=null&&FS(e,i,l,o))}switch(n){case"input":Fh(e),qC(e,r,!1);break;case"textarea":Fh(e),KC(e);break;case"option":r.value!=null&&e.setAttribute("value",""+la(r.value));break;case"select":e.multiple=!!r.multiple,i=r.value,i!=null?Ec(e,!!r.multiple,i,!1):r.defaultValue!=null&&Ec(e,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=Dg)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return hr(t),null;case 6:if(e&&t.stateNode!=null)n4(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(oe(166));if(n=Fa(mf.current),Fa(Di.current),Qh(t)){if(r=t.stateNode,n=t.memoizedProps,r[Ri]=t,(i=r.nodeValue!==n)&&(e=as,e!==null))switch(e.tag){case 3:Yh(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Yh(r.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Ri]=t,t.stateNode=r}return hr(t),null;case 13:if(Dt(tn),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Qt&&ss!==null&&t.mode&1&&!(t.flags&128))A5(),Qc(),t.flags|=98560,i=!1;else if(i=Qh(t),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error(oe(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(oe(317));i[Ri]=t}else Qc(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;hr(t),i=!1}else ti!==null&&(c_(ti),ti=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||tn.current&1?Dn===0&&(Dn=3):ww())),t.updateQueue!==null&&(t.flags|=4),hr(t),null);case 4:return Xc(),t_(e,t),e===null&&ff(t.stateNode.containerInfo),hr(t),null;case 10:return ow(t.type._context),hr(t),null;case 17:return Fr(t.type)&&Fg(),hr(t),null;case 19:if(Dt(tn),i=t.memoizedState,i===null)return hr(t),null;if(r=(t.flags&128)!==0,o=i.rendering,o===null)if(r)Uu(i,!1);else{if(Dn!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Kg(e),o!==null){for(t.flags|=128,Uu(i,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)i=n,e=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Lt(tn,tn.current&1|2),t.child}e=e.sibling}i.tail!==null&&_n()>eu&&(t.flags|=128,r=!0,Uu(i,!1),t.lanes=4194304)}else{if(!r)if(e=Kg(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Uu(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!Qt)return hr(t),null}else 2*_n()-i.renderingStartTime>eu&&n!==1073741824&&(t.flags|=128,r=!0,Uu(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(n=i.last,n!==null?n.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=_n(),t.sibling=null,n=tn.current,Lt(tn,r?n&1|2:n&1),t):(hr(t),null);case 22:case 23:return Sw(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Jr&1073741824&&(hr(t),t.subtreeFlags&6&&(t.flags|=8192)):hr(t),null;case 24:return null;case 25:return null}throw Error(oe(156,t.tag))}function Pne(e,t){switch(nw(t),t.tag){case 1:return Fr(t.type)&&Fg(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Xc(),Dt(Dr),Dt(yr),dw(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return uw(t),null;case 13:if(Dt(tn),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(oe(340));Qc()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Dt(tn),null;case 4:return Xc(),null;case 10:return ow(t.type._context),null;case 22:case 23:return Sw(),null;case 24:return null;default:return null}}var Zh=!1,mr=!1,jne=typeof WeakSet=="function"?WeakSet:Set,Ae=null;function cc(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){un(e,t,r)}else n.current=null}function n_(e,t,n){try{n()}catch(r){un(e,t,r)}}var $I=!1;function One(e,t){if(N1=$g,e=o5(),ew(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,u=0,d=e,h=null;t:for(;;){for(var p;d!==n||s!==0&&d.nodeType!==3||(a=o+s),d!==i||r!==0&&d.nodeType!==3||(l=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(p=d.firstChild)!==null;)h=d,d=p;for(;;){if(d===e)break t;if(h===n&&++c===s&&(a=o),h===i&&++u===r&&(l=o),(p=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=p}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(D1={focusedElem:e,selectionRange:n},$g=!1,Ae=t;Ae!==null;)if(t=Ae,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Ae=e;else for(;Ae!==null;){t=Ae;try{var g=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var m=g.memoizedProps,_=g.memoizedState,v=t.stateNode,y=v.getSnapshotBeforeUpdate(t.elementType===t.type?m:Qs(t.type,m),_);v.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var b=t.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(oe(163))}}catch(w){un(t,t.return,w)}if(e=t.sibling,e!==null){e.return=t.return,Ae=e;break}Ae=t.return}return g=$I,$I=!1,g}function Td(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&n_(t,n,i)}s=s.next}while(s!==r)}}function Vv(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function r_(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function r4(e){var t=e.alternate;t!==null&&(e.alternate=null,r4(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Ri],delete t[pf],delete t[z1],delete t[mne],delete t[vne])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function s4(e){return e.tag===5||e.tag===3||e.tag===4}function BI(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||s4(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function s_(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Dg));else if(r!==4&&(e=e.child,e!==null))for(s_(e,t,n),e=e.sibling;e!==null;)s_(e,t,n),e=e.sibling}function i_(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(i_(e,t,n),e=e.sibling;e!==null;)i_(e,t,n),e=e.sibling}var nr=null,Zs=!1;function Mo(e,t,n){for(n=n.child;n!==null;)i4(e,t,n),n=n.sibling}function i4(e,t,n){if(Ni&&typeof Ni.onCommitFiberUnmount=="function")try{Ni.onCommitFiberUnmount(Cv,n)}catch{}switch(n.tag){case 5:mr||cc(n,t);case 6:var r=nr,s=Zs;nr=null,Mo(e,t,n),nr=r,Zs=s,nr!==null&&(Zs?(e=nr,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):nr.removeChild(n.stateNode));break;case 18:nr!==null&&(Zs?(e=nr,n=n.stateNode,e.nodeType===8?gA(e.parentNode,n):e.nodeType===1&&gA(e,n),cf(e)):gA(nr,n.stateNode));break;case 4:r=nr,s=Zs,nr=n.stateNode.containerInfo,Zs=!0,Mo(e,t,n),nr=r,Zs=s;break;case 0:case 11:case 14:case 15:if(!mr&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&n_(n,t,o),s=s.next}while(s!==r)}Mo(e,t,n);break;case 1:if(!mr&&(cc(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){un(n,t,a)}Mo(e,t,n);break;case 21:Mo(e,t,n);break;case 22:n.mode&1?(mr=(r=mr)||n.memoizedState!==null,Mo(e,t,n),mr=r):Mo(e,t,n);break;default:Mo(e,t,n)}}function NI(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new jne),t.forEach(function(r){var s=zne.bind(null,e,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Ks(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=e,o=t,a=o;e:for(;a!==null;){switch(a.tag){case 5:nr=a.stateNode,Zs=!1;break e;case 3:nr=a.stateNode.containerInfo,Zs=!0;break e;case 4:nr=a.stateNode.containerInfo,Zs=!0;break e}a=a.return}if(nr===null)throw Error(oe(160));i4(i,o,s),nr=null,Zs=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(c){un(s,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)o4(t,e),t=t.sibling}function o4(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Ks(t,e),_i(e),r&4){try{Td(3,e,e.return),Vv(3,e)}catch(m){un(e,e.return,m)}try{Td(5,e,e.return)}catch(m){un(e,e.return,m)}}break;case 1:Ks(t,e),_i(e),r&512&&n!==null&&cc(n,n.return);break;case 5:if(Ks(t,e),_i(e),r&512&&n!==null&&cc(n,n.return),e.flags&32){var s=e.stateNode;try{sf(s,"")}catch(m){un(e,e.return,m)}}if(r&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,o=n!==null?n.memoizedProps:i,a=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&CV(s,i),T1(a,o);var c=T1(a,i);for(o=0;o<l.length;o+=2){var u=l[o],d=l[o+1];u==="style"?PV(s,d):u==="dangerouslySetInnerHTML"?RV(s,d):u==="children"?sf(s,d):FS(s,u,d,c)}switch(a){case"input":x1(s,i);break;case"textarea":IV(s,i);break;case"select":var h=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var p=i.value;p!=null?Ec(s,!!i.multiple,p,!1):h!==!!i.multiple&&(i.defaultValue!=null?Ec(s,!!i.multiple,i.defaultValue,!0):Ec(s,!!i.multiple,i.multiple?[]:"",!1))}s[pf]=i}catch(m){un(e,e.return,m)}}break;case 6:if(Ks(t,e),_i(e),r&4){if(e.stateNode===null)throw Error(oe(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(m){un(e,e.return,m)}}break;case 3:if(Ks(t,e),_i(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{cf(t.containerInfo)}catch(m){un(e,e.return,m)}break;case 4:Ks(t,e),_i(e);break;case 13:Ks(t,e),_i(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(_w=_n())),r&4&&NI(e);break;case 22:if(u=n!==null&&n.memoizedState!==null,e.mode&1?(mr=(c=mr)||u,Ks(t,e),mr=c):Ks(t,e),_i(e),r&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!u&&e.mode&1)for(Ae=e,u=e.child;u!==null;){for(d=Ae=u;Ae!==null;){switch(h=Ae,p=h.child,h.tag){case 0:case 11:case 14:case 15:Td(4,h,h.return);break;case 1:cc(h,h.return);var g=h.stateNode;if(typeof g.componentWillUnmount=="function"){r=h,n=h.return;try{t=r,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(m){un(r,n,m)}}break;case 5:cc(h,h.return);break;case 22:if(h.memoizedState!==null){FI(d);continue}}p!==null?(p.return=h,Ae=p):FI(d)}u=u.sibling}e:for(u=null,d=e;;){if(d.tag===5){if(u===null){u=d;try{s=d.stateNode,c?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=MV("display",o))}catch(m){un(e,e.return,m)}}}else if(d.tag===6){if(u===null)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(m){un(e,e.return,m)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===e)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;d.sibling===null;){if(d.return===null||d.return===e)break e;u===d&&(u=null),d=d.return}u===d&&(u=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Ks(t,e),_i(e),r&4&&NI(e);break;case 21:break;default:Ks(t,e),_i(e)}}function _i(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(s4(n)){var r=n;break e}n=n.return}throw Error(oe(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(sf(s,""),r.flags&=-33);var i=BI(e);i_(e,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=BI(e);s_(e,a,o);break;default:throw Error(oe(161))}}catch(l){un(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Vne(e,t,n){Ae=e,a4(e)}function a4(e,t,n){for(var r=(e.mode&1)!==0;Ae!==null;){var s=Ae,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||Zh;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||mr;a=Zh;var c=mr;if(Zh=o,(mr=l)&&!c)for(Ae=s;Ae!==null;)o=Ae,l=o.child,o.tag===22&&o.memoizedState!==null?UI(s):l!==null?(l.return=o,Ae=l):UI(s);for(;i!==null;)Ae=i,a4(i),i=i.sibling;Ae=s,Zh=a,mr=c}DI(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,Ae=i):DI(e)}}function DI(e){for(;Ae!==null;){var t=Ae;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:mr||Vv(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!mr)if(n===null)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:Qs(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&wI(t,i,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}wI(t,o,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var d=u.dehydrated;d!==null&&cf(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(oe(163))}mr||t.flags&512&&r_(t)}catch(h){un(t,t.return,h)}}if(t===e){Ae=null;break}if(n=t.sibling,n!==null){n.return=t.return,Ae=n;break}Ae=t.return}}function FI(e){for(;Ae!==null;){var t=Ae;if(t===e){Ae=null;break}var n=t.sibling;if(n!==null){n.return=t.return,Ae=n;break}Ae=t.return}}function UI(e){for(;Ae!==null;){var t=Ae;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Vv(4,t)}catch(l){un(t,n,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var s=t.return;try{r.componentDidMount()}catch(l){un(t,s,l)}}var i=t.return;try{r_(t)}catch(l){un(t,i,l)}break;case 5:var o=t.return;try{r_(t)}catch(l){un(t,o,l)}}}catch(l){un(t,t.return,l)}if(t===e){Ae=null;break}var a=t.sibling;if(a!==null){a.return=t.return,Ae=a;break}Ae=t.return}}var Lne=Math.ceil,Jg=Co.ReactCurrentDispatcher,yw=Co.ReactCurrentOwner,Vs=Co.ReactCurrentBatchConfig,dt=0,Jn=null,Pn=null,ar=0,Jr=0,uc=ma(0),Dn=0,_f=null,fl=0,Lv=0,Aw=0,Rd=null,Lr=null,_w=0,eu=1/0,Zi=null,Xg=!1,o_=null,ra=null,ep=!1,qo=null,Zg=0,Md=0,a_=null,Gp=-1,qp=0;function Tr(){return dt&6?_n():Gp!==-1?Gp:Gp=_n()}function sa(e){return e.mode&1?dt&2&&ar!==0?ar&-ar:Ane.transition!==null?(qp===0&&(qp=HV()),qp):(e=bt,e!==0||(e=window.event,e=e===void 0?16:JV(e.type)),e):1}function fi(e,t,n,r){if(50<Md)throw Md=0,a_=null,Error(oe(185));Qf(e,n,r),(!(dt&2)||e!==Jn)&&(e===Jn&&(!(dt&2)&&(Lv|=n),Dn===4&&Do(e,ar)),Ur(e,r),n===1&&dt===0&&!(t.mode&1)&&(eu=_n()+500,Pv&&va()))}function Ur(e,t){var n=e.callbackNode;Ate(e,t);var r=Lg(e,e===Jn?ar:0);if(r===0)n!==null&&JC(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&JC(n),t===1)e.tag===0?yne(zI.bind(null,e)):m5(zI.bind(null,e)),pne(function(){!(dt&6)&&va()}),n=null;else{switch(GV(r)){case 1:n=qS;break;case 4:n=UV;break;case 16:n=Vg;break;case 536870912:n=zV;break;default:n=Vg}n=g4(n,l4.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function l4(e,t){if(Gp=-1,qp=0,dt&6)throw Error(oe(327));var n=e.callbackNode;if(Rc()&&e.callbackNode!==n)return null;var r=Lg(e,e===Jn?ar:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=em(e,r);else{t=r;var s=dt;dt|=2;var i=u4();(Jn!==e||ar!==t)&&(Zi=null,eu=_n()+500,Wa(e,t));do try{Nne();break}catch(a){c4(e,a)}while(!0);iw(),Jg.current=i,dt=s,Pn!==null?t=0:(Jn=null,ar=0,t=Dn)}if(t!==0){if(t===2&&(s=O1(e),s!==0&&(r=s,t=l_(e,s))),t===1)throw n=_f,Wa(e,0),Do(e,r),Ur(e,_n()),n;if(t===6)Do(e,r);else{if(s=e.current.alternate,!(r&30)&&!$ne(s)&&(t=em(e,r),t===2&&(i=O1(e),i!==0&&(r=i,t=l_(e,i))),t===1))throw n=_f,Wa(e,0),Do(e,r),Ur(e,_n()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(oe(345));case 2:ja(e,Lr,Zi);break;case 3:if(Do(e,r),(r&130023424)===r&&(t=_w+500-_n(),10<t)){if(Lg(e,0)!==0)break;if(s=e.suspendedLanes,(s&r)!==r){Tr(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=U1(ja.bind(null,e,Lr,Zi),t);break}ja(e,Lr,Zi);break;case 4:if(Do(e,r),(r&4194240)===r)break;for(t=e.eventTimes,s=-1;0<r;){var o=31-di(r);i=1<<o,o=t[o],o>s&&(s=o),r&=~i}if(r=s,r=_n()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Lne(r/1960))-r,10<r){e.timeoutHandle=U1(ja.bind(null,e,Lr,Zi),r);break}ja(e,Lr,Zi);break;case 5:ja(e,Lr,Zi);break;default:throw Error(oe(329))}}}return Ur(e,_n()),e.callbackNode===n?l4.bind(null,e):null}function l_(e,t){var n=Rd;return e.current.memoizedState.isDehydrated&&(Wa(e,t).flags|=256),e=em(e,t),e!==2&&(t=Lr,Lr=n,t!==null&&c_(t)),e}function c_(e){Lr===null?Lr=e:Lr.push.apply(Lr,e)}function $ne(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!gi(i(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Do(e,t){for(t&=~Aw,t&=~Lv,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-di(t),r=1<<n;e[n]=-1,t&=~r}}function zI(e){if(dt&6)throw Error(oe(327));Rc();var t=Lg(e,0);if(!(t&1))return Ur(e,_n()),null;var n=em(e,t);if(e.tag!==0&&n===2){var r=O1(e);r!==0&&(t=r,n=l_(e,r))}if(n===1)throw n=_f,Wa(e,0),Do(e,t),Ur(e,_n()),n;if(n===6)throw Error(oe(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,ja(e,Lr,Zi),Ur(e,_n()),null}function bw(e,t){var n=dt;dt|=1;try{return e(t)}finally{dt=n,dt===0&&(eu=_n()+500,Pv&&va())}}function hl(e){qo!==null&&qo.tag===0&&!(dt&6)&&Rc();var t=dt;dt|=1;var n=Vs.transition,r=bt;try{if(Vs.transition=null,bt=1,e)return e()}finally{bt=r,Vs.transition=n,dt=t,!(dt&6)&&va()}}function Sw(){Jr=uc.current,Dt(uc)}function Wa(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,hne(n)),Pn!==null)for(n=Pn.return;n!==null;){var r=n;switch(nw(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Fg();break;case 3:Xc(),Dt(Dr),Dt(yr),dw();break;case 5:uw(r);break;case 4:Xc();break;case 13:Dt(tn);break;case 19:Dt(tn);break;case 10:ow(r.type._context);break;case 22:case 23:Sw()}n=n.return}if(Jn=e,Pn=e=ia(e.current,null),ar=Jr=t,Dn=0,_f=null,Aw=Lv=fl=0,Lr=Rd=null,Da!==null){for(t=0;t<Da.length;t++)if(n=Da[t],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}Da=null}return e}function c4(e,t){do{var n=Pn;try{if(iw(),Up.current=Qg,Yg){for(var r=nn.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Yg=!1}if(dl=0,Wn=$n=nn=null,Id=!1,vf=0,yw.current=null,n===null||n.return===null){Dn=1,_f=t,Pn=null;break}e:{var i=e,o=n.return,a=n,l=t;if(t=ar,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=a,d=u.tag;if(!(u.mode&1)&&(d===0||d===11||d===15)){var h=u.alternate;h?(u.updateQueue=h.updateQueue,u.memoizedState=h.memoizedState,u.lanes=h.lanes):(u.updateQueue=null,u.memoizedState=null)}var p=RI(o);if(p!==null){p.flags&=-257,MI(p,o,a,i,t),p.mode&1&&TI(i,c,t),t=p,l=c;var g=t.updateQueue;if(g===null){var m=new Set;m.add(l),t.updateQueue=m}else g.add(l);break e}else{if(!(t&1)){TI(i,c,t),ww();break e}l=Error(oe(426))}}else if(Qt&&a.mode&1){var _=RI(o);if(_!==null){!(_.flags&65536)&&(_.flags|=256),MI(_,o,a,i,t),rw(Zc(l,a));break e}}i=l=Zc(l,a),Dn!==4&&(Dn=2),Rd===null?Rd=[i]:Rd.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var v=q5(i,l,t);SI(i,v);break e;case 1:a=l;var y=i.type,b=i.stateNode;if(!(i.flags&128)&&(typeof y.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(ra===null||!ra.has(b)))){i.flags|=65536,t&=-t,i.lanes|=t;var w=W5(i,a,t);SI(i,w);break e}}i=i.return}while(i!==null)}f4(n)}catch(S){t=S,Pn===n&&n!==null&&(Pn=n=n.return);continue}break}while(!0)}function u4(){var e=Jg.current;return Jg.current=Qg,e===null?Qg:e}function ww(){(Dn===0||Dn===3||Dn===2)&&(Dn=4),Jn===null||!(fl&268435455)&&!(Lv&268435455)||Do(Jn,ar)}function em(e,t){var n=dt;dt|=2;var r=u4();(Jn!==e||ar!==t)&&(Zi=null,Wa(e,t));do try{Bne();break}catch(s){c4(e,s)}while(!0);if(iw(),dt=n,Jg.current=r,Pn!==null)throw Error(oe(261));return Jn=null,ar=0,Dn}function Bne(){for(;Pn!==null;)d4(Pn)}function Nne(){for(;Pn!==null&&!ute();)d4(Pn)}function d4(e){var t=p4(e.alternate,e,Jr);e.memoizedProps=e.pendingProps,t===null?f4(e):Pn=t,yw.current=null}function f4(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=Pne(n,t),n!==null){n.flags&=32767,Pn=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Dn=6,Pn=null;return}}else if(n=Mne(n,t,Jr),n!==null){Pn=n;return}if(t=t.sibling,t!==null){Pn=t;return}Pn=t=e}while(t!==null);Dn===0&&(Dn=5)}function ja(e,t,n){var r=bt,s=Vs.transition;try{Vs.transition=null,bt=1,Dne(e,t,n,r)}finally{Vs.transition=s,bt=r}return null}function Dne(e,t,n,r){do Rc();while(qo!==null);if(dt&6)throw Error(oe(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(oe(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(_te(e,i),e===Jn&&(Pn=Jn=null,ar=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||ep||(ep=!0,g4(Vg,function(){return Rc(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Vs.transition,Vs.transition=null;var o=bt;bt=1;var a=dt;dt|=4,yw.current=null,One(e,n),o4(n,e),one(D1),$g=!!N1,D1=N1=null,e.current=n,Vne(n),dte(),dt=a,bt=o,Vs.transition=i}else e.current=n;if(ep&&(ep=!1,qo=e,Zg=s),i=e.pendingLanes,i===0&&(ra=null),pte(n.stateNode),Ur(e,_n()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Xg)throw Xg=!1,e=o_,o_=null,e;return Zg&1&&e.tag!==0&&Rc(),i=e.pendingLanes,i&1?e===a_?Md++:(Md=0,a_=e):Md=0,va(),null}function Rc(){if(qo!==null){var e=GV(Zg),t=Vs.transition,n=bt;try{if(Vs.transition=null,bt=16>e?16:e,qo===null)var r=!1;else{if(e=qo,qo=null,Zg=0,dt&6)throw Error(oe(331));var s=dt;for(dt|=4,Ae=e.current;Ae!==null;){var i=Ae,o=i.child;if(Ae.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(Ae=c;Ae!==null;){var u=Ae;switch(u.tag){case 0:case 11:case 15:Td(8,u,i)}var d=u.child;if(d!==null)d.return=u,Ae=d;else for(;Ae!==null;){u=Ae;var h=u.sibling,p=u.return;if(r4(u),u===c){Ae=null;break}if(h!==null){h.return=p,Ae=h;break}Ae=p}}}var g=i.alternate;if(g!==null){var m=g.child;if(m!==null){g.child=null;do{var _=m.sibling;m.sibling=null,m=_}while(m!==null)}}Ae=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,Ae=o;else e:for(;Ae!==null;){if(i=Ae,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Td(9,i,i.return)}var v=i.sibling;if(v!==null){v.return=i.return,Ae=v;break e}Ae=i.return}}var y=e.current;for(Ae=y;Ae!==null;){o=Ae;var b=o.child;if(o.subtreeFlags&2064&&b!==null)b.return=o,Ae=b;else e:for(o=y;Ae!==null;){if(a=Ae,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Vv(9,a)}}catch(S){un(a,a.return,S)}if(a===o){Ae=null;break e}var w=a.sibling;if(w!==null){w.return=a.return,Ae=w;break e}Ae=a.return}}if(dt=s,va(),Ni&&typeof Ni.onPostCommitFiberRoot=="function")try{Ni.onPostCommitFiberRoot(Cv,e)}catch{}r=!0}return r}finally{bt=n,Vs.transition=t}}return!1}function HI(e,t,n){t=Zc(n,t),t=q5(e,t,1),e=na(e,t,1),t=Tr(),e!==null&&(Qf(e,1,t),Ur(e,t))}function un(e,t,n){if(e.tag===3)HI(e,e,n);else for(;t!==null;){if(t.tag===3){HI(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ra===null||!ra.has(r))){e=Zc(n,e),e=W5(t,e,1),t=na(t,e,1),e=Tr(),t!==null&&(Qf(t,1,e),Ur(t,e));break}}t=t.return}}function Fne(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Tr(),e.pingedLanes|=e.suspendedLanes&n,Jn===e&&(ar&n)===n&&(Dn===4||Dn===3&&(ar&130023424)===ar&&500>_n()-_w?Wa(e,0):Aw|=n),Ur(e,t)}function h4(e,t){t===0&&(e.mode&1?(t=Hh,Hh<<=1,!(Hh&130023424)&&(Hh=4194304)):t=1);var n=Tr();e=Ao(e,t),e!==null&&(Qf(e,t,n),Ur(e,n))}function Une(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),h4(e,n)}function zne(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(oe(314))}r!==null&&r.delete(t),h4(e,n)}var p4;p4=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Dr.current)Nr=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Nr=!1,Rne(e,t,n);Nr=!!(e.flags&131072)}else Nr=!1,Qt&&t.flags&1048576&&v5(t,Hg,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Hp(e,t),e=t.pendingProps;var s=Yc(t,yr.current);Tc(t,n),s=hw(null,t,r,e,s,n);var i=pw();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Fr(r)?(i=!0,Ug(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,lw(t),s.updater=jv,t.stateNode=s,s._reactInternals=t,Y1(t,r,e,n),t=X1(null,t,r,!0,i,n)):(t.tag=0,Qt&&i&&tw(t),wr(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Hp(e,t),e=t.pendingProps,s=r._init,r=s(r._payload),t.type=r,s=t.tag=Gne(r),e=Qs(r,e),s){case 0:t=J1(null,t,r,e,n);break e;case 1:t=OI(null,t,r,e,n);break e;case 11:t=PI(null,t,r,e,n);break e;case 14:t=jI(null,t,r,Qs(r.type,e),n);break e}throw Error(oe(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Qs(r,s),J1(e,t,r,s,n);case 1:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Qs(r,s),OI(e,t,r,s,n);case 3:e:{if(J5(t),e===null)throw Error(oe(387));r=t.pendingProps,i=t.memoizedState,s=i.element,b5(e,t),Wg(t,r,null,n);var o=t.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=Zc(Error(oe(423)),t),t=VI(e,t,r,n,s);break e}else if(r!==s){s=Zc(Error(oe(424)),t),t=VI(e,t,r,n,s);break e}else for(ss=ta(t.stateNode.containerInfo.firstChild),as=t,Qt=!0,ti=null,n=E5(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Qc(),r===s){t=_o(e,t,n);break e}wr(e,t,r,n)}t=t.child}return t;case 5:return k5(t),e===null&&q1(t),r=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,o=s.children,F1(r,s)?o=null:i!==null&&F1(r,i)&&(t.flags|=32),Q5(e,t),wr(e,t,o,n),t.child;case 6:return e===null&&q1(t),null;case 13:return X5(e,t,n);case 4:return cw(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Jc(t,null,r,n):wr(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Qs(r,s),PI(e,t,r,s,n);case 7:return wr(e,t,t.pendingProps,n),t.child;case 8:return wr(e,t,t.pendingProps.children,n),t.child;case 12:return wr(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,i=t.memoizedProps,o=s.value,Lt(Gg,r._currentValue),r._currentValue=o,i!==null)if(gi(i.value,o)){if(i.children===s.children&&!Dr.current){t=_o(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=co(-1,n&-n),l.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),W1(i.return,n,t),a.lanes|=n;break}l=l.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(oe(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),W1(o,n,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}wr(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,Tc(t,n),s=Fs(s),r=r(s),t.flags|=1,wr(e,t,r,n),t.child;case 14:return r=t.type,s=Qs(r,t.pendingProps),s=Qs(r.type,s),jI(e,t,r,s,n);case 15:return K5(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Qs(r,s),Hp(e,t),t.tag=1,Fr(r)?(e=!0,Ug(t)):e=!1,Tc(t,n),w5(t,r,s),Y1(t,r,s,n),X1(null,t,r,!0,e,n);case 19:return Z5(e,t,n);case 22:return Y5(e,t,n)}throw Error(oe(156,t.tag))};function g4(e,t){return FV(e,t)}function Hne(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function js(e,t,n,r){return new Hne(e,t,n,r)}function xw(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Gne(e){if(typeof e=="function")return xw(e)?1:0;if(e!=null){if(e=e.$$typeof,e===zS)return 11;if(e===HS)return 14}return 2}function ia(e,t){var n=e.alternate;return n===null?(n=js(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Wp(e,t,n,r,s,i){var o=2;if(r=e,typeof e=="function")xw(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case ec:return Ka(n.children,s,i,t);case US:o=8,s|=8;break;case A1:return e=js(12,n,t,s|2),e.elementType=A1,e.lanes=i,e;case _1:return e=js(13,n,t,s),e.elementType=_1,e.lanes=i,e;case b1:return e=js(19,n,t,s),e.elementType=b1,e.lanes=i,e;case xV:return $v(n,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case SV:o=10;break e;case wV:o=9;break e;case zS:o=11;break e;case HS:o=14;break e;case Vo:o=16,r=null;break e}throw Error(oe(130,e==null?e:typeof e,""))}return t=js(o,n,t,s),t.elementType=e,t.type=r,t.lanes=i,t}function Ka(e,t,n,r){return e=js(7,e,r,t),e.lanes=n,e}function $v(e,t,n,r){return e=js(22,e,r,t),e.elementType=xV,e.lanes=n,e.stateNode={isHidden:!1},e}function wA(e,t,n){return e=js(6,e,null,t),e.lanes=n,e}function xA(e,t,n){return t=js(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function qne(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=sA(0),this.expirationTimes=sA(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=sA(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Ew(e,t,n,r,s,i,o,a,l){return e=new qne(e,t,n,a,l),t===1?(t=1,i===!0&&(t|=8)):t=0,i=js(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},lw(i),e}function Wne(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Zl,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function m4(e){if(!e)return ca;e=e._reactInternals;e:{if(Il(e)!==e||e.tag!==1)throw Error(oe(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Fr(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(oe(171))}if(e.tag===1){var n=e.type;if(Fr(n))return g5(e,n,t)}return t}function v4(e,t,n,r,s,i,o,a,l){return e=Ew(n,r,!0,e,s,i,o,a,l),e.context=m4(null),n=e.current,r=Tr(),s=sa(n),i=co(r,s),i.callback=t??null,na(n,i,s),e.current.lanes=s,Qf(e,s,r),Ur(e,r),e}function Bv(e,t,n,r){var s=t.current,i=Tr(),o=sa(s);return n=m4(n),t.context===null?t.context=n:t.pendingContext=n,t=co(i,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=na(s,t,o),e!==null&&(fi(e,s,o,i),Fp(e,s,o)),o}function tm(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function GI(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function kw(e,t){GI(e,t),(e=e.alternate)&&GI(e,t)}function Kne(){return null}var y4=typeof reportError=="function"?reportError:function(e){console.error(e)};function Cw(e){this._internalRoot=e}Nv.prototype.render=Cw.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(oe(409));Bv(e,t,null,null)};Nv.prototype.unmount=Cw.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;hl(function(){Bv(null,e,null,null)}),t[yo]=null}};function Nv(e){this._internalRoot=e}Nv.prototype.unstable_scheduleHydration=function(e){if(e){var t=KV();e={blockedOn:null,target:e,priority:t};for(var n=0;n<No.length&&t!==0&&t<No[n].priority;n++);No.splice(n,0,e),n===0&&QV(e)}};function Iw(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Dv(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function qI(){}function Yne(e,t,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var c=tm(o);i.call(c)}}var o=v4(t,r,e,0,null,!1,!1,"",qI);return e._reactRootContainer=o,e[yo]=o.current,ff(e.nodeType===8?e.parentNode:e),hl(),o}for(;s=e.lastChild;)e.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var c=tm(l);a.call(c)}}var l=Ew(e,0,!1,null,null,!1,!1,"",qI);return e._reactRootContainer=l,e[yo]=l.current,ff(e.nodeType===8?e.parentNode:e),hl(function(){Bv(t,l,n,r)}),l}function Fv(e,t,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=tm(o);a.call(l)}}Bv(t,o,e,s)}else o=Yne(n,t,e,s,r);return tm(o)}qV=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=od(t.pendingLanes);n!==0&&(WS(t,n|1),Ur(t,_n()),!(dt&6)&&(eu=_n()+500,va()))}break;case 13:hl(function(){var r=Ao(e,1);if(r!==null){var s=Tr();fi(r,e,1,s)}}),kw(e,1)}};KS=function(e){if(e.tag===13){var t=Ao(e,134217728);if(t!==null){var n=Tr();fi(t,e,134217728,n)}kw(e,134217728)}};WV=function(e){if(e.tag===13){var t=sa(e),n=Ao(e,t);if(n!==null){var r=Tr();fi(n,e,t,r)}kw(e,t)}};KV=function(){return bt};YV=function(e,t){var n=bt;try{return bt=e,t()}finally{bt=n}};M1=function(e,t,n){switch(t){case"input":if(x1(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=Mv(r);if(!s)throw Error(oe(90));kV(r),x1(r,s)}}}break;case"textarea":IV(e,n);break;case"select":t=n.value,t!=null&&Ec(e,!!n.multiple,t,!1)}};VV=bw;LV=hl;var Qne={usingClientEntryPoint:!1,Events:[Xf,sc,Mv,jV,OV,bw]},zu={findFiberByHostInstance:Na,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},Jne={bundleType:zu.bundleType,version:zu.version,rendererPackageName:zu.rendererPackageName,rendererConfig:zu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Co.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=NV(e),e===null?null:e.stateNode},findFiberByHostInstance:zu.findFiberByHostInstance||Kne,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var tp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!tp.isDisabled&&tp.supportsFiber)try{Cv=tp.inject(Jne),Ni=tp}catch{}}ps.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Qne;ps.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Iw(t))throw Error(oe(200));return Wne(e,t,null,n)};ps.createRoot=function(e,t){if(!Iw(e))throw Error(oe(299));var n=!1,r="",s=y4;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=Ew(e,1,!1,null,null,n,!1,r,s),e[yo]=t.current,ff(e.nodeType===8?e.parentNode:e),new Cw(t)};ps.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(oe(188)):(e=Object.keys(e).join(","),Error(oe(268,e)));return e=NV(t),e=e===null?null:e.stateNode,e};ps.flushSync=function(e){return hl(e)};ps.hydrate=function(e,t,n){if(!Dv(t))throw Error(oe(200));return Fv(null,e,t,!0,n)};ps.hydrateRoot=function(e,t,n){if(!Iw(e))throw Error(oe(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=y4;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=v4(t,null,e,1,n??null,s,!1,i,o),e[yo]=t.current,ff(e),r)for(e=0;e<r.length;e++)n=r[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new Nv(t)};ps.render=function(e,t,n){if(!Dv(t))throw Error(oe(200));return Fv(null,e,t,!1,n)};ps.unmountComponentAtNode=function(e){if(!Dv(e))throw Error(oe(40));return e._reactRootContainer?(hl(function(){Fv(null,null,e,!1,function(){e._reactRootContainer=null,e[yo]=null})}),!0):!1};ps.unstable_batchedUpdates=bw;ps.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Dv(n))throw Error(oe(200));if(e==null||e._reactInternals===void 0)throw Error(oe(38));return Fv(e,t,n,!1,r)};ps.version="18.2.0-next-9e3b772b8-20220608";function A4(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(A4)}catch(e){console.error(e)}}A4(),vV.exports=ps;var _u=vV.exports;const z_e=cr(_u),WI=xe.createContext(null);function Xne(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Tw(e,t){var n=function(i){return t&&A.isValidElement(i)?t(i):i},r=Object.create(null);return e&&A.Children.map(e,function(s){return s}).forEach(function(s){r[s.key]=n(s)}),r}function Zne(e,t){e=e||{},t=t||{};function n(u){return u in t?t[u]:e[u]}var r=Object.create(null),s=[];for(var i in e)i in t?s.length&&(r[i]=s,s=[]):s.push(i);var o,a={};for(var l in t){if(r[l])for(o=0;o<r[l].length;o++){var c=r[l][o];a[r[l][o]]=n(c)}a[l]=n(l)}for(o=0;o<s.length;o++)a[s[o]]=n(s[o]);return a}function Ua(e,t,n){return n[t]!=null?n[t]:e.props[t]}function ere(e,t){return Tw(e.children,function(n){return A.cloneElement(n,{onExited:t.bind(null,n),in:!0,appear:Ua(n,"appear",e),enter:Ua(n,"enter",e),exit:Ua(n,"exit",e)})})}function tre(e,t,n){var r=Tw(e.children),s=Zne(t,r);return Object.keys(s).forEach(function(i){var o=s[i];if(A.isValidElement(o)){var a=i in t,l=i in r,c=t[i],u=A.isValidElement(c)&&!c.props.in;l&&(!a||u)?s[i]=A.cloneElement(o,{onExited:n.bind(null,o),in:!0,exit:Ua(o,"exit",e),enter:Ua(o,"enter",e)}):!l&&a&&!u?s[i]=A.cloneElement(o,{in:!1}):l&&a&&A.isValidElement(c)&&(s[i]=A.cloneElement(o,{onExited:n.bind(null,o),in:c.props.in,exit:Ua(o,"exit",e),enter:Ua(o,"enter",e)}))}}),s}var nre=Object.values||function(e){return Object.keys(e).map(function(t){return e[t]})},rre={component:"div",childFactory:function(t){return t}},Rw=function(e){Kee(t,e);function t(r,s){var i;i=e.call(this,r,s)||this;var o=i.handleExited.bind(Xne(i));return i.state={contextValue:{isMounting:!0},handleExited:o,firstRender:!0},i}var n=t.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},t.getDerivedStateFromProps=function(s,i){var o=i.children,a=i.handleExited,l=i.firstRender;return{children:l?ere(s,a):tre(s,o,a),firstRender:!1}},n.handleExited=function(s,i){var o=Tw(this.props.children);s.key in o||(s.props.onExited&&s.props.onExited(i),this.mounted&&this.setState(function(a){var l=Me({},a.children);return delete l[s.key],{children:l}}))},n.render=function(){var s=this.props,i=s.component,o=s.childFactory,a=_r(s,["component","childFactory"]),l=this.state.contextValue,c=nre(this.state.children).map(o);return delete a.appear,delete a.enter,delete a.exit,i===null?xe.createElement(WI.Provider,{value:l},c):xe.createElement(WI.Provider,{value:l},xe.createElement(i,a,c))},t}(xe.Component);Rw.propTypes={};Rw.defaultProps=rre;const sre=Rw;function Mw(e,t=0,n=1){return Y3(e,t,n)}function ire(e){e=e.slice(1);const t=new RegExp(`.{1,${e.length>=6?2:1}}`,"g");let n=e.match(t);return n&&n[0].length===1&&(n=n.map(r=>r+r)),n?`rgb${n.length===4?"a":""}(${n.map((r,s)=>s<3?parseInt(r,16):Math.round(parseInt(r,16)/255*1e3)/1e3).join(", ")})`:""}function Uv(e){if(e.type)return e;if(e.charAt(0)==="#")return Uv(ire(e));const t=e.indexOf("("),n=e.substring(0,t);if(["rgb","rgba","hsl","hsla","color"].indexOf(n)===-1)throw new Error(ll(9,e));let r=e.substring(t+1,e.length-1),s;if(n==="color"){if(r=r.split(" "),s=r.shift(),r.length===4&&r[3].charAt(0)==="/"&&(r[3]=r[3].slice(1)),["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(s)===-1)throw new Error(ll(10,s))}else r=r.split(",");return r=r.map(i=>parseFloat(i)),{type:n,values:r,colorSpace:s}}function Pw(e){const{type:t,colorSpace:n}=e;let{values:r}=e;return t.indexOf("rgb")!==-1?r=r.map((s,i)=>i<3?parseInt(s,10):s):t.indexOf("hsl")!==-1&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),t.indexOf("color")!==-1?r=`${n} ${r.join(" ")}`:r=`${r.join(", ")}`,`${t}(${r})`}function ore(e,t){return e=Uv(e),t=Mw(t),(e.type==="rgb"||e.type==="hsl")&&(e.type+="a"),e.type==="color"?e.values[3]=`/${t}`:e.values[3]=t,Pw(e)}function H_e(e,t){if(e=Uv(e),t=Mw(t),e.type.indexOf("hsl")!==-1)e.values[2]*=1-t;else if(e.type.indexOf("rgb")!==-1||e.type.indexOf("color")!==-1)for(let n=0;n<3;n+=1)e.values[n]*=1-t;return Pw(e)}function G_e(e,t){if(e=Uv(e),t=Mw(t),e.type.indexOf("hsl")!==-1)e.values[2]+=(100-e.values[2])*t;else if(e.type.indexOf("rgb")!==-1)for(let n=0;n<3;n+=1)e.values[n]+=(255-e.values[n])*t;else if(e.type.indexOf("color")!==-1)for(let n=0;n<3;n+=1)e.values[n]+=(1-e.values[n])*t;return Pw(e)}const are=A.createContext(null),_4=are;function b4(){return A.useContext(_4)}const lre=typeof Symbol=="function"&&Symbol.for,cre=lre?Symbol.for("mui.nested"):"__THEME_NESTED__";function ure(e,t){return typeof t=="function"?t(e):Me({},e,t)}function dre(e){const{children:t,theme:n}=e,r=b4(),s=A.useMemo(()=>{const i=r===null?n:ure(r,n);return i!=null&&(i[cre]=r!==null),i},[n,r]);return f.jsx(_4.Provider,{value:s,children:t})}const fre=["value"],S4=A.createContext();function hre(e){let{value:t}=e,n=_r(e,fre);return f.jsx(S4.Provider,Me({value:t??!0},n))}const q_e=()=>{const e=A.useContext(S4);return e??!1},KI={};function YI(e,t,n,r=!1){return A.useMemo(()=>{const s=e&&t[e]||t;if(typeof n=="function"){const i=n(s),o=e?Me({},t,{[e]:i}):i;return r?()=>o:o}return e?Me({},t,{[e]:n}):Me({},t,n)},[e,t,n,r])}function pre(e){const{children:t,theme:n,themeId:r}=e,s=iV(KI),i=b4()||KI,o=YI(r,s,n),a=YI(r,i,n,!0),l=o.direction==="rtl";return f.jsx(dre,{theme:a,children:f.jsx(Pf.Provider,{value:o,children:f.jsx(hre,{value:l,children:t})})})}function gre(e){const{className:t,classes:n,pulsate:r=!1,rippleX:s,rippleY:i,rippleSize:o,in:a,onExited:l,timeout:c}=e,[u,d]=A.useState(!1),h=Vr(t,n.ripple,n.rippleVisible,r&&n.ripplePulsate),p={width:o,height:o,top:-(o/2)+i,left:-(o/2)+s},g=Vr(n.child,u&&n.childLeaving,r&&n.childPulsate);return!a&&!u&&d(!0),A.useEffect(()=>{if(!a&&l!=null){const m=setTimeout(l,c);return()=>{clearTimeout(m)}}},[l,a,c]),f.jsx("span",{className:h,style:p,children:f.jsx("span",{className:g})})}const xs=pu("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),mre=["center","classes","className"];let zv=e=>e,QI,JI,XI,ZI;const u_=550,vre=80,yre=fa(QI||(QI=zv`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`)),Are=fa(JI||(JI=zv`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`)),_re=fa(XI||(XI=zv`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`)),bre=ko("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),Sre=ko(gre,{name:"MuiTouchRipple",slot:"Ripple"})(ZI||(ZI=zv`
  opacity: 0;
  position: absolute;

  &.${0} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  &.${0} {
    animation-duration: ${0}ms;
  }

  & .${0} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${0} {
    opacity: 0;
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  & .${0} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${0};
    animation-duration: 2500ms;
    animation-timing-function: ${0};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`),xs.rippleVisible,yre,u_,({theme:e})=>e.transitions.easing.easeInOut,xs.ripplePulsate,({theme:e})=>e.transitions.duration.shorter,xs.child,xs.childLeaving,Are,u_,({theme:e})=>e.transitions.easing.easeInOut,xs.childPulsate,_re,({theme:e})=>e.transitions.easing.easeInOut),wre=A.forwardRef(function(t,n){const r=mu({props:t,name:"MuiTouchRipple"}),{center:s=!1,classes:i={},className:o}=r,a=_r(r,mre),[l,c]=A.useState([]),u=A.useRef(0),d=A.useRef(null);A.useEffect(()=>{d.current&&(d.current(),d.current=null)},[l]);const h=A.useRef(!1),p=UJ(),g=A.useRef(null),m=A.useRef(null),_=A.useCallback(w=>{const{pulsate:S,rippleX:x,rippleY:E,rippleSize:T,cb:U}=w;c($=>[...$,f.jsx(Sre,{classes:{ripple:Vr(i.ripple,xs.ripple),rippleVisible:Vr(i.rippleVisible,xs.rippleVisible),ripplePulsate:Vr(i.ripplePulsate,xs.ripplePulsate),child:Vr(i.child,xs.child),childLeaving:Vr(i.childLeaving,xs.childLeaving),childPulsate:Vr(i.childPulsate,xs.childPulsate)},timeout:u_,pulsate:S,rippleX:x,rippleY:E,rippleSize:T},u.current)]),u.current+=1,d.current=U},[i]),v=A.useCallback((w={},S={},x=()=>{})=>{const{pulsate:E=!1,center:T=s||S.pulsate,fakeElement:U=!1}=S;if((w==null?void 0:w.type)==="mousedown"&&h.current){h.current=!1;return}(w==null?void 0:w.type)==="touchstart"&&(h.current=!0);const $=U?null:m.current,D=$?$.getBoundingClientRect():{width:0,height:0,left:0,top:0};let Q,P,L;if(T||w===void 0||w.clientX===0&&w.clientY===0||!w.clientX&&!w.touches)Q=Math.round(D.width/2),P=Math.round(D.height/2);else{const{clientX:M,clientY:I}=w.touches&&w.touches.length>0?w.touches[0]:w;Q=Math.round(M-D.left),P=Math.round(I-D.top)}if(T)L=Math.sqrt((2*D.width**2+D.height**2)/3),L%2===0&&(L+=1);else{const M=Math.max(Math.abs(($?$.clientWidth:0)-Q),Q)*2+2,I=Math.max(Math.abs(($?$.clientHeight:0)-P),P)*2+2;L=Math.sqrt(M**2+I**2)}w!=null&&w.touches?g.current===null&&(g.current=()=>{_({pulsate:E,rippleX:Q,rippleY:P,rippleSize:L,cb:x})},p.start(vre,()=>{g.current&&(g.current(),g.current=null)})):_({pulsate:E,rippleX:Q,rippleY:P,rippleSize:L,cb:x})},[s,_,p]),y=A.useCallback(()=>{v({},{pulsate:!0})},[v]),b=A.useCallback((w,S)=>{if(p.clear(),(w==null?void 0:w.type)==="touchend"&&g.current){g.current(),g.current=null,p.start(0,()=>{b(w,S)});return}g.current=null,c(x=>x.length>0?x.slice(1):x),d.current=S},[p]);return A.useImperativeHandle(n,()=>({pulsate:y,start:v,stop:b}),[y,v,b]),f.jsx(bre,Me({className:Vr(xs.root,i.root,o),ref:m},a,{children:f.jsx(sre,{component:null,exit:!0,children:l})}))}),xre=wre;function Ere(e){return hu("MuiButtonBase",e)}const kre=pu("MuiButtonBase",["root","disabled","focusVisible"]),Cre=["action","centerRipple","children","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","LinkComponent","onBlur","onClick","onContextMenu","onDragLeave","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","tabIndex","TouchRippleProps","touchRippleRef","type"],Ire=e=>{const{disabled:t,focusVisible:n,focusVisibleClassName:r,classes:s}=e,o=Gf({root:["root",t&&"disabled",n&&"focusVisible"]},Ere,s);return n&&r&&(o.root+=` ${r}`),o},Tre=ko("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${kre.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),Rre=A.forwardRef(function(t,n){const r=mu({props:t,name:"MuiButtonBase"}),{action:s,centerRipple:i=!1,children:o,className:a,component:l="button",disabled:c=!1,disableRipple:u=!1,disableTouchRipple:d=!1,focusRipple:h=!1,LinkComponent:p="a",onBlur:g,onClick:m,onContextMenu:_,onDragLeave:v,onFocus:y,onFocusVisible:b,onKeyDown:w,onKeyUp:S,onMouseDown:x,onMouseLeave:E,onMouseUp:T,onTouchEnd:U,onTouchMove:$,onTouchStart:D,tabIndex:Q=0,TouchRippleProps:P,touchRippleRef:L,type:M}=r,I=_r(r,Cre),z=A.useRef(null),j=A.useRef(null),N=d1(j,L),{isFocusVisibleRef:V,onFocus:G,onBlur:F,ref:ne}=q3(),[O,fe]=A.useState(!1);c&&O&&fe(!1),A.useImperativeHandle(s,()=>({focusVisible:()=>{fe(!0),z.current.focus()}}),[]);const[Z,ae]=A.useState(!1);A.useEffect(()=>{ae(!0)},[]);const Pe=Z&&!u&&!c;A.useEffect(()=>{O&&h&&!u&&Z&&j.current.pulsate()},[u,h,O,Z]);function ye(me,et,hn=d){return rd(lt=>(et&&et(lt),!hn&&j.current&&j.current[me](lt),!0))}const ce=ye("start",x),_e=ye("stop",_),Fe=ye("stop",v),Ne=ye("stop",T),be=ye("stop",me=>{O&&me.preventDefault(),E&&E(me)}),Ee=ye("start",D),Ge=ye("stop",U),qe=ye("stop",$),Ie=ye("stop",me=>{F(me),V.current===!1&&fe(!1),g&&g(me)},!1),st=rd(me=>{z.current||(z.current=me.currentTarget),G(me),V.current===!0&&(fe(!0),b&&b(me)),y&&y(me)}),xt=()=>{const me=z.current;return l&&l!=="button"&&!(me.tagName==="A"&&me.href)},Jt=A.useRef(!1),It=rd(me=>{h&&!Jt.current&&O&&j.current&&me.key===" "&&(Jt.current=!0,j.current.stop(me,()=>{j.current.start(me)})),me.target===me.currentTarget&&xt()&&me.key===" "&&me.preventDefault(),w&&w(me),me.target===me.currentTarget&&xt()&&me.key==="Enter"&&!c&&(me.preventDefault(),m&&m(me))}),fn=rd(me=>{h&&me.key===" "&&j.current&&O&&!me.defaultPrevented&&(Jt.current=!1,j.current.stop(me,()=>{j.current.pulsate(me)})),S&&S(me),m&&me.target===me.currentTarget&&xt()&&me.key===" "&&!me.defaultPrevented&&m(me)});let at=l;at==="button"&&(I.href||I.to)&&(at=p);const vt={};at==="button"?(vt.type=M===void 0?"button":M,vt.disabled=c):(!I.href&&!I.to&&(vt.role="button"),c&&(vt["aria-disabled"]=c));const zt=d1(n,ne,z),Ke=Me({},r,{centerRipple:i,component:l,disabled:c,disableRipple:u,disableTouchRipple:d,focusRipple:h,tabIndex:Q,focusVisible:O}),Tt=Ire(Ke);return f.jsxs(Tre,Me({as:at,className:Vr(Tt.root,a),ownerState:Ke,onBlur:Ie,onClick:m,onContextMenu:_e,onFocus:st,onKeyDown:It,onKeyUp:fn,onMouseDown:ce,onMouseLeave:be,onMouseUp:Ne,onDragLeave:Fe,onTouchEnd:Ge,onTouchMove:qe,onTouchStart:Ee,ref:zt,tabIndex:c?-1:Q,type:M},vt,I,{children:[o,Pe?f.jsx(xre,Me({ref:N,center:i},P)):null]}))}),Mre=Rre;function Pre(e){return hu("MuiIconButton",e)}const jre=pu("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge"]),Ore=["edge","children","className","color","disabled","disableFocusRipple","size"],Vre=e=>{const{classes:t,disabled:n,color:r,edge:s,size:i}=e,o={root:["root",n&&"disabled",r!=="default"&&`color${Qn(r)}`,s&&`edge${Qn(s)}`,`size${Qn(i)}`]};return Gf(o,Pre,t)},Lre=ko(Mre,{name:"MuiIconButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.color!=="default"&&t[`color${Qn(n.color)}`],n.edge&&t[`edge${Qn(n.edge)}`],t[`size${Qn(n.size)}`]]}})(({theme:e,ownerState:t})=>Me({textAlign:"center",flex:"0 0 auto",fontSize:e.typography.pxToRem(24),padding:8,borderRadius:"50%",overflow:"visible",color:(e.vars||e).palette.action.active,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shortest})},!t.disableRipple&&{"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.action.activeChannel} / ${e.vars.palette.action.hoverOpacity})`:MC(e.palette.action.active,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},t.edge==="start"&&{marginLeft:t.size==="small"?-3:-12},t.edge==="end"&&{marginRight:t.size==="small"?-3:-12}),({theme:e,ownerState:t})=>{var n;const r=(n=(e.vars||e).palette)==null?void 0:n[t.color];return Me({},t.color==="inherit"&&{color:"inherit"},t.color!=="inherit"&&t.color!=="default"&&Me({color:r==null?void 0:r.main},!t.disableRipple&&{"&:hover":Me({},r&&{backgroundColor:e.vars?`rgba(${r.mainChannel} / ${e.vars.palette.action.hoverOpacity})`:MC(r.main,e.palette.action.hoverOpacity)},{"@media (hover: none)":{backgroundColor:"transparent"}})}),t.size==="small"&&{padding:5,fontSize:e.typography.pxToRem(18)},t.size==="large"&&{padding:12,fontSize:e.typography.pxToRem(28)},{[`&.${jre.disabled}`]:{backgroundColor:"transparent",color:(e.vars||e).palette.action.disabled}})}),$re=A.forwardRef(function(t,n){const r=mu({props:t,name:"MuiIconButton"}),{edge:s=!1,children:i,className:o,color:a="default",disabled:l=!1,disableFocusRipple:c=!1,size:u="medium"}=r,d=_r(r,Ore),h=Me({},r,{edge:s,color:a,disabled:l,disableFocusRipple:c,size:u}),p=Vre(h);return f.jsx(Lre,Me({className:Vr(p.root,o),centerRipple:!0,focusRipple:!c,disabled:l,ref:n},d,{ownerState:h,children:i}))}),jw=$re,tu=Math.min,Ya=Math.max,nm=Math.round,np=Math.floor,ua=e=>({x:e,y:e}),Bre={left:"right",right:"left",bottom:"top",top:"bottom"},Nre={start:"end",end:"start"};function d_(e,t,n){return Ya(e,tu(t,n))}function eh(e,t){return typeof e=="function"?e(t):e}function pl(e){return e.split("-")[0]}function th(e){return e.split("-")[1]}function w4(e){return e==="x"?"y":"x"}function Ow(e){return e==="y"?"height":"width"}function Hv(e){return["top","bottom"].includes(pl(e))?"y":"x"}function Vw(e){return w4(Hv(e))}function Dre(e,t,n){n===void 0&&(n=!1);const r=th(e),s=Vw(e),i=Ow(s);let o=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(o=rm(o)),[o,rm(o)]}function Fre(e){const t=rm(e);return[f_(e),t,f_(t)]}function f_(e){return e.replace(/start|end/g,t=>Nre[t])}function Ure(e,t,n){const r=["left","right"],s=["right","left"],i=["top","bottom"],o=["bottom","top"];switch(e){case"top":case"bottom":return n?t?s:r:t?r:s;case"left":case"right":return t?i:o;default:return[]}}function zre(e,t,n,r){const s=th(e);let i=Ure(pl(e),n==="start",r);return s&&(i=i.map(o=>o+"-"+s),t&&(i=i.concat(i.map(f_)))),i}function rm(e){return e.replace(/left|right|bottom|top/g,t=>Bre[t])}function Hre(e){return{top:0,right:0,bottom:0,left:0,...e}}function x4(e){return typeof e!="number"?Hre(e):{top:e,right:e,bottom:e,left:e}}function sm(e){return{...e,top:e.y,left:e.x,right:e.x+e.width,bottom:e.y+e.height}}function eT(e,t,n){let{reference:r,floating:s}=e;const i=Hv(t),o=Vw(t),a=Ow(o),l=pl(t),c=i==="y",u=r.x+r.width/2-s.width/2,d=r.y+r.height/2-s.height/2,h=r[a]/2-s[a]/2;let p;switch(l){case"top":p={x:u,y:r.y-s.height};break;case"bottom":p={x:u,y:r.y+r.height};break;case"right":p={x:r.x+r.width,y:d};break;case"left":p={x:r.x-s.width,y:d};break;default:p={x:r.x,y:r.y}}switch(th(t)){case"start":p[o]-=h*(n&&c?-1:1);break;case"end":p[o]+=h*(n&&c?-1:1);break}return p}const Gre=async(e,t,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:i=[],platform:o}=n,a=i.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(t));let c=await o.getElementRects({reference:e,floating:t,strategy:s}),{x:u,y:d}=eT(c,r,l),h=r,p={},g=0;for(let m=0;m<a.length;m++){const{name:_,fn:v}=a[m],{x:y,y:b,data:w,reset:S}=await v({x:u,y:d,initialPlacement:r,placement:h,strategy:s,middlewareData:p,rects:c,platform:o,elements:{reference:e,floating:t}});u=y??u,d=b??d,p={...p,[_]:{...p[_],...w}},S&&g<=50&&(g++,typeof S=="object"&&(S.placement&&(h=S.placement),S.rects&&(c=S.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:s}):S.rects),{x:u,y:d}=eT(c,h,l)),m=-1)}return{x:u,y:d,placement:h,strategy:s,middlewareData:p}};async function E4(e,t){var n;t===void 0&&(t={});const{x:r,y:s,platform:i,rects:o,elements:a,strategy:l}=e,{boundary:c="clippingAncestors",rootBoundary:u="viewport",elementContext:d="floating",altBoundary:h=!1,padding:p=0}=eh(t,e),g=x4(p),_=a[h?d==="floating"?"reference":"floating":d],v=sm(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(_)))==null||n?_:_.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(a.floating)),boundary:c,rootBoundary:u,strategy:l})),y=d==="floating"?{...o.floating,x:r,y:s}:o.reference,b=await(i.getOffsetParent==null?void 0:i.getOffsetParent(a.floating)),w=await(i.isElement==null?void 0:i.isElement(b))?await(i.getScale==null?void 0:i.getScale(b))||{x:1,y:1}:{x:1,y:1},S=sm(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:y,offsetParent:b,strategy:l}):y);return{top:(v.top-S.top+g.top)/w.y,bottom:(S.bottom-v.bottom+g.bottom)/w.y,left:(v.left-S.left+g.left)/w.x,right:(S.right-v.right+g.right)/w.x}}const qre=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:s,rects:i,platform:o,elements:a,middlewareData:l}=t,{element:c,padding:u=0}=eh(e,t)||{};if(c==null)return{};const d=x4(u),h={x:n,y:r},p=Vw(s),g=Ow(p),m=await o.getDimensions(c),_=p==="y",v=_?"top":"left",y=_?"bottom":"right",b=_?"clientHeight":"clientWidth",w=i.reference[g]+i.reference[p]-h[p]-i.floating[g],S=h[p]-i.reference[p],x=await(o.getOffsetParent==null?void 0:o.getOffsetParent(c));let E=x?x[b]:0;(!E||!await(o.isElement==null?void 0:o.isElement(x)))&&(E=a.floating[b]||i.floating[g]);const T=w/2-S/2,U=E/2-m[g]/2-1,$=tu(d[v],U),D=tu(d[y],U),Q=$,P=E-m[g]-D,L=E/2-m[g]/2+T,M=d_(Q,L,P),I=!l.arrow&&th(s)!=null&&L!==M&&i.reference[g]/2-(L<Q?$:D)-m[g]/2<0,z=I?L<Q?L-Q:L-P:0;return{[p]:h[p]+z,data:{[p]:M,centerOffset:L-M-z,...I&&{alignmentOffset:z}},reset:I}}}),Wre=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:s,middlewareData:i,rects:o,initialPlacement:a,platform:l,elements:c}=t,{mainAxis:u=!0,crossAxis:d=!0,fallbackPlacements:h,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:g="none",flipAlignment:m=!0,..._}=eh(e,t);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const v=pl(s),y=pl(a)===a,b=await(l.isRTL==null?void 0:l.isRTL(c.floating)),w=h||(y||!m?[rm(a)]:Fre(a));!h&&g!=="none"&&w.push(...zre(a,m,g,b));const S=[a,...w],x=await E4(t,_),E=[];let T=((r=i.flip)==null?void 0:r.overflows)||[];if(u&&E.push(x[v]),d){const Q=Dre(s,o,b);E.push(x[Q[0]],x[Q[1]])}if(T=[...T,{placement:s,overflows:E}],!E.every(Q=>Q<=0)){var U,$;const Q=(((U=i.flip)==null?void 0:U.index)||0)+1,P=S[Q];if(P)return{data:{index:Q,overflows:T},reset:{placement:P}};let L=($=T.filter(M=>M.overflows[0]<=0).sort((M,I)=>M.overflows[1]-I.overflows[1])[0])==null?void 0:$.placement;if(!L)switch(p){case"bestFit":{var D;const M=(D=T.map(I=>[I.placement,I.overflows.filter(z=>z>0).reduce((z,j)=>z+j,0)]).sort((I,z)=>I[1]-z[1])[0])==null?void 0:D[0];M&&(L=M);break}case"initialPlacement":L=a;break}if(s!==L)return{reset:{placement:L}}}return{}}}};async function Kre(e,t){const{placement:n,platform:r,elements:s}=e,i=await(r.isRTL==null?void 0:r.isRTL(s.floating)),o=pl(n),a=th(n),l=Hv(n)==="y",c=["left","top"].includes(o)?-1:1,u=i&&l?-1:1,d=eh(t,e);let{mainAxis:h,crossAxis:p,alignmentAxis:g}=typeof d=="number"?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...d};return a&&typeof g=="number"&&(p=a==="end"?g*-1:g),l?{x:p*u,y:h*c}:{x:h*c,y:p*u}}const Yre=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:s,y:i,placement:o,middlewareData:a}=t,l=await Kre(t,e);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:s+l.x,y:i+l.y,data:{...l,placement:o}}}}},Qre=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:s}=t,{mainAxis:i=!0,crossAxis:o=!1,limiter:a={fn:_=>{let{x:v,y}=_;return{x:v,y}}},...l}=eh(e,t),c={x:n,y:r},u=await E4(t,l),d=Hv(pl(s)),h=w4(d);let p=c[h],g=c[d];if(i){const _=h==="y"?"top":"left",v=h==="y"?"bottom":"right",y=p+u[_],b=p-u[v];p=d_(y,p,b)}if(o){const _=d==="y"?"top":"left",v=d==="y"?"bottom":"right",y=g+u[_],b=g-u[v];g=d_(y,g,b)}const m=a.fn({...t,[h]:p,[d]:g});return{...m,data:{x:m.x-n,y:m.y-r}}}}};function da(e){return k4(e)?(e.nodeName||"").toLowerCase():"#document"}function ls(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Io(e){var t;return(t=(k4(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function k4(e){return e instanceof Node||e instanceof ls(e).Node}function bo(e){return e instanceof Element||e instanceof ls(e).Element}function Gi(e){return e instanceof HTMLElement||e instanceof ls(e).HTMLElement}function tT(e){return typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof ls(e).ShadowRoot}function nh(e){const{overflow:t,overflowX:n,overflowY:r,display:s}=zs(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(s)}function Jre(e){return["table","td","th"].includes(da(e))}function Lw(e){const t=$w(),n=zs(e);return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function C4(e){let t=nu(e);for(;Gi(t)&&!Gv(t);){if(Lw(t))return t;t=nu(t)}return null}function $w(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Gv(e){return["html","body","#document"].includes(da(e))}function zs(e){return ls(e).getComputedStyle(e)}function qv(e){return bo(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.pageXOffset,scrollTop:e.pageYOffset}}function nu(e){if(da(e)==="html")return e;const t=e.assignedSlot||e.parentNode||tT(e)&&e.host||Io(e);return tT(t)?t.host:t}function I4(e){const t=nu(e);return Gv(t)?e.ownerDocument?e.ownerDocument.body:e.body:Gi(t)&&nh(t)?t:I4(t)}function bf(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const s=I4(e),i=s===((r=e.ownerDocument)==null?void 0:r.body),o=ls(s);return i?t.concat(o,o.visualViewport||[],nh(s)?s:[],o.frameElement&&n?bf(o.frameElement):[]):t.concat(s,bf(s,[],n))}function T4(e){const t=zs(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const s=Gi(e),i=s?e.offsetWidth:n,o=s?e.offsetHeight:r,a=nm(n)!==i||nm(r)!==o;return a&&(n=i,r=o),{width:n,height:r,$:a}}function Bw(e){return bo(e)?e:e.contextElement}function Mc(e){const t=Bw(e);if(!Gi(t))return ua(1);const n=t.getBoundingClientRect(),{width:r,height:s,$:i}=T4(t);let o=(i?nm(n.width):n.width)/r,a=(i?nm(n.height):n.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const Xre=ua(0);function R4(e){const t=ls(e);return!$w()||!t.visualViewport?Xre:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function Zre(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==ls(e)?!1:t}function gl(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const s=e.getBoundingClientRect(),i=Bw(e);let o=ua(1);t&&(r?bo(r)&&(o=Mc(r)):o=Mc(e));const a=Zre(i,n,r)?R4(i):ua(0);let l=(s.left+a.x)/o.x,c=(s.top+a.y)/o.y,u=s.width/o.x,d=s.height/o.y;if(i){const h=ls(i),p=r&&bo(r)?ls(r):r;let g=h.frameElement;for(;g&&r&&p!==h;){const m=Mc(g),_=g.getBoundingClientRect(),v=zs(g),y=_.left+(g.clientLeft+parseFloat(v.paddingLeft))*m.x,b=_.top+(g.clientTop+parseFloat(v.paddingTop))*m.y;l*=m.x,c*=m.y,u*=m.x,d*=m.y,l+=y,c+=b,g=ls(g).frameElement}}return sm({width:u,height:d,x:l,y:c})}const ese=[":popover-open",":modal"];function M4(e){let t=!1,n=0,r=0;function s(i){try{t=t||e.matches(i)}catch{}}if(ese.forEach(i=>{s(i)}),t){const i=C4(e);if(i){const o=i.getBoundingClientRect();n=o.x,r=o.y}}return[t,n,r]}function tse(e){let{elements:t,rect:n,offsetParent:r,strategy:s}=e;const i=Io(r),[o]=t?M4(t.floating):[!1];if(r===i||o)return n;let a={scrollLeft:0,scrollTop:0},l=ua(1);const c=ua(0),u=Gi(r);if((u||!u&&s!=="fixed")&&((da(r)!=="body"||nh(i))&&(a=qv(r)),Gi(r))){const d=gl(r);l=Mc(r),c.x=d.x+r.clientLeft,c.y=d.y+r.clientTop}return{width:n.width*l.x,height:n.height*l.y,x:n.x*l.x-a.scrollLeft*l.x+c.x,y:n.y*l.y-a.scrollTop*l.y+c.y}}function nse(e){return Array.from(e.getClientRects())}function P4(e){return gl(Io(e)).left+qv(e).scrollLeft}function rse(e){const t=Io(e),n=qv(e),r=e.ownerDocument.body,s=Ya(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),i=Ya(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+P4(e);const a=-n.scrollTop;return zs(r).direction==="rtl"&&(o+=Ya(t.clientWidth,r.clientWidth)-s),{width:s,height:i,x:o,y:a}}function sse(e,t){const n=ls(e),r=Io(e),s=n.visualViewport;let i=r.clientWidth,o=r.clientHeight,a=0,l=0;if(s){i=s.width,o=s.height;const c=$w();(!c||c&&t==="fixed")&&(a=s.offsetLeft,l=s.offsetTop)}return{width:i,height:o,x:a,y:l}}function ise(e,t){const n=gl(e,!0,t==="fixed"),r=n.top+e.clientTop,s=n.left+e.clientLeft,i=Gi(e)?Mc(e):ua(1),o=e.clientWidth*i.x,a=e.clientHeight*i.y,l=s*i.x,c=r*i.y;return{width:o,height:a,x:l,y:c}}function nT(e,t,n){let r;if(t==="viewport")r=sse(e,n);else if(t==="document")r=rse(Io(e));else if(bo(t))r=ise(t,n);else{const s=R4(e);r={...t,x:t.x-s.x,y:t.y-s.y}}return sm(r)}function j4(e,t){const n=nu(e);return n===t||!bo(n)||Gv(n)?!1:zs(n).position==="fixed"||j4(n,t)}function ose(e,t){const n=t.get(e);if(n)return n;let r=bf(e,[],!1).filter(a=>bo(a)&&da(a)!=="body"),s=null;const i=zs(e).position==="fixed";let o=i?nu(e):e;for(;bo(o)&&!Gv(o);){const a=zs(o),l=Lw(o);!l&&a.position==="fixed"&&(s=null),(i?!l&&!s:!l&&a.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||nh(o)&&!l&&j4(e,o))?r=r.filter(u=>u!==o):s=a,o=nu(o)}return t.set(e,r),r}function ase(e){let{element:t,boundary:n,rootBoundary:r,strategy:s}=e;const o=[...n==="clippingAncestors"?ose(t,this._c):[].concat(n),r],a=o[0],l=o.reduce((c,u)=>{const d=nT(t,u,s);return c.top=Ya(d.top,c.top),c.right=tu(d.right,c.right),c.bottom=tu(d.bottom,c.bottom),c.left=Ya(d.left,c.left),c},nT(t,a,s));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function lse(e){const{width:t,height:n}=T4(e);return{width:t,height:n}}function cse(e,t,n,r){const s=Gi(t),i=Io(t),o=n==="fixed",a=gl(e,!0,o,t);let l={scrollLeft:0,scrollTop:0};const c=ua(0);if(s||!s&&!o)if((da(t)!=="body"||nh(i))&&(l=qv(t)),s){const m=gl(t,!0,o,t);c.x=m.x+t.clientLeft,c.y=m.y+t.clientTop}else i&&(c.x=P4(i));let u=a.left+l.scrollLeft-c.x,d=a.top+l.scrollTop-c.y;const[h,p,g]=M4(r);return h&&(u+=p,d+=g,s&&(u+=t.clientLeft,d+=t.clientTop)),{x:u,y:d,width:a.width,height:a.height}}function rT(e,t){return!Gi(e)||zs(e).position==="fixed"?null:t?t(e):e.offsetParent}function O4(e,t){const n=ls(e);if(!Gi(e))return n;let r=rT(e,t);for(;r&&Jre(r)&&zs(r).position==="static";)r=rT(r,t);return r&&(da(r)==="html"||da(r)==="body"&&zs(r).position==="static"&&!Lw(r))?n:r||C4(e)||n}const use=async function(e){const t=this.getOffsetParent||O4,n=this.getDimensions;return{reference:cse(e.reference,await t(e.floating),e.strategy,e.floating),floating:{x:0,y:0,...await n(e.floating)}}};function dse(e){return zs(e).direction==="rtl"}const fse={convertOffsetParentRelativeRectToViewportRelativeRect:tse,getDocumentElement:Io,getClippingRect:ase,getOffsetParent:O4,getElementRects:use,getClientRects:nse,getDimensions:lse,getScale:Mc,isElement:bo,isRTL:dse};function hse(e,t){let n=null,r;const s=Io(e);function i(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),i();const{left:c,top:u,width:d,height:h}=e.getBoundingClientRect();if(a||t(),!d||!h)return;const p=np(u),g=np(s.clientWidth-(c+d)),m=np(s.clientHeight-(u+h)),_=np(c),y={rootMargin:-p+"px "+-g+"px "+-m+"px "+-_+"px",threshold:Ya(0,tu(1,l))||1};let b=!0;function w(S){const x=S[0].intersectionRatio;if(x!==l){if(!b)return o();x?o(!1,x):r=setTimeout(()=>{o(!1,1e-7)},100)}b=!1}try{n=new IntersectionObserver(w,{...y,root:s.ownerDocument})}catch{n=new IntersectionObserver(w,y)}n.observe(e)}return o(!0),i}function pse(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,c=Bw(e),u=s||i?[...c?bf(c):[],...bf(t)]:[];u.forEach(v=>{s&&v.addEventListener("scroll",n,{passive:!0}),i&&v.addEventListener("resize",n)});const d=c&&a?hse(c,n):null;let h=-1,p=null;o&&(p=new ResizeObserver(v=>{let[y]=v;y&&y.target===c&&p&&(p.unobserve(t),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var b;(b=p)==null||b.observe(t)})),n()}),c&&!l&&p.observe(c),p.observe(t));let g,m=l?gl(e):null;l&&_();function _(){const v=gl(e);m&&(v.x!==m.x||v.y!==m.y||v.width!==m.width||v.height!==m.height)&&n(),m=v,g=requestAnimationFrame(_)}return n(),()=>{var v;u.forEach(y=>{s&&y.removeEventListener("scroll",n),i&&y.removeEventListener("resize",n)}),d==null||d(),(v=p)==null||v.disconnect(),p=null,l&&cancelAnimationFrame(g)}}const gse=Qre,mse=Wre,vse=qre,sT=(e,t,n)=>{const r=new Map,s={platform:fse,...n},i={...s.platform,_c:r};return Gre(e,t,{...s,platform:i})};var V4={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(e){(function(){var t={}.hasOwnProperty;function n(){for(var i="",o=0;o<arguments.length;o++){var a=arguments[o];a&&(i=s(i,r(a)))}return i}function r(i){if(typeof i=="string"||typeof i=="number")return i;if(typeof i!="object")return"";if(Array.isArray(i))return n.apply(null,i);if(i.toString!==Object.prototype.toString&&!i.toString.toString().includes("[native code]"))return i.toString();var o="";for(var a in i)t.call(i,a)&&i[a]&&(o=s(o,a));return o}function s(i,o){return o?i?i+" "+o:i+o:i}e.exports?(n.default=n,e.exports=n):window.classNames=n})()})(V4);var yse=V4.exports;const h_=cr(yse);var iT={};const Ase="react-tooltip-core-styles",_se="react-tooltip-base-styles",oT={core:!1,base:!1};function aT({css:e,id:t=_se,type:n="base",ref:r}){var s,i;if(!e||typeof document>"u"||oT[n]||n==="core"&&typeof process<"u"&&(!((s=process==null?void 0:iT)===null||s===void 0)&&s.REACT_TOOLTIP_DISABLE_CORE_STYLES)||n!=="base"&&typeof process<"u"&&(!((i=process==null?void 0:iT)===null||i===void 0)&&i.REACT_TOOLTIP_DISABLE_BASE_STYLES))return;n==="core"&&(t=Ase),r||(r={});const{insertAt:o}=r;if(document.getElementById(t))return void console.warn(`[react-tooltip] Element with id '${t}' already exists. Call \`removeStyle()\` first`);const a=document.head||document.getElementsByTagName("head")[0],l=document.createElement("style");l.id=t,l.type="text/css",o==="top"&&a.firstChild?a.insertBefore(l,a.firstChild):a.appendChild(l),l.styleSheet?l.styleSheet.cssText=e:l.appendChild(document.createTextNode(e)),oT[n]=!0}const lT=async({elementReference:e=null,tooltipReference:t=null,tooltipArrowReference:n=null,place:r="top",offset:s=10,strategy:i="absolute",middlewares:o=[Yre(Number(s)),mse({fallbackAxisSideDirection:"start"}),gse({padding:5})],border:a})=>{if(!e)return{tooltipStyles:{},tooltipArrowStyles:{},place:r};if(t===null)return{tooltipStyles:{},tooltipArrowStyles:{},place:r};const l=o;return n?(l.push(vse({element:n,padding:5})),sT(e,t,{placement:r,strategy:i,middleware:l}).then(({x:c,y:u,placement:d,middlewareData:h})=>{var p,g;const m={left:`${c}px`,top:`${u}px`,border:a},{x:_,y:v}=(p=h.arrow)!==null&&p!==void 0?p:{x:0,y:0},y=(g={top:"bottom",right:"left",bottom:"top",left:"right"}[d.split("-")[0]])!==null&&g!==void 0?g:"bottom",b=a&&{borderBottom:a,borderRight:a};let w=0;if(a){const S=`${a}`.match(/(\d+)px/);w=S!=null&&S[1]?Number(S[1]):1}return{tooltipStyles:m,tooltipArrowStyles:{left:_!=null?`${_}px`:"",top:v!=null?`${v}px`:"",right:"",bottom:"",...b,[y]:`-${4+w}px`},place:d}})):sT(e,t,{placement:"bottom",strategy:i,middleware:l}).then(({x:c,y:u,placement:d})=>({tooltipStyles:{left:`${c}px`,top:`${u}px`},tooltipArrowStyles:{},place:d}))},cT=(e,t)=>!("CSS"in window&&"supports"in window.CSS)||window.CSS.supports(e,t),uT=(e,t,n)=>{let r=null;const s=function(...i){const o=()=>{r=null,n||e.apply(this,i)};n&&!r&&(e.apply(this,i),r=setTimeout(o,t)),n||(r&&clearTimeout(r),r=setTimeout(o,t))};return s.cancel=()=>{r&&(clearTimeout(r),r=null)},s},dT=e=>e!==null&&!Array.isArray(e)&&typeof e=="object",p_=(e,t)=>{if(e===t)return!0;if(Array.isArray(e)&&Array.isArray(t))return e.length===t.length&&e.every((s,i)=>p_(s,t[i]));if(Array.isArray(e)!==Array.isArray(t))return!1;if(!dT(e)||!dT(t))return e===t;const n=Object.keys(e),r=Object.keys(t);return n.length===r.length&&n.every(s=>p_(e[s],t[s]))},bse=e=>{if(!(e instanceof HTMLElement||e instanceof SVGElement))return!1;const t=getComputedStyle(e);return["overflow","overflow-x","overflow-y"].some(n=>{const r=t.getPropertyValue(n);return r==="auto"||r==="scroll"})},fT=e=>{if(!e)return null;let t=e.parentElement;for(;t;){if(bse(t))return t;t=t.parentElement}return document.scrollingElement||document.documentElement},Sse=typeof window<"u"?A.useLayoutEffect:A.useEffect,wse="DEFAULT_TOOLTIP_ID",xse={anchorRefs:new Set,activeAnchor:{current:null},attach:()=>{},detach:()=>{},setActiveAnchor:()=>{}},Ese=A.createContext({getTooltipData:()=>xse});function L4(e=wse){return A.useContext(Ese).getTooltipData(e)}var Dl={tooltip:"core-styles-module_tooltip__3vRRp",fixed:"core-styles-module_fixed__pcSol",arrow:"core-styles-module_arrow__cvMwQ",noArrow:"core-styles-module_noArrow__xock6",clickable:"core-styles-module_clickable__ZuTTB",show:"core-styles-module_show__Nt9eE",closing:"core-styles-module_closing__sGnxF"},EA={tooltip:"styles-module_tooltip__mnnfp",arrow:"styles-module_arrow__K0L3T",dark:"styles-module_dark__xNqje",light:"styles-module_light__Z6W-X",success:"styles-module_success__A2AKt",warning:"styles-module_warning__SCK0X",error:"styles-module_error__JvumD",info:"styles-module_info__BWdHW"};const kse=({forwardRef:e,id:t,className:n,classNameArrow:r,variant:s="dark",anchorId:i,anchorSelect:o,place:a="top",offset:l=10,events:c=["hover"],openOnClick:u=!1,positionStrategy:d="absolute",middlewares:h,wrapper:p,delayShow:g=0,delayHide:m=0,float:_=!1,hidden:v=!1,noArrow:y=!1,clickable:b=!1,closeOnEsc:w=!1,closeOnScroll:S=!1,closeOnResize:x=!1,openEvents:E,closeEvents:T,globalCloseEvents:U,imperativeModeOnly:$,style:D,position:Q,afterShow:P,afterHide:L,content:M,contentWrapperRef:I,isOpen:z,defaultIsOpen:j=!1,setIsOpen:N,activeAnchor:V,setActiveAnchor:G,border:F,opacity:ne,arrowColor:O,role:fe="tooltip"})=>{var Z;const ae=A.useRef(null),Pe=A.useRef(null),ye=A.useRef(null),ce=A.useRef(null),_e=A.useRef(null),[Fe,Ne]=A.useState({tooltipStyles:{},tooltipArrowStyles:{},place:a}),[be,Ee]=A.useState(!1),[Ge,qe]=A.useState(!1),[Ie,st]=A.useState(null),xt=A.useRef(!1),Jt=A.useRef(null),{anchorRefs:It,setActiveAnchor:fn}=L4(t),at=A.useRef(!1),[vt,zt]=A.useState([]),Ke=A.useRef(!1),Tt=u||c.includes("click"),me=Tt||(E==null?void 0:E.click)||(E==null?void 0:E.dblclick)||(E==null?void 0:E.mousedown),et=E?{...E}:{mouseover:!0,focus:!0,mouseenter:!1,click:!1,dblclick:!1,mousedown:!1};!E&&Tt&&Object.assign(et,{mouseenter:!1,focus:!1,mouseover:!1,click:!0});const hn=T?{...T}:{mouseout:!0,blur:!0,mouseleave:!1,click:!1,dblclick:!1,mouseup:!1};!T&&Tt&&Object.assign(hn,{mouseleave:!1,blur:!1,mouseout:!1});const lt=U?{...U}:{escape:w||!1,scroll:S||!1,resize:x||!1,clickOutsideAnchor:me||!1};$&&(Object.assign(et,{mouseenter:!1,focus:!1,click:!1,dblclick:!1,mousedown:!1}),Object.assign(hn,{mouseleave:!1,blur:!1,click:!1,dblclick:!1,mouseup:!1}),Object.assign(lt,{escape:!1,scroll:!1,resize:!1,clickOutsideAnchor:!1})),Sse(()=>(Ke.current=!0,()=>{Ke.current=!1}),[]);const tt=ve=>{Ke.current&&(ve&&qe(!0),setTimeout(()=>{Ke.current&&(N==null||N(ve),z===void 0&&Ee(ve))},10))};A.useEffect(()=>{if(z===void 0)return()=>null;z&&qe(!0);const ve=setTimeout(()=>{Ee(z)},10);return()=>{clearTimeout(ve)}},[z]),A.useEffect(()=>{if(be!==xt.current)if(_e.current&&clearTimeout(_e.current),xt.current=be,be)P==null||P();else{const ve=(Le=>{const De=Le.match(/^([\d.]+)(ms|s)$/);if(!De)return 0;const[,En,zn]=De;return Number(En)*(zn==="ms"?1:1e3)})(getComputedStyle(document.body).getPropertyValue("--rt-transition-show-delay"));_e.current=setTimeout(()=>{qe(!1),st(null),L==null||L()},ve+25)}},[be]);const Xt=ve=>{Ne(Le=>p_(Le,ve)?Le:ve)},sn=(ve=g)=>{ye.current&&clearTimeout(ye.current),Ge?tt(!0):ye.current=setTimeout(()=>{tt(!0)},ve)},Ht=(ve=m)=>{ce.current&&clearTimeout(ce.current),ce.current=setTimeout(()=>{at.current||tt(!1)},ve)},ft=ve=>{var Le;if(!ve)return;const De=(Le=ve.currentTarget)!==null&&Le!==void 0?Le:ve.target;if(!(De!=null&&De.isConnected))return G(null),void fn({current:null});g?sn():tt(!0),G(De),fn({current:De}),ce.current&&clearTimeout(ce.current)},Ln=()=>{b?Ht(m||100):m?Ht():tt(!1),ye.current&&clearTimeout(ye.current)},dr=({x:ve,y:Le})=>{var De;const En={getBoundingClientRect:()=>({x:ve,y:Le,width:0,height:0,top:Le,left:ve,right:ve,bottom:Le})};lT({place:(De=Ie==null?void 0:Ie.place)!==null&&De!==void 0?De:a,offset:l,elementReference:En,tooltipReference:ae.current,tooltipArrowReference:Pe.current,strategy:d,middlewares:h,border:F}).then(zn=>{Xt(zn)})},pn=ve=>{if(!ve)return;const Le=ve,De={x:Le.clientX,y:Le.clientY};dr(De),Jt.current=De},ms=ve=>{var Le;if(!be)return;const De=ve.target;De.isConnected&&(!((Le=ae.current)===null||Le===void 0)&&Le.contains(De)||[document.querySelector(`[id='${i}']`),...vt].some(En=>En==null?void 0:En.contains(De))||(tt(!1),ye.current&&clearTimeout(ye.current)))},qr=uT(ft,50,!0),yt=uT(Ln,50,!0),gn=ve=>{yt.cancel(),qr(ve)},Oe=()=>{qr.cancel(),yt()},Qe=A.useCallback(()=>{var ve,Le;const De=(ve=Ie==null?void 0:Ie.position)!==null&&ve!==void 0?ve:Q;De?dr(De):_?Jt.current&&dr(Jt.current):V!=null&&V.isConnected&&lT({place:(Le=Ie==null?void 0:Ie.place)!==null&&Le!==void 0?Le:a,offset:l,elementReference:V,tooltipReference:ae.current,tooltipArrowReference:Pe.current,strategy:d,middlewares:h,border:F}).then(En=>{Ke.current&&Xt(En)})},[be,V,M,D,a,Ie==null?void 0:Ie.place,l,d,Q,Ie==null?void 0:Ie.position,_]);A.useEffect(()=>{var ve,Le;const De=new Set(It);vt.forEach(Et=>{De.add({current:Et})});const En=document.querySelector(`[id='${i}']`);En&&De.add({current:En});const zn=()=>{tt(!1)},Kr=fT(V),vs=fT(ae.current);lt.scroll&&(window.addEventListener("scroll",zn),Kr==null||Kr.addEventListener("scroll",zn),vs==null||vs.addEventListener("scroll",zn));let Zn=null;lt.resize?window.addEventListener("resize",zn):V&&ae.current&&(Zn=pse(V,ae.current,Qe,{ancestorResize:!0,elementResize:!0,layoutShift:!0}));const Pr=Et=>{Et.key==="Escape"&&tt(!1)};lt.escape&&window.addEventListener("keydown",Pr),lt.clickOutsideAnchor&&window.addEventListener("click",ms);const Rt=[],_a=Et=>{be&&(Et==null?void 0:Et.target)===V||ft(Et)},iy=Et=>{be&&(Et==null?void 0:Et.target)===V&&Ln()},ch=["mouseover","mouseout","mouseenter","mouseleave","focus","blur"],uh=["click","dblclick","mousedown","mouseup"];Object.entries(et).forEach(([Et,qs])=>{qs&&(ch.includes(Et)?Rt.push({event:Et,listener:gn}):uh.includes(Et)&&Rt.push({event:Et,listener:_a}))}),Object.entries(hn).forEach(([Et,qs])=>{qs&&(ch.includes(Et)?Rt.push({event:Et,listener:Oe}):uh.includes(Et)&&Rt.push({event:Et,listener:iy}))}),_&&Rt.push({event:"pointermove",listener:pn});const dh=()=>{at.current=!0},fh=()=>{at.current=!1,Ln()};return b&&!me&&((ve=ae.current)===null||ve===void 0||ve.addEventListener("mouseenter",dh),(Le=ae.current)===null||Le===void 0||Le.addEventListener("mouseleave",fh)),Rt.forEach(({event:Et,listener:qs})=>{De.forEach(xu=>{var ba;(ba=xu.current)===null||ba===void 0||ba.addEventListener(Et,qs)})}),()=>{var Et,qs;lt.scroll&&(window.removeEventListener("scroll",zn),Kr==null||Kr.removeEventListener("scroll",zn),vs==null||vs.removeEventListener("scroll",zn)),lt.resize?window.removeEventListener("resize",zn):Zn==null||Zn(),lt.clickOutsideAnchor&&window.removeEventListener("click",ms),lt.escape&&window.removeEventListener("keydown",Pr),b&&!me&&((Et=ae.current)===null||Et===void 0||Et.removeEventListener("mouseenter",dh),(qs=ae.current)===null||qs===void 0||qs.removeEventListener("mouseleave",fh)),Rt.forEach(({event:xu,listener:ba})=>{De.forEach(oy=>{var Rl;(Rl=oy.current)===null||Rl===void 0||Rl.removeEventListener(xu,ba)})})}},[V,Qe,Ge,It,vt,E,T,U,Tt,g,m]),A.useEffect(()=>{var ve,Le;let De=(Le=(ve=Ie==null?void 0:Ie.anchorSelect)!==null&&ve!==void 0?ve:o)!==null&&Le!==void 0?Le:"";!De&&t&&(De=`[data-tooltip-id='${t.replace(/'/g,"\\'")}']`);const En=new MutationObserver(zn=>{const Kr=[],vs=[];zn.forEach(Zn=>{if(Zn.type==="attributes"&&Zn.attributeName==="data-tooltip-id"&&(Zn.target.getAttribute("data-tooltip-id")===t?Kr.push(Zn.target):Zn.oldValue===t&&vs.push(Zn.target)),Zn.type==="childList"){if(V){const Pr=[...Zn.removedNodes].filter(Rt=>Rt.nodeType===1);if(De)try{vs.push(...Pr.filter(Rt=>Rt.matches(De))),vs.push(...Pr.flatMap(Rt=>[...Rt.querySelectorAll(De)]))}catch{}Pr.some(Rt=>{var _a;return!!(!((_a=Rt==null?void 0:Rt.contains)===null||_a===void 0)&&_a.call(Rt,V))&&(qe(!1),tt(!1),G(null),ye.current&&clearTimeout(ye.current),ce.current&&clearTimeout(ce.current),!0)})}if(De)try{const Pr=[...Zn.addedNodes].filter(Rt=>Rt.nodeType===1);Kr.push(...Pr.filter(Rt=>Rt.matches(De))),Kr.push(...Pr.flatMap(Rt=>[...Rt.querySelectorAll(De)]))}catch{}}}),(Kr.length||vs.length)&&zt(Zn=>[...Zn.filter(Pr=>!vs.includes(Pr)),...Kr])});return En.observe(document.body,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["data-tooltip-id"],attributeOldValue:!0}),()=>{En.disconnect()}},[t,o,Ie==null?void 0:Ie.anchorSelect,V]),A.useEffect(()=>{Qe()},[Qe]),A.useEffect(()=>{if(!(I!=null&&I.current))return()=>null;const ve=new ResizeObserver(()=>{setTimeout(()=>Qe())});return ve.observe(I.current),()=>{ve.disconnect()}},[M,I==null?void 0:I.current]),A.useEffect(()=>{var ve;const Le=document.querySelector(`[id='${i}']`),De=[...vt,Le];V&&De.includes(V)||G((ve=vt[0])!==null&&ve!==void 0?ve:Le)},[i,vt,V]),A.useEffect(()=>(j&&tt(!0),()=>{ye.current&&clearTimeout(ye.current),ce.current&&clearTimeout(ce.current)}),[]),A.useEffect(()=>{var ve;let Le=(ve=Ie==null?void 0:Ie.anchorSelect)!==null&&ve!==void 0?ve:o;if(!Le&&t&&(Le=`[data-tooltip-id='${t.replace(/'/g,"\\'")}']`),Le)try{const De=Array.from(document.querySelectorAll(Le));zt(De)}catch{zt([])}},[t,o,Ie==null?void 0:Ie.anchorSelect]),A.useEffect(()=>{ye.current&&(clearTimeout(ye.current),sn(g))},[g]);const Un=(Z=Ie==null?void 0:Ie.content)!==null&&Z!==void 0?Z:M,Wr=be&&Object.keys(Fe.tooltipStyles).length>0;return A.useImperativeHandle(e,()=>({open:ve=>{if(ve!=null&&ve.anchorSelect)try{document.querySelector(ve.anchorSelect)}catch{return void console.warn(`[react-tooltip] "${ve.anchorSelect}" is not a valid CSS selector`)}st(ve??null),ve!=null&&ve.delay?sn(ve.delay):tt(!0)},close:ve=>{ve!=null&&ve.delay?Ht(ve.delay):tt(!1)},activeAnchor:V,place:Fe.place,isOpen:!!(Ge&&!v&&Un&&Wr)})),Ge&&!v&&Un?xe.createElement(p,{id:t,role:fe,className:h_("react-tooltip",Dl.tooltip,EA.tooltip,EA[s],n,`react-tooltip__place-${Fe.place}`,Dl[Wr?"show":"closing"],Wr?"react-tooltip__show":"react-tooltip__closing",d==="fixed"&&Dl.fixed,b&&Dl.clickable),onTransitionEnd:ve=>{_e.current&&clearTimeout(_e.current),be||ve.propertyName!=="opacity"||(qe(!1),st(null),L==null||L())},style:{...D,...Fe.tooltipStyles,opacity:ne!==void 0&&Wr?ne:void 0},ref:ae},Un,xe.createElement(p,{className:h_("react-tooltip-arrow",Dl.arrow,EA.arrow,r,y&&Dl.noArrow),style:{...Fe.tooltipArrowStyles,background:O?`linear-gradient(to right bottom, transparent 50%, ${O} 50%)`:void 0},ref:Pe})):null},Cse=({content:e})=>xe.createElement("span",{dangerouslySetInnerHTML:{__html:e}}),Ise=xe.forwardRef(({id:e,anchorId:t,anchorSelect:n,content:r,html:s,render:i,className:o,classNameArrow:a,variant:l="dark",place:c="top",offset:u=10,wrapper:d="div",children:h=null,events:p=["hover"],openOnClick:g=!1,positionStrategy:m="absolute",middlewares:_,delayShow:v=0,delayHide:y=0,float:b=!1,hidden:w=!1,noArrow:S=!1,clickable:x=!1,closeOnEsc:E=!1,closeOnScroll:T=!1,closeOnResize:U=!1,openEvents:$,closeEvents:D,globalCloseEvents:Q,imperativeModeOnly:P=!1,style:L,position:M,isOpen:I,defaultIsOpen:z=!1,disableStyleInjection:j=!1,border:N,opacity:V,arrowColor:G,setIsOpen:F,afterShow:ne,afterHide:O,role:fe="tooltip"},Z)=>{const[ae,Pe]=A.useState(r),[ye,ce]=A.useState(s),[_e,Fe]=A.useState(c),[Ne,be]=A.useState(l),[Ee,Ge]=A.useState(u),[qe,Ie]=A.useState(v),[st,xt]=A.useState(y),[Jt,It]=A.useState(b),[fn,at]=A.useState(w),[vt,zt]=A.useState(d),[Ke,Tt]=A.useState(p),[me,et]=A.useState(m),[hn,lt]=A.useState(null),[tt,Xt]=A.useState(null),sn=A.useRef(j),{anchorRefs:Ht,activeAnchor:ft}=L4(e),Ln=yt=>yt==null?void 0:yt.getAttributeNames().reduce((gn,Oe)=>{var Qe;return Oe.startsWith("data-tooltip-")&&(gn[Oe.replace(/^data-tooltip-/,"")]=(Qe=yt==null?void 0:yt.getAttribute(Oe))!==null&&Qe!==void 0?Qe:null),gn},{}),dr=yt=>{const gn={place:Oe=>{var Qe;Fe((Qe=Oe)!==null&&Qe!==void 0?Qe:c)},content:Oe=>{Pe(Oe??r)},html:Oe=>{ce(Oe??s)},variant:Oe=>{var Qe;be((Qe=Oe)!==null&&Qe!==void 0?Qe:l)},offset:Oe=>{Ge(Oe===null?u:Number(Oe))},wrapper:Oe=>{var Qe;zt((Qe=Oe)!==null&&Qe!==void 0?Qe:d)},events:Oe=>{const Qe=Oe==null?void 0:Oe.split(" ");Tt(Qe??p)},"position-strategy":Oe=>{var Qe;et((Qe=Oe)!==null&&Qe!==void 0?Qe:m)},"delay-show":Oe=>{Ie(Oe===null?v:Number(Oe))},"delay-hide":Oe=>{xt(Oe===null?y:Number(Oe))},float:Oe=>{It(Oe===null?b:Oe==="true")},hidden:Oe=>{at(Oe===null?w:Oe==="true")},"class-name":Oe=>{lt(Oe)}};Object.values(gn).forEach(Oe=>Oe(null)),Object.entries(yt).forEach(([Oe,Qe])=>{var Un;(Un=gn[Oe])===null||Un===void 0||Un.call(gn,Qe)})};A.useEffect(()=>{Pe(r)},[r]),A.useEffect(()=>{ce(s)},[s]),A.useEffect(()=>{Fe(c)},[c]),A.useEffect(()=>{be(l)},[l]),A.useEffect(()=>{Ge(u)},[u]),A.useEffect(()=>{Ie(v)},[v]),A.useEffect(()=>{xt(y)},[y]),A.useEffect(()=>{It(b)},[b]),A.useEffect(()=>{at(w)},[w]),A.useEffect(()=>{et(m)},[m]),A.useEffect(()=>{sn.current!==j&&console.warn("[react-tooltip] Do not change `disableStyleInjection` dynamically.")},[j]),A.useEffect(()=>{typeof window<"u"&&window.dispatchEvent(new CustomEvent("react-tooltip-inject-styles",{detail:{disableCore:j==="core",disableBase:j}}))},[]),A.useEffect(()=>{var yt;const gn=new Set(Ht);let Oe=n;if(!Oe&&e&&(Oe=`[data-tooltip-id='${e.replace(/'/g,"\\'")}']`),Oe)try{document.querySelectorAll(Oe).forEach(Le=>{gn.add({current:Le})})}catch{console.warn(`[react-tooltip] "${Oe}" is not a valid CSS selector`)}const Qe=document.querySelector(`[id='${t}']`);if(Qe&&gn.add({current:Qe}),!gn.size)return()=>null;const Un=(yt=tt??Qe)!==null&&yt!==void 0?yt:ft.current,Wr=new MutationObserver(Le=>{Le.forEach(De=>{var En;if(!Un||De.type!=="attributes"||!(!((En=De.attributeName)===null||En===void 0)&&En.startsWith("data-tooltip-")))return;const zn=Ln(Un);dr(zn)})}),ve={attributes:!0,childList:!1,subtree:!1};if(Un){const Le=Ln(Un);dr(Le),Wr.observe(Un,ve)}return()=>{Wr.disconnect()}},[Ht,ft,tt,t,n]),A.useEffect(()=>{L!=null&&L.border&&console.warn("[react-tooltip] Do not set `style.border`. Use `border` prop instead."),N&&!cT("border",`${N}`)&&console.warn(`[react-tooltip] "${N}" is not a valid \`border\`.`),L!=null&&L.opacity&&console.warn("[react-tooltip] Do not set `style.opacity`. Use `opacity` prop instead."),V&&!cT("opacity",`${V}`)&&console.warn(`[react-tooltip] "${V}" is not a valid \`opacity\`.`)},[]);let pn=h;const ms=A.useRef(null);if(i){const yt=i({content:(tt==null?void 0:tt.getAttribute("data-tooltip-content"))||ae||null,activeAnchor:tt});pn=yt?xe.createElement("div",{ref:ms,className:"react-tooltip-content-wrapper"},yt):null}else ae&&(pn=ae);ye&&(pn=xe.createElement(Cse,{content:ye}));const qr={forwardRef:Z,id:e,anchorId:t,anchorSelect:n,className:h_(o,hn),classNameArrow:a,content:pn,contentWrapperRef:ms,place:_e,variant:Ne,offset:Ee,wrapper:vt,events:Ke,openOnClick:g,positionStrategy:me,middlewares:_,delayShow:qe,delayHide:st,float:Jt,hidden:fn,noArrow:S,clickable:x,closeOnEsc:E,closeOnScroll:T,closeOnResize:U,openEvents:$,closeEvents:D,globalCloseEvents:Q,imperativeModeOnly:P,style:L,position:M,isOpen:I,defaultIsOpen:z,border:N,opacity:V,arrowColor:G,setIsOpen:F,afterShow:ne,afterHide:O,activeAnchor:tt,setActiveAnchor:yt=>Xt(yt),role:fe};return xe.createElement(kse,{...qr})});typeof window<"u"&&window.addEventListener("react-tooltip-inject-styles",e=>{e.detail.disableCore||aT({css:":root{--rt-color-white:#fff;--rt-color-dark:#222;--rt-color-success:#8dc572;--rt-color-error:#be6464;--rt-color-warning:#f0ad4e;--rt-color-info:#337ab7;--rt-opacity:0.9;--rt-transition-show-delay:0.15s;--rt-transition-closing-delay:0.15s}.core-styles-module_tooltip__3vRRp{position:absolute;top:0;left:0;pointer-events:none;opacity:0;will-change:opacity}.core-styles-module_fixed__pcSol{position:fixed}.core-styles-module_arrow__cvMwQ{position:absolute;background:inherit}.core-styles-module_noArrow__xock6{display:none}.core-styles-module_clickable__ZuTTB{pointer-events:auto}.core-styles-module_show__Nt9eE{opacity:var(--rt-opacity);transition:opacity var(--rt-transition-show-delay)ease-out}.core-styles-module_closing__sGnxF{opacity:0;transition:opacity var(--rt-transition-closing-delay)ease-in}",type:"core"}),e.detail.disableBase||aT({css:`
.styles-module_tooltip__mnnfp{padding:8px 16px;border-radius:3px;font-size:90%;width:max-content}.styles-module_arrow__K0L3T{width:8px;height:8px}[class*='react-tooltip__place-top']>.styles-module_arrow__K0L3T{transform:rotate(45deg)}[class*='react-tooltip__place-right']>.styles-module_arrow__K0L3T{transform:rotate(135deg)}[class*='react-tooltip__place-bottom']>.styles-module_arrow__K0L3T{transform:rotate(225deg)}[class*='react-tooltip__place-left']>.styles-module_arrow__K0L3T{transform:rotate(315deg)}.styles-module_dark__xNqje{background:var(--rt-color-dark);color:var(--rt-color-white)}.styles-module_light__Z6W-X{background-color:var(--rt-color-white);color:var(--rt-color-dark)}.styles-module_success__A2AKt{background-color:var(--rt-color-success);color:var(--rt-color-white)}.styles-module_warning__SCK0X{background-color:var(--rt-color-warning);color:var(--rt-color-white)}.styles-module_error__JvumD{background-color:var(--rt-color-error);color:var(--rt-color-white)}.styles-module_info__BWdHW{background-color:var(--rt-color-info);color:var(--rt-color-white)}`,type:"base"})});const Tse=()=>Ise,Rse=C(Tse())({name:"StyledTooltip",class:"s2at5z6",propsAsIs:!0}),ru=({children:e,title:t,open:n,...r})=>{const s=A.useRef(null),i=A.useMemo(()=>`${Math.random()}`,[]);return f.jsxs(f.Fragment,{children:[_u.createPortal(f.jsx(Rse,{...r,id:i,ref:s,isOpen:n,children:t}),document.body),A.cloneElement(e,{"data-tooltip-id":i})]})},hT=e=>`tooltip_dismissed_${e}`,Mse=({dismissKey:e,timeoutMs:t,oneTime:n=!0,children:r,title:s,...i})=>{const[o,a]=A.useState(!$e.local.getItem(hT(e))),l=A.useCallback(()=>{$e.local.setItem(hT(e),!0),a(void 0)},[e]);A.useEffect(()=>{if(t){const u=setTimeout(l,t);return()=>clearTimeout(u)}},[t,l]);const c=(o===void 0||!o&&!n)&&i.open===void 0;return f.jsx(ru,{clickable:!0,open:c?i.open:o,hidden:i.open===!1,...i,title:f.jsxs(f.Fragment,{children:[s,o&&f.jsx(Pse,{children:f.jsx(jse,{"data-test":"close-tooltip-button",onClick:l,children:"Close"})})]}),children:r},c?"uncontrolled":"controlled")},Pse=C("div")({name:"OkButtonWrapper",class:"oxbdscj",propsAsIs:!1}),jse=C("button")({name:"OkButton",class:"o5ixgbw",propsAsIs:!1});var Nw={},Ose=Ze;Object.defineProperty(Nw,"__esModule",{value:!0});var $4=Nw.default=void 0,Vse=Ose(ot()),Lse=f;$4=Nw.default=(0,Vse.default)((0,Lse.jsx)("path",{d:"M7 14H5v5h5v-2H7zm-2-4h2V7h3V5H5zm12 7h-3v2h5v-5h-2zM14 5v2h3v3h2V5z"}),"Fullscreen");var Dw={},$se=Ze;Object.defineProperty(Dw,"__esModule",{value:!0});var B4=Dw.default=void 0,Bse=$se(ot()),Nse=f;B4=Dw.default=(0,Bse.default)((0,Nse.jsx)("path",{d:"M5 16h3v3h2v-5H5zm3-8H5v2h5V5H8zm6 11h2v-3h3v-2h-5zm2-11V5h-2v5h5V8z"}),"FullscreenExit");function Dse(){const[,e]=Be(wb),[t]=Be(ur),[n,r]=A.useState(document.fullscreenElement!==null);return A.useEffect(()=>{const s=()=>{r(document.fullscreenElement!==null)};return document.addEventListener("fullscreenchange",s),()=>{document.removeEventListener("fullscreenchange",s)}},[]),f.jsx(ru,{title:"Toggle fullscreen",place:"bottom-end",children:f.jsx(jw,{"data-test":"toggle-fullscreen",size:"small",onClick:async()=>{var s,i;try{document.fullscreenElement===null?(e(!0),await document.body.requestFullscreen(),t&&(global.screen.orientation.unlock(),await((i=(s=global.screen.orientation).lock)==null?void 0:i.call(s,"landscape")))):(e(!1),await document.exitFullscreen(),t&&global.screen.orientation.unlock())}catch(o){console.info(o)}},children:n?f.jsx(B4,{}):f.jsx($4,{})})})}const N4="b144smi9",Fse="b8t2nz8",Use="bhiil0z",D4=Ui()?Use:Fse,F4="b1rb41vd",zse="l10ss210",Hse="bjmscme",U4=({focused:e,disabled:t,className:n,...r})=>f.jsx("a",{...r,className:`${N4} ${zse} ${e?D4:""} ${t?"":F4} ${n}`}),vi=({focused:e,className:t,disabled:n,...r})=>f.jsx("button",{...r,className:`${N4} ${Hse} ${n?"":F4} ${e?D4:""}  ${t}`}),Gse="m1szocys",qse="mue00c4",Wse="mei3zkb",Te=({className:e,size:t,disabled:n,...r})=>{const s="href"in r?U4:vi;return f.jsx(s,{...r,className:Zd(Gse,t==="small"&&qse,n&&Wse,e)})},yi=C("div")({name:"MenuContainer",class:"mqku3zx",propsAsIs:!1});function bu({children:e,onClose:t}){return f.jsxs(f.Fragment,{children:[f.jsx(Yse,{onClick:t}),f.jsx(Kse,{onClick:t,children:f.jsx("div",{onClick:n=>n.stopPropagation(),children:e})})]})}const Kse=C("div")({name:"Container",class:"c8ro6rt",propsAsIs:!1}),Yse=C("div")({name:"Backdrop",class:"bfuk748",propsAsIs:!1});let Qse=0;function Su(e,t){const n=A.useRef(`${String(Math.random())}-${Qse++}`),{setKeyboard:r,unsetKeyboard:s}=A.useContext(SS),i=a=>{r(n.current,a)},o=()=>s(n.current);return A.useEffect(()=>(t&&i(e),o),[e,t]),{setHelp:i,clearHelp:o}}function Fn(e={},t=!1){var w;const{enabled:n=!0,onBackspace:r,backspaceHelp:s=null,direction:i="vertical",additionalHelp:o={}}=e,[a,l]=A.useState(null),c=A.useRef([]),u=A.useRef([]),d=A.useRef({}),h=(w=d.current[a])==null?void 0:w.label,p=A.useMemo(()=>({[i]:null,accept:h??null,back:r?s:void 0,...o}),[h,d,s,i]);Su(p,n);const g=()=>{var S;(S=d.current[a])==null||S.callback(),sS.play()},m=()=>{r&&(iS.play(),r())},_=S=>{const x=a?c.current.indexOf(a):0;iv.play(),l(c.current.at((x+S)%c.current.length)??null)};kl({[i==="vertical"?"up":"left"]:()=>_(-1),[i==="vertical"?"down":"right"]:()=>_(1),accept:g,back:m},n,[a,c.current]);let v="";const y=(S,x,E,T=!1,{propName:U="onClick",disabled:$=!1}={})=>{if($)return{disabled:$,focused:!1};u.current.push(S),x&&(d.current[S]={callback:x,label:E,propName:U}),T&&(v=S);const D=n&&a===S;return{focused:D,[U]:x,keyboardNavigationChangeFocus:_,"data-test":S,...n?{"data-focused":D,"data-e2e-focused":D}:{}}};return A.useEffect(()=>{var S;(S=document.querySelector(`[data-test="${a}"]`))==null||S.scrollIntoView({behavior:"smooth",block:"center"})},[a]),A.useEffect(()=>{let S=u.current.filter(x=>!c.current.includes(x));t&&S.length&&console.log("new elements",S),c.current=[...u.current],u.current.length=0,c.current.length&&(a===null||c.current.indexOf(a)===-1||S.includes(v))&&l(v||c.current[0])}),{focusElement:S=>{c.current.includes(S)&&l(S)},focused:a,register:y}}var Jse=Object.defineProperty,im=Object.getOwnPropertySymbols,z4=Object.prototype.hasOwnProperty,H4=Object.prototype.propertyIsEnumerable,pT=(e,t,n)=>t in e?Jse(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Sf=(e,t)=>{for(var n in t||(t={}))z4.call(t,n)&&pT(e,n,t[n]);if(im)for(var n of im(t))H4.call(t,n)&&pT(e,n,t[n]);return e},Fw=(e,t)=>{var n={};for(var r in e)z4.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&im)for(var r of im(e))t.indexOf(r)<0&&H4.call(e,r)&&(n[r]=e[r]);return n};/**
 * @license QR Code generator library (TypeScript)
 * Copyright (c) Project Nayuki.
 * SPDX-License-Identifier: MIT
 */var ml;(e=>{const t=class{constructor(l,c,u,d){if(this.version=l,this.errorCorrectionLevel=c,this.modules=[],this.isFunction=[],l<t.MIN_VERSION||l>t.MAX_VERSION)throw new RangeError("Version value out of range");if(d<-1||d>7)throw new RangeError("Mask value out of range");this.size=l*4+17;let h=[];for(let g=0;g<this.size;g++)h.push(!1);for(let g=0;g<this.size;g++)this.modules.push(h.slice()),this.isFunction.push(h.slice());this.drawFunctionPatterns();const p=this.addEccAndInterleave(u);if(this.drawCodewords(p),d==-1){let g=1e9;for(let m=0;m<8;m++){this.applyMask(m),this.drawFormatBits(m);const _=this.getPenaltyScore();_<g&&(d=m,g=_),this.applyMask(m)}}i(0<=d&&d<=7),this.mask=d,this.applyMask(d),this.drawFormatBits(d),this.isFunction=[]}static encodeText(l,c){const u=e.QrSegment.makeSegments(l);return t.encodeSegments(u,c)}static encodeBinary(l,c){const u=e.QrSegment.makeBytes(l);return t.encodeSegments([u],c)}static encodeSegments(l,c,u=1,d=40,h=-1,p=!0){if(!(t.MIN_VERSION<=u&&u<=d&&d<=t.MAX_VERSION)||h<-1||h>7)throw new RangeError("Invalid value");let g,m;for(g=u;;g++){const b=t.getNumDataCodewords(g,c)*8,w=a.getTotalBits(l,g);if(w<=b){m=w;break}if(g>=d)throw new RangeError("Data too long")}for(const b of[t.Ecc.MEDIUM,t.Ecc.QUARTILE,t.Ecc.HIGH])p&&m<=t.getNumDataCodewords(g,b)*8&&(c=b);let _=[];for(const b of l){r(b.mode.modeBits,4,_),r(b.numChars,b.mode.numCharCountBits(g),_);for(const w of b.getData())_.push(w)}i(_.length==m);const v=t.getNumDataCodewords(g,c)*8;i(_.length<=v),r(0,Math.min(4,v-_.length),_),r(0,(8-_.length%8)%8,_),i(_.length%8==0);for(let b=236;_.length<v;b^=253)r(b,8,_);let y=[];for(;y.length*8<_.length;)y.push(0);return _.forEach((b,w)=>y[w>>>3]|=b<<7-(w&7)),new t(g,c,y,h)}getModule(l,c){return 0<=l&&l<this.size&&0<=c&&c<this.size&&this.modules[c][l]}getModules(){return this.modules}drawFunctionPatterns(){for(let u=0;u<this.size;u++)this.setFunctionModule(6,u,u%2==0),this.setFunctionModule(u,6,u%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);const l=this.getAlignmentPatternPositions(),c=l.length;for(let u=0;u<c;u++)for(let d=0;d<c;d++)u==0&&d==0||u==0&&d==c-1||u==c-1&&d==0||this.drawAlignmentPattern(l[u],l[d]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(l){const c=this.errorCorrectionLevel.formatBits<<3|l;let u=c;for(let h=0;h<10;h++)u=u<<1^(u>>>9)*1335;const d=(c<<10|u)^21522;i(d>>>15==0);for(let h=0;h<=5;h++)this.setFunctionModule(8,h,s(d,h));this.setFunctionModule(8,7,s(d,6)),this.setFunctionModule(8,8,s(d,7)),this.setFunctionModule(7,8,s(d,8));for(let h=9;h<15;h++)this.setFunctionModule(14-h,8,s(d,h));for(let h=0;h<8;h++)this.setFunctionModule(this.size-1-h,8,s(d,h));for(let h=8;h<15;h++)this.setFunctionModule(8,this.size-15+h,s(d,h));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let l=this.version;for(let u=0;u<12;u++)l=l<<1^(l>>>11)*7973;const c=this.version<<12|l;i(c>>>18==0);for(let u=0;u<18;u++){const d=s(c,u),h=this.size-11+u%3,p=Math.floor(u/3);this.setFunctionModule(h,p,d),this.setFunctionModule(p,h,d)}}drawFinderPattern(l,c){for(let u=-4;u<=4;u++)for(let d=-4;d<=4;d++){const h=Math.max(Math.abs(d),Math.abs(u)),p=l+d,g=c+u;0<=p&&p<this.size&&0<=g&&g<this.size&&this.setFunctionModule(p,g,h!=2&&h!=4)}}drawAlignmentPattern(l,c){for(let u=-2;u<=2;u++)for(let d=-2;d<=2;d++)this.setFunctionModule(l+d,c+u,Math.max(Math.abs(d),Math.abs(u))!=1)}setFunctionModule(l,c,u){this.modules[c][l]=u,this.isFunction[c][l]=!0}addEccAndInterleave(l){const c=this.version,u=this.errorCorrectionLevel;if(l.length!=t.getNumDataCodewords(c,u))throw new RangeError("Invalid argument");const d=t.NUM_ERROR_CORRECTION_BLOCKS[u.ordinal][c],h=t.ECC_CODEWORDS_PER_BLOCK[u.ordinal][c],p=Math.floor(t.getNumRawDataModules(c)/8),g=d-p%d,m=Math.floor(p/d);let _=[];const v=t.reedSolomonComputeDivisor(h);for(let b=0,w=0;b<d;b++){let S=l.slice(w,w+m-h+(b<g?0:1));w+=S.length;const x=t.reedSolomonComputeRemainder(S,v);b<g&&S.push(0),_.push(S.concat(x))}let y=[];for(let b=0;b<_[0].length;b++)_.forEach((w,S)=>{(b!=m-h||S>=g)&&y.push(w[b])});return i(y.length==p),y}drawCodewords(l){if(l.length!=Math.floor(t.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");let c=0;for(let u=this.size-1;u>=1;u-=2){u==6&&(u=5);for(let d=0;d<this.size;d++)for(let h=0;h<2;h++){const p=u-h,m=(u+1&2)==0?this.size-1-d:d;!this.isFunction[m][p]&&c<l.length*8&&(this.modules[m][p]=s(l[c>>>3],7-(c&7)),c++)}}i(c==l.length*8)}applyMask(l){if(l<0||l>7)throw new RangeError("Mask value out of range");for(let c=0;c<this.size;c++)for(let u=0;u<this.size;u++){let d;switch(l){case 0:d=(u+c)%2==0;break;case 1:d=c%2==0;break;case 2:d=u%3==0;break;case 3:d=(u+c)%3==0;break;case 4:d=(Math.floor(u/3)+Math.floor(c/2))%2==0;break;case 5:d=u*c%2+u*c%3==0;break;case 6:d=(u*c%2+u*c%3)%2==0;break;case 7:d=((u+c)%2+u*c%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[c][u]&&d&&(this.modules[c][u]=!this.modules[c][u])}}getPenaltyScore(){let l=0;for(let h=0;h<this.size;h++){let p=!1,g=0,m=[0,0,0,0,0,0,0];for(let _=0;_<this.size;_++)this.modules[h][_]==p?(g++,g==5?l+=t.PENALTY_N1:g>5&&l++):(this.finderPenaltyAddHistory(g,m),p||(l+=this.finderPenaltyCountPatterns(m)*t.PENALTY_N3),p=this.modules[h][_],g=1);l+=this.finderPenaltyTerminateAndCount(p,g,m)*t.PENALTY_N3}for(let h=0;h<this.size;h++){let p=!1,g=0,m=[0,0,0,0,0,0,0];for(let _=0;_<this.size;_++)this.modules[_][h]==p?(g++,g==5?l+=t.PENALTY_N1:g>5&&l++):(this.finderPenaltyAddHistory(g,m),p||(l+=this.finderPenaltyCountPatterns(m)*t.PENALTY_N3),p=this.modules[_][h],g=1);l+=this.finderPenaltyTerminateAndCount(p,g,m)*t.PENALTY_N3}for(let h=0;h<this.size-1;h++)for(let p=0;p<this.size-1;p++){const g=this.modules[h][p];g==this.modules[h][p+1]&&g==this.modules[h+1][p]&&g==this.modules[h+1][p+1]&&(l+=t.PENALTY_N2)}let c=0;for(const h of this.modules)c=h.reduce((p,g)=>p+(g?1:0),c);const u=this.size*this.size,d=Math.ceil(Math.abs(c*20-u*10)/u)-1;return i(0<=d&&d<=9),l+=d*t.PENALTY_N4,i(0<=l&&l<=2568888),l}getAlignmentPatternPositions(){if(this.version==1)return[];{const l=Math.floor(this.version/7)+2,c=this.version==32?26:Math.ceil((this.version*4+4)/(l*2-2))*2;let u=[6];for(let d=this.size-7;u.length<l;d-=c)u.splice(1,0,d);return u}}static getNumRawDataModules(l){if(l<t.MIN_VERSION||l>t.MAX_VERSION)throw new RangeError("Version number out of range");let c=(16*l+128)*l+64;if(l>=2){const u=Math.floor(l/7)+2;c-=(25*u-10)*u-55,l>=7&&(c-=36)}return i(208<=c&&c<=29648),c}static getNumDataCodewords(l,c){return Math.floor(t.getNumRawDataModules(l)/8)-t.ECC_CODEWORDS_PER_BLOCK[c.ordinal][l]*t.NUM_ERROR_CORRECTION_BLOCKS[c.ordinal][l]}static reedSolomonComputeDivisor(l){if(l<1||l>255)throw new RangeError("Degree out of range");let c=[];for(let d=0;d<l-1;d++)c.push(0);c.push(1);let u=1;for(let d=0;d<l;d++){for(let h=0;h<c.length;h++)c[h]=t.reedSolomonMultiply(c[h],u),h+1<c.length&&(c[h]^=c[h+1]);u=t.reedSolomonMultiply(u,2)}return c}static reedSolomonComputeRemainder(l,c){let u=c.map(d=>0);for(const d of l){const h=d^u.shift();u.push(0),c.forEach((p,g)=>u[g]^=t.reedSolomonMultiply(p,h))}return u}static reedSolomonMultiply(l,c){if(l>>>8||c>>>8)throw new RangeError("Byte out of range");let u=0;for(let d=7;d>=0;d--)u=u<<1^(u>>>7)*285,u^=(c>>>d&1)*l;return i(u>>>8==0),u}finderPenaltyCountPatterns(l){const c=l[1];i(c<=this.size*3);const u=c>0&&l[2]==c&&l[3]==c*3&&l[4]==c&&l[5]==c;return(u&&l[0]>=c*4&&l[6]>=c?1:0)+(u&&l[6]>=c*4&&l[0]>=c?1:0)}finderPenaltyTerminateAndCount(l,c,u){return l&&(this.finderPenaltyAddHistory(c,u),c=0),c+=this.size,this.finderPenaltyAddHistory(c,u),this.finderPenaltyCountPatterns(u)}finderPenaltyAddHistory(l,c){c[0]==0&&(l+=this.size),c.pop(),c.unshift(l)}};let n=t;n.MIN_VERSION=1,n.MAX_VERSION=40,n.PENALTY_N1=3,n.PENALTY_N2=3,n.PENALTY_N3=40,n.PENALTY_N4=10,n.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],n.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],e.QrCode=n;function r(l,c,u){if(c<0||c>31||l>>>c)throw new RangeError("Value out of range");for(let d=c-1;d>=0;d--)u.push(l>>>d&1)}function s(l,c){return(l>>>c&1)!=0}function i(l){if(!l)throw new Error("Assertion error")}const o=class{constructor(l,c,u){if(this.mode=l,this.numChars=c,this.bitData=u,c<0)throw new RangeError("Invalid argument");this.bitData=u.slice()}static makeBytes(l){let c=[];for(const u of l)r(u,8,c);return new o(o.Mode.BYTE,l.length,c)}static makeNumeric(l){if(!o.isNumeric(l))throw new RangeError("String contains non-numeric characters");let c=[];for(let u=0;u<l.length;){const d=Math.min(l.length-u,3);r(parseInt(l.substr(u,d),10),d*3+1,c),u+=d}return new o(o.Mode.NUMERIC,l.length,c)}static makeAlphanumeric(l){if(!o.isAlphanumeric(l))throw new RangeError("String contains unencodable characters in alphanumeric mode");let c=[],u;for(u=0;u+2<=l.length;u+=2){let d=o.ALPHANUMERIC_CHARSET.indexOf(l.charAt(u))*45;d+=o.ALPHANUMERIC_CHARSET.indexOf(l.charAt(u+1)),r(d,11,c)}return u<l.length&&r(o.ALPHANUMERIC_CHARSET.indexOf(l.charAt(u)),6,c),new o(o.Mode.ALPHANUMERIC,l.length,c)}static makeSegments(l){return l==""?[]:o.isNumeric(l)?[o.makeNumeric(l)]:o.isAlphanumeric(l)?[o.makeAlphanumeric(l)]:[o.makeBytes(o.toUtf8ByteArray(l))]}static makeEci(l){let c=[];if(l<0)throw new RangeError("ECI assignment value out of range");if(l<128)r(l,8,c);else if(l<16384)r(2,2,c),r(l,14,c);else if(l<1e6)r(6,3,c),r(l,21,c);else throw new RangeError("ECI assignment value out of range");return new o(o.Mode.ECI,0,c)}static isNumeric(l){return o.NUMERIC_REGEX.test(l)}static isAlphanumeric(l){return o.ALPHANUMERIC_REGEX.test(l)}getData(){return this.bitData.slice()}static getTotalBits(l,c){let u=0;for(const d of l){const h=d.mode.numCharCountBits(c);if(d.numChars>=1<<h)return 1/0;u+=4+h+d.bitData.length}return u}static toUtf8ByteArray(l){l=encodeURI(l);let c=[];for(let u=0;u<l.length;u++)l.charAt(u)!="%"?c.push(l.charCodeAt(u)):(c.push(parseInt(l.substr(u+1,2),16)),u+=2);return c}};let a=o;a.NUMERIC_REGEX=/^[0-9]*$/,a.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,a.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",e.QrSegment=a})(ml||(ml={}));(e=>{(t=>{const n=class{constructor(s,i){this.ordinal=s,this.formatBits=i}};let r=n;r.LOW=new n(0,1),r.MEDIUM=new n(1,0),r.QUARTILE=new n(2,3),r.HIGH=new n(3,2),t.Ecc=r})(e.QrCode||(e.QrCode={}))})(ml||(ml={}));(e=>{(t=>{const n=class{constructor(s,i){this.modeBits=s,this.numBitsCharCount=i}numCharCountBits(s){return this.numBitsCharCount[Math.floor((s+7)/17)]}};let r=n;r.NUMERIC=new n(1,[10,12,14]),r.ALPHANUMERIC=new n(2,[9,11,13]),r.BYTE=new n(4,[8,16,16]),r.KANJI=new n(8,[8,10,12]),r.ECI=new n(7,[0,0,0]),t.Mode=r})(e.QrSegment||(e.QrSegment={}))})(ml||(ml={}));var dc=ml;/**
 * @license qrcode.react
 * Copyright (c) Paul O'Shannessy
 * SPDX-License-Identifier: ISC
 */var G4={L:dc.QrCode.Ecc.LOW,M:dc.QrCode.Ecc.MEDIUM,Q:dc.QrCode.Ecc.QUARTILE,H:dc.QrCode.Ecc.HIGH},q4=128,W4="L",K4="#FFFFFF",Y4="#000000",Q4=!1,Uw=4,Xse=.1;function J4(e,t=0){const n=[];return e.forEach(function(r,s){let i=null;r.forEach(function(o,a){if(!o&&i!==null){n.push(`M${i+t} ${s+t}h${a-i}v1H${i+t}z`),i=null;return}if(a===r.length-1){if(!o)return;i===null?n.push(`M${a+t},${s+t} h1v1H${a+t}z`):n.push(`M${i+t},${s+t} h${a+1-i}v1H${i+t}z`);return}o&&i===null&&(i=a)})}),n.join("")}function X4(e,t){return e.slice().map((n,r)=>r<t.y||r>=t.y+t.h?n:n.map((s,i)=>i<t.x||i>=t.x+t.w?s:!1))}function Z4(e,t,n,r){if(r==null)return null;const s=n?Uw:0,i=e.length+s*2,o=Math.floor(t*Xse),a=i/t,l=(r.width||o)*a,c=(r.height||o)*a,u=r.x==null?e.length/2-l/2:r.x*a,d=r.y==null?e.length/2-c/2:r.y*a;let h=null;if(r.excavate){let p=Math.floor(u),g=Math.floor(d),m=Math.ceil(l+u-p),_=Math.ceil(c+d-g);h={x:p,y:g,w:m,h:_}}return{x:u,y:d,h:c,w:l,excavation:h}}var Zse=function(){try{new Path2D().addPath(new Path2D)}catch{return!1}return!0}();function eL(e){const t=e,{value:n,size:r=q4,level:s=W4,bgColor:i=K4,fgColor:o=Y4,includeMargin:a=Q4,style:l,imageSettings:c}=t,u=Fw(t,["value","size","level","bgColor","fgColor","includeMargin","style","imageSettings"]),d=c==null?void 0:c.src,h=A.useRef(null),p=A.useRef(null),[g,m]=A.useState(!1);A.useEffect(()=>{if(h.current!=null){const y=h.current,b=y.getContext("2d");if(!b)return;let w=dc.QrCode.encodeText(n,G4[s]).getModules();const S=a?Uw:0,x=w.length+S*2,E=Z4(w,r,a,c),T=p.current,U=E!=null&&T!==null&&T.complete&&T.naturalHeight!==0&&T.naturalWidth!==0;U&&E.excavation!=null&&(w=X4(w,E.excavation));const $=window.devicePixelRatio||1;y.height=y.width=r*$;const D=r/x*$;b.scale(D,D),b.fillStyle=i,b.fillRect(0,0,x,x),b.fillStyle=o,Zse?b.fill(new Path2D(J4(w,S))):w.forEach(function(Q,P){Q.forEach(function(L,M){L&&b.fillRect(M+S,P+S,1,1)})}),U&&b.drawImage(T,E.x+S,E.y+S,E.w,E.h)}}),A.useEffect(()=>{m(!1)},[d]);const _=Sf({height:r,width:r},l);let v=null;return d!=null&&(v=xe.createElement("img",{src:d,key:d,style:{display:"none"},onLoad:()=>{m(!0)},ref:p})),xe.createElement(xe.Fragment,null,xe.createElement("canvas",Sf({style:_,height:r,width:r,ref:h},u)),v)}function tL(e){const t=e,{value:n,size:r=q4,level:s=W4,bgColor:i=K4,fgColor:o=Y4,includeMargin:a=Q4,imageSettings:l}=t,c=Fw(t,["value","size","level","bgColor","fgColor","includeMargin","imageSettings"]);let u=dc.QrCode.encodeText(n,G4[s]).getModules();const d=a?Uw:0,h=u.length+d*2,p=Z4(u,r,a,l);let g=null;l!=null&&p!=null&&(p.excavation!=null&&(u=X4(u,p.excavation)),g=xe.createElement("image",{xlinkHref:l.src,height:p.h,width:p.w,x:p.x+d,y:p.y+d,preserveAspectRatio:"none"}));const m=J4(u,d);return xe.createElement("svg",Sf({height:r,width:r,viewBox:`0 0 ${h} ${h}`},c),xe.createElement("path",{fill:i,d:`M0,0 h${h}v${h}H0z`,shapeRendering:"crispEdges"}),xe.createElement("path",{fill:o,d:m,shapeRendering:"crispEdges"}),g)}var eie=e=>{const t=e,{renderAs:n}=t,r=Fw(t,["renderAs"]);return n==="svg"?xe.createElement(tL,Sf({},r)):xe.createElement(eL,Sf({},r))};const tie=Object.freeze(Object.defineProperty({__proto__:null,QRCodeCanvas:eL,QRCodeSVG:tL,default:eie},Symbol.toStringTag,{value:"Module"}));var nL={exports:{}},rL={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var su=A;function nie(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var rie=typeof Object.is=="function"?Object.is:nie,sie=su.useState,iie=su.useEffect,oie=su.useLayoutEffect,aie=su.useDebugValue;function lie(e,t){var n=t(),r=sie({inst:{value:n,getSnapshot:t}}),s=r[0].inst,i=r[1];return oie(function(){s.value=n,s.getSnapshot=t,kA(s)&&i({inst:s})},[e,n,t]),iie(function(){return kA(s)&&i({inst:s}),e(function(){kA(s)&&i({inst:s})})},[e]),aie(n),n}function kA(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!rie(e,n)}catch{return!0}}function cie(e,t){return t()}var uie=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?cie:lie;rL.useSyncExternalStore=su.useSyncExternalStore!==void 0?su.useSyncExternalStore:uie;nL.exports=rL;var die=nL.exports;const{useEffect:fie,useLayoutEffect:hie,useRef:pie,useInsertionEffect:gie}=Xp,mie=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",vie=mie?hie:fie,sL=gie||vie,iL=e=>{const t=pie([e,(...n)=>t[0](...n)]).current;return sL(()=>{t[0]=e}),t[1]},yie=(e="",t=location.pathname)=>t.toLowerCase().indexOf(e.toLowerCase())?"~"+t:t.slice(e.length)||"/",Aie=(e,t="")=>e[0]==="~"?e.slice(1):t+e,_ie="popstate",zw="pushState",Hw="replaceState",bie="hashchange",gT=[_ie,zw,Hw,bie],Sie=e=>{for(const t of gT)addEventListener(t,e);return()=>{for(const t of gT)removeEventListener(t,e)}},wie=(e,t)=>die.useSyncExternalStore(Sie,e,t),mT=()=>location.pathname,xie=({ssrPath:e}={})=>wie(mT,e?()=>e:mT),Eie=(e,{replace:t=!1}={})=>history[t?Hw:zw](null,"",e),kie=(e={})=>[yie(e.base,xie(e)),iL((t,n)=>Eie(Aie(t,e.base),n))];if(typeof history<"u")for(const e of[zw,Hw]){const t=history[e];history[e]=function(){const n=t.apply(this,arguments),r=new Event(e);return r.arguments=arguments,dispatchEvent(r),n}}function Cie(e=Tie){let t={};const n=r=>t[r]||(t[r]=e(r));return(r,s)=>{const{regexp:i,keys:o}=n(r||""),a=i.exec(s);return a?[!0,o.reduce((c,u,d)=>(c[u.name]=a[d+1],c),{})]:[!1,null]}}const vT=e=>e.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1"),Iie=(e,t,n)=>{let r=e?"((?:[^\\/]+?)(?:\\/(?:[^\\/]+?))*)":"([^\\/]+?)";return t&&n&&(r="(?:\\/"+r+")"),r+(t?"?":"")},Tie=e=>{const t=/:([A-Za-z0-9_]+)([?+*]?)/g;let n=null,r=0,s=[],i="";for(;(n=t.exec(e))!==null;){const[o,a,l]=n,c=l==="+"||l==="*",u=l==="?"||l==="*",d=u&&e[n.index-1]==="/"?1:0,h=e.substring(r,n.index-d);s.push({name:a}),r=t.lastIndex,i+=vT(h)+Iie(c,u,d)}return i+=vT(e.substring(r)),{keys:s,regexp:new RegExp("^"+i+"(?:\\/)?$","i")}},g_={hook:kie,matcher:Cie(),base:""},oL=A.createContext(g_),Wv=()=>A.useContext(oL),Kv=e=>e.hook(e),Rie=()=>Kv(Wv()),aL=e=>{const t=Wv(),[n]=Kv(t);return t.matcher(e,n)},Mie=A.createContext({params:{}}),Pie=({hook:e,matcher:t,ssrPath:n,base:r="",parent:s,children:i})=>{const o=(l,c=s||g_)=>(l.hook=e||c.hook,l.matcher=t||c.matcher,l.ssrPath=n||c.ssrPath,l.ownBase=r,l.parent=s,l),[a]=A.useState(()=>o({get base(){return(a.parent||g_).base+a.ownBase}}));return sL(()=>{o(a)}),A.createElement(oL.Provider,{value:a,children:i})},yT=(e,t)=>A.createElement(Mie.Provider,{value:{params:e},children:t}),pr=({path:e,match:t,component:n,children:r})=>{const s=aL(e),[i,o]=t||s;return i?n?yT(o,A.createElement(n,{params:o})):yT(o,typeof r=="function"?r(o):r):null},Gw=A.forwardRef((e,t)=>{const n=Wv(),[,r]=Kv(n),{to:s,href:i=s,children:o,onClick:a}=e,l=iL(d=>{d.ctrlKey||d.metaKey||d.altKey||d.shiftKey||d.button!==0||(a&&a(d),d.defaultPrevented||(d.preventDefault(),r(s||i,e)))}),c={href:i[0]==="~"?i.slice(1):n.base+i,onClick:l,to:null,ref:t},u=A.isValidElement(o)?o:A.createElement("a",e);return A.cloneElement(u,c)}),m_=e=>Array.isArray(e)?[].concat(...e.map(t=>t&&t.type===A.Fragment?m_(t.props.children):m_(t))):[e],jie=({children:e,location:t})=>{const n=Wv(),r=n.matcher,[s]=Kv(n);for(const i of m_(e)){let o=0;if(A.isValidElement(i)&&(o=i.props.path?r(i.props.path,t||s):[!0,{}])[0])return A.cloneElement(i,{match:o})}return null},{QRCodeSVG:Oie}=tie;function AT({gameCode:e,...t}){return f.jsx(Nie,{...t,children:e.split("").map((n,r)=>f.jsx("span",{children:n},r))})}function qw(){var s;const e=new URL((s=global.location)==null?void 0:s.href),[t]=aL("remote-mic"),n=lv("room")??bg.getGameCode();e.pathname="/prs/275/remote-mic",e.searchParams.set("room",n);const r=e.href;return A.useEffect(()=>{t||bg.start()},[t]),f.jsxs(Fie,{children:[f.jsx(Uie,{children:f.jsx(Oie,{value:r,width:"100%",height:"100%",includeMargin:!0})}),f.jsxs(zie,{children:[f.jsxs(Vie,{children:[f.jsxs("h3",{children:["Game code: ",f.jsx(AT,{gameCode:n,"data-test":"game-code"})]}),f.jsxs("ol",{children:[f.jsxs("li",{children:["Go to"," ",f.jsx("a",{href:e.origin,target:"_blank",rel:"noreferrer",children:"allkaraoke.party"})," ","on your phone"]}),f.jsxs("li",{children:["Click on ",f.jsx("b",{children:"Join game"})]}),f.jsxs("li",{children:["Enter the code ",f.jsx(AT,{gameCode:n})]}),f.jsx("li",{children:"Follow the instructions"})]})]}),f.jsxs(Lie,{children:[f.jsx("h4",{children:"Or copy and send the link"}),f.jsxs($ie,{children:[f.jsx(Die,{disabled:!0,value:r,"data-test":"server-link-input"}),f.jsx(Bie,{onClick:()=>{navigator.clipboard.writeText(r)},children:"Copy"})]})]})]})]})}const Vie=C("div")({name:"QRCodeInstruction",class:"q1xkzo29",propsAsIs:!1}),Lie=C("div")({name:"CopyLinkInstruction",class:"cmuqgox",propsAsIs:!1}),$ie=C("div")({name:"InputCopyContainer",class:"i1ys38hz",propsAsIs:!1}),Bie=C("button")({name:"CopyButton",class:"cbazj1g",propsAsIs:!1}),Nie=C("strong")({name:"GameCode",class:"g1ckj3ya",propsAsIs:!1}),Die=C("input")({name:"InputCopy",class:"i86evxb",propsAsIs:!1}),Fie=C("div")({name:"Container",class:"c16qa219",propsAsIs:!1}),Uie=C("div")({name:"QRCode",class:"q8434pn",propsAsIs:!1}),zie=C("div")({name:"Description",class:"dm0ixnh",propsAsIs:!1});function Hie({closeModal:e}){const{register:t}=Fn({onBackspace:e});return f.jsx(bu,{onClose:e,children:f.jsxs(yi,{children:[f.jsx(qw,{}),f.jsx(vi,{...t("quick-connect-close",e),children:"Close"})]})})}function Gie(){const[e,t]=A.useState(!1);Be(ur);const[n,r]=Be(HP),{hasContent:s}=A.useContext(SS),i=()=>t(!1);return f.jsxs(f.Fragment,{children:[e&&f.jsx(Hie,{closeModal:i}),f.jsxs(qie,{children:[s&&f.jsx(ru,{title:"Toggle help",place:"bottom-end",children:f.jsx(Kie,{size:"small",onClick:()=>r(!n),"data-test":"toggle-help",children:n?f.jsx(gV,{}):f.jsx(mV,{})})}),f.jsx(Dse,{}),f.jsx(ru,{title:"Connect phone",place:"bottom-end",children:f.jsx(jw,{size:"small",onClick:()=>t(o=>!o),"data-test":"quick-connect-phone",children:f.jsx(nf,{})})})]})]})}const qie=C("div")({name:"ToolbarContainer",class:"th76qu4",propsAsIs:!1}),Wie=()=>jw,Kie=C(Wie())({name:"HelpButton",class:"h1i0ckz4",propsAsIs:!0});function To({children:e,toolbar:t=!0}){return f.jsxs(gJ,{children:[t&&f.jsx(Gie,{}),e]})}var Ww={},Yie=Ze;Object.defineProperty(Ww,"__esModule",{value:!0});var lL=Ww.default=void 0,Qie=Yie(ot()),Jie=f;lL=Ww.default=(0,Qie.default)((0,Jie.jsx)("path",{d:"M3 13h2v-2H3zm0 4h2v-2H3zm0-8h2V7H3zm4 4h14v-2H7zm0 4h14v-2H7zM7 7v2h14V7z"}),"List");var Kw={},Xie=Ze;Object.defineProperty(Kw,"__esModule",{value:!0});var cL=Kw.default=void 0,Zie=Xie(ot()),eoe=f;cL=Kw.default=(0,Zie.default)((0,eoe.jsx)("path",{d:"M19.14 12.94c.04-.3.06-.61.06-.94 0-.32-.02-.64-.07-.94l2.03-1.58c.18-.14.23-.41.12-.61l-1.92-3.32c-.12-.22-.37-.29-.59-.22l-2.39.96c-.5-.38-1.03-.7-1.62-.94l-.36-2.54c-.04-.24-.24-.41-.48-.41h-3.84c-.24 0-.43.17-.47.41l-.36 2.54c-.59.24-1.13.57-1.62.94l-2.39-.96c-.22-.08-.47 0-.59.22L2.74 8.87c-.12.21-.08.47.12.61l2.03 1.58c-.05.3-.09.63-.09.94s.02.64.07.94l-2.03 1.58c-.18.14-.23.41-.12.61l1.92 3.32c.12.22.37.29.59.22l2.39-.96c.5.38 1.03.7 1.62.94l.36 2.54c.05.24.24.41.48.41h3.84c.24 0 .44-.17.47-.41l.36-2.54c.59-.24 1.13-.56 1.62-.94l2.39.96c.22.08.47 0 .59-.22l1.92-3.32c.12-.22.07-.47-.12-.61zM12 15.6c-1.98 0-3.6-1.62-3.6-3.6s1.62-3.6 3.6-3.6 3.6 1.62 3.6 3.6-1.62 3.6-3.6 3.6"}),"Settings");const Yw=({...e})=>f.jsx("svg",{viewBox:"0 0 512 512",fill:"currentcolor",...e,children:f.jsx("path",{stroke:"black",strokeWidth:"2%",xmlns:"http://www.w3.org/2000/svg",d:"M252.529,162.029l168.125,210.156c-12.313,1.25-24.031,6.438-33.031,15.438s-14.188,20.719-15.438,33.031L162.029,252.545  c-3.563-24.922,4.813-50.078,22.625-67.891C202.467,166.857,227.623,158.467,252.529,162.029z M398.936,398.936  c-9.063,9.063-13.031,22.063-10.625,34.656l45.281,45.25c12.5,12.5,32.75,12.5,45.25,0s12.5-32.75,0-45.25l-45.25-45.281  C420.998,385.904,407.998,389.873,398.936,398.936z M162.029,162.029c18.594-18.594,43.188-29.891,68.969-32.297  c-3.375-24.563-14.906-49.391-35.031-69.516c-43.75-43.75-109.594-48.813-147.063-11.313  c-37.5,37.484-32.438,103.328,11.313,147.078c20.125,20.125,44.938,31.656,69.5,35.031  C132.154,205.217,143.436,180.623,162.029,162.029z"})}),toe=()=>Yw,uL=C(toe())({name:"MicIconRed",class:"mvbnena",propsAsIs:!0}),noe=()=>Yw,v_=C(noe())({name:"MicIconBlue",class:"mr92e5u",propsAsIs:!0});function roe({active:e,setActiveTab:t}){return f.jsxs(soe,{children:[f.jsxs(CA,{active:e==="microphone",onClick:()=>t("microphone"),"data-test":"menu-microphone",children:[f.jsx(IA,{children:f.jsx(Yw,{})}),f.jsx(TA,{children:"Microphone"})]}),f.jsxs(CA,{active:e==="song-list",onClick:()=>t("song-list"),"data-test":"menu-song-list",children:[f.jsx(IA,{children:f.jsx(lL,{})}),f.jsx(TA,{children:"Song list"})]}),f.jsxs(CA,{active:e==="settings",onClick:()=>t("settings"),"data-test":"menu-settings",children:[f.jsx(IA,{children:f.jsx(cL,{})}),f.jsx(TA,{children:"Settings"})]})]})}const soe=C("div")({name:"Container",class:"c132kzvb",propsAsIs:!1}),ioe=()=>e=>e.active?Ye.colors.text.active:"#cecece",CA=C("div")({name:"ItemContainer",class:"ixgn90d",propsAsIs:!1,vars:{"ixgn90d-0":[ioe()]}}),IA=C("div")({name:"ItemIcon",class:"i41tcxs",propsAsIs:!1}),TA=C("div")({name:"ItemTitle",class:"inf7bs1",propsAsIs:!1});var Qw={},ooe=Ze;Object.defineProperty(Qw,"__esModule",{value:!0});var Tl=Qw.default=void 0,aoe=ooe(ot()),loe=f;Tl=Qw.default=(0,aoe.default)((0,loe.jsx)("path",{d:"M1 21h22L12 2zm12-3h-2v-2h2zm0-4h-2v-4h2z"}),"Warning");const Jw=()=>{const[e,t]=A.useState(Jo.getStatus());return A.useEffect(()=>Jo.addListener(t),[]),e};function dL(){return navigator==null?void 0:navigator.userAgent.includes("OPR")}const coe="/prs/275/assets/allow-mic-DleF1-pf.png",uoe="/prs/275/assets/enable-mic-opera-B5FfRj_P.png",doe="/prs/275/assets/enable-mic-TGG47ucR.png",foe=()=>dL()?uoe:doe,rh=({children:e,fallback:t,showImages:n=!0})=>{const r=Jw();return f.jsxs(f.Fragment,{children:[r==="accepted"&&e,r!=="accepted"&&f.jsxs(f.Fragment,{children:[f.jsx(poe,{children:f.jsx(moe,{})}),t,f.jsxs(hoe,{children:[r==="requested"&&n&&f.jsx("img",{src:coe,alt:"how-to-allow"}),r==="declined"&&f.jsxs(f.Fragment,{children:[f.jsx("h3",{children:"Access is blocked, you can unblock it here"}),n&&f.jsx("img",{src:foe(),alt:"how-to-enable"})]}),dL()&&f.jsxs("h4",{children:[f.jsx("strong",{children:"Opera"})," is buggy regarding microphone access - if you encounter issue (e.g. this message stays even after the access to microphone was granted), consider other browsers."]})]})]})]})},hoe=C("div")({name:"AdditionalInfo",class:"a6tlg4m",propsAsIs:!1}),poe=C("div")({name:"WarningContainer",class:"welhwrp",propsAsIs:!1}),goe=()=>Tl,moe=C(goe())({name:"WarningIcon",class:"w1yhhtzy",propsAsIs:!0});function voe(){return!1}var Xw={},yoe=Ze;Object.defineProperty(Xw,"__esModule",{value:!0});var Pd=Xw.default=void 0,Aoe=yoe(ot()),_oe=f;Pd=Xw.default=(0,Aoe.default)((0,_oe.jsx)("path",{d:"m1 9 2 2c4.97-4.97 13.03-4.97 18 0l2-2C16.93 2.93 7.08 2.93 1 9m8 8 3 3 3-3c-1.65-1.66-4.34-1.66-6 0m-4-4 2 2c2.76-2.76 7.24-2.76 10 0l2-2C15.14 9.14 8.87 9.14 5 13"}),"Wifi");function sh(e,t,n=1){return n===1?(t+1)%e.length:(t+e.length-1)%e.length}function boe(e,t,n=1){return sh(e,e.indexOf(t),n)}function Qa(e,t,n=1){return e[boe(e,t,n)]}const ts=({focused:e,disabled:t=!1,label:n,value:r,onClick:s,info:i,children:o,...a})=>f.jsxs(Soe,{children:[f.jsxs(woe,{"data-focused":e,onClick:s,"data-disabled":t,...a,children:[f.jsx("span",{children:n?f.jsxs(f.Fragment,{children:[n,":"]}):""})," ",f.jsx(xoe,{children:r}),o??null]}),i&&f.jsx(fL,{children:i})]}),Soe=C("div")({name:"Container",class:"cuqn4l7",propsAsIs:!1}),fL=C("div")({name:"InfoText",class:"ihycjvh",propsAsIs:!1}),woe=C("span")({name:"ConfigurationPosition",class:"c1wdn4qn",propsAsIs:!1}),xoe=C("span")({name:"ConfigValue",class:"c2030js",propsAsIs:!1}),wu=A.forwardRef(({focused:e,label:t,value:n,onChange:r,disabled:s,className:i,adornment:o,info:a,...l},c)=>{const u=A.useRef(null);return A.useImperativeHandle(c,()=>u.current),xr(c1,()=>{var d;return(d=u.current)==null?void 0:d.focus()},{enabled:e}),f.jsxs("div",{children:[f.jsxs(koe,{"data-focused":e,className:i,children:[f.jsx(Coe,{children:t}),f.jsx(Ioe,{value:n,onChange:d=>r(d.target.value),...l,disabled:s,ref:u}),o&&f.jsx(Eoe,{children:o})]}),a&&f.jsx(fL,{children:a})]})}),Eoe=C("span")({name:"Adornment",class:"aevl2jz",propsAsIs:!1}),koe=C("div")({name:"Container",class:"c5rstts",propsAsIs:!1}),Coe=C("span")({name:"Label",class:"lzkllhg",propsAsIs:!1}),Ioe=C("input")({name:"StyledInput",class:"s1api0y",propsAsIs:!1});function Toe(e){return hu("MuiCircularProgress",e)}pu("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);const Roe=["className","color","disableShrink","size","style","thickness","value","variant"];let Yv=e=>e,_T,bT,ST,wT;const Po=44,Moe=fa(_T||(_T=Yv`
  0% {
    transform: rotate(0deg);
  }

  100% {
    transform: rotate(360deg);
  }
`)),Poe=fa(bT||(bT=Yv`
  0% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: 0;
  }

  50% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -15px;
  }

  100% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -125px;
  }
`)),joe=e=>{const{classes:t,variant:n,color:r,disableShrink:s}=e,i={root:["root",n,`color${Qn(r)}`],svg:["svg"],circle:["circle",`circle${Qn(n)}`,s&&"circleDisableShrink"]};return Gf(i,Toe,t)},Ooe=ko("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],t[`color${Qn(n.color)}`]]}})(({ownerState:e,theme:t})=>Me({display:"inline-block"},e.variant==="determinate"&&{transition:t.transitions.create("transform")},e.color!=="inherit"&&{color:(t.vars||t).palette[e.color].main}),({ownerState:e})=>e.variant==="indeterminate"&&Vc(ST||(ST=Yv`
      animation: ${0} 1.4s linear infinite;
    `),Moe)),Voe=ko("svg",{name:"MuiCircularProgress",slot:"Svg",overridesResolver:(e,t)=>t.svg})({display:"block"}),Loe=ko("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.circle,t[`circle${Qn(n.variant)}`],n.disableShrink&&t.circleDisableShrink]}})(({ownerState:e,theme:t})=>Me({stroke:"currentColor"},e.variant==="determinate"&&{transition:t.transitions.create("stroke-dashoffset")},e.variant==="indeterminate"&&{strokeDasharray:"80px, 200px",strokeDashoffset:0}),({ownerState:e})=>e.variant==="indeterminate"&&!e.disableShrink&&Vc(wT||(wT=Yv`
      animation: ${0} 1.4s ease-in-out infinite;
    `),Poe)),$oe=A.forwardRef(function(t,n){const r=mu({props:t,name:"MuiCircularProgress"}),{className:s,color:i="primary",disableShrink:o=!1,size:a=40,style:l,thickness:c=3.6,value:u=0,variant:d="indeterminate"}=r,h=_r(r,Roe),p=Me({},r,{color:i,disableShrink:o,size:a,thickness:c,value:u,variant:d}),g=joe(p),m={},_={},v={};if(d==="determinate"){const y=2*Math.PI*((Po-c)/2);m.strokeDasharray=y.toFixed(3),v["aria-valuenow"]=Math.round(u),m.strokeDashoffset=`${((100-u)/100*y).toFixed(3)}px`,_.transform="rotate(-90deg)"}return f.jsx(Ooe,Me({className:Vr(g.root,s),style:Me({width:a,height:a},_,l),ownerState:p,ref:n,role:"progressbar"},v,h,{children:f.jsx(Voe,{className:g.svg,ownerState:p,viewBox:`${Po/2} ${Po/2} ${Po} ${Po}`,children:f.jsx(Loe,{className:g.circle,style:m,ownerState:p,cx:Po,cy:Po,r:(Po-c)/2,fill:"none",strokeWidth:c})})}))}),Boe=$oe;function ih(e){return f.jsx(Boe,{...e})}function wf(e){document.startViewTransition?document.startViewTransition(async()=>{await e()}):e()}const om=(e,t)=>{var n;if(t){const r=new URLSearchParams((n=global.location)==null?void 0:n.search);return Object.entries(t).forEach(([s,i])=>{i===null?r.delete(s):r.set(s,i)}),`${e}?${r.toString()}`}return e};function Gr(){const[,e]=Rie();return(t,n,{smooth:r=!0,...s}={})=>{r?wf(()=>e(om(t,n),s)):e(om(t,n),s)}}var Zw={},Noe=Ze;Object.defineProperty(Zw,"__esModule",{value:!0});var ex=Zw.default=void 0,Doe=Noe(ot()),Foe=f;ex=Zw.default=(0,Doe.default)((0,Foe.jsx)("path",{d:"M20 18c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2H4c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2H0v2h24v-2zM4 6h16v10H4z"}),"Laptop");var tx={},Uoe=Ze;Object.defineProperty(tx,"__esModule",{value:!0});var nx=tx.default=void 0,zoe=Uoe(ot()),Hoe=f;nx=tx.default=(0,zoe.default)((0,Hoe.jsx)("path",{d:"M16 1H8C6.34 1 5 2.34 5 4v16c0 1.66 1.34 3 3 3h8c1.66 0 3-1.34 3-3V4c0-1.66-1.34-3-3-3m-2 20h-4v-1h4zm3.25-3H6.75V4h10.5z"}),"PhoneAndroid");const xT="confirmed-wifi";function Goe({onClose:e}){const[t,n]=xe.useState($e.session.getItem(xT)??!1),r=()=>{$e.session.setItem(xT,!0),n(!0),e==null||e()};return A.useEffect(()=>{var s,i,o;if(navigator!=null&&navigator.connection)if(((s=navigator==null?void 0:navigator.connection)==null?void 0:s.type)==="wifi")r();else{const a=()=>{var l;((l=navigator==null?void 0:navigator.connection)==null?void 0:l.type)==="wifi"&&r()};return(o=(i=navigator==null?void 0:navigator.connection)==null?void 0:i.addEventListener)==null||o.call(i,"change",a),()=>{var l,c;return(c=(l=navigator==null?void 0:navigator.connection)==null?void 0:l.removeEventListener)==null?void 0:c.call(l,"change",a)}}},[]),t?null:f.jsx(bu,{onClose:r,children:f.jsxs(Woe,{children:[f.jsxs(Koe,{children:[f.jsxs("h3",{children:["Connect to the ",f.jsx("strong",{children:"same Wi-Fi"})]}),f.jsxs(Yoe,{children:[f.jsx(nx,{}),"...",f.jsx(Pd,{}),"...",f.jsx(ex,{})]}),f.jsx("h4",{children:"Connect to the same Wi-Fi as the game."})]}),f.jsx("h6",{children:"Otherwise microphones might not work properly."}),f.jsx(Te,{onClick:r,focused:!0,"data-test":"confirm-wifi-connection",children:"I'm connected, continue"})]})})}const qoe=()=>yi,Woe=C(qoe())({name:"Menu",class:"m19j4whs",propsAsIs:!0}),Koe=C("div")({name:"Wrapper",class:"w1ubmakf",propsAsIs:!1}),Yoe=C("div")({name:"IconsWrapper",class:"i18bz3av",propsAsIs:!1});function Qoe(e,t,n,r){n===void 0&&(n=global),r===void 0&&(r={});var s=A.useRef(),i=r.capture,o=r.passive,a=r.once;A.useEffect(function(){s.current=t},[t]),A.useEffect(function(){if(n&&n.addEventListener){var l=function(u){return s.current(u)},c={capture:i,passive:o,once:a};return n.addEventListener(e,l,c),function(){n.removeEventListener(e,l,c)}}},[e,n,i,o,a])}var Ca={},Joe=function(e,t,n){return Ca[e]||(Ca[e]={callbacks:[],value:n}),Ca[e].callbacks.push(t),{deregister:function(){var r=Ca[e].callbacks,s=r.indexOf(t);s>-1&&r.splice(s,1)},emit:function(r){Ca[e].value!==r&&(Ca[e].value=r,Ca[e].callbacks.forEach(function(s){t!==s&&s(r)}))}}};function rx(e,t){if(t===void 0&&(t=typeof global<"u"&&global.localStorage?global.localStorage:typeof globalThis<"u"&&globalThis.localStorage?globalThis.localStorage:typeof window<"u"&&window.localStorage?window.localStorage:typeof localStorage<"u"?localStorage:null),t){var n=function(r){return{get:function(s,i){var o=r.getItem(s);return o==null?typeof i=="function"?i():i:JSON.parse(o)},set:function(s,i){r.setItem(s,JSON.stringify(i))}}}(t);return function(r){return function(s,i,o){var a=o.get,l=o.set,c=A.useRef(null),u=A.useState(function(){return a(i,s)}),d=u[0],h=u[1];Qoe("storage",function(g){if(g.key===i){var m=JSON.parse(g.newValue);d!==m&&h(m)}}),A.useEffect(function(){return c.current=Joe(i,h,s),function(){c.current.deregister()}},[s,i]);var p=A.useCallback(function(g){var m=typeof g=="function"?g(d):g;l(i,m),h(m),c.current.emit(g)},[d,l,i]);return[d,p]}(r,e,n)}}return A.useState}const Xoe=rx("remote_mic_name");function Zoe({isVisible:e,roomId:t,connectionStatus:n,onConnect:r,connectionError:s}){const[i,o]=Xoe(""),[a,l]=A.useState(!1),c=A.useRef(null),u=A.useRef(null),[d,h]=A.useState(""),p=Gr(),g=n!=="uninitialised"&&n!=="error";A.useEffect(()=>{n==="connected"&&!t&&p("remote-mic/",{room:d})},[n,t,d]);const m=(w=!1)=>{Sn.connect(t??d,i,w),r(w)},_=w=>{var S,x;w.preventDefault(),l(!1),!t&&d.length!==Rp?(S=c.current)==null||S.focus():i===""?(x=u.current??c.current)==null||x.focus():m()};A.useEffect(()=>{var w;jn.capture(t?"remote-mic-qrcode":"remote-mic-manual"),(w=c.current)==null||w.focus()},[]),A.useEffect(()=>{$e.session.getItem("reload-mic-request")!==null&&(global.setTimeout(()=>$e.session.removeItem("reload-mic-request"),1),m(!0))},[]);const[v,y]=A.useState(!1);A.useEffect(()=>{if(y(!1),n==="connecting"||n==="reconnecting"){const w=setTimeout(()=>y(!0),2e3);return()=>clearTimeout(w)}},[n]);const b=n==="error"&&!a;return e?f.jsxs(f.Fragment,{children:[f.jsx(Goe,{onClose:()=>{var w;(w=c.current)==null||w.focus()}}),f.jsxs(eae,{onSubmit:_,children:[!t&&f.jsx(sae,{ref:c,placeholder:"_____",label:"Game code",autoCapitalize:"characters",autoComplete:"off",onChange:h,value:d,maxLength:Rp,focused:!1,autoFocus:!0,"data-test":"game-code-input",onFocus:()=>{n==="error"&&l(!0)},onPaste:w=>{w.preventDefault();let S=(w.clipboardData||global.clipboardData).getData("text");S=S.replace(/\s/g,""),h(S.slice(0,Rp))}}),f.jsx(wu,{maxLength:qb,focused:!1,label:"Your name",placeholder:"Enter your name…",value:i,onChange:o,ref:t?c:u,disabled:g,autoFocus:!0,"data-test":"player-name-input"}),f.jsxs(nae,{type:"submit",disabled:g,"data-test":"connect-button",children:[n==="connecting"&&f.jsx(ih,{size:"1em"}),n==="uninitialised"||a?"Connect":n.toUpperCase()]})]}),(v||b)&&f.jsxs(f.Fragment,{children:[v&&f.jsx("h3",{children:"If it doesn't connect"}),b&&f.jsxs(f.Fragment,{children:[f.jsxs("h3",{children:[f.jsx("strong",{children:f.jsx(Tl,{})})," ","Could not connect:"]}),f.jsxs("h6",{children:["Error code: ",f.jsx("strong",{children:s})]}),f.jsx("br",{}),s==="peer-unavailable"?f.jsxs(f.Fragment,{children:[f.jsx("h4",{children:t===void 0?"Game with this code not found 🤔":"The game seems to be offline 🤔"}),t===void 0&&f.jsxs("h5",{children:["1. Is the code ",f.jsx("strong",{children:d.toUpperCase()})," correct?"]}),f.jsxs("h5",{children:[t===void 0?2:1,". Refresh (",f.jsx("strong",{children:"F5"}),") the Karaoke Game on the PC"]}),t!==void 0&&f.jsxs("h5",{children:["2. Scan the"," ",f.jsxs("strong",{children:[f.jsx(nf,{})," QR Code"]})," ","again"]}),f.jsxs("h5",{children:["3. Make sure you are in the same"," ",f.jsxs("strong",{children:[f.jsx(Pd,{})," Wi-Fi"]})]})]}):s==="network"?f.jsxs(f.Fragment,{children:[f.jsx("h4",{children:"No internet access 💀"}),f.jsxs("h5",{children:["Make sure you are in the same"," ",f.jsxs("strong",{children:[f.jsx(Pd,{})," Wi-Fi"]}),"and that it has internet connection"]})]}):f.jsxs(f.Fragment,{children:[f.jsxs("h5",{children:["1. Make sure you are in the same"," ",f.jsxs("strong",{children:[f.jsx(Pd,{})," Wi-Fi"]})]}),f.jsxs("h5",{children:["2. Refresh (",f.jsx("strong",{children:"F5"}),") the Karaoke Game on the PC"]}),f.jsxs("h5",{children:["3. Scan the"," ",f.jsxs("strong",{children:[f.jsx(nf,{})," QR Code"]})," ","again"]})]})]})]})]}):null}const eae=C("form")({name:"Form",class:"frri3w1",propsAsIs:!1}),tae=()=>Te,nae=C(tae())({name:"ConnectButton",class:"cyzb5to",propsAsIs:!0}),rae=()=>wu,sae=C(rae())({name:"GCInput",class:"gjafthb",propsAsIs:!0});var sx={},iae=Ze;Object.defineProperty(sx,"__esModule",{value:!0});var hL=sx.default=void 0,oae=iae(ot()),aae=f;hL=sx.default=(0,oae.default)((0,aae.jsx)("path",{d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20z"}),"ArrowBack");var ix={},lae=Ze;Object.defineProperty(ix,"__esModule",{value:!0});var pL=ix.default=void 0,cae=lae(ot()),uae=f;pL=ix.default=(0,cae.default)((0,uae.jsx)("path",{d:"m12 4-1.41 1.41L16.17 11H4v2h12.17l-5.58 5.59L12 20l8-8z"}),"ArrowForward");var ox={},dae=Ze;Object.defineProperty(ox,"__esModule",{value:!0});var gL=ox.default=void 0,fae=dae(ot()),hae=f;gL=ox.default=(0,fae.default)((0,hae.jsx)("path",{d:"M15 7.5V2H9v5.5l3 3zM7.5 9H2v6h5.5l3-3zM9 16.5V22h6v-5.5l-3-3zM16.5 9l-3 3 3 3H22V9z"}),"Games");var ax={},pae=Ze;Object.defineProperty(ax,"__esModule",{value:!0});var mL=ax.default=void 0,gae=pae(ot()),mae=f;mL=ax.default=(0,gae.default)((0,mae.jsx)("path",{d:"M7.41 8.59 12 13.17l4.59-4.58L18 10l-6 6-6-6z"}),"KeyboardArrowDown");var lx={},vae=Ze;Object.defineProperty(lx,"__esModule",{value:!0});var vL=lx.default=void 0,yae=vae(ot()),Aae=f;vL=lx.default=(0,yae.default)((0,Aae.jsx)("path",{d:"M15.41 16.59 10.83 12l4.58-4.59L14 6l-6 6 6 6z"}),"KeyboardArrowLeft");var cx={},_ae=Ze;Object.defineProperty(cx,"__esModule",{value:!0});var yL=cx.default=void 0,bae=_ae(ot()),Sae=f;yL=cx.default=(0,bae.default)((0,Sae.jsx)("path",{d:"M8.59 16.59 13.17 12 8.59 7.41 10 6l6 6-6 6z"}),"KeyboardArrowRight");var ux={},wae=Ze;Object.defineProperty(ux,"__esModule",{value:!0});var AL=ux.default=void 0,xae=wae(ot()),Eae=f;AL=ux.default=(0,xae.default)((0,Eae.jsx)("path",{d:"M7.41 15.41 12 10.83l4.59 4.58L18 14l-6-6-6 6z"}),"KeyboardArrowUp");var dx={},kae=Ze;Object.defineProperty(dx,"__esModule",{value:!0});var _L=dx.default=void 0,Cae=kae(ot()),Iae=f;_L=dx.default=(0,Cae.default)((0,Iae.jsx)("path",{d:"M10.59 9.17 5.41 4 4 5.41l5.17 5.17zM14.5 4l2.04 2.04L4 18.59 5.41 20 17.96 7.46 20 9.5V4zm.33 9.41-1.41 1.41 3.13 3.13L14.5 20H20v-5.5l-2.04 2.04z"}),"Shuffle");var fx={},Tae=Ze;Object.defineProperty(fx,"__esModule",{value:!0});var hx=fx.default=void 0,Rae=Tae(ot()),Mae=f;hx=fx.default=(0,Rae.default)((0,Mae.jsx)("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14"}),"Search");function px(e,t){const[n,r]=A.useState(e);return A.useEffect(()=>{const s=setTimeout(()=>{r(e)},t);return()=>{clearTimeout(s)}},[e,t]),n}function Pae(){var e=A.useRef(!0);return e.current?(e.current=!1,!0):e.current}var am=function(){return am=Object.assign||function(t){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},am.apply(this,arguments)};function jae(){var e=A.useRef(!1),t=A.useCallback(function(){return e.current},[]);return A.useEffect(function(){return e.current=!0,function(){e.current=!1}},[]),t}function Oae(e,t,n){t===void 0&&(t=[]),n===void 0&&(n={loading:!1});var r=A.useRef(0),s=jae(),i=A.useState(n),o=i[0],a=i[1],l=A.useCallback(function(){for(var c=[],u=0;u<arguments.length;u++)c[u]=arguments[u];var d=++r.current;return o.loading||a(function(h){return am(am({},h),{loading:!0})}),e.apply(void 0,c).then(function(h){return s()&&d===r.current&&a({value:h,loading:!1}),h},function(h){return s()&&d===r.current&&a({error:h,loading:!1}),h})},t);return[o,l]}function ET(e,t){t===void 0&&(t=[]);var n=Oae(e,t,{loading:!0}),r=n[0],s=n[1];return A.useEffect(function(){s()},[s]),r}function Vae(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];e&&e.addEventListener&&e.addEventListener.apply(e,t)}function Lae(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];e&&e.removeEventListener&&e.removeEventListener.apply(e,t)}var $ae=typeof window<"u",Bae=function(e){return(e+1)%1e6};function bL(){var e=A.useReducer(Bae,0),t=e[1];return t}var Nae=function(e){A.useEffect(e,[])},Dae=$ae?window:null,kT=function(e){return!!e.addEventListener},CT=function(e){return!!e.on},Fae=function(e,t,n,r){n===void 0&&(n=Dae),A.useEffect(function(){if(t&&n)return kT(n)?Vae(n,e,t,r):CT(n)&&n.on(e,t,r),function(){kT(n)?Lae(n,e,t,r):CT(n)&&n.off(e,t,r)}},[e,t,n,JSON.stringify(r)])},Uae=function(e,t){var n=A.useRef(function(){});A.useEffect(function(){n.current=e}),A.useEffect(function(){if(t!==null){var r=setInterval(function(){return n.current()},t||0);return function(){return clearInterval(r)}}},[t])},zae=function(e){var t=A.useRef(e);t.current=e,Nae(function(){return function(){return t.current()}})};function Hae(e){var t=A.useRef();return A.useEffect(function(){t.current=e}),t.current}var Gae=function(e,t){return e===t};function qae(e,t){t===void 0&&(t=Gae);var n=A.useRef(),r=A.useRef(e),s=Pae();return!s&&!t(r.current,e)&&(n.current=r.current,r.current=e),n.current}function Wae({onSearchStateChange:e}){const[t,n]=A.useState(""),r=A.useRef(null),s=px(t,100),i=Hae(s);return A.useEffect(()=>{i!==s&&Sn.searchSong(s.trim())},[i,s]),zae(()=>e==null?void 0:e(!1)),f.jsx(Yae,{onFocus:()=>e==null?void 0:e(!0),onBlur:()=>e==null?void 0:e(!1),maxLength:qb,focused:!1,label:f.jsx(hx,{}),placeholder:"Search for a song…",value:t,onChange:n,ref:r,"data-test":"search-song-input"})}const Kae=()=>wu,Yae=C(Kae())({name:"SearchInput",class:"sl2xb2g",propsAsIs:!0});function Qae({onSearchStateChange:e}){var i;const[t]=Hi(te.remoteKeyboardLayout,!0)??[],n=(t==null?void 0:t.horizontal)!==void 0||(t==null?void 0:t["horizontal-vertical"])!==void 0,r=(t==null?void 0:t.vertical)!==void 0||(t==null?void 0:t["horizontal-vertical"])!==void 0,s=o=>()=>{Sn.sendKeyStroke(o)};return t!==void 0?f.jsxs(Jae,{"data-test":"remote-keyboard",children:[((i=t==null?void 0:t.remote)==null?void 0:i.includes("search"))&&f.jsx(Wae,{onSearchStateChange:e}),(n||r)&&f.jsxs(MA,{children:[f.jsx(RA,{children:f.jsx(Gl,{onClick:s("up"),disabled:!r,"data-disabled":!r,"data-test":"arrow-up",children:f.jsx(AL,{})})}),f.jsxs(RA,{children:[f.jsx(Gl,{onClick:s("left"),disabled:!n,"data-disabled":!n,"data-test":"arrow-left",children:f.jsx(vL,{})}),f.jsx(Gl,{disabled:!0,"data-disabled":!0,children:f.jsx(gL,{})}),f.jsx(Gl,{onClick:s("right"),disabled:!n,"data-disabled":!n,"data-test":"arrow-right",children:f.jsx(yL,{})})]}),f.jsx(RA,{children:f.jsx(Gl,{onClick:s("down"),disabled:!r,"data-disabled":!r,"data-test":"arrow-down",children:f.jsx(mL,{})})})]}),f.jsxs(MA,{children:[f.jsx(PA,{onClick:s("back"),disabled:(t==null?void 0:t.back)===void 0,"data-test":"keyboard-backspace",children:(t==null?void 0:t.back)||f.jsxs(f.Fragment,{children:[f.jsx(hL,{})," Back"]})}),f.jsx(PA,{onClick:s("accept"),disabled:(t==null?void 0:t.accept)===void 0,"data-test":"keyboard-enter",children:(t==null?void 0:t.accept)||f.jsxs(f.Fragment,{children:["Enter ",f.jsx(pL,{})]})})]}),f.jsx(Zae,{}),f.jsx(MA,{disabled:(t==null?void 0:t.shiftR)===void 0,"data-test":"keyboard-shift-r",children:f.jsxs(PA,{onClick:s("random"),children:[f.jsx(_L,{})," ",(t==null?void 0:t.shiftR)||"Random Song"]})})]}):null}const Jae=C("div")({name:"Container",class:"cyppk1g",propsAsIs:!1}),RA=C("div")({name:"ArrowsContainer",class:"a1q9rd8u",propsAsIs:!1}),Xae=()=>e=>e.disabled?0:1,MA=C("div")({name:"ActionsContainer",class:"ac64bjt",propsAsIs:!1,vars:{"ac64bjt-0":[Xae()]}}),Zae=C("div")({name:"Break",class:"bnawzf5",propsAsIs:!1}),ele=()=>e=>e.disabled?.25:1,tle=C("button")({name:"ButtonBase",class:"b1519has",propsAsIs:!1,vars:{"b1519has-0":[ele()]}}),nle=()=>tle,Gl=C(nle())({name:"ArrowButton",class:"a1ks18gs",propsAsIs:!0}),rle=()=>Gl,PA=C(rle())({name:"ActionButton",class:"a1kqvh1p",propsAsIs:!0});var gx={},sle=Ze;Object.defineProperty(gx,"__esModule",{value:!0});var Qv=gx.default=void 0,ile=sle(ot()),ole=f;Qv=gx.default=(0,ile.default)((0,ole.jsx)("path",{d:"M6.99 11 3 15l3.99 4v-3H14v-2H6.99zM21 9l-3.99-4v3H10v2h7.01v3z"}),"SwapHoriz");function SL({playerNumber:e,id:t,onModalClose:n,header:r}){const[s]=Hi(te.remoteStyleChanged,!0)??["regular"],i=a=>{Sn.requestPlayerChange(t,a),n()},o=e!==null;return f.jsx(bu,{onClose:n,children:f.jsxs(lle,{children:[r&&f.jsx("h2",{children:r}),f.jsx(Te,{size:"small","data-test":"change-to-player-0",onClick:()=>i(0),disabled:e===0,style:{color:Ye.colors.players[0].perfect.fill},children:s==="christmas"?"Green":"Blue"}),f.jsx(Te,{size:"small","data-test":"change-to-player-1",onClick:()=>i(1),disabled:e===1,style:{color:Ye.colors.players[1].perfect.fill},children:s==="christmas"?"Red":s==="eurovision"?"Violet":"Red"}),f.jsx(Te,{size:"small","data-test":"change-to-player-2",onClick:()=>i(2),disabled:e===2,style:{color:Ye.colors.players[2].perfect.fill},children:s==="christmas"?"?????":s==="eurovision"?"Yellow":"Green"}),f.jsx(Te,{size:"small","data-test":"change-to-player-3",onClick:()=>i(3),disabled:e===3,style:{color:Ye.colors.players[3].perfect.fill},children:s==="christmas"?"?????":s==="eurovision"?"Pink":"Yellow"}),f.jsx(Te,{size:"small",onClick:()=>i(null),disabled:!o,"data-test":"change-to-unset",children:"Unassign"}),f.jsx("hr",{}),f.jsx(Te,{onClick:n,size:"small",children:"Close"})]})})}const ale=()=>yi,lle=C(ale())({name:"Menu",class:"m1m8k5ms",propsAsIs:!0});function wL({number:e,...t}){const[n]=Hi(te.remoteStyleChanged,!0)??["regular"],r=bL();return A.useEffect(()=>{r()},[n]),f.jsx(cle,{style:{background:e!==null?Ye.colors.players[e].perfect.fill:Ye.colors.text.inactive},...t})}const cle=C("div")({name:"PlayerColorCircle",class:"pbert5c",propsAsIs:!1}),ule=A.memo(function({playerNumber:t}){const[n,r]=A.useState(!1),s=()=>r(!1),i=t!==null;return f.jsxs(f.Fragment,{children:[f.jsxs(dle,{onClick:()=>r(!0),"data-test":"change-player","data-joined":i,children:[i?f.jsxs(f.Fragment,{children:[f.jsx(wL,{number:t})," Change"]}):"Join game"," ",f.jsx(Qv,{})]}),n&&f.jsx(SL,{id:Sn.getClientId(),playerNumber:t,onModalClose:s})]})}),dle=C("button")({name:"PlayerChangeContainer",class:"p1x3y733",propsAsIs:!1});function mx(){const[e]=Hi(te.remoteMicPermissionsSet,!0)??["write"];return e}function fle({playerNumber:e,volume:t,frequency:n,isMicOn:r,isConnected:s}){const[i,o]=A.useState(1e-6),a=mx();A.useEffect(()=>{o(u=>t>u?t:u*.99)},[t]);const l=e!==null?Ye.colors.players[e].miss.stroke:Ye.colors.lines.normal.fill,c=e!==null?Ye.colors.players[e].perfect.fill:Ye.colors.lines.normal.fill;return f.jsxs(vle,{isMicOn:r,color:l,"data-player-number":`${e??"none"}`,"data-test":"indicator",children:[r&&f.jsx(f.Fragment,{children:f.jsxs(hle,{children:[n?`${Math.round(n)}Hz`:" ",f.jsx("br",{}),String(t*100).slice(0,5)]})}),s&&a==="write"&&f.jsx(ule,{playerNumber:e}),f.jsx(gle,{color:c,style:{transform:`scaleY(${r?1-Math.min(1,t/i):1})`}})]})}const hle=C("span")({name:"Debug",class:"d14nd17",propsAsIs:!1}),ple=()=>e=>e.color,gle=C("div")({name:"Indicator",class:"itfgfxs",propsAsIs:!1,vars:{"itfgfxs-0":[ple()]}}),mle=()=>e=>e.color,vle=C("div")({name:"IndicatorContainer",class:"isqznyf",propsAsIs:!1,vars:{"isqznyf-0":[mle()]}});function IT({isVisible:e,isMicOn:t,isConnected:n}){const[r,s]=A.useState(0),[i,o]=A.useState(0),[a]=Hi(te.remoteMicPlayerSet,!0)??[null],l=A.useCallback(Sc((c,u)=>{o(c),s(u)},150),[s,o]);return A.useEffect(()=>(Xs.startMonitoring(void 0),Xs.addListener(l)),[l]),e?f.jsx(f.Fragment,{children:f.jsx(fle,{volume:r,frequency:i,playerNumber:a,isMicOn:t,isConnected:n})}):null}function yle({}){const[e,t]=A.useState(0);return A.useEffect(()=>{const n=setInterval(()=>{const r=Ac();Sn.pinging&&r-Sn.pingStart>e?t(r-Sn.pingStart):t(Sn.latency)},333);return()=>{clearInterval(n)}},[]),f.jsxs(f.Fragment,{children:[e,"ms"]})}function Ale({roomId:e,monitoringStarted:t,setMonitoringStarted:n,isKeepAwakeOn:r,setIsKeepAwakeOn:s,connectionError:i,connectionStatus:o}){const a=mx(),[l,c]=A.useState(!1),[u]=Be(wb),d=async()=>{var g,m;s(!0);try{!voe()&&u&&(await document.body.requestFullscreen(),global.screen.orientation.unlock(),await((m=(g=global.screen.orientation).lock)==null?void 0:m.call(g,"portrait")))}catch(_){console.warn(_)}},h=o==="connected",p=f.jsx(IT,{isVisible:!0,isMicOn:t,isConnected:h});return f.jsx(_le,{children:f.jsxs(rh,{showImages:!1,fallback:f.jsxs(f.Fragment,{children:[p,f.jsx("h2",{children:"Please allow access to the microphone."})]}),children:[f.jsxs(TT,{collapse:l,children:[f.jsx(IT,{isVisible:!0,isMicOn:t,isConnected:h}),f.jsx(Zoe,{roomId:e,isVisible:!0,connectionStatus:o,onConnect:d,connectionError:i})]}),f.jsxs(TT,{children:[a==="write"&&f.jsx(Qae,{onSearchStateChange:c}),a==="read"&&f.jsxs(wle,{"data-test":"no-permissions-message",children:["No permission to control the game. Go to in-game ",f.jsx("strong",{children:"Settings"})," menu ➔"," ",f.jsx("strong",{children:"Remote Microphones Settings"})," to manage them."]}),f.jsxs(RT,{onClick:()=>s(!r),children:["WakeLock: ",f.jsx("strong",{children:r?"ON":"OFF"})]}),f.jsxs(xL,{onClick:()=>t?Xs.stopMonitoring():Xs.startMonitoring(void 0),children:["Microphone: ",f.jsx("strong",{"data-test":"monitoring-state",children:t?"ON":"OFF"})]}),h&&f.jsxs(RT,{children:["Ping: ",f.jsx(yle,{})]})]})]})})}const _le=C("div")({name:"Container",class:"c1g6xqiu",propsAsIs:!1}),ble=()=>e=>e.collapse?"-100%":"0",TT=C("div")({name:"Panel",class:"ppv2yx2",propsAsIs:!1,vars:{"ppv2yx2-0":[ble()]}}),xL=C("div")({name:"MicInputState",class:"m3za62v",propsAsIs:!1}),Sle=()=>xL,RT=C(Sle())({name:"KeepAwake",class:"k126qtfd",propsAsIs:!0}),wle=C("h5")({name:"NoPermissionsMsg",class:"nsi55uu",propsAsIs:!1});function xle({onConfirm:e}){const[t,n]=A.useState(!1),[r,s]=A.useState(!1);A.useEffect(()=>{$e.session.getItem("reload-mic-request")!==null&&s(!0)},[]),cs(te.remoteMicPlayerSet,()=>{r&&(s(!1),n(!0))}),cs(te.remoteReadinessRequested,()=>{n(!0)});const i=()=>{Sn.confirmReadiness(),n(!1),e()};return t?f.jsx(Ele,{children:f.jsx(yi,{children:f.jsx(Cle,{"data-test":"ready-button",onClick:i,children:"Ready"})})}):null}const Ele=C("div")({name:"Form",class:"f1rkuh4t",propsAsIs:!1}),kle=()=>Te,Cle=C(kle())({name:"ReadyButton",class:"r1n102gf",propsAsIs:!0});function EL({unit:e="",value:t,onChange:n,step:r=50,disabled:s=!1,...i}){return f.jsxs(Tle,{...i,children:[f.jsx(MT,{onClick:()=>n(t-r),disabled:s,"data-test":"numeric-input-down",children:"-"}),f.jsxs(Ile,{children:[f.jsx("strong",{"data-test":"numeric-input-value",children:t}),e]}),f.jsx(MT,{onClick:()=>n(t+r),disabled:s,"data-test":"numeric-input-up",children:"+"})]})}const MT=C("button")({name:"Button",class:"b1lyw5z5",propsAsIs:!1}),Ile=C("div")({name:"Value",class:"vxxerf1",propsAsIs:!1}),Tle=C("div")({name:"Container",class:"c18uu766",propsAsIs:!1});function Rle({}){const[e,t]=A.useState(0),[n,r]=A.useState(!1);A.useEffect(()=>{r(!0),Sn.getGameInputLag().then(({value:i})=>t(i)).catch(i=>console.warn(i)).finally(()=>r(!1))},[]);const s=i=>{r(!0),Sn.setGameInputLag(i).then(({value:o})=>t(o)).catch(o=>console.warn(o)).finally(()=>r(!1))};return f.jsxs(f.Fragment,{children:[f.jsx("h3",{children:"Adjust game input lag"}),f.jsx(EL,{value:e,onChange:s,disabled:n,unit:"ms","data-test":"game-input-lag"}),f.jsx("h6",{children:"If the sound is not synchronised with the lyrics, use this to compensate it."})]})}function Mle(e){A.useEffect(()=>(Sn.subscribe("remote-mics"),()=>{Sn.unsubscribe("remote-mics")}),[]);const[t]=Hi(te.remoteMicListUpdated)??[[]];return f.jsxs(f.Fragment,{children:[f.jsx("h3",{children:"Manage Players"}),t.map(n=>f.jsx(Ple,{mic:n},n.id)),t.length===0&&f.jsx("h4",{children:"No remote microphones connected"})]})}const Ple=({mic:e})=>{var r;const[t,n]=A.useState(!1);return Xe.getPermission(e.id),f.jsxs(jle,{"data-test":"manage-players",children:[t&&f.jsx(SL,{id:e.id,playerNumber:e.number,onModalClose:()=>n(!1),header:f.jsxs(f.Fragment,{children:["Change ",f.jsx("strong",{className:"ph-no-capture",children:e.name}),":"]})}),f.jsxs(Vle,{onClick:()=>n(!0),"data-test":"remote-mic-entry","data-id":e.id??e.name,size:"small",children:[f.jsx(wL,{number:e.number}),f.jsx(Ble,{children:((r=e.id)==null?void 0:r.slice(-4))??"????"}),f.jsx($le,{className:"ph-no-capture",isSelf:e.id===Sn.getClientId(),children:e.name})]})]})},jle=C("div")({name:"Container",class:"cgef2rq",propsAsIs:!1}),Ole=()=>Te,Vle=C(Ole())({name:"RemoteMicEntry",class:"rr1tsa5",propsAsIs:!0}),Lle=()=>e=>e.isSelf?`${Ye.colors.text.active}`:"auto",$le=C("div")({name:"RemoteMicName",class:"r1c728hj",propsAsIs:!1,vars:{"r1c728hj-0":[Lle()]}}),Ble=C("span")({name:"RemoteMicId",class:"r187t3n0",propsAsIs:!1});function PT(){const[e,t]=Be(GP),[n,r]=A.useState(!1);A.useEffect(()=>{r(!0),Sn.getMicrophoneInputLag().then(({value:o})=>t(o)).catch(o=>console.warn(o)).finally(()=>r(!1))},[]);const s=o=>{r(!0),Sn.setMicrophoneInputLag(o).then(({value:a})=>t(a)).catch(a=>console.warn(a)).finally(()=>r(!1))},i=()=>{var o;Sn.disconnect(),$e.local.removeItem("remote_mic_name"),$e.local.removeItem(r1),(o=global.location)==null||o.reload()};return f.jsxs(f.Fragment,{children:[f.jsx(Te,{onClick:i,size:"small","data-test":"reset-microphone",children:"Reset microphone"}),f.jsxs("h6",{children:[f.jsx("strong",{children:"Note:"})," removes all persisted microphone data (your name, ID etc.)"]}),f.jsx("hr",{}),f.jsx("h3",{children:"Adjust microphone lag"}),f.jsx(EL,{value:e,onChange:s,unit:"ms",disabled:n,step:25,"data-test":"microphone-delay"}),f.jsx("h6",{children:"Adjust the microphone input delay (e.g. if the game doesn't detect you hitting the note on time)"})]})}function Nle(){var r;const e=mx(),[t,n]=A.useState(e==="write"?null:"microphone");return f.jsxs(Dle,{children:[f.jsxs("h3",{children:["Remote mic ID:"," ",f.jsx("strong",{"data-test":"remote-mic-id",children:((r=Sn.getClientId())==null?void 0:r.slice(-4).toUpperCase())??"----"})]}),f.jsx("hr",{}),e==="write"&&t===null&&f.jsxs(f.Fragment,{children:[f.jsx(Te,{onClick:()=>n("microphone"),size:"small","data-test":"microphone-settings",disabled:t==="microphone",children:"Microphone settings"}),f.jsx(Te,{onClick:()=>n("manage"),size:"small","data-test":"manage-game",disabled:t==="manage",children:"Manage the game"})]}),e!=="write"&&f.jsx(PT,{}),t!==null&&e==="write"&&f.jsx(bu,{onClose:()=>n(null),children:f.jsxs(yi,{children:[f.jsx(Fle,{children:t==="microphone"?"Microphone settings":"Manage game"}),t==="microphone"&&f.jsx(PT,{}),t==="manage"&&f.jsxs(f.Fragment,{children:[f.jsx(Mle,{}),f.jsx(Rle,{})]}),f.jsx("hr",{}),f.jsx(Te,{onClick:()=>n(null),size:"small","data-test":"close-modal",children:"Close"})]})})]})}const Dle=C("div")({name:"Container",class:"c1dkl44f",propsAsIs:!1}),Fle=C("h1")({name:"ModalHeader",class:"m913uj3",propsAsIs:!1});var Ule="__lodash_hash_undefined__";function zle(e){return this.__data__.set(e,Ule),this}function Hle(e){return this.__data__.has(e)}function xf(e){var t=-1,n=e==null?0:e.length;for(this.__data__=new xo;++t<n;)this.add(e[t])}xf.prototype.add=xf.prototype.push=zle;xf.prototype.has=Hle;function Gle(e,t){for(var n=-1,r=e==null?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}function kL(e,t){return e.has(t)}var qle=1,Wle=2;function CL(e,t,n,r,s,i){var o=n&qle,a=e.length,l=t.length;if(a!=l&&!(o&&l>a))return!1;var c=i.get(e),u=i.get(t);if(c&&u)return c==t&&u==e;var d=-1,h=!0,p=n&Wle?new xf:void 0;for(i.set(e,t),i.set(t,e);++d<a;){var g=e[d],m=t[d];if(r)var _=o?r(m,g,d,t,e,i):r(g,m,d,e,t,i);if(_!==void 0){if(_)continue;h=!1;break}if(p){if(!Gle(t,function(v,y){if(!kL(p,y)&&(g===v||s(g,v,n,r,i)))return p.push(y)})){h=!1;break}}else if(!(g===m||s(g,m,n,r,i))){h=!1;break}}return i.delete(e),i.delete(t),h}function Kle(e){var t=-1,n=Array(e.size);return e.forEach(function(r,s){n[++t]=[s,r]}),n}function vx(e){var t=-1,n=Array(e.size);return e.forEach(function(r){n[++t]=r}),n}var Yle=1,Qle=2,Jle="[object Boolean]",Xle="[object Date]",Zle="[object Error]",ece="[object Map]",tce="[object Number]",nce="[object RegExp]",rce="[object Set]",sce="[object String]",ice="[object Symbol]",oce="[object ArrayBuffer]",ace="[object DataView]",jT=$s?$s.prototype:void 0,jA=jT?jT.valueOf:void 0;function lce(e,t,n,r,s,i,o){switch(n){case ace:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case oce:return!(e.byteLength!=t.byteLength||!i(new Ig(e),new Ig(t)));case Jle:case Xle:case tce:return Ym(+e,+t);case Zle:return e.name==t.name&&e.message==t.message;case nce:case sce:return e==t+"";case ece:var a=Kle;case rce:var l=r&Yle;if(a||(a=vx),e.size!=t.size&&!l)return!1;var c=o.get(e);if(c)return c==t;r|=Qle,o.set(e,t);var u=CL(a(e),a(t),r,s,i,o);return o.delete(e),u;case ice:if(jA)return jA.call(e)==jA.call(t)}return!1}var cce=1,uce=Object.prototype,dce=uce.hasOwnProperty;function fce(e,t,n,r,s,i){var o=n&cce,a=s1(e),l=a.length,c=s1(t),u=c.length;if(l!=u&&!o)return!1;for(var d=l;d--;){var h=a[d];if(!(o?h in t:dce.call(t,h)))return!1}var p=i.get(e),g=i.get(t);if(p&&g)return p==t&&g==e;var m=!0;i.set(e,t),i.set(t,e);for(var _=o;++d<l;){h=a[d];var v=e[h],y=t[h];if(r)var b=o?r(y,v,h,t,e,i):r(v,y,h,e,t,i);if(!(b===void 0?v===y||s(v,y,n,r,i):b)){m=!1;break}_||(_=h=="constructor")}if(m&&!_){var w=e.constructor,S=t.constructor;w!=S&&"constructor"in e&&"constructor"in t&&!(typeof w=="function"&&w instanceof w&&typeof S=="function"&&S instanceof S)&&(m=!1)}return i.delete(e),i.delete(t),m}var hce=1,OT="[object Arguments]",VT="[object Array]",rp="[object Object]",pce=Object.prototype,LT=pce.hasOwnProperty;function gce(e,t,n,r,s,i){var o=Bs(e),a=Bs(t),l=o?VT:Xd(e),c=a?VT:Xd(t);l=l==OT?rp:l,c=c==OT?rp:c;var u=l==rp,d=c==rp,h=l==c;if(h&&Cg(e)){if(!Cg(t))return!1;o=!0,u=!1}if(h&&!u)return i||(i=new Bi),o||u3(e)?CL(e,t,n,r,s,i):lce(e,t,l,n,r,s,i);if(!(n&hce)){var p=u&&LT.call(e,"__wrapped__"),g=d&&LT.call(t,"__wrapped__");if(p||g){var m=p?e.value():e,_=g?t.value():t;return i||(i=new Bi),s(m,_,n,r,i)}}return h?(i||(i=new Bi),fce(e,t,n,r,s,i)):!1}function yx(e,t,n,r,s){return e===t?!0:e==null||t==null||!ho(e)&&!ho(t)?e!==e&&t!==t:gce(e,t,n,r,yx,s)}var mce=1,vce=2;function yce(e,t,n,r){var s=n.length,i=s,o=!r;if(e==null)return!i;for(e=Object(e);s--;){var a=n[s];if(o&&a[2]?a[1]!==e[a[0]]:!(a[0]in e))return!1}for(;++s<i;){a=n[s];var l=a[0],c=e[l],u=a[1];if(o&&a[2]){if(c===void 0&&!(l in e))return!1}else{var d=new Bi;if(r)var h=r(c,u,l,e,t,d);if(!(h===void 0?yx(u,c,mce|vce,r,d):h))return!1}}return!0}function IL(e){return e===e&&!pi(e)}function Ace(e){for(var t=zf(e),n=t.length;n--;){var r=t[n],s=e[r];t[n]=[r,s,IL(s)]}return t}function TL(e,t){return function(n){return n==null?!1:n[e]===t&&(t!==void 0||e in Object(n))}}function _ce(e){var t=Ace(e);return t.length==1&&t[0][2]?TL(t[0][0],t[0][1]):function(n){return n===e||yce(n,e,t)}}function bce(e,t,n){var r=e==null?void 0:yS(e,t);return r===void 0?n:r}function Sce(e,t){return e!=null&&t in Object(e)}function wce(e,t,n){t=ov(t,e);for(var r=-1,s=t.length,i=!1;++r<s;){var o=Hf(t[r]);if(!(i=e!=null&&n(e,o)))break;e=e[o]}return i||++r!=s?i:(s=e==null?0:e.length,!!s&&eS(s)&&nS(o,s)&&(Bs(e)||lS(e)))}function xce(e,t){return e!=null&&wce(e,t,Sce)}var Ece=1,kce=2;function Cce(e,t){return mS(e)&&IL(t)?TL(Hf(e),t):function(n){var r=bce(n,e);return r===void 0&&r===t?xce(n,e):yx(t,r,Ece|kce)}}function Ice(e){return function(t){return t==null?void 0:t[e]}}function Tce(e){return function(t){return yS(t,e)}}function Rce(e){return mS(e)?Ice(Hf(e)):Tce(e)}function Mce(e){return typeof e=="function"?e:e==null?E3:typeof e=="object"?Bs(e)?Cce(e[0],e[1]):_ce(e):Rce(e)}function Pce(e,t,n,r){for(var s=e.length,i=n+(r?1:-1);r?i--:++i<s;)if(t(e[i],i,e))return i;return-1}function jce(e){return e!==e}function Oce(e,t,n){for(var r=n-1,s=e.length;++r<s;)if(e[r]===t)return r;return-1}function Vce(e,t,n){return t===t?Oce(e,t,n):Pce(e,jce,n)}function Lce(e,t){var n=e==null?0:e.length;return!!n&&Vce(e,t,0)>-1}function $ce(e,t,n){for(var r=-1,s=e==null?0:e.length;++r<s;)if(n(t,e[r]))return!0;return!1}function Bce(){}var Nce=1/0,Dce=wc&&1/vx(new wc([,-0]))[1]==Nce?function(e){return new wc(e)}:Bce,Fce=200;function RL(e,t,n){var r=-1,s=Lce,i=e.length,o=!0,a=[],l=a;if(n)o=!1,s=$ce;else if(i>=Fce){var c=t?null:Dce(e);if(c)return vx(c);o=!1,s=kL,l=new xf}else l=t?[]:a;e:for(;++r<i;){var u=e[r],d=t?t(u):u;if(u=n||u!==0?u:0,o&&d===d){for(var h=l.length;h--;)if(l[h]===d)continue e;t&&l.push(d),a.push(u)}else s(l,d,n)||(l!==a&&l.push(d),a.push(u))}return a}function Uce(e,t){return e&&e.length?RL(e,Mce(t)):[]}const zce="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='810'%20height='540'%3e%3crect%20width='810'%20height='540'%20fill='%23FCDD09'/%3e%3cpath%20stroke='%23DA121A'%20stroke-width='60'%20d='M0,90H810m0,120H0m0,120H810m0,120H0'/%3e%3c/svg%3e";function Hce(){const e=new Intl.DisplayNames(["en"],{type:"language"}),t={};for(let r=0;r<26;r++)for(let s=0;s<26;s++){let i=String.fromCharCode(97+r)+String.fromCharCode(97+s),o=e.of(i);o!==i&&o!==void 0&&(t[o]=i)}return{...t,...{Akan:"ak",Hebrew:"he",Indonesian:"id",Javanese:"jv",Romanian:"ro",Yiddish:"yi",Tagalog:"tl",English:"gb",Korean:"kr",Swedish:"se",Latin:"va",Japanese:"jp",Catalan:"cat",Ukrainian:"ua"}}}const Gce=Hce();function ML(e){return Gce[e]}const qce=Object.assign({"./Flag/flags/cat.svg":zce}),Pc=e=>{var i;const[t,n]=A.useState(null),r="isocode"in e?(i=e.isocode)==null?void 0:i.toLowerCase():ML(Array.isArray(e.language)?e.language[0]:e.language);if(A.useLayoutEffect(()=>{r&&n(null)},[r]),!r)return null;const s=qce[`./Flag/flags/${r}.svg`];return f.jsx(Wce,{"data-isocode":r,src:s??`https://flagcdn.com/${t??r}.svg`,alt:r,...e,onError:()=>n("un")})},Wce=C("img")({name:"Img",class:"iy7vxk3",propsAsIs:!1});function oh(e=!1){const[t,n]=A.useState(zi.getCurrentIndex()),r=A.useRef([]),s=()=>zi.getIndex(e).then(n);return A.useEffect(()=>{s()},[]),{data:t??r.current,reload:s,isLoading:t===null}}function Kce({roomId:e,monitoringStarted:t,setMonitoringStarted:n,isKeepAwakeOn:r,setIsKeepAwakeOn:s,connectionError:i,connectionStatus:o}){const a=oh(),[l,c]=A.useState();A.useEffect(()=>{o==="connected"&&l===void 0&&Sn.getSongList().then(c).catch(console.warn)},[l,o]);const u=A.useMemo(()=>Uce(a.data.map(d=>({...d,id:zi.generateSongFile(d)})).filter(d=>!((l==null?void 0:l.deleted)??[]).includes(d.id)).map(d=>({id:d.id,artist:d.artist,title:d.title,video:d.video,language:d.language})).concat(...((l==null?void 0:l.custom)??[]).map(d=>({...d,id:zi.generateSongFile(d)}))),d=>d.id),[a.data,l]);return f.jsx(Yce,{children:u.map(d=>f.jsxs(Qce,{"data-test":d.id,children:[f.jsx(Jce,{children:f.jsx(Pc,{language:d.language})}),f.jsxs(Xce,{children:[f.jsx(eue,{children:d.title}),f.jsx(Zce,{children:d.artist})]})]},`${d.artist}-${d.title}`))})}const Yce=C("div")({name:"Container",class:"c6hmk1",propsAsIs:!1}),Qce=C("div")({name:"SongItemContainer",class:"stj1ub1",propsAsIs:!1}),Jce=C("div")({name:"Language",class:"lsheg9i",propsAsIs:!1}),Xce=C("div")({name:"ArtistTitle",class:"apsw76a",propsAsIs:!1}),Zce=C("span")({name:"Artist",class:"ais9ikb",propsAsIs:!1}),eue=C("span")({name:"Title",class:"t10w60b4",propsAsIs:!1}),sp=new rJ;function tue(){const e=lv("room"),[t]=Hi(te.remoteStyleChanged,!0)??["regular"];A.useLayoutEffect(()=>{IP(t)},[t]),pa(!0,t);const[n,r]=A.useState("microphone"),[s,i]=Hi(te.karaokeConnectionStatusChange)??["uninitialised"],[o,a]=A.useState(!1);cs(te.micMonitoringStarted,()=>a(!0)),cs(te.micMonitoringStopped,()=>a(!1));const[l,c]=A.useState(!1),u=async h=>{try{h&&!sp.isEnabled?await sp.enable():!h&&sp.isEnabled&&await sp.disable(),c(h)}catch(p){console.warn("Couldn't set wakelock",p)}},d=()=>{u(!0)};return f.jsxs(To,{children:[f.jsx(xle,{onConfirm:d}),f.jsx(pJ,{size:10}),f.jsx(rue,{id:"phone-ui-container",children:f.jsxs(f.Fragment,{children:[n==="microphone"&&f.jsx(Ale,{roomId:e,monitoringStarted:o,setMonitoringStarted:a,connectionStatus:s,setIsKeepAwakeOn:c,isKeepAwakeOn:l,connectionError:i}),n==="song-list"&&f.jsx(Kce,{roomId:e,monitoringStarted:o,setMonitoringStarted:a,connectionStatus:s,setIsKeepAwakeOn:c,isKeepAwakeOn:l,connectionError:i}),n==="settings"&&f.jsx(Nle,{}),f.jsx(nue,{}),f.jsx(roe,{setActiveTab:r,active:n})]})})]})}const nue=C("div")({name:"BottomBarFiller",class:"b6knjg3",propsAsIs:!1}),rue=C("div")({name:"Container",class:"cb8lyq2",propsAsIs:!1}),sue="data:image/gif;base64,R0lGODlhiQAzAOflAAABAAYAAAACAAcAAAkBAAoDAQsEAxAFABEHABIIABMKABgJAhQLAhsLABwNACANAR0OACEOAyMPACMQACcPACgQASgRAioSACsTACwTACwUAC8WAC4WAzAWADQVADUXATYYAjgYADkZADoaADobAD8aAzscAUEbAD4dAEMdAEUeAkAgAEYfAEUfA0ghAE4hAksjAU8iAFEjAFIkAFMlAFQmAVsmAFcoAFwnAF0oAF8qAmEqAGIrAGMsAGksAWUuAGotAmAwDWwuAGsuA20vAF0zDm4wAG8xAHEyAHIzAXgyAHM0AnU1AHo0AHY2AHw1AH43AIA5AoE6AIM7AIQ8AIk7AIU9AIs8AIc+AIw9AI0+AY4+ApFAAJJBAJNCAJRDAJpCAZVEAJtDAp1EAJxEA55FAKBHAKFIAKJJAKhIAaRKAKVLAKtKAKxLAI5RI5BRJK9NALBOALFPALJQALNRALlQBLtRALxSAL1TAL9UAMFWAMJXAMRYArlbCsZZAMVZA8xYAMhaAM9aANFcAdNdAtVfAMpiDddgAN1fANhhAN9hANljAOFiAeNkAOJkA91mAONlBN5nAdhoDeVmAOdoAO5mAOJqB+9nAOlpAPBpAfFqA654SvNrAOduDvRsAPZtAN5yGONxGvduANh0IPFwB/hvAOtxE+B0Gt90I/lwAOxyFPNxCu5zBud0EvRyANt2Is54Ndp2Krt8S+B1JM95L9V4Ked0HeF2G/txAO1zFvRyDOh1E9x3I895NtV4ML19Rsp7NcN8Qbx9TMl7O8J8R9Z5Kq6AW8h7QrZ/ULh/S7V/VsV9O75+R8t8NsR9QqmCYKeCZpqFcLGBVq+BXJGHe4+HgbeAUaOEZqGEbLaAV6CEcauDXKqDYZuGcZmGd42Ih5KIfJCIgpSId4iKh4uKgv///////////////////////////////////////////////////////////////////////////////////////////////////////////yH5BAEIAP8ALAAAAACJADMAAAj+AP8JHEiwoMGDCBMqXMiwocOHECMSHEexosWLGDNq3Mixo8ePIDtKHPhtGK6TKFOqXInrGcuXMGPKnEmzpspU40YKHBdryICfQIMKFVpHFq6hSJOWSMq0qdOnUH8S8PRN579vrFwI2Mq1q9euALbAwvW1bFkAI8yqXcsWbFu1AArgyqkTHK4Ib8v+sEU279cSfgO3HSAYLFWd35RNKryVAIZUfQujZUy5stu5OsfxCkMZgABFNkOLHk065eGR13ClsBxllbdvsL8h04N0S6/YuIXVifrzyu1vsnbz9g1bt1ANqWDbwiHUd0Wd0PR4rozgUbiB43qRKdtDFV3sxbD+BNbBiiKtLoF7tKLoS3zXAqKwkXMFwquOXFWtpsYF5WsClX6UpQcuroAzUDWr5FDWBLhg89034aQiQ2ARNBgOKTf4BUAFuHgTIQ1dDQCAH8dM8wkBXjHooFWwBdOfVwmsEhs2gJTlh4P5/ROMJgicBUgsOY4zDCaCAQAIL8m40mNgg9CyDCYGfPWEK62c4RUARgJp1VUu+rcKXdgE+BUg2BTETBRmAeBCLA8Ow0SRKsQCyxaBEUCADry4+ZVni7SCAVhYxvndSN8Q82JXMeZHo4DQFBQMLpQIiMsoOX5zDC5iclVCSkZ4BQYuvADzA1cIgNEIBF4tkgaqnqWAijP+J6HJFQ246BIKLrJuRSuoOY40TpchGqALmJlyBYAeZU5kjR5lddELRdh9E6ZXJcwC2zCddgWGMt/A8skEAgyQxyqsoMrVAJioMkgBAjCACS/jfBOMIMYykAo21aQC2FYAqFHMN9BaNY6hXzEgI0WLfoVsQZaKUZYOp/QqUMJcoTALRdh6FQYy45BjChgCuJDKNbng1RUn2qSSIRarhFNVN3cZC4gwz2jiVSXTSOwrsF0JK+0woBTLFZkFjVPMEmV5UAo5Bk17rgnWCpntVgNs+8841mACQBdAmmIuV5iE40saAAzCDF3j7HKEsVjkOcfTuFy35U4Ee2UwLZj+8MH+nnpcU7QpE3pFmCfaNF1jVylcXNLUAgAABjICRRiBHMlgZTJXl4CzjR8G4NINScPg0ZUKnqhtLBjwzr0Tz1wJq0kOKJq18ESuVHCWHxwX5DS/UAuzSyqMOw75VbugYAg037Ty9VaYeIONJRsMS9I1qSy5lSa4/MmvIskMKnDdXTFQCQeNq/WH3wRF80lZIpoxjMQUb1XtJ1eA66kyO51SBCrdWO7VJeEIxy2CYItejYMUODCWHhoxHQF4oEOqW92huhICtgxgdgPhxiL25JkhXEx3QjMBJUhwlscJ5Bu0cAMt4lUusGACHChU4aBQCIdwYckJZuhKFE7hve9NsDH+hPnKB6IwB0VkAhfoo1sNzUICV8DvcFQDgQgAEESN4e8qwthE975histthRPgGEcWhWHAbVyCXZ4hAYi4Mghi6CwzrOOXVwjQg0XgwhbMeIaHBjUOWFxBLQZIxecIsrtwyZFqLwjDIDCRiuH9bXkCuIQ3FEKOVLjAMwMoQAK4UqFBRnBgP/wKDBaRClh4I2AG+cYpdPAerxBiGoOK31dUMIhUxMIa2qDGG/3XlUbIDSHfqAXIyrIE/ERQgmopgBlwUYtT9nAiuiAhV0bFFQKk4RixFFpXmJAKXvTvmSRR3rkE8EKFyCZSX7mgM8DpK/B5BQF/SAW32DmQcOBiAV3+SYP2GrcEXvRKll2hwSe8CTBzsuJyVOTELxECDlHUx26pQN4xrxZHroxrRQ25Bjq5kggfjO5LhNTmuUggCFsioxthPAhWvuaZzC1kHKegguB6UJ6JXs2dXImCK6BBz4lIg1lcKcAn1HAuBpRikgMBaIgEAANFVsITslBpF70StoUUil5ekcNtbPqrUCIgFcx4IzCdkUOuiMAVjQBLI54RUq98IC3GEhEACLCxg4zDazcz0EK0cU+waIIbPY0IKAt2GofwJAld+cEpcGE/Ec2BGN+RpQkqsRpj8YsMV2TYQUNU1ZeuApK4EKvA4ggAYQV2IqoIXOPAkApNsLJxAKD+ApuSWqwBmGAUougCBqq4WkcSJHmQrIReDbo8AmCGqzhtly5Ea1dX2I9fBmCA9QQQg1bkSJaJk0UrgGdFlW72XJ01Z8nAElqbUnSChDEtRLyRitgZq4FbqdAvCwmAEvhTaiEyYSpb2BXhMmQc/KXacRuykaIl12DMNcg2EPEWAFyCrROD4lagdi3GCSAMmf3tVMG7UGBumF/l/W9iZqEJT5g4F8dIKXYqql6HfCMZcmgwHYRBrK4Q4LYAy9i59PvIvP4Xr+cacELGEQ5epGINKDCAASywBEzkgqfYObCMHtLHP3IlCSlZG1e6QAtFSbi+UdMxVzDsXS+iq8Nl9kr+iM0Zi0yoAL4DWIAePHFKZHqlxQQeRQ+09b6SOMyGOlgPwkJ4XzGH63GovApw80pP2IgzyIk2yDikkYoVYIkAVAyiAQpxi/wM1m5T/m+8dGGCrszBGhRRRrE0QJVupULCA9iULnKBCwuHoRQFJMh+zIyJUkQ1IbtWMy4ynEpbkAFLsMVk40yAi2jYuWfSY4ilTsIAYx0iF7k4BSkyYSyh4iIWwNiz4AiwiE5AcgAEAAEPdX2HstDVtwaBRh3SOYAxwLsglXxo+cBCgEHgjyJSLqhVh7GEnxgLAhGQBCg2UO24qoAXvdjglW6Qily4Byx0sBZBoIGLUoeIAZ4gdkH+XLI3r0BAFCInCDVEARcqhuEX/4DGME4RSgN4YhjCkPYyzhgiACyBFacg6lf+wAv2ltyQ1qSFMCTulVQAdiKn8MKVgBBthMDUysYyQk0TEo6NpukKOcdGH36wAf/84Aowt2o4XLFGOQLiGMrIhHu3wiFtwNTCAqDENtjbcK6koGUMs8YgrmQGYDD3G8LQZhrepxBqrI8tYoD5NUzxXGOhKA05NydFakGnpuPLFUdv3A92ca0/kyoV4vgGKSrLLyPAyyKw6cbjZSYNj2Bj9myEZUZIkorQl6UQ+PuGKmS6JwjgYhtWPUkq3taVDaQkgTpMSbu7woGUZKgrV4hJFZ7+wH3uY6ImqaBC95/gBMisJDnYOcV21IKCZl/tF4lgnxFI0dNx4AK+VEM2b8NFgJ9Ik978dyVDkWlyhSUGCBWNU4AEiBQ4QRLWkAqs906C8EH/wF749BVrwHjmRBb7J0f41xX7AheWkRdUlCZ7UlhXMwqXEIFbgQB6oAt1dhWkoALpNAiwlHwmuBaTMYKScSUaIgBCBiGjkApmsAIIUAAVwASUoAvXUCm8gHdAiFQbWBkhyIOB0YEkaHMSQxHSgAqrkAqukAqt4AzVMEPLABOB9Q2lgQvmt4Zu+IbPBBvxghsSQ4d0GC8iZod6qIdzuId++IeAGBt9GIh22IfmdYgGiJiIEBEQADs=",iue="/prs/275/assets/logo-1e2sNsQM.mp4",oue="/prs/275/assets/logo-CDt7pIML.webm",aue="/prs/275/assets/pride-CMcO3nTB.png";var nM;(nM=global.location)!=null&&nM.search.includes("pride")&&$e.session.setItem("pride","true");function Ax(e){const[t]=Be(ur);return t?null:f.jsxs(lue,{children:[$e.session.getItem("pride")==="true"&&f.jsx(uue,{as:"img",src:aue,alt:"AllKaraoke Pride logo part 1"}),f.jsxs(PL,{...e,autoPlay:!0,loop:!0,muted:!0,playsInline:!0,children:[f.jsx("source",{src:oue,type:"video/webm"}),f.jsx("source",{src:iue,type:"video/mp4"})]}),f.jsx(due,{src:sue,alt:"AllKaraoke Pride logo part 2"})]})}const PL=C("video")({name:"StyledLogo",class:"s16svnoy",propsAsIs:!1}),lue=C("div")({name:"Container",class:"cjj8un5",propsAsIs:!1}),cue=()=>PL,uue=C(cue())({name:"PrideLogo",class:"pklepv9",propsAsIs:!0}),due=C("img")({name:"DotParty",class:"ds08a1s",propsAsIs:!1});function _x(){return"chrome"in window}function fue(){return f.jsx(f.Fragment,{children:!_x()&&f.jsxs(hue,{children:[f.jsxs("h2",{children:["This game is tested in ",f.jsx("strong",{children:"Google Chrome"})," and ",f.jsx("strong",{children:"MS Edge"}),"."]}),"It's not guaranteed to work on other browsers (like the one you use now)."]})})}const hue=C("div")({name:"RecommendChrome",class:"r1xvczfj",propsAsIs:!1});function jL(){return f.jsx(f.Fragment,{children:f.jsx(pue,{href:"https://github.com/Asvarox/allkaraoke","aria-label":"View source on GitHub",target:"_blank",rel:"noreferrer",children:f.jsxs("svg",{width:"80",height:"80",viewBox:"0 0 250 250",style:{fill:"#151513",color:"#fff",position:"absolute",top:0,border:0,left:0,transform:"scale(-1, 1)"},"aria-hidden":"true",children:[f.jsx("path",{d:"M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"}),f.jsx("path",{d:"M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2",fill:"currentColor",style:{transformOrigin:"13rem 10.6rem"},className:"octo-arm"}),f.jsx("path",{d:"M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z",fill:"currentColor",className:"octo-body"})]})})})}const pue=C("a")({name:"Ribbon",class:"rymr0vp",propsAsIs:!1});function ya({children:e,supportedBrowsers:t}){return pa(!0),f.jsxs(To,{children:[f.jsx(jL,{}),f.jsxs(gue,{children:[f.jsx(Ax,{}),t&&f.jsx(fue,{}),f.jsx(yi,{children:e})]})]})}const gue=C("div")({name:"Container",class:"cxenid8",propsAsIs:!1});function Aa(e){const[t]=Be(Lm),[n]=Be(Sb),r=t==="christmas"?s3:n==="Classic"?r3:n3;A.useEffect(()=>{e?r.playing()||r.play(!1):r.stop()},[e])}function mue(e){return e&&typeof e=="object"&&"default"in e?e.default:e}var OL=A,vue=mue(OL);function $T(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function yue(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var Aue=!!(typeof window<"u"&&window.document&&window.document.createElement);function _ue(e,t,n){if(typeof e!="function")throw new Error("Expected reducePropsToState to be a function.");if(typeof t!="function")throw new Error("Expected handleStateChangeOnClient to be a function.");if(typeof n<"u"&&typeof n!="function")throw new Error("Expected mapStateOnServer to either be undefined or a function.");function r(s){return s.displayName||s.name||"Component"}return function(i){if(typeof i!="function")throw new Error("Expected WrappedComponent to be a React component.");var o=[],a;function l(){a=e(o.map(function(u){return u.props})),c.canUseDOM?t(a):n&&(a=n(a))}var c=function(u){yue(d,u);function d(){return u.apply(this,arguments)||this}d.peek=function(){return a},d.rewind=function(){if(d.canUseDOM)throw new Error("You may only call rewind() on the server. Call peek() to read the current state.");var g=a;return a=void 0,o=[],g};var h=d.prototype;return h.UNSAFE_componentWillMount=function(){o.push(this),l()},h.componentDidUpdate=function(){l()},h.componentWillUnmount=function(){var g=o.indexOf(this);o.splice(g,1),l()},h.render=function(){return vue.createElement(i,this.props)},d}(OL.PureComponent);return $T(c,"displayName","SideEffect("+r(i)+")"),$T(c,"canUseDOM",Aue),c}}var bue=_ue;const Sue=cr(bue);var wue=typeof Element<"u",xue=typeof Map=="function",Eue=typeof Set=="function",kue=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function Kp(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;var n,r,s;if(Array.isArray(e)){if(n=e.length,n!=t.length)return!1;for(r=n;r--!==0;)if(!Kp(e[r],t[r]))return!1;return!0}var i;if(xue&&e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(i=e.entries();!(r=i.next()).done;)if(!t.has(r.value[0]))return!1;for(i=e.entries();!(r=i.next()).done;)if(!Kp(r.value[1],t.get(r.value[0])))return!1;return!0}if(Eue&&e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(i=e.entries();!(r=i.next()).done;)if(!t.has(r.value[0]))return!1;return!0}if(kue&&ArrayBuffer.isView(e)&&ArrayBuffer.isView(t)){if(n=e.length,n!=t.length)return!1;for(r=n;r--!==0;)if(e[r]!==t[r])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf&&typeof e.valueOf=="function"&&typeof t.valueOf=="function")return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString&&typeof e.toString=="function"&&typeof t.toString=="function")return e.toString()===t.toString();if(s=Object.keys(e),n=s.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!Object.prototype.hasOwnProperty.call(t,s[r]))return!1;if(wue&&e instanceof Element)return!1;for(r=n;r--!==0;)if(!((s[r]==="_owner"||s[r]==="__v"||s[r]==="__o")&&e.$$typeof)&&!Kp(e[s[r]],t[s[r]]))return!1;return!0}return e!==e&&t!==t}var Cue=function(t,n){try{return Kp(t,n)}catch(r){if((r.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw r}};const Iue=cr(Cue);/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var BT=Object.getOwnPropertySymbols,Tue=Object.prototype.hasOwnProperty,Rue=Object.prototype.propertyIsEnumerable;function Mue(e){if(e==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}function Pue(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de",Object.getOwnPropertyNames(e)[0]==="5")return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;var r=Object.getOwnPropertyNames(t).map(function(i){return t[i]});if(r.join("")!=="0123456789")return!1;var s={};return"abcdefghijklmnopqrst".split("").forEach(function(i){s[i]=i}),Object.keys(Object.assign({},s)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}var jue=Pue()?Object.assign:function(e,t){for(var n,r=Mue(e),s,i=1;i<arguments.length;i++){n=Object(arguments[i]);for(var o in n)Tue.call(n,o)&&(r[o]=n[o]);if(BT){s=BT(n);for(var a=0;a<s.length;a++)Rue.call(n,s[a])&&(r[s[a]]=n[s[a]])}}return r};const Oue=cr(jue);var Ja={BODY:"bodyAttributes",HTML:"htmlAttributes",TITLE:"titleAttributes"},ze={BASE:"base",BODY:"body",HEAD:"head",HTML:"html",LINK:"link",META:"meta",NOSCRIPT:"noscript",SCRIPT:"script",STYLE:"style",TITLE:"title"};Object.keys(ze).map(function(e){return ze[e]});var Wt={CHARSET:"charset",CSS_TEXT:"cssText",HREF:"href",HTTPEQUIV:"http-equiv",INNER_HTML:"innerHTML",ITEM_PROP:"itemprop",NAME:"name",PROPERTY:"property",REL:"rel",SRC:"src",TARGET:"target"},lm={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},Ef={DEFAULT_TITLE:"defaultTitle",DEFER:"defer",ENCODE_SPECIAL_CHARACTERS:"encodeSpecialCharacters",ON_CHANGE_CLIENT_STATE:"onChangeClientState",TITLE_TEMPLATE:"titleTemplate"},Vue=Object.keys(lm).reduce(function(e,t){return e[lm[t]]=t,e},{}),Lue=[ze.NOSCRIPT,ze.SCRIPT,ze.STYLE],oi="data-react-helmet",$ue=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bue=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},Nue=function(){function e(t,n){for(var r=0;r<n.length;r++){var s=n[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Or=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Due=function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},NT=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n},Fue=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e},y_=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return n===!1?String(t):String(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")},Uue=function(t){var n=jc(t,ze.TITLE),r=jc(t,Ef.TITLE_TEMPLATE);if(r&&n)return r.replace(/%s/g,function(){return Array.isArray(n)?n.join(""):n});var s=jc(t,Ef.DEFAULT_TITLE);return n||s||void 0},zue=function(t){return jc(t,Ef.ON_CHANGE_CLIENT_STATE)||function(){}},OA=function(t,n){return n.filter(function(r){return typeof r[t]<"u"}).map(function(r){return r[t]}).reduce(function(r,s){return Or({},r,s)},{})},Hue=function(t,n){return n.filter(function(r){return typeof r[ze.BASE]<"u"}).map(function(r){return r[ze.BASE]}).reverse().reduce(function(r,s){if(!r.length)for(var i=Object.keys(s),o=0;o<i.length;o++){var a=i[o],l=a.toLowerCase();if(t.indexOf(l)!==-1&&s[l])return r.concat(s)}return r},[])},Hu=function(t,n,r){var s={};return r.filter(function(i){return Array.isArray(i[t])?!0:(typeof i[t]<"u"&&Kue("Helmet: "+t+' should be of type "Array". Instead found type "'+$ue(i[t])+'"'),!1)}).map(function(i){return i[t]}).reverse().reduce(function(i,o){var a={};o.filter(function(h){for(var p=void 0,g=Object.keys(h),m=0;m<g.length;m++){var _=g[m],v=_.toLowerCase();n.indexOf(v)!==-1&&!(p===Wt.REL&&h[p].toLowerCase()==="canonical")&&!(v===Wt.REL&&h[v].toLowerCase()==="stylesheet")&&(p=v),n.indexOf(_)!==-1&&(_===Wt.INNER_HTML||_===Wt.CSS_TEXT||_===Wt.ITEM_PROP)&&(p=_)}if(!p||!h[p])return!1;var y=h[p].toLowerCase();return s[p]||(s[p]={}),a[p]||(a[p]={}),s[p][y]?!1:(a[p][y]=!0,!0)}).reverse().forEach(function(h){return i.push(h)});for(var l=Object.keys(a),c=0;c<l.length;c++){var u=l[c],d=Oue({},s[u],a[u]);s[u]=d}return i},[]).reverse()},jc=function(t,n){for(var r=t.length-1;r>=0;r--){var s=t[r];if(s.hasOwnProperty(n))return s[n]}return null},Gue=function(t){return{baseTag:Hue([Wt.HREF,Wt.TARGET],t),bodyAttributes:OA(Ja.BODY,t),defer:jc(t,Ef.DEFER),encode:jc(t,Ef.ENCODE_SPECIAL_CHARACTERS),htmlAttributes:OA(Ja.HTML,t),linkTags:Hu(ze.LINK,[Wt.REL,Wt.HREF],t),metaTags:Hu(ze.META,[Wt.NAME,Wt.CHARSET,Wt.HTTPEQUIV,Wt.PROPERTY,Wt.ITEM_PROP],t),noscriptTags:Hu(ze.NOSCRIPT,[Wt.INNER_HTML],t),onChangeClientState:zue(t),scriptTags:Hu(ze.SCRIPT,[Wt.SRC,Wt.INNER_HTML],t),styleTags:Hu(ze.STYLE,[Wt.CSS_TEXT],t),title:Uue(t),titleAttributes:OA(Ja.TITLE,t)}},A_=function(){var e=Date.now();return function(t){var n=Date.now();n-e>16?(e=n,t(n)):setTimeout(function(){A_(t)},0)}}(),DT=function(t){return clearTimeout(t)},que=typeof window<"u"?window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||A_:global.requestAnimationFrame||A_,Wue=typeof window<"u"?window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||DT:global.cancelAnimationFrame||DT,Kue=function(t){return console&&typeof console.warn=="function"&&console.warn(t)},Gu=null,Yue=function(t){Gu&&Wue(Gu),t.defer?Gu=que(function(){FT(t,function(){Gu=null})}):(FT(t),Gu=null)},FT=function(t,n){var r=t.baseTag,s=t.bodyAttributes,i=t.htmlAttributes,o=t.linkTags,a=t.metaTags,l=t.noscriptTags,c=t.onChangeClientState,u=t.scriptTags,d=t.styleTags,h=t.title,p=t.titleAttributes;__(ze.BODY,s),__(ze.HTML,i),Que(h,p);var g={baseTag:Fl(ze.BASE,r),linkTags:Fl(ze.LINK,o),metaTags:Fl(ze.META,a),noscriptTags:Fl(ze.NOSCRIPT,l),scriptTags:Fl(ze.SCRIPT,u),styleTags:Fl(ze.STYLE,d)},m={},_={};Object.keys(g).forEach(function(v){var y=g[v],b=y.newTags,w=y.oldTags;b.length&&(m[v]=b),w.length&&(_[v]=g[v].oldTags)}),n&&n(),c(t,m,_)},VL=function(t){return Array.isArray(t)?t.join(""):t},Que=function(t,n){typeof t<"u"&&document.title!==t&&(document.title=VL(t)),__(ze.TITLE,n)},__=function(t,n){var r=document.getElementsByTagName(t)[0];if(r){for(var s=r.getAttribute(oi),i=s?s.split(","):[],o=[].concat(i),a=Object.keys(n),l=0;l<a.length;l++){var c=a[l],u=n[c]||"";r.getAttribute(c)!==u&&r.setAttribute(c,u),i.indexOf(c)===-1&&i.push(c);var d=o.indexOf(c);d!==-1&&o.splice(d,1)}for(var h=o.length-1;h>=0;h--)r.removeAttribute(o[h]);i.length===o.length?r.removeAttribute(oi):r.getAttribute(oi)!==a.join(",")&&r.setAttribute(oi,a.join(","))}},Fl=function(t,n){var r=document.head||document.querySelector(ze.HEAD),s=r.querySelectorAll(t+"["+oi+"]"),i=Array.prototype.slice.call(s),o=[],a=void 0;return n&&n.length&&n.forEach(function(l){var c=document.createElement(t);for(var u in l)if(l.hasOwnProperty(u))if(u===Wt.INNER_HTML)c.innerHTML=l.innerHTML;else if(u===Wt.CSS_TEXT)c.styleSheet?c.styleSheet.cssText=l.cssText:c.appendChild(document.createTextNode(l.cssText));else{var d=typeof l[u]>"u"?"":l[u];c.setAttribute(u,d)}c.setAttribute(oi,"true"),i.some(function(h,p){return a=p,c.isEqualNode(h)})?i.splice(a,1):o.push(c)}),i.forEach(function(l){return l.parentNode.removeChild(l)}),o.forEach(function(l){return r.appendChild(l)}),{oldTags:i,newTags:o}},LL=function(t){return Object.keys(t).reduce(function(n,r){var s=typeof t[r]<"u"?r+'="'+t[r]+'"':""+r;return n?n+" "+s:s},"")},Jue=function(t,n,r,s){var i=LL(r),o=VL(n);return i?"<"+t+" "+oi+'="true" '+i+">"+y_(o,s)+"</"+t+">":"<"+t+" "+oi+'="true">'+y_(o,s)+"</"+t+">"},Xue=function(t,n,r){return n.reduce(function(s,i){var o=Object.keys(i).filter(function(c){return!(c===Wt.INNER_HTML||c===Wt.CSS_TEXT)}).reduce(function(c,u){var d=typeof i[u]>"u"?u:u+'="'+y_(i[u],r)+'"';return c?c+" "+d:d},""),a=i.innerHTML||i.cssText||"",l=Lue.indexOf(t)===-1;return s+"<"+t+" "+oi+'="true" '+o+(l?"/>":">"+a+"</"+t+">")},"")},$L=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.keys(t).reduce(function(r,s){return r[lm[s]||s]=t[s],r},n)},Zue=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.keys(t).reduce(function(r,s){return r[Vue[s]||s]=t[s],r},n)},ede=function(t,n,r){var s,i=(s={key:n},s[oi]=!0,s),o=$L(r,i);return[xe.createElement(ze.TITLE,o,n)]},tde=function(t,n){return n.map(function(r,s){var i,o=(i={key:s},i[oi]=!0,i);return Object.keys(r).forEach(function(a){var l=lm[a]||a;if(l===Wt.INNER_HTML||l===Wt.CSS_TEXT){var c=r.innerHTML||r.cssText;o.dangerouslySetInnerHTML={__html:c}}else o[l]=r[a]}),xe.createElement(t,o)})},Qi=function(t,n,r){switch(t){case ze.TITLE:return{toComponent:function(){return ede(t,n.title,n.titleAttributes)},toString:function(){return Jue(t,n.title,n.titleAttributes,r)}};case Ja.BODY:case Ja.HTML:return{toComponent:function(){return $L(n)},toString:function(){return LL(n)}};default:return{toComponent:function(){return tde(t,n)},toString:function(){return Xue(t,n,r)}}}},BL=function(t){var n=t.baseTag,r=t.bodyAttributes,s=t.encode,i=t.htmlAttributes,o=t.linkTags,a=t.metaTags,l=t.noscriptTags,c=t.scriptTags,u=t.styleTags,d=t.title,h=d===void 0?"":d,p=t.titleAttributes;return{base:Qi(ze.BASE,n,s),bodyAttributes:Qi(Ja.BODY,r,s),htmlAttributes:Qi(Ja.HTML,i,s),link:Qi(ze.LINK,o,s),meta:Qi(ze.META,a,s),noscript:Qi(ze.NOSCRIPT,l,s),script:Qi(ze.SCRIPT,c,s),style:Qi(ze.STYLE,u,s),title:Qi(ze.TITLE,{title:h,titleAttributes:p},s)}},nde=function(t){var n,r;return r=n=function(s){Due(i,s);function i(){return Bue(this,i),Fue(this,s.apply(this,arguments))}return i.prototype.shouldComponentUpdate=function(a){return!Iue(this.props,a)},i.prototype.mapNestedChildrenToProps=function(a,l){if(!l)return null;switch(a.type){case ze.SCRIPT:case ze.NOSCRIPT:return{innerHTML:l};case ze.STYLE:return{cssText:l}}throw new Error("<"+a.type+" /> elements are self-closing and can not contain children. Refer to our API for more information.")},i.prototype.flattenArrayTypeChildren=function(a){var l,c=a.child,u=a.arrayTypeChildren,d=a.newChildProps,h=a.nestedChildren;return Or({},u,(l={},l[c.type]=[].concat(u[c.type]||[],[Or({},d,this.mapNestedChildrenToProps(c,h))]),l))},i.prototype.mapObjectTypeChildren=function(a){var l,c,u=a.child,d=a.newProps,h=a.newChildProps,p=a.nestedChildren;switch(u.type){case ze.TITLE:return Or({},d,(l={},l[u.type]=p,l.titleAttributes=Or({},h),l));case ze.BODY:return Or({},d,{bodyAttributes:Or({},h)});case ze.HTML:return Or({},d,{htmlAttributes:Or({},h)})}return Or({},d,(c={},c[u.type]=Or({},h),c))},i.prototype.mapArrayTypeChildrenToProps=function(a,l){var c=Or({},l);return Object.keys(a).forEach(function(u){var d;c=Or({},c,(d={},d[u]=a[u],d))}),c},i.prototype.warnOnInvalidChildren=function(a,l){return!0},i.prototype.mapChildrenToProps=function(a,l){var c=this,u={};return xe.Children.forEach(a,function(d){if(!(!d||!d.props)){var h=d.props,p=h.children,g=NT(h,["children"]),m=Zue(g);switch(c.warnOnInvalidChildren(d,p),d.type){case ze.LINK:case ze.META:case ze.NOSCRIPT:case ze.SCRIPT:case ze.STYLE:u=c.flattenArrayTypeChildren({child:d,arrayTypeChildren:u,newChildProps:m,nestedChildren:p});break;default:l=c.mapObjectTypeChildren({child:d,newProps:l,newChildProps:m,nestedChildren:p});break}}}),l=this.mapArrayTypeChildrenToProps(u,l),l},i.prototype.render=function(){var a=this.props,l=a.children,c=NT(a,["children"]),u=Or({},c);return l&&(u=this.mapChildrenToProps(l,u)),xe.createElement(t,u)},Nue(i,null,[{key:"canUseDOM",set:function(a){t.canUseDOM=a}}]),i}(xe.Component),n.propTypes={base:We.object,bodyAttributes:We.object,children:We.oneOfType([We.arrayOf(We.node),We.node]),defaultTitle:We.string,defer:We.bool,encodeSpecialCharacters:We.bool,htmlAttributes:We.object,link:We.arrayOf(We.object),meta:We.arrayOf(We.object),noscript:We.arrayOf(We.object),onChangeClientState:We.func,script:We.arrayOf(We.object),style:We.arrayOf(We.object),title:We.string,titleAttributes:We.object,titleTemplate:We.string},n.defaultProps={defer:!0,encodeSpecialCharacters:!0},n.peek=t.peek,n.rewind=function(){var s=t.rewind();return s||(s=BL({baseTag:[],bodyAttributes:{},encodeSpecialCharacters:!0,htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}})),s},r},rde=function(){return null},sde=Sue(Gue,Yue,BL)(rde),ds=nde(sde);ds.renderStatic=ds.rewind;const NL=A.forwardRef(({...e},t)=>{const n=A.useRef(null);A.useImperativeHandle(t,()=>n.current);const[r,s]=Be(pd);return f.jsx(ode,{ref:n,label:"Input lag",value:String(r),onChange:i=>s(+i),type:"number",step:50,min:-2e3,max:2e3,adornment:"ms",onKeyDown:i=>{var o;i.code==="Enter"&&((o=n.current)==null||o.blur())},info:"If the sound is not synchronised with the lyrics, use this to compensate it.",...e})}),ide=()=>wu,ode=C(ide())({name:"InputLagField",class:"i1wbpeiy",propsAsIs:!0});function ade(e){Aa(!1);const t=Gr(),n=()=>t("menu/"),{register:r}=Fn({onBackspace:n}),[s,i]=Be(Ms),[o,a]=Be(Ha),[l,c]=Be(ur),[u,d]=Be(Sb),h=A.useRef(null),[p,g]=A.useState(ri.getPermissionStatus());A.useEffect(()=>ri.addListener(b=>{g(b)}),[]);const[m,_]=A.useState(!1),v=()=>{_(!0),ri.requestPermissions().then(()=>_(!1))};let y="Disabled";return m?y=f.jsx(ih,{size:"0.9em"}):p===null?y="Click to enable":p&&(y="Enabled"),f.jsxs(ya,{children:[f.jsx(ds,{children:f.jsx("title",{children:"Settings | AllKaraoke.Party - Free Online Karaoke Party Game"})}),f.jsx("h1",{children:"Settings"}),f.jsx(ts,{...r("graphics-level",()=>i(Qa(UP,s))),label:"Graphics",value:s.toUpperCase()}),f.jsx(ts,{...r("fps-count-level",()=>a(Qa(zP,o))),label:"FPS Count",value:o}),f.jsx(ts,{...r("background-music-selection",()=>d(Qa(WP,u))),label:"Background Music",value:u}),f.jsx(NL,{ref:h,...r("input-lag",()=>{var b;return(b=h.current)==null?void 0:b.focus()})}),f.jsx("hr",{}),f.jsx(ts,{...r("camera-access",()=>p?ri.disable():v()),label:"Enable camera mode",value:y,info:"Record a timelapse video from singing. The recording is not sent nor stored anywhere."}),f.jsx("hr",{}),f.jsx(ts,{...r("mobile-phone-mode",()=>c(!l)),label:"Mobile Phone Mode",value:l?"Yes":"No",info:"Adjust the game to a smaller screen. Disables option to sing in duets."}),f.jsx("hr",{}),f.jsx(Te,{...r("remote-mics-settings",()=>t("settings/remote-mics/")),size:"small",children:"Remote Microphones Settings"}),f.jsx(Te,{...r("setup-mics-button",()=>t("select-input/")),size:"small",children:"Setup Microphones"}),f.jsx(Te,{...r("manage-songs-button",()=>t("manage-songs/")),size:"small",children:"Manage Songs"}),f.jsx(Te,{...r("back-button",n),children:"Return To Main Menu"})]})}function DL(e){return f.jsxs(lde,{...e,children:[f.jsx(v_,{}),f.jsx(uL,{})]})}const lde=C("div")({name:"OptionIconContainer",class:"o1r9tony",propsAsIs:!1});function FL(){const[e,t]=A.useState(!1);return A.useEffect(()=>{const n=setTimeout(()=>{t(!0)},500);return()=>{clearTimeout(n)}},[]),f.jsx(ude,{visible:e,children:f.jsx(fde,{})})}const cde=()=>e=>e.visible?1:0,ude=C("div")({name:"Container",class:"c1bk12mz",propsAsIs:!1,vars:{"c1bk12mz-0":[cde()]}}),dde=()=>DL,fde=C(dde())({name:"Logo",class:"llooypa",propsAsIs:!0}),hde=A.lazy(()=>Wm(()=>import("./ConvertView-7mv4mwpq.js"),__vite__mapDeps([0,1]))),UL=e=>f.jsxs(A.Suspense,{fallback:f.jsx(FL,{}),children:[f.jsx(ds,{children:f.jsx("title",{children:"Convert Song | AllKaraoke.Party - Free Online Karaoke Party Game"})}),f.jsx(hde,{...e})]});var zL={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(Fo,function(){return function(n,r,s){n=n||{};var i=r.prototype,o={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function a(c,u,d,h){return i.fromToBase(c,u,d,h)}s.en.relativeTime=o,i.fromToBase=function(c,u,d,h,p){for(var g,m,_,v=d.$locale().relativeTime||o,y=n.thresholds||[{l:"s",r:44,d:"second"},{l:"m",r:89},{l:"mm",r:44,d:"minute"},{l:"h",r:89},{l:"hh",r:21,d:"hour"},{l:"d",r:35},{l:"dd",r:25,d:"day"},{l:"M",r:45},{l:"MM",r:10,d:"month"},{l:"y",r:17},{l:"yy",d:"year"}],b=y.length,w=0;w<b;w+=1){var S=y[w];S.d&&(g=h?s(c).diff(d,S.d,!0):d.diff(c,S.d,!0));var x=(n.rounding||Math.round)(Math.abs(g));if(_=g>0,x<=S.r||!S.r){x<=1&&w>0&&(S=y[w-1]);var E=v[S.l];p&&(x=p(""+x)),m=typeof E=="string"?E.replace("%d",x):E(x,u,S.l,_);break}}if(u)return m;var T=_?v.future:v.past;return typeof T=="function"?T(m):T.replace("%s",m)},i.to=function(c,u){return a(c,u,this,!0)},i.from=function(c,u){return a(c,u,this)};var l=function(c){return c.$u?s.utc():s()};i.toNow=function(c){return this.to(l(this),c)},i.fromNow=function(c){return this.from(l(this),c)}}})})(zL);var pde=zL.exports;const gde=cr(pde),HL=1e3,mde=e=>e.map(t=>{if(t.notes.length===0)debugger;return{...t,start:t.notes[0].start}}),vde=e=>{const t=e.notes.at(-1);return t.start+t.length},yde=(e,t=10)=>{let n=0,r=[];return e.forEach(s=>{s.start-n>t&&(r.push({type:"pause",start:n,end:s.start-t}),n=s.start-t),r.push({...s,start:n}),n=vde(s)}),r},UT=(e,t)=>({...e,sections:yde(mde(e.sections.filter(Ct)),t)});function Ade(e){const t=fu(e),n=Math.round(HL/t);return{...e,tracks:e.tracks.map(r=>UT(r,n)),mergedTrack:UT(e.mergedTrack,n)}}const _de=(e,t)=>e.map((n,r)=>Ct(n)?{...n,start:r===0?0:Math.max(0,n.start+t),notes:n.notes.map(s=>({...s,start:s.start+t}))}:{...n,start:Math.max(0,n.start+t),end:Math.max(0,n.end+t)}),zT=(e,t)=>({...e,sections:_de(e.sections,t)});function bde(e){const t=fu(e),n=Math.round(HL/t),r=Math.floor((e.gap-n*t<0?e.gap:n*t)/t),s=e.gap-r*t;return{...e,gap:s,tracks:e.tracks.map(i=>zT(i,r)),mergedTrack:zT(e.mergedTrack,r)}}function GL(e,t){return fu(t)*e}function Jv(e){const t=Math.min(...e.tracks.map(n=>"sections"in n?oa(n.sections):n.start));return GL(t,e)+e.gap}function Sde(e){const t=Jv(e);return{...e,videoGap:Math.round(Math.max(0,Math.min(e.videoGap??0,t/1e3-15)))}}const wde=(e,t)=>e.map((n,r)=>Ct(n)?{...n,start:r===0?0:Math.max(0,n.start-t),notes:n.notes.map(s=>({...s,start:s.start-t}))}:{...n,start:Math.max(0,n.start-t),end:Math.max(0,n.end-t)}).filter(n=>Ct(n)||n.start-n.end>0),HT=(e,t)=>({...e,sections:wde(e.sections,t)});function xde(e){const t=fu(e),n=e.tracks.reduce((o,a,l)=>{const c=oa(e.tracks[o].sections),u=oa(a.sections);return c>u?l:o},0),r=e.tracks[n].sections.find(Ct);if(!r)return console.error("There are no notes sections in the song, wat",e.tracks),e;const s=r.start+(r.notes[0].start-r.start),i=Math.floor(e.gap+s*t);return{...e,gap:i,tracks:e.tracks.map(o=>HT(o,s)),mergedTrack:HT(e.mergedTrack,s)}}const Ede=e=>(e.forEach((t,n)=>{t.lyrics.startsWith(" ")&&(t.lyrics=t.lyrics.trimStart(),n>0&&(e[n-1].lyrics=e[n-1].lyrics.trimEnd()+" ")),n===e.length-1&&(t.lyrics=t.lyrics.trimEnd())}),e),GT=e=>({...e,sections:e.sections.map(t=>Ct(t)?{...t,notes:Ede(t.notes)}:t)});function kde(e){return{...e,tracks:e.tracks.map(GT),mergedTrack:GT(e.mergedTrack)}}const Cde=e=>{let t=xde(e);return t=bde(t),t=Ade(t),t=kde(t),t=Sde(t),t};function qL(e){const[t,n]=A.useState(null);return A.useEffect(()=>{zi.get(e).then(r=>n(r&&Cde(r)))},[e]),{data:t}}ii.extend(gde);function Ide(){const e=lv("song");Aa(!1);const t=qL(e??"");return t.data?f.jsxs(Rde,{children:[f.jsx(ds,{children:f.jsx("title",{children:"Edit Song | AllKaraoke.Party - Free Online Karaoke Party Game"})}),f.jsxs(Tde,{children:[f.jsx(Gw,{to:"edit/list/",children:f.jsx("a",{children:"Return to the song list"})}),f.jsxs("span",{children:["Editing:"," ",f.jsxs("b",{children:[t.data.artist," - ",t.data.title]})]}),f.jsxs("abbr",{title:t.data.lastUpdate,children:["Last updated: ",f.jsx("b",{children:t.data.lastUpdate?ii(t.data.lastUpdate).fromNow():"-"})]})]}),f.jsx(UL,{song:t.data})]}):f.jsx(f.Fragment,{children:"Loading"})}const Tde=jS("div",{target:"e104ojv11"})({name:"tv6097",styles:"display:flex;justify-content:space-between;align-items:center;margin-bottom:20px"}),Rde=jS("div",{target:"e104ojv10"})({name:"1u1hal4",styles:"margin:30px auto 0 auto;width:1260px;height:100%;background:white"});var Mde=Math.floor,Pde=Math.random;function jde(e,t){return e+Mde(Pde()*(t-e+1))}function WL(e,t){var n=-1,r=e.length,s=r-1;for(t=t===void 0?r:t;++n<t;){var i=jde(n,s),o=e[i];e[i]=e[n],e[n]=o}return e.length=t,e}function Ode(e){return WL(p3(e))}function Vde(e,t){return aS(t,function(n){return e[n]})}function Lde(e){return e==null?[]:Vde(e,zf(e))}function $de(e){return WL(Lde(e))}function Bde(e){var t=Bs(e)?Ode:$de;return t(e)}var rM;const KL=!((rM=document.getElementById("root"))!=null&&rM.hasChildNodes());function bx(e){return KL?null:e.children}function Cr(e){const t=Gr(),n=r=>{e.onClick?e.onClick(r):(r.preventDefault(),t(e.to))};return f.jsx(Gw,{...e,onClick:n})}function Nde(e,t){A.useEffect(()=>{var n,r;(r=(n=e.current)==null?void 0:n.getInternalPlayer())==null||r.setVolume(Math.round((t??.5)*100))},[e,t])}var Dde=function e(t,n){if(t===n)return!0;if(t&&n&&typeof t=="object"&&typeof n=="object"){if(t.constructor!==n.constructor)return!1;var r,s,i;if(Array.isArray(t)){if(r=t.length,r!=n.length)return!1;for(s=r;s--!==0;)if(!e(t[s],n[s]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if(i=Object.keys(t),r=i.length,r!==Object.keys(n).length)return!1;for(s=r;s--!==0;)if(!Object.prototype.hasOwnProperty.call(n,i[s]))return!1;for(s=r;s--!==0;){var o=i[s];if(!e(t[o],n[o]))return!1}return!0}return t!==t&&n!==n};const Fde=cr(Dde);var b_={exports:{}},YL;/**
* @link https://github.com/gajus/sister for the canonical source repository
* @license https://github.com/gajus/sister/blob/master/LICENSE BSD 3-Clause
*/YL=function(){var e={},t={};return e.on=function(n,r){var s={name:n,handler:r};return t[n]=t[n]||[],t[n].unshift(s),s},e.off=function(n){var r=t[n.name].indexOf(n);r!==-1&&t[n.name].splice(r,1)},e.trigger=function(n,r){var s=t[n],i;if(s)for(i=s.length;i--;)s[i].handler(r)},e};var Ude=YL,S_={exports:{}},zde=function(t,n,r){var s=document.head||document.getElementsByTagName("head")[0],i=document.createElement("script");typeof n=="function"&&(r=n,n={}),n=n||{},r=r||function(){},i.type=n.type||"text/javascript",i.charset=n.charset||"utf8",i.async="async"in n?!!n.async:!0,i.src=t,n.attrs&&Hde(i,n.attrs),n.text&&(i.text=""+n.text);var o="onload"in i?qT:Gde;o(i,r),i.onload||qT(i,r),s.appendChild(i)};function Hde(e,t){for(var n in t)e.setAttribute(n,t[n])}function qT(e,t){e.onload=function(){this.onerror=this.onload=null,t(null,e)},e.onerror=function(){this.onerror=this.onload=null,t(new Error("Failed to load "+this.src),e)}}function Gde(e,t){e.onreadystatechange=function(){this.readyState!="complete"&&this.readyState!="loaded"||(this.onreadystatechange=null,t(null,e))}}(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=zde,r=s(n);function s(i){return i&&i.__esModule?i:{default:i}}t.default=function(i){var o=new Promise(function(a){if(window.YT&&window.YT.Player&&window.YT.Player instanceof Function){a(window.YT);return}else{var l=window.location.protocol==="http:"?"http:":"https:";(0,r.default)(l+"//www.youtube.com/iframe_api",function(u){u&&i.trigger("error",u)})}var c=window.onYouTubeIframeAPIReady;window.onYouTubeIframeAPIReady=function(){c&&c(),a(window.YT)}});return o},e.exports=t.default})(S_,S_.exports);var qde=S_.exports,w_={exports:{}},x_={exports:{}},E_={exports:{}},kf=1e3,Cf=kf*60,If=Cf*60,Tf=If*24,Wde=Tf*365.25,Kde=function(e,t){t=t||{};var n=typeof e;if(n==="string"&&e.length>0)return Yde(e);if(n==="number"&&isNaN(e)===!1)return t.long?Jde(e):Qde(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))};function Yde(e){if(e=String(e),!(e.length>100)){var t=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(t){var n=parseFloat(t[1]),r=(t[2]||"ms").toLowerCase();switch(r){case"years":case"year":case"yrs":case"yr":case"y":return n*Wde;case"days":case"day":case"d":return n*Tf;case"hours":case"hour":case"hrs":case"hr":case"h":return n*If;case"minutes":case"minute":case"mins":case"min":case"m":return n*Cf;case"seconds":case"second":case"secs":case"sec":case"s":return n*kf;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return n;default:return}}}}function Qde(e){return e>=Tf?Math.round(e/Tf)+"d":e>=If?Math.round(e/If)+"h":e>=Cf?Math.round(e/Cf)+"m":e>=kf?Math.round(e/kf)+"s":e+"ms"}function Jde(e){return ip(e,Tf,"day")||ip(e,If,"hour")||ip(e,Cf,"minute")||ip(e,kf,"second")||e+" ms"}function ip(e,t,n){if(!(e<t))return e<t*1.5?Math.floor(e/t)+" "+n:Math.ceil(e/t)+" "+n+"s"}(function(e,t){t=e.exports=s.debug=s.default=s,t.coerce=l,t.disable=o,t.enable=i,t.enabled=a,t.humanize=Kde,t.names=[],t.skips=[],t.formatters={};var n;function r(c){var u=0,d;for(d in c)u=(u<<5)-u+c.charCodeAt(d),u|=0;return t.colors[Math.abs(u)%t.colors.length]}function s(c){function u(){if(u.enabled){var d=u,h=+new Date,p=h-(n||h);d.diff=p,d.prev=n,d.curr=h,n=h;for(var g=new Array(arguments.length),m=0;m<g.length;m++)g[m]=arguments[m];g[0]=t.coerce(g[0]),typeof g[0]!="string"&&g.unshift("%O");var _=0;g[0]=g[0].replace(/%([a-zA-Z%])/g,function(y,b){if(y==="%%")return y;_++;var w=t.formatters[b];if(typeof w=="function"){var S=g[_];y=w.call(d,S),g.splice(_,1),_--}return y}),t.formatArgs.call(d,g);var v=u.log||t.log||console.log.bind(console);v.apply(d,g)}}return u.namespace=c,u.enabled=t.enabled(c),u.useColors=t.useColors(),u.color=r(c),typeof t.init=="function"&&t.init(u),u}function i(c){t.save(c),t.names=[],t.skips=[];for(var u=(typeof c=="string"?c:"").split(/[\s,]+/),d=u.length,h=0;h<d;h++)u[h]&&(c=u[h].replace(/\*/g,".*?"),c[0]==="-"?t.skips.push(new RegExp("^"+c.substr(1)+"$")):t.names.push(new RegExp("^"+c+"$")))}function o(){t.enable("")}function a(c){var u,d;for(u=0,d=t.skips.length;u<d;u++)if(t.skips[u].test(c))return!1;for(u=0,d=t.names.length;u<d;u++)if(t.names[u].test(c))return!0;return!1}function l(c){return c instanceof Error?c.stack||c.message:c}})(E_,E_.exports);var Xde=E_.exports;(function(e,t){var n={};t=e.exports=Xde,t.log=i,t.formatArgs=s,t.save=o,t.load=a,t.useColors=r,t.storage=typeof chrome<"u"&&typeof chrome.storage<"u"?chrome.storage.local:l(),t.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"];function r(){return typeof window<"u"&&window.process&&window.process.type==="renderer"?!0:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}t.formatters.j=function(c){try{return JSON.stringify(c)}catch(u){return"[UnexpectedJSONParseError]: "+u.message}};function s(c){var u=this.useColors;if(c[0]=(u?"%c":"")+this.namespace+(u?" %c":" ")+c[0]+(u?"%c ":" ")+"+"+t.humanize(this.diff),!!u){var d="color: "+this.color;c.splice(1,0,d,"color: inherit");var h=0,p=0;c[0].replace(/%[a-zA-Z%]/g,function(g){g!=="%%"&&(h++,g==="%c"&&(p=h))}),c.splice(p,0,d)}}function i(){return typeof console=="object"&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function o(c){try{c==null?t.storage.removeItem("debug"):t.storage.debug=c}catch{}}function a(){var c;try{c=t.storage.debug}catch{}return!c&&typeof process<"u"&&"env"in process&&(c=n.DEBUG),c}t.enable(a());function l(){try{return window.localStorage}catch{}}})(x_,x_.exports);var Zde=x_.exports,k_={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=["cueVideoById","loadVideoById","cueVideoByUrl","loadVideoByUrl","playVideo","pauseVideo","stopVideo","getVideoLoadedFraction","cuePlaylist","loadPlaylist","nextVideo","previousVideo","playVideoAt","setShuffle","setLoop","getPlaylist","getPlaylistIndex","setOption","mute","unMute","isMuted","setVolume","getVolume","seekTo","getPlayerState","getPlaybackRate","setPlaybackRate","getAvailablePlaybackRates","getPlaybackQuality","setPlaybackQuality","getAvailableQualityLevels","getCurrentTime","getDuration","removeEventListener","getVideoUrl","getVideoEmbedCode","getOptions","getOption","addEventListener","destroy","setSize","getIframe"],e.exports=t.default})(k_,k_.exports);var efe=k_.exports,C_={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=["ready","stateChange","playbackQualityChange","playbackRateChange","error","apiChange","volumeChange"],e.exports=t.default})(C_,C_.exports);var tfe=C_.exports,I_={exports:{}},T_={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default={BUFFERING:3,ENDED:0,PAUSED:2,PLAYING:1,UNSTARTED:-1,VIDEO_CUED:5},e.exports=t.default})(T_,T_.exports);var nfe=T_.exports;(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=nfe,r=s(n);function s(i){return i&&i.__esModule?i:{default:i}}t.default={pauseVideo:{acceptableStates:[r.default.ENDED,r.default.PAUSED],stateChangeRequired:!1},playVideo:{acceptableStates:[r.default.ENDED,r.default.PLAYING],stateChangeRequired:!1},seekTo:{acceptableStates:[r.default.ENDED,r.default.PLAYING,r.default.PAUSED],stateChangeRequired:!0,timeout:3e3}},e.exports=t.default})(I_,I_.exports);var rfe=I_.exports;(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=Zde,r=u(n),s=efe,i=u(s),o=tfe,a=u(o),l=rfe,c=u(l);function u(p){return p&&p.__esModule?p:{default:p}}var d=(0,r.default)("youtube-player"),h={};h.proxyEvents=function(p){var g={},m=function(E){var T="on"+E.slice(0,1).toUpperCase()+E.slice(1);g[T]=function(U){d('event "%s"',T,U),p.trigger(E,U)}},_=!0,v=!1,y=void 0;try{for(var b=a.default[Symbol.iterator](),w;!(_=(w=b.next()).done);_=!0){var S=w.value;m(S)}}catch(x){v=!0,y=x}finally{try{!_&&b.return&&b.return()}finally{if(v)throw y}}return g},h.promisifyPlayer=function(p){var g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,m={},_=function(T){g&&c.default[T]?m[T]=function(){for(var U=arguments.length,$=Array(U),D=0;D<U;D++)$[D]=arguments[D];return p.then(function(Q){var P=c.default[T],L=Q.getPlayerState(),M=Q[T].apply(Q,$);return P.stateChangeRequired||Array.isArray(P.acceptableStates)&&P.acceptableStates.indexOf(L)===-1?new Promise(function(I){var z=function j(){var N=Q.getPlayerState(),V=void 0;typeof P.timeout=="number"&&(V=setTimeout(function(){Q.removeEventListener("onStateChange",j),I()},P.timeout)),Array.isArray(P.acceptableStates)&&P.acceptableStates.indexOf(N)!==-1&&(Q.removeEventListener("onStateChange",j),clearTimeout(V),I())};Q.addEventListener("onStateChange",z)}).then(function(){return M}):M})}:m[T]=function(){for(var U=arguments.length,$=Array(U),D=0;D<U;D++)$[D]=arguments[D];return p.then(function(Q){return Q[T].apply(Q,$)})}},v=!0,y=!1,b=void 0;try{for(var w=i.default[Symbol.iterator](),S;!(v=(S=w.next()).done);v=!0){var x=S.value;_(x)}}catch(E){y=!0,b=E}finally{try{!v&&w.return&&w.return()}finally{if(y)throw b}}return m},t.default=h,e.exports=t.default})(w_,w_.exports);var sfe=w_.exports;(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(d){return typeof d}:function(d){return d&&typeof Symbol=="function"&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d},r=Ude,s=c(r),i=qde,o=c(i),a=sfe,l=c(a);function c(d){return d&&d.__esModule?d:{default:d}}var u=void 0;t.default=function(d){var h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},p=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,g=(0,s.default)();if(u||(u=(0,o.default)(g)),h.events)throw new Error("Event handlers cannot be overwritten.");if(typeof d=="string"&&!document.getElementById(d))throw new Error('Element "'+d+'" does not exist.');h.events=l.default.proxyEvents(g);var m=new Promise(function(v){if((typeof d>"u"?"undefined":n(d))==="object"&&d.playVideo instanceof Function){var y=d;v(y)}else u.then(function(b){var w=new b.Player(d,h);return g.on("ready",function(){v(w)}),null})}),_=l.default.promisifyPlayer(m,p);return _.on=g.on,_.off=g.off,_},e.exports=t.default})(b_,b_.exports);var ife=b_.exports;const ofe=cr(ife);var afe=Object.defineProperty,lfe=Object.defineProperties,cfe=Object.getOwnPropertyDescriptors,WT=Object.getOwnPropertySymbols,ufe=Object.prototype.hasOwnProperty,dfe=Object.prototype.propertyIsEnumerable,KT=(e,t,n)=>t in e?afe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,R_=(e,t)=>{for(var n in t||(t={}))ufe.call(t,n)&&KT(e,n,t[n]);if(WT)for(var n of WT(t))dfe.call(t,n)&&KT(e,n,t[n]);return e},M_=(e,t)=>lfe(e,cfe(t)),ffe=(e,t,n)=>new Promise((r,s)=>{var i=l=>{try{a(n.next(l))}catch(c){s(c)}},o=l=>{try{a(n.throw(l))}catch(c){s(c)}},a=l=>l.done?r(l.value):Promise.resolve(l.value).then(i,o);a((n=n.apply(e,t)).next())});function hfe(e,t){var n,r;if(e.videoId!==t.videoId)return!0;const s=((n=e.opts)==null?void 0:n.playerVars)||{},i=((r=t.opts)==null?void 0:r.playerVars)||{};return s.start!==i.start||s.end!==i.end}function YT(e={}){return M_(R_({},e),{height:0,width:0,playerVars:M_(R_({},e.playerVars),{autoplay:0,start:0,end:0})})}function pfe(e,t){return e.videoId!==t.videoId||!Fde(YT(e.opts),YT(t.opts))}function gfe(e,t){var n,r,s,i;return e.id!==t.id||e.className!==t.className||((n=e.opts)==null?void 0:n.width)!==((r=t.opts)==null?void 0:r.width)||((s=e.opts)==null?void 0:s.height)!==((i=t.opts)==null?void 0:i.height)||e.iframeClassName!==t.iframeClassName||e.title!==t.title}var mfe={videoId:"",id:"",className:"",iframeClassName:"",style:{},title:"",loading:void 0,opts:{},onReady:()=>{},onError:()=>{},onPlay:()=>{},onPause:()=>{},onEnd:()=>{},onStateChange:()=>{},onPlaybackRateChange:()=>{},onPlaybackQualityChange:()=>{}},vfe={videoId:We.string,id:We.string,className:We.string,iframeClassName:We.string,style:We.object,title:We.string,loading:We.oneOf(["lazy","eager"]),opts:We.objectOf(We.any),onReady:We.func,onError:We.func,onPlay:We.func,onPause:We.func,onEnd:We.func,onStateChange:We.func,onPlaybackRateChange:We.func,onPlaybackQualityChange:We.func},Yp=class extends xe.Component{constructor(e){super(e),this.destroyPlayerPromise=void 0,this.onPlayerReady=t=>{var n,r;return(r=(n=this.props).onReady)==null?void 0:r.call(n,t)},this.onPlayerError=t=>{var n,r;return(r=(n=this.props).onError)==null?void 0:r.call(n,t)},this.onPlayerStateChange=t=>{var n,r,s,i,o,a,l,c;switch((r=(n=this.props).onStateChange)==null||r.call(n,t),t.data){case Yp.PlayerState.ENDED:(i=(s=this.props).onEnd)==null||i.call(s,t);break;case Yp.PlayerState.PLAYING:(a=(o=this.props).onPlay)==null||a.call(o,t);break;case Yp.PlayerState.PAUSED:(c=(l=this.props).onPause)==null||c.call(l,t);break}},this.onPlayerPlaybackRateChange=t=>{var n,r;return(r=(n=this.props).onPlaybackRateChange)==null?void 0:r.call(n,t)},this.onPlayerPlaybackQualityChange=t=>{var n,r;return(r=(n=this.props).onPlaybackQualityChange)==null?void 0:r.call(n,t)},this.destroyPlayer=()=>this.internalPlayer?(this.destroyPlayerPromise=this.internalPlayer.destroy().then(()=>this.destroyPlayerPromise=void 0),this.destroyPlayerPromise):Promise.resolve(),this.createPlayer=()=>{if(typeof document>"u")return;if(this.destroyPlayerPromise){this.destroyPlayerPromise.then(this.createPlayer);return}const t=M_(R_({},this.props.opts),{videoId:this.props.videoId});this.internalPlayer=ofe(this.container,t),this.internalPlayer.on("ready",this.onPlayerReady),this.internalPlayer.on("error",this.onPlayerError),this.internalPlayer.on("stateChange",this.onPlayerStateChange),this.internalPlayer.on("playbackRateChange",this.onPlayerPlaybackRateChange),this.internalPlayer.on("playbackQualityChange",this.onPlayerPlaybackQualityChange),(this.props.title||this.props.loading)&&this.internalPlayer.getIframe().then(n=>{this.props.title&&n.setAttribute("title",this.props.title),this.props.loading&&n.setAttribute("loading",this.props.loading)})},this.resetPlayer=()=>this.destroyPlayer().then(this.createPlayer),this.updatePlayer=()=>{var t;(t=this.internalPlayer)==null||t.getIframe().then(n=>{this.props.id?n.setAttribute("id",this.props.id):n.removeAttribute("id"),this.props.iframeClassName?n.setAttribute("class",this.props.iframeClassName):n.removeAttribute("class"),this.props.opts&&this.props.opts.width?n.setAttribute("width",this.props.opts.width.toString()):n.removeAttribute("width"),this.props.opts&&this.props.opts.height?n.setAttribute("height",this.props.opts.height.toString()):n.removeAttribute("height"),this.props.title?n.setAttribute("title",this.props.title):n.setAttribute("title","YouTube video player"),this.props.loading?n.setAttribute("loading",this.props.loading):n.removeAttribute("loading")})},this.getInternalPlayer=()=>this.internalPlayer,this.updateVideo=()=>{var t,n,r,s;if(typeof this.props.videoId>"u"||this.props.videoId===null){(t=this.internalPlayer)==null||t.stopVideo();return}let i=!1;const o={videoId:this.props.videoId};if((n=this.props.opts)!=null&&n.playerVars&&(i=this.props.opts.playerVars.autoplay===1,"start"in this.props.opts.playerVars&&(o.startSeconds=this.props.opts.playerVars.start),"end"in this.props.opts.playerVars&&(o.endSeconds=this.props.opts.playerVars.end)),i){(r=this.internalPlayer)==null||r.loadVideoById(o);return}(s=this.internalPlayer)==null||s.cueVideoById(o)},this.refContainer=t=>{this.container=t},this.container=null,this.internalPlayer=null}componentDidMount(){this.createPlayer()}componentDidUpdate(e){return ffe(this,null,function*(){gfe(e,this.props)&&this.updatePlayer(),pfe(e,this.props)&&(yield this.resetPlayer()),hfe(e,this.props)&&this.updateVideo()})}componentWillUnmount(){this.destroyPlayer()}render(){return xe.createElement("div",{className:this.props.className,style:this.props.style},xe.createElement("div",{id:this.props.id,className:this.props.iframeClassName,ref:this.refContainer}))}},Xv=Yp;Xv.propTypes=vfe;Xv.defaultProps=mfe;Xv.PlayerState={UNSTARTED:-1,ENDED:0,PLAYING:1,PAUSED:2,BUFFERING:3,CUED:5};var Ci=Xv;function yfe(e){const[t,n]=A.useState(1);return A.useEffect(()=>{if(e===Ci.PlayerState.UNSTARTED){const r=setTimeout(()=>{n(s=>s+1)},5e3+t*2500);return()=>{clearTimeout(r)}}}),t}function Afe(e,t){A.useEffect(()=>{if(t===Ci.PlayerState.BUFFERING){const n=setInterval(async()=>{var r,s,i;if(navigator.onLine){clearInterval(n);const o=await((r=e.current)==null?void 0:r.getInternalPlayer().getCurrentTime());(i=(s=e.current)==null?void 0:s.getInternalPlayer())==null||i.seekTo(Math.max(o-2,0),!0)}},500);return()=>{clearInterval(n)}}})}function _fe(e,t){return Afe(e,t),yfe(t)}var Cn=(e=>(e.UNSTARTED="UNSTARTED",e.ENDED="ENDED",e.PLAYING="PLAYING",e.PAUSED="PAUSED",e.BUFFERING="BUFFERING",e.CUED="CUED",e))(Cn||{});const bfe={[Ci.PlayerState.UNSTARTED]:"UNSTARTED",[Ci.PlayerState.ENDED]:"ENDED",[Ci.PlayerState.PLAYING]:"PLAYING",[Ci.PlayerState.PAUSED]:"PAUSED",[Ci.PlayerState.BUFFERING]:"BUFFERING",[Ci.PlayerState.CUED]:"CUED"},Sfe=A.forwardRef(function({video:t,autoplay:n,startAt:r,controls:s,disablekb:i,volume:o,width:a,height:l,onStateChange:c},u){const d=A.useRef(null),[h,p]=A.useState(Ci.PlayerState.UNSTARTED),g=_fe(d,h);return Nde(d,o),A.useEffect(()=>{d.current&&d.current.getInternalPlayer().setSize(a,l)},[d,a,l,t,g]),A.useImperativeHandle(u,()=>({setSize:(m,_)=>{var v;return(v=d.current)==null?void 0:v.getInternalPlayer().setSize(m,_)},seekTo:m=>{var _;return(_=d.current)==null?void 0:_.getInternalPlayer().seekTo(m,!0)},setPlaybackSpeed:m=>{var _;return(_=d.current)==null?void 0:_.getInternalPlayer().setPlaybackRate(m)},setVolume:m=>{var _;return(_=d.current)==null?void 0:_.getInternalPlayer().setVolume(m)},getCurrentTime:()=>{var m;return(m=d.current)==null?void 0:m.getInternalPlayer().getCurrentTime()},loadVideoById:m=>{var _;return(_=d.current)==null?void 0:_.getInternalPlayer().loadVideoById(m)},playVideo:()=>{var m;(m=d.current)==null||m.getInternalPlayer().playVideo()},pauseVideo:()=>{var m;return(m=d.current)==null?void 0:m.getInternalPlayer().pauseVideo()},getDuration:()=>{var m;return(m=d.current)==null?void 0:m.getInternalPlayer().getDuration()}})),f.jsx(Ci,{title:" ",ref:d,videoId:t,opts:{width:"0",height:"0",playerVars:{autoplay:n?1:0,rel:0,fs:0,controls:s?1:0,start:r??0,end:0,disablekb:i?1:0,modestbranding:1}},onStateChange:m=>{p(m.data),c==null||c(bfe[m.data])}},`${t}-${g}`)}),wfe=A.forwardRef(function({video:t,autoplay:n,startAt:r,controls:s,disablekb:i,volume:o,width:a,height:l,onStateChange:c},u){const d=A.useRef(null),[h,p]=A.useState({w:a,h:l}),[g,m]=A.useState(Cn.UNSTARTED);A.useEffect(()=>{const v=x=>()=>m(x),y=d.current,b=v(Cn.PLAYING),w=v(Cn.PAUSED),S=v(Cn.ENDED);return y==null||y.addEventListener("playing",b),y==null||y.addEventListener("pause",w),y==null||y.addEventListener("ended",S),()=>{y==null||y.removeEventListener("playing",b),y==null||y.removeEventListener("pause",w),y==null||y.removeEventListener("ended",S)}},[d.current,m]),A.useEffect(()=>{c==null||c(g)},[g,c]);const _=A.useMemo(()=>({setSize:(v,y)=>p({w:v,h:y}),seekTo:v=>(d.current&&(d.current.currentTime=v),v),setPlaybackSpeed:v=>{d.current&&(d.current.playbackRate=v)},setVolume:()=>{},getCurrentTime:()=>{var v;return Promise.resolve(((v=d.current)==null?void 0:v.currentTime)??0)},loadVideoById:()=>{},playVideo:()=>{var v;return(v=d.current)==null?void 0:v.play()},pauseVideo:()=>{var v;return(v=d.current)==null?void 0:v.pause()},getDuration:()=>{var v;return Promise.resolve(((v=d.current)==null?void 0:v.duration)??0)}}),[d]);return A.useEffect(()=>{_.setSize(a,l)},[a,l,_]),A.useEffect(()=>{r!==void 0&&_.seekTo(r)},[r,_]),A.useImperativeHandle(u,()=>_),f.jsx("video",{width:h.w,height:h.h,autoPlay:n??!0,controls:s,ref:d,children:f.jsx("source",{src:t})})}),xfe="/prs/275/assets/dummy-BNC13ZxI.mp4",Efe=A.forwardRef(function({video:t,controls:n,...r},s){return f.jsx(wfe,{ref:s,video:xfe,controls:!0,...r})});var kfe={VITE_APP_SENTRY_DSN_URL:"https://66c6e940d24b4096a277f350571921bb@o366978.ingest.sentry.io/6174734",VITE_APP_POSTHOG_KEY:"phc_bw7XLoONmtGVezmMKTvcwk3lj37jzxTfisqzjlJ0Jik",VITE_APP_BACKEND_HOST:"backend.allkaraoke.party",VITE_APP_WEBSOCKET_URL:"wss://backend.allkaraoke.party",VITE_APP_SENTRY_TUNNEL:"https://backend.allkaraoke.party/sentry",VITE_APP_POSTHOG_PROXY:"https://backend.allkaraoke.party/posthog",VITE_APP_SONG_CONVERT_PROXY:"https://backend.allkaraoke.party/proxy",VITE_CJS_IGNORE_WARNING:"true",VITE_APP_PRERENDER:"true",BASE_URL:"/prs/275/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const Sx=A.forwardRef((e,t)=>kfe.VITE_APP_OFFLINE?f.jsx(Efe,{...e,ref:t}):f.jsx(Sfe,{...e,ref:t})),QT=()=>({width:global.document.body.clientWidth,height:global.visualViewport.height});function ah(){const[e,t]=A.useState(QT()),n=A.useCallback(Sc(()=>{t(QT())},1e3),[]);return A.useEffect(()=>(global.addEventListener("resize",n),n(),()=>global.removeEventListener("resize",n)),[]),{...e,handleResize:n}}function QL({songData:e,background:t,width:n,height:r,children:s,...i}){return f.jsxs(Tfe,{video:e.video,width:n,height:r,...i,children:[f.jsx(jfe,{video:e.video,blur:!0}),t&&f.jsx(JL,{children:t}),f.jsx(Ofe,{children:f.jsxs(Vfe,{children:[f.jsx($fe,{children:e.title}),f.jsx("br",{}),f.jsx(Nfe,{children:e.artist}),f.jsx("br",{}),e.author&&f.jsxs(Ffe,{children:["by ",e.authorUrl?f.jsx("a",{href:e.authorUrl,children:e.author}):e.author]}),s]})})]})}const Cfe=()=>e=>e.width,Ife=()=>e=>e.height,Tfe=C("div")({name:"FocusedSongContainer",class:"fcgaa7a",propsAsIs:!1,vars:{"fcgaa7a-0":[Cfe(),"px"],"fcgaa7a-1":[Ife(),"px"]}}),JL=C("div")({name:"Background",class:"b13a23ow",propsAsIs:!1}),Rfe=()=>JL,Mfe=()=>e=>e.blur?"blur(0.5rem)":"none",Pfe=C(Rfe())({name:"BaseBackgroundImage",class:"bhj4jpg",propsAsIs:!0,vars:{"bhj4jpg-0":[Mfe()]}}),jfe=e=>f.jsx(Pfe,{style:{backgroundImage:`url('https://i3.ytimg.com/vi/${e.video}/hqdefault.jpg')`},...e}),Ofe=C("div")({name:"ContentLayer",class:"csdt95c",propsAsIs:!1}),Vfe=C("div")({name:"FocusedSongData",class:"f1ndr3ie",propsAsIs:!1}),Zv=C("span")({name:"ContentElement",class:"c8hjtjd",propsAsIs:!1}),Lfe=()=>Zv,$fe=C(Lfe())({name:"SongTitle",class:"slfubkb",propsAsIs:!0}),Bfe=()=>Zv,Nfe=C(Bfe())({name:"SongArtist",class:"s1b9ckqy",propsAsIs:!0}),Dfe=()=>Zv,Ffe=C(Dfe())({name:"SongCreator",class:"s1j5heh9",propsAsIs:!0});function Ufe(e){var h;pa(!1),Aa(!1);const t=Gr(),{width:n,height:r}=ah(),[s,i]=A.useState(0),o=oh(),[a,l]=A.useState([]),{register:c}=Fn({onBackspace:()=>t("menu/")});A.useEffect(()=>o.data&&l(Bde(o.data)),[o.data]);const u=()=>o.data&&i(p=>(p+1)%o.data.length);if(!a.length||!n||!r)return null;const d=om("game/",{song:a[s].id,playlist:"All"});return f.jsxs(To,{children:[f.jsx(ds,{children:f.jsx("title",{children:"Jukebox | AllKaraoke.Party - Free Online Karaoke Party Game"})}),f.jsx(bx,{children:f.jsxs(QL,{width:n,height:r,songData:a[s],"data-test":"jukebox-container","data-song":a[s].id,background:f.jsx(Sx,{autoplay:!0,controls:!0,width:n,height:r,volume:(h=a[s])==null?void 0:h.volume,video:a[s].video,startAt:a[s].videoGap,onStateChange:p=>{p===Cn.ENDED&&u()}}),children:[f.jsx(qfe,{...c("skip-button",u),children:"Skip"}),f.jsx(Cr,{to:d,children:f.jsx(Hfe,{...c("sing-button",()=>t(d),void 0,!0),children:"Sing this song"})})]})})]})}const zfe=()=>vi,Hfe=C(zfe())({name:"PlayThisSongButton",class:"p1s6hhmd",propsAsIs:!0}),Gfe=()=>vi,qfe=C(Gfe())({name:"SkipSongButton",class:"s1qd7tbj",propsAsIs:!0}),Wfe=C("h1")({name:"Heading",class:"h14hafpm",propsAsIs:!1}),Kfe=C("svg")({name:"SCompletedAnim",class:"s15gv902",propsAsIs:!1}),Yfe=e=>f.jsx(Kfe,{...e,children:f.jsxs("svg",{className:"checkmark",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 52 52",children:[f.jsx("circle",{className:"checkmark__circle",cx:"26",cy:"26",r:"25",fill:"none"}),f.jsx("path",{className:"checkmark__check",fill:"none",d:"M14.1 27.2l7.1 7.2 16.7-16.8"})]})});var wx={},Qfe=Ze;Object.defineProperty(wx,"__esModule",{value:!0});var jd=wx.default=void 0,Jfe=Qfe(ot()),VA=f;jd=wx.default=(0,Jfe.default)([(0,VA.jsx)("path",{fillRule:"evenodd",d:"M16.67 13.13C18.04 14.06 19 15.32 19 17v3h4v-3c0-2.18-3.57-3.47-6.33-3.87"},"0"),(0,VA.jsx)("circle",{cx:"9",cy:"8",r:"4",fillRule:"evenodd"},"1"),(0,VA.jsx)("path",{fillRule:"evenodd",d:"M15 12c2.21 0 4-1.79 4-4s-1.79-4-4-4c-.47 0-.91.1-1.33.24C14.5 5.27 15 6.58 15 8s-.5 2.73-1.33 3.76c.42.14.86.24 1.33.24m-6 1c-2.67 0-8 1.34-8 4v3h16v-3c0-2.66-5.33-4-8-4"},"2")],"PeopleAlt");var xx={},Xfe=Ze;Object.defineProperty(xx,"__esModule",{value:!0});var P_=xx.default=void 0,Zfe=Xfe(ot()),ehe=f;P_=xx.default=(0,Zfe.default)((0,ehe.jsx)("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4m0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4"}),"Person");var Ex={},the=Ze;Object.defineProperty(Ex,"__esModule",{value:!0});var Qp=Ex.default=void 0,nhe=the(ot()),rhe=f;Qp=Ex.default=(0,nhe.default)((0,rhe.jsx)("path",{d:"M15.5 1h-8C6.12 1 5 2.12 5 3.5v17C5 21.88 6.12 23 7.5 23h8c1.38 0 2.5-1.12 2.5-2.5v-17C18 2.12 16.88 1 15.5 1m-4 21c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5m4.5-4H7V4h9z"}),"PhoneIphone");var kx={},she=Ze;Object.defineProperty(kx,"__esModule",{value:!0});var XL=kx.default=void 0,ihe=she(ot()),JT=f;XL=kx.default=(0,ihe.default)([(0,JT.jsx)("circle",{cx:"12",cy:"12",r:"3.2"},"0"),(0,JT.jsx)("path",{d:"M9 2 7.17 4H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2h-3.17L15 2zm3 15c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5"},"1")],"PhotoCamera");var Cx={},ohe=Ze;Object.defineProperty(Cx,"__esModule",{value:!0});var ZL=Cx.default=void 0,ahe=ohe(ot()),lhe=f;ZL=Cx.default=(0,ahe.default)((0,lhe.jsx)("path",{d:"M3 11h8V3H3zm2-6h4v4H5zM3 21h8v-8H3zm2-6h4v4H5zm8-12v8h8V3zm6 6h-4V5h4zm0 10h2v2h-2zm-6-6h2v2h-2zm2 2h2v2h-2zm-2 2h2v2h-2zm2 2h2v2h-2zm2-2h2v2h-2zm0-4h2v2h-2zm2 2h2v2h-2z"}),"QrCode");const e$=C("span")({name:"Badge",class:"b1iiifbz",propsAsIs:!1});function che({onPreferenceSelected:e,previouslySelected:t,onBack:n,skipText:r}){const[s]=Be(ur),{register:i}=Fn({onBackspace:n});return f.jsxs(f.Fragment,{children:[f.jsxs(cp,{...i("remote-mics",()=>e("remoteMics"),void 0,t==="remoteMics"),children:[f.jsxs(lp,{children:[f.jsx(nx,{}),f.jsx(Qp,{})]}),f.jsxs("div",{children:[s?"Connect other phones":"Use Smartphones",f.jsxs(ap,{children:["Use"," ",f.jsxs("strong",{children:[f.jsx(XL,{}),"Camera app"]})," ","to scan a"," ",f.jsxs("strong",{children:[f.jsx(ZL,{})," QR code"]})," ","that will open Remote Mic website - no need to download an app!"]})]}),f.jsx(e$,{children:"Recommended"}),f.jsxs(op,{children:[f.jsx(jd,{}),f.jsx("strong",{children:"1-4"})]})]}),f.jsxs(cp,{...i("built-in",()=>e("built-in"),void 0,t==="built-in"),children:[f.jsxs(lp,{children:[f.jsx(P_,{}),s?f.jsx(Qp,{}):f.jsx(ex,{})]}),f.jsxs("div",{children:["This ",s?"device's":"computer's"," microphone",f.jsxs(ap,{children:["Great to ",f.jsx("strong",{children:"test"})," the app, ",f.jsx("strong",{children:"sing alone"})," or don't care about the rivalry at the party"]})]}),f.jsxs(op,{children:[f.jsx(P_,{}),f.jsx("strong",{children:"1"})]})]}),f.jsx("hr",{}),!s&&f.jsxs(cp,{...i("multiple-mics",()=>e("multiple-mics"),void 0,t==="multiple-mics"),children:[f.jsxs(lp,{children:[f.jsx(v_,{}),f.jsx(uL,{})]}),f.jsxs("div",{children:["Multiple microphones",f.jsxs(ap,{children:["Use either ",f.jsx("strong",{children:"SingStar"})," or ",f.jsx("strong",{children:"multiple microphones"})," connected to the device for each player"]})]}),f.jsxs(op,{children:[f.jsx(jd,{}),f.jsx("strong",{children:"2"})]})]}),f.jsxs(cp,{...i("advanced",()=>e("advanced"),void 0,t==="advanced"),children:[f.jsxs(lp,{children:[f.jsx(v_,{}),f.jsx(Qp,{})]}),f.jsxs("div",{children:["Advanced (manual) setup",f.jsx(ap,{children:"Assign the specific device to a player manually, e.g. if you don't have regular SingStar microphones."})]}),f.jsxs(op,{children:[f.jsx(jd,{}),f.jsx("strong",{children:"1-4"})]})]}),f.jsx("hr",{}),f.jsx(Cr,{to:"menu/",onClick:o=>{o==null||o.preventDefault(),e("skip")},children:f.jsx(Te,{...i("skip",()=>e("skip"),void 0,t==="skip"),children:r||"Skip"})})]})}const op=C("div")({name:"PlayersNumber",class:"pl5sjia",propsAsIs:!1}),ap=C("div")({name:"OptionDescription",class:"ootytol",propsAsIs:!1}),lp=C("div")({name:"OptionIconContainer",class:"o19e8bla",propsAsIs:!1}),uhe=()=>Te,cp=C(uhe())({name:"Option",class:"oj73bix",propsAsIs:!0});function t$(){var e,t;return((t=(e=navigator==null?void 0:navigator.userAgent)==null?void 0:e.includes)==null?void 0:t.call(e,"Win"))??!1}const Ix=(e,t,n=!0,r=1e3/Ha.get())=>{A.useEffect(()=>{if(!n)return;const s=setInterval(()=>{const i=dn.getPlayerVolume(e)??0,o=dn.getPlayerFrequency(e)??0;t([i,Array.isArray(o)?o[0]:o])},r);return()=>{clearInterval(s)}},[e,r,t,n])},dhe=(e,t=1e3/Ha.get(),n)=>{const[r,s]=A.useState([0,0]);return Ix(e,s,!0,t),A.useEffect(()=>{n&&n(r)},[r,n]),r},n$=e=>A.useMemo(()=>{if(!Ye.colors.players[e])return"0, 0, 0";const t=de(Ye.colors.players[e].text).toRgb();return`${t.r}, ${t.g}, ${t.b}`},[e]),r$=C("div")({name:"VolumeIndicatorBase",class:"vwzd6ld",propsAsIs:!1}),fhe=A.forwardRef(({volume:e,playerNumber:t,...n},r)=>{const s=`${Math.min(1,e*20)}`,i=n$(t);return Re.getPlayer(t)?f.jsx(r$,{...n,style:{transform:`scaleX(${s})`,background:`linear-gradient(270deg, rgba(${i}, 1) 0%, rgba(${i}, 0) 100%)`},ref:r}):null}),Tx=({playerNumber:e,...t})=>{const[n,r]=A.useState(),s=A.useCallback(([o])=>{if(n){const a=`${Math.min(1,o*20)}`;n.style.transform=`scaleX(${a})`}},[n]);Ix(e,s);const i=n$(e);return f.jsx(r$,{...t,ref:r,style:{background:`linear-gradient(270deg, rgba(${i}, 1) 0%, rgba(${i}, 0) 100%)`}})};function hhe(e,t){const n=Object.keys(t),[r,s]=Ns([te.playerInputChanged,te.inputListChanged],()=>{var l;const a=(l=Re.getPlayer(e))==null?void 0:l.input;return a?[a,go.getInputForPlayerSelected(a)]:[null,null]});A.useEffect(()=>{var a;if(s===null){const l=n[0],c=t[l].getDefault();c&&((a=Re.getPlayer(e))==null||a.changeInput(n[0],c.channel,c.deviceId))}});const i=a=>{var u;const l=Qa(n,(r==null?void 0:r.source)??n[0]),c=a!==void 0?t[l].list[a]:t[l].getDefault();(u=Re.getPlayer(e))==null||u.changeInput(l,c==null?void 0:c.channel,c==null?void 0:c.deviceId)},o=()=>{var u;if(!r)return;const a=t[r.source].list,l=s?a.findIndex(d=>d.id===s.id):0,c=sh(a,l);if(c===0)i(0);else{const d=a[c];(u=Re.getPlayer(e))==null||u.changeInput(r.source,d==null?void 0:d.channel,d==null?void 0:d.deviceId)}};return[(r==null?void 0:r.source)??null,i,s,o]}const s$=e=>{const t=e.player,[n,r,s,i]=hhe(t.number,e.inputs);return f.jsxs(f.Fragment,{children:[e.blockSourceChange?f.jsxs(_he,{children:[f.jsxs("h3",{className:"ph-no-capture",children:[t.getName()," Input"]}),f.jsx("h4",{children:"(click to change)"})]}):f.jsx(Ahe,{...e.readonly?{}:e.register(`player-${t.number}-source`,()=>r()),label:f.jsxs("span",{className:"ph-no-capture",children:[t.getName()," Source"]}),value:n,disabled:e.readonly}),f.jsx(vhe,{...e.readonly?{}:e.register(`player-${t.number}-input`,i),label:"Input",disabled:e.readonly,value:s==null?void 0:s.label,children:f.jsx(ghe,{playerNumber:t.number})})]})},phe=()=>Tx,ghe=C(phe())({name:"MicCheck",class:"m1na2tnr",propsAsIs:!0}),mhe=()=>ts,vhe=C(mhe())({name:"SwitcherWithMicCheck",class:"s5jb8nc",propsAsIs:!0}),yhe=()=>ts,Ahe=C(yhe())({name:"SwitcherWithPlayerHeader",class:"s1tybrq5",propsAsIs:!0}),_he=C("div")({name:"Header",class:"h1k9vntd",propsAsIs:!1});function ey(e=!1,t){const n=Ns(te.inputListChanged,()=>{const r={...go.getInputList()};if(t)return{[t]:r[t]};for(const s in r)r[s].list.length===0&&delete r[s];return r});return A.useEffect(()=>{e&&go.loadMics()},[e]),n}function lh(e,t=wg){A.useEffect(()=>{Re.setMinPlayerNumber(e);const n=Re.getPlayers();if(n.length>t)for(let r=n.length;r>t;r--)Re.removePlayer(n[r-1].number);else if(n.length<e){const r=Re.getPlayers().map(i=>i.number),s=Array.from(Array(wg).keys()).filter(i=>!r.includes(i));console.log(s,r);for(let i=n.length;i<e;i++)Re.addPlayer(s.shift())}},[])}function i$(){const e=A.useRef(0);cs(te.remoteMicConnected,({id:t})=>{var r;console.log("useRemoteMicAutoselect",t);const n=Re.getPlayer(e.current);n?n.changeInput(po.inputName,0,t):(r=Re.addPlayer(e.current))==null||r.changeInput(po.inputName,0,t),e.current=(e.current+1)%wg})}function bhe(e){lh(2);const t=ey(!0),n=Jw();A.useEffect(()=>{e.onSetupComplete(n==="accepted")},[n]),i$();const{register:r}=Fn({onBackspace:e.onBack}),i=Ns(te.playerInputChanged,()=>Re.getInputs()).filter(a=>a.source===lo.inputName),o=Ns([te.inputListChanged,te.playerInputChanged,te.playerRemoved],()=>Re.getPlayers());return f.jsxs(f.Fragment,{children:[f.jsxs(rh,{fallback:f.jsx("h2",{children:"Please allow access to the microphone so we can show them."}),children:[f.jsx(qw,{}),o.map((a,l)=>f.jsx(s$,{inputs:t,player:a,register:r,readonly:l>1},a.number)),f.jsx("hr",{}),i.length>1&&_x()&&t$()&&f.jsxs("h3",{children:[f.jsx("strong",{children:"Chrome"})," is known for not handling SingStar mics well. If you notice any problems, try using an alternative browser (eg. ",f.jsx("strong",{children:"MS Edge"})," or ",f.jsx("strong",{children:"Firefox"}),")"]})]}),f.jsx(Te,{...r("back-button",e.onBack),children:"Change Input Type"}),f.jsx(Te,{...r("save-button",e.onSave),children:e.closeButtonText})]})}var Rx={},She=Ze;Object.defineProperty(Rx,"__esModule",{value:!0});var o$=Rx.default=void 0,whe=She(ot()),xhe=f;o$=Rx.default=(0,whe.default)((0,xhe.jsx)("path",{d:"M9 16.17 4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"}),"Check");var Mx={},Ehe=Ze;Object.defineProperty(Mx,"__esModule",{value:!0});var Px=Mx.default=void 0,khe=Ehe(ot()),Che=f;Px=Mx.default=(0,khe.default)((0,Che.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m1 15h-2v-2h2zm0-4h-2V7h2z"}),"Error");function jx({names:e}){return f.jsx(Ihe,{children:Re.getPlayers().map(t=>f.jsxs(The,{"data-test":`mic-check-p${t.number}`,children:[f.jsx(Tx,{playerNumber:t.number}),f.jsx("span",{className:"ph-no-capture",children:(e==null?void 0:e[t.number])??t.getName()})]},t.number))})}const Ihe=C("div")({name:"MicCheckContainer",class:"ml6c138",propsAsIs:!1}),The=C("div")({name:"Indicator",class:"i1f5875",propsAsIs:!1});function Rhe(e){const[t,n]=A.useState(null),r=A.useRef([]),s=A.useRef(0),i=A.useCallback(([o])=>{if(r.current.push(o),r.current.length>35){const l=r.current.sort()[Math.floor(r.current.length/2)]>0;l||s.current>7?n(l):s.current++,r.current.length=0}},[e]);return Ix(0,i,t!==!0),A.useEffect(()=>{r.current.length=0,s.current=0,n(null)},[e]),t}function Mhe(e){lh(1,1);const{register:t}=Fn({onBackspace:e.onBack}),{Microphone:n}=ey(!0,"Microphone"),r=Ns([te.playerInputChanged,te.inputListChanged],()=>{var u;const l=Re.getInputs().find(d=>d.source==="Microphone"),c=go.getInputList().Microphone.list;return l?((u=c.find(d=>d.id===ol(l)))==null?void 0:u.label)??"":""}),s=l=>{Re.getPlayers().forEach(c=>c.changeInput(lo.inputName,l.channel,l.deviceId))},i=()=>{if(r===""){const l=n.getDefault();l&&s(l)}};A.useEffect(i,[]),cs([te.inputListChanged,te.playerRemoved],i);const o=()=>{const l=n.list.findIndex(c=>c.label===r);if(l>-1){const c=n.list[sh(n.list,l)];s(c)}},a=Rhe(r);return A.useEffect(()=>{e.onSetupComplete(!!r&&!!a)},[r,a]),f.jsxs(f.Fragment,{children:[f.jsxs(rh,{fallback:f.jsx("h2",{children:"Please allow access to the microphone so the default one can be selected."}),children:[!r&&f.jsx("h3",{children:"The default device is being selected."}),r&&f.jsxs(f.Fragment,{children:[f.jsxs(Phe,{children:[f.jsx("h3",{children:"You'll sing using"}),f.jsx("h4",{children:"(click to change)"})]}),f.jsx(ts,{...t("selected-mic",o),label:"Mic",value:r}),f.jsxs(jhe,{children:[a===!0&&f.jsxs(f.Fragment,{children:[f.jsx("h3",{children:"Microphone is audible"}),f.jsx(LA,{children:f.jsx($he,{})})]}),a===!1&&f.jsxs(f.Fragment,{children:[f.jsx("h3",{children:"Microphone is not audible"}),f.jsx(LA,{children:f.jsx(Vhe,{})})]}),a===null&&f.jsxs(f.Fragment,{children:[f.jsx("h3",{children:"Make some noise to the microphone"}),f.jsx(LA,{children:f.jsx(ih,{size:"1em"})})]})]}),a===!1&&f.jsx("h4",{children:"Make some noise to the microphone. If that doesn't work, try using another microphone."})]}),f.jsx(jx,{}),a===!0&&f.jsxs("h4",{children:["Built-in microphones can pick up music from the game. For more accurate scores, try using your"," ",f.jsx("button",{onClick:()=>e.changePreference("remoteMics"),children:"smartphone as a microphone"}),"."]})]}),f.jsx(Te,{...t("back-button",e.onBack),children:"Change Input Type"}),f.jsx(Te,{...t("save-button",e.onSave,void 0,!0,{disabled:!r}),disabled:!r,children:e.closeButtonText})]})}const Phe=C("div")({name:"Header",class:"hmrci9f",propsAsIs:!1}),jhe=C("div")({name:"AudibleStatus",class:"a1od46od",propsAsIs:!1}),LA=C("div")({name:"AudibleIconContainer",class:"a4plzon",propsAsIs:!1}),Ohe=()=>Px,Vhe=C(Ohe())({name:"ErrorIcon",class:"e1464iyc",propsAsIs:!0}),Lhe=()=>o$,$he=C(Lhe())({name:"SuccessIcon",class:"s1lmdbue",propsAsIs:!0});function Bhe(e){lh(2);const t=ey(!0,"Microphone"),n=Jw();A.useEffect(()=>{e.onSetupComplete(n==="accepted")},[n]),A.useEffect(()=>{Re.getPlayers().forEach(i=>{i.input.source!=="Microphone"&&i.changeInput("Microphone",0)})},[]);const{register:r}=Fn({onBackspace:e.onBack}),s=Ns([te.inputListChanged,te.playerInputChanged,te.playerRemoved],()=>Re.getPlayers());return f.jsxs(f.Fragment,{children:[f.jsxs(rh,{fallback:f.jsx("h2",{children:"Please allow access to the microphone so we can show them."}),children:[s.map((i,o)=>f.jsx(s$,{inputs:t,player:i,register:r,readonly:o>1,blockSourceChange:!0},i.number)),f.jsx("hr",{})]}),f.jsx(Te,{...r("back-button",e.onBack),children:"Change Input Type"}),f.jsx(Te,{...r("save-button",e.onSave),children:e.closeButtonText})]})}function Nhe(e){const{register:t}=Fn({onBackspace:e.onBack});return f.jsxs(f.Fragment,{children:[f.jsx(Te,{...t("singstar-mics",()=>e.changePreference("singstar-mics")),children:"SingStar microphones"}),f.jsx(Te,{...t("different-mics-button",()=>e.changePreference("different-mics")),children:"Multiple different microphones"}),f.jsx("hr",{}),f.jsx(Te,{...t("back-button",e.onBack),children:"Change Input Type"})]})}function Dhe(e){var i,o;lh(2);const{register:t}=Fn({onBackspace:e.onBack});i$();const n=Ns([te.inputListChanged,te.playerInputChanged,te.playerRemoved],()=>Re.getInputs().map(a=>a.source==="Remote Microphone"?a:null).map(a=>a?go.getInputForPlayerSelected(a):null)),r=()=>{e.onSave()},s=!!((i=n[0])!=null&&i.label)&&!!((o=n[1])!=null&&o.label);return A.useEffect(()=>{e.onSetupComplete(s)},[s]),f.jsxs(f.Fragment,{children:[f.jsx(qw,{}),f.jsx("h4",{children:"You can connect multiple phones in advance."}),f.jsx("h4",{children:"You will be able to connect phones later."}),f.jsx(jx,{}),f.jsx(Te,{...t("back-button",e.onBack),children:"Change Input Type"}),f.jsx(Te,{...t("save-button",r,void 0,!0),children:e.closeButtonText})]})}function Fhe(e){lh(2);const{register:t}=Fn({onBackspace:e.onBack}),{Microphone:n}=ey(!0,"Microphone"),[r,s]=A.useState(!1),i=Ns([te.playerInputChanged,te.inputListChanged],()=>{const c=Re.getInputs(),u=[...new Set(c.map(p=>p.deviceId))].length===1,d=!c.find(p=>p.source!=="Microphone"),h=!c.find(p=>{var g;return((g=go.getInputForPlayerSelected(p))==null?void 0:g.preferred)===void 0});return u&&d&&h});A.useEffect(()=>(i&&dn.startMonitoring(),()=>{dn.stopMonitoring()}),[i]);const o=()=>{e.onSave()},[a,l]=A.useState(!1);return cs(te.inputListChanged,c=>{const u=n.list.filter(d=>d.preferred!==void 0);u.length===2&&u[0].deviceId===u[1].deviceId&&u.forEach(d=>{var h;(h=Re.getPlayer(d.preferred))==null||h.changeInput(lo.inputName,d.channel,d.deviceId)}),c||l(!0)}),A.useEffect(()=>{e.onSetupComplete(i)},[i]),A.useEffect(()=>{if(i)s(!1);else{const c=setTimeout(()=>s(!0),2500);return()=>clearTimeout(c)}},[i]),f.jsxs(f.Fragment,{children:[f.jsxs(rh,{fallback:f.jsx("h2",{children:"Please allow access to the microphone so we can find SingStar ones."}),children:[!i&&f.jsxs(f.Fragment,{children:[f.jsxs("h3",{children:[f.jsx(ih,{size:"0.85em"})," Connect your SingStar microphones."]}),f.jsx("h4",{"data-test":"setup-not-completed",children:"It can take a couple of seconds to detect after you connect them."}),a&&f.jsx("h4",{children:f.jsxs("h4",{"data-test":"list-change-info",children:["Available microphones list has changed, but no SingStar mics were found. Try"," ",f.jsx("button",{onClick:()=>e.changePreference("advanced"),children:"Advanced"})," setup."]})}),r&&f.jsxs(f.Fragment,{children:[!a&&f.jsxs(XT,{"data-test":"advanced-tip",children:["If they don't get detected, try"," ",f.jsx("button",{onClick:()=>e.changePreference("advanced"),children:"Advanced"})," section in the previous menu."]}),_x()&&t$()&&f.jsxs(XT,{children:[f.jsx("strong",{children:"Chrome"})," is known for not handling SingStar mics well. If you notice any problems, try using an alternative browser (eg. ",f.jsx("strong",{children:"MS Edge"})," or ",f.jsx("strong",{children:"Firefox"}),")"]})]})]}),i&&f.jsxs(f.Fragment,{children:[f.jsxs("h2",{"data-test":"setup-completed",children:[f.jsx("strong",{children:"SingStar"})," microphone connected!"]}),f.jsx(jx,{names:["Blue","Red"]})]})]}),f.jsx(Te,{...t("back-button",e.onBack),children:"Change Input Type"}),f.jsx(Te,{...t("save-button",o,void 0,!0,{disabled:!i}),"data-test":"save-button",children:e.closeButtonText})]})}const XT=C("h4")({name:"ChromeIssue",class:"cy0hy41",propsAsIs:!1});function Uhe(e){return A.useEffect(()=>{e.onSave()},[]),null}const a$="Previously selected input type",zhe=$e.local.getItem(a$);function Ox({onFinish:e,closeButtonText:t,playerNames:n,onBack:r,skipText:s,smooth:i=!0}){const[o,a]=Be(bb),[l,c]=A.useState(o==="skip"?null:o),[u,d]=A.useState(!1);A.useEffect(()=>{const m=dn.monitoringStarted();return dn.startMonitoring(),()=>{!m&&dn.stopMonitoring()}},[]);const h=(...m)=>{i?wf(()=>{_u.flushSync(()=>{c(...m)})}):c(...m)},p=m=>()=>{a(m==="skip"?o??"skip":m),m&&($e.local.setItem(a$,m),jn.capture("sourcePreferenceSet",{source:m})),e==null||e(m)},g=()=>{wf(()=>{c(null),d(!1)})};return f.jsxs(f.Fragment,{children:[f.jsx(Wfe,{children:u?f.jsxs(f.Fragment,{children:[f.jsx(Yfe,{})," Setup completed!"]}):"How do you want to sing?"}),(l===null||l==="skip")&&f.jsx(che,{onPreferenceSelected:h,previouslySelected:zhe,onBack:r,skipText:s}),l==="remoteMics"&&f.jsx(Dhe,{onSetupComplete:d,onBack:g,onSave:p("remoteMics"),closeButtonText:t,changePreference:c}),l==="multiple-mics"&&f.jsx(Nhe,{onSetupComplete:d,onBack:g,closeButtonText:t,changePreference:c}),l==="singstar-mics"&&f.jsx(Fhe,{onSetupComplete:d,onBack:g,onSave:p("singstar-mics"),closeButtonText:t,changePreference:c}),l==="different-mics"&&f.jsx(Bhe,{onSetupComplete:d,onBack:g,onSave:p("singstar-mics"),closeButtonText:t,changePreference:c}),l==="built-in"&&f.jsx(Mhe,{onSetupComplete:d,onBack:g,onSave:p("built-in"),closeButtonText:t,changePreference:c}),l==="advanced"&&f.jsx(bhe,{onSave:p("advanced"),onSetupComplete:d,onBack:g,closeButtonText:t,changePreference:c}),l==="skip"&&f.jsx(Uhe,{onSetupComplete:d,onBack:g,onSave:p("skip"),closeButtonText:t,changePreference:c})]})}function Hhe(e){const t=Gr();return f.jsxs(ya,{children:[f.jsx(ds,{children:f.jsx("title",{children:"Select Input | AllKaraoke.Party - Free Online Karaoke Party Game"})}),f.jsx(Ox,{onFinish:()=>t("menu/"),closeButtonText:"Go to main menu"})]})}function Ghe(e){return String(e).match(/[\d.\-+]*\s*(.*)/)[1]||""}function qhe(e){return parseFloat(e)}const Whe=["theme"];function Khe(e){let{theme:t}=e,n=_r(e,Whe);const r=t[Mg];return f.jsx(pre,Me({},n,{themeId:r?Mg:void 0,theme:r||t}))}const Yhe=({error:e,resetError:t})=>f.jsxs(ya,{supportedBrowsers:!0,children:[f.jsxs("h1",{children:[f.jsx(Tl,{fontSize:"large"})," An error occurred :("]}),f.jsx("h3",{children:"The game crashed with following error"}),f.jsx(Qhe,{children:e.message}),f.jsxs("h3",{children:["Help me fix it by reporting what exactly has happened at"," ",f.jsx("a",{href:"https://github.com/Asvarox/allkaraoke",target:"_blank",rel:"noreferrer",children:"GitHub"})," ","or"," ",f.jsx("a",{href:"https://www.facebook.com/allkaraoke.party",target:"_blank",rel:"noreferrer",children:"Facebook"})]}),f.jsx(Te,{onClick:t,children:"Reset Error"}),f.jsx("h4",{children:"If that doesn't help"}),f.jsx(Te,{onClick:()=>{var n;return global.location.href=(n=global.location)==null?void 0:n.origin},children:"Reload the game"}),f.jsx("h4",{children:"If that doesn't help"}),f.jsx(Te,{onClick:()=>{var n;global.confirm("Are you sure? It will delete all custom songs and scores. Before doing that, try opening the game in an private window or another browser to make sure it will actually help")&&($e.session.clear(),$e.local.clear(),sl.clear(),global.location.href=(n=global.location)==null?void 0:n.origin)},children:"Clear all data"})]}),Qhe=C("span")({name:"Pre",class:"pz2cwpb",propsAsIs:!1});var Jhe={VITE_APP_SENTRY_DSN_URL:"https://66c6e940d24b4096a277f350571921bb@o366978.ingest.sentry.io/6174734",VITE_APP_POSTHOG_KEY:"phc_bw7XLoONmtGVezmMKTvcwk3lj37jzxTfisqzjlJ0Jik",VITE_APP_BACKEND_HOST:"backend.allkaraoke.party",VITE_APP_WEBSOCKET_URL:"wss://backend.allkaraoke.party",VITE_APP_SENTRY_TUNNEL:"https://backend.allkaraoke.party/sentry",VITE_APP_POSTHOG_PROXY:"https://backend.allkaraoke.party/posthog",VITE_APP_SONG_CONVERT_PROXY:"https://backend.allkaraoke.party/proxy",VITE_CJS_IGNORE_WARNING:"true",VITE_APP_PRERENDER:"true",BASE_URL:"/prs/275/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};function Xhe(e){Aa(!1);const t=oh();return A.useEffect(()=>{if(t.data){const n={};(async()=>{for(const r of t.data){if(r.realBpm)continue;const s=[`lookup=song:${encodeURIComponent(r.title)}+artist:${encodeURIComponent(r.artist)}`,"type=both",`api_key=${Jhe.VITE_APP_GET_SONG_BPM_API_TOKEN}`].join("&"),o=await(await fetch(`https://api.getsongbpm.com/search/?${s}`)).json();n[r.id]=Array.isArray(o.search)&&o.search[0]||null}console.log(n)})()}},[t.data]),f.jsx(f.Fragment,{children:"Copy resulting object to `scripts/scraped-bpm-data.json` file and run fillMetadata script"})}var Vx={},Zhe=Ze;Object.defineProperty(Vx,"__esModule",{value:!0});var Od=Vx.default=void 0,epe=Zhe(ot()),tpe=f;Od=Vx.default=(0,epe.default)((0,tpe.jsx)("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2m-9 14-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8z"}),"CheckBox");var Lx={},npe=Ze;Object.defineProperty(Lx,"__esModule",{value:!0});var Vd=Lx.default=void 0,rpe=npe(ot()),spe=f;Vd=Lx.default=(0,rpe.default)((0,spe.jsx)("path",{d:"M19 5v14H5V5zm0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2"}),"CheckBoxOutlineBlank");function ipe(e){return hu("MuiSkeleton",e)}pu("MuiSkeleton",["root","text","rectangular","rounded","circular","pulse","wave","withChildren","fitContent","heightAuto"]);const ope=["animation","className","component","height","style","variant","width"];let cm=e=>e,ZT,eR,tR,nR;const ape=e=>{const{classes:t,variant:n,animation:r,hasChildren:s,width:i,height:o}=e;return Gf({root:["root",n,r,s&&"withChildren",s&&!i&&"fitContent",s&&!o&&"heightAuto"]},ipe,t)},lpe=fa(ZT||(ZT=cm`
  0% {
    opacity: 1;
  }

  50% {
    opacity: 0.4;
  }

  100% {
    opacity: 1;
  }
`)),cpe=fa(eR||(eR=cm`
  0% {
    transform: translateX(-100%);
  }

  50% {
    /* +0.5s of delay between each loop */
    transform: translateX(100%);
  }

  100% {
    transform: translateX(100%);
  }
`)),upe=ko("span",{name:"MuiSkeleton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],n.animation!==!1&&t[n.animation],n.hasChildren&&t.withChildren,n.hasChildren&&!n.width&&t.fitContent,n.hasChildren&&!n.height&&t.heightAuto]}})(({theme:e,ownerState:t})=>{const n=Ghe(e.shape.borderRadius)||"px",r=qhe(e.shape.borderRadius);return Me({display:"block",backgroundColor:e.vars?e.vars.palette.Skeleton.bg:ore(e.palette.text.primary,e.palette.mode==="light"?.11:.13),height:"1.2em"},t.variant==="text"&&{marginTop:0,marginBottom:0,height:"auto",transformOrigin:"0 55%",transform:"scale(1, 0.60)",borderRadius:`${r}${n}/${Math.round(r/.6*10)/10}${n}`,"&:empty:before":{content:'"\\00a0"'}},t.variant==="circular"&&{borderRadius:"50%"},t.variant==="rounded"&&{borderRadius:(e.vars||e).shape.borderRadius},t.hasChildren&&{"& > *":{visibility:"hidden"}},t.hasChildren&&!t.width&&{maxWidth:"fit-content"},t.hasChildren&&!t.height&&{height:"auto"})},({ownerState:e})=>e.animation==="pulse"&&Vc(tR||(tR=cm`
      animation: ${0} 2s ease-in-out 0.5s infinite;
    `),lpe),({ownerState:e,theme:t})=>e.animation==="wave"&&Vc(nR||(nR=cm`
      position: relative;
      overflow: hidden;

      /* Fix bug in Safari https://bugs.webkit.org/show_bug.cgi?id=68196 */
      -webkit-mask-image: -webkit-radial-gradient(white, black);

      &::after {
        animation: ${0} 2s linear 0.5s infinite;
        background: linear-gradient(
          90deg,
          transparent,
          ${0},
          transparent
        );
        content: '';
        position: absolute;
        transform: translateX(-100%); /* Avoid flash during server-side hydration */
        bottom: 0;
        left: 0;
        right: 0;
        top: 0;
      }
    `),cpe,(t.vars||t).palette.action.hover)),dpe=A.forwardRef(function(t,n){const r=mu({props:t,name:"MuiSkeleton"}),{animation:s="pulse",className:i,component:o="span",height:a,style:l,variant:c="text",width:u}=r,d=_r(r,ope),h=Me({},r,{animation:s,component:o,variant:c,hasChildren:!!d.children}),p=ape(h);return f.jsx(upe,Me({as:o,ref:n,className:Vr(p.root,i),ownerState:h},d,{style:Me({width:u,height:a},l)}))}),fpe=dpe;var $x={},um=function(){return um=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var s in t=arguments[n])Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s]);return e},um.apply(this,arguments)},hpe=function(){function e(t,n,r){var s=this;this.endVal=n,this.options=r,this.version="2.8.0",this.defaults={startVal:0,decimalPlaces:0,duration:2,useEasing:!0,useGrouping:!0,useIndianSeparators:!1,smartEasingThreshold:999,smartEasingAmount:333,separator:",",decimal:".",prefix:"",suffix:"",enableScrollSpy:!1,scrollSpyDelay:200,scrollSpyOnce:!1},this.finalEndVal=null,this.useEasing=!0,this.countDown=!1,this.error="",this.startVal=0,this.paused=!0,this.once=!1,this.count=function(i){s.startTime||(s.startTime=i);var o=i-s.startTime;s.remaining=s.duration-o,s.useEasing?s.countDown?s.frameVal=s.startVal-s.easingFn(o,0,s.startVal-s.endVal,s.duration):s.frameVal=s.easingFn(o,s.startVal,s.endVal-s.startVal,s.duration):s.frameVal=s.startVal+(s.endVal-s.startVal)*(o/s.duration);var a=s.countDown?s.frameVal<s.endVal:s.frameVal>s.endVal;s.frameVal=a?s.endVal:s.frameVal,s.frameVal=Number(s.frameVal.toFixed(s.options.decimalPlaces)),s.printValue(s.frameVal),o<s.duration?s.rAF=requestAnimationFrame(s.count):s.finalEndVal!==null?s.update(s.finalEndVal):s.options.onCompleteCallback&&s.options.onCompleteCallback()},this.formatNumber=function(i){var o,a,l,c,u=i<0?"-":"";o=Math.abs(i).toFixed(s.options.decimalPlaces);var d=(o+="").split(".");if(a=d[0],l=d.length>1?s.options.decimal+d[1]:"",s.options.useGrouping){c="";for(var h=3,p=0,g=0,m=a.length;g<m;++g)s.options.useIndianSeparators&&g===4&&(h=2,p=1),g!==0&&p%h==0&&(c=s.options.separator+c),p++,c=a[m-g-1]+c;a=c}return s.options.numerals&&s.options.numerals.length&&(a=a.replace(/[0-9]/g,function(_){return s.options.numerals[+_]}),l=l.replace(/[0-9]/g,function(_){return s.options.numerals[+_]})),u+s.options.prefix+a+l+s.options.suffix},this.easeOutExpo=function(i,o,a,l){return a*(1-Math.pow(2,-10*i/l))*1024/1023+o},this.options=um(um({},this.defaults),r),this.formattingFn=this.options.formattingFn?this.options.formattingFn:this.formatNumber,this.easingFn=this.options.easingFn?this.options.easingFn:this.easeOutExpo,this.startVal=this.validateValue(this.options.startVal),this.frameVal=this.startVal,this.endVal=this.validateValue(n),this.options.decimalPlaces=Math.max(this.options.decimalPlaces),this.resetDuration(),this.options.separator=String(this.options.separator),this.useEasing=this.options.useEasing,this.options.separator===""&&(this.options.useGrouping=!1),this.el=typeof t=="string"?document.getElementById(t):t,this.el?this.printValue(this.startVal):this.error="[CountUp] target is null or undefined",typeof window<"u"&&this.options.enableScrollSpy&&(this.error?console.error(this.error,t):(window.onScrollFns=window.onScrollFns||[],window.onScrollFns.push(function(){return s.handleScroll(s)}),window.onscroll=function(){window.onScrollFns.forEach(function(i){return i()})},this.handleScroll(this)))}return e.prototype.handleScroll=function(t){if(t&&window&&!t.once){var n=window.innerHeight+window.scrollY,r=t.el.getBoundingClientRect(),s=r.top+window.pageYOffset,i=r.top+r.height+window.pageYOffset;i<n&&i>window.scrollY&&t.paused?(t.paused=!1,setTimeout(function(){return t.start()},t.options.scrollSpyDelay),t.options.scrollSpyOnce&&(t.once=!0)):(window.scrollY>i||s>n)&&!t.paused&&t.reset()}},e.prototype.determineDirectionAndSmartEasing=function(){var t=this.finalEndVal?this.finalEndVal:this.endVal;this.countDown=this.startVal>t;var n=t-this.startVal;if(Math.abs(n)>this.options.smartEasingThreshold&&this.options.useEasing){this.finalEndVal=t;var r=this.countDown?1:-1;this.endVal=t+r*this.options.smartEasingAmount,this.duration=this.duration/2}else this.endVal=t,this.finalEndVal=null;this.finalEndVal!==null?this.useEasing=!1:this.useEasing=this.options.useEasing},e.prototype.start=function(t){this.error||(this.options.onStartCallback&&this.options.onStartCallback(),t&&(this.options.onCompleteCallback=t),this.duration>0?(this.determineDirectionAndSmartEasing(),this.paused=!1,this.rAF=requestAnimationFrame(this.count)):this.printValue(this.endVal))},e.prototype.pauseResume=function(){this.paused?(this.startTime=null,this.duration=this.remaining,this.startVal=this.frameVal,this.determineDirectionAndSmartEasing(),this.rAF=requestAnimationFrame(this.count)):cancelAnimationFrame(this.rAF),this.paused=!this.paused},e.prototype.reset=function(){cancelAnimationFrame(this.rAF),this.paused=!0,this.resetDuration(),this.startVal=this.validateValue(this.options.startVal),this.frameVal=this.startVal,this.printValue(this.startVal)},e.prototype.update=function(t){cancelAnimationFrame(this.rAF),this.startTime=null,this.endVal=this.validateValue(t),this.endVal!==this.frameVal&&(this.startVal=this.frameVal,this.finalEndVal==null&&this.resetDuration(),this.finalEndVal=null,this.determineDirectionAndSmartEasing(),this.rAF=requestAnimationFrame(this.count))},e.prototype.printValue=function(t){var n;if(this.el){var r=this.formattingFn(t);!((n=this.options.plugin)===null||n===void 0)&&n.render?this.options.plugin.render(this.el,r):this.el.tagName==="INPUT"?this.el.value=r:this.el.tagName==="text"||this.el.tagName==="tspan"?this.el.textContent=r:this.el.innerHTML=r}},e.prototype.ensureNumber=function(t){return typeof t=="number"&&!isNaN(t)},e.prototype.validateValue=function(t){var n=Number(t);return this.ensureNumber(n)?n:(this.error="[CountUp] invalid start or end value: ".concat(t),null)},e.prototype.resetDuration=function(){this.startTime=null,this.duration=1e3*Number(this.options.duration),this.remaining=this.duration},e}();const ppe=Object.freeze(Object.defineProperty({__proto__:null,CountUp:hpe},Symbol.toStringTag,{value:"Module"})),gpe=qi(ppe);Object.defineProperty($x,"__esModule",{value:!0});var Kn=A,mpe=gpe;function vpe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,s,i,o,a=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(a.push(r.value),a.length!==t);l=!0);}catch(u){c=!0,s=u}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw s}}return a}}function rR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function dm(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?rR(Object(n),!0).forEach(function(r){ype(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ype(e,t,n){return t=Epe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function j_(){return j_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},j_.apply(this,arguments)}function Ape(e,t){if(e==null)return{};var n={},r=Object.keys(e),s,i;for(i=0;i<r.length;i++)s=r[i],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}function l$(e,t){if(e==null)return{};var n=Ape(e,t),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)r=i[s],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function _pe(e,t){return bpe(e)||vpe(e,t)||Spe(e,t)||wpe()}function bpe(e){if(Array.isArray(e))return e}function Spe(e,t){if(e){if(typeof e=="string")return sR(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return sR(e,t)}}function sR(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function wpe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xpe(e,t){if(typeof e!="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Epe(e){var t=xpe(e,"string");return typeof t=="symbol"?t:String(t)}var kpe=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?Kn.useLayoutEffect:Kn.useEffect;function Js(e){var t=Kn.useRef(e);return kpe(function(){t.current=e}),Kn.useCallback(function(){for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return t.current.apply(void 0,r)},[])}var Cpe=function(t,n){var r=n.decimal,s=n.decimals,i=n.duration,o=n.easingFn,a=n.end,l=n.formattingFn,c=n.numerals,u=n.prefix,d=n.separator,h=n.start,p=n.suffix,g=n.useEasing,m=n.useGrouping,_=n.useIndianSeparators,v=n.enableScrollSpy,y=n.scrollSpyDelay,b=n.scrollSpyOnce,w=n.plugin;return new mpe.CountUp(t,a,{startVal:h,duration:i,decimal:r,decimalPlaces:s,easingFn:o,formattingFn:l,numerals:c,separator:d,prefix:u,suffix:p,plugin:w,useEasing:g,useIndianSeparators:_,useGrouping:m,enableScrollSpy:v,scrollSpyDelay:y,scrollSpyOnce:b})},Ipe=["ref","startOnMount","enableReinitialize","delay","onEnd","onStart","onPauseResume","onReset","onUpdate"],Tpe={decimal:".",separator:",",delay:null,prefix:"",suffix:"",duration:2,start:0,decimals:0,startOnMount:!0,enableReinitialize:!0,useEasing:!0,useGrouping:!0,useIndianSeparators:!1},c$=function(t){var n=Object.fromEntries(Object.entries(t).filter(function(U){var $=_pe(U,2),D=$[1];return D!==void 0})),r=Kn.useMemo(function(){return dm(dm({},Tpe),n)},[t]),s=r.ref,i=r.startOnMount,o=r.enableReinitialize,a=r.delay,l=r.onEnd,c=r.onStart,u=r.onPauseResume,d=r.onReset,h=r.onUpdate,p=l$(r,Ipe),g=Kn.useRef(),m=Kn.useRef(),_=Kn.useRef(!1),v=Js(function(){return Cpe(typeof s=="string"?s:s.current,p)}),y=Js(function(U){var $=g.current;if($&&!U)return $;var D=v();return g.current=D,D}),b=Js(function(){var U=function(){return y(!0).start(function(){l==null||l({pauseResume:w,reset:S,start:E,update:x})})};a&&a>0?m.current=setTimeout(U,a*1e3):U(),c==null||c({pauseResume:w,reset:S,update:x})}),w=Js(function(){y().pauseResume(),u==null||u({reset:S,start:E,update:x})}),S=Js(function(){y().el&&(m.current&&clearTimeout(m.current),y().reset(),d==null||d({pauseResume:w,start:E,update:x}))}),x=Js(function(U){y().update(U),h==null||h({pauseResume:w,reset:S,start:E})}),E=Js(function(){S(),b()}),T=Js(function(U){i&&(U&&S(),b())});return Kn.useEffect(function(){_.current?o&&T(!0):(_.current=!0,T())},[o,_,T,a,t.start,t.suffix,t.prefix,t.duration,t.separator,t.decimals,t.decimal,t.formattingFn]),Kn.useEffect(function(){return function(){S()}},[S]),{start:E,pauseResume:w,reset:S,update:x,getCountUp:y}},Rpe=["className","redraw","containerProps","children","style"],Mpe=function(t){var n=t.className,r=t.redraw,s=t.containerProps,i=t.children,o=t.style,a=l$(t,Rpe),l=Kn.useRef(null),c=Kn.useRef(!1),u=c$(dm(dm({},a),{},{ref:l,startOnMount:typeof i!="function"||t.delay===0,enableReinitialize:!1})),d=u.start,h=u.reset,p=u.update,g=u.pauseResume,m=u.getCountUp,_=Js(function(){d()}),v=Js(function(w){t.preserveValue||h(),p(w)}),y=Js(function(){if(typeof t.children=="function"&&!(l.current instanceof Element)){console.error(`Couldn't find attached element to hook the CountUp instance into! Try to attach "containerRef" from the render prop to a an Element, eg. <span ref={containerRef} />.`);return}m()});Kn.useEffect(function(){y()},[y]),Kn.useEffect(function(){c.current&&v(t.end)},[t.end,v]);var b=r&&t;return Kn.useEffect(function(){r&&c.current&&_()},[_,r,b]),Kn.useEffect(function(){!r&&c.current&&_()},[_,r,t.start,t.suffix,t.prefix,t.duration,t.separator,t.decimals,t.decimal,t.className,t.formattingFn]),Kn.useEffect(function(){c.current=!0},[]),typeof i=="function"?i({countUpRef:l,start:d,reset:h,update:p,pauseResume:g,getCountUp:m}):Kn.createElement("span",j_({className:n,ref:l,style:o},s),typeof t.start<"u"?m().formattingFn(t.start):"")},Bx=$x.default=Mpe;$x.useCountUp=c$;const u$=e=>A.useMemo(()=>{const t={};e.forEach(r=>{if(!r.language)return;(Array.isArray(r.language)?r.language:[r.language]).forEach(i=>{const o=i.toLowerCase();t[o]||(t[o]={name:i,count:0}),t[o].count=t[o].count+1})});const n=Object.values(t);return n.sort((r,s)=>s.count-r.count),n},[e]),Ppe=Ui()?0:10;function d$({onClose:e,closeText:t}){const{register:n}=Fn({onBackspace:e}),[r,s]=Be(Vm),{data:i,isLoading:o}=oh(),a=u$(i),l=A.useMemo(()=>a.filter(({name:p,count:g})=>ML(p)&&g>=Ppe),[a]),c=A.useMemo(()=>a.filter(({name:p})=>!l.find(g=>g.name===p)).reduce((p,{count:g})=>p+g,0),[a,l]),u=l.filter(({name:p})=>!(r!=null&&r.includes(p))).reduce((p,{count:g})=>p+g,0),d=p=>{r===null?s([p]):r.includes(p)?s(r.filter(g=>g!==p)):s([...r,p])};A.useEffect(()=>{if(r===null&&(navigator!=null&&navigator.languages)){let p=new Intl.DisplayNames(["en"],{type:"language"});const g=navigator==null?void 0:navigator.languages.map(_=>{var v;return(v=p.of(_))==null?void 0:v.toLowerCase()}).filter(Boolean),m=l.map(_=>_.name).filter(_=>!g.some(v=>v.includes(_.toLowerCase()))).filter(_=>_!=="English");m.length&&s(m)}},[r,l]);const h=A.useMemo(()=>l.every(p=>r==null?void 0:r.includes(p.name)),[r,l]);return A.useEffect(()=>{r!=null&&r.find(p=>!l.find(g=>g.name===p))&&s(r.filter(p=>l.find(g=>g.name===p)))},[l,r,s]),f.jsxs(ya,{children:[f.jsx("h1",{children:"Select Song Languages"}),f.jsxs(Vpe,{children:[o&&new Array(6).fill(0).map((p,g)=>f.jsx(fpe,{variant:"rectangular",width:"100%",height:"10rem",children:f.jsx(iR,{"data-excluded":!0,focused:!1,children:f.jsx(Pc,{language:["English"]})})},g)),l.map(({name:p,count:g})=>{const m=(r==null?void 0:r.includes(p))??!1;return f.jsxs(iR,{"data-excluded":m,...n(`lang-${p}`,()=>d(p)),children:[f.jsx(Ope,{children:m?f.jsx(Vd,{}):f.jsx(Od,{})}),f.jsxs("span",{children:[f.jsx(Lpe,{children:p})," (",g," songs)"]}),f.jsx($pe,{"data-excluded":m,children:f.jsx(Pc,{language:[p]})})]},p)}),c>0&&f.jsxs($A,{children:["…and ",f.jsxs("strong",{children:[c," songs"]})," in other languages"]})]}),f.jsxs("h3",{children:["You can always update the selection in ",f.jsx("strong",{children:"Manage Songs"})," menu"]}),f.jsxs(jpe,{children:[f.jsx(Te,{...n("close-exclude-languages",e,void 0,!0,{disabled:h||o}),children:t}),f.jsxs($A,{children:["The list will contain"," ",f.jsx("strong",{children:f.jsx(Bx,{duration:1,preserveValue:!0,end:u+c})})," ","songs"]}),h&&f.jsxs($A,{"data-test":"all-languages-excluded-warning",children:[f.jsx("strong",{children:f.jsx(Tl,{})})," ","You excluded all the languages, pick at least one"]})]})]})}const jpe=C("div")({name:"NextButtonContainer",class:"nsyfcu2",propsAsIs:!1}),$A=C("h4")({name:"Disclaimer",class:"d7xu69",propsAsIs:!1}),Ope=C("div")({name:"Check",class:"ckix2pa",propsAsIs:!1}),Vpe=C("div")({name:"LanguageListContainer",class:"l94u73m",propsAsIs:!1}),Lpe=C("span")({name:"LanguageName",class:"lymmq9f",propsAsIs:!1}),$pe=C("div")({name:"LanguageFlagBackground",class:"l1hhw229",propsAsIs:!1}),Bpe=()=>Te,iR=C(Bpe())({name:"LanguageEntry",class:"lr7hp1k",propsAsIs:!0});function Npe(e){const t=Gr(),n=()=>t("menu/");return f.jsxs(f.Fragment,{children:[f.jsx(ds,{children:f.jsx("title",{children:"Select Languages | AllKaraoke.Party - Free Online Karaoke Party Game"})}),f.jsx(bx,{children:f.jsx(d$,{onClose:n,closeText:"Return to Main Menu"})})]})}function f$(){const[e]=Be(wb);A.useEffect(()=>{try{e&&document.body.requestFullscreen().catch(console.info)}catch{}},[])}function Dpe(){const{width:e,height:t}=ah();return A.useMemo(()=>parseFloat(getComputedStyle(document.documentElement).fontSize),[e,t])}let BA=0;function h$(){A.useEffect(()=>(document.body.classList.add("blockOverflow"),document.documentElement.classList.add("blockOverflow"),BA++,()=>{BA--,BA===0&&(document.body.classList.remove("blockOverflow"),document.documentElement.classList.remove("blockOverflow"))}),[])}var Nx={},Fpe=Ze;Object.defineProperty(Nx,"__esModule",{value:!0});var p$=Nx.default=void 0,Upe=Fpe(ot()),zpe=f;p$=Nx.default=(0,Upe.default)((0,zpe.jsx)("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2M7.5 18c-.83 0-1.5-.67-1.5-1.5S6.67 15 7.5 15s1.5.67 1.5 1.5S8.33 18 7.5 18m0-9C6.67 9 6 8.33 6 7.5S6.67 6 7.5 6 9 6.67 9 7.5 8.33 9 7.5 9m4.5 4.5c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5m4.5 4.5c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5m0-9c-.83 0-1.5-.67-1.5-1.5S15.67 6 16.5 6s1.5.67 1.5 1.5S17.33 9 16.5 9"}),"Casino");function Hpe({setFilters:e,filters:t,keyboardControl:n,visible:r,setVisible:s}){const i=A.useRef(null),[o,a]=A.useState(!1),l=h=>{e(p=>({...p,search:h}))};xr("down",()=>{var h;(h=i.current)==null||h.blur()},{enabled:o,enableOnTags:["INPUT"]});const u=h=>{h.stopPropagation(),h.preventDefault(),l(h.key)};xr(c1,h=>{u(h),s(!0)},{enabled:!t.search&&n});const d=A.useCallback(h=>{n&&l(h)},[n]);return cs(te.remoteSongSearch,d),xr(c1,h=>{var p;u(h),(p=i.current)==null||p.focus()},{enabled:!o&&n},[t.search]),xr("Backspace",h=>{var p;(p=i.current)==null||p.focus()},{enabled:!o&&n},[t.search]),A.useEffect(()=>{o||s(!!t.search)},[o,t.search,s]),!t.search&&!r?null:f.jsx(Gpe,{"data-test":"song-list-search",children:f.jsx(Wpe,{large:!0,children:f.jsx("form",{"data-test":"filters-search-form",onSubmit:h=>{var p;h.preventDefault(),(p=i.current)==null||p.blur()},children:f.jsx(wu,{onFocus:()=>a(!0),onBlur:()=>a(!1),onKeyDown:h=>{var p;h.key==="Backspace"&&((p=t.search)==null?void 0:p.length)===0&&s(!1)},focused:o,autoFocus:!0,label:"Search",value:t.search??"",onChange:l,ref:i,"data-test":"filters-search"})})})})}const Gpe=C("div")({name:"Container",class:"c15sedmb",propsAsIs:!1}),qpe=()=>e=>e.large?1.5:1,Wpe=C("div")({name:"FilterItem",class:"f95qyg7",propsAsIs:!1,vars:{"f95qyg7-0":[qpe()]}});function Kpe({onRandom:e,setFilters:t,filters:n,keyboardControl:r}){const[s,i]=A.useState(!1),o=()=>{t(a=>({...a,search:""}))};return f.jsxs(f.Fragment,{children:[f.jsxs(Qpe,{children:[f.jsx(ru,{title:"Search",place:"left",children:f.jsx(oR,{onClick:()=>s?o():i(!0),"data-test":"search-song-button",children:f.jsx(hx,{})})}),f.jsx(ru,{title:"Pick random",place:"left",children:f.jsx(oR,{onClick:e,"data-test":"random-song-button",children:f.jsx(p$,{})})})]}),f.jsx(Hpe,{setFilters:t,filters:n,visible:s,setVisible:i,keyboardControl:r})]})}const Ype=()=>vi,oR=C(Ype())({name:"RoundButton",class:"rvgo2yt",propsAsIs:!0}),Qpe=C("div")({name:"Container",class:"c1j0jq1r",propsAsIs:!1});function g$({videoId:e,...t}){return f.jsx(rge,{src:`https://img.youtube.com/vi/${e}/default.jpg`,alt:`Thumbnail image for YouTube video ${e}`,...t})}function Jpe({videoId:e,...t}){const n=qae(e)??e,[r,s]=A.useState(!0);A.useLayoutEffect(()=>{s(o=>!o)},[e]);const[i]=Be(Ms);return i==="low"?null:f.jsxs(Xpe,{...t,children:[f.jsx(aR,{videoId:r?e:n,visible:r}),f.jsx(aR,{videoId:r?n:e,visible:!r}),f.jsx(ege,{videoId:n})]})}const Xpe=C("div")({name:"Container",class:"c1p2azxh",propsAsIs:!1}),Zpe=()=>g$,ege=C(Zpe())({name:"BaseTile",class:"b2t7cd1",propsAsIs:!0}),tge=()=>g$,nge=()=>e=>e.visible?1:0,aR=C(tge())({name:"TileAnimated",class:"tshusbc",propsAsIs:!0,vars:{"tshusbc-0":[nge()]}}),rge=C("img")({name:"Image",class:"irfxc21",propsAsIs:!1});function sge(e,t,n="mousedown",r={}){Fae(n,s=>{const i=s.target;if(!i||!i.isConnected)return;(Array.isArray(e)?e.filter(a=>!!a.current).every(a=>a.current&&!a.current.contains(i)):e.current&&!e.current.contains(i))&&t(s)},void 0,r)}function ige({active:e,closePlaylist:t,playlists:n,selectedPlaylist:r,setSelectedPlaylist:s}){const{register:i,focused:o,focusElement:a}=Fn({enabled:e,additionalHelp:{vertical:void 0,"horizontal-vertical":null}}),l=A.useRef(null);return sge(l,()=>{t()}),kl({left:()=>t("left"),right:()=>t("right")},e),A.useEffect(()=>{var u;const c=new URLSearchParams((u=global.location)==null?void 0:u.search).get("playlist");c&&a(`playlist-${c}`)},[]),A.useEffect(()=>{var c;if(o){const u=n.find(d=>`playlist-${d.name}`===o);if(u){const d=new URL((c=global.location)==null?void 0:c.href);d.searchParams.set("playlist",u.name),global.history.replaceState(null,"",d.toString()),s(u.name)}}},[o,n]),f.jsx(age,{"data-test":"song-list-playlists",active:e,ref:l,children:n.map(({Wrapper:c,...u})=>{const d=f.jsx(cge,{"data-selected":`playlist-${u.name}`===o,"data-active":e,...i(`playlist-${u.name}`,()=>a(`playlist-${u.name}`),void 0,u.name===r),children:u.display??u.name},u.name);return c?f.jsx(c,{active:e,focused:`playlist-${u.name}`===o,children:d},u.name):d})})}const oge=()=>e=>e.active?.75:.5,age=C("div")({name:"Container",class:"cu1a6z2",propsAsIs:!1,vars:{"cu1a6z2-0":[oge()]}}),lge=()=>vi,cge=C(lge())({name:"Playlist",class:"p79qqwj",propsAsIs:!0}),Dx=e=>{const[t,n]=A.useState(null),r=Gc(e),s=async()=>{n(await ZO(e))};return A.useEffect(()=>{s()},[r]),cs(te.songStatStored,s),t},uge=e=>async(t,n,r,s)=>{const i=Gc(e),o=await ZO(e),a=o.scores.map(c=>{if(c.setup.id!==t)return c;const u=c.scores.map(d=>d.name!==r||d.score!==n?d:{name:s.trim(),score:n});return{...c,scores:u}}),l={...o,scores:a};await e3(e,l),te.songScoreUpdated.dispatch(i,l,s.trim())},dge=JSON.parse(`{
  "af": [
    "Persian Dari",
    "Pashto"
  ],
  "al": [
    "Albanian"
  ],
  "dz": [
    "Arabic",
    "Berber"
  ],
  "ad": [
    "Catalan"
  ],
  "ao": [
    "Portuguese"
  ],
  "ag": [
    "English"
  ],
  "ar": [
    "Spanish"
  ],
  "am": [
    "Armenian"
  ],
  "au": [
    "English"
  ],
  "at": [
    "German"
  ],
  "az": [
    "Azerbaijani"
  ],
  "bs": [
    "English"
  ],
  "bh": [
    "Arabic"
  ],
  "bd": [
    "Bengali"
  ],
  "bb": [
    "English"
  ],
  "by": [
    "Belarusian",
    "Russian"
  ],
  "be": [
    "Dutch",
    "French",
    "German"
  ],
  "bz": [
    "English"
  ],
  "dy": [
    "French"
  ],
  "bt": [
    "Dzongkha"
  ],
  "bo": [
    "Spanish",
    "Aymara",
    "Araona",
    "Baure",
    "Bsiro Chiquitano",
    "Canichana",
    "Cavinea",
    "Cayubaba",
    "Chcobo",
    "Chimn",
    "Ese Ejja",
    "Guaran",
    "Guarasuwe",
    "Guarayu",
    "Itonama",
    "Leco",
    "Machajuyai",
    "Machineri",
    "Maropa",
    "Mojeo",
    "Mojeo",
    "Mor",
    "Mosetn",
    "Movima",
    "Pacawara",
    "Puquina",
    "Quechua",
    "Sirion",
    "Tacana",
    "Tapiet",
    "Toromona",
    "Uru-Chipaya",
    "Weenhayek",
    "Yaminawa",
    "Yuki",
    "Yuracar",
    "Zamuco"
  ],
  "ba": [
    "Bosnian",
      "Croatian",
      "Serbian"
  ],
  "bw": [
    "English"
  ],
  "br": [
    "Portuguese"
  ],
  "bn": [
    "Malay"
  ],
  "bg": [
    "Bulgarian"
  ],
  "hv": [
    "French"
  ],
  "bi": [
    "French",
    "Kirundi",
    "English"
  ],
  "kh": [
    "Khmer"
  ],
  "cm": [
    "English",
    "French"
  ],
  "ca": [
    "English",
    "French"
  ],
  "cv": [
    "Portuguese"
  ],
  "cf": [
    "French",
    "Sango"
  ],
  "td": [
    "Arabic",
    "French"
  ],
  "cl": [
    "Spanish"
  ],
  "cn": [
    "Chinese"
  ],
  "cx": [
    "English",
    "Chinese",
    "Malay"
  ],
  "cc": [
    "English",
    "Cocos Malay"
  ],
  "co": [
    "Spanish"
  ],
  "km": [
    "Arabic",
    "Comorian",
    "French"
  ],
  "cd": [
    "French"
  ],
  "cg": [
    "French"
  ],
  "ck": [
    "English",
    "Cook Islands Mori"
  ],
  "cr": [
    "Spanish"
  ],
  "hr": [
    "Croatian"
  ],
  "cu": [
    "Spanish"
  ],
  "cy": [
    "Turkish"
  ],
  "cz": [
    "Czech",
    "Slovak"
  ],
  "dk": [
    "Danish"
  ],
  "dj": [
    "Arabic",
    "French"
  ],
  "dm": [
    "English"
  ],
  "do": [
    "Spanish"
  ],
  "tl": [
    "Portuguese",
    "Tetum"
  ],
  "ec": [
    "Spanish",
    "Quechua"
  ],
  "eg": [
    "Arabic"
  ],
  "sv": [
    "Spanish"
  ],
  "gq": [
    "French",
    "Portuguese",
    "Spanish"
  ],
  "er": [
    "Tigrinya"
  ],
  "ee": [
    "Estonian"
  ],
  "sz": [
    "English",
    "Swazi"
  ],
  "et": [
    "Afar",
    "Amharic",
    "Oromo",
    "Somali",
    "Tigrinya"
  ],
  "fj": [
    "English",
    "Fijian",
    "Fiji Hindi"
  ],
  "fi": [
    "Finnish",
    "Swedish"
  ],
  "fx": [
    "French"
  ],
  "ga": [
    "French"
  ],
  "gm": [
    "English"
  ],
  "ge": [
    "Ossetian",
    "Russian"
  ],
  "de": [
    "German"
  ],
  "gh": [
    "English"
  ],
  "gr": [
    "Greek"
  ],
  "gd": [
    "English"
  ],
  "gt": [
    "Spanish"
  ],
  "gn": [
    "French"
  ],
  "gw": [
    "Portuguese"
  ],
  "gy": [
    "English"
  ],
  "ht": [
    "French",
    "Creole"
  ],
  "hn": [
    "Spanish"
  ],
  "hu": [
    "Hungarian"
  ],
  "is": [
    "Icelandic"
  ],
  "in": [
    "Hindi",
    "English"
  ],
  "id": [
    "Indonesian"
  ],
  "ir": [
    "Persian"
  ],
  "iq": [
    "Arabic",
    "Kurdish"
  ],
  "ie": [
    "Irish",
    "English"
  ],
  "il": [
    "Hebrew"
  ],
  "it": [
    "Italian"
  ],
  "ci": [
    "French"
  ],
  "jm": [
    "English"
  ],
  "jp": [
    "Japanese"
  ],
  "jo": [
    "Arabic"
  ],
  "kz": [
    "Kazakh",
    "Russian"
  ],
  "ke": [
    "English",
    "Swahili"
  ],
  "ki": [
    "English",
    "Gilbertese"
  ],
  "kp": [
    "Korean"
  ],
  "kr": [
    "Korean"
  ],
  "xk": [
    "Albanian",
    "Serbian"
  ],
  "kw": [
    "Arabic"
  ],
  "kg": [
    "Kyrgyz",
    "Russian"
  ],
  "la": [
    "Lao"
  ],
  "lv": [
    "Latvian"
  ],
  "lb": [
    "Arabic"
  ],
  "ls": [
    "Sotho",
    "English"
  ],
  "lr": [
    "English"
  ],
  "ly": [
    "Arabic"
  ],
  "li": [
    "German"
  ],
  "lt": [
    "Lithuanian"
  ],
  "lu": [
    "French",
    "German",
    "Luxembourgish"
  ],
  "mg": [
    "French",
    "Malagasy"
  ],
  "mw": [
    "English",
    "Chichewa"
  ],
  "my": [
    "Malay"
  ],
  "mv": [
    "Dhivehi"
  ],
  "ml": [
    "Bambara",
    "Bobo",
    "Bozo",
    "Dogon",
    "Fula",
    "Hassaniya",
    "Kassonke",
    "Maninke",
    "Minyanka",
    "Senufo",
    "Songhay",
    "Soninke",
    "Tamasheq"
  ],
  "mt": [
    "Italian"
  ],
  "mh": [
    "English",
    "Marshallese"
  ],
  "mr": [
    "Arabic"
  ],
  "mu": [
    "English",
    "Morisien"
  ],
  "mx": [
    "Spanish"
  ],
  "fm": [
    "English"
  ],
  "md": [
    "Moldovan",
    "Russian",
    "Ukrainian"
  ],
  "mc": [
    "French"
  ],
  "mn": [
    "Mongolian"
  ],
  "me": [
    "Montenegrin"
  ],
  "ma": [
    "Arabic",
    "Berber"
  ],
  "mz": [
    "Portuguese"
  ],
  "mm": [
    "Burmese"
  ],
  "na": [
    "English"
  ],
  "nr": [
    "English",
    "Nauruan"
  ],
  "np": [
    "Nepali"
  ],
  "nl": [
    "Dutch"
  ],
  "nz": [
    "English",
    "Maori"
  ],
  "ni": [
    "Spanish"
  ],
  "ne": [
    "French"
  ],
  "ng": [
    "English"
  ],
  "nu": [
    "English",
    "Niuean"
  ],
  "nf": [
    "English",
    "Norfuk"
  ],
  "mk": [
    "Macedonian",
    "Albanian"
  ],
  "no": [
    "Norwegian",
    "Sami"
  ],
  "om": [
    "Arabic"
  ],
  "pk": [
    "Urdu",
    "English"
  ],
  "pw": [
    "English",
    "Palauan"
  ],
  "ps": [
    "Arabic"
  ],
  "pa": [
    "Spanish"
  ],
  "pg": [
    "English",
    "Hiri Motu",
    "Tok Pisin"
  ],
  "py": [
    "Spanish",
    "Guaran"
  ],
  "pe": [
    "Spanish",
    "Quechua",
    "Aymara",
    "Ashninka"
  ],
  "ph": [
    "Filipino",
    "English"
  ],
  "pl": [
    "Polish"
  ],
  "pt": [
    "Portuguese"
  ],
  "qa": [
    "Arabic"
  ],
  "ro": [
    "Romanian"
  ],
  "su": [
    "Russian"
  ],
  "rw": [
    "English",
    "French",
    "Kinyarwanda",
    "Swahili"
  ],
  "eh": [
    "Arabic"
  ],
  "kn": [
    "English"
  ],
  "lc": [
    "English"
  ],
  "vc": [
    "English"
  ],
  "ws": [
    "English",
    "Samoan"
  ],
  "sm": [
    "Italian"
  ],
  "st": [
    "Portuguese"
  ],
  "sa": [
    "Arabic"
  ],
  "sn": [
    "French"
  ],
  "yu": [
    "Serbian"
  ],
  "sc": [
    "English",
    "French",
    "Creole"
  ],
  "sl": [
    "English"
  ],
  "sg": [
    "English",
    "Malay",
    "Chinese",
    "Tamil"
  ],
  "sk": [
    "Slovak"
  ],
  "si": [
    "Slovene"
  ],
  "sb": [
    "English"
  ],
  "so": [
    "Arabic",
    "English",
    "Somali"
  ],
  "za": [
    "Afrikaans",
    "English",
    "Ndebele",
    "Sotho",
    "Swazi",
    "Tsonga",
    "Tswana",
    "Venda",
    "Xhosa",
    "Zulu"
  ],
  "ss": [
    "English"
  ],
  "es": [
    "Spanish"
  ],
  "lk": [
    "Sinhala",
    "Tamil"
  ],
  "sd": [
    "Arabic",
    "English"
  ],
  "sr": [
    "Dutch"
  ],
  "se": [
    "Swedish"
  ],
  "ch": [
    "French",
    "German",
    "Italian",
    "Romansh"
  ],
  "sy": [
    "Arabic"
  ],
  "tw": [
    "Chinese"
  ],
  "tj": [
    "Tajik"
  ],
  "tz": [
    "Swahili",
    "English"
  ],
  "th": [
    "Thai"
  ],
  "tg": [
    "French"
  ],
  "tk": [
    "English",
    "Tokelauan"
  ],
  "to": [
    "English",
    "Tongan"
  ],
  "tt": [
    "English"
  ],
  "tn": [
    "Arabic"
  ],
  "tr": [
    "Turkish"
  ],
  "tm": [
    "Turkmen"
  ],
  "tv": [
    "Tuvaluan",
    "English"
  ],
  "ug": [
    "English",
    "Swahili"
  ],
  "ua": [
    "Ukrainian"
  ],
  "ae": [
    "Arabic"
  ],
  "uk": [
    "English"
  ],
  "us": [
    "English"
  ],
  "uy": [
    "Spanish"
  ],
  "uz": [
    "Uzbek"
  ],
  "vu": [
    "English",
    "French",
    "Bislama"
  ],
  "va": [
    "Italian"
  ],
  "ve": [
    "Spanish"
  ],
  "vn": [
    "Vietnamese"
  ],
  "ye": [
    "Arabic"
  ],
  "zm": [
    "English"
  ],
  "zw": [
    "Chewa",
    "Chibarwe",
    "English",
    "Kalanga",
    "Khoisan",
    "Nambya",
    "Ndau",
    "Ndebele",
    "Shangani",
    "Shona",
    "Sotho",
    "Tonga",
    "Tswana",
    "Venda",
    "Xhosa"
  ]
}`),fge=["US","GB"];function hge({song:e,forceFlag:t,...n}){const r=e.language[0],s=A.useMemo(()=>{var i;return e.artistOrigin?((i=dge[e.artistOrigin.toLowerCase()])==null?void 0:i.includes(r))??t:!1},[e.artistOrigin,r,t]);return f.jsx(f.Fragment,{children:t&&e.artistOrigin?f.jsx(Pc,{isocode:e.artistOrigin,...n}):s&&!fge.includes(e.artistOrigin)?f.jsx(Pc,{isocode:e.artistOrigin,...n}):e.language[0]!=="English"?f.jsx(Pc,{language:e.language,...n}):null})}var Fx={},pge=Ze;Object.defineProperty(Fx,"__esModule",{value:!0});var m$=Fx.default=void 0,gge=pge(ot()),mge=f;m$=Fx.default=(0,gge.default)((0,mge.jsx)("path",{d:"M7.25 12.5 4.75 9H3.5v6h1.25v-3.5L7.3 15h1.2V9H7.25zM9.5 15h4v-1.25H11v-1.11h2.5v-1.26H11v-1.12h2.5V9h-4zm9.75-6v4.5h-1.12V9.99h-1.25v3.52h-1.13V9H14.5v5c0 .55.45 1 1 1h4c.55 0 1-.45 1-1V9z"}),"FiberNewOutlined");var Ux={},vge=Ze;Object.defineProperty(Ux,"__esModule",{value:!0});var v$=Ux.default=void 0,yge=vge(ot()),Age=f;v$=Ux.default=(0,yge.default)((0,Age.jsx)("path",{d:"M12 17.27 18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"}),"Star");function _ge(e){return qa(e.edition??"").startsWith("esc")}const y$="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'?%3e%3csvg%20width='125.33'%20height='131.46'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:cc='http://creativecommons.org/ns%23'%20xmlns:dc='http://purl.org/dc/elements/1.1/'%20xmlns:rdf='http://www.w3.org/1999/02/22-rdf-syntax-ns%23'%3e%3cpath%20stroke='black'%20fill='white'%20d='m12.726%2058.556c0.31803-28.513%2015.157-37.437%2023.237-37.437%2011.285%200%2015.946%208.6151%2016.707%2012.429%200.76116%203.8111%205.0324%206.8595%206.4047%200.60798%201.3734-6.2515%2014.649-25.315%2030.966-25.315%2014.943%200%2020.119%2015.41%2019.671%2028.518-1.2228%2035.683-47.19%2064.158-53.239%2082.143-5.3875-10.891-44.126-26.634-43.746-60.946zm82.652-58.556c-13.42%200-29.29%209.9111-38.896%2026.382-2.592-5.9483-11.827-12.43-22.805-12.43-8.8462%200-33.676%2011.056-33.676%2046.74%200%2046.052%2046.593%2055.508%2056.011%2069.825%200.64721%200.98433%202.7319%201.728%203.5276-0.62388%207.5157-22.18%2065.791-47.242%2065.791-92.379-5.3e-4%20-25.314-16.536-37.513-29.955-37.513z'%20stroke-width='.53006'/%3e%3c/svg%3e",bge=new Intl.Collator("en",{numeric:!0,sensitivity:"base"}).compare,O_=1/0,NA=e=>e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),lR="eexxaacctt",Sge="A-Z",wge="a-z",qu=(e,t,n)=>e.replace(Sge,t).replace(wge,n),cR={unicode:!1,alpha:null,interSplit:"[^A-Za-z\\d']+",intraSplit:"[a-z][A-Z]",intraBound:"[A-Za-z]\\d|\\d[A-Za-z]|[a-z][A-Z]",interLft:0,interRgt:0,interChars:".",interIns:O_,intraChars:"[a-z\\d']",intraIns:null,intraContr:"'[a-z]{1,2}\\b",intraMode:0,intraSlice:[1,O_],intraSub:null,intraTrn:null,intraDel:null,intraFilt:(e,t,n)=>!0,sort:(e,t,n)=>{let{idx:r,chars:s,terms:i,interLft2:o,interLft1:a,start:l,intraIns:c,interIns:u}=e;return r.map((d,h)=>h).sort((d,h)=>s[h]-s[d]||c[d]-c[h]||i[h]+o[h]+.5*a[h]-(i[d]+o[d]+.5*a[d])||u[d]-u[h]||l[d]-l[h]||bge(t[r[d]],t[r[h]]))}},DA=(e,t)=>t==0?"":t==1?e+"??":t==O_?e+"*?":e+`{0,${t}}?`,uR="(?:\\b|_)";function ty(e){e=Object.assign({},cR,e);let{unicode:t,interLft:n,interRgt:r,intraMode:s,intraSlice:i,intraIns:o,intraSub:a,intraTrn:l,intraDel:c,intraContr:u,intraSplit:d,interSplit:h,intraBound:p,intraChars:g}=e;o??(o=s),a??(a=s),l??(l=s),c??(c=s);let m=e.letters??e.alpha;if(m!=null){let G=m.toLocaleUpperCase(),F=m.toLocaleLowerCase();h=qu(h,G,F),d=qu(d,G,F),p=qu(p,G,F),g=qu(g,G,F),u=qu(u,G,F)}let _=t?"u":"";const v='".+?"',y=new RegExp(v,"gi"+_),b=new RegExp(`(?:\\s+|^)-(?:${g}+|${v})`,"gi"+_);let{intraRules:w}=e;w==null&&(w=G=>{let F=cR.intraSlice,ne=0,O=0,fe=0,Z=0;if(/[^\d]/.test(G)){let ae=G.length;ae<=4?ae>=3&&(fe=Math.min(l,1),ae==4&&(ne=Math.min(o,1))):(F=i,ne=o,O=a,fe=l,Z=c)}return{intraSlice:F,intraIns:ne,intraSub:O,intraTrn:fe,intraDel:Z}});let S=!!d,x=new RegExp(d,"g"+_),E=new RegExp(h,"g"+_),T=new RegExp("^"+h+"|"+h+"$","g"+_),U=new RegExp(u,"gi"+_);const $=G=>{let F=[];G=G.replace(y,O=>(F.push(O),lR)),G=G.replace(T,"").toLocaleLowerCase(),S&&(G=G.replace(x,O=>O[0]+" "+O[1]));let ne=0;return G.split(E).filter(O=>O!="").map(O=>O===lR?F[ne++]:O)},D=/[^\d]+|\d+/g,Q=(G,F=0,ne=!1)=>{let O=$(G);if(O.length==0)return[];let fe=Array(O.length).fill("");O=O.map((ce,_e)=>ce.replace(U,Fe=>(fe[_e]=Fe,"")));let Z;if(s==1)Z=O.map((ce,_e)=>{if(ce[0]==='"')return NA(ce.slice(1,-1));let Fe="";for(let Ne of ce.matchAll(D)){let be=Ne[0],{intraSlice:Ee,intraIns:Ge,intraSub:qe,intraTrn:Ie,intraDel:st}=w(be);if(Ge+qe+Ie+st==0)Fe+=be+fe[_e];else{let[xt,Jt]=Ee,It=be.slice(0,xt),fn=be.slice(Jt),at=be.slice(xt,Jt);Ge==1&&It.length==1&&It!=at[0]&&(It+="(?!"+It+")");let vt=at.length,zt=[be];if(qe)for(let Ke=0;Ke<vt;Ke++)zt.push(It+at.slice(0,Ke)+g+at.slice(Ke+1)+fn);if(Ie)for(let Ke=0;Ke<vt-1;Ke++)at[Ke]!=at[Ke+1]&&zt.push(It+at.slice(0,Ke)+at[Ke+1]+at[Ke]+at.slice(Ke+2)+fn);if(st)for(let Ke=0;Ke<vt;Ke++)zt.push(It+at.slice(0,Ke+1)+"?"+at.slice(Ke+1)+fn);if(Ge){let Ke=DA(g,1);for(let Tt=0;Tt<vt;Tt++)zt.push(It+at.slice(0,Tt)+Ke+at.slice(Tt)+fn)}Fe+="(?:"+zt.join("|")+")"+fe[_e]}}return Fe});else{let ce=DA(g,o);F==2&&o>0&&(ce=")("+ce+")("),Z=O.map((_e,Fe)=>_e[0]==='"'?NA(_e.slice(1,-1)):_e.split("").map((Ne,be,Ee)=>(o==1&&be==0&&Ee.length>1&&Ne!=Ee[be+1]&&(Ne+="(?!"+Ne+")"),Ne)).join(ce)+fe[Fe])}let ae=n==2?uR:"",Pe=r==2?uR:"",ye=Pe+DA(e.interChars,e.interIns)+ae;return F>0?ne?Z=ae+"("+Z.join(")"+Pe+"|"+ae+"(")+")"+Pe:(Z="("+Z.join(")("+ye+")(")+")",Z="(.??"+ae+")"+Z+"("+Pe+".*)"):(Z=Z.join(ye),Z=ae+Z+Pe),[new RegExp(Z,"i"+_),O,fe]},P=(G,F,ne)=>{let[O]=Q(F);if(O==null)return null;let fe=[];if(ne!=null)for(let Z=0;Z<ne.length;Z++){let ae=ne[Z];O.test(G[ae])&&fe.push(ae)}else for(let Z=0;Z<G.length;Z++)O.test(G[Z])&&fe.push(Z);return fe};let L=!!p,M=new RegExp(h,_),I=new RegExp(p,_);const z=(G,F,ne)=>{let[O,fe,Z]=Q(ne,1),[ae]=Q(ne,2),Pe=fe.length,ye=G.length,ce=Array(ye).fill(0),_e={idx:Array(ye),start:ce.slice(),chars:ce.slice(),terms:ce.slice(),interIns:ce.slice(),intraIns:ce.slice(),interLft2:ce.slice(),interRgt2:ce.slice(),interLft1:ce.slice(),interRgt1:ce.slice(),ranges:Array(ye)},Fe=n==1||r==1,Ne=0;for(let be=0;be<G.length;be++){let Ee=F[G[be]],Ge=Ee.match(O),qe=Ge.index+Ge[1].length,Ie=qe,st=!1,xt=0,Jt=0,It=0,fn=0,at=0,vt=0,zt=0,Ke=0,Tt=[];for(let me=0,et=2;me<Pe;me++,et+=2){let hn=Ge[et].toLocaleLowerCase(),lt=fe[me],tt=lt[0]=='"'?lt.slice(1,-1):lt+Z[me],Xt=tt.length,sn=hn.length,Ht=hn==tt;if(!Ht&&Ge[et+1].length>=Xt){let ft=Ge[et+1].toLocaleLowerCase().indexOf(tt);ft>-1&&(Tt.push(Ie,sn,ft,Xt),Ie+=j(Ge,et,ft,Xt),hn=tt,sn=Xt,Ht=!0,me==0&&(qe=Ie))}if(Fe||Ht){let ft=Ie-1,Ln=Ie+sn,dr=!1,pn=!1;if(ft==-1||M.test(Ee[ft]))Ht&&xt++,dr=!0;else{if(n==2){st=!0;break}if(L&&I.test(Ee[ft]+Ee[ft+1]))Ht&&Jt++,dr=!0;else if(n==1){let ms=Ge[et+1],qr=Ie+sn;if(ms.length>=Xt){let yt=0,gn=!1,Oe=new RegExp(tt,"ig"+_),Qe;for(;Qe=Oe.exec(ms);){yt=Qe.index;let Un=qr+yt,Wr=Un-1;if(Wr==-1||M.test(Ee[Wr])){xt++,gn=!0;break}else if(I.test(Ee[Wr]+Ee[Un])){Jt++,gn=!0;break}}gn&&(dr=!0,Tt.push(Ie,sn,yt,Xt),Ie+=j(Ge,et,yt,Xt),hn=tt,sn=Xt,Ht=!0,me==0&&(qe=Ie))}if(!dr){st=!0;break}}}if(Ln==Ee.length||M.test(Ee[Ln]))Ht&&It++,pn=!0;else{if(r==2){st=!0;break}if(L&&I.test(Ee[Ln-1]+Ee[Ln]))Ht&&fn++,pn=!0;else if(r==1){st=!0;break}}Ht&&(at+=Xt,dr&&pn&&vt++)}if(sn>Xt&&(Ke+=sn-Xt),me>0&&(zt+=Ge[et-1].length),!e.intraFilt(tt,hn,Ie)){st=!0;break}me<Pe-1&&(Ie+=sn+Ge[et+1].length)}if(!st){_e.idx[Ne]=G[be],_e.interLft2[Ne]=xt,_e.interLft1[Ne]=Jt,_e.interRgt2[Ne]=It,_e.interRgt1[Ne]=fn,_e.chars[Ne]=at,_e.terms[Ne]=vt,_e.interIns[Ne]=zt,_e.intraIns[Ne]=Ke,_e.start[Ne]=qe;let me=Ee.match(ae),et=me.index+me[1].length,hn=Tt.length,lt=hn>0?0:1/0,tt=hn-4;for(let ft=2;ft<me.length;){let Ln=me[ft].length;if(lt<=tt&&Tt[lt]==et){let dr=Tt[lt+1],pn=Tt[lt+2],ms=Tt[lt+3],qr=ft,yt="";for(let gn=0;gn<dr;qr++)yt+=me[qr],gn+=me[qr].length;me.splice(ft,qr-ft,yt),et+=j(me,ft,pn,ms),lt+=4}else et+=Ln,ft++}et=me.index+me[1].length;let Xt=_e.ranges[Ne]=[],sn=et,Ht=et;for(let ft=2;ft<me.length;ft++){let Ln=me[ft].length;et+=Ln,ft%2==0?Ht=et:Ln>0&&(Xt.push(sn,Ht),sn=Ht=et)}Ht>sn&&Xt.push(sn,Ht),Ne++}}if(Ne<G.length)for(let be in _e)_e[be]=_e[be].slice(0,Ne);return _e},j=(G,F,ne,O)=>{let fe=G[F]+G[F+1].slice(0,ne);return G[F-1]+=fe,G[F]=G[F+1].slice(ne,ne+O),G[F+1]=G[F+1].slice(ne+O),fe.length},N=5,V=(G,F,ne,O=1e3,fe)=>{ne=ne?ne===!0?N:ne:0;let Z=null,ae=null,Pe=[];F=F.replace(b,be=>{let Ee=be.trim().slice(1);return Ee[0]==='"'&&(Ee=NA(Ee.slice(1,-1))),Pe.push(Ee),""});let ye=$(F),ce;if(Pe.length>0){if(ce=new RegExp(Pe.join("|"),"i"+_),ye.length==0){let be=[];for(let Ee=0;Ee<G.length;Ee++)ce.test(G[Ee])||be.push(Ee);return[be,null,null]}}else if(ye.length==0)return[null,null,null];if(ne>0){let be=$(F);if(be.length>1){let Ee=be.slice().sort((qe,Ie)=>Ie.length-qe.length);for(let qe=0;qe<Ee.length;qe++){if((fe==null?void 0:fe.length)==0)return[[],null,null];fe=P(G,Ee[qe],fe)}if(be.length>ne)return[fe,null,null];Z=A$(be).map(qe=>qe.join(" ")),ae=[];let Ge=new Set;for(let qe=0;qe<Z.length;qe++)if(Ge.size<fe.length){let Ie=fe.filter(xt=>!Ge.has(xt)),st=P(G,Z[qe],Ie);for(let xt=0;xt<st.length;xt++)Ge.add(st[xt]);ae.push(st)}else ae.push([])}}Z==null&&(Z=[F],ae=[(fe==null?void 0:fe.length)>0?fe:P(G,F)]);let _e=null,Fe=null;if(Pe.length>0&&(ae=ae.map(be=>be.filter(Ee=>!ce.test(G[Ee])))),ae.reduce((be,Ee)=>be+Ee.length,0)<=O){_e={},Fe=[];for(let be=0;be<ae.length;be++){let Ee=ae[be];if(Ee==null||Ee.length==0)continue;let Ge=Z[be],qe=z(Ee,G,Ge),Ie=e.sort(qe,G,Ge);if(be>0)for(let st=0;st<Ie.length;st++)Ie[st]+=Fe.length;for(let st in qe)_e[st]=(_e[st]??[]).concat(qe[st]);Fe=Fe.concat(Ie)}}return[[].concat(...ae),_e,Fe]};return{search:(...G)=>V(...G),split:$,filter:P,info:z,sort:e.sort}}const xge=(()=>{let e={A:"ÁÀÃÂÄĄ",a:"áàãâäą",E:"ÉÈÊËĖ",e:"éèêëę",I:"ÍÌÎÏĮ",i:"íìîïį",O:"ÓÒÔÕÖ",o:"óòôõö",U:"ÚÙÛÜŪŲ",u:"úùûüūų",C:"ÇČĆ",c:"çčć",L:"Ł",l:"ł",N:"ÑŃ",n:"ñń",S:"ŠŚ",s:"šś",Z:"ŻŹ",z:"żź"},t=new Map,n="";for(let i in e)e[i].split("").forEach(o=>{n+=o,t.set(o,i)});let r=new RegExp(`[${n}]`,"g"),s=i=>t.get(i);return i=>{if(typeof i=="string")return i.replace(r,s);let o=Array(i.length);for(let a=0;a<i.length;a++)o[a]=i[a].replace(r,s);return o}})();function A$(e){e=e.slice();let t=e.length,n=[e.slice()],r=new Array(t).fill(0),s=1,i,o;for(;s<t;)r[s]<s?(i=s%2&&r[s],o=e[s],e[s]=e[i],e[i]=o,++r[s],s=1,n.push(e.slice())):(r[s]=0,++s);return n}const Ege=(e,t)=>t?`<mark>${e}</mark>`:e,kge=(e,t)=>e+t;function Cge(e,t,n=Ege,r="",s=kge){r=s(r,n(e.substring(0,t[0]),!1))??r;for(let i=0;i<t.length;i+=2){let o=t[i],a=t[i+1];r=s(r,n(e.substring(o,a),!0))??r,i<t.length-3&&(r=s(r,n(e.substring(t[i+1],t[i+2]),!1))??r)}return r=s(r,n(e.substring(t[t.length-1]),!1))??r,r}ty.latinize=xge;ty.permute=e=>A$([...Array(e.length).keys()]).sort((n,r)=>{for(let s=0;s<n.length;s++)if(n[s]!=r[s])return n[s]-r[s];return 0}).map(n=>n.map(r=>e[r]));ty.highlight=Cge;const Ige=(e,t,n)=>{const r=u$(e);return A.useMemo(()=>n?[]:[{name:"Selection",Wrapper:({children:a,active:l,focused:c})=>f.jsx(Mse,{...l&&c?{open:!0}:{},oneTime:!1,timeoutMs:15e3,dismissKey:"selection-playlist",place:"right",title:f.jsxs(f.Fragment,{children:["A combination of songs you might like and popular with other players.",f.jsx("br",{}),f.jsx("br",{})," ",f.jsx("strong",{children:"Search"})," is performed across all the songs."]}),children:a}),display:f.jsxs("span",{children:[f.jsx("strong",{children:"★"})," Selection ",f.jsx("strong",{children:"★"})]}),filters:{specificSongs:t}},{name:"All",filters:{}},r[0]?{name:r[0].name,filters:{language:r[0].name}}:null,r[1]?{name:r[1].name,filters:{language:r[1].name}}:null,{name:"Oldies",filters:{yearBefore:1995}},{name:"Modern",filters:{yearAfter:1995}},{name:"Duets",filters:{duet:!0}},{name:"New",filters:{recentlyUpdated:!0}}].filter(a=>a!==null),[r,n,t])},dR=e=>qa((e==null?void 0:e.search)??"").length>2,fR={},Tge=/[^0-9a-z ]/gi,FA=e=>Xb(e).toLowerCase().replace(Tge,""),fm={language:(e,t)=>t===""?e:e.filter(n=>n.language.includes(t)),excludeLanguages:(e,t=[],n)=>t.length===0||dR(n)||n.edition==="esc"?e:e.filter(r=>!r.language.every(s=>t.includes(s))),search:(e,t)=>{const n=qa(t);if(n.length>0){const r=new ty({}),[,s,i]=r.search(e.map(o=>`${FA(o.artist)} ${FA(o.title)}`),FA(t));return i&&s?i.map(o=>e[s.idx[o]]):e.filter(o=>o.search.includes(n))}return e},duet:(e,t)=>t===null?e:e.filter(n=>t?n.tracksCount>1:n.tracksCount===1),yearBefore:(e,t)=>t?e.filter(n=>Number(n.year)<t):e,yearAfter:(e,t)=>t?e.filter(n=>Number(n.year)>=t):e,edition:(e,t)=>qa(t).length?e.filter(r=>qa(r.edition??"").includes(t)):e,recentlyUpdated:e=>{const t=ii().subtract(31,"days");return e.filter(n=>n.lastUpdate&&ii(n.lastUpdate).isAfter(t))},specificSongs:(e,t,n)=>dR(n)?e:e.filter(r=>t.includes(r.id))},hR=(e,t)=>Object.entries(t).filter(n=>n[0]in fm).reduce((n,[r,s])=>fm[r](n,s,t,e),e),Rge=(e,t,n)=>{var p;const[r]=Be(Vm),s=A.useMemo(()=>hR(e,{excludeLanguages:r??[]}),[e,r]),i=Ige(s,t,n),[o,a]=A.useState(new URLSearchParams((p=global.location)==null?void 0:p.search).get("playlist")??null),l=i.find(g=>g.name===o)??i[0],[c,u]=A.useState(fR);A.useEffect(()=>{u(fR)},[o]);const d=A.useDeferredValue(c),h=A.useMemo(()=>hR(e,{...(l==null?void 0:l.filters)??{},...d,excludeLanguages:r??[]}),[e,d,r,l]);return{filters:c,filteredList:h,setFilters:u,selectedPlaylist:o,setSelectedPlaylist:a,playlists:i,playlist:l}},Mge=e=>f.jsxs(jge,{children:[e.song.tracksCount>1&&f.jsxs(Nge,{"data-test":"multitrack-indicator",children:[f.jsx(jd,{}),"  Duet"]}),f.jsx(Pge,{song:e.song,isPopular:e.isPopular,focused:!!e.video})]}),Pge=({song:e,isPopular:t,focused:n})=>{var l,c,u,d;const r=A.useMemo(()=>fm.recentlyUpdated([e]).length>0,[e]),s=_ge(e),i=Dx(e),o=((c=(l=i==null?void 0:i.scores)==null?void 0:l.at(-1))==null?void 0:c.date)??!1,a=o&&ii(o).isAfter(ii().subtract(1,"days"));return i!=null&&i.plays?f.jsx(b$,{"data-test":"song-stat-indicator",children:a?"Played today":f.jsx(f.Fragment,{children:n?f.jsxs(f.Fragment,{children:["Played ",i.plays," time",i.plays>1&&"s"]}):i.plays})}):s?f.jsxs(zA,{white:!0,children:[f.jsx(UA,{children:n?(u=e.edition)==null?void 0:u.replace("ESC","Eurovision"):(d=e.edition)==null?void 0:d.replace("ESC ","")}),f.jsx(Lge,{src:y$,alt:e.edition})]}):r?f.jsx(zA,{white:!0,children:n?f.jsx(UA,{children:"Added recently"}):f.jsx(m$,{})}):t&&e.language.includes("English")?f.jsx(f.Fragment,{children:f.jsxs(zA,{children:[n&&f.jsx(UA,{children:"Popular"}),f.jsx(v$,{})]})}):null},UA=C("div")({name:"SongIndicatorLabel",class:"s1ujjvu7",propsAsIs:!1}),jge=C("div")({name:"SongCardTopRightContainer",class:"smfdvqp",propsAsIs:!1}),_$=C("div")({name:"SongIndicator",class:"s1cmlbbw",propsAsIs:!1}),Oge=()=>_$,Vge=()=>e=>e.white?"white":Ye.colors.text.active,zA=C(Oge())({name:"SongIndicatorIcon",class:"s1pay489",propsAsIs:!0,vars:{"s1pay489-0":[Vge()]}}),Lge=C("img")({name:"EurovisionIcon",class:"ep9ovwi",propsAsIs:!1}),$ge=()=>_$,b$=C($ge())({name:"SongIndicatorStat",class:"se2f7a5",propsAsIs:!0}),Bge=()=>b$,Nge=C(Bge())({name:"MultiTrackIndicator",class:"mxj6b2m",propsAsIs:!0}),S$=({song:e,focused:t,video:n,children:r,index:s,groupLetter:i,handleClick:o,isPopular:a,background:l=!0,forceFlag:c=!1,...u})=>{const d=u["data-expanded"]??!1,h=A.useCallback(()=>o?o(s,i):void 0,[o,s,i]),[p]=Be(Ms);return f.jsxs(Hge,{...u,onClick:o?h:void 0,children:[l&&f.jsx(Gge,{style:{backgroundImage:`url('https://i3.ytimg.com/vi/${e.video}/hqdefault.jpg')`},"data-focused":d?!1:t,"data-expanded":u["data-expanded"],"data-graphic-setting":p}),f.jsxs(zge,{"data-expanded":d,children:[!d&&f.jsx(Mge,{song:e,isPopular:a,video:n}),f.jsx(x$,{"data-expanded":d,children:e.artist}),f.jsx(zx,{"data-expanded":d,children:e.title}),f.jsxs(Uge,{"data-expanded":d,children:[d&&f.jsxs(f.Fragment,{children:[e.author&&f.jsxs(E$,{expanded:d,children:["by ",e.authorUrl?f.jsx("a",{href:e.authorUrl,target:"_blank",rel:"noreferrer",children:e.author}):e.author]}),f.jsx(Qge,{song:e})]}),!d&&f.jsx(Fge,{song:e,forceFlag:c})]})]}),r,n]})},Dge=()=>hge,Fge=C(Dge())({name:"Language",class:"l12qitgl",propsAsIs:!0}),Uge=C("div")({name:"ExpandedData",class:"ehwzj9e",propsAsIs:!1}),zge=C("div")({name:"SongInfo",class:"sk20f8r",propsAsIs:!1}),Hge=C("div")({name:"SongCardContainer",class:"s1201cx0",propsAsIs:!1}),Gge=C("div")({name:"SongCardBackground",class:"s11wy7g1",propsAsIs:!1}),w$=C("span")({name:"SongListEntryDetails",class:"s855j3g",propsAsIs:!1}),qge=()=>w$,x$=C(qge())({name:"SongListEntryDetailsArtist",class:"s1o4j761",propsAsIs:!0}),Wge=()=>w$,Kge=()=>e=>e.expanded?"1.5rem":"0.5rem",zx=C(Wge())({name:"SongListEntryDetailsTitle",class:"stree05",propsAsIs:!0,vars:{"stree05-0":[Kge()]}}),Yge=()=>zx,E$=C(Yge())({name:"SongAuthor",class:"s687p2l",propsAsIs:!0}),Qge=({song:e})=>{const t=Dx(e);return f.jsx(E$,{children:t!=null&&t.plays?`Played ${t.plays} time${t.plays>1?"s":""}`:"Never played yet"})};function Jge({groupedSongList:e,onScrollToGroup:t,container:n}){const[r,s]=A.useState([]);return A.useEffect(()=>{const i=new IntersectionObserver(a=>{a.forEach(l=>{const c=l.target.getAttribute("data-group-name");l.isIntersecting?s(u=>[...u,c]):s(u=>u.filter(d=>d!==c))})}),o=new MutationObserver(()=>{const a=document.querySelectorAll("[data-group-name]");i.disconnect(),s([]),a.forEach(l=>{i.observe(l)})});if(n)return o.observe(n,{childList:!0,subtree:!0}),()=>{o.disconnect(),s([]),i.disconnect()}},[e,n]),f.jsx(f.Fragment,{children:f.jsx(Xge,{children:e.map(i=>{const o=r.includes(i.name);return f.jsx(eme,{onClick:()=>t(i),"data-active":o,"data-test":`group-navigation-${i.name}`,children:i.displayShort??i.name},i.name)})})})}const Xge=C("div")({name:"Container",class:"c99hmtg",propsAsIs:!1}),Zge=()=>vi,eme=C(Zge())({name:"SongsGroupButton",class:"snumqkz",propsAsIs:!0}),pR={[kr.DUEL]:"Duel",[kr.PASS_THE_MIC]:"Pass The Mic",[kr.CO_OP]:"Cooperation"},HA=["Hard","Medium","Easy"],tme=rx("song_settings-game_mode-v3"),nme=rx("song_settings-tolerance-v2");function rme({songPreview:e,onNextStep:t,keyboardControl:n,onExitKeyboardControl:r}){const[s,i]=tme(null),o=s??(e.tracksCount>1?kr.CO_OP:kr.DUEL),[a,l]=nme(1),c=()=>{const p={id:Eg(),players:[],mode:o,tolerance:a+1};t(p)},u=()=>{i(Qa(Object.values(kr),o))},d=()=>l(p=>sh(HA,p,-1)),{register:h}=Fn({enabled:n,onBackspace:r});return f.jsxs(f.Fragment,{children:[f.jsx(gR,{...h("difficulty-setting",d,"Change difficulty"),label:"Difficulty",value:HA[a],"data-test-value":HA[a]}),f.jsx(gR,{...h("game-mode-setting",u,"Change mode"),label:"Mode",value:pR[o],"data-test-value":pR[o]}),f.jsxs(ome,{children:[o===kr.DUEL&&"Face off against each other - person that earns more points wins.",o===kr.CO_OP&&"Join forces and sing together - your points will be added up to a single pool.",o===kr.PASS_THE_MIC&&f.jsxs(f.Fragment,{children:["For more than 2 players - split into groups and pass the microphone within the group when prompted with"," ",f.jsx(Qv,{})," symbol."]})]}),f.jsx(ime,{...h("next-step-button",c,void 0,!0),children:"Next ➤"})]})}const sme=()=>vi,ime=C(sme())({name:"PlayButton",class:"p1gw3ijz",propsAsIs:!0}),ome=C("h3")({name:"ModeDescription",class:"m1vg3gtl",propsAsIs:!1}),ame=()=>ts,gR=C(ame())({name:"GSSwitcher",class:"gcfrcsi",propsAsIs:!0});function lme(){const t=Ns(te.playerInputChanged,()=>Re.getInputs()).some(o=>o.source==="Microphone"),n=A.useRef([]),r=A.useCallback(o=>{n.current.push(o)},[]);dhe(0,50,r);const[s,i]=A.useState(!1);return A.useEffect(()=>{const o=setInterval(()=>{const a=n.current.filter(([,h])=>h===0),l=n.current.filter(([,h])=>h>0),c=a.reduce((h,[p])=>h+p,0)/(a.length+1),u=l.reduce((h,[p])=>h+p,0)/(l.length+1),d=l.length>a.length*.1&&u>.01&&c>.01&&u-c<c/2;i(d),n.current.length=0},s?5e3:2500);return()=>clearInterval(o)},[s]),f.jsxs(ume,{visible:s,children:[f.jsxs("h2",{children:[f.jsx("strong",{children:f.jsx(Tl,{})})," ","Noise detected"]}),f.jsx("hr",{}),f.jsxs("h4",{children:["This might make singing inaccurate. Make sure your microphone doesn't pick up the music."," ",t&&f.jsxs(f.Fragment,{children:["Alternatively, use your ",f.jsx("strong",{children:"smartphone as a microphone"})," instead."]})]})]})}const cme=()=>e=>e.visible?1:0,ume=C("div")({name:"NoiseWarningContainer",class:"n7igxxi",propsAsIs:!1,vars:{"n7igxxi-0":[cme()]}}),k$=(e,t=333,n)=>{const[r,s]=A.useState("ok");return A.useEffect(()=>{const i=setInterval(()=>{s(dn.getInputStatus(e))},t);return()=>{clearInterval(i)}},[e,t,n]),r},C$=e=>{const[t,n]=A.useState(null);return A.useEffect(()=>{const r=setInterval(()=>{const s=Xe.getRemoteMicById(e??"");n(s?s.getLatency():null)},1e3);return()=>{clearInterval(r)}},[e]),t};function I$({playerNumber:e,...t}){var r,s;const n=C$((s=(r=Re.getPlayer(e))==null?void 0:r.input)==null?void 0:s.deviceId);return f.jsx(f.Fragment,{children:n!==null?f.jsxs(dme,{...t,children:[n,"ms"]}):""})}const dme=C("span")({name:"PingContainer",class:"p1f1h691",propsAsIs:!1});var Hx={},fme=Ze;Object.defineProperty(Hx,"__esModule",{value:!0});var T$=Hx.default=void 0,hme=fme(ot()),pme=f;T$=Hx.default=(0,hme.default)((0,pme.jsx)("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2"}),"Circle");function R$({status:e,tooltipPosition:t="end",...n}){return f.jsxs(gme,{...n,children:[e==="ok"?f.jsx(vme,{"data-test":"status-ok"}):e==="unavailable"?f.jsx(Ame,{"data-test":"status-unavailable"}):f.jsx(bme,{"data-test":"status-unstable"}),e==="unavailable"?f.jsx(mR,{position:t,children:f.jsxs("span",{children:["The device is ",f.jsx("strong",{children:"disconnected"}),". Reconnect it, please."]})}):e==="unstable"?f.jsx(mR,{position:t,children:f.jsxs("span",{children:["The connection seems ",f.jsx("strong",{children:"unstable"}),". Connect to the same Wifi."]})}):null]})}const gme=C("span")({name:"StatusContainer",class:"s14aa53y",propsAsIs:!1}),mme=()=>T$,vme=C(mme())({name:"OkIcon",class:"ovyn57o",propsAsIs:!0}),yme=()=>Px,Ame=C(yme())({name:"UnavailableIcon",class:"u3rh7tv",propsAsIs:!0}),_me=()=>Tl,bme=C(_me())({name:"UnstableIcon",class:"u1wgbohx",propsAsIs:!0}),Sme=()=>e=>e.position==="end"?"100%":"auto",wme=()=>e=>e.position==="end"?"auto":"150%",mR=C("div")({name:"StatusDescription",class:"s1x61zgv",propsAsIs:!1,vars:{"s1x61zgv-0":[Sme()],"s1x61zgv-1":[wme()]}});function M$({player:e}){const t=k$(e.number);return f.jsxs(xme,{"data-test":`indicator-player-${e.number}`,children:[f.jsx(I$,{playerNumber:e.number}),f.jsx(R$,{status:t}),t!=="unavailable"&&f.jsx(Tx,{playerNumber:e.number}),f.jsx(Eme,{className:"ph-no-capture",children:e.getName()})]},e.number)}const xme=C("div")({name:"Indicator",class:"i22fqcr",propsAsIs:!1}),Eme=C("span")({name:"PlayerName",class:"p10a5zv1",propsAsIs:!1});function kme(e){Hi(te.playerNameChanged),A.useEffect(()=>{dn.startMonitoring()},[]);const n=Ns(te.playerInputChanged,()=>Re.getInputs()).some(r=>r.source!=="Dummy");return f.jsxs(Cme,{...e,children:[f.jsxs(Ime,{children:["Microphone Check",n?Re.getPlayers().map(r=>f.jsx(M$,{player:r},r.number)):f.jsxs(f.Fragment,{children:[f.jsx(Tme,{children:"Mic not setup"}),f.jsx("h4",{children:"Singing will be emulated"}),f.jsx("h5",{children:"You can setup in the Next step"})]})]}),f.jsx(lme,{})]})}const Cme=C("div")({name:"Container",class:"cafcrzq",propsAsIs:!1}),Ime=C("div")({name:"MicChecksContainer",class:"megnawy",propsAsIs:!1}),Tme=C("div")({name:"Indicator",class:"i18s6yqi",propsAsIs:!1});function P$({onClose:e,closeButtonText:t}){return f.jsx(bu,{onClose:e,children:f.jsx(yi,{children:f.jsx(Ox,{smooth:!1,onBack:e,onFinish:e,closeButtonText:t,skipText:"Back"})})})}const j$=A.forwardRef(({options:e,focused:t,label:n,value:r,onChange:s,disabled:i,placeholder:o,keyboardNavigationChangeFocus:a,onBlur:l,className:c,...u},d)=>{const h=A.useRef(null);A.useImperativeHandle(d,()=>h.current);const p=A.useRef(null),[g,m]=A.useState(!1),[_,v]=A.useState(-1),y=A.useMemo(()=>e.filter(S=>S.toLowerCase().trim().includes(r.toLowerCase().trim())&&S!==r),[e,r]),b=S=>{var x,E,T;if(S.code==="ArrowUp"||S.code==="ArrowDown")if(y.length){S.preventDefault();const U=sh(y,_,S.code==="ArrowUp"?-1:1);v(U);const $=(x=p.current)==null?void 0:x.querySelector(`[data-index="${U}"]`);$==null||$.scrollIntoView({behavior:"smooth",block:"center"})}else(E=h.current)==null||E.blur(),a==null||a(S.code==="ArrowUp"?-1:1);else if(S.code==="Enter"){const U=y[_];U?(v(-1),s(U)):(T=h.current)==null||T.blur()}},w=()=>{setTimeout(()=>{m(!1),l==null||l()},300)};return f.jsxs(Rme,{className:c,children:[f.jsx(wu,{onFocus:()=>m(!0),onBlur:w,onKeyDown:b,onChange:s,value:r,focused:t,label:n,disabled:i,ref:h,placeholder:o,...u}),g&&!!y.length&&f.jsx(Mme,{ref:p,role:"listbox",children:y.map((S,x)=>f.jsx(jme,{role:"listitem","data-index":x,"data-focused":x===_,focused:x===_,onClick:()=>{var E;s(S),v(-1),(E=h.current)==null||E.blur()},children:S},S))})]})}),Rme=C("div")({name:"Container",class:"cc5hk27",propsAsIs:!1}),Mme=C("div")({name:"AutocompleteMenu",class:"ae79hep",propsAsIs:!1}),Pme=()=>e=>e.focused?Ye.colors.text.active:"white",jme=C("div")({name:"AutocompleteMenuitem",class:"a1pntjcj",propsAsIs:!1,vars:{"a1pntjcj-0":[Pme()]}}),Ome=(e,t)=>{var n;return((n=e[t])==null?void 0:n.name)??`Track ${t+1}`};function Vme({multipleTracks:e,player:t,songPreview:n,playerNames:r,register:s,onChange:i,setup:o}){const[a,l]=A.useState(!1),c=A.useRef(null);if(Hi(te.playerNameChanged),t===void 0)return null;const u=()=>i({number:t.number,track:(o.track+1)%n.tracksCount}),d=g=>{l(!0),t.setName(g)},h=!a,p=t.getName();return f.jsxs(f.Fragment,{children:[f.jsx($me,{maxLength:qb,className:"ph-no-capture",value:h?"":p,placeholder:h?p:void 0,options:r,onChange:d,label:"Name:",ref:c,...s(`player-${t.number}-name`,()=>{var g;return(g=c.current)==null?void 0:g.focus()})}),e&&f.jsx(Nme,{...s(`player-${t.number}-track-setting`,u,"Change track"),label:"Track",value:Ome(n.tracks,o.track),"data-test-value":o.track+1})]})}const Lme=()=>j$,$me=C(Lme())({name:"PlayerName",class:"pebu3p",propsAsIs:!0}),Bme=()=>ts,Nme=C(Bme())({name:"Track",class:"t1v0j8hp",propsAsIs:!0});function Dme({songPreview:e,onNextStep:t,keyboardControl:n,onExitKeyboardControl:r}){const[s]=Be(ur),[i]=Be(bb),o=Re.getPlayers(),a=!s&&o.length===2&&e.tracksCount>1,l=()=>o.map((w,S)=>({number:w.number,track:a?Math.min(S,e.tracksCount-1):0})),[c,u]=A.useState(l());cs([te.playerAdded,te.playerRemoved],()=>u(l()));const d=o.map((w,S)=>c.find(x=>x.number===w.number)??l()[S]),h=A.useMemo(()=>JSON.parse($e.session.getItem(qc))??[],[]),p=w=>S=>{u(x=>x.map(E=>E.number===w?S:E))},[g,m]=A.useState(!1);A.useEffect(()=>{g||dn.startMonitoring()},[g]);const{register:_,focusElement:v}=Fn({enabled:n&&!g,onBackspace:r}),y=()=>{t(d)},b=!!i&&i!=="skip";return f.jsxs(f.Fragment,{children:[g&&f.jsx(P$,{closeButtonText:b?"Continue to the song":"Continue to player setup",onClose:()=>{m(!1),b&&v("play")}}),d.map((w,S)=>f.jsxs(Fme,{children:[f.jsxs(zme,{children:["Player ",S+1]}),f.jsx("div",{children:f.jsx(Vme,{multipleTracks:a,player:Re.getPlayer(w.number),setup:w,onChange:p(w.number),playerNames:h,register:_,songPreview:e})})]},w.number)),b&&f.jsx(vR,{..._("play-song-button",y,void 0,!0),children:"Play"}),f.jsx(vR,{..._("select-inputs-button",()=>m(!0),void 0,!1),children:"Setup mics"})]})}const Fme=C("div")({name:"PlayerSettingContainer",class:"pnhabyb",propsAsIs:!1}),Ume=()=>vi,vR=C(Ume())({name:"PlayButton",class:"psqnaal",propsAsIs:!0}),zme=C("span")({name:"PlayerSettingTitle",class:"p1eejwl9",propsAsIs:!1});function Hme({songPreview:e,onPlay:t,keyboardControl:n,onExitKeyboardControl:r}){const[s,i]=A.useState(null),[o,a]=A.useState("song"),l=u=>{i(u),a("players")},c=u=>{if(!s)return;const d={...s,players:u};te.songStarted.dispatch(e,d),t({song:e,...d})};return f.jsxs(Gme,{children:[f.jsx(kme,{style:o==="players"?{viewTransitionName:"player-mic-check-container"}:void 0}),f.jsxs(qme,{children:[o==="song"&&f.jsx(rme,{songPreview:e,onNextStep:l,keyboardControl:n,onExitKeyboardControl:r}),o==="players"&&f.jsx(Dme,{songPreview:e,onNextStep:c,keyboardControl:n,onExitKeyboardControl:()=>a("song")})]})]})}const Gme=C("div")({name:"Container",class:"c1buo4ob",propsAsIs:!1}),qme=C("div")({name:"GameConfiguration",class:"g1mbvog9",propsAsIs:!1}),Wme=30;function Kme({songPreview:e,top:t,left:n,width:r,height:s,keyboardControl:i,onExitKeyboardControl:o,onPlay:a,isPopular:l,forceFlag:c}){const[u,d]=A.useState(!1),h=A.useRef(null),{width:p,height:g}=ah(),m=i;A.useLayoutEffect(()=>{d(!1)},[e.video]);const _=e.previewStart??(e.videoGap??0)+60,v=e.previewEnd??_+Wme,y=A.useMemo(()=>[e.video,_,v,e.volume],[e.video,_,v,e.volume]),[b,w,S,x]=px(y,350);A.useEffect(()=>{var $;($=h.current)==null||$.loadVideoById({videoId:b,startSeconds:w,endSeconds:S})},[b,h,w,S]);const E=m?p:r,T=m?g:s,U=m?Math.min(p/20*9,g*(4/5)):s;return A.useEffect(()=>{var $;($=h.current)==null||$.setSize(E,T)},[E,T,i]),f.jsxs(f.Fragment,{children:[m&&f.jsx(eve,{onClick:o}),!m&&u&&f.jsx(ave,{width:E,height:T,left:n,top:t,song:e}),f.jsx(Zme,{forceFlag:c,isPopular:l,background:m||u,video:f.jsx(nve,{"data-show":u,"data-expanded":m,height:U,id:"preview-video-container",children:f.jsx(Sx,{width:0,height:0,disablekb:!0,ref:h,video:"",volume:x,onStateChange:$=>{var D,Q;$===Cn.ENDED?((D=h.current)==null||D.seekTo(_),(Q=h.current)==null||Q.playVideo()):$===Cn.PLAYING&&d(!0)}})}),focused:!0,song:e,top:t,left:n,width:E,height:U,"data-show-video":u,"data-expanded":m,"data-song":e.id,"data-test":"song-preview",children:f.jsx(rve,{"data-expanded":m,children:m&&f.jsx(Hme,{songPreview:e,onPlay:a,keyboardControl:i,onExitKeyboardControl:o})})})]})}const Yme=()=>S$,Qme=()=>e=>e.width,Jme=()=>e=>e.height,Xme=C(Yme())({name:"BaseSongPreviewContainer",class:"b53wv1t",propsAsIs:!0,vars:{"b53wv1t-0":[Qme(),"px"],"b53wv1t-1":[Jme(),"px"]}}),Zme=e=>{const t=e.song.realBpm||(e.song.bpm>300?e.song.bpm/4:e.song.bpm/2),n=e["data-expanded"];return f.jsx(Xme,{...e,style:{...e.style,top:n?`calc(50vh - ${e.height}px / 2)`:e.top,left:n?0:e.left,animationDuration:`${60/t}s`}})},eve=C("div")({name:"Backdrop",class:"bxhmopr",propsAsIs:!1}),tve=()=>e=>e.height,nve=C("div")({name:"Video",class:"v1ba1fvf",propsAsIs:!1,vars:{"v1ba1fvf-0":[tve(),"px"]}}),rve=C("div")({name:"Content",class:"c17o41im",propsAsIs:!1}),sve=()=>e=>e.width,ive=()=>e=>e.height,ove=C("div")({name:"BaseSongBPMIndicator",class:"bk4wiqu",propsAsIs:!1,vars:{"bk4wiqu-0":[sve(),"px"],"bk4wiqu-1":[ive(),"px"]}}),ave=e=>{const[t]=Be(Ms);if(t==="low")return null;const n=e.song.realBpm||(e.song.bpm>300?e.song.bpm/4:e.song.bpm/2);return f.jsx(ove,{width:e.width,height:e.height,style:{left:e.left,top:e.top,animationDuration:`${60/n}s`}})};function lve(e){var t=Mp(e),n=t%1;return t===t?n?t-n:t:0}var cve=Math.ceil,uve=Math.max;function V_(e,t,n){(n?KO(e,t,n):t===void 0)?t=1:t=uve(lve(t),0);var r=e==null?0:e.length;if(!r||t<1)return[];for(var s=0,i=0,o=Array(cve(r/t));s<r;)o[i++]=AS(e,s,s+=t);return o}const dve=(e,t,n)=>e>=t&&e<n;function fve(e,t){var b,w,S;const n=A.useMemo(()=>{const x=[];return e.groupSizes.forEach((E,T)=>{var U,$;x.push({index:T,type:"group",bottom:(((U=x.at(-1))==null?void 0:U.bottom)??0)+e.groupHeight,groupIndex:T});for(let D=0;D<E;D++){const Q=e.groupSizes.reduce((P,L,M)=>P+(M<T?L:0),0)+D;x.push({index:Q,type:"item",bottom:((($=x.at(-1))==null?void 0:$.bottom)??0)+e.itemHeight,groupIndex:T})}}),x},[e.itemHeight,e.groupHeight,e.groupSizes]),r=((b=n.at(-1))==null?void 0:b.bottom)??0,s=A.useRef(null),i=((w=s.current)==null?void 0:w.getBoundingClientRect().height)??global.innerHeight,o=A.useCallback(x=>{const E=n.findIndex(U=>U.bottom>x-e.overScan),T=n.findIndex(U=>U.bottom>x+i+e.overScan);return[E,T===-1?n.length:T]},[n,i,e.overScan]),[[a,l],c]=A.useState(o(0));A.useLayoutEffect(()=>{var E;const x=o(((E=s.current)==null?void 0:E.scrollTop)??0);(a!==x[0]||l!==x[1])&&c(x)},[o,e.groupSizes,a,l]),A.useEffect(()=>{if(s.current){const x=()=>{var T;const E=o(((T=s.current)==null?void 0:T.scrollTop)??0);(a!==E[0]||l!==E[1])&&c(E)};return s.current.addEventListener("scroll",x),s.current.scrollTop>r&&s.current.scrollTo({top:0}),()=>{var E;(E=s.current)==null||E.removeEventListener("scroll",x)}}},[a,l,o,r]);const u=A.useCallback((x,E)=>{var T,U;return(((T=n[E])==null?void 0:T.bottom)??0)-(((U=n[x])==null?void 0:U.bottom)??0)},[n]),d=A.useMemo(()=>u(-1,a-1),[a,u]),h=n.slice(0,a).findLastIndex(({type:x})=>x==="group"),p=n.slice(a,l),g=h!==-1?[[]]:[];for(let x=0;x<p.length;x++){const E=p[x];E.type==="group"&&g.push([]),(S=g.at(-1))==null||S.push(E)}A.useImperativeHandle(t,()=>({getItemPositionY:x=>{var E;return(((E=n.find(T=>T.type==="item"&&T.index===x))==null?void 0:E.bottom)??-1)-e.itemHeight},scrollTo:x=>{var E;(E=s.current)==null||E.scrollTo({top:x})},scrollToIndex:async(x,E="auto",T="center")=>{var $,D;const U=n.find(Q=>Q.type==="item"&&Q.index===x);if(U){const Q=(e.itemHeight+(T==="center"?($=s.current)==null?void 0:$.clientHeight:0))/2;(D=s.current)==null||D.scrollTo({top:U.bottom-Q,behavior:E})}},scrollToGroup:async(x,E="auto",T="top")=>{var $;const U=n.find(D=>D.type==="group"&&D.index===x);U&&(($=s.current)==null||$.scrollTo({top:U.bottom-e.groupHeight,behavior:E}))}}));const{Header:m,Footer:_,EmptyPlaceholder:v}=e.components??{},y=n.findIndex(x=>x.type==="item"&&x.index===e.forceRenderItem);return f.jsx(f.Fragment,{children:f.jsxs(pve,{ref:s,children:[f.jsxs(hve,{style:{height:r,paddingTop:h!==-1?d-e.groupHeight:d},children:[m&&f.jsx(m,{context:e.context}),n[y]&&!dve(y,a,l)&&f.jsx(f.Fragment,{children:e.itemContent(n[y].index,n[y].groupIndex,{style:{width:"100%",position:"absolute",top:n[y].bottom-e.itemHeight,left:0,boxSizing:"border-box"},"data-virtualized-bottom":n[y].bottom,"data-virtualized-index":n[y].index})}),g.map((x,E)=>f.jsxs("div",{children:[E===0&&h!==-1&&e.groupContent(n[h].index),x.map(({index:T,type:U,bottom:$,groupIndex:D})=>f.jsx(A.Fragment,{children:U==="group"?e.groupContent(T):e.itemContent(T,D,{"data-virtualized-bottom":$,"data-virtualized-index":T})},`${$}`))]},(x[0]??n[h]).groupIndex))]}),g.length===0&&v&&f.jsx(v,{context:e.context}),_&&f.jsx(_,{context:e.context})]})})}const hve=C("div")({name:"Wrapper",class:"w1i5wwrw",propsAsIs:!1}),pve=C("div")({name:"Viewport",class:"v1h5s3cp",propsAsIs:!1}),gve=A.forwardRef(fve);function mve(e,t){const n=A.useRef(null),r=A.useMemo(()=>e.groups.map(u=>({group:u,rows:V_(u.songs,e.perRow)})),[e.groups,e.perRow]),s=A.useMemo(()=>r.map(({rows:u})=>u.length),[r]),i=A.useMemo(()=>r.flatMap(({rows:u})=>u),[r]),{ListRowWrapper:o,GroupRowWrapper:a}=e,l=A.useCallback((u,d)=>{let h=e.groups.findIndex(p=>p.name===u);return h===-1?e.groups.findIndex(p=>p.songs.some(g=>g.index===d)):h},[e.groups]),c=A.useCallback((u,d)=>{let h=l(u,d);if(h===-1)return;const p=e.groups[h].songs.findIndex(g=>g.index===d);return r.slice(0,h).reduce((g,{rows:m})=>g+m.length,Math.floor(p/e.perRow))},[l,r,e.groups,e.perRow]);return A.useImperativeHandle(t,()=>({getSongPosition:(u,d)=>{var v;let h=l(u,d);if(h===-1)return;const p=e.groups[h].songs.findIndex(y=>y.index===d),g=r.slice(0,h).reduce((y,{rows:b})=>y+b.length,Math.floor(p/e.perRow)),m=((v=n.current)==null?void 0:v.getItemPositionY(g))??-1;return{x:p%e.perRow,y:m}},scrollToGroup:u=>{var h;const d=e.groups.findIndex(p=>p.name===u);d!==-1&&((h=n.current)==null||h.scrollToGroup(d,"smooth"))},scrollToSongInGroup:async(u,d,h="smooth")=>{var g;const p=c(u,d);p!==void 0&&((g=n.current)==null||g.scrollToIndex(p,Ui()?"auto":h))}})),f.jsx(f.Fragment,{children:f.jsx(gve,{forceRenderItem:c(e.focusedGroup,e.focusedSong)??-1,overScan:e.itemHeight*2,itemHeight:e.itemHeight,groupHeight:e.groupHeight,components:e.components,context:e.context,groupContent:(u,d)=>f.jsx(a,{group:r[u].group,...d,children:e.renderGroup(r[u].group)}),ref:n,groupSizes:s,itemContent:(u,d,h)=>f.jsxs(o,{"data-is-new":r[d].group.isNew,...h,children:[i[u].map(p=>e.renderItem(p,r[d].group)),e.placeholder&&i[u].length<e.perRow&&new Array(e.perRow-i[u].length).fill(null).map((p,g)=>f.jsx(A.Fragment,{children:e.placeholder},g))]})},e.itemHeight)})}const vve=A.forwardRef(mve),O$=(e,t)=>e+Math.random()*(t-e),Oi=(e,t)=>Math.round(O$(e,t)),yve=250,Ave=750;function _ve(e){const t=ET(async()=>(await fetch("/mostPopularSongs.json")).json(),[]),n=ET(async()=>Hq(),[]),r=A.useMemo(()=>fm.recentlyUpdated(e),[e]).map(l=>l.id),[s]=Be(Vm),i=t.loading||n.loading||!e.length,o=A.useMemo(()=>{if(i)return;const l=Object.keys(n.value).filter(g=>n.value[g].scores.some(m=>(m.progress??0)>.8)),c=Object.keys(t.value).filter(g=>!(s!=null&&s.includes(g))),u=[...new Set([...c,...s??[]])],d=e.filter(g=>!u.some(m=>g.language.includes(m))||g.local).map(g=>g.id).concat(...l),h=Math.max(yve,Ave-Math.round(d.length/1.75)),p=c.map(g=>t.value[g].slice(0,h)).flat();return{popular:[...new Set([...l,...p,...d,...r])]}},[s,i,t.value,e,n.value]),a=A.useMemo(()=>({popular:[]}),[]);return{value:o??a,loading:i}}const bve=e=>{const t=/[^a-zA-Z]/;return{name:isFinite(+e.artist[0])||t.test(e.artist[0])?"0-9":e.artist[0].toUpperCase()}};function Sve(){const e=oh(),{value:{popular:t},loading:n}=_ve(e.data),r=e.isLoading||n,{filters:s,filteredList:i,setFilters:o,selectedPlaylist:a,setSelectedPlaylist:l,playlists:c,playlist:u}=Rge(e.data,t,r);return{groupedSongList:A.useMemo(()=>{var p;if(i.length===0)return[];const h=[];if(s.search)return h.push({name:"Search results",songs:i.map((g,m)=>({index:m,song:g,isPopular:t.includes(g.id)}))}),h;{(u!=null&&u.sortingFn?[...i].sort(u.sortingFn):i).forEach(_=>{try{const{name:v,...y}=((u==null?void 0:u.groupData)??bve)(_);let b=h.find(w=>w.name===v);b||(b={name:v,songs:[],...y},h.push(b)),b.songs.push({index:i.indexOf(_),song:_,isPopular:t.includes(_.id)})}catch(v){console.error(v),Fi(v)}});const m=((p=u==null?void 0:u.postGrouping)==null?void 0:p.call(u,h))??h;if(!(u!=null&&u.hideNew)){const _=i.filter(v=>v.isNew);_.length&&_.length<50&&m.unshift({name:"New",isNew:!0,songs:_.map(v=>({song:v,index:i.indexOf(v),isPopular:t.includes(v.id)}))})}return m}},[i,s.search,t,u]),songList:i,filters:s,setFilters:o,isLoading:r,selectedPlaylist:a,setSelectedPlaylist:l,playlists:c}}function hm(e){const t=A.useRef(e);return A.useEffect(()=>{t.current=e},[e]),t.current}const wve=30;function xve(e,t,n=wve){let r;if(t.length<e){const s=[...Array(e).keys()].filter(i=>!t.includes(i));r=s[Oi(0,s.length-1)]}else r=Oi(0,e-1),t.length=0;return t.length>=n&&t.shift(),t.push(r),r}const Eve=(e=[],t)=>{var _;const[n,r]=A.useState([0,0]),s=A.useMemo(()=>e.map(({songs:v})=>v.length).join(","),[e]),i=A.useMemo(()=>e.map(({songs:v})=>V_(v.map(y=>y.index),t)).flat(),[s,t]),o=A.useMemo(()=>e.map(({songs:v,name:y})=>V_(v.map(()=>y),t)).flat(),[s,t]),a=hm(i??[]),l=n[0]===((_=i[n[1]])==null?void 0:_.length)-1,c=A.useCallback((v,y)=>{var S;const b=i.findIndex((x,E)=>x.includes(v)&&(!y||y===o[E][0])),w=(S=i[b])==null?void 0:S.indexOf(v);w>=0&&b>=0?r([w??0,b??0]):r([0,0])},[i]),u=([v,y],b,w)=>{var x;if(e.length===0)return w;const S=b[y];return(S==null?void 0:S[v])??(S==null?void 0:S.at(-1))??((x=b==null?void 0:b[0])==null?void 0:x[0])??w},d=([v,y],b=i)=>u([v,y],b,0),h=([v,y],b=o)=>u([v,y],b,"A");A.useEffect(()=>{const v=d(n,a),y=d(n,i);a.length&&v!==y&&c(v)},[n,i,a,l]);const p=(v,y)=>{iv.play(),r(([b,w])=>{let S=b,x=w;if(v==="y")x=w+y;else{if(i[w]===void 0)debugger;const E=i[w].length-1;S=Math.min(b,E)+y,S<0?(x=(i.length+w-1)%i.length,S=i[x].length-1):S>E&&(x=w+1,S=0)}return[S%t,(i.length+x)%i.length]})},g=d(n),m=h(n);return[g,m,n,p,c,l]},kve=(e,t=[],n,r,s,i)=>{const o=Gr(),[a,l]=A.useState([!1,null]),c=hm(a),[u,d]=a,[h,p,g,m,_,v]=Eve(t,i),y=g[0]===0,b=()=>{sS.play(),n()},[w,S]=A.useState(!1),x=hm(s.search);A.useLayoutEffect(()=>{if(x&&!s.search){S(!0);const M=setTimeout(()=>S(!1),2e3);return()=>{clearTimeout(M),S(!1)}}},[s.search]);const E=()=>{!w&&!s.search&&(iS.play(),o("menu/"))},T=A.useCallback(Sc((M,I)=>{const z=(t.length+I+M)%t.length;_(t[z].songs[0].index),iv.play()},700,{trailing:!1}),[t]),U=(M,I)=>{if(!(M!=null&&M.repeat))m("y",I);else{const z=t.findIndex(j=>!!j.songs.find(N=>N.index===h));T(I,z)}},$=(M,I=!1)=>{!I&&M===-1&&y&&!u?l([!0,"left"]):m("x",M)},D=A.useRef([]),Q=()=>{const M=xve(r,D.current);_(M)};kl({accept:b,down:M=>U(M,1),up:M=>U(M,-1),left:()=>$(-1),right:()=>$(1),back:E,random:Q},e&&!u,[t,g,u,s,w]);const P=A.useMemo(()=>({"horizontal-vertical":null,accept:null,back:null,shiftR:null,alphanumeric:null,remote:["search"]}),[]);Su(P,e);const L=A.useCallback(M=>{l([!1,M??null])},[l,$,t,g]);return A.useLayoutEffect(()=>{const[M,I]=c;M&&!u&&I===d&&$(d==="right"?1:-1,!0)},[u,d,y,v,...g]),[h,p,_,u,L,Q]};function Cve(e,t){const{songList:n,groupedSongList:r,setFilters:s,filters:i,isLoading:o,selectedPlaylist:a,setSelectedPlaylist:l,playlists:c}=Sve(),[u,d]=A.useState(!0),h=x=>{wf(()=>{_u.flushSync(()=>{d(x)})}),oS.play()},[p,g,m,_,v,y]=kve(u,r,()=>h(!1),n.length,i,t),[b,w]=A.useState(!1);A.useEffect(()=>{if(!b&&n.length&&!o){const x=n.findIndex(U=>U.id===e),E=n.findIndex(U=>U.isNew);let T=Oi(0,n.length-1);(x>-1||E>-1)&&(T=x),w(!0),m(T)}},[m,b,p,n,e,o]),A.useEffect(()=>{var x;if(b&&n.length&&n[p]&&!o){const E=new URL((x=global.location)==null?void 0:x.href);E.searchParams.set("song",n[p].id),global.history.replaceState(null,"",E.toString())}},[b,p,n,o]);const S=n==null?void 0:n[p];return{groupedSongList:r,focusedSong:p,focusedGroup:g,moveToSong:m,setKeyboardControl:h,keyboardControl:u,songPreview:S,songList:n??[],filters:i,setFilters:s,showFilters:_,setShowFilters:v,isLoading:o||!b,randomSong:y,selectedPlaylist:a,setSelectedPlaylist:l,playlists:c}}const yR=4,V$=7,L_=4.5,AR=V$+L_,up=3.5,Ive={Header:({context:e})=>f.jsxs(f.Fragment,{children:[f.jsx(Nve,{}),e&&e.songPreview.songPreview&&f.jsx(Kme,{...e.songPreview})]}),Footer:()=>f.jsxs(Rve,{children:["Missing a song? Try"," ",f.jsx(Gw,{to:"convert/",children:f.jsx("a",{children:"adding one"})})," ","yourself!"]}),EmptyPlaceholder:()=>f.jsx(Vve,{children:"No songs found"})};function Tve({onSongSelected:e,preselectedSong:t}){const[n]=Be(ur),r=n?yR-1:yR;Aa(!1),pa(!0),h$();const{focusedGroup:s,focusedSong:i,moveToSong:o,groupedSongList:a,keyboardControl:l,songPreview:c,setKeyboardControl:u,setFilters:d,filters:h,setShowFilters:p,showFilters:g,isLoading:m,randomSong:_,selectedPlaylist:v,setSelectedPlaylist:y,playlists:b,songList:w}=Cve(t,r),S=A.useMemo(()=>a.map(F=>F.songs).flat().find(F=>F.song.id===(c==null?void 0:c.id)),[c,a]),x=A.useRef(null),E=Dpe(),{width:T,handleResize:U}=ah(),D=(T-(AR+L_)*E-(r-1)*up*E)/r,Q=D*(9/16),P=Q/2,L=A.useCallback(()=>u(!1),[u]),M=m||!a||!T,I=v==="Eurovision",z=A.useRef(null);A.useEffect(()=>{const F=ne=>w.findIndex(O=>O.id===ne);return global.__songList={scrollToSong:ne=>{var ae;const[O]=ne.split("-new-group"),fe=ne.endsWith("-new-group"),Z=a.find(Pe=>!!Pe.isNew===fe&&Pe.songs.some(ye=>ye.song.id===O));if(Z){const Pe=F(O);return(ae=x.current)==null||ae.scrollToSongInGroup(Z.name,Pe,"auto"),!0}return!1}},()=>{delete global.__songList}},[a,w]);const[{previewTop:j,previewLeft:N},V]=A.useState({previewTop:0,previewLeft:0});A.useEffect(()=>{const F=document.querySelector(`[data-song-index="${i}"][data-group="${s}"]`);!m&&F?V({previewTop:F.offsetTop+F.parentNode.offsetTop,previewLeft:F.offsetLeft}):m||console.warn("!!!!!!!!!!!! Song not found !!!!!!!!!!!!")},[i,s,m,T]),A.useEffect(()=>{var F;U(),m||(F=x.current)==null||F.scrollToSongInGroup(s,i)},[T,i,s,a,m,U]);const G=Gr();return xr("Shift + E",()=>G(om("edit/song/",{playlist:null,step:"metadata"})),[G]),f.jsx(To,{children:f.jsxs(Mve,{songsPerRow:r,style:{"--song-group-header-height":`${Math.floor(P)}px`,"--song-entry-width":`${Math.floor(D)}px`,"--song-entry-height":`${Math.floor(Q)}px`,"--song-list-gap":`${Math.floor(up*E)}px`,"--song-list-padding-left":`${Math.floor(AR*E)}px`,"--song-list-padding-right":`${Math.floor(L_*E)}px`,"--song-sidebar-weight":`${Math.floor(V$*E)}px`},children:[M?f.jsxs(bR,{children:[f.jsx(wR,{children:f.jsx(ER,{children:f.jsx(_R,{children:"   "})})}),new Array(4).fill(0).map((F,ne)=>f.jsx(xR,{children:new Array(4).fill(0).map((O,fe)=>f.jsx(SR,{},fe))},ne))]}):f.jsxs(f.Fragment,{children:[c&&f.jsx(Pve,{videoId:c.video}),f.jsx(Kpe,{setFilters:d,filters:h,onRandom:_,keyboardControl:l}),f.jsx(Jge,{container:z.current,groupedSongList:a,onScrollToGroup:F=>{o(F.songs[0].index),setTimeout(()=>{var ne;return(ne=x.current)==null?void 0:ne.scrollToGroup(F.name)},20)}}),f.jsx(bR,{active:l,dim:g,"data-test":"song-list-container",ref:z,children:f.jsx(vve,{focusedSong:i,focusedGroup:s,ListRowWrapper:xR,GroupRowWrapper:wR,ref:x,groups:a,itemHeight:Math.floor(Q)+Math.floor(up*E),groupHeight:Math.floor(P)+Math.floor(up*E),components:Ive,renderGroup:F=>f.jsx(ER,{"data-highlight":F.name==="New",children:f.jsx(_R,{"data-group-name":F.name,children:F.displayLong??F.name})},F.name),perRow:r,renderItem:(F,ne)=>{const O=F.index===i&&ne.name===s;return A.createElement(Bve,{...g||!l?{"data-unfocusable":!0}:{},isPopular:F.isPopular,key:F.song.id,song:F.song,handleClick:O?L:o,focused:!g&&l&&O,index:F.index,groupLetter:ne.name,"data-song-index":F.index,"data-focused":!g&&l&&F.index===i,"data-test":`song-${F.song.id}${ne.isNew?"-new-group":""}`,"data-group":ne.name,forceFlag:I})},placeholder:f.jsx(SR,{style:{visibility:"hidden"}}),context:{songPreview:{forceFlag:I,isPopular:!!(S!=null&&S.isPopular),keyboardControl:!l,onPlay:e,onExitKeyboardControl:()=>u(!0),songPreview:c,top:j,left:N,width:Math.floor(D),height:Math.floor(Q)}}})})]}),f.jsx(ige,{selectedPlaylist:v,setSelectedPlaylist:y,playlists:b,active:g,closePlaylist:p})]})})}const Rve=C("div")({name:"AddSongs",class:"aoc0oas",propsAsIs:!1}),Mve=C("div")({name:"Container",class:"cxgt2oo",propsAsIs:!1}),Pve=e=>{const{theme:t}=A.useContext(wS);return t==="eurovision"?null:f.jsx(Ove,{...e})},jve=()=>Jpe,Ove=C(jve())({name:"SongImageBackgroundBase",class:"s1d3mqou",propsAsIs:!0}),Vve=C("div")({name:"NoSongsFound",class:"n1n47ywz",propsAsIs:!1}),_R=C("div")({name:"SongsGroupHeader",class:"spz1czf",propsAsIs:!1}),Lve=()=>e=>e.dim?.5:1,bR=C("div")({name:"SongListContainer",class:"suvwzle",propsAsIs:!1,vars:{"suvwzle-0":[Lve()]}}),SR=C("div")({name:"SongListEntrySkeleton",class:"swnh4ci",propsAsIs:!1}),$ve=()=>S$,Bve=A.memo(C($ve())({name:"SongListEntry",class:"s1i0gbi",propsAsIs:!0})),Nve=C("div")({name:"SongListHeaderPadding",class:"s1oljnf8",propsAsIs:!1}),L$=C("div")({name:"BaseRow",class:"b8rlam1",propsAsIs:!1}),Dve=()=>L$,wR=C(Dve())({name:"GroupRow",class:"guqqnpp",propsAsIs:!0}),Fve=()=>L$,xR=C(Fve())({name:"ListRow",class:"l1rx3hpv",propsAsIs:!0}),ER=C("div")({name:"SongsGroupContainer",class:"snxe6vx",propsAsIs:!1});function Uve(e){const[t,n]=Be(Vm),[r,s]=A.useState(t===null),i=()=>{n(t??[]),s(!1)};return r?f.jsx(d$,{onClose:i,closeText:"Continue to Song Selection"}):f.jsx(Tve,{...e})}var Gx={},zve=Ze;Object.defineProperty(Gx,"__esModule",{value:!0});var $$=Gx.default=void 0,Hve=zve(ot()),Gve=f;$$=Gx.default=(0,Hve.default)((0,Gve.jsx)("path",{d:"M16.59 7.58 10 14.17l-3.59-3.58L5 12l5 5 8-8zM12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8"}),"CheckCircleOutline");const Wu=e=>new Promise(t=>setTimeout(t,e)),GA=15;function qve({onFinish:e}){const[t,n]=A.useState(!1),[r,s]=A.useState([]);cs(te.readinessConfirmed,a=>{s(l=>[...l,a])});const i=Ns([te.inputListChanged,te.readinessConfirmed],()=>Re.getPlayers().map((a,l)=>[a.input.deviceId,a.getName(),a]));A.useEffect(()=>{(async()=>{let a=!1;const l=Re.requestReadiness().then(()=>{a=!0,n(!0)}),c=Wu(1500),u=Wu(GA*1e3);await Wu(250),a||await jp.play(),await Promise.race([Promise.all([l,c]),u]),jp.playing()&&t3.play(),await Wu(500),jp.pause(),await Wu(1e3),e()})()},[]);const o=i.map(([a,l,c])=>({confirmed:r.includes(a),name:l,player:c}));return f.jsx(f.Fragment,{children:f.jsxs(Wve,{children:[!t&&f.jsxs("span",{children:["Waiting for all players to click ",f.jsx("strong",{children:'"Ready"'})]}),f.jsx(Yve,{children:o.map(({confirmed:a,name:l,player:c},u)=>f.jsxs(Qve,{className:"ph-no-capture","data-test":"player-confirm-status","data-name":l,"data-confirmed":a,children:[!t&&f.jsx(Jve,{children:a?f.jsx($$,{}):f.jsx(ih,{color:"info",size:"1em"})})," ",f.jsx(M$,{player:c})]},u))}),!t&&f.jsxs(Kve,{children:["The song will start automatically in"," ",f.jsx("strong",{children:f.jsx(Bx,{end:0,start:GA,duration:GA,useEasing:!1})})]})]})})}const Wve=C("div")({name:"WaitingForReady",class:"w4ei8z1",propsAsIs:!1}),Kve=C("span")({name:"TimeoutMessage",class:"twny5n4",propsAsIs:!1}),Yve=C("div")({name:"PlayerList",class:"prq0qqe",propsAsIs:!1}),Qve=C("div")({name:"PlayerEntry",class:"p1ag6767",propsAsIs:!1}),Jve=C("span")({name:"ConfirmStatus",class:"c7elwfq",propsAsIs:!1});function Xve({register:e,onExit:t}){const n=A.useRef(null),[r,s]=A.useState(!1),[i,o]=A.useState(!1),[a,l]=A.useState(!1);A.useEffect(()=>{var u;(u=n.current)==null||u.focus()},[n]);const c=()=>{const u=Ve.getSong(),d={songId:u==null?void 0:u.id,songLastUpdated:u==null?void 0:u.lastUpdate},h=[];r&&h.push("not-in-sync"),i&&h.push("wrong-volume"),a&&h.push("bad-lyrics"),h.length&&jn.capture("rate-song",{issues:h,...d}),t()};return f.jsx(f.Fragment,{children:f.jsxs(yi,{children:[f.jsx("h1",{children:"Is the song OK?"}),f.jsx("h4",{children:"If there's something wrong with the song, let me know so I can fix it"}),f.jsxs(qA,{...e("button-not-in-sync",()=>s(u=>!u)),size:"small",children:[f.jsx(WA,{children:r?f.jsx(Od,{}):f.jsx(Vd,{})}),f.jsx("span",{children:"Lyrics are not in sync"})]}),f.jsxs(qA,{...e("button-bad-lyrics",()=>l(u=>!u)),size:"small",children:[f.jsx(WA,{children:a?f.jsx(Od,{}):f.jsx(Vd,{})}),f.jsx("span",{children:"Wrong lyrics, missing spaces etc."})]}),f.jsxs(qA,{...e("button-wrong-volume",()=>o(u=>!u)),size:"small",children:[f.jsx(WA,{children:i?f.jsx(Od,{}):f.jsx(Vd,{})}),f.jsx("span",{children:"Too loud/quiet"})]}),f.jsx("hr",{}),f.jsx(Te,{...e("button-song-ok",c,void 0,!0),ref:n,children:i||r?"Submit and exit":"All good, exit the song"})]})})}const Zve=()=>Te,qA=C(Zve())({name:"Checkbox",class:"c1idir67",propsAsIs:!0}),WA=C("div")({name:"Check",class:"c16jccs7",propsAsIs:!1});function eye({onResume:e,onExit:t,onRestart:n}){const r=Gr(),s=A.useRef(null),i=A.useRef(null);A.useEffect(()=>{var h;(h=s.current)==null||h.focus()},[s]);const[o,a]=A.useState(!1),{register:l}=Fn({enabled:!o}),[c,u]=A.useState(!1),d=async()=>{const h=Ve.getSongCompletionProgress(),p=(await zi.getIndex()).find(g=>{var m;return g.id===((m=Ve.getSong())==null?void 0:m.id)});!(p!=null&&p.local)&&h<.7&&!Ui()?u(!0):t()};return f.jsxs(bu,{onClose:e,children:[!c&&f.jsxs(f.Fragment,{children:[f.jsxs(yi,{children:[f.jsx(Te,{...l("button-resume-song",e),ref:s,children:"Resume song"}),f.jsx(Te,{...l("button-restart-song",n),children:"Restart song"}),f.jsx(Te,{...l("button-exit-song",d),children:"Exit song"}),f.jsx(Te,{...l("input-settings",()=>a(!0)),children:"Microphones settings"}),f.jsx("hr",{}),f.jsx(NL,{ref:i,...l("input-lag",()=>{var h;return(h=i.current)==null?void 0:h.focus()})}),f.jsx(Te,{...l("edit-song",()=>{var h;return r("edit/song/",{song:((h=Ve.getSong())==null?void 0:h.id)??""})}),size:"small",children:"Edit song"})]}),o&&f.jsx(P$,{onClose:()=>a(!1),closeButtonText:"Back to Pause Menu"})]}),c&&f.jsx(Xve,{onExit:t,register:l})]})}const B$=Ui()?1e3:8e3;function tye(e){return Math.floor((Jv(e)-B$)/1e3)}const nye=2e4;function rye(e){return Jv(e)-(e.videoGap??0)*1e3>nye}function sye({playerRef:e,isEnabled:t}){const[n]=Be(ur),r=Ve.getSong(),s=A.useMemo(()=>rye(r),[r]),i=A.useMemo(()=>Jv(r),[r]),o=Ve.getCurrentTime(!1)<i-B$*1.2,a=t&&o&&s;kl({accept:()=>{e==null||e.seekTo(tye(r));const{artist:u,title:d}=Ve.getSong();jn.capture("introSkipped",{name:`${u} - ${d}`,artist:u,title:d})}},a);const c=A.useMemo(()=>({accept:"Skip Intro",back:"Pause Menu"}),[]);return Su(c,a),!n&&a?f.jsxs(oye,{visible:a,"data-test":"skip-intro-info",children:["Press ",f.jsx(lye,{children:"Enter"})," to skip the intro"]}):null}const iye=()=>e=>e.visible?1:0,oye=C("div")({name:"Container",class:"c12bc3je",propsAsIs:!1,vars:{"c12bc3je-0":[iye()]}}),aye=()=>e=>e.disabled?.25:1,lye=C("kbd")({name:"Kbd",class:"ke1fpcd",propsAsIs:!1,vars:{"ke1fpcd-0":[aye()]}}),cye=15e3;function uye({onSongEnd:e,isEnabled:t}){const[n]=Be(ur),r=Ve.getDuration(),s=A.useMemo(()=>Math.max(...Ve.getPlayers().map(p=>Jd(p.getLastNotesSection()))),[]),i=A.useMemo(()=>{var g;const p=GL(s,Ve.getSong())+(((g=Ve.getSong())==null?void 0:g.gap)??0);return t&&r*1e3>p+cye},[r,s,t]),[o,a]=A.useState(0),[l,c]=A.useState(!1);Uae(()=>a(Ve.getCurrentBeat()),1e3);const u=px(i&&o>s,5e3)&&!l;kl({accept:()=>{c(!0),setTimeout(e,700);const{artist:p,title:g}=Ve.getSong();jn.capture("outroSkipped",{name:`${p} - ${g}`,artist:p,title:g})}},u);const h=A.useMemo(()=>({accept:"Skip Outro",back:"Pause Menu"}),[]);return Su(h,u),!n&&i?f.jsxs(fye,{visible:u,"data-test":"skip-outro-info","data-visible":u,children:["Press ",f.jsx(pye,{children:"Enter"})," to skip the outro"]}):null}const dye=()=>e=>e.visible?1:0,fye=C("div")({name:"Container",class:"c1om25d1",propsAsIs:!1,vars:{"c1om25d1-0":[dye()]}}),hye=()=>e=>e.disabled?.25:1,pye=C("kbd")({name:"Kbd",class:"kpr6gvt",propsAsIs:!1,vars:{"kpr6gvt-0":[hye()]}}),gye=xe.memo(uye);function kR(e){return e&&e.length?RL(e):[]}function mye({players:e}){const t=Ve.getCurrentTime(!1),n=Ve.getSongBeatLength(),r=Ve.getDuration(),s=Ve.getSong(),i=A.useMemo(()=>kR(s.tracks.filter((l,c)=>e.find(u=>u.track===c)).map(({sections:l})=>oa(l)*n+s.gap)),[s,n,e]),o=A.useMemo(()=>kR(s.tracks.filter((l,c)=>e.find(u=>u.track===c)).map(({sections:l})=>Qd(l)*n+s.gap)),[s,n,e]),a=r*1e3;return!t||!r?null:f.jsxs(qx,{children:[i.map(l=>f.jsx(CR,{position:l/a},l)),o.map(l=>f.jsx(CR,{position:l/a},l)),f.jsx(bye,{fill:t/a})]})}const qx=C("div")({name:"Bar",class:"b17sf6jm",propsAsIs:!1}),vye=()=>qx,yye=C(vye())({name:"BaseMarker",class:"b1g6a9st",propsAsIs:!0}),CR=e=>f.jsx(yye,{style:{left:`${Math.min(e.position*100,100)}%`}}),Aye=()=>qx,_ye=C(Aye())({name:"BaseBarFill",class:"be3mty2",propsAsIs:!0}),bye=e=>f.jsx(_ye,{style:{width:`${Math.round(e.fill*1e4)/100}%`}});function Sye({player:e,bottom:t=!1,...n}){const r=dn.getPlayerVolume(e.number),s=k$(e.number);return f.jsxs(wye,{...n,children:[s!=="unavailable"&&f.jsx(fhe,{playerNumber:e.number,volume:r}),f.jsx(Eye,{status:s,tooltipPosition:"start"}),f.jsx(Cye,{playerNumber:e.number})]})}const wye=C("div")({name:"Container",class:"c19m38iw",propsAsIs:!1}),xye=()=>R$,Eye=C(xye())({name:"StyledPlayerStatus",class:"s1hgszse",propsAsIs:!0}),kye=()=>I$,Cye=C(kye())({name:"StyledPing",class:"sxuu9jf",propsAsIs:!0});function IR({player:e,bottom:t=!1,effectsEnabled:n,showMultipleLines:r}){var w;const s=Ve.getPlayer(e.number),[i]=Be(ur),o=Ye.colors.players[e.number].text,a=((w=Ve.getSingSetup())==null?void 0:w.mode)===kr.PASS_THE_MIC?s.getTrack().changes:[],l=s.getCurrentSection(),c=s.getNextSection(),u=s.getNextSection(2),d=Ve.getCurrentBeat(),h=Ve.getSongBeatLength(),p=Math.max(0,...a.filter(S=>S<=((l==null?void 0:l.start)??-1/0))),g=a.find(S=>S>((l==null?void 0:l.start)??1/0))??1/0,m=(g-d)*h,_=(g-d)/(g-p),v=m<2500,y=Ct(l),b=y?oa([l])-l.start:0;return f.jsxs(Lye,{shouldBlink:v,bottom:t,"data-test":`lyrics-container-player-${e.number}`,children:[!i&&n&&f.jsx(Tye,{children:r?f.jsx(TR,{player:e}):Ve.getPlayers().map(S=>f.jsx(TR,{player:Re.getPlayer(S.getNumber())},S.getNumber()))}),m<1/0&&f.jsx(zye,{color:o,progress:_<=1?_*100:0}),y?f.jsx(f.Fragment,{children:f.jsxs(dp,{"data-test":`lyrics-current-player-${e.number}`,effectsEnabled:n,children:[f.jsx(Rye,{children:f.jsx(Pye,{color:o,percent:Math.min(2,(d-l.start)/b)})}),l==null?void 0:l.notes.map(S=>{const x=Math.max(0,Math.min(2,(d-S.start)/S.length));return f.jsxs(Bye,{type:S.type,children:[f.jsxs(Nye,{children:[f.jsx(Fye,{fill:x,color:o,children:S.lyrics.trim()}),S.lyrics.endsWith(" ")&&" "]}),S.lyrics]},S.start)}),(c==null?void 0:c.start)===g&&f.jsx(RR,{"data-should-shake":!0})]})}):f.jsx(dp,{effectsEnabled:n,children:" "}),Ct(c)?f.jsxs(dp,{nextLine:!0,"data-test":`lyrics-next-player-${e.number}`,effectsEnabled:n,children:[c.notes.map(S=>f.jsx(A.Fragment,{children:S.lyrics},S.start)),(u==null?void 0:u.start)===g&&f.jsx(RR,{})]}):f.jsx(dp,{effectsEnabled:n,nextLine:!0,children:" "})]})}const Iye=()=>Sye,TR=C(Iye())({name:"SLyricsVolumeIndicator",class:"syxmorb",propsAsIs:!0}),Tye=C("div")({name:"VolumeIndicatorContainer",class:"v5sicni",propsAsIs:!1}),Rye=C("span")({name:"HeadstartContainer",class:"hwmr49r",propsAsIs:!1}),Mye=C("span")({name:"BaseHeadstart",class:"b1a3evlu",propsAsIs:!1}),Pye=({percent:e,color:t})=>{const n=A.useMemo(()=>{const r=de(t).toRgb();return`${r.r}, ${r.g}, ${r.b}`},[t]);return f.jsx(Mye,{style:{transformOrigin:"right",transform:`scaleX(${Math.min(1,2-e)})`,right:`${Math.max(0,1-e)*15}rem`,background:`linear-gradient(270deg, rgba(${n}, 1) 0%, rgba(${n}, 0.5) 25%, rgba(${n}, 0) 100%)`}})},jye=()=>e=>e.bottom?"0.85":"0.5",Oye=()=>e=>e.bottom?"0.9":"0.5",Vye=()=>e=>e.shouldBlink?"animation: blink 350ms ease-in-out infinite both;":"",Lye=C("div")({name:"LyricsContainer",class:"l75llyl",propsAsIs:!1,vars:{"l75llyl-0":[jye()],"l75llyl-1":[Oye()],"l75llyl-2":[Vye()]}}),$ye=()=>e=>e.type==="freestyle"?"italic":"normal",Bye=C("span")({name:"LyricContainer",class:"lmiugcq",propsAsIs:!1,vars:{"lmiugcq-0":[$ye()]}}),Nye=C("span")({name:"LyricActiveContainer",class:"l1c7zuqk",propsAsIs:!1}),Dye=C("span")({name:"BaseLyricActive",class:"bur9xqs",propsAsIs:!1}),Fye=({fill:e,color:t,children:n})=>f.jsx(Dye,{style:{clipPath:`inset(0 ${(1-(e===0?0:e+.05))*100}% -5rem 0)`,color:`${t}`},children:n}),Uye=C("div")({name:"BasePassTheMicProgress",class:"b1p77rpa",propsAsIs:!1}),zye=e=>f.jsx(Uye,{"data-test":"pass-the-mic-progress",style:{background:e.color,transformOrigin:"left",transform:`scaleX(${e.progress/100})`}}),Hye=()=>Qv,RR=C(Hye())({name:"PassTheMicSymbol",class:"pe9tb81",propsAsIs:!0}),Gye=()=>({nextLine:e,effectsEnabled:t})=>t?3.5+(e?0:1):2,qye=()=>({effectsEnabled:e})=>e?4.5:2,Wye=()=>({effectsEnabled:e})=>e?"2px":"1px",Kye=()=>({nextLine:e})=>e?Ye.colors.text.inactive:Ye.colors.text.default,dp=C("div")({name:"LyricsLine",class:"lq34zel",propsAsIs:!1,vars:{"lq34zel-0":[Gye(),"rem"],"lq34zel-1":[qye(),"rem"],"lq34zel-2":[Wye()],"lq34zel-3":[Kye()]}}),N$=new Intl.NumberFormat(void 0,{maximumFractionDigits:0});function $_({score:e}){return f.jsx(f.Fragment,{children:N$.format(e)})}const D$=6,Es=30,yn=Es+6,Yye=e=>{const t=e.canvas.width,n=e.canvas.height,r=Math.max(0,(t-n*(16/9))/2),s=10+(t-2*r)*.15+r,i=n-e.paddingVertical*2;return{width:t-s*2,height:i/e.playerCount,baseX:s,baseY:e.paddingVertical+e.playerIndex*i/e.playerCount}};function MR({canvas:e,currentSectionIndex:t,song:n,songBeatLength:r,minPitch:s,maxPitch:i,track:o,playerIndex:a,playerCount:l,paddingVertical:c}){var b;const u=o.sections,d=u[t],h=u[t+1],p=Yye({canvas:e,playerCount:l,playerIndex:a,paddingVertical:c}),g=Ct(d)?(b=d==null?void 0:d.notes)==null?void 0:b.at(-1):void 0,m=Ct(d)?(h==null?void 0:h.start)??g.start+g.length:d.end,_=d.start*r,v=(m-d.start)*r,y=(p.height-20-Es)/(i-s+D$*2);return{playerCanvas:p,currentSection:d,sectionEndBeat:m,timeSectionGap:_,maxTime:v,pitchStepHeight:y}}function F$(e,t,n,r,s){return s&&n?Ye.colors.players[t].starPerfect:s?Ye.colors.players[t].perfect:n&&r?Ye.colors.players[t].star:r?Ye.colors.players[t].hit:Ye.colors.players[t].miss}function Qye(e,t,n,r){return F$(e,t,r.note.type==="star",n,r.isPerfect)}const KA={},Jye=e=>{if(!KA[e]){const t=de(e);KA[e]=[[t.setAlpha(.8).toRgbString(),t.setAlpha(.9).toRgbString(),t.setAlpha(1).toRgbString()],[t.setAlpha(0).toRgbString()],[t.setAlpha(.1).toRgbString(),t.setAlpha(.3).toRgbString(),t.setAlpha(.2).toRgbString()]]}return KA[e]};function B_(e,t,n,r,s,i,o,a=1){if(s<=0)return;t.globalAlpha=1;const l=t.createRadialGradient(n,r,0,n,r,s/2),[c,u,d]=Jye(o);l.addColorStop(0,c[Oi(0,c.length-1)]),l.addColorStop(.05,c[Oi(0,c.length-1)]),l.addColorStop(.15,d[Oi(0,d.length-1)]),l.addColorStop(1,u[Oi(0,u.length-1)]),t.beginPath(),t.arc(n,r,s/2,0,2*Math.PI),t.closePath(),t.fillStyle=l,t.fill(),t.fillStyle=o,t.globalAlpha=1}function U$(e,t,n,r,s,i,o,a,l=1){s>0&&B_(e,t,n,r,s,i,a,l)}const Jp=(e,t)=>e-t+Math.random()*t*2,PR=(e=0)=>Math.sign(e+Math.random()-.5),Xye=300,Zye=50,fp=1.3;class eAe{constructor(t,n,r){this.x=t,this.y=n,this.color=r,this.finished=!1,this.tick=(s,i,o)=>{const a=1-this.ttl/this.startingTtl,l=this.ttl,c=this.width*a,u=this.width*this.heightModifier*a,d=this.x-c/2+l*this.velocityX,h=this.y+u/2+l*this.velocityY;U$(i,s,d,h,c,u,this.initialAngle+l,this.color,.7*a),this.ttl=this.ttl-o,this.finished=this.ttl<=0},this.startingTtl=this.ttl=Jp(Xye,Zye),this.velocityX=fp*Math.random()-fp/2,this.velocityY=fp*Math.random()-fp/2,this.width=25,this.initialAngle=180-Math.random()*360,this.heightModifier=.5+Math.random()/2}}const tAe=`
precision mediump float;
`,ny=tAe.replace(/\n/g,""),nAe=`
attribute vec3 aVertexPosition;
attribute vec2 aTextureCoord;
`,z$=nAe.replace(/\n/g,""),rAe=`
varying vec3 vVertexPosition;
varying vec2 vTextureCoord;
`,ry=rAe.replace(/\n/g,""),sAe=ny+z$+ry+`
uniform mat4 uMVMatrix;
uniform mat4 uPMatrix;

void main() {
    vTextureCoord = aTextureCoord;
    vVertexPosition = aVertexPosition;
    
    gl_Position = uPMatrix * uMVMatrix * vec4(aVertexPosition, 1.0);
}
`;sAe.replace(/\n/g,"");const iAe=ny+ry+`
void main() {
    gl_FragColor = vec4(0.0, 0.0, 0.0, 1.0);
}
`;iAe.replace(/\n/g,"");const oAe=ny+z$+ry+`
void main() {
    vTextureCoord = aTextureCoord;
    vVertexPosition = aVertexPosition;
    
    gl_Position = vec4(aVertexPosition, 1.0);
}
`;oAe.replace(/\n/g,"");const aAe=ny+ry+`
uniform sampler2D uRenderTexture;

void main() {
    gl_FragColor = texture2D(uRenderTexture, vTextureCoord);
}
`;aAe.replace(/\n/g,"");function lAe(e,t,n){var r=e.length;return n=n===void 0?r:n,!t&&n>=r?e:AS(e,t,n)}var cAe="\\ud800-\\udfff",uAe="\\u0300-\\u036f",dAe="\\ufe20-\\ufe2f",fAe="\\u20d0-\\u20ff",hAe=uAe+dAe+fAe,pAe="\\ufe0e\\ufe0f",gAe="\\u200d",mAe=RegExp("["+gAe+cAe+hAe+pAe+"]");function H$(e){return mAe.test(e)}function vAe(e){return e.split("")}var G$="\\ud800-\\udfff",yAe="\\u0300-\\u036f",AAe="\\ufe20-\\ufe2f",_Ae="\\u20d0-\\u20ff",bAe=yAe+AAe+_Ae,SAe="\\ufe0e\\ufe0f",wAe="["+G$+"]",N_="["+bAe+"]",D_="\\ud83c[\\udffb-\\udfff]",xAe="(?:"+N_+"|"+D_+")",q$="[^"+G$+"]",W$="(?:\\ud83c[\\udde6-\\uddff]){2}",K$="[\\ud800-\\udbff][\\udc00-\\udfff]",EAe="\\u200d",Y$=xAe+"?",Q$="["+SAe+"]?",kAe="(?:"+EAe+"(?:"+[q$,W$,K$].join("|")+")"+Q$+Y$+")*",CAe=Q$+Y$+kAe,IAe="(?:"+[q$+N_+"?",N_,W$,K$,wAe].join("|")+")",TAe=RegExp(D_+"(?="+D_+")|"+IAe+CAe,"g");function RAe(e){return e.match(TAe)||[]}function MAe(e){return H$(e)?RAe(e):vAe(e)}function PAe(e){return function(t){t=vS(t);var n=H$(t)?MAe(t):void 0,r=n?n[0]:t.charAt(0),s=n?lAe(n,1).join(""):t.slice(1);return r[e]()+s}}var jAe=PAe("toUpperCase");function OAe(e){return jAe(vS(e).toLowerCase())}function jR(e,t,n,r,s,i,o,a){const l=Math.max(r,s/2),c=Math.min(l/2,s/2,i);e.beginPath(),e.moveTo(t+c,n),e.lineTo(t+l-c,n),e.quadraticCurveTo(t+l,n,t+l,n+c),e.lineTo(t+l,n+s-c),e.quadraticCurveTo(t+l,n+s,t+l-c,n+s),e.lineTo(t+c,n+s),e.quadraticCurveTo(t,n+s,t,n+s-c),e.lineTo(t,n+c),e.quadraticCurveTo(t,n,t+c,n),e.closePath(),o&&e.fill(),a&&e.stroke()}function Wx(e,t,n,r,s,i,o,a,l=.1){jR(e,t,n,r,s,i,o,a),o&&l>0&&(e.save(),jR(e,t,n,r,s,i,!1,!1),e.clip(),e.fillStyle=`rgba(255,255,255,${l})`,e.fillRect(t,n,r,s/2.2),e.restore())}function ld(e,t){e.fillStyle=t.fill,e.strokeStyle=t.stroke,e.lineWidth=t.lineWidth}function cd(e,t,n,r,s,i,o){i==="star"?ld(e,Ye.colors.lines.star):i==="freestyle"||i==="rap"?ld(e,Ye.colors.lines.freestyle):i==="rapstar"?ld(e,{...Ye.colors.lines.star,fill:Ye.colors.lines.freestyle.fill}):ld(e,Ye.colors.lines.normal),e.shadowBlur=10,e.shadowColor=o!==void 0?Ye.colors.players[o].miss.stroke:"rgb(31,31,31)",e.shadowOffsetX=0,e.shadowOffsetY=0,Wx(e,t,n,r,s,100,!0,!0,.075),e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0}function VAe(e,t,n,r,s,i,o,a,l){ld(e,F$(e,i,l,o,a)),e.shadowBlur=5,e.shadowColor="rgba(31,31,31, .7)",e.shadowOffsetX=1,e.shadowOffsetY=1,Wx(e,t,n,r,s,100,!0,!0,o?.15:0),e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0}const Rn=10,LAe={start:{x:0,y:0,w:Es/2+Rn,h:Es+Rn*2},middle:{x:Es/2+Rn,y:0,w:1,h:Es+Rn*2},end:{x:Es/2+1+Rn,y:0,w:Es/2+Rn,h:Es+Rn*2}},fc={start:{x:0,y:0,w:yn/2+Rn,h:yn+Rn*2},middle:{x:yn/2+Rn,y:0,w:1,h:yn+Rn*2},end:{x:yn/2+1+Rn,y:0,w:yn/2+Rn,h:yn+Rn*2}},Ul=(e,t,n,r,s)=>({draw:(i,o,a,l,c)=>VAe(i,o,a,l,c,e,t,n,r),width:s?yn:Es+1,height:s?yn:Es,padding:Rn,fragments:s?fc:LAe}),hp=e=>({[`p${e}Normal`]:{draw:(t,n,r,s,i)=>cd(t,n,r,s,i,"normal",e),width:yn+1,height:yn,padding:Rn,fragments:fc},[`p${e}Miss`]:Ul(e,!1,!1,!1,!1),[`p${e}Hit`]:Ul(e,!0,!1,!1,!0),[`p${e}Perfect`]:Ul(e,!0,!0,!1,!0),[`p${e}StarMiss`]:Ul(e,!1,!1,!0,!1),[`p${e}StarHit`]:Ul(e,!0,!1,!0,!0),[`p${e}StarPerfect`]:Ul(e,!0,!0,!0,!0)}),ro={...hp(0),...hp(1),...hp(2),...hp(3),noteStar:{draw:(e,t,n,r,s)=>cd(e,t,n,r,s,"star"),width:yn+1,height:yn,padding:Rn,fragments:fc},noteFreestyle:{draw:(e,t,n,r,s)=>cd(e,t,n,r,s,"freestyle"),width:yn+1,height:yn,padding:Rn,fragments:fc},noteRap:{draw:(e,t,n,r,s)=>cd(e,t,n,r,s,"rap"),width:yn+1,height:yn,padding:Rn,fragments:fc},noteRapstar:{draw:(e,t,n,r,s)=>cd(e,t,n,r,s,"rapstar"),width:yn+1,height:yn,padding:Rn,fragments:fc}};function $Ae(e,t){const n=document.createElement("canvas");return n.width=e,n.height=t,n}const J$=Math.max(...Object.values(ro).map(e=>e.padding*2+e.width)),X$=Object.values(ro).map(e=>e.padding*2+e.height).reduce((e,t)=>e+t,0),Z$=$Ae(J$,X$),F_=Z$.getContext("2d");let za=0;const OR=Object.entries(ro).map(([e,t])=>{const n=t.padding*2,r={name:e,x:0,y:za,w:t.width+n,h:t.height+n};return za=za+t.height+n,r}).reduce((e,t)=>({...e,[t.name]:t}),{}),eB=()=>{F_.clearRect(0,0,J$,X$),za=0,Object.entries(ro).forEach(([e,t])=>{t.draw(F_,t.padding,za+t.padding,t.width,t.height),za=za+t.padding*2+t.height})};eB();te.songStarted.subscribe(eB);const tB=(e,t)=>({canvas:Z$,ctx:F_,x:OR[e].x+ro[e].fragments[t].x,y:OR[e].y+ro[e].fragments[t].y,w:ro[e].fragments[t].w,h:ro[e].fragments[t].h,padding:ro[e].padding}),YA=(e,t,n,r,s,i,o,a=1,l=1)=>{const c=tB(t,n),{canvas:u,w:d,h,y:p,x:g,padding:m}=c,_=m*a,v=m*l;return e.imageSmoothingEnabled=!1,e.drawImage(u,g,p,d,h,r-_,s-v,i??d,o??h),e.imageSmoothingEnabled=!0,c};function nB(e,t,n,r,s){const i=tB(t,"start"),o=Math.max(s,(i.h-i.padding*2)/2),a=Math.min(1,o/2/(i.w-i.padding)),l=a*i.w,c=l-i.padding*a,u=o-2*c;YA(e,t,"start",n,r,l,void 0,a),u>0&&YA(e,t,"middle",n+l,r,u,void 0,a),YA(e,t,"end",n+u+l,r,l,void 0,a)}const BAe=(e,t)=>`${t!==void 0&&e==="normal"?`p${t}`:"note"}${OAe(e)}`;function rB(e,t,n,r,s,i){const o=BAe(s.type,i);nB(e,o,t,n,r)}function NAe(e,t,n,r,s,i){e.save(),Wx(e,t,n,r,s,100,!1,!1),e.clip(),e.beginPath(),e.strokeStyle="rgba(255,255,255, .35)",e.lineWidth=3,e.lineJoin="round",e.moveTo(t,n+s/2-i.frequencyRecords[0].preciseDistance*s/3);for(let o=1;o<i.frequencyRecords.length;o++)e.lineTo(t+o*(r/(i.frequencyRecords.length-1)),n+s/2-i.frequencyRecords[o].preciseDistance*s/3);e.stroke(),e.closePath(),e.restore(),e.lineJoin="miter"}const DAe=(e,t,n,r)=>{let s=`p${e}`;return n&&r?s=`${s}StarPerfect`:n?s=`${s}Perfect`:r&&t?s=`${s}StarHit`:t?s=`${s}Hit`:r&&!t?s=`${s}StarMiss`:s=`${s}Miss`,s},FAe=["star","rapstar"];function UAe(e,t,n,r,s,i,o){const a=DAe(s,i,o.isPerfect,FAe.includes(o.note.type));nB(e,a,t,n,r)}class zAe{constructor(){this.particles=[],this.lastTick=Date.now(),this.getTimeDelta=t=>{const n=Date.now()-t,r=n-this.lastTick;return this.lastTick=n,r},this.tick=(t,n,r=0)=>{const s=this.getTimeDelta(r);this.particles.forEach(i=>i.tick(t,n,s)),this.particles=this.particles.filter(i=>!i.finished)},this.add=t=>this.particles.push(t),this.clearAll=()=>this.particles=[]}}const Ia=new zAe,HAe=50/60*1e3,GAe=25/60*1e3,qAe=60,VR=.3;class WAe{constructor(t,n,r,s){this.x=t,this.y=n,this.color=r,this.delay=s,this.finished=!1,this.tick=(i,o,a)=>{if(this.delay-- >0)return;const l=this.ttl/this.startingTtl,c=this.startingTtl-this.ttl,u=this.width*l,d=this.width*this.heightModifier*l,h=this.x-u/2+c*this.velocityX,p=this.y-d/2+c*this.velocityY;U$(o,i,h,p,u,d,this.initialAngle+c,this.color,.8*l),this.velocityX=this.velocityX-.009,this.velocityY=this.velocityY*1.0075,this.ttl=this.ttl-a,this.finished=this.ttl<=0},this.startingTtl=this.ttl=Jp(HAe,GAe),this.velocityX=Jp(.5,VR)*PR(.2),this.velocityY=Jp(.4,VR)*PR(),this.width=qAe,this.initialAngle=180-Math.random()*360,this.heightModifier=.5+Math.random()/2}}class KAe{constructor(t,n,r,s,i,o){this.finished=!0,this.tick=(d,h)=>{};const a=i.type==="star"?Ye.colors.players[s].star.fill:Ye.colors.players[s].perfect.fill,l=de(a).lighten(15).toRgbString(),c=de(a).darken(15).toRgbString(),u=r/8;for(let d=0;d<u;d++){const h=Math.random();let p=a;h>.66?p=l:h>.33&&(p=c);const g=n+20*(Math.random()-.5);o.add(new WAe(t+d*5,g,p,(u-d)/10))}}}const LR=200;class YAe{constructor(t,n,r,s,i){this.x=t,this.y=n,this.width=r,this.note=s,this.playerNumber=i,this.finished=!1,this.ttl=LR,this.tick=(o,a,l)=>{const c=this.ttl/LR;o.save(),o.globalAlpha=c,o.translate(0,yn*(1-c)),rB(o,this.x,this.y,this.width,this.note,this.playerNumber),o.globalAlpha=1,o.restore(),this.ttl=this.ttl-l,this.finished=this.ttl<=0}}}const QA=50/60*1e3,pp=.05,QAe=200,$R=4,JAe=Math.pow;function BR(e){return 1-JAe(1-e,2)}class XAe{constructor(t,n,r,s){this.x=t,this.y=n,this.finished=!1,this.tick=(i,o,a)=>{const l=this.ttl/QA;let c=BR(1-Math.min(1,(1-l)*6));const u=this.maxWidth*c*3/4,d=this.maxWidth*c;B_(o,i,this.x,this.y,u,d,"white",c*.35),c=BR(l);const h=c*this.maxWidth/4,p=c*this.maxWidth/4,g=this.x,m=this.y,_=QA-this.ttl;i.globalAlpha=c*.2,B_(o,i,g+_*this.velocityX,m+_*this.velocityY,h,p,"white",c*.2),this.ttl=this.ttl-a,this.finished=this.ttl<=0},this.ttl=QA,this.velocityX=pp*Math.random()-pp/2,this.velocityY=pp*Math.random()-pp/2,this.maxWidth=Math.min(.1+s,1)*(Math.sin(r/70)*$R+(QAe-$R))}}const NR=20;class ZAe{constructor(t,n,r,s,i){this.x=t,this.y=n,this.w=r,this.h=s,this.seed=i,this.finished=!1,this.ttl=2/60*1e3,this.tick=(o,a,l)=>{o.strokeStyle="rgba(255,255,255,.25)",o.lineWidth=2,o.beginPath();for(let c=0;c<this.w;c++){const u=this.x+this.w-c,d=(this.h/2+2)*Math.sin(u/NR+this.seed/250);o.lineTo(u,this.y+this.h/2+d)}o.stroke(),o.beginPath();for(let c=0;c<this.w;c++){const u=this.x+this.w-c,d=-1*(this.h/2+2)*Math.sin(u/NR+this.seed/250);o.lineTo(u,this.y+this.h/2+d)}o.stroke(),this.ttl=this.ttl-l,this.finished=this.ttl<=0}}}const DR=20;function e0e(e,t){return e.find(n=>n.start<=t&&n.start+n.length>=t)}class t0e{constructor(t,n=0,r=1){this.canvas=t,this.verticalMargin=n,this.scaleFactor=r,this.loop=!1,this.pauseTime=0,this.pausedOn=0,this.shaders=null,this.start=()=>{te.sectionChange.subscribe(this.onSectionEnd),this.loop=!0,this.drawFrame()},this.pause=()=>{this.end(),this.pausedOn=Date.now()},this.resume=()=>{this.pauseTime+=Date.now()-this.pausedOn,this.start()},this.end=()=>{var s;this.loop=!1,(s=this.shaders)==null||s.cleanup(),te.sectionChange.unsubscribe(this.onSectionEnd)},this.isPlaying=()=>this.loop,this.drawFrame=()=>{const s=Date.now(),i=this.canvas.getContext("2d");if(i){if(Ve.isPlaying()&&(i.clearRect(0,0,this.canvas.width,this.canvas.height),Re.getPlayers().forEach((a,l)=>{this.drawPlayer(a.number,i)}),Ia.tick(i,this.canvas,this.pauseTime)),Ha.get()===30){const o=Date.now(),a=1e3/30,l=o-s>a?a:a-(o-s);this.loop&&setTimeout(this.drawFrame,l,Ha.get())}Ha.get()!==30&&this.loop&&global.requestAnimationFrame(this.drawFrame)}},this.drawPlayer=(s,i)=>{const o=this.getDrawingData(s),{currentSection:a}=MR(o);if(Ms.get()==="high"&&this.setDistortionForce(o),!Ct(a))return;const l=this.calculateDisplacements(a,o);this.drawNotesToSing(i,o,l),this.drawSungNotes(i,o,l),Ms.get()==="high"&&this.drawFlare(i,o,l)},this.setDistortionForce=s=>{var o,a,l;const i=s.currentSection;if(!Ct(i))(a=this.shaders)==null||a.updatePlayerForce(s.playerNumber,(((o=this.shaders)==null?void 0:o.getPlayerForce(s.playerNumber))??0)*.99);else{const c=Math.max(0,s.currentBeat-DR),u=s.currentPlayerNotes.filter(m=>m.note.start+m.note.length>=c).filter(m=>Ag(m)===0).reduce((m,_)=>m+_.length-Math.max(0,c-_.start),0),d=s.currentPlayerNotes.at(-1),h=((d==null?void 0:d.start)??0)+((d==null?void 0:d.length)??0),p=s.currentBeat-h,g=Math.max(Math.min(Math.pow((u-p/1.5)/DR,3),.98),0);(l=this.shaders)==null||l.updatePlayerForce(s.playerNumber,g)}},this.drawNotesToSing=(s,i,o)=>{Ct(i.currentSection)&&i.currentSection.notes.forEach(a=>{const{x:l,y:c,w:u,h:d}=this.getNoteCoords(i,a,a.pitch,!0,o[a.start]);rB(s,l,c,u,a,i.playerNumber)})},this.drawSungNotes=(s,i,o)=>{Ct(i.currentSection)&&i.currentPlayerNotes.forEach(a=>{const l=Ag(a),{x:c,y:u,w:d,h}=this.getNoteCoords(i,a,a.note.pitch+l,l===0,o[a.note.start]);(l>0||d>h/2.5)&&(UAe(s,c,u,d,i.playerNumber,l===0,a),a.vibrato&&Ia.add(new ZAe(c,u,d,h,i.currentTime)),l===0&&a.frequencyRecords.length>3&&!yd.includes(a.note.type)&&NAe(s,c,u,d,h,a))})},this.drawFlare=(s,i,o)=>{var l;if(!Ct(i.currentSection))return;const a=e0e(i.currentPlayerNotes,i.currentBeat-185/i.songBeatLength);if(a&&a.distance===0){const c=o[a.note.start]||[0,0],{x:u,y:d,w:h,h:p}=this.getNoteCoords(i,a,a.note.pitch,!0,c),g=yd.includes(a.note.type)?0:a.frequencyRecords.at(-1).preciseDistance,m=u+h,_=this.getPreciseY(d,p,g);Ia.add(new XAe(m,_,i.currentTime,1)),Ia.add(new eAe(O$(Math.max(u,m-50),m),_,Qye(s,i.playerNumber,!0,a).fill)),(l=this.shaders)==null||l.updatePlayerCenter(i.playerNumber,m,_)}},this.onSectionEnd=s=>{if(Ve.isPlaying()){const i=this.getDrawingData(s,-1);if(!Ct(i.currentSection))return;this.fadeoutNotes(i.currentSection,i),this.explodeNotes(i.currentSection,i)}},this.fadeoutNotes=(s,i)=>{Ms.get()==="high"&&s.notes.forEach(o=>{const{x:a,y:l,w:c,h:u}=this.getNoteCoords(i,o,o.pitch,!0);Ia.add(new YAe(a,l,c,o,i.playerNumber))})},this.explodeNotes=(s,i)=>{Ms.get()==="high"&&i.playerNotes.filter(a=>(a.distance===0||yd.includes(a.note.type))&&s.notes.includes(a.note)).forEach(a=>{const{x:l,y:c,w:u,h:d}=this.getNoteCoords(i,a,a.note.pitch,!0);Ia.add(new KAe(l,c+d/2,u,i.playerNumber,a.note,Ia))})},this.calculateDisplacements=(s,i)=>{const o={};return Ms.get()==="high"?s.notes.forEach(a=>{const l=i.playerNotes.filter(h=>h.note.start===a.start).filter(h=>h.note.start+h.note.length+30>=i.currentBeat&&h.distance===0).map(h=>h.start+30<i.currentBeat?h.length-(i.currentBeat-30-h.start):h.length).reduce((h,p)=>Math.min(h+p,30),0),c=Math.max(0,(l-5)/(a.type==="star"?3:5)),u=(Math.random()-.5)*c,d=(Math.random()-.5)*c;o[a.start]=[u,d]}):s.notes.forEach(a=>{o[a.start]=[0,0]}),o},this.getDrawingData=(s,i=0)=>{const o=Re.getPlayers(),a=o.findIndex(m=>m.number===s),l=o.length,c=Ve.getPlayer(s),u=c.getCurrentSectionIndex()+i,d=Ve.getSong(),h=c.getTrack(),p=h.sections[u],g=c.getPlayerNotes();return{playerNumber:s,playerIndex:a,playerCount:l,song:d,songBeatLength:Ve.getSongBeatLength(),minPitch:c.getMinPitch(),maxPitch:c.getMaxPitch(),canvas:this.canvas,currentTime:Ve.getCurrentTime(),frequencies:c.getPlayerFrequencies(),playerNotes:g,currentPlayerNotes:g.filter(m=>m.note.start>=((p==null?void 0:p.start)??1/0)),track:h,currentBeat:Ve.getCurrentBeat(),currentSectionIndex:u,currentSection:p,paddingVertical:this.verticalMargin}},this.getNoteCoords=(s,{start:i,length:o},a,l,c=[0,0])=>{const{sectionEndBeat:u,currentSection:d,playerCanvas:h,pitchStepHeight:p}=MR(s),g=Ct(d)?d.notes[0].start:1,m=h.width/(u-g),[_,v]=l?c:[0,0],y=p*(s.maxPitch-a+D$);return{x:Math.floor(h.baseX+m*(i-g)+_),y:Math.floor(h.baseY+10+y+v-(l?3:0)),w:Math.floor(m*o),h:l?yn:Es}},this.getPreciseY=(s,i,o)=>s+i/2-o*i/3}}const n0e=`precision mediump float;

const float MAX_FORCE = 300.0;
const int SAMPLE_COUNT = 8; // 2^x
const float INTENSITY = 0.051;
// get our varyings
varying vec3 vVertexPosition;
varying vec2 vTextureCoord;
// the uniform we declared inside our javascript
uniform float uTime;
uniform sampler2D planeTexture;
uniform vec2 uResolution;

uniform vec2 uP0center;
uniform float uP0force;

uniform vec2 uP1center;
uniform float uP1force;

float rnd(float n) {
    return fract(sin(n) * 43758.5453);
}
float random (vec2 st) {
    return rnd(dot(st.xy, vec2(12.9898, 78.233)));
}

vec4 directionalBlur(in vec2 uv, in vec2 direction, in float intensity)
{
    vec4 color = vec4(0.0);

    for (int i=1; i<=SAMPLE_COUNT; i++)
    {
        color += texture2D(planeTexture,uv+float(i)*intensity/float(SAMPLE_COUNT)*direction);
    }

    return color/float(SAMPLE_COUNT);
}

float distort(vec2 center, float force, float comparedIntensity) {
    float actualForce = force * MAX_FORCE;
    vec2 centerAbs = center * uResolution;

    vec2 direction = gl_FragCoord.xy - centerAbs.xy;
    float dist = length(direction) / length(uResolution);


    float intensity = max(0.0, 0.50 - dist) * INTENSITY * pow(force, 1.5);
    if (intensity > comparedIntensity) {
        vec4 newColor = directionalBlur(gl_FragCoord.xy / uResolution, normalize(direction), intensity);
        gl_FragColor = newColor;
    }
    return intensity;
}

void main() {
    gl_FragColor = texture2D(planeTexture, vTextureCoord);
    float p1intensity = distort(uP0center, uP0force, 0.0);
    float p2intensity = distort(uP1center, uP1force, p1intensity);
}`,r0e=`
precision mediump float;

// default mandatory variables
attribute vec3 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat4 uMVMatrix;
uniform mat4 uPMatrix;

uniform mat4 planeTextureMatrix;

// custom varyings
varying vec3 vVertexPosition;
varying vec2 vTextureCoord;

void main() {
    gl_Position = uPMatrix * uMVMatrix * vec4(aVertexPosition, 1.0);

    // varyings
    vVertexPosition = aVertexPosition;
    vTextureCoord = (planeTextureMatrix * vec4(aTextureCoord, 0.0, 1.0)).xy;
}`,s0e=1920,i0e=A.forwardRef(function({currentStatus:e,width:t,height:n,playerSetups:r,onSongEnd:s,effectsEnabled:i,videoPlayerRef:o,isPauseMenuVisible:a},l){var b,w,S;const[c]=Be(Ms),[u]=Be(ur),d=A.useRef(null),h=A.useRef(null),p=A.useRef(null),g=s0e,m=g*(n/t),_=m/n;A.useImperativeHandle(l,()=>({pause:()=>{var x;return(x=h.current)==null?void 0:x.pause()},resume:()=>{var x;return(x=h.current)==null?void 0:x.resume()}}),[h.current,(b=p.current)==null?void 0:b.offsetHeight,_]),A.useEffect(()=>(Ve.startInputMonitoring(),()=>{Ve.stopInputMonitoring()}),[]),A.useEffect(()=>{if(!(!d.current||!p.current))return h.current=new t0e(d.current,p.current.offsetHeight*_),h.current.start(),()=>{var x;(x=h.current)==null||x.end()}},[(w=p.current)==null?void 0:w.offsetHeight,_]),A.useEffect(()=>{var x,E,T,U;a&&((x=h.current)!=null&&x.isPlaying())?(E=h.current)==null||E.pause():!a&&!((T=h.current)!=null&&T.isPlaying())&&((U=h.current)==null||U.resume())},[a]),A.useEffect(()=>{e===Cn.ENDED&&s&&s()},[e,s]);const v=Re.getPlayers(),y=!u&&v.length===2;return f.jsxs(o0e,{children:[c==="high"&&f.jsxs(f.Fragment,{children:[f.jsx("script",{type:"x-shader/x-fragment",id:"plane-fs",children:n0e}),f.jsx("script",{id:"plane-vs",type:"x-shader/x-vertex",children:r0e}),f.jsx(l0e,{id:"canvas",style:{zIndex:1e4}})]}),f.jsx(a0e,{id:"plane",style:i?void 0:{opacity:0},children:f.jsx("canvas",{ref:d,width:g,height:m,"data-sampler":"planeTexture"})}),i&&f.jsxs(f.Fragment,{children:[f.jsx(sye,{playerRef:o,isEnabled:!a}),f.jsx(gye,{onSongEnd:s,isEnabled:!a})]}),f.jsx(mye,{players:r}),f.jsx(FR,{children:y&&f.jsx(IR,{player:v[0],effectsEnabled:i,showMultipleLines:y})}),f.jsx(c0e,{children:i&&f.jsx(f.Fragment,{children:((S=Ve.getSingSetup())==null?void 0:S.mode)===kr.CO_OP?f.jsx(UR,{"data-test":"players-score","data-score":Math.floor(Ve.getPlayerScore(0)),children:f.jsx($_,{score:Ve.getPlayerScore(0)})}):Re.getPlayers().map(x=>f.jsx(UR,{"data-test":`player-${x.number}-score`,"data-score":Math.floor(Ve.getPlayerScore(x.number)),children:f.jsx($_,{score:Ve.getPlayerScore(x.number)})},x.number))})}),f.jsx(FR,{ref:p,children:f.jsx(IR,{showMultipleLines:y,player:v[y?1:0],bottom:!0,effectsEnabled:i})})]})}),FR=C("div")({name:"LyricsWrapper",class:"l1e9cg0f",propsAsIs:!1}),o0e=C("div")({name:"Screen",class:"s1vxgbkv",propsAsIs:!1}),a0e=C("div")({name:"GameCanvas",class:"g17rqmi7",propsAsIs:!1}),l0e=C("div")({name:"Curtains",class:"c1lml3pc",propsAsIs:!1}),c0e=C("div")({name:"Scores",class:"s2y4rjb",propsAsIs:!1}),UR=C("span")({name:"Score",class:"sxsdvmn",propsAsIs:!1});function u0e(e,t){const[n,r]=A.useState(0);return A.useEffect(()=>{e.current&&t===Cn.PLAYING&&n===0&&e.current.getDuration().then(s=>{r(s),Ve.setDuration(s)})},[n,e,t]),n}function d0e({song:e,width:t,height:n,autoplay:r=!0,showControls:s=!1,onCurrentTimeUpdate:i,onSongEnd:o,onStatusChange:a,players:l,effectsEnabled:c=!0,singSetup:u,restartSong:d,pauseMenu:h=!1,...p},g){const m=A.useRef(null),[_,v]=A.useState(0),[y,b]=A.useState(Cn.UNSTARTED),[w]=Be(pd),[S,x]=A.useState(!1);A.useEffect(()=>(Ve.setSong(e),Ve.setSingSetup(u),()=>{Ve.resetSingSetup()}),[e,u]),A.useEffect(()=>{if(m.current&&y===Cn.PLAYING){const M=setInterval(async()=>{if(!m.current)return;const I=Math.max(0,await m.current.getCurrentTime()*1e3-w);v(I),i==null||i(I),Ve.setCurrentTime(I),Ve.update()},1e3/Ha.get());return()=>clearInterval(M)}},[m,i,y,w]);const E=u0e(m,y);A.useImperativeHandle(g,()=>({seekTo:M=>m.current.seekTo(M),setPlaybackSpeed:M=>m.current.setPlaybackSpeed(M),play:()=>m.current.playVideo(),pause:()=>m.current.pauseVideo()}));const T=A.useCallback(M=>{b(M),a==null||a(M)},[b,a]),U=h,$=()=>{var M;x(!0),(M=m.current)==null||M.pauseVideo()},D=()=>{var M;x(!1),(M=m.current)==null||M.playVideo()},Q=()=>{S?D():$()},P=hm(y);A.useEffect(()=>{var I;if(!U)return;const M=P!==Cn.PAUSED&&P!==Cn.BUFFERING&&y===Cn.PAUSED;y===Cn.PLAYING&&S?(I=m.current)==null||I.pauseVideo():M&&!S&&x(!0)},[S,y,P,U]),kl({back:Q},U,[S]);const L=A.useMemo(()=>({back:"Pause Menu"}),[]);return Su(L,c),f.jsxs(f0e,{...p,children:[S&&f.jsx(eye,{onExit:o,onResume:D,onRestart:d}),y!==Cn.UNSTARTED&&f.jsx(h0e,{style:{width:`${t}px`,height:`${n}px`},children:f.jsx(i0e,{isPauseMenuVisible:S,effectsEnabled:c,duration:E,currentStatus:y,song:e,width:t,height:n,onSongEnd:o,playerSetups:l,videoPlayerRef:m.current})}),f.jsxs(p0e,{children:[f.jsx(Sx,{ref:m,video:e.video,width:t,height:n,controls:s,autoplay:r,disablekb:!0,volume:e.volume,startAt:e.videoGap??0,onStateChange:T}),y===Cn.PLAYING&&f.jsx(g0e,{"data-test":"make-song-go-fast",onClick:()=>{var M;(M=m.current)==null||M.setPlaybackSpeed(2)}})]})]})}const f0e=C("div")({name:"Container",class:"ccvxx83",propsAsIs:!1}),h0e=C("div")({name:"Overlay",class:"oh35btw",propsAsIs:!1}),p0e=C("div")({name:"PlayerContainer",class:"pqldcir",propsAsIs:!1}),g0e=C("div")({name:"GoFastButton",class:"gpjylba",propsAsIs:!1}),m0e=A.forwardRef(d0e),zR=[f.jsxs(f.Fragment,{children:["You can follow the updates and give feedback on the game through the Facebook Page:"," ",f.jsx("a",{href:"https://www.facebook.com/allkaraoke.party",target:"_blank",rel:"noreferrer",children:f.jsx("strong",{children:"fb.com/AllKaraoke.Party"})})]}),f.jsxs(f.Fragment,{children:["Start typing a name of a song in ",f.jsx("strong",{children:"Song Selection"})," to active Search feature"]}),f.jsxs(f.Fragment,{children:["Narrow down songs through ",f.jsx("strong",{children:"playlists"})," on the right in Song Selection"]}),f.jsxs(f.Fragment,{children:["Select ",f.jsx("strong",{children:"Pass The Mic"})," Game Mode to share the microphones and sing in a team"]}),f.jsxs(f.Fragment,{children:["Your scores and ",f.jsx("strong",{children:"stats are saved"})," in this browser - they will be available for the next party!"]}),f.jsxs(f.Fragment,{children:["You can remove irrelevant songs from the Song Selection in ",f.jsx("strong",{children:"Edit Songs"})," page"]}),f.jsxs(f.Fragment,{children:["If the game feels a bit jaggy with low FPS, check out ",f.jsx("strong",{children:"Settings"})," page"]}),f.jsxs(f.Fragment,{children:["Party is only getting started? Play ",f.jsx("strong",{children:"Jukebox"})," for the music and to see what songs are available"]}),f.jsxs(f.Fragment,{children:["Research shows that ",f.jsx("strong",{children:"duet songs"})," are that bit more fun than simple one-track ones"]}),f.jsxs(f.Fragment,{children:["Want to sing a ",f.jsx("strong",{children:"new song"}),"? Find UltraStar version of it and import it with",f.jsx("br",{}),f.jsx("strong",{children:"Convert Ultrastar .txt"})]}),f.jsxs(f.Fragment,{children:["The ",f.jsx("strong",{children:"white pulse"})," around selected song in Song Selection tries to match song's tempo"]}),f.jsxs(f.Fragment,{children:["Entire game (besides add/edit song) is navigable with ",f.jsx("strong",{children:"Keyboard"})]}),f.jsxs(f.Fragment,{children:["You can hide or show keyboard navigation help with ",f.jsx("kbd",{children:"H"})," key"]}),f.jsxs(f.Fragment,{children:["In Song Selection, hold ",f.jsx("kbd",{children:"↑"})," or ",f.jsx("kbd",{children:"↓"})," to jump to the next letter"]}),f.jsxs(f.Fragment,{children:["Add ",f.jsx("strong",{children:"vibrato"})," to the notes you sing to get additional ",f.jsx("strong",{children:"bonus points"})]}),f.jsxs(f.Fragment,{children:["You can control the game with your phone - click on the"," ",f.jsxs("strong",{children:[f.jsx(nf,{}),"QR Code Icon"]})," ","on the top right and follow the instructions"]})],v0e=({as:e="h4",...t})=>{const n=A.useRef(Oi(0,zR.length-1)),r=e;return f.jsx(r,{...t,children:zR[n.current]})};function y0e({...e}){const[t,n]=A.useState(""),r=A.useRef(null);return A.useEffect(()=>{const s=setTimeout(()=>{n(ri.getVideo())},1e3);return()=>{clearTimeout(s)}},[]),A.useEffect(()=>{try{r.current&&(r.current.playbackRate=16)}catch(s){Fi(s)}},[t]),f.jsx(A0e,{...e,children:f.jsx(_0e,{src:t,ref:r,loop:!0,autoPlay:!0,className:"ph-no-capture"})})}const A0e=C("div")({name:"Container",class:"c1vi8tlt",propsAsIs:!1}),_0e=C("video")({name:"Video",class:"v1eyuhib",propsAsIs:!1});function b0e(e){return 1-Math.pow(1-e,3)}function S0e(e){return b0e(e)}function gp({color:e,maxScore:t,score:n}){return f.jsx(w0e,{style:{border:n===0?0:void 0,width:`${S0e(n/t)*24}%`,backgroundColor:e}})}const w0e=C("div")({name:"SScoreBar",class:"sfgt9px",propsAsIs:!1});var sB={exports:{}};(function(e,t){(function(n,r){e.exports=r(A)})(typeof self<"u"?self:Fo,n=>(()=>{var r={7403:(a,l,c)=>{c.d(l,{default:()=>j});var u=c(4087),d=c.n(u);const h=function(N){return new RegExp(/<[a-z][\s\S]*>/i).test(N)},p=function(N,V){return Math.floor(Math.random()*(V-N+1))+N};var g="TYPE_CHARACTER",m="REMOVE_CHARACTER",_="REMOVE_ALL",v="REMOVE_LAST_VISIBLE_NODE",y="PAUSE_FOR",b="CALL_FUNCTION",w="ADD_HTML_TAG_ELEMENT",S="CHANGE_DELETE_SPEED",x="CHANGE_DELAY",E="CHANGE_CURSOR",T="PASTE_STRING",U="HTML_TAG";function $(N){return $=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(V){return typeof V}:function(V){return V&&typeof Symbol=="function"&&V.constructor===Symbol&&V!==Symbol.prototype?"symbol":typeof V},$(N)}function D(N,V){var G=Object.keys(N);if(Object.getOwnPropertySymbols){var F=Object.getOwnPropertySymbols(N);V&&(F=F.filter(function(ne){return Object.getOwnPropertyDescriptor(N,ne).enumerable})),G.push.apply(G,F)}return G}function Q(N){for(var V=1;V<arguments.length;V++){var G=arguments[V]!=null?arguments[V]:{};V%2?D(Object(G),!0).forEach(function(F){I(N,F,G[F])}):Object.getOwnPropertyDescriptors?Object.defineProperties(N,Object.getOwnPropertyDescriptors(G)):D(Object(G)).forEach(function(F){Object.defineProperty(N,F,Object.getOwnPropertyDescriptor(G,F))})}return N}function P(N){return function(V){if(Array.isArray(V))return L(V)}(N)||function(V){if(typeof Symbol<"u"&&V[Symbol.iterator]!=null||V["@@iterator"]!=null)return Array.from(V)}(N)||function(V,G){if(V){if(typeof V=="string")return L(V,G);var F=Object.prototype.toString.call(V).slice(8,-1);return F==="Object"&&V.constructor&&(F=V.constructor.name),F==="Map"||F==="Set"?Array.from(V):F==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(F)?L(V,G):void 0}}(N)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function L(N,V){(V==null||V>N.length)&&(V=N.length);for(var G=0,F=new Array(V);G<V;G++)F[G]=N[G];return F}function M(N,V){for(var G=0;G<V.length;G++){var F=V[G];F.enumerable=F.enumerable||!1,F.configurable=!0,"value"in F&&(F.writable=!0),Object.defineProperty(N,z(F.key),F)}}function I(N,V,G){return(V=z(V))in N?Object.defineProperty(N,V,{value:G,enumerable:!0,configurable:!0,writable:!0}):N[V]=G,N}function z(N){var V=function(G,F){if($(G)!=="object"||G===null)return G;var ne=G[Symbol.toPrimitive];if(ne!==void 0){var O=ne.call(G,"string");if($(O)!=="object")return O;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(G)}(N);return $(V)==="symbol"?V:String(V)}const j=function(){function N(F,ne){var O=this;if(function(Z,ae){if(!(Z instanceof ae))throw new TypeError("Cannot call a class as a function")}(this,N),I(this,"state",{cursorAnimation:null,lastFrameTime:null,pauseUntil:null,eventQueue:[],eventLoop:null,eventLoopPaused:!1,reverseCalledEvents:[],calledEvents:[],visibleNodes:[],initialOptions:null,elements:{container:null,wrapper:document.createElement("span"),cursor:document.createElement("span")}}),I(this,"options",{strings:null,cursor:"|",delay:"natural",pauseFor:1500,deleteSpeed:"natural",loop:!1,autoStart:!1,devMode:!1,skipAddStyles:!1,wrapperClassName:"Typewriter__wrapper",cursorClassName:"Typewriter__cursor",stringSplitter:null,onCreateTextNode:null,onRemoveNode:null}),I(this,"setupWrapperElement",function(){O.state.elements.container&&(O.state.elements.wrapper.className=O.options.wrapperClassName,O.state.elements.cursor.className=O.options.cursorClassName,O.state.elements.cursor.innerHTML=O.options.cursor,O.state.elements.container.innerHTML="",O.state.elements.container.appendChild(O.state.elements.wrapper),O.state.elements.container.appendChild(O.state.elements.cursor))}),I(this,"start",function(){return O.state.eventLoopPaused=!1,O.runEventLoop(),O}),I(this,"pause",function(){return O.state.eventLoopPaused=!0,O}),I(this,"stop",function(){return O.state.eventLoop&&((0,u.cancel)(O.state.eventLoop),O.state.eventLoop=null),O}),I(this,"pauseFor",function(Z){return O.addEventToQueue(y,{ms:Z}),O}),I(this,"typeOutAllStrings",function(){return typeof O.options.strings=="string"?(O.typeString(O.options.strings).pauseFor(O.options.pauseFor),O):(O.options.strings.forEach(function(Z){O.typeString(Z).pauseFor(O.options.pauseFor).deleteAll(O.options.deleteSpeed)}),O)}),I(this,"typeString",function(Z){var ae=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(h(Z))return O.typeOutHTMLString(Z,ae);if(Z){var Pe=(O.options||{}).stringSplitter,ye=typeof Pe=="function"?Pe(Z):Z.split("");O.typeCharacters(ye,ae)}return O}),I(this,"pasteString",function(Z){var ae=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;return h(Z)?O.typeOutHTMLString(Z,ae,!0):(Z&&O.addEventToQueue(T,{character:Z,node:ae}),O)}),I(this,"typeOutHTMLString",function(Z){var ae=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,Pe=arguments.length>2?arguments[2]:void 0,ye=function(Ne){var be=document.createElement("div");return be.innerHTML=Ne,be.childNodes}(Z);if(ye.length>0)for(var ce=0;ce<ye.length;ce++){var _e=ye[ce],Fe=_e.innerHTML;_e&&_e.nodeType!==3?(_e.innerHTML="",O.addEventToQueue(w,{node:_e,parentNode:ae}),Pe?O.pasteString(Fe,_e):O.typeString(Fe,_e)):_e.textContent&&(Pe?O.pasteString(_e.textContent,ae):O.typeString(_e.textContent,ae))}return O}),I(this,"deleteAll",function(){var Z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"natural";return O.addEventToQueue(_,{speed:Z}),O}),I(this,"changeDeleteSpeed",function(Z){if(!Z)throw new Error("Must provide new delete speed");return O.addEventToQueue(S,{speed:Z}),O}),I(this,"changeDelay",function(Z){if(!Z)throw new Error("Must provide new delay");return O.addEventToQueue(x,{delay:Z}),O}),I(this,"changeCursor",function(Z){if(!Z)throw new Error("Must provide new cursor");return O.addEventToQueue(E,{cursor:Z}),O}),I(this,"deleteChars",function(Z){if(!Z)throw new Error("Must provide amount of characters to delete");for(var ae=0;ae<Z;ae++)O.addEventToQueue(m);return O}),I(this,"callFunction",function(Z,ae){if(!Z||typeof Z!="function")throw new Error("Callback must be a function");return O.addEventToQueue(b,{cb:Z,thisArg:ae}),O}),I(this,"typeCharacters",function(Z){var ae=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(!Z||!Array.isArray(Z))throw new Error("Characters must be an array");return Z.forEach(function(Pe){O.addEventToQueue(g,{character:Pe,node:ae})}),O}),I(this,"removeCharacters",function(Z){if(!Z||!Array.isArray(Z))throw new Error("Characters must be an array");return Z.forEach(function(){O.addEventToQueue(m)}),O}),I(this,"addEventToQueue",function(Z,ae){var Pe=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return O.addEventToStateProperty(Z,ae,Pe,"eventQueue")}),I(this,"addReverseCalledEvent",function(Z,ae){var Pe=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return O.options.loop?O.addEventToStateProperty(Z,ae,Pe,"reverseCalledEvents"):O}),I(this,"addEventToStateProperty",function(Z,ae){var Pe=arguments.length>2&&arguments[2]!==void 0&&arguments[2],ye=arguments.length>3?arguments[3]:void 0,ce={eventName:Z,eventArgs:ae||{}};return O.state[ye]=Pe?[ce].concat(P(O.state[ye])):[].concat(P(O.state[ye]),[ce]),O}),I(this,"runEventLoop",function(){O.state.lastFrameTime||(O.state.lastFrameTime=Date.now());var Z=Date.now(),ae=Z-O.state.lastFrameTime;if(!O.state.eventQueue.length){if(!O.options.loop)return;O.state.eventQueue=P(O.state.calledEvents),O.state.calledEvents=[],O.options=Q({},O.state.initialOptions)}if(O.state.eventLoop=d()(O.runEventLoop),!O.state.eventLoopPaused){if(O.state.pauseUntil){if(Z<O.state.pauseUntil)return;O.state.pauseUntil=null}var Pe,ye=P(O.state.eventQueue),ce=ye.shift();if(!(ae<=(Pe=ce.eventName===v||ce.eventName===m?O.options.deleteSpeed==="natural"?p(40,80):O.options.deleteSpeed:O.options.delay==="natural"?p(120,160):O.options.delay))){var _e=ce.eventName,Fe=ce.eventArgs;switch(O.logInDevMode({currentEvent:ce,state:O.state,delay:Pe}),_e){case T:case g:var Ne=Fe.character,be=Fe.node,Ee=document.createTextNode(Ne),Ge=Ee;O.options.onCreateTextNode&&typeof O.options.onCreateTextNode=="function"&&(Ge=O.options.onCreateTextNode(Ne,Ee)),Ge&&(be?be.appendChild(Ge):O.state.elements.wrapper.appendChild(Ge)),O.state.visibleNodes=[].concat(P(O.state.visibleNodes),[{type:"TEXT_NODE",character:Ne,node:Ge}]);break;case m:ye.unshift({eventName:v,eventArgs:{removingCharacterNode:!0}});break;case y:var qe=ce.eventArgs.ms;O.state.pauseUntil=Date.now()+parseInt(qe);break;case b:var Ie=ce.eventArgs,st=Ie.cb,xt=Ie.thisArg;st.call(xt,{elements:O.state.elements});break;case w:var Jt=ce.eventArgs,It=Jt.node,fn=Jt.parentNode;fn?fn.appendChild(It):O.state.elements.wrapper.appendChild(It),O.state.visibleNodes=[].concat(P(O.state.visibleNodes),[{type:U,node:It,parentNode:fn||O.state.elements.wrapper}]);break;case _:var at=O.state.visibleNodes,vt=Fe.speed,zt=[];vt&&zt.push({eventName:S,eventArgs:{speed:vt,temp:!0}});for(var Ke=0,Tt=at.length;Ke<Tt;Ke++)zt.push({eventName:v,eventArgs:{removingCharacterNode:!1}});vt&&zt.push({eventName:S,eventArgs:{speed:O.options.deleteSpeed,temp:!0}}),ye.unshift.apply(ye,zt);break;case v:var me=ce.eventArgs.removingCharacterNode;if(O.state.visibleNodes.length){var et=O.state.visibleNodes.pop(),hn=et.type,lt=et.node,tt=et.character;O.options.onRemoveNode&&typeof O.options.onRemoveNode=="function"&&O.options.onRemoveNode({node:lt,character:tt}),lt&&lt.parentNode.removeChild(lt),hn===U&&me&&ye.unshift({eventName:v,eventArgs:{}})}break;case S:O.options.deleteSpeed=ce.eventArgs.speed;break;case x:O.options.delay=ce.eventArgs.delay;break;case E:O.options.cursor=ce.eventArgs.cursor,O.state.elements.cursor.innerHTML=ce.eventArgs.cursor}O.options.loop&&(ce.eventName===v||ce.eventArgs&&ce.eventArgs.temp||(O.state.calledEvents=[].concat(P(O.state.calledEvents),[ce]))),O.state.eventQueue=ye,O.state.lastFrameTime=Z}}}),F)if(typeof F=="string"){var fe=document.querySelector(F);if(!fe)throw new Error("Could not find container element");this.state.elements.container=fe}else this.state.elements.container=F;ne&&(this.options=Q(Q({},this.options),ne)),this.state.initialOptions=Q({},this.options),this.init()}var V,G;return V=N,(G=[{key:"init",value:function(){var F,ne;this.setupWrapperElement(),this.addEventToQueue(E,{cursor:this.options.cursor},!0),this.addEventToQueue(_,null,!0),!window||window.___TYPEWRITER_JS_STYLES_ADDED___||this.options.skipAddStyles||(F=".Typewriter__cursor{-webkit-animation:Typewriter-cursor 1s infinite;animation:Typewriter-cursor 1s infinite;margin-left:1px}@-webkit-keyframes Typewriter-cursor{0%{opacity:0}50%{opacity:1}100%{opacity:0}}@keyframes Typewriter-cursor{0%{opacity:0}50%{opacity:1}100%{opacity:0}}",(ne=document.createElement("style")).appendChild(document.createTextNode(F)),document.head.appendChild(ne),window.___TYPEWRITER_JS_STYLES_ADDED___=!0),this.options.autoStart===!0&&this.options.strings&&this.typeOutAllStrings().start()}},{key:"logInDevMode",value:function(F){this.options.devMode&&console.log(F)}}])&&M(V.prototype,G),Object.defineProperty(V,"prototype",{writable:!1}),N}()},8552:(a,l,c)=>{var u=c(852)(c(5639),"DataView");a.exports=u},1989:(a,l,c)=>{var u=c(1789),d=c(401),h=c(7667),p=c(1327),g=c(1866);function m(_){var v=-1,y=_==null?0:_.length;for(this.clear();++v<y;){var b=_[v];this.set(b[0],b[1])}}m.prototype.clear=u,m.prototype.delete=d,m.prototype.get=h,m.prototype.has=p,m.prototype.set=g,a.exports=m},8407:(a,l,c)=>{var u=c(7040),d=c(4125),h=c(2117),p=c(7518),g=c(4705);function m(_){var v=-1,y=_==null?0:_.length;for(this.clear();++v<y;){var b=_[v];this.set(b[0],b[1])}}m.prototype.clear=u,m.prototype.delete=d,m.prototype.get=h,m.prototype.has=p,m.prototype.set=g,a.exports=m},7071:(a,l,c)=>{var u=c(852)(c(5639),"Map");a.exports=u},3369:(a,l,c)=>{var u=c(4785),d=c(1285),h=c(6e3),p=c(9916),g=c(5265);function m(_){var v=-1,y=_==null?0:_.length;for(this.clear();++v<y;){var b=_[v];this.set(b[0],b[1])}}m.prototype.clear=u,m.prototype.delete=d,m.prototype.get=h,m.prototype.has=p,m.prototype.set=g,a.exports=m},3818:(a,l,c)=>{var u=c(852)(c(5639),"Promise");a.exports=u},8525:(a,l,c)=>{var u=c(852)(c(5639),"Set");a.exports=u},8668:(a,l,c)=>{var u=c(3369),d=c(619),h=c(2385);function p(g){var m=-1,_=g==null?0:g.length;for(this.__data__=new u;++m<_;)this.add(g[m])}p.prototype.add=p.prototype.push=d,p.prototype.has=h,a.exports=p},6384:(a,l,c)=>{var u=c(8407),d=c(7465),h=c(3779),p=c(7599),g=c(4758),m=c(4309);function _(v){var y=this.__data__=new u(v);this.size=y.size}_.prototype.clear=d,_.prototype.delete=h,_.prototype.get=p,_.prototype.has=g,_.prototype.set=m,a.exports=_},2705:(a,l,c)=>{var u=c(5639).Symbol;a.exports=u},1149:(a,l,c)=>{var u=c(5639).Uint8Array;a.exports=u},577:(a,l,c)=>{var u=c(852)(c(5639),"WeakMap");a.exports=u},4963:a=>{a.exports=function(l,c){for(var u=-1,d=l==null?0:l.length,h=0,p=[];++u<d;){var g=l[u];c(g,u,l)&&(p[h++]=g)}return p}},4636:(a,l,c)=>{var u=c(2545),d=c(5694),h=c(1469),p=c(4144),g=c(5776),m=c(6719),_=Object.prototype.hasOwnProperty;a.exports=function(v,y){var b=h(v),w=!b&&d(v),S=!b&&!w&&p(v),x=!b&&!w&&!S&&m(v),E=b||w||S||x,T=E?u(v.length,String):[],U=T.length;for(var $ in v)!y&&!_.call(v,$)||E&&($=="length"||S&&($=="offset"||$=="parent")||x&&($=="buffer"||$=="byteLength"||$=="byteOffset")||g($,U))||T.push($);return T}},2488:a=>{a.exports=function(l,c){for(var u=-1,d=c.length,h=l.length;++u<d;)l[h+u]=c[u];return l}},2908:a=>{a.exports=function(l,c){for(var u=-1,d=l==null?0:l.length;++u<d;)if(c(l[u],u,l))return!0;return!1}},8470:(a,l,c)=>{var u=c(7813);a.exports=function(d,h){for(var p=d.length;p--;)if(u(d[p][0],h))return p;return-1}},8866:(a,l,c)=>{var u=c(2488),d=c(1469);a.exports=function(h,p,g){var m=p(h);return d(h)?m:u(m,g(h))}},4239:(a,l,c)=>{var u=c(2705),d=c(9607),h=c(2333),p=u?u.toStringTag:void 0;a.exports=function(g){return g==null?g===void 0?"[object Undefined]":"[object Null]":p&&p in Object(g)?d(g):h(g)}},9454:(a,l,c)=>{var u=c(4239),d=c(7005);a.exports=function(h){return d(h)&&u(h)=="[object Arguments]"}},939:(a,l,c)=>{var u=c(2492),d=c(7005);a.exports=function h(p,g,m,_,v){return p===g||(p==null||g==null||!d(p)&&!d(g)?p!=p&&g!=g:u(p,g,m,_,h,v))}},2492:(a,l,c)=>{var u=c(6384),d=c(7114),h=c(8351),p=c(6096),g=c(4160),m=c(1469),_=c(4144),v=c(6719),y="[object Arguments]",b="[object Array]",w="[object Object]",S=Object.prototype.hasOwnProperty;a.exports=function(x,E,T,U,$,D){var Q=m(x),P=m(E),L=Q?b:g(x),M=P?b:g(E),I=(L=L==y?w:L)==w,z=(M=M==y?w:M)==w,j=L==M;if(j&&_(x)){if(!_(E))return!1;Q=!0,I=!1}if(j&&!I)return D||(D=new u),Q||v(x)?d(x,E,T,U,$,D):h(x,E,L,T,U,$,D);if(!(1&T)){var N=I&&S.call(x,"__wrapped__"),V=z&&S.call(E,"__wrapped__");if(N||V){var G=N?x.value():x,F=V?E.value():E;return D||(D=new u),$(G,F,T,U,D)}}return!!j&&(D||(D=new u),p(x,E,T,U,$,D))}},8458:(a,l,c)=>{var u=c(3560),d=c(5346),h=c(3218),p=c(346),g=/^\[object .+?Constructor\]$/,m=Function.prototype,_=Object.prototype,v=m.toString,y=_.hasOwnProperty,b=RegExp("^"+v.call(y).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");a.exports=function(w){return!(!h(w)||d(w))&&(u(w)?b:g).test(p(w))}},8749:(a,l,c)=>{var u=c(4239),d=c(1780),h=c(7005),p={};p["[object Float32Array]"]=p["[object Float64Array]"]=p["[object Int8Array]"]=p["[object Int16Array]"]=p["[object Int32Array]"]=p["[object Uint8Array]"]=p["[object Uint8ClampedArray]"]=p["[object Uint16Array]"]=p["[object Uint32Array]"]=!0,p["[object Arguments]"]=p["[object Array]"]=p["[object ArrayBuffer]"]=p["[object Boolean]"]=p["[object DataView]"]=p["[object Date]"]=p["[object Error]"]=p["[object Function]"]=p["[object Map]"]=p["[object Number]"]=p["[object Object]"]=p["[object RegExp]"]=p["[object Set]"]=p["[object String]"]=p["[object WeakMap]"]=!1,a.exports=function(g){return h(g)&&d(g.length)&&!!p[u(g)]}},280:(a,l,c)=>{var u=c(5726),d=c(6916),h=Object.prototype.hasOwnProperty;a.exports=function(p){if(!u(p))return d(p);var g=[];for(var m in Object(p))h.call(p,m)&&m!="constructor"&&g.push(m);return g}},2545:a=>{a.exports=function(l,c){for(var u=-1,d=Array(l);++u<l;)d[u]=c(u);return d}},1717:a=>{a.exports=function(l){return function(c){return l(c)}}},4757:a=>{a.exports=function(l,c){return l.has(c)}},4429:(a,l,c)=>{var u=c(5639)["__core-js_shared__"];a.exports=u},7114:(a,l,c)=>{var u=c(8668),d=c(2908),h=c(4757);a.exports=function(p,g,m,_,v,y){var b=1&m,w=p.length,S=g.length;if(w!=S&&!(b&&S>w))return!1;var x=y.get(p),E=y.get(g);if(x&&E)return x==g&&E==p;var T=-1,U=!0,$=2&m?new u:void 0;for(y.set(p,g),y.set(g,p);++T<w;){var D=p[T],Q=g[T];if(_)var P=b?_(Q,D,T,g,p,y):_(D,Q,T,p,g,y);if(P!==void 0){if(P)continue;U=!1;break}if($){if(!d(g,function(L,M){if(!h($,M)&&(D===L||v(D,L,m,_,y)))return $.push(M)})){U=!1;break}}else if(D!==Q&&!v(D,Q,m,_,y)){U=!1;break}}return y.delete(p),y.delete(g),U}},8351:(a,l,c)=>{var u=c(2705),d=c(1149),h=c(7813),p=c(7114),g=c(8776),m=c(1814),_=u?u.prototype:void 0,v=_?_.valueOf:void 0;a.exports=function(y,b,w,S,x,E,T){switch(w){case"[object DataView]":if(y.byteLength!=b.byteLength||y.byteOffset!=b.byteOffset)return!1;y=y.buffer,b=b.buffer;case"[object ArrayBuffer]":return!(y.byteLength!=b.byteLength||!E(new d(y),new d(b)));case"[object Boolean]":case"[object Date]":case"[object Number]":return h(+y,+b);case"[object Error]":return y.name==b.name&&y.message==b.message;case"[object RegExp]":case"[object String]":return y==b+"";case"[object Map]":var U=g;case"[object Set]":var $=1&S;if(U||(U=m),y.size!=b.size&&!$)return!1;var D=T.get(y);if(D)return D==b;S|=2,T.set(y,b);var Q=p(U(y),U(b),S,x,E,T);return T.delete(y),Q;case"[object Symbol]":if(v)return v.call(y)==v.call(b)}return!1}},6096:(a,l,c)=>{var u=c(8234),d=Object.prototype.hasOwnProperty;a.exports=function(h,p,g,m,_,v){var y=1&g,b=u(h),w=b.length;if(w!=u(p).length&&!y)return!1;for(var S=w;S--;){var x=b[S];if(!(y?x in p:d.call(p,x)))return!1}var E=v.get(h),T=v.get(p);if(E&&T)return E==p&&T==h;var U=!0;v.set(h,p),v.set(p,h);for(var $=y;++S<w;){var D=h[x=b[S]],Q=p[x];if(m)var P=y?m(Q,D,x,p,h,v):m(D,Q,x,h,p,v);if(!(P===void 0?D===Q||_(D,Q,g,m,v):P)){U=!1;break}$||($=x=="constructor")}if(U&&!$){var L=h.constructor,M=p.constructor;L==M||!("constructor"in h)||!("constructor"in p)||typeof L=="function"&&L instanceof L&&typeof M=="function"&&M instanceof M||(U=!1)}return v.delete(h),v.delete(p),U}},1957:(a,l,c)=>{var u=typeof c.g=="object"&&c.g&&c.g.Object===Object&&c.g;a.exports=u},8234:(a,l,c)=>{var u=c(8866),d=c(9551),h=c(3674);a.exports=function(p){return u(p,h,d)}},5050:(a,l,c)=>{var u=c(7019);a.exports=function(d,h){var p=d.__data__;return u(h)?p[typeof h=="string"?"string":"hash"]:p.map}},852:(a,l,c)=>{var u=c(8458),d=c(7801);a.exports=function(h,p){var g=d(h,p);return u(g)?g:void 0}},9607:(a,l,c)=>{var u=c(2705),d=Object.prototype,h=d.hasOwnProperty,p=d.toString,g=u?u.toStringTag:void 0;a.exports=function(m){var _=h.call(m,g),v=m[g];try{m[g]=void 0;var y=!0}catch{}var b=p.call(m);return y&&(_?m[g]=v:delete m[g]),b}},9551:(a,l,c)=>{var u=c(4963),d=c(479),h=Object.prototype.propertyIsEnumerable,p=Object.getOwnPropertySymbols,g=p?function(m){return m==null?[]:(m=Object(m),u(p(m),function(_){return h.call(m,_)}))}:d;a.exports=g},4160:(a,l,c)=>{var u=c(8552),d=c(7071),h=c(3818),p=c(8525),g=c(577),m=c(4239),_=c(346),v="[object Map]",y="[object Promise]",b="[object Set]",w="[object WeakMap]",S="[object DataView]",x=_(u),E=_(d),T=_(h),U=_(p),$=_(g),D=m;(u&&D(new u(new ArrayBuffer(1)))!=S||d&&D(new d)!=v||h&&D(h.resolve())!=y||p&&D(new p)!=b||g&&D(new g)!=w)&&(D=function(Q){var P=m(Q),L=P=="[object Object]"?Q.constructor:void 0,M=L?_(L):"";if(M)switch(M){case x:return S;case E:return v;case T:return y;case U:return b;case $:return w}return P}),a.exports=D},7801:a=>{a.exports=function(l,c){return l==null?void 0:l[c]}},1789:(a,l,c)=>{var u=c(4536);a.exports=function(){this.__data__=u?u(null):{},this.size=0}},401:a=>{a.exports=function(l){var c=this.has(l)&&delete this.__data__[l];return this.size-=c?1:0,c}},7667:(a,l,c)=>{var u=c(4536),d=Object.prototype.hasOwnProperty;a.exports=function(h){var p=this.__data__;if(u){var g=p[h];return g==="__lodash_hash_undefined__"?void 0:g}return d.call(p,h)?p[h]:void 0}},1327:(a,l,c)=>{var u=c(4536),d=Object.prototype.hasOwnProperty;a.exports=function(h){var p=this.__data__;return u?p[h]!==void 0:d.call(p,h)}},1866:(a,l,c)=>{var u=c(4536);a.exports=function(d,h){var p=this.__data__;return this.size+=this.has(d)?0:1,p[d]=u&&h===void 0?"__lodash_hash_undefined__":h,this}},5776:a=>{var l=/^(?:0|[1-9]\d*)$/;a.exports=function(c,u){var d=typeof c;return!!(u=u??9007199254740991)&&(d=="number"||d!="symbol"&&l.test(c))&&c>-1&&c%1==0&&c<u}},7019:a=>{a.exports=function(l){var c=typeof l;return c=="string"||c=="number"||c=="symbol"||c=="boolean"?l!=="__proto__":l===null}},5346:(a,l,c)=>{var u,d=c(4429),h=(u=/[^.]+$/.exec(d&&d.keys&&d.keys.IE_PROTO||""))?"Symbol(src)_1."+u:"";a.exports=function(p){return!!h&&h in p}},5726:a=>{var l=Object.prototype;a.exports=function(c){var u=c&&c.constructor;return c===(typeof u=="function"&&u.prototype||l)}},7040:a=>{a.exports=function(){this.__data__=[],this.size=0}},4125:(a,l,c)=>{var u=c(8470),d=Array.prototype.splice;a.exports=function(h){var p=this.__data__,g=u(p,h);return!(g<0||(g==p.length-1?p.pop():d.call(p,g,1),--this.size,0))}},2117:(a,l,c)=>{var u=c(8470);a.exports=function(d){var h=this.__data__,p=u(h,d);return p<0?void 0:h[p][1]}},7518:(a,l,c)=>{var u=c(8470);a.exports=function(d){return u(this.__data__,d)>-1}},4705:(a,l,c)=>{var u=c(8470);a.exports=function(d,h){var p=this.__data__,g=u(p,d);return g<0?(++this.size,p.push([d,h])):p[g][1]=h,this}},4785:(a,l,c)=>{var u=c(1989),d=c(8407),h=c(7071);a.exports=function(){this.size=0,this.__data__={hash:new u,map:new(h||d),string:new u}}},1285:(a,l,c)=>{var u=c(5050);a.exports=function(d){var h=u(this,d).delete(d);return this.size-=h?1:0,h}},6e3:(a,l,c)=>{var u=c(5050);a.exports=function(d){return u(this,d).get(d)}},9916:(a,l,c)=>{var u=c(5050);a.exports=function(d){return u(this,d).has(d)}},5265:(a,l,c)=>{var u=c(5050);a.exports=function(d,h){var p=u(this,d),g=p.size;return p.set(d,h),this.size+=p.size==g?0:1,this}},8776:a=>{a.exports=function(l){var c=-1,u=Array(l.size);return l.forEach(function(d,h){u[++c]=[h,d]}),u}},4536:(a,l,c)=>{var u=c(852)(Object,"create");a.exports=u},6916:(a,l,c)=>{var u=c(5569)(Object.keys,Object);a.exports=u},1167:(a,l,c)=>{a=c.nmd(a);var u=c(1957),d=l&&!l.nodeType&&l,h=d&&a&&!a.nodeType&&a,p=h&&h.exports===d&&u.process,g=function(){try{return h&&h.require&&h.require("util").types||p&&p.binding&&p.binding("util")}catch{}}();a.exports=g},2333:a=>{var l=Object.prototype.toString;a.exports=function(c){return l.call(c)}},5569:a=>{a.exports=function(l,c){return function(u){return l(c(u))}}},5639:(a,l,c)=>{var u=c(1957),d=typeof self=="object"&&self&&self.Object===Object&&self,h=u||d||Function("return this")();a.exports=h},619:a=>{a.exports=function(l){return this.__data__.set(l,"__lodash_hash_undefined__"),this}},2385:a=>{a.exports=function(l){return this.__data__.has(l)}},1814:a=>{a.exports=function(l){var c=-1,u=Array(l.size);return l.forEach(function(d){u[++c]=d}),u}},7465:(a,l,c)=>{var u=c(8407);a.exports=function(){this.__data__=new u,this.size=0}},3779:a=>{a.exports=function(l){var c=this.__data__,u=c.delete(l);return this.size=c.size,u}},7599:a=>{a.exports=function(l){return this.__data__.get(l)}},4758:a=>{a.exports=function(l){return this.__data__.has(l)}},4309:(a,l,c)=>{var u=c(8407),d=c(7071),h=c(3369);a.exports=function(p,g){var m=this.__data__;if(m instanceof u){var _=m.__data__;if(!d||_.length<199)return _.push([p,g]),this.size=++m.size,this;m=this.__data__=new h(_)}return m.set(p,g),this.size=m.size,this}},346:a=>{var l=Function.prototype.toString;a.exports=function(c){if(c!=null){try{return l.call(c)}catch{}try{return c+""}catch{}}return""}},7813:a=>{a.exports=function(l,c){return l===c||l!=l&&c!=c}},5694:(a,l,c)=>{var u=c(9454),d=c(7005),h=Object.prototype,p=h.hasOwnProperty,g=h.propertyIsEnumerable,m=u(function(){return arguments}())?u:function(_){return d(_)&&p.call(_,"callee")&&!g.call(_,"callee")};a.exports=m},1469:a=>{var l=Array.isArray;a.exports=l},8612:(a,l,c)=>{var u=c(3560),d=c(1780);a.exports=function(h){return h!=null&&d(h.length)&&!u(h)}},4144:(a,l,c)=>{a=c.nmd(a);var u=c(5639),d=c(5062),h=l&&!l.nodeType&&l,p=h&&a&&!a.nodeType&&a,g=p&&p.exports===h?u.Buffer:void 0,m=(g?g.isBuffer:void 0)||d;a.exports=m},8446:(a,l,c)=>{var u=c(939);a.exports=function(d,h){return u(d,h)}},3560:(a,l,c)=>{var u=c(4239),d=c(3218);a.exports=function(h){if(!d(h))return!1;var p=u(h);return p=="[object Function]"||p=="[object GeneratorFunction]"||p=="[object AsyncFunction]"||p=="[object Proxy]"}},1780:a=>{a.exports=function(l){return typeof l=="number"&&l>-1&&l%1==0&&l<=9007199254740991}},3218:a=>{a.exports=function(l){var c=typeof l;return l!=null&&(c=="object"||c=="function")}},7005:a=>{a.exports=function(l){return l!=null&&typeof l=="object"}},6719:(a,l,c)=>{var u=c(8749),d=c(1717),h=c(1167),p=h&&h.isTypedArray,g=p?d(p):u;a.exports=g},3674:(a,l,c)=>{var u=c(4636),d=c(280),h=c(8612);a.exports=function(p){return h(p)?u(p):d(p)}},479:a=>{a.exports=function(){return[]}},5062:a=>{a.exports=function(){return!1}},75:function(a){(function(){var l,c,u,d,h,p;typeof performance<"u"&&performance!==null&&performance.now?a.exports=function(){return performance.now()}:typeof process<"u"&&process!==null&&process.hrtime?(a.exports=function(){return(l()-h)/1e6},c=process.hrtime,d=(l=function(){var g;return 1e9*(g=c())[0]+g[1]})(),p=1e9*process.uptime(),h=d-p):Date.now?(a.exports=function(){return Date.now()-u},u=Date.now()):(a.exports=function(){return new Date().getTime()-u},u=new Date().getTime())}).call(this)},4087:(a,l,c)=>{for(var u=c(75),d=typeof window>"u"?c.g:window,h=["moz","webkit"],p="AnimationFrame",g=d["request"+p],m=d["cancel"+p]||d["cancelRequest"+p],_=0;!g&&_<h.length;_++)g=d[h[_]+"Request"+p],m=d[h[_]+"Cancel"+p]||d[h[_]+"CancelRequest"+p];if(!g||!m){var v=0,y=0,b=[];g=function(w){if(b.length===0){var S=u(),x=Math.max(0,16.666666666666668-(S-v));v=x+S,setTimeout(function(){var E=b.slice(0);b.length=0;for(var T=0;T<E.length;T++)if(!E[T].cancelled)try{E[T].callback(v)}catch(U){setTimeout(function(){throw U},0)}},Math.round(x))}return b.push({handle:++y,callback:w,cancelled:!1}),y},m=function(w){for(var S=0;S<b.length;S++)b[S].handle===w&&(b[S].cancelled=!0)}}a.exports=function(w){return g.call(d,w)},a.exports.cancel=function(){m.apply(d,arguments)},a.exports.polyfill=function(w){w||(w=d),w.requestAnimationFrame=g,w.cancelAnimationFrame=m}},8156:a=>{a.exports=n}},s={};function i(a){var l=s[a];if(l!==void 0)return l.exports;var c=s[a]={id:a,loaded:!1,exports:{}};return r[a].call(c.exports,c,c.exports,i),c.loaded=!0,c.exports}i.n=a=>{var l=a&&a.__esModule?()=>a.default:()=>a;return i.d(l,{a:l}),l},i.d=(a,l)=>{for(var c in l)i.o(l,c)&&!i.o(a,c)&&Object.defineProperty(a,c,{enumerable:!0,get:l[c]})},i.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}(),i.o=(a,l)=>Object.prototype.hasOwnProperty.call(a,l),i.nmd=a=>(a.paths=[],a.children||(a.children=[]),a);var o={};return(()=>{i.d(o,{default:()=>b});var a=i(8156),l=i.n(a),c=i(7403),u=i(8446),d=i.n(u);function h(w){return h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(S){return typeof S}:function(S){return S&&typeof Symbol=="function"&&S.constructor===Symbol&&S!==Symbol.prototype?"symbol":typeof S},h(w)}function p(w,S){for(var x=0;x<S.length;x++){var E=S[x];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(w,v(E.key),E)}}function g(w,S){return g=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(x,E){return x.__proto__=E,x},g(w,S)}function m(w){if(w===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w}function _(w){return _=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(S){return S.__proto__||Object.getPrototypeOf(S)},_(w)}function v(w){var S=function(x,E){if(h(x)!=="object"||x===null)return x;var T=x[Symbol.toPrimitive];if(T!==void 0){var U=T.call(x,"string");if(h(U)!=="object")return U;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(x)}(w);return h(S)==="symbol"?S:String(S)}var y=function(w){(function(D,Q){if(typeof Q!="function"&&Q!==null)throw new TypeError("Super expression must either be null or a function");D.prototype=Object.create(Q&&Q.prototype,{constructor:{value:D,writable:!0,configurable:!0}}),Object.defineProperty(D,"prototype",{writable:!1}),Q&&g(D,Q)})($,w);var S,x,E,T,U=(E=$,T=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var D,Q=_(E);if(T){var P=_(this).constructor;D=Reflect.construct(Q,arguments,P)}else D=Q.apply(this,arguments);return function(L,M){if(M&&(h(M)==="object"||typeof M=="function"))return M;if(M!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return m(L)}(this,D)});function $(){var D,Q,P,L;(function(j,N){if(!(j instanceof N))throw new TypeError("Cannot call a class as a function")})(this,$);for(var M=arguments.length,I=new Array(M),z=0;z<M;z++)I[z]=arguments[z];return Q=m(D=U.call.apply(U,[this].concat(I))),L={instance:null},(P=v(P="state"))in Q?Object.defineProperty(Q,P,{value:L,enumerable:!0,configurable:!0,writable:!0}):Q[P]=L,D}return S=$,(x=[{key:"componentDidMount",value:function(){var D=this,Q=new c.default(this.typewriter,this.props.options);this.setState({instance:Q},function(){var P=D.props.onInit;P&&P(Q)})}},{key:"componentDidUpdate",value:function(D){d()(this.props.options,D.options)||this.setState({instance:new c.default(this.typewriter,this.props.options)})}},{key:"componentWillUnmount",value:function(){this.state.instance&&this.state.instance.stop()}},{key:"render",value:function(){var D=this,Q=this.props.component;return l().createElement(Q,{ref:function(P){return D.typewriter=P},className:"Typewriter","data-testid":"typewriter-wrapper"})}}])&&p(S.prototype,x),Object.defineProperty(S,"prototype",{writable:!1}),$}(a.Component);y.defaultProps={component:"div"};const b=y})(),o.default})())})(sB);var x0e=sB.exports;const iB=cr(x0e);function E0e({playerNumber:e,player:t,segment:n}){const[r,s]=t.detailedScore;return f.jsxs(k0e,{children:[f.jsx(gp,{score:n>-1?r.rap+r.freestyle+r.normal:0,maxScore:s.rap+s.freestyle+s.normal,color:Ye.colors.players[e].perfect.fill}),f.jsx(gp,{score:n>0?r.perfect:0,maxScore:s.perfect,color:Ye.colors.players[e].stroke}),f.jsx(gp,{score:n>1?r.star:0,maxScore:s.star,color:Ye.colors.players[e].starPerfect.stroke}),f.jsx(gp,{score:n>2?r.vibrato:0,maxScore:s.vibrato,color:Ye.colors.players[e].perfect.stroke}),f.jsx(C0e,{children:n<5&&f.jsx(iB,{options:{strings:["Regular notes","Perfect notes","Star notes","Vibrato"],pauseFor:1e3,autoStart:!0,delay:15,deleteSpeed:15,cursor:""}})})]})}const k0e=C("div")({name:"ScoreBarContainer",class:"sstovd2",propsAsIs:!1}),C0e=C("span")({name:"ScoreDescription",class:"s1n8gfpc",propsAsIs:!1});function I0e({playerNumber:e,player:t,highestScore:n,highScores:r,singSetup:s,useColors:i=!0,revealHighScore:o,segment:a}){const[l]=t.detailedScore;let c=0;a>-1&&(c=l.normal+l.rap+l.freestyle),a>0&&(c=c+l.perfect),a>1&&(c=c+l.star),a>2&&(c=c+l.vibrato);const u=d=>r.some(h=>h.singSetupId===s.id&&h.name===d);return f.jsxs(T0e,{children:[f.jsx(O0e,{children:f.jsxs(j0e,{"data-win":o&&c===n,"data-test":`player-${e}-score`,"data-score":Math.floor(c),children:[f.jsx(M0e,{color:i?Ye.colors.players[e].text:"","data-test":`player-${e}-name`,className:"ph-no-capture",children:t.name}),f.jsx(Bx,{preserveValue:!0,end:c,formattingFn:N$.format,duration:a<5?1:.5})]})}),f.jsx(E0e,{playerNumber:e,player:t,segment:a}),f.jsx(L0e,{"data-highscore":o&&u(t.name),children:"High score!"})]})}const T0e=C("div")({name:"Container",class:"c1fvgtop",propsAsIs:!1}),R0e=()=>e=>e.color,M0e=C("span")({name:"ScoreTextPlayer",class:"s1pxthkd",propsAsIs:!1,vars:{"s1pxthkd-0":[R0e()]}}),P0e=()=>Zv,j0e=C(P0e())({name:"ScoreTextScore",class:"sh5jncq",propsAsIs:!0}),O0e=C("div")({name:"ScoreTextContainer",class:"s1dft9n9",propsAsIs:!1}),V0e=()=>e$,L0e=C(V0e())({name:"HighScoreBadge",class:"h4recuo",propsAsIs:!0});function $0e({onNextStep:e,players:t,highScores:n,singSetup:r}){const[s,i]=A.useState(-1);A.useEffect(()=>{if(s<0)i(0);else if(s<4){const p=setInterval(()=>{i(g=>g+1)},1500);return()=>{clearInterval(p)}}},[s]);const o=s>3,a=()=>{o?e():(jn.capture("animation_skipped"),i(5))};kl({accept:a},!0,[s]);const l=A.useMemo(()=>({accept:"Next"}),[]);Su(l,!0);const c=r.mode===kr.CO_OP,u=c?[{...t[0],name:t.map(p=>p.name).join(", ")}]:t,d=u.map(p=>Wb(p.detailedScore[0])),h=Math.max(...d);return f.jsxs(B0e,{children:[f.jsx(N0e,{children:u.map((p,g)=>f.jsx(I0e,{playerNumber:p.playerNumber,useColors:!c,revealHighScore:s>3,segment:s,player:p,highScores:n,highestScore:h,singSetup:r},g))}),f.jsx(F0e,{onClick:a,focused:!0,"data-test":o?"highscores-button":"skip-animation-button",children:o?"Next":"Skip"}),ri.getPermissionStatus()&&f.jsx(z0e,{})]})}const B0e=C("div")({name:"Container",class:"c15rdrjt",propsAsIs:!1}),N0e=C("div")({name:"ScoresContainer",class:"so2776x",propsAsIs:!1}),D0e=()=>vi,F0e=C(D0e())({name:"SongSelectionButton",class:"s5yltcy",propsAsIs:!0}),U0e=()=>y0e,z0e=C(U0e())({name:"StyledPhotoRoll",class:"sy1ngp1",propsAsIs:!0});function H0e(){return A.useMemo(()=>JSON.parse($e.session.getItem(qc))??[],[])}function G0e({score:e,register:t,singSetupId:n,onSave:r,index:s}){const i=A.useRef(null),[o,a]=A.useState(""),l=H0e(),c=()=>{o.trim().length&&o.trim()!==e.name&&r(n,e.score,e.name,o)};return f.jsx(j$,{className:"ph-no-capture",options:l,onChange:a,onBlur:c,value:o,label:"",ref:i,...t(`highscore-rename-${s}`,()=>{var u;return(u=i.current)==null?void 0:u.focus()}),placeholder:e.name,"data-test":"input-edit-highscore","data-original-name":e.name})}function q0e({onNextStep:e,highScores:t,singSetup:n,song:r}){const{register:s}=Fn(),i=uge(r);return f.jsxs(f.Fragment,{children:[f.jsx(W0e,{"data-test":"highscores-container",children:t.map((o,a)=>f.jsxs(Q0e,{isCurrentSing:o.singSetupId===n.id,children:[f.jsx(J0e,{children:a+1}),f.jsx(X0e,{className:"ph-no-capture",children:o.singSetupId===n.id?f.jsx(G0e,{index:a,score:o,register:s,singSetupId:n.id,onSave:i}):o.name}),f.jsx(Z0e,{children:f.jsx($_,{score:o.score})}),f.jsx(e1e,{children:ii(o.date).format("MMMM DD, YYYY")})]},a))}),f.jsx(n1e,{...s("play-next-song-button",e,void 0,!0),children:"Select song"})]})}const W0e=C("div")({name:"ScoresContainer",class:"s1bx7dhq",propsAsIs:!1}),K0e=()=>e=>e.isCurrentSing?"rgba(0,0,0,.9)":"rgba(0,0,0,.5)",Y0e=()=>e=>e.isCurrentSing?"0 1.5rem":"1rem 3.2rem",Q0e=C("div")({name:"ScoreContainer",class:"s1tvkg74",propsAsIs:!1,vars:{"s1tvkg74-0":[K0e()],"s1tvkg74-1":[Y0e()]}}),J0e=C("div")({name:"ScorePosition",class:"sb06u01",propsAsIs:!1}),X0e=C("div")({name:"ScorePlayerName",class:"skd5o4n",propsAsIs:!1}),Z0e=C("div")({name:"ScoreScore",class:"s19rm17o",propsAsIs:!1}),e1e=C("div")({name:"ScoreDate",class:"supjn4w",propsAsIs:!1}),t1e=()=>vi,n1e=C(t1e())({name:"SongSelectionButton",class:"s10ixpaw",propsAsIs:!0});function r1e({song:e,width:t,height:n,onClickSongSelection:r,players:s,highScores:i,singSetup:o}){const[a]=Be(Lm);Aa(!0);const[l,c]=A.useState("results");return f.jsxs(QL,{songData:e,width:t,height:n,children:[f.jsxs(s1e,{children:[l==="results"&&f.jsx($0e,{onNextStep:()=>c("highscores"),players:s,singSetup:o,highScores:i}),l==="highscores"&&f.jsx(q0e,{onNextStep:r,singSetup:o,highScores:i,song:e}),f.jsx(o1e,{"data-active":"true"})]}),a==="christmas"&&f.jsxs(a1e,{children:["Credit to ",f.jsx("a",{href:"https://www.FesliyanStudios.com",children:"https://www.FesliyanStudios.com"})," for the background music."]})]})}const s1e=C("div")({name:"Container",class:"c1gwp3dd",propsAsIs:!1}),i1e=()=>v0e,o1e=C(i1e())({name:"PostGameTip",class:"p8hp774",propsAsIs:!0}),a1e=C("span")({name:"ChristmasMusicCredit",class:"cm60c6s",propsAsIs:!1});function l1e(e){const[t,n,r,s]=c1e(e);return u1e(t,n,r,s)()}function c1e(e){let t=1779033703,n=3144134277,r=1013904242,s=2773480762;for(let i=0,o;i<e.length;i++)o=e.charCodeAt(i),t=n^Math.imul(t^o,597399067),n=r^Math.imul(n^o,2869860233),r=s^Math.imul(r^o,951274213),s=t^Math.imul(s^o,2716044179);return t=Math.imul(r^t>>>18,597399067),n=Math.imul(s^n>>>22,2869860233),r=Math.imul(t^r>>>17,951274213),s=Math.imul(n^s>>>19,2716044179),t^=n^r^s,n^=t,r^=t,s^=t,[t>>>0,n>>>0,r>>>0,s>>>0]}function u1e(e,t,n,r){return function(){e|=0,t|=0,n|=0,r|=0;var s=(e+t|0)+r|0;return r=r+1|0,e=t^t>>>9,t=n+(n<<3)|0,n=n<<21|n>>>11,n=n+s|0,(s>>>0)/4294967296}}const d1e=["Lysa Arryn","Peter Parker","Zordon","Chad Khalimov","Dat Boi","Good Guy Greg","Scumbag Steve","Meme Man","Pepe","Wojak","Ebmarah","Shrek","Vad of ICE Beat","Krasnolud","Mały Aragorn","Morning Breeze","Auytjak Lorav","Smelly Cat","Stinky Foot"],HR=new Date("2016-01-01").getTime(),f1e=new Date("2024-01-07").getTime(),JA=5;function h1e(e,t){const n=Dx(e);return A.useMemo(()=>{const s=[...d1e];return[...Array.from({length:JA},(o,a)=>{const l=l1e(e.id+a),c=6e5+14e5/(JA-1)*a,u=s.splice(Math.floor(l*s.length),1)[0];return{singSetupId:a.toString(),name:u,score:Ui()?c/1e3:c,date:new Date((f1e-HR)*l+HR).toISOString()}}),...(n==null?void 0:n.scores.filter(({setup:o})=>o.mode===t.mode&&o.tolerance===t.tolerance).map(o=>o.scores.map(a=>({...a,date:o.date,singSetupId:o.setup.id}))).flat())??[]].sort((o,a)=>a.score-o.score).slice(0,JA)},[e.id,n,t])??[]}function p1e({song:e,width:t,height:n,onClickSongSelection:r,singSetup:s}){const i=h1e(e,s),o=A.useMemo(()=>Re.getPlayers().map(a=>({name:a.getName(),playerNumber:a.number,detailedScore:Ve.getPlayerDetailedScore(a.number)})),[]);return f.jsx(To,{children:f.jsx(r1e,{singSetup:s,song:e,width:t,height:n,onClickSongSelection:r,players:o,highScores:i})})}function g1e({songPreview:e,singSetup:t,returnToSongSelection:n,restartSong:r}){f$(),h$();const s=A.useRef(null),i=qL(e.id),{width:o,height:a}=ah(),[l,c]=A.useState(!1),[u,d]=A.useState(!0),[h,p]=A.useState(Cn.UNSTARTED),[g,m]=A.useState(!1);return pa(!g),A.useEffect(()=>{u&&i.data&&(g||h!==Cn.UNSTARTED)&&d(!1)},[i.data,g,h,u]),l&&i.data?f.jsx(p1e,{width:o,height:a,song:i.data,onClickSongSelection:n,singSetup:t}):f.jsx(To,{children:f.jsxs(m1e,{children:[f.jsxs(y1e,{visible:u,"data-test":"background-container",children:[f.jsx(_1e,{video:e.video,width:o,height:a}),f.jsx(S1e,{"data-test":"song-artist",children:e.artist}),f.jsx(x1e,{"data-test":"song-title",children:e.title}),f.jsx(qve,{onFinish:()=>{var _;m(!0),(_=s.current)==null||_.play()}})]}),i.data&&f.jsx(m0e,{pauseMenu:!0,ref:s,onStatusChange:p,players:t.players,song:i.data,width:o,height:a,autoplay:!1,onSongEnd:()=>{var y;const _=((y=Ve.getSingSetup())==null?void 0:y.mode)===kr.CO_OP?[{name:Re.getPlayers().map(b=>b.getName()).join(", "),score:Ve.getPlayerScore(0)}]:Re.getPlayers().map(b=>({name:b.getName(),score:Ve.getPlayerScore(b.number)})),v=Ve.getSongCompletionProgress();te.songEnded.dispatch(i.data,t,_,v),c(!0)},singSetup:t,restartSong:r})]})})}const m1e=C("div")({name:"Container",class:"cs8pdea",propsAsIs:!1}),v1e=()=>e=>e.visible?1:0,y1e=C("div")({name:"BackgroundContainer",class:"bj9zx4o",propsAsIs:!1,vars:{"bj9zx4o-0":[v1e()]}}),A1e=C("div")({name:"BaseOverlay",class:"bhiu7br",propsAsIs:!1}),_1e=e=>f.jsx(A1e,{style:{backgroundImage:`url('https://i3.ytimg.com/vi/${e.video}/hqdefault.jpg')`,width:`${e.width}px`,height:`${e.height}px`}}),b1e=()=>x$,S1e=C(b1e())({name:"Artist",class:"ad2fdxn",propsAsIs:!0}),w1e=()=>zx,x1e=C(w1e())({name:"Title",class:"t197avey",propsAsIs:!0});function E1e(){const e=lv("song"),[t,n]=A.useState(null),[r,s]=A.useState(e??null),[i,o]=A.useState(0),a=l=>{document.getElementById("preview-video-container").style.viewTransitionName="song-preview-video",wf(()=>{document.getElementById("preview-video-container").style.viewTransitionName="",_u.flushSync(()=>{n(l)})}),oS.play()};return f$(),f.jsxs(f.Fragment,{children:[f.jsx(ds,{children:f.jsx("title",{children:"Game | AllKaraoke.Party - Free Online Karaoke Party Game"})}),f.jsx(bx,{children:t?f.jsx(g1e,{restartSong:()=>{ri.restartRecord(),o(l=>l+1)},songPreview:t.song,singSetup:t,returnToSongSelection:()=>{s(t.song.id),n(null)}},i):f.jsx(Uve,{onSongSelected:a,preselectedSong:r})})]})}const GR=C("div")({name:"MobileOnly",class:"m17zwcsc",propsAsIs:!1}),qR=C("div")({name:"DesktopOnly",class:"danl2wc",propsAsIs:!1});var k1e=A.createContext({client:jn}),C1e=function(){var e=A.useContext(k1e).client;return e};function I1e(e){var t=C1e(),n=A.useState(),r=n[0],s=n[1];return A.useEffect(function(){return t.onFeatureFlags(function(){s(t.getFeatureFlag(e))})},[t,e]),r}const T1e="/prs/275/assets/screenshot1-DaCeVKxL.webp",R1e="/prs/275/assets/screenshot2-BGzMpznM.webp",M1e="/prs/275/assets/screenshot3-uopWyjAi.webp",P1e=["zsmUOdmm02A","-dIRsi3j0uU","ioNng23DkIM","_4_p3FM88jA","Z8bKE6FCVdU","AAbokV76tkU","weWIUylAq0s","79DijItQXMM","FWgDQILC91c","GCdwKhTtNNw","WQeRG72E3OM","h2eKImKZviw","obhHmNqNTcw","E_jWcIDqXq0","sBalrWc38fE","1Osyw6Svv8U","M5UqFj-uk78","ekzHIouo8Q4","HHv0jW4p_xA","1k8craCGpgs","iyZJ_aMw5hY","Dmdq6J-t4kA","nXTxmu5WSGA","GxBSyx85Kp8","znWi3zN8Ucg","-RJSbO8UZVY","wt-tHcQR67Y","xPGbvv4IhNU","M4ZoCHID9GI","YqecOmezgSw","79fzeNUqQbQ","Ob7vObnFUJc","LOZuxwVk7TU","ZVF5x-YzUBY","4DO8GsIYfhQ","NUTGr5t3MoY","SSbBvKaM6sk","PQmDUEv939A","6dYWe1c3OyU","HBxt_v0WF6Y","S4UEJePR0UE","e-fA-gBCkj0","-_aGvdfLTKY","fNFzfwLM72c","Y7ONTHp9-jc","mYMLFiBRD3U","Wmfre-r9O9M","K0HSD_i2DvA","NUsoVlDFqZg","Qp3b-RXtz4w","8SV6UcCHJq4","sQgd6MccwZc","Vk5-c_v4gMU","RBicJYn3tGw","KIYiGA_rIls","VS6ixn2berk","tMhiHrL7rPE","pvuN_WvF1to","4v4cRy25Xaw","22lISUXgSUw","EAc4zHEDd7o","AYlulqyApjc","ujNeHIo7oTE","uCUpvTMis-Y","9ro0FW9Qt-4","mxkHG08weUk","IcrbM1l_BoI","RB-RcX5DS5A","OiC1rgCPmUQ","ZaI2IlHwmgQ","p-Z3YrHJ1sU","ZemZjPCXe0A","IyYnnUcgeMc","lX44CAz-JhU","Sv-BxH3SVS8","2mVZvFZSCy4","8xg3vE8Ie_E","ek2PDE1cAyY","4Ll1pP8j0jw","J1G9DU4Rc9c","Uaida-lWZA0","FK3Wd1cBTqs","EXTLJmYsaUQ","cH4E_t3m3xM","gGdGFtwCNBE","dQsjAbZDx-4","0HDdjwpPM3Y","XXYlFuWEuKI","9n3A_-HRFfc","lVhJ_A8XUgc","kVP4TYYdvZA","4c8O2n1Gfto","Bg59q4puhmg","2lGP78ckF_Q","Zwnvgz3ey78","kqVpk0qxmfA","8AZxUtZ2ZgI","YO1GBsuzTWU","44Qh0p9xE6o","aQUlA8Hcv4s","r0CmpaSV0tc","6RHFXw3bwwk","3rgwIp6D3ow","XeraDSzu0nw","bo_efYhYU2A","1mjlM_RnsVE","J6t_BU2IjXE","ngORmvyvAaI","Is_2Ng2-yIY","Ln6WQqRDrCo","GqXyTNKlwTI","rvdYly4A5W0","IO1evhvjJZs","j82FBbgpUy4","1V_xRb0x9aw","eQFIKP9rGhQ","JTpos657Am0","BzbxacRr5Gk","HlEuo9aR7Qo","S9bCLPwzSC0","8Ogk4O_204A","5qF_qbaWt3Q","6z8o7qAIlIU","4wOoLLDXbDY","ewxmv2tyeRs","OCy3CgPBoTw","Xcwd_Nz6Zog","fc15NK89NjI","kRXmAIHYQR4","RUQl6YcMalg","F5VvvVxuKko","9C1BCAgu2I8","yZIummTz9mM","7tCTeSocvB0","KSxTxynXiBs","17o1OlroNSE","yOuqn4w1ozA","_I_D_8Z4sJE","2Vv-BfVoq4g","674KGKRQBPE","aqW-VF49Sok","IXmF4GbA86E","2Abk1jAONjw","F90Cw4l-8NY","Up4WjdabA2c","Vf0MC3CFihY","rYEDA3JcQqw","-FyjEnoIgTM","cHHLHGNpCSA","Med2XipHJJM","ritnPj19jFU","mLRjFWDGs1g","tkzY_VwNIek","PZYSiWHW8V0","7qrRzNidzIc","khg2sloLzTI","knlcaEDkPl0","AoAm4om0wTs","j8aQseeJMtA","HcVv9R1ZR84","9-zQr3ATnM8","wJRh0PlWB6g","b3M_zl8FRLA","xsWwLWaZBq8","u2pySXCmwpc","pKqVj-ermPY","mgJ8BZi3vTA","6ikznQPMSv0","8-r-V0uK4u0","fq1_fKtcIUc","Wp57PXBB7Xg","VmEGGIqWbbs","hFDcoX7s6rE","TeQ_TTyLGMs","3vVHy0XoIN4","XB8V0fjDuog","0dCa3m91flU","BDFCRcWTkw4","HrxX9TBj2zY","GtW1zwr5rEQ","3vjkh-acmTE","9bZkp7q19f0","rXUlmP5MvnE","GuJQSAiODqI","ayCXeExyJxg","IxszlJppRQI","odWKEfp2QMY","dfNWfnzUl4U","kjVeown7umM","cbZTfrhcamA","wp43OdtAAkM","Wpov9na0sPM","epOBenUjIHw","iOLaGJnnKSo","GECEgPJw5EE","6M6samPEMpM","LTrk4X9ACtw","ukW82Ico4U0","J551f-TyqjY","iyu04pqC8lE"],j1e=["Flo Rida","Matchbox Twenty","Radiohead","LE SSERAFIM","Little Mix","Manowar","David Guetta feat. Flo Rida & Nicki Minaj","Jesse McCartney","Kanye West feat. Various Artists","Bruno Mars","The Village People","Michelle Branch","Måneskin","The Strokes","Lorde","Kylie Minogue","Richard Marx & Donna Lewis","TheFatRat","Disney’s Kim Possible (Christina Milian)","Ghost","Jay-Z feat. Alicia Keys","David Guetta feat. Akon","Kendrick Lamar","Fun.","The BossHoss","Arcade Fire","Mamma Mia! (Movie)","Cornelia Jakobs","Owl City","Stephen Sanchez","Wham!","Justin Timberlake","Daisuke Ishiwatari","Depeche Mode","Justin Bieber feat. Big Sean","SMiLE.dk","Ween","The Eagles","Genesis","M83 feat. Susanne Sundfør","KEiiNO","Lil Dicky","The Doors","Banana minnions family","Lifehouse","Paramore","The Rembrandts","Scooter vs. Marc Acardipane & Dick Rules","Disney’s Phineas & Ferb (Candace Flynn)","Gwen Stefani Feat Akon","Lady Gaga feat. Colby O'Donis","Goo Goo Dolls","Drake feat. Rihanna","Sarah McLachlan","Neon Genesis Evangelion","Jimmy Eat World","Boyz II Men","Destiny","Swedish House Mafia & The Weeknd","Rihanna feat. Mikky Ekko","Psy feat. Suga of BTS","Justin Bieber","The Postal Service","KISS","The Mamas & The Papas","Jay Sean","3OH!3 feat. Katy Perry","Rusted Root","KoRn","Demi Lovato feat. Cher Lloyd","Katrina And The Waves","TheFatRat feat. Laura Brehm","Eddie Murphy","Run DMC","The Weeknd feat. Ariana Grande","Nirvana","Vanilla Ice","Enya","Nico & Vinz","Verka Serduchka","Tove Lo","Mika","Shawn Mendes","Lea Salonga and Brad Kane","Melanie Martinez","Lord Of The Lost","Soul Asylum","The Kooks","Kendrick Lamar feat. Drake","Wheatus","Electric Light Orchestra","Five For Fighting","Disney's Moana","Maria Yaremchuk","deadmau5 feat. Chris James","The Chainsmokers & Coldplay","Sylver","Conchita Wurst","Demi Lovato","James Morrison feat. Nelly Furtado","The Jacksons","Alice Merton","The Ronettes","Disney's Tangled","K-391 feat. Alan Walker, Julie Bergan & SeungRi","B.o.B feat. Hayley Williams","Moulin Rouge","Muse","Calvin Harris feat. Pharrell Williams, Katy Perry & Big Sean","Lyn","will.i.am feat. Justin Bieber","Ed Sheeran and Elton John","Thirty Seconds to Mars","Disney’s DuckTales 2017 (Felicia Barton)","Loïc Nottet","La Bouche","Neil Young","Cutting Crew","Sophie Ellis-Bextor","Avenged Sevenfold","Skid Row","One Direction","The Anxiety (Willow & Tyler Cole)","Rainbow","Rednex","Josh Groban","Elton John & Dua Lipa","Rupert Holmes","Pearl Jam","Macklemore & Ryan Lewis feat. Ray Dalton","A Great Big World","Britney Spears feat. Madonna","Jet","Shakira feat. Rihanna","Drake","Journey","Paris Hilton","Rihanna feat. Jeezy","Elton John & RuPaul","Tate McRae","Disney’s Mulan","Cher","Lana Del Rey","Jason Mraz","Whitesnake","ABBA","Bradley Cooper & Lady Gaga","The Offspring","OneRepublic","Shakira","Sinéad O’Connor","Christina Milian","Harry Styles","Foo Fighters","Freddie Mercury","Gorillaz","System of a Down","Lily Allen","Daft Punk Feat. Todd Edwards","Justin Bieber feat. Jaden Smith","Billie Eilish & Khalid","Ochman","Jason Derulo","Pink Floyd","SING (Taron Egerton)","Benny Cristo","Men at Work","Kid Rock feat. Sheryl Crow","Dio","Gina G","David Guetta feat. Kelly Rowland","Taio Cruz","Alanis Morissette","Symphony X","Kaleen","Chris Brown","Ke$ha feat. 3OH!3","Nickelback","Rascal Flatts","Pixies","Taylor Swift feat. Post Malone","Kaleo","Drowning Pool","Martina McBride","Srbuk","Breaking Benjamin","SZA","David Guetta & Chris Willis feat. Fergie & LMFAO","Julie and the Phantoms","Duncan Laurence","Eminem feat. Dido","Mariah Carey & Whitney Houston","Fall Out Boy","Wiz Khalifa ft. Charlie Puth","Camila Cabello ft. Ed Sheeran","Jessie J","Ike & Tina Turner","Martin Garrix feat. Bonn","Snow Patrol","Kay Starr","Ben E. King","Evanescence","Eleni Foureira","The Who","The Weeknd feat. Daft Punk","Santana feat. Rob Thomas","Baccara","Lynyrd Skynyrd","Mae Muller","Whitney Houston","The Black Eyed Peas Feat. Justin Timberlake","Owl City & Carly Rae Jepsen","Lucy Hale","Eric Clapton","Enrique Iglesias","Robbie Williams","Jessie J feat. Ariana Grande & Nicki Minaj","Rihanna feat. Calvin Harris","Daði og Gagnamagnið","Kim Petras & Nicki Minaj","Sia","Rihanna feat. Drake","Max Coveri","Tom Dice","Alice in Chains","Disney’s Frozen II","The Animals","We Are Domi","The Killers","Manchester Orchestra","Hailee Steinfeld feat. DNCE","Iggy Pop","Morgan Wallen","Marc Cohn","Brandy & Monica","Natasha Farrow","Lil Nas X","Morandi","Madonna","Daniel Powter","Hootie & The Blowfish","Bing Crosby","Pharrell Williams","Eminem feat. Rihanna","Usher","Montaigne","Arctic Monkeys","Reba McEntire with Brooks & Dunn","Victorious Cast feat. Victoria Justice","Abby Trott","Mika feat. Ariana Grande","Blink 182","Tom Jones","Mariah Carey feat. Jay-Z","Ricky Martin","Silk Sonic - Bruno Mars & Anderson .Paak","R. City feat. Adam Levine","Into the Woods","The Living Tombstone","Joan Jett & The Blackhearts","Sun Stroke Project & Olia Tira","Kim Wilde","Finger Eleven","Joe Cocker","Olsen Brothers","Peter Gabriel & Kate Bush","Bad Omens","Teach-In","Maroon 5 feat. Christina Aguilera","Smash Into Pieces","Glee Cast","Foreigner","Nicki Minaj feat. Rihanna","Fredi and Friends","Savage Garden","Sean Kingston / Justin Bieber","Chris Isaak","Aerosmith","Amy Winehouse","Olivia Newton-John","Elvis Presley","Netta","Texas","Jimi Jamison","The Kelly Family","Kenya Grace","Culture Club","Joy Division","Silia Kapsis","Chingiz","Alannah Myles","Awolnation","Grease (John Travolta & Olivia Newton-John)","Usher feat. will.i.am","Big Time Rush","Radical Face","Phil Collins","Matt Redman","Doja Cat feat. SZA","Psychostick","Soulja Boy Tellem feat. Sammie","Imagine Dragons x JID","Stone Temple Pilots","Bôa","RAFAŁ","Technotronic feat. Felly","Jewel","JoJo","KDA ft. Madison Beer, (G)I-DLE, Lexie Liu, Jaira Burns, Seraphine","4 Non Blondes","Ne-Yo","Eva Rivas","Andy Williams","Jordin Sparks feat. Chris Brown","Kid Cudi feat. MGMT & Ratatat","Nelly Furtado feat. Timbaland","Van Halen","Sam Smith","Danzel","Britney Spears","Aqua","Smokie","Mark Ronson ft  Miley Cyrus","Ylvis","Interpol","Avicii feat. Sandro Cavazza","Set It Off","Vanessa Carlton","Rufus Wainwright","Hillsong United","Linkin Park","Chappell Roan","Joan Jett","Usher & Pitbull","Panic! at the Disco","Flo Rida feat. David Guetta","Rhapsody","The Little Mermaid","Tally Hall","Akon","Disney's Pocahontas","Rihanna, Kanye West & Paul McCartney","Cyndi Lauper","Israel Kamakawiwo’ole","Lionel Richie","Wham","Drake feat. Wizkid & Kyla","Pretenders","Simply Red","Asking Alexandria","Miracle Of Sound","Alesso & Katy Perry","Ashley Tisdale","Electric Callboy feat. Sido","Malik Harris","Bill Medley & Jennifer Warnes","Hollywood Undead","Plain White T’s","Disney’s Descendants","Lykke Li","Margaret Berger","Melanie Thornton","George Michael","Jay Sean feat. Sean Paul & Lil Jon","Coldplay x BTS","Meat Loaf","Katy Perry feat. Nicki Minaj","Nick Jonas","Paul McCartney & Michael Jackson","LSD","James Blunt","Frankie Valli","NCT DREAM","Bonnie Tyler","Shawn Mendes & Camila Cabello","B52s","Stevie Wonder","David Guetta feat. Usher","a-ha","Black Sabbath","Starship","Deadmau5 & Kaskade","Sandie Shaw","Tracy Chapman","Inna","Mumford and Sons","Beyoncé & Shakira","LazyTown","Dean Lewis","Madonna feat. Britney Spears, Christina Aguilera & Missy Elliott","Alessia Cara","Young The Giant","Britney Spears & Iggy Azalea","R.E.M.","Chicago","Alan Walker & Ava Max","Avril Lavigne","The Police","Adele","Sixpence None The Richer","Bryce Pinkham","Sean Kingston","Michael Schulte","Hazbin Hotel","Ariana Grande feat. Mac Miller","Amy Grant","Christina Aguilera","Led Zeppelin","The Proclaimers","Disney’s Phineas & Ferb (Phineas Flynn, Candace Flynn)","Justin Bieber feat. Usher","Alice In Chains","KT Tunstall","Phoebe Bridgers","2Pac feat. Dr. Dre & Roger Troutman","Eminem","SIAMÉS","Olivia Rodrigo","Katy Perry feat. Kanye West","Dami Im","John Lennon","Hailee Steinfeld & Grey feat. Zedd","Macklemore & Ryan Lewis feat. Wanz","Avicii","Simple Plan","Katy Perry","The Darkness","Placebo","Alan Walker","Nicki Taylor","Bobby Helms","Blanche","The Greatest Showman","Weezer","Guns N' Roses","Sudden Lights","Bellamy Brothers","U2","Kelly Clarkson","will.i.am feat. Eva Simons","NCT 127","Midnight Oil","BTS feat. Desiigner","George Ezra","Take That","Aly & AJ","Loreen","Metallica","LeAnn Rimes","Hilary Duff","Timbaland presents OneRepublic","Katy Perry feat. Migos","Snoop Dogg & Wiz Khalifa feat. Bruno Mars","Kim Petras","David Guetta feat. Nicki Minaj","Amy MacDonald","A Day to Remember","Vitamin C","★N Sync","Ariana Grande & The Weeknd","Post Malone feat. 21 Savage","Empire Of The Sun","Ariana Grande feat. Zedd","Toto","Nick Cave & The Bad Seeds + Kylie Minogue","Marshmello & Anne-Marie","The Baseballs","Marina and the Diamonds","The Kid Laroi & Justin Bieber","Lady Gaga","Shakira feat. Carlinhos Brown","Simon & Garfunkel","Ricky Martin with Christina Aguilera","Blanka","Elena Siegman","Ariana Grande","Kings of Leon","The Neighbourhood","will.i.am & Britney Spears","Spandau Ballet","Slayyyter","LP","Nelly Furtado","Fountains Of Wayne","Måns Zelmerlöw","Dido","Hamilton","Hoobastank","MELOVIN","Martin Solveig & Dragonette","The Cure","David Guetta & Sia","Shawn Mendes, Camila Cabello","David Guetta feat. Kid Cudi","Poets Of The Fall","Aretha Franklin & The Blues Brothers Band","Doja Cat","Bastille","Lulu","AURORA","Christina Aguilera, Lil’ Kim, Mya & P!nk (Moulin Rouge)","Les Misérables","Lana Del Rey feat. The Weeknd","Estelle feat. Kanye West","DNCE","Rod Stewart","Bruno Mars & Cardi B","Ed Sheeran","Tom Jones and Mousse T.","Huey Lewis & The News","Mitski","Disney’s The Lion King","Johnny Cash","Gréta Salóme & Jónsi","Jamiroquai","Usher feat. Pitbull","Natalie Imbruglia","New Order","A Perfect Circle","Dolly Parton","Phantom Planet","Remo Forrer","Vampire Weekend","TLC","Franz Ferdinand","Secondhand Serenade","Victoria Justice","Hera Björk","Justin Bieber & Ludacris","Subwoolfer","Coldplay","Tix","Lewis Capaldi","Sheryl Crow","Spice Girls","The Weeknd","Christina Perri","Will Ferrell & Rachel McAdams","Faith Hill","Sara Evans","The Psychedelic Furs","Prince and the Revolution","Gwen Stefani & Eve","Bob Marley & The Wailers","Dead Or Alive","The Script","Clean Bandit feat. Marina & Luis Fonsi","Kanye West feat. Young Jeezy","Powerwolf","Europe","Beyoncé","3OH!3 feat. Ke$ha","La La Land (Ryan Gosling & Emma Stone)","Rockwell","Ashley Tisdale (The Little Mermaid)","Idina Menzel","Beastie Boys","Bebe Rexha y David Guetta","Les Fatals Picards","Olly Murs feat. Flo-Rida","New Kids On The Block","Dean Martin","Lipps, Inc.","Survivor","Chenoa","Shakira feat. Dizzee Rascal","Babymetal x Electric Callboy","Ariana Grande feat. Future","NF","Mark Ronson feat. Bruno Mars","Justin Bieber & Nicki Minaj","The Smashing Pumpkins","AaRON","The Rasmus","Ren","Rob Zombie","Elton John","Helena Paparizou","Faith No More","Aram MP3","Miley Cyrus","Creedence Clearwater Revival","Bryan Adams, Rod Stewart & Sting","Rise Against","The Smiths","P!nk","Petula Clark","Voyager","Florence + the Machine","Dua Lipa","A.R. Rahman & The Pussycat Dolls feat. Nicole Scherzinger","Ginuwine","Twenty One Pilots","FIFTY FIFTY","The Cinematic Orchestra","Man With A Mission","Band Aid","Bee Gees","All Time Low feat. Demi Lovato & Blackbear","Tenacious D","Netflix","Boney M.","Chris Rea","Disney's Aladin","RuPaul","Getter Jaani","Kid Cudi","League of Legends","The Blues Brothers","Blu Cantrell","The White Stripes","Cynthia Harrell","PinkPantheress & Ice Spice","LMFAO","David Guetta feat. Nicki Minaj & Afrojack","Marina & The Diamonds","The Black Keys","Jennifer Lopez & Pitbull","Cat Stevens","Fergie","David Guetta feat. Chris Willis","Fetty Wap","Dashboard Confessional","Little Mix feat. Stormzy","Fool’s Garden","Jack White","Skillet","Gotye & Kimbra","Audioslave","Lindsey Stirling feat. Becky G","Good Charlotte","Ashanti","Ava Max","Billie Eilish","Tears For Fears","Rosa Linn","M.I.A.","David Guetta feat. Rihanna","Taylor Swift","AC/DC","No Doubt","5 Seconds of Summer","Rag’n’Bone Man","Backstreet Boys","S Club 7","Benson Boone","Alessandra","The Kid Laroi & Miley Cyrus","Westlife","Jessica Simpson","Green Day","Bowling For Soup","Jennifer Lopez","REO Speedwagon","deadmau5 feat. Gerard Way","Vanessa Hudgens","Anitta","Billy Joel","The Temptations","David Bowie","No Secrets","Ultravox","Metric","Shaggy feat. RikRok","Kanye West","Dana International","Magic!","Leona Lewis","2NE1","Hozier","Sam Ryder","Amy Winehouse feat. Mark Ronson","Marilyn Manson","Glen Hansard And Markéta Irglová","Shakira ft. Freshlyground","Daði Freyr","Calvin Harris feat. Rihanna","Slipknot","Kellie Pickler","Travie McCoy feat. Bruno Mars","Jack Ü (Skrillex & Diplo) with Justin Bieber","Terri Clark","The Common Linnets","Olly Murs","Chris Brown feat. Justin Bieber","Cliff Richard","Scissor Sisters","blink-182","Xavier Rudd","Vengaboys","Shakin’ Stevens","ZAYN feat. Sia","Rihanna feat. Eminem","Michael Jackson","Katy Perry feat. Snoop Dogg","Pitbull feat. Ne-Yo, Afrojack & Nayer","BTS","Miranda Lambert","Sabaton","Billy Boyd","Camp Rock 2","John Legend","The Beatles","Bring Me The Horizon","Lil Nas X feat. Billy Ray Cyrus","Sugababes","Enrique Iglesias feat. Pitbull","Philip Bailey with Phil Collins","Destiny’s Child","ISAAK","Cascada","The Clash","Girls’ Generation (SNSD)","Yohanna","Ashlee Simpson","The Black Eyed Peas","Crush 40","Charlie Puth & Selena Gomez","Queen & David Bowie","Zoe Wees","Barbie (Ryan Gosling)","Tina Turner","Johnny Logan","Major Lazer & DJ Snake feat. MØ","Crusher-P feat. GUMI","Coldplay feat. Beyoncé","Serj Tankian","Beyoncé feat. Jay-Z","The Script feat. will.i.am","Rob Thomas","Gustaph","Passenger","Boney M","Lady Gaga feat. Beyoncé","Michael Jackson feat. Justin Timberlake","Janet Jackson","System Of A Down","Tyler, The Creator","Bon Jovi","Disturbed","Rage Against the Machine","Post Malone","Usher & Alicia Keys","Willie Nelson and Merle Haggard","Selena Gomez & The Scene","Manuel","P!nk feat. Lily Allen","Alexander Rybak","Mötley Crüe","Cheryl Cole","DragonForce","The Pussycat Dolls","Steven Curtis Chapman","Lordi","Reba McEntire & Kelly Clarkson","Dave Rodgers","The Fray","Deep Purple","We The Kings feat. Demi Lovato","Madcon feat. Ray Dalton","Céline Dion","Anna Margaret","B.o.B feat. Bruno Mars","Pitbull feat. Chris Brown","Hooverphonic","Tom Odell","Richard Marx","Marshmello & Bastille","The Pogues feat. Kirsty MacColl","Jay Sean feat. Lil Wayne","Lizzo","Jon Bellion","Against The Current","Post Malone & Swae Lee","Wicked","Portal","Toni Braxton","Akon feat. Eminem","Chris Brown feat. Rihanna","A★Teens","Alter Bridge","Emmelie de Forest","Chris Brown feat. Benny Benassi","Modern Talking","Roxette","Disney’s Encanto","Keane","3OH!3","Rage Against The Machine","My Little Pony","John Mayer","Chuck Berry","Windows95man","Pointer Sisters","Rick Astley","Dire Straits","Britney Spears feat. Tinashe","Falling In Reverse","Flo Rida feat. T-Pain","Christina Aguilera feat. Redman","Teya & Salena","Disney’s Frozen","Fleetwood Mac","Joji","Henry Moodie","Disney’s Hercules","Frankie Goes To Hollywood","Chumbawamba","Bob Seger & The Silver Bullet Band","Eric Saade","Ruslana","Foster The People","Shania Twain","Selena Gomez","Queen","Paul Simon","Oasis","Crowded House","Ray Parker Jr.","Lenny Kravitz","Daniel Caesar","Usher feat. Lil’ Jon & Ludacris","Black Eyed Peas, Shakira","Marshmello x Jonas Brothers","Red Hot Chili Peppers","Counting Crows","Vanessa Williams","Jack Black","Parry Gripp & Brianne Drouhard","Himesh Patel","Nemo","David Guetta feat. Justin Bieber","Scorpions","Doki Doki Literature Club!","Slade","3 Doors Down","Kanye West feat. Pusha T","Timbaland feat. Keri Hilson","Donna Summer","Frank Sinatra","Borislav Slavov (Baldur's Gate 3)","La Roux","Tones And I","Jay-Z feat. Rihanna & Kanye West","Lady Antebellum","Ariana Grande feat. Iggy Azalea","Brotherhood Of Man","Wiz Khalifa","Baby Lasagna","Haddaway & Jim Carrey & The Roxbury Guys","Alicia Keys","Marcus & Martinus","Flo Rida feat. Sia","Lady Gaga & Ariana Grande","Jojo","Bryan Adams","The Rolling Stones","The Cranberries","Eurythmics","Alice Cooper","Alphaville","Gandalf","Wilson Phillips","SEBalter","Fun. feat. Janelle Monáe","Natasha Bedingfield","Rag'n'Bone Man","Maroon 5","Don McLean","Stella Mwangi","Soundgarden","Rihanna & Ne-Yo","Cailin Russo & Chrissy Costanza","Gym Class Heroes feat. Adam Levine","Corey Hart","Jonathan Coulton","The Vines","High School Musical","Daft Punk","Extreme","Victoria Justice & Ariana Grande","Hazbin Hotel (Black Gryph0n & Baasik)","Alec Benjamin","Edward Sharpe And The Magnetic Zeros","Anastacia","Idina Menzel with Michael Bublé","Ben Dolič","Jim Croce","ALIKA","Meghan Trainor","Barei","Disney’s Moana (Dwayne Johnson)","Smash Mouth","Creed","Metro Station","Ice Cube","Ed Sheeran and Justin Bieber","BLACKPINK & Selena Gomez","Camila Cabello feat. Daddy Yankee","twenty øne piløts","Flo Rida feat. Ke$ha","ZZ Top","Mandy Moore","Britney Spears / Elton John","Kaiser Chiefs","Tiffany","Tool","LMFAO, Lauren Bennett & Goon Rock","Marvin Gaye & Tammi Terrell","Maroon 5 feat. Wiz Khalifa","Shakira feat. Wyclef Jean","The Jackson 5","America","Mumford & Sons","Bridgit Mendler","Hailee Steinfeld","Edward Maya & Vika Jigulina","Three Days Grace","Sublime","Blur","Hanson","Selena Gomez x Marshmello","Guns N’ Roses","Gloria Gaynor","The Makemakes","Sara Bareilles","Rasmussen","The Bloodhound Gang","Roman Lob","Blackstreet feat. Dr. Dre","Ke$ha","Kate Bush","Nicki Minaj","Blondie","Imagine Dragons","Rihanna","Daft Punk feat. Julian Casablancas","Adam Lambert","Mariah Carey","Peter Gabriel","Carly Rae Jepsen","Corinne Bailey Rae","Kings Of Leon","USA for Africa","Placebo feat. David Bowie","Coolio feat. L.V.","Colbie Caillat","David Guetta feat. Zara Larsson","Michael Bublé","Diana Ross","My Chemical Romance","Utada Hikaru","Zedd & Foxes","Nico Bruno","Bucks Fizz","Ellie Goulding","Brenda Lee","Lena","Kid Rock","Drake Bell","Yazoo","The Calling","Sabrina Carpenter","Little Big","Pitbull feat. Marc Anthony","Marillion","Andrew Lambrou","Mandaryna"],O1e=["Polish","Korean","English","Japanese","Estonian","Spanish","Swedish","Indonesian","French","German","Portuguese","Dutch","Catalan","Czech","Norwegian","Italian","Croatian","Latin","Icelandic","Ukrainian","Serbian","Slovenian","Finnish","Romanian","Latvian","Chinese"],V1e=2774,ud={videoIds:P1e,artists:j1e,languages:O1e,songs:V1e},L1e=new Intl.NumberFormat(void 0,{maximumFractionDigits:0});function $1e(){const[e]=Be(bb),t=Gr(),n=I1e(_b.Shrek);pa(!0);const r=e===null?"quick-setup/":"menu/";xr("enter",()=>{t(r)},[r]);const[s,i]=A.useState(!1);return A.useEffect(()=>{const o=setTimeout(()=>{i(!0)},4e3);return()=>clearTimeout(o)},[]),f.jsxs(To,{toolbar:!1,children:[f.jsx(ds,{children:f.jsx("title",{children:"AllKaraoke.Party - Free Online Karaoke Party Game"})}),f.jsx(jL,{}),f.jsxs(z1e,{children:[f.jsx(qR,{children:f.jsxs(B1e,{children:[f.jsx(DL,{}),f.jsx(Ax,{})]})}),f.jsx(qR,{children:f.jsx(Cr,{to:r,children:f.jsx(XA,{"data-test":"enter-the-game",focused:!0,children:"Enter the game"})})}),f.jsxs(N1e,{children:[f.jsxs(oB,{children:[f.jsxs(D1e,{children:[f.jsx("strong",{children:"AllKaraoke"})," is a free online karaoke game inspired by PlayStation's"," ",f.jsx("strong",{children:"SingStar"}),". Sing along to your favorite songs and compete with your friends, all through the browser! Updated almost weekly with new songs and features."]}),f.jsx("hr",{}),f.jsxs(Ku,{children:["▸ ",f.jsx("strong",{children:L1e.format(ud.songs)})," songs in"," ",f.jsx("strong",{children:ud.languages.length})," languages",f.jsxs(Yu,{children:["Artists such as"," ",f.jsx("strong",{children:s?f.jsx(iB,{options:{strings:ud.artists,autoStart:!0,loop:!0,delay:100}}):ud.artists.at(-1)})]})]}),f.jsxs(Ku,{children:["▸ Play ",f.jsx("strong",{children:"directly"})," in the browser",f.jsxs(Yu,{children:["No ",f.jsx("strong",{children:"download"})," needed"]})]}),f.jsxs(Ku,{children:["▸ Use ",f.jsx("strong",{children:"phones"})," as microphones",f.jsx(Yu,{children:"No need to download an app"})]}),f.jsxs(Ku,{children:["▸ Supports ",f.jsx("strong",{children:"1-4"})," players",f.jsx(Yu,{children:"When using phones as microphones"})]}),f.jsxs(Ku,{children:["▸ ",f.jsx("strong",{children:"100% Free"})," and open source",f.jsxs(Yu,{children:["Check the"," ",f.jsx("a",{href:"https://github.com/Asvarox/allkaraoke",target:"_blank",rel:"noreferrer",children:"GitHub repository"})]})]})]}),f.jsxs(U1e,{children:[f.jsx("img",{src:T1e,alt:"Song list screen"}),n==="test"?f.jsx("img",{src:R1e,alt:"In-game screen"}):f.jsx("img",{src:M1e,alt:"In-game screen"})]})]}),f.jsxs(G1e,{children:["Using this device as remote microphone?",f.jsx(Cr,{to:"remote-mic/",children:f.jsx("a",{"data-test":"join-existing-game",children:"Join existing game"})})]}),f.jsxs(H1e,{children:[f.jsx(GR,{children:f.jsx(Cr,{to:"remote-mic/",children:f.jsx(XA,{"data-test":"join-existing-game",focused:!0,children:f.jsxs("span",{children:["Join game (with ",f.jsx("strong",{children:"Game Code"}),")"]})})})}),f.jsx(GR,{children:f.jsx(Cr,{to:"quick-setup/",children:f.jsx(XA,{"data-test":"enter-the-game",children:"Start new game"})})})]})]})]})}const B1e=C("div")({name:"LogoContainer",class:"l1qyzl74",propsAsIs:!1}),N1e=C("div")({name:"Stats",class:"shx7a1p",propsAsIs:!1}),D1e=C("span")({name:"StatsDescription",class:"s15dkg7o",propsAsIs:!1}),Ku=C("div")({name:"StatText",class:"sc1ts19",propsAsIs:!1}),Yu=C("div")({name:"StatSubText",class:"sv6cjoj",propsAsIs:!1}),oB=C("div")({name:"StatSegment",class:"s11qonx7",propsAsIs:!1}),F1e=()=>oB,U1e=C(F1e())({name:"ScreenshotSegment",class:"s1kph1jd",propsAsIs:!0}),z1e=C("div")({name:"Container",class:"c398cu4",propsAsIs:!1}),H1e=C("div")({name:"MobileButtonsContainer",class:"mpao0x6",propsAsIs:!1}),G1e=C("h3")({name:"JoinExistingTip",class:"jopftnh",propsAsIs:!1}),q1e=()=>U4,XA=C(q1e())({name:"PlayButton",class:"pyxfxxk",propsAsIs:!0});function W1e(e){const t=Gr(),n=()=>t("menu/"),{register:r}=Fn({onBackspace:n});return f.jsxs(ya,{children:[f.jsx(ds,{children:f.jsx("title",{children:"Manage Songs | AllKaraoke.Party - Free Online Karaoke Party Game"})}),f.jsx("h1",{children:"Manage Songs"}),f.jsx(Cr,{to:"exclude-languages/",children:f.jsx(Te,{...r("exclude-languages",()=>t("exclude-languages/")),children:"Select Song Languages"})}),f.jsx(Cr,{to:"edit/list/",children:f.jsx(Te,{...r("edit-songs",()=>t("edit/list/")),children:"Edit songs"})}),f.jsx(Cr,{to:"convert/",children:f.jsx(Te,{...r("convert-song",()=>t("convert/")),children:"Convert UltraStar .txt"})}),f.jsx("hr",{}),f.jsx(Cr,{to:"menu/",children:f.jsx(Te,{...r("back-button",n),children:"Return To Main Menu"})})]})}var sy={exports:{}};sy.exports=Kx;sy.exports.isMobile=Kx;sy.exports.default=Kx;const K1e=/(android|bb\d+|meego).+mobile|armv7l|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series[46]0|samsungbrowser.*mobile|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i,Y1e=/CrOS/,Q1e=/android|ipad|playbook|silk/i;function Kx(e){e||(e={});let t=e.ua;if(!t&&typeof navigator<"u"&&(t=navigator.userAgent),t&&t.headers&&typeof t.headers["user-agent"]=="string"&&(t=t.headers["user-agent"]),typeof t!="string")return!1;let n=K1e.test(t)&&!Y1e.test(t)||!!e.tablet&&Q1e.test(t);return!n&&e.tablet&&e.featureDetect&&navigator&&navigator.maxTouchPoints>1&&t.indexOf("Macintosh")!==-1&&t.indexOf("Safari")!==-1&&(n=!0),n}var J1e=sy.exports;const X1e=cr(J1e);function Z1e(){const[,e]=Be(ur),t=async()=>{var n,r;try{e(!0),await document.body.requestFullscreen(),global.screen.orientation.unlock(),await((r=(n=global.screen.orientation).lock)==null?void 0:r.call(n,"landscape"))}catch(s){console.info(s)}};return f.jsx(To,{children:f.jsx(t_e,{children:f.jsxs(r_e,{children:[f.jsx("h1",{children:"Use Mobile Phone Mode?"}),f.jsx("h3",{children:"The regular version of the game isn't optimal for smaller screens. Enable the Mobile Phone Mode to adjust the UI and gameplay elements. Use this, or connect other mobiles to sing songs."}),f.jsxs("h3",{children:["You can always change the setting in the ",f.jsx("strong",{children:"Settings"})," menu."]}),f.jsx(WR,{focused:!0,onClick:t,"data-test":"enable-mobile-mode",children:"Enable Mobile Phone Mode"}),f.jsx(WR,{onClick:()=>e(!1),"data-test":"dismiss-mobile-mode",children:"Dismiss"})]})})})}const e_e=()=>Te,WR=C(e_e())({name:"ModalMenuButton",class:"mq6750t",propsAsIs:!0}),t_e=C("div")({name:"Container",class:"ceq6whj",propsAsIs:!1}),n_e=()=>yi,r_e=C(n_e())({name:"Modal",class:"mp2sd59",propsAsIs:!0});function s_e(e){const[t]=Be(ur),n=A.useMemo(()=>X1e(),[]),r=Gr(),s=async i=>{var o,a;if(r("menu/"),t&&document.fullscreenElement===null)try{await document.body.requestFullscreen(),global.screen.orientation.unlock(),await((a=(o=global.screen.orientation).lock)==null?void 0:a.call(o,"landscape"))}catch(l){console.info(l)}};return f.jsxs(f.Fragment,{children:[f.jsx(ds,{children:f.jsx("title",{children:"Select Input | AllKaraoke.Party - Free Online Karaoke Party Game"})}),t===null&&n?f.jsx(Z1e,{}):f.jsx(ya,{children:f.jsx(Ox,{onFinish:s,closeButtonText:"Sing a song",smooth:!0})})]})}function i_e(e){Aa(!1);const t=Gr(),n=()=>t("settings/"),{register:r}=Fn({onBackspace:n}),[s,i]=Be(fg),[o,a]=Be(qP),l=Ns(te.inputListChanged,()=>Xe.getRemoteMics()),c=bL();return A.useEffect(()=>Xe.addListener(c),[c]),f.jsxs(ya,{children:[f.jsx("h1",{children:"Remote Microphone Settings"}),f.jsx(ts,{...r("websocket-connection",()=>i(!s)),label:"Use Websockets",value:s?"Yes":"No"}),f.jsx("hr",{}),f.jsx(ts,{...r("default-permission",()=>a(Qa(bk,o))),label:"Default permission",info:f.jsxs(f.Fragment,{children:[f.jsx("strong",{children:"WRITE"})," - player is able to navigate the menus remotely and assign themselves and other players to the game.",f.jsx("br",{}),f.jsx("br",{}),f.jsx("strong",{children:"READ"})," - player will only be able to use the device as a microphone and otherwise have no control over the game."]}),value:o.toUpperCase()}),f.jsx("hr",{}),f.jsx("h3",{children:"Connected devices permissions:"}),l.map(u=>{const d=Xe.getPermission(u.id);return f.jsx(c_e,{...r(`mic-${u.id}`,()=>Xe.setPermission(u.id,Qa(bk,d)),"Change permissions"),"data-test":"remote-mic-entry","data-id":u.id,value:d,label:f.jsxs(a_e,{children:[f.jsx(d_e,{children:u.id.slice(-4)}),f.jsx(f_e,{children:f.jsx(o_e,{deviceId:u.id})}),f.jsx(u_e,{className:"ph-no-capture",children:u.name})]})},u.id)}),l.length===0&&f.jsx("h4",{children:"No remote microphones connected"}),f.jsx("hr",{}),f.jsx(Te,{...r("back-button",n),children:"Return To Settings"})]})}const o_e=({deviceId:e})=>{const t=C$(e);return t===null?null:f.jsxs(f.Fragment,{children:[t,"ms"]})},a_e=C("span")({name:"EntryLabel",class:"e15np0cw",propsAsIs:!1}),l_e=()=>ts,c_e=C(l_e())({name:"RemoteMicEntry",class:"r50fxxo",propsAsIs:!0}),u_e=C("span")({name:"RemoteMicName",class:"rqrdiw0",propsAsIs:!1}),d_e=C("span")({name:"RemoteMicId",class:"r14b6irz",propsAsIs:!1}),f_e=C("span")({name:"RemoteMicPing",class:"rqu6ghs",propsAsIs:!1}),ZA=2500,h_e=()=>{const e=[0,...new Array(21).fill(0).map((n,r)=>Math.round(10*(1.2+Math.sin(r/2.5+1.5)))/10).map(n=>Math.round(n/28*ZA)).reduce((n,r)=>[...n,(n.at(-1)??0)+r],[])],t=[{offset:"0%",color:cn.eurovisionPink.text},{offset:"25%",color:cn.eurovisionYellow.text},{offset:"50%",color:cn.eurovisionPink.text},{offset:"75%",color:cn.eurovisionOrange.text},{offset:"100%",color:cn.eurovisionPink.text}];return f.jsxs("svg",{width:ZA,height:ZA,version:"1.1",xmlns:"http://www.w3.org/2000/svg",children:[f.jsx("defs",{children:Array.from({length:21},(n,r)=>f.jsx("linearGradient",{id:`grad${r}`,x1:"0%",x2:"0%",y1:`${r*2}%`,y2:`${r*2+100}%`,spreadMethod:"repeat",children:t.map((s,i)=>f.jsx("stop",{offset:s.offset,stopColor:s.color},i))},r))}),Array.from({length:22},(n,r)=>f.jsx("rect",{x:e[r],y:"0",width:(e[r+1]??501)-e[r]+10,height:"100%",fill:`url(#grad${r})`},r))]})},p_e=`<?xml version="1.0" encoding="utf-8"?>
<svg viewBox="0 0 500 500" xmlns="http://www.w3.org/2000/svg">
  <g style="" transform="matrix(1.071942, 0, 0, 1.071942, 1.835104, 30.483427)">
    <path xmlns="http://www.w3.org/2000/svg" d="M 106.909 108.923 C 93.513 122.319 85.385 140.039 83.629 158.623 C 65.934 156.191 48.056 147.884 33.558 133.384 C 2.037 101.864 -1.61 54.425 25.407 27.42 C 52.402 0.403 99.839 4.05 131.36 35.571 C 145.859 50.07 154.167 67.957 156.598 85.654 C 138.025 87.387 120.305 95.527 106.909 108.923 Z M 277.592 279.606 C 284.12 273.076 293.486 270.217 302.56 271.951 L 335.161 304.574 C 344.167 313.579 344.167 328.169 335.161 337.175 C 326.155 346.181 311.566 346.181 302.56 337.175 L 269.937 304.574 C 268.203 295.502 271.062 286.135 277.592 279.606 Z M 172.111 108.923 C 154.167 106.357 136.043 112.402 123.209 125.224 C 110.377 138.057 104.342 156.181 106.909 174.137 L 258.318 295.253 C 259.219 286.383 262.957 277.94 269.441 271.455 C 275.925 264.971 284.368 261.234 293.239 260.333 L 172.111 108.923 Z" style="stroke: rgb(0, 0, 0); fill: rgb(255, 54, 54); stroke-width: 9.32886px; stroke-linejoin: round;"/>
    <path xmlns="http://www.w3.org/2000/svg" d="M 218.755 301.518 C 205.359 288.122 197.231 270.402 195.475 251.818 C 177.78 254.25 159.902 262.557 145.404 277.057 C 113.883 308.577 110.236 356.016 137.253 383.021 C 164.248 410.038 211.685 406.391 243.206 374.87 C 257.705 360.371 266.013 342.484 268.444 324.787 C 249.871 323.054 232.151 314.914 218.755 301.518 Z M 389.438 130.835 C 395.966 137.365 405.332 140.224 414.406 138.49 L 447.007 105.867 C 456.013 96.862 456.013 82.272 447.007 73.266 C 438.001 64.26 423.412 64.26 414.406 73.266 L 381.783 105.867 C 380.049 114.939 382.908 124.306 389.438 130.835 Z M 283.957 301.518 C 266.013 304.084 247.889 298.039 235.055 285.217 C 222.223 272.384 216.188 254.26 218.755 236.304 L 370.164 115.188 C 371.065 124.058 374.803 132.501 381.287 138.986 C 387.771 145.47 396.214 149.207 405.085 150.108 L 283.957 301.518 Z" style="fill: rgb(4, 153, 255); stroke: rgb(0, 0, 0); stroke-width: 9.32886px; stroke-linejoin: round;" transform="matrix(-1, 0, 0, -1, 572.91568, 467.631317)"/>
  </g>
</svg>`;function g_e(){return pa(!1),f.jsxs(To,{children:[f.jsxs(m_e,{children:[f.jsx(v_e,{dangerouslySetInnerHTML:{__html:p_e}}),f.jsx(aB,{children:f.jsx(u1,{})})]}),f.jsxs(__e,{children:[f.jsx(A_e,{children:f.jsx(u1,{})}),f.jsx(Ax,{}),f.jsx(b_e,{src:y$,alt:"Eurovision"})]}),f.jsx(h_e,{})]})}const m_e=C("div")({name:"LogoContainer",class:"l8lwosl",propsAsIs:!1}),aB=C("div")({name:"ESCBarsLogo",class:"eb1yram",propsAsIs:!1}),v_e=C("svg")({name:"IconLogo",class:"i1peyzy7",propsAsIs:!1}),y_e=()=>aB,A_e=C(y_e())({name:"ESCBarsBackground",class:"eqd8fal",propsAsIs:!0}),__e=C("div")({name:"BackgroundPhoto",class:"bgtql28",propsAsIs:!1}),b_e=C("img")({name:"EurovisionLogo",class:"em3vqcr",propsAsIs:!1}),S_e=(e,t)=>`
<iframe src="https://www.facebook.com/plugins/page.php?href=https%3A%2F%2Fwww.facebook.com%2Fallkaraoke.party&${Object.entries({show_posts:!0,width:e,height:t,small_header:!0,adapt_container_width:!0,hide_cover:!1,show_facepile:!1,appId:530120230391395}).map(([s,i])=>`${s}=${String(i)}`).join("&")}" width="${e}" height="${t}" style="border:none;overflow:hidden" scrolling="no" frameborder="0" allowfullscreen="true" allow="autoplay; clipboard-write; encrypted-media; picture-in-picture; web-share"></iframe>
`;function w_e(){const[e]=Be(ur),[t,n]=A.useState(!1),[r,s]=A.useState(200),i=A.useCallback(o=>{s(Math.round(o==null?void 0:o.getBoundingClientRect().width)??200)},[]);return A.useEffect(()=>{const o=setTimeout(()=>{n(!0)},750);return()=>{clearTimeout(o)}},[]),f.jsxs(k_e,{"data-small":!!e,show:t,children:[f.jsx("div",{dangerouslySetInnerHTML:{__html:S_e(350,750)},style:{height:750*(r/350),width:"100%",transformOrigin:"left top",transform:`scale(${r/350})`}}),f.jsx("h5",{ref:i,children:"Get updates, and help by suggesting features and reporting bugs."})]})}const x_e=()=>yi,E_e=()=>e=>e.show?1:0,k_e=C(x_e())({name:"Container",class:"c10kpcu0",propsAsIs:!0,vars:{"c10kpcu0-0":[E_e()]}});function C_e(){const[e]=Be(Sb);pa(!0);const t=Gr();Aa(!1);const{register:n}=Fn();return f.jsxs(ya,{children:[f.jsxs(ds,{children:[f.jsx("title",{children:"Main Menu | AllKaraoke.Party - Free Online Karaoke Party Game"}),f.jsx("link",{rel:"preload",href:"/songs/index.json",as:"fetch",type:"application/json",crossOrigin:"anonymous"}),f.jsx("link",{rel:"preload",href:"/mostPopularSongs.json",as:"fetch",type:"application/json",crossOrigin:"anonymous"})]}),e!=="Classic"&&f.jsxs(I_e,{children:[f.jsxs("span",{children:["Bpm data and release year provided by"," ",f.jsx("a",{target:"_blank",href:"https://getsongbpm.com/",rel:"noreferrer",children:"GetSongBPM"})]}),f.jsx("span",{children:"Song: Funk Cool Groove (Music Today 80)"}),f.jsx("span",{children:"• Composed & Produced by : Anwar Amr"}),f.jsxs("span",{children:["• Video Link:"," ",f.jsx("a",{href:"https://youtu.be/FGzzBbYRjFY",target:"_blank",rel:"noreferrer",children:"https://youtu.be/FGzzBbYRjFY"})]})]}),f.jsx(w_e,{}),f.jsxs(f.Fragment,{children:[f.jsx(Cr,{to:"game/",children:f.jsx(Te,{...n("sing-a-song",()=>t("game/")),children:"Sing a song"})}),f.jsx(Cr,{to:"select-input/",children:f.jsx(Te,{...n("select-input",()=>t("select-input/")),children:"Setup Microphones"})}),f.jsx(Cr,{to:"settings/",children:f.jsx(Te,{...n("settings",()=>t("settings/")),children:"Settings"})}),f.jsx(Cr,{to:"jukebox/",children:f.jsx(Te,{...n("jukebox",()=>t("jukebox/")),children:"Jukebox"})}),f.jsx(Cr,{to:"manage-songs/",children:f.jsx(Te,{...n("manage-songs",()=>t("manage-songs/")),children:"Manage Songs"})})]})]})}const I_e=C("div")({name:"BackgroundMusicCredit",class:"bhb998t",propsAsIs:!1}),jr={INDEX:"",QUICK_SETUP:"quick-setup",GAME:"game",MENU:"menu",JUKEBOX:"jukebox",SELECT_INPUT:"select-input",SETTINGS:"settings",SETTINGS_REMOTE_MICS:"settings/remote-mics",REMOTE_MIC:"remote-mic",MANAGE_SONGS:"manage-songs",EXCLUDE_LANGUAGES:"exclude-languages",CONVERT:"convert",EDIT_SONGS_LIST:"edit/list",EDIT_SONG:"edit/song"},T_e=A.lazy(()=>Wm(()=>import("./SongList-Dc5iTSfU.js"),__vite__mapDeps([2,1])));function R_e(){const[e]=Be(ur),[t]=Be(Ms),n=A.useMemo(()=>fV({graphicSetting:t}),[t]);return f.jsxs(Khe,{theme:n,children:[f.jsx("style",{children:`
          :root {
             ${t==="low"?"--graphic-setting-high: initial":""};
            ${t==="high"?"--graphic-setting-low: initial":""};
            --zoom-multipler: ${e?1.4:1};
          }
        `}),f.jsx(Gb,{fallback:Yhe,children:f.jsx(sJ,{children:f.jsx(JQ,{children:f.jsx(Pie,{base:"/prs/275/",children:f.jsxs(jie,{children:[f.jsx(pr,{path:jr.QUICK_SETUP,component:s_e}),f.jsx(pr,{path:jr.MENU,component:C_e}),f.jsx(pr,{path:jr.EXCLUDE_LANGUAGES,component:Npe}),f.jsx(pr,{path:jr.JUKEBOX,component:Ufe}),f.jsx(pr,{path:jr.GAME,children:f.jsx(E1e,{})}),f.jsx(pr,{path:jr.SELECT_INPUT,component:Hhe}),f.jsx(pr,{path:jr.SETTINGS,component:ade}),f.jsx(pr,{path:jr.SETTINGS_REMOTE_MICS,component:i_e}),f.jsx(pr,{path:jr.REMOTE_MIC,component:tue}),f.jsx(pr,{path:jr.MANAGE_SONGS,component:W1e}),f.jsx(pr,{path:"social-media-elements",component:g_e}),f.jsx(pr,{path:jr.CONVERT,component:()=>f.jsx(UL,{})}),f.jsx(pr,{path:jr.EDIT_SONGS_LIST,component:()=>f.jsx(A.Suspense,{fallback:f.jsx(FL,{}),children:f.jsx(T_e,{})})}),f.jsx(pr,{path:"edit/get-songs-bpms",component:Xhe}),f.jsx(pr,{path:jr.EDIT_SONG,children:f.jsx(Ide,{})}),f.jsx(pr,{path:jr.INDEX,component:$1e})]})})})})})]})}const M_e=zz(R_e),P_e=["AbortError: Version change transaction was aborted in upgradeneeded event handler.","The object can not be found here.","Document is hidden.","Failed to register a ServiceWorker for scope ('https://allkaraoke.party/') with script","NotAllowedError: Permission denied by system","ResizeObserver loop limit exceeded","ResizeObserver loop completed with undelivered notifications.","NotAllowedError: Document is not focused.","Error: Socket was destroyed!",/TypeError: Failed to fetch/,"top.GLOBALS","originalCreateNotification","canvas.contentDocument","MyApp_RemoveAllHighlights","http://tt.epicplay.com","Can't find variable: ZiteReader","jigsaw is not defined","ComboSearch is not defined","http://loading.retry.widdit.com/","atomicFindClose","fb_xd_fragment","bmi_SafeAddOnload","EBCallBackMessageReceived","conduitPage"];var lB,KR=_u;lB=KR.createRoot,KR.hydrateRoot;Bz({integrations:[_U({enableInp:!0})],dsn:"https://66c6e940d24b4096a277f350571921bb@o366978.ingest.sentry.io/6174734",ignoreErrors:P_e,tracesSampleRate:Ui()?0:.01,environment:Ui()?"e2e":"production",tunnel:"https://backend.allkaraoke.party/sentry"});Ui()||jn.init("phc_bw7XLoONmtGVezmMKTvcwk3lj37jzxTfisqzjlJ0Jik",{api_host:"https://backend.allkaraoke.party/posthog",loaded:e=>{let t=$e.local.getItem("posthog-user-id");t||(t=Eg(),$e.local.setItem("posthog-user-id",t)),e.identify(t);let n=$e.local.getItem("posthog-user-name");if(!n){const r=[...new Set(ud.artists.flatMap(s=>UO(s).split("-")))].filter(s=>s.length<=10);n=new Array(Oi(3,5)).fill(0).map(()=>r[Oi(0,r.length-1)]).join("-"),$e.local.setItem("posthog-user-name",n),e.alias(n,t)}c9({id:t})}});const j_e=Y_({key:"ec",speedy:!KL}),O_e=document.getElementById("root"),V_e=lB(O_e);V_e.render(f.jsxs(MM,{value:j_e,children:[f.jsx(M_e,{}),f.jsx(n1,{position:Mt.POSITION.BOTTOM_LEFT,theme:"colored"})]}));export{hx as $,UJ as A,Mre as B,d1 as C,Vee as D,rd as E,z3 as F,LJ as G,ore as H,jw as I,oZ as J,RJ as K,jJ as L,q_e as M,TJ as N,fa as O,We as P,Vc as Q,xe as R,zi as S,sre as T,fpe as U,G_e as V,H_e as W,Boe as X,B4 as Y,$4 as Z,Kee as _,_r as a,JG as a$,pa as a0,Aa as a1,oh as a2,lv as a3,Gw as a4,om as a5,ii as a6,ds as a7,bx as a8,pJ as a9,eZ as aA,tZ as aB,MS as aC,uZ as aD,nZ as aE,PS as aF,Bo as aG,mo as aH,U_e as aI,eV as aJ,ui as aK,F_e as aL,aZ as aM,Wf as aN,Mg as aO,hV as aP,fV as aQ,K3 as aR,W3 as aS,XJ as aT,H3 as aU,Y3 as aV,q3 as aW,ll as aX,Tee as aY,cee as aZ,Av as a_,jn as aa,jS as ab,m1 as ac,PJ as ad,V2 as ae,Ci as af,Ct as ag,Ve as ah,lW as ai,Pc as aj,Op as ak,uG as al,oa as am,Qd as an,GL as ao,xde as ap,bde as aq,Ade as ar,kde as as,kr as at,fu as au,m0e as av,Gr as aw,XX as ax,z_e as ay,WI as az,Me as b,D_e as b0,rx as b1,Fi as b2,pq as c,eX as d,G3 as e,ko as f,Zb as g,mu as h,Vr as i,f as j,Gf as k,ot as l,Ze as m,pu as n,hu as o,Qn as p,Ree as q,A as r,$e as s,BJ as t,iV as u,MC as v,vZ as w,gZ as x,_u as y,eee as z};
//# sourceMappingURL=index-fEywD3xF.js.map
