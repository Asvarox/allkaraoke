var sF=Object.defineProperty;var aF=(e,t,n)=>t in e?sF(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var yh=(e,t,n)=>aF(e,typeof t!="symbol"?t+"":t,n);(function(){try{var e=typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{},t=new e.Error().stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="51da5d93-64c1-44f7-997b-6b744452a2e0",e._sentryDebugIdIdentifier="sentry-dbid-51da5d93-64c1-44f7-997b-6b744452a2e0")}catch{}})();{var Ku=typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{};Ku._sentryModuleMetadata=Ku._sentryModuleMetadata||{},Ku._sentryModuleMetadata[new Ku.Error().stack]=Object.assign({},Ku._sentryModuleMetadata[new Ku.Error().stack],{"_sentryBundlerPluginAppKey:allkaraoke-party-sentry-key":!0})}function oF(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(e,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}var lF=typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{};lF.SENTRY_RELEASE={id:"62cfeb3c24001821c7b6667029cfb6e69052c2df"};(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const l of s.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var fm=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Pr(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function cF(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var i=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return e[r]}})}),n}var e1={exports:{}},vh={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bk;function uF(){if(Bk)return vh;Bk=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(r,i,s){var l=null;if(s!==void 0&&(l=""+s),i.key!==void 0&&(l=""+i.key),"key"in i){s={};for(var c in i)c!=="key"&&(s[c]=i[c])}else s=i;return i=s.ref,{$$typeof:e,type:r,key:l,ref:i!==void 0?i:null,props:s}}return vh.Fragment=t,vh.jsx=n,vh.jsxs=n,vh}var Nk;function dF(){return Nk||(Nk=1,e1.exports=uF()),e1.exports}var g=dF();class Gs{constructor(){this.listeners=[],this.onUpdate=(...t)=>{this.listeners.forEach(n=>n(...t))},this.addListener=t=>(this.listeners.push(t),()=>{this.removeListener(t)}),this.removeListener=t=>{this.listeners=this.listeners.filter(n=>n!==t)},this.clearAllListeners=()=>{console.log("clearing all listeners"),this.listeners=[]}}}const $_=e=>({setItem:(t,n)=>{e.setItem(t,JSON.stringify(n))},getItem:t=>{const n=e.getItem(t);if(n===null)return null;try{return JSON.parse(n)}catch{return n}},removeItem:t=>{e.removeItem(t)},clear:()=>{e.clear()},keys:()=>{const t=[];for(let n=0,r=e.length;n<r;++n)t.push(e.key(n));return t}});class U_{constructor(){this.store={}}setItem(t,n){this.store[t]=n}getItem(t){const n=this.store[t];return n===void 0?null:n}removeItem(t){delete this.store[t]}get length(){return Object.keys(this.store).length}keys(){return Object.keys(this.store)}key(t){return Object.keys(this.store)[t]}clear(){this.store={}}}const Lk=$_((global==null?void 0:global.localStorage)??new U_),at={...Lk,local:Lk,session:$_((global==null?void 0:global.sessionStorage)??new U_),memory:$_(new U_)},H_="CAMERA_GRANT_KEY",Fk=at.local.getItem(H_);class fF extends Gs{constructor(){super(),this.stream=null,this.recorder=null,this.videoData=[],this.permissionGranted=Fk!==null?JSON.parse(Fk):null,this.requestPermissions=async()=>{try{this.stream=await navigator.mediaDevices.getUserMedia({video:!0}),this.permissionGranted=!0,await this.stopRecord()}catch{this.permissionGranted=!1}return at.local.setItem(H_,JSON.stringify(this.permissionGranted)),this.onUpdate(this.permissionGranted),this.permissionGranted},this.disable=()=>{this.permissionGranted=!1,at.local.setItem(H_,JSON.stringify(this.permissionGranted)),this.onUpdate(this.permissionGranted)},this.startRecord=async()=>{if(this.permissionGranted)try{this.stream=await navigator.mediaDevices.getUserMedia({video:{frameRate:2}});const t=this.stream.getVideoTracks()[0].getSettings();this.video.width=t.width??this.video.width,this.video.height=t.height??this.video.height,this.canvas.width=this.video.width,this.canvas.height=this.video.height,this.video.srcObject=this.stream,await this.video.play(),this.recorder=new MediaRecorder(this.stream,{mimeType:"video/webm"}),this.recorder.ondataavailable=n=>{this.videoData.push(n.data)},this.recorder.start()}catch(t){console.warn(t)}},this.getVideo=()=>{const t=new Blob(this.videoData,{type:"video/webm"});return URL.createObjectURL(t)},this.stopRecord=async()=>{var t,n;this.permissionGranted&&((t=this.recorder)==null||t.stop(),(n=this.stream)==null||n.getTracks().forEach(r=>r.stop()))},this.clearData=()=>{this.videoData.length=0},this.restartRecord=async()=>{await this.stopRecord(),await this.clearData(),await this.startRecord()},this.getPermissionStatus=()=>this.permissionGranted,this.getLiveCameraFeed=async()=>{if(this.permissionGranted)try{return this.stream=await navigator.mediaDevices.getUserMedia({video:!0}),this.stream}catch(t){console.warn(t)}},this.video=document.createElement("video"),this.video.width=480,this.video.height=this.video.width*(9/16),this.canvas=document.createElement("canvas"),this.canvas.width=this.video.width,this.canvas.height=this.video.height}}const Fi=new fF;var fe=typeof window<"u"?window:void 0,zi=typeof globalThis<"u"?globalThis:fe,Dj=Array.prototype,zk=Dj.forEach,$k=Dj.indexOf,is=zi==null?void 0:zi.navigator,qe=zi==null?void 0:zi.document,Li=zi==null?void 0:zi.location,q_=zi==null?void 0:zi.fetch,G_=zi!=null&&zi.XMLHttpRequest&&"withCredentials"in new zi.XMLHttpRequest?zi.XMLHttpRequest:void 0,Uk=zi==null?void 0:zi.AbortController,$r=is==null?void 0:is.userAgent,Ct=fe??{},ul={DEBUG:!1,LIB_VERSION:"1.194.1"},Hy={},H0=function(e){return e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")};function vd(e,t,n){if(mr(e)){if(zk&&e.forEach===zk)e.forEach(t,n);else if("length"in e&&e.length===+e.length){for(var r=0,i=e.length;r<i;r++)if(r in e&&t.call(n,e[r],r)===Hy)return}}}function wn(e,t,n){if(!In(e)){if(mr(e))return vd(e,t,n);if(vF(e)){for(var r of e.entries())if(t.call(n,r[1],r[0])===Hy)return}else for(var i in e)if(Lj.call(e,i)&&t.call(n,e[i],i)===Hy)return}}var Ti=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return vd(n,function(i){for(var s in i)i[s]!==void 0&&(e[s]=i[s])}),e};function Ut(e,t){return e.indexOf(t)!==-1}function gy(e){for(var t=Object.keys(e),n=t.length,r=new Array(n);n--;)r[n]=[t[n],e[t[n]]];return r}var Hk=function(e){try{return e()}catch{return}},hF=function(e){return function(){try{for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(this,n)}catch(i){xe.critical("Implementation error. Please turn on debug mode and open a ticket on https://app.posthog.com/home#panel=support%3Asupport%3A."),xe.critical(i)}}},qy=function(e){var t={};return wn(e,function(n,r){fi(n)&&n.length>0&&(t[r]=n)}),t},Y_=function(e){return e.replace(/^\$/,"")};function pF(e,t){return n=e,r=s=>fi(s)&&!Il(t)?s.slice(0,t):s,i=new Set,function s(l,c){return l!==Object(l)?r?r(l,c):l:i.has(l)?void 0:(i.add(l),mr(l)?(d=[],vd(l,u=>{d.push(s(u))})):(d={},wn(l,(u,p)=>{i.has(u)||(d[p]=s(u,p))})),d);var d}(n);var n,r,i}var gF=function(e){var t,n,r,i,s="";for(t=n=0,r=(e=(e+"").replace(/\r\n/g,`
`).replace(/\r/g,`
`)).length,i=0;i<r;i++){var l=e.charCodeAt(i),c=null;l<128?n++:c=l>127&&l<2048?String.fromCharCode(l>>6|192,63&l|128):String.fromCharCode(l>>12|224,l>>6&63|128,63&l|128),Il(c)||(n>t&&(s+=e.substring(t,n)),s+=c,t=n=i+1)}return n>t&&(s+=e.substring(t,e.length)),s},mo=function(){function e(t){return t&&(t.preventDefault=e.preventDefault,t.stopPropagation=e.stopPropagation),t}return e.preventDefault=function(){this.returnValue=!1},e.stopPropagation=function(){this.cancelBubble=!0},function(t,n,r,i,s){if(t)if(t.addEventListener&&!i)t.addEventListener(n,r,!!s);else{var l="on"+n,c=t[l];t[l]=function(d,u,p){return function(h){if(h=h||e(fe==null?void 0:fe.event)){var y,v=!0;Vs(p)&&(y=p(h));var b=u.call(d,h);return y!==!1&&b!==!1||(v=!1),v}}}(t,r,c)}else xe.error("No valid element provided to register_event")}}();function Bj(e,t){for(var n=0;n<e.length;n++)if(t(e[n]))return e[n]}var ia,t1="$copy_autocapture",mF=["$snapshot","$pageview","$pageleave","$set","survey dismissed","survey sent","survey shown","$identify","$groupidentify","$create_alias","$$client_ingestion_warning","$web_experiment_applied","$feature_enrollment_update","$feature_flag_called"];(function(e){e.GZipJS="gzip-js",e.Base64="base64"})(ia||(ia={}));var yF=Array.isArray,Nj=Object.prototype,Lj=Nj.hasOwnProperty,q0=Nj.toString,mr=yF||function(e){return q0.call(e)==="[object Array]"},Vs=e=>typeof e=="function",Cr=e=>e===Object(e)&&!mr(e),ud=e=>{if(Cr(e)){for(var t in e)if(Lj.call(e,t))return!1;return!0}return!1},tt=e=>e===void 0,fi=e=>q0.call(e)=="[object String]",qk=e=>fi(e)&&e.trim().length===0,Il=e=>e===null,In=e=>tt(e)||Il(e),ns=e=>q0.call(e)=="[object Number]",Sc=e=>q0.call(e)==="[object Boolean]",vF=e=>e instanceof FormData,AF=e=>Ut(mF,e),Gk="[PostHog.js]",xe={_log:function(e){if(fe&&(ul.DEBUG||Ct.POSTHOG_DEBUG)&&!tt(fe.console)&&fe.console){for(var t=("__rrweb_original__"in fe.console[e])?fe.console[e].__rrweb_original__:fe.console[e],n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];t(Gk,...r)}},info:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];xe._log("log",...t)},warn:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];xe._log("warn",...t)},error:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];xe._log("error",...t)},critical:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];console.error(Gk,...t)},uninitializedWarning:e=>{xe.error("You must initialize PostHog before calling ".concat(e))}},Yk=(e,t,n)=>{if(e.config.disable_external_dependency_loading)return xe.warn("".concat(t," was requested but loading of external scripts is disabled.")),n("Loading of external scripts is disabled");var r=()=>{if(!qe)return n("document not found");var i=qe.createElement("script");i.type="text/javascript",i.crossOrigin="anonymous",i.src=t,i.onload=c=>n(void 0,c),i.onerror=c=>n(c);var s,l=qe.querySelectorAll("body > script");l.length>0?(s=l[0].parentNode)===null||s===void 0||s.insertBefore(i,l[0]):qe.body.appendChild(i)};qe!=null&&qe.body?r():qe==null||qe.addEventListener("DOMContentLoaded",r)};function Kk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Oe(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Kk(Object(n),!0).forEach(function(r){Le(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Kk(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Le(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Fj(e,t){if(e==null)return{};var n,r,i=function(l,c){if(l==null)return{};var d,u,p={},h=Object.keys(l);for(u=0;u<h.length;u++)d=h[u],c.indexOf(d)>=0||(p[d]=l[d]);return p}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}Ct.__PosthogExtensions__=Ct.__PosthogExtensions__||{},Ct.__PosthogExtensions__.loadExternalDependency=(e,t,n)=>{var r="/static/".concat(t,".js")+"?v=".concat(e.version);if(t==="toolbar"){var i=3e5,s=Math.floor(Date.now()/i)*i;r="".concat(r,"&t=").concat(s)}var l=e.requestRouter.endpointFor("assets",r);Yk(e,l,n)},Ct.__PosthogExtensions__.loadSiteApp=(e,t,n)=>{var r=e.requestRouter.endpointFor("api",t);Yk(e,r,n)};var zj="$people_distinct_id",Lh="__alias",Fh="__timers",Wk="$autocapture_disabled_server_side",K_="$heatmaps_enabled_server_side",Qk="$exception_capture_enabled_server_side",Xk="$web_vitals_enabled_server_side",$j="$dead_clicks_enabled_server_side",Jk="$web_vitals_allowed_metrics",W_="$session_recording_enabled_server_side",Zk="$console_log_recording_enabled_server_side",eM="$session_recording_network_payload_capture",tM="$session_recording_canvas_recording",nM="$replay_sample_rate",rM="$replay_minimum_duration",iM="$replay_script_config",Gy="$sesid",zh="$session_is_sampled",n1="$session_recording_url_trigger_activated_session",r1="$session_recording_event_trigger_activated_session",dd="$enabled_feature_flags",Q_="$early_access_features",fd="$stored_person_properties",dl="$stored_group_properties",X_="$surveys",hm="$surveys_activated",Yy="$flag_call_reported",uo="$user_state",J_="$client_session_props",Z_="$capture_rate_limit",eS="$initial_campaign_params",tS="$initial_referrer_info",nS="$initial_person_info",Ky="$epp",Uj="__POSTHOG_TOOLBAR__",bF=[zj,Lh,"__cmpns",Fh,W_,K_,Gy,dd,uo,Q_,dl,fd,X_,Yy,J_,Z_,eS,tS,Ky],i1="$active_feature_flags",pm="$override_feature_flags",sM="$feature_flag_payloads",aM=e=>{var t={};for(var[n,r]of gy(e||{}))r&&(t[n]=r);return t};class _F{constructor(t){this.instance=t,this._override_warning=!1,this.featureFlagEventHandlers=[],this.reloadFeatureFlagsQueued=!1,this.reloadFeatureFlagsInAction=!1}getFlags(){return Object.keys(this.getFlagVariants())}getFlagVariants(){var t=this.instance.get_property(dd),n=this.instance.get_property(pm);if(!n)return t||{};for(var r=Ti({},t),i=Object.keys(n),s=0;s<i.length;s++)r[i[s]]=n[i[s]];return this._override_warning||(xe.warn(" Overriding feature flags!",{enabledFlags:t,overriddenFlags:n,finalFlags:r}),this._override_warning=!0),r}getFlagPayloads(){return this.instance.get_property(sM)||{}}reloadFeatureFlags(){this.reloadFeatureFlagsQueued||(this.reloadFeatureFlagsQueued=!0,this._startReloadTimer())}setAnonymousDistinctId(t){this.$anon_distinct_id=t}setReloadingPaused(t){this.reloadFeatureFlagsInAction=t}resetRequestQueue(){this.reloadFeatureFlagsQueued=!1}_startReloadTimer(){this.reloadFeatureFlagsQueued&&!this.reloadFeatureFlagsInAction&&setTimeout(()=>{!this.reloadFeatureFlagsInAction&&this.reloadFeatureFlagsQueued&&(this.reloadFeatureFlagsQueued=!1,this._reloadFeatureFlagsRequest())},5)}_reloadFeatureFlagsRequest(){if(!this.instance.config.advanced_disable_feature_flags){this.setReloadingPaused(!0);var t=this.instance.config.token,n=this.instance.get_property(fd),r=this.instance.get_property(dl),i={token:t,distinct_id:this.instance.get_distinct_id(),groups:this.instance.getGroups(),$anon_distinct_id:this.$anon_distinct_id,person_properties:n,group_properties:r,disable_flags:this.instance.config.advanced_disable_feature_flags||void 0};this.instance._send_request({method:"POST",url:this.instance.requestRouter.endpointFor("api","/decide/?v=3"),data:i,compression:this.instance.config.disable_compression?void 0:ia.Base64,timeout:this.instance.config.feature_flag_request_timeout_ms,callback:s=>{var l;this.setReloadingPaused(!1);var c=!0;s.statusCode===200&&(this.$anon_distinct_id=void 0,c=!1),this.receivedFeatureFlags((l=s.json)!==null&&l!==void 0?l:{},c),this._startReloadTimer()}})}}getFeatureFlag(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.instance.decideEndpointWasHit||this.getFlags()&&this.getFlags().length>0){var r,i=this.getFlagVariants()[t],s="".concat(i),l=this.instance.get_property(Yy)||{};return(n.send_event||!("send_event"in n))&&(!(t in l)||!l[t].includes(s))&&(mr(l[t])?l[t].push(s):l[t]=[s],(r=this.instance.persistence)===null||r===void 0||r.register({[Yy]:l}),this.instance.capture("$feature_flag_called",{$feature_flag:t,$feature_flag_response:i})),i}xe.warn('getFeatureFlag for key "'+t+`" failed. Feature flags didn't load in time.`)}getFeatureFlagPayload(t){return this.getFlagPayloads()[t]}isFeatureEnabled(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.instance.decideEndpointWasHit||this.getFlags()&&this.getFlags().length>0)return!!this.getFeatureFlag(t,n);xe.warn('isFeatureEnabled for key "'+t+`" failed. Feature flags didn't load in time.`)}addFeatureFlagsHandler(t){this.featureFlagEventHandlers.push(t)}removeFeatureFlagsHandler(t){this.featureFlagEventHandlers=this.featureFlagEventHandlers.filter(n=>n!==t)}receivedFeatureFlags(t,n){if(this.instance.persistence){this.instance.decideEndpointWasHit=!0;var r=this.getFlagVariants(),i=this.getFlagPayloads();(function(s,l){var c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},d=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},u=s.featureFlags,p=s.featureFlagPayloads;if(u)if(mr(u)){var h={};if(u)for(var y=0;y<u.length;y++)h[u[y]]=!0;l&&l.register({[i1]:u,[dd]:h})}else{var v=u,b=p;s.errorsWhileComputingFlags&&(v=Oe(Oe({},c),v),b=Oe(Oe({},d),b)),l&&l.register({[i1]:Object.keys(aM(v)),[dd]:v||{},[sM]:b||{}})}})(t,this.instance.persistence,r,i),this._fireFeatureFlagsCallbacks(n)}}override(t){var n=arguments.length>1&&arguments[1]!==void 0&&arguments[1];if(!this.instance.__loaded||!this.instance.persistence)return xe.uninitializedWarning("posthog.feature_flags.override");if(this._override_warning=n,t===!1)this.instance.persistence.unregister(pm);else if(mr(t)){for(var r={},i=0;i<t.length;i++)r[t[i]]=!0;this.instance.persistence.register({[pm]:r})}else this.instance.persistence.register({[pm]:t})}onFeatureFlags(t){if(this.addFeatureFlagsHandler(t),this.instance.decideEndpointWasHit){var{flags:n,flagVariants:r}=this._prepareFeatureFlagsForCallbacks();t(n,r)}return()=>this.removeFeatureFlagsHandler(t)}updateEarlyAccessFeatureEnrollment(t,n){var r,i={["$feature_enrollment/".concat(t)]:n};this.instance.capture("$feature_enrollment_update",{$feature_flag:t,$feature_enrollment:n,$set:i}),this.setPersonPropertiesForFlags(i,!1);var s=Oe(Oe({},this.getFlagVariants()),{},{[t]:n});(r=this.instance.persistence)===null||r===void 0||r.register({[i1]:Object.keys(aM(s)),[dd]:s}),this._fireFeatureFlagsCallbacks()}getEarlyAccessFeatures(t){var n=arguments.length>1&&arguments[1]!==void 0&&arguments[1],r=this.instance.get_property(Q_);if(r&&!n)return t(r);this.instance._send_request({transport:"XHR",url:this.instance.requestRouter.endpointFor("api","/api/early_access_features/?token=".concat(this.instance.config.token)),method:"GET",callback:i=>{var s;if(i.json){var l=i.json.earlyAccessFeatures;return(s=this.instance.persistence)===null||s===void 0||s.register({[Q_]:l}),t(l)}}})}_prepareFeatureFlagsForCallbacks(){var t=this.getFlags(),n=this.getFlagVariants();return{flags:t.filter(r=>n[r]),flagVariants:Object.keys(n).filter(r=>n[r]).reduce((r,i)=>(r[i]=n[i],r),{})}}_fireFeatureFlagsCallbacks(t){var{flags:n,flagVariants:r}=this._prepareFeatureFlagsForCallbacks();this.featureFlagEventHandlers.forEach(i=>i(n,r,{errorsLoading:t}))}setPersonPropertiesForFlags(t){var n=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],r=this.instance.get_property(fd)||{};this.instance.register({[fd]:Oe(Oe({},r),t)}),n&&this.instance.reloadFeatureFlags()}resetPersonPropertiesForFlags(){this.instance.unregister(fd)}setGroupPropertiesForFlags(t){var n=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],r=this.instance.get_property(dl)||{};Object.keys(r).length!==0&&Object.keys(r).forEach(i=>{r[i]=Oe(Oe({},r[i]),t[i]),delete t[i]}),this.instance.register({[dl]:Oe(Oe({},r),t)}),n&&this.instance.reloadFeatureFlags()}resetGroupPropertiesForFlags(t){if(t){var n=this.instance.get_property(dl)||{};this.instance.register({[dl]:Oe(Oe({},n),{},{[t]:{}})})}else this.instance.unregister(dl)}}Math.trunc||(Math.trunc=function(e){return e<0?Math.ceil(e):Math.floor(e)}),Number.isInteger||(Number.isInteger=function(e){return ns(e)&&isFinite(e)&&Math.floor(e)===e});var oM="0123456789abcdef";class Wy{constructor(t){if(this.bytes=t,t.length!==16)throw new TypeError("not 128-bit length")}static fromFieldsV7(t,n,r,i){if(!Number.isInteger(t)||!Number.isInteger(n)||!Number.isInteger(r)||!Number.isInteger(i)||t<0||n<0||r<0||i<0||t>0xffffffffffff||n>4095||r>1073741823||i>4294967295)throw new RangeError("invalid field value");var s=new Uint8Array(16);return s[0]=t/Math.pow(2,40),s[1]=t/Math.pow(2,32),s[2]=t/Math.pow(2,24),s[3]=t/Math.pow(2,16),s[4]=t/Math.pow(2,8),s[5]=t,s[6]=112|n>>>8,s[7]=n,s[8]=128|r>>>24,s[9]=r>>>16,s[10]=r>>>8,s[11]=r,s[12]=i>>>24,s[13]=i>>>16,s[14]=i>>>8,s[15]=i,new Wy(s)}toString(){for(var t="",n=0;n<this.bytes.length;n++)t=t+oM.charAt(this.bytes[n]>>>4)+oM.charAt(15&this.bytes[n]),n!==3&&n!==5&&n!==7&&n!==9||(t+="-");if(t.length!==36)throw new Error("Invalid UUIDv7 was generated");return t}clone(){return new Wy(this.bytes.slice(0))}equals(t){return this.compareTo(t)===0}compareTo(t){for(var n=0;n<16;n++){var r=this.bytes[n]-t.bytes[n];if(r!==0)return Math.sign(r)}return 0}}class SF{constructor(){Le(this,"timestamp",0),Le(this,"counter",0),Le(this,"random",new xF)}generate(){var t=this.generateOrAbort();if(tt(t)){this.timestamp=0;var n=this.generateOrAbort();if(tt(n))throw new Error("Could not generate UUID after timestamp reset");return n}return t}generateOrAbort(){var t=Date.now();if(t>this.timestamp)this.timestamp=t,this.resetCounter();else{if(!(t+1e4>this.timestamp))return;this.counter++,this.counter>4398046511103&&(this.timestamp++,this.resetCounter())}return Wy.fromFieldsV7(this.timestamp,Math.trunc(this.counter/Math.pow(2,30)),this.counter&Math.pow(2,30)-1,this.random.nextUint32())}resetCounter(){this.counter=1024*this.random.nextUint32()+(1023&this.random.nextUint32())}}var lM,Hj=e=>{if(typeof UUIDV7_DENY_WEAK_RNG<"u"&&UUIDV7_DENY_WEAK_RNG)throw new Error("no cryptographically strong RNG available");for(var t=0;t<e.length;t++)e[t]=65536*Math.trunc(65536*Math.random())+Math.trunc(65536*Math.random());return e};fe&&!tt(fe.crypto)&&crypto.getRandomValues&&(Hj=e=>crypto.getRandomValues(e));class xF{constructor(){Le(this,"buffer",new Uint32Array(8)),Le(this,"cursor",1/0)}nextUint32(){return this.cursor>=this.buffer.length&&(Hj(this.buffer),this.cursor=0),this.buffer[this.cursor++]}}var gl=()=>wF().toString(),wF=()=>(lM||(lM=new SF)).generate(),EF="Thu, 01 Jan 1970 00:00:00 GMT",Ah="",TF=/[a-z0-9][a-z0-9-]+\.[a-z]{2,}$/i;function CF(e,t){if(t){var n=function(i){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:qe;if(Ah)return Ah;if(!s||["localhost","127.0.0.1"].includes(i))return"";for(var l=i.split("."),c=Math.min(l.length,8),d="dmn_chk_"+gl(),u=new RegExp("(^|;)\\s*"+d+"=1");!Ah&&c--;){var p=l.slice(c).join("."),h=d+"=1;domain=."+p;s.cookie=h,u.test(s.cookie)&&(s.cookie=h+";expires="+EF,Ah=p)}return Ah}(e);if(!n){var r=(i=>{var s=i.match(TF);return s?s[0]:""})(e);r!==n&&xe.info("Warning: cookie subdomain discovery mismatch",r,n),n=r}return n?"; domain=."+n:""}return""}var bo={is_supported:()=>!!qe,error:function(e){xe.error("cookieStore error: "+e)},get:function(e){if(qe){try{for(var t=e+"=",n=qe.cookie.split(";").filter(s=>s.length),r=0;r<n.length;r++){for(var i=n[r];i.charAt(0)==" ";)i=i.substring(1,i.length);if(i.indexOf(t)===0)return decodeURIComponent(i.substring(t.length,i.length))}}catch{}return null}},parse:function(e){var t;try{t=JSON.parse(bo.get(e))||{}}catch{}return t},set:function(e,t,n,r,i){if(qe)try{var s="",l="",c=CF(qe.location.hostname,r);if(n){var d=new Date;d.setTime(d.getTime()+24*n*60*60*1e3),s="; expires="+d.toUTCString()}i&&(l="; secure");var u=e+"="+encodeURIComponent(JSON.stringify(t))+s+"; SameSite=Lax; path=/"+c+l;return u.length>3686.4&&xe.warn("cookieStore warning: large cookie, len="+u.length),qe.cookie=u,u}catch{return}},remove:function(e,t){try{bo.set(e,"",-1,t)}catch{return}}},s1=null,Or={is_supported:function(){if(!Il(s1))return s1;var e=!0;if(tt(fe))e=!1;else try{var t="__mplssupport__";Or.set(t,"xyz"),Or.get(t)!=='"xyz"'&&(e=!1),Or.remove(t)}catch{e=!1}return e||xe.error("localStorage unsupported; falling back to cookie store"),s1=e,e},error:function(e){xe.error("localStorage error: "+e)},get:function(e){try{return fe==null?void 0:fe.localStorage.getItem(e)}catch(t){Or.error(t)}return null},parse:function(e){try{return JSON.parse(Or.get(e))||{}}catch{}return null},set:function(e,t){try{fe==null||fe.localStorage.setItem(e,JSON.stringify(t))}catch(n){Or.error(n)}},remove:function(e){try{fe==null||fe.localStorage.removeItem(e)}catch(t){Or.error(t)}}},kF=["distinct_id",Gy,zh,Ky,nS],gm=Oe(Oe({},Or),{},{parse:function(e){try{var t={};try{t=bo.parse(e)||{}}catch{}var n=Ti(t,JSON.parse(Or.get(e)||"{}"));return Or.set(e,n),n}catch{}return null},set:function(e,t,n,r,i,s){try{Or.set(e,t,void 0,void 0,s);var l={};kF.forEach(c=>{t[c]&&(l[c]=t[c])}),Object.keys(l).length&&bo.set(e,l,n,r,i,s)}catch(c){Or.error(c)}},remove:function(e,t){try{fe==null||fe.localStorage.removeItem(e),bo.remove(e,t)}catch(n){Or.error(n)}}}),mm={},MF={is_supported:function(){return!0},error:function(e){xe.error("memoryStorage error: "+e)},get:function(e){return mm[e]||null},parse:function(e){return mm[e]||null},set:function(e,t){mm[e]=t},remove:function(e){delete mm[e]}},ac=null,ei={is_supported:function(){if(!Il(ac))return ac;if(ac=!0,tt(fe))ac=!1;else try{var e="__support__";ei.set(e,"xyz"),ei.get(e)!=='"xyz"'&&(ac=!1),ei.remove(e)}catch{ac=!1}return ac},error:function(e){xe.error("sessionStorage error: ",e)},get:function(e){try{return fe==null?void 0:fe.sessionStorage.getItem(e)}catch(t){ei.error(t)}return null},parse:function(e){try{return JSON.parse(ei.get(e))||null}catch{}return null},set:function(e,t){try{fe==null||fe.sessionStorage.setItem(e,JSON.stringify(t))}catch(n){ei.error(n)}},remove:function(e){try{fe==null||fe.sessionStorage.removeItem(e)}catch(t){ei.error(t)}}},RF=["localhost","127.0.0.1"],Ad=e=>{var t=qe==null?void 0:qe.createElement("a");return tt(t)?null:(t.href=e,t)},Pd=function(e,t){return!!function(n){try{new RegExp(n)}catch{return!1}return!0}(t)&&new RegExp(t).test(e)},IF=function(e){var t,n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"&",i=[];return wn(e,function(s,l){tt(s)||tt(l)||l==="undefined"||(t=encodeURIComponent((c=>c instanceof File)(s)?s.name:s.toString()),n=encodeURIComponent(l),i[i.length]=n+"="+t)}),i.join(r)},Qy=function(e,t){for(var n,r=((e.split("#")[0]||"").split("?")[1]||"").split("&"),i=0;i<r.length;i++){var s=r[i].split("=");if(s[0]===t){n=s;break}}if(!mr(n)||n.length<2)return"";var l=n[1];try{l=decodeURIComponent(l)}catch{xe.error("Skipping decoding for malformed query param: "+l)}return l.replace(/\+/g," ")},Xy=function(e,t){var n=e.match(new RegExp(t+"=([^&]*)"));return n?n[1]:null},Bs="Mobile",Jy="iOS",ka="Android",up="Tablet",qj=ka+" "+up,Gj="iPad",Yj="Apple",Kj=Yj+" Watch",dp="Safari",Vd="BlackBerry",Wj="Samsung",Qj=Wj+"Browser",Xj=Wj+" Internet",vl="Chrome",OF=vl+" OS",Jj=vl+" "+Jy,rw="Internet Explorer",Zj=rw+" "+Bs,iw="Opera",jF=iw+" Mini",sw="Edge",eP="Microsoft "+sw,bd="Firefox",tP=bd+" "+Jy,fp="Nintendo",hp="PlayStation",_d="Xbox",nP=ka+" "+Bs,rP=Bs+" "+dp,$h="Windows",rS=$h+" Phone",cM="Nokia",iS="Ouya",iP="Generic",PF=iP+" "+Bs.toLowerCase(),sP=iP+" "+up.toLowerCase(),sS="Konqueror",Ei="(\\d+(\\.\\d+)?)",a1=new RegExp("Version/"+Ei),VF=new RegExp(_d,"i"),DF=new RegExp(hp+" \\w+","i"),BF=new RegExp(fp+" \\w+","i"),aw=new RegExp(Vd+"|PlayBook|BB10","i"),NF={"NT3.51":"NT 3.11","NT4.0":"NT 4.0","5.0":"2000",5.1:"XP",5.2:"XP","6.0":"Vista",6.1:"7",6.2:"8",6.3:"8.1",6.4:"10","10.0":"10"},LF=(e,t)=>t&&Ut(t,Yj)||function(n){return Ut(n,dp)&&!Ut(n,vl)&&!Ut(n,ka)}(e),uM=function(e,t){return t=t||"",Ut(e," OPR/")&&Ut(e,"Mini")?jF:Ut(e," OPR/")?iw:aw.test(e)?Vd:Ut(e,"IE"+Bs)||Ut(e,"WPDesktop")?Zj:Ut(e,Qj)?Xj:Ut(e,sw)||Ut(e,"Edg/")?eP:Ut(e,"FBIOS")?"Facebook "+Bs:Ut(e,"UCWEB")||Ut(e,"UCBrowser")?"UC Browser":Ut(e,"CriOS")?Jj:Ut(e,"CrMo")?vl:Ut(e,ka)&&Ut(e,dp)?nP:Ut(e,vl)?vl:Ut(e,"FxiOS")?tP:Ut(e.toLowerCase(),sS.toLowerCase())?sS:LF(e,t)?Ut(e,Bs)?rP:dp:Ut(e,bd)?bd:Ut(e,"MSIE")||Ut(e,"Trident/")?rw:Ut(e,"Gecko")?bd:""},FF={[Zj]:[new RegExp("rv:"+Ei)],[eP]:[new RegExp(sw+"?\\/"+Ei)],[vl]:[new RegExp("("+vl+"|CrMo)\\/"+Ei)],[Jj]:[new RegExp("CriOS\\/"+Ei)],"UC Browser":[new RegExp("(UCBrowser|UCWEB)\\/"+Ei)],[dp]:[a1],[rP]:[a1],[iw]:[new RegExp("(Opera|OPR)\\/"+Ei)],[bd]:[new RegExp(bd+"\\/"+Ei)],[tP]:[new RegExp("FxiOS\\/"+Ei)],[sS]:[new RegExp("Konqueror[:/]?"+Ei,"i")],[Vd]:[new RegExp(Vd+" "+Ei),a1],[nP]:[new RegExp("android\\s"+Ei,"i")],[Xj]:[new RegExp(Qj+"\\/"+Ei)],[rw]:[new RegExp("(rv:|MSIE )"+Ei)],Mozilla:[new RegExp("rv:"+Ei)]},dM=[[new RegExp(_d+"; "+_d+" (.*?)[);]","i"),e=>[_d,e&&e[1]||""]],[new RegExp(fp,"i"),[fp,""]],[new RegExp(hp,"i"),[hp,""]],[aw,[Vd,""]],[new RegExp($h,"i"),(e,t)=>{if(/Phone/.test(t)||/WPDesktop/.test(t))return[rS,""];if(new RegExp(Bs).test(t)&&!/IEMobile\b/.test(t))return[$h+" "+Bs,""];var n=/Windows NT ([0-9.]+)/i.exec(t);if(n&&n[1]){var r=n[1],i=NF[r]||"";return/arm/i.test(t)&&(i="RT"),[$h,i]}return[$h,""]}],[/((iPhone|iPad|iPod).*?OS (\d+)_(\d+)_?(\d+)?|iPhone)/,e=>{if(e&&e[3]){var t=[e[3],e[4],e[5]||"0"];return[Jy,t.join(".")]}return[Jy,""]}],[/(watch.*\/(\d+\.\d+\.\d+)|watch os,(\d+\.\d+),)/i,e=>{var t="";return e&&e.length>=3&&(t=tt(e[2])?e[3]:e[2]),["watchOS",t]}],[new RegExp("("+ka+" (\\d+)\\.(\\d+)\\.?(\\d+)?|"+ka+")","i"),e=>{if(e&&e[2]){var t=[e[2],e[3],e[4]||"0"];return[ka,t.join(".")]}return[ka,""]}],[/Mac OS X (\d+)[_.](\d+)[_.]?(\d+)?/i,e=>{var t=["Mac OS X",""];if(e&&e[1]){var n=[e[1],e[2],e[3]||"0"];t[1]=n.join(".")}return t}],[/Mac/i,["Mac OS X",""]],[/CrOS/,[OF,""]],[/Linux|debian/i,["Linux",""]]],fM=function(e){return BF.test(e)?fp:DF.test(e)?hp:VF.test(e)?_d:new RegExp(iS,"i").test(e)?iS:new RegExp("("+rS+"|WPDesktop)","i").test(e)?rS:/iPad/.test(e)?Gj:/iPod/.test(e)?"iPod Touch":/iPhone/.test(e)?"iPhone":/(watch)(?: ?os[,/]|\d,\d\/)[\d.]+/i.test(e)?Kj:aw.test(e)?Vd:/(kobo)\s(ereader|touch)/i.test(e)?"Kobo":new RegExp(cM,"i").test(e)?cM:/(kf[a-z]{2}wi|aeo[c-r]{2})( bui|\))/i.test(e)||/(kf[a-z]+)( bui|\)).+silk\//i.test(e)?"Kindle Fire":/(Android|ZTE)/i.test(e)?!new RegExp(Bs).test(e)||/(9138B|TB782B|Nexus [97]|pixel c|HUAWEISHT|BTV|noble nook|smart ultra 6)/i.test(e)?/pixel[\daxl ]{1,6}/i.test(e)&&!/pixel c/i.test(e)||/(huaweimed-al00|tah-|APA|SM-G92|i980|zte|U304AA)/i.test(e)||/lmy47v/i.test(e)&&!/QTAQZ3/i.test(e)?ka:qj:ka:new RegExp("(pda|"+Bs+")","i").test(e)?PF:new RegExp(up,"i").test(e)&&!new RegExp(up+" pc","i").test(e)?sP:""},ym="https?://(.*)",zF=["utm_source","utm_medium","utm_campaign","utm_content","utm_term","gclid","gad_source","gclsrc","dclid","gbraid","wbraid","fbclid","msclkid","twclid","li_fat_id","mc_cid","igshid","ttclid","rdt_cid"],lr={campaignParams:function(e){return qe?this._campaignParamsFromUrl(qe.URL,e):{}},_campaignParamsFromUrl:function(e,t){var n=zF.concat(t||[]),r={};return wn(n,function(i){var s=Qy(e,i);r[i]=s||null}),r},_searchEngine:function(e){return e?e.search(ym+"google.([^/?]*)")===0?"google":e.search(ym+"bing.com")===0?"bing":e.search(ym+"yahoo.com")===0?"yahoo":e.search(ym+"duckduckgo.com")===0?"duckduckgo":null:null},_searchInfoFromReferrer:function(e){var t=lr._searchEngine(e),n=t!="yahoo"?"q":"p",r={};if(!Il(t)){r.$search_engine=t;var i=qe?Qy(qe.referrer,n):"";i.length&&(r.ph_keyword=i)}return r},searchInfo:function(){var e=qe==null?void 0:qe.referrer;return e?this._searchInfoFromReferrer(e):{}},browser:uM,browserVersion:function(e,t){var n=uM(e,t),r=FF[n];if(tt(r))return null;for(var i=0;i<r.length;i++){var s=r[i],l=e.match(s);if(l)return parseFloat(l[l.length-2])}return null},browserLanguage:function(){return navigator.language||navigator.userLanguage},browserLanguagePrefix:function(){var e=this.browserLanguage();return typeof e=="string"?e.split("-")[0]:void 0},os:function(e){for(var t=0;t<dM.length;t++){var[n,r]=dM[t],i=n.exec(e),s=i&&(Vs(r)?r(i,e):r);if(s)return s}return["",""]},device:fM,deviceType:function(e){var t=fM(e);return t===Gj||t===qj||t==="Kobo"||t==="Kindle Fire"||t===sP?up:t===fp||t===_d||t===hp||t===iS?"Console":t===Kj?"Wearable":t?Bs:"Desktop"},referrer:function(){return(qe==null?void 0:qe.referrer)||"$direct"},referringDomain:function(){var e;return qe!=null&&qe.referrer&&((e=Ad(qe.referrer))===null||e===void 0?void 0:e.host)||"$direct"},referrerInfo:function(){return{$referrer:this.referrer(),$referring_domain:this.referringDomain()}},initialPersonInfo:function(){return{r:this.referrer().substring(0,1e3),u:Li==null?void 0:Li.href.substring(0,1e3)}},initialPersonPropsFromInfo:function(e){var t,{r:n,u:r}=e,i={$initial_referrer:n,$initial_referring_domain:n==null?void 0:n=="$direct"?"$direct":(t=Ad(n))===null||t===void 0?void 0:t.host};if(r){i.$initial_current_url=r;var s=Ad(r);i.$initial_host=s==null?void 0:s.host,i.$initial_pathname=s==null?void 0:s.pathname,wn(this._campaignParamsFromUrl(r),function(l,c){i["$initial_"+Y_(c)]=l})}return n&&wn(this._searchInfoFromReferrer(n),function(l,c){i["$initial_"+Y_(c)]=l}),i},timezone:function(){try{return Intl.DateTimeFormat().resolvedOptions().timeZone}catch{return}},timezoneOffset:function(){try{return new Date().getTimezoneOffset()}catch{return}},properties:function(){if(!$r)return{};var[e,t]=lr.os($r);return Ti(qy({$os:e,$os_version:t,$browser:lr.browser($r,navigator.vendor),$device:lr.device($r),$device_type:lr.deviceType($r),$timezone:lr.timezone(),$timezone_offset:lr.timezoneOffset()}),{$current_url:Li==null?void 0:Li.href,$host:Li==null?void 0:Li.host,$pathname:Li==null?void 0:Li.pathname,$raw_user_agent:$r.length>1e3?$r.substring(0,997)+"...":$r,$browser_version:lr.browserVersion($r,navigator.vendor),$browser_language:lr.browserLanguage(),$browser_language_prefix:lr.browserLanguagePrefix(),$screen_height:fe==null?void 0:fe.screen.height,$screen_width:fe==null?void 0:fe.screen.width,$viewport_height:fe==null?void 0:fe.innerHeight,$viewport_width:fe==null?void 0:fe.innerWidth,$lib:"web",$lib_version:ul.LIB_VERSION,$insert_id:Math.random().toString(36).substring(2,10)+Math.random().toString(36).substring(2,10),$time:Date.now()/1e3})},people_properties:function(){if(!$r)return{};var[e,t]=lr.os($r);return Ti(qy({$os:e,$os_version:t,$browser:lr.browser($r,navigator.vendor)}),{$browser_version:lr.browserVersion($r,navigator.vendor)})}},$F=["cookie","localstorage","localstorage+cookie","sessionstorage","memory"];class o1{constructor(t){this.config=t,this.props={},this.campaign_params_saved=!1,this.name=(n=>{var r="";return n.token&&(r=n.token.replace(/\+/g,"PL").replace(/\//g,"SL").replace(/=/g,"EQ")),n.persistence_name?"ph_"+n.persistence_name:"ph_"+r+"_posthog"})(t),this.storage=this.buildStorage(t),this.load(),t.debug&&xe.info("Persistence loaded",t.persistence,Oe({},this.props)),this.update_config(t,t),this.save()}buildStorage(t){$F.indexOf(t.persistence.toLowerCase())===-1&&(xe.critical("Unknown persistence type "+t.persistence+"; falling back to localStorage+cookie"),t.persistence="localStorage+cookie");var n=t.persistence.toLowerCase();return n==="localstorage"&&Or.is_supported()?Or:n==="localstorage+cookie"&&gm.is_supported()?gm:n==="sessionstorage"&&ei.is_supported()?ei:n==="memory"?MF:n==="cookie"?bo:gm.is_supported()?gm:bo}properties(){var t={};return wn(this.props,function(n,r){if(r===dd&&Cr(n))for(var i=Object.keys(n),s=0;s<i.length;s++)t["$feature/".concat(i[s])]=n[i[s]];else c=r,d=!1,(Il(l=bF)?d:$k&&l.indexOf===$k?l.indexOf(c)!=-1:(wn(l,function(u){if(d||(d=u===c))return Hy}),d))||(t[r]=n);var l,c,d}),t}load(){if(!this.disabled){var t=this.storage.parse(this.name);t&&(this.props=Ti({},t))}}save(){this.disabled||this.storage.set(this.name,this.props,this.expire_days,this.cross_subdomain,this.secure,this.config.debug)}remove(){this.storage.remove(this.name,!1),this.storage.remove(this.name,!0)}clear(){this.remove(),this.props={}}register_once(t,n,r){if(Cr(t)){tt(n)&&(n="None"),this.expire_days=tt(r)?this.default_expiry:r;var i=!1;if(wn(t,(s,l)=>{this.props.hasOwnProperty(l)&&this.props[l]!==n||(this.props[l]=s,i=!0)}),i)return this.save(),!0}return!1}register(t,n){if(Cr(t)){this.expire_days=tt(n)?this.default_expiry:n;var r=!1;if(wn(t,(i,s)=>{t.hasOwnProperty(s)&&this.props[s]!==i&&(this.props[s]=i,r=!0)}),r)return this.save(),!0}return!1}unregister(t){t in this.props&&(delete this.props[t],this.save())}update_campaign_params(){if(!this.campaign_params_saved){var t=lr.campaignParams(this.config.custom_campaign_params);ud(qy(t))||this.register(t),this.campaign_params_saved=!0}}update_search_keyword(){this.register(lr.searchInfo())}update_referrer_info(){this.register_once(lr.referrerInfo(),void 0)}set_initial_person_info(){this.props[eS]||this.props[tS]||this.register_once({[nS]:lr.initialPersonInfo()},void 0)}get_referrer_info(){return qy({$referrer:this.props.$referrer,$referring_domain:this.props.$referring_domain})}get_initial_props(){var t={};wn([tS,eS],i=>{var s=this.props[i];s&&wn(s,function(l,c){t["$initial_"+Y_(c)]=l})});var n=this.props[nS];if(n){var r=lr.initialPersonPropsFromInfo(n);Ti(t,r)}return t}safe_merge(t){return wn(this.props,function(n,r){r in t||(t[r]=n)}),t}update_config(t,n){if(this.default_expiry=this.expire_days=t.cookie_expiration,this.set_disabled(t.disable_persistence),this.set_cross_subdomain(t.cross_subdomain_cookie),this.set_secure(t.secure_cookie),t.persistence!==n.persistence){var r=this.buildStorage(t),i=this.props;this.clear(),this.storage=r,this.props=i,this.save()}}set_disabled(t){this.disabled=t,this.disabled?this.remove():this.save()}set_cross_subdomain(t){t!==this.cross_subdomain&&(this.cross_subdomain=t,this.remove(),this.save())}get_cross_subdomain(){return!!this.cross_subdomain}set_secure(t){t!==this.secure&&(this.secure=t,this.remove(),this.save())}set_event_timer(t,n){var r=this.props[Fh]||{};r[t]=n,this.props[Fh]=r,this.save()}remove_event_timer(t){var n=(this.props[Fh]||{})[t];return tt(n)||(delete this.props[Fh][t],this.save()),n}get_property(t){return this.props[t]}set_property(t,n){this.props[t]=n,this.save()}}function Zy(e){var t,n;return((t=JSON.stringify(e,(n=[],function(r,i){if(Cr(i)){for(;n.length>0&&n[n.length-1]!==this;)n.pop();return n.includes(i)?"[Circular]":(n.push(i),i)}return i})))===null||t===void 0?void 0:t.length)||0}function aS(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:66060288e-1;if(e.size>=t&&e.data.length>1){var n=Math.floor(e.data.length/2),r=e.data.slice(0,n),i=e.data.slice(n);return[aS({size:Zy(r),data:r,sessionId:e.sessionId,windowId:e.windowId}),aS({size:Zy(i),data:i,sessionId:e.sessionId,windowId:e.windowId})].flatMap(s=>s)}return[e]}var fo=(e=>(e[e.DomContentLoaded=0]="DomContentLoaded",e[e.Load=1]="Load",e[e.FullSnapshot=2]="FullSnapshot",e[e.IncrementalSnapshot=3]="IncrementalSnapshot",e[e.Meta=4]="Meta",e[e.Custom=5]="Custom",e[e.Plugin=6]="Plugin",e))(fo||{}),ta=(e=>(e[e.Mutation=0]="Mutation",e[e.MouseMove=1]="MouseMove",e[e.MouseInteraction=2]="MouseInteraction",e[e.Scroll=3]="Scroll",e[e.ViewportResize=4]="ViewportResize",e[e.Input=5]="Input",e[e.TouchMove=6]="TouchMove",e[e.MediaInteraction=7]="MediaInteraction",e[e.StyleSheetRule=8]="StyleSheetRule",e[e.CanvasMutation=9]="CanvasMutation",e[e.Font=10]="Font",e[e.Log=11]="Log",e[e.Drag=12]="Drag",e[e.StyleDeclaration=13]="StyleDeclaration",e[e.Selection=14]="Selection",e[e.AdoptedStyleSheet=15]="AdoptedStyleSheet",e[e.CustomElement=16]="CustomElement",e))(ta||{});function hM(e){var t;return e.id===Uj||!((t=e.closest)===null||t===void 0||!t.call(e,".toolbar-global-fade-container"))}function G0(e){return!!e&&e.nodeType===1}function Al(e,t){return!!e&&!!e.tagName&&e.tagName.toLowerCase()===t.toLowerCase()}function aP(e){return!!e&&e.nodeType===3}function oP(e){return!!e&&e.nodeType===11}function ow(e){return e?H0(e).split(/\s+/):[]}function pM(e){var t=fe==null?void 0:fe.location.href;return!!(t&&e&&e.some(n=>t.match(n)))}function e0(e){var t="";switch(typeof e.className){case"string":t=e.className;break;case"object":t=(e.className&&"baseVal"in e.className?e.className.baseVal:null)||e.getAttribute("class")||"";break;default:t=""}return ow(t)}function lP(e){return In(e)?null:H0(e).split(/(\s+)/).filter(t=>Dd(t)).join("").replace(/[\r\n]/g," ").replace(/[ ]+/g," ").substring(0,255)}function Y0(e){var t="";return lS(e)&&!dP(e)&&e.childNodes&&e.childNodes.length&&wn(e.childNodes,function(n){var r;aP(n)&&n.textContent&&(t+=(r=lP(n.textContent))!==null&&r!==void 0?r:"")}),H0(t)}function cP(e){return tt(e.target)?e.srcElement||null:(t=e.target)!==null&&t!==void 0&&t.shadowRoot?e.composedPath()[0]||null:e.target||null;var t}var oS=["a","button","form","input","select","textarea","label"];function uP(e){var t=e.parentNode;return!(!t||!G0(t))&&t}function UF(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0,i=arguments.length>4?arguments[4]:void 0;if(!fe||!e||Al(e,"html")||!G0(e)||n!=null&&n.url_allowlist&&!pM(n.url_allowlist)||n!=null&&n.url_ignorelist&&pM(n.url_ignorelist))return!1;if(n!=null&&n.dom_event_allowlist){var s=n.dom_event_allowlist;if(s&&!s.some(v=>t.type===v))return!1}for(var l=!1,c=[e],d=!0,u=e;u.parentNode&&!Al(u,"body");)if(oP(u.parentNode))c.push(u.parentNode.host),u=u.parentNode.host;else{if(!(d=uP(u)))break;if(r||oS.indexOf(d.tagName.toLowerCase())>-1)l=!0;else{var p=fe.getComputedStyle(d);p&&p.getPropertyValue("cursor")==="pointer"&&(l=!0)}c.push(d),u=d}if(!function(v,b){var _=b==null?void 0:b.element_allowlist;if(tt(_))return!0;var w=function(R){if(_.some(M=>R.tagName.toLowerCase()===M))return{v:!0}};for(var T of v){var k=w(T);if(typeof k=="object")return k.v}return!1}(c,n)||!function(v,b){var _=b==null?void 0:b.css_selector_allowlist;if(tt(_))return!0;var w=function(R){if(_.some(M=>R.matches(M)))return{v:!0}};for(var T of v){var k=w(T);if(typeof k=="object")return k.v}return!1}(c,n))return!1;var h=fe.getComputedStyle(e);if(h&&h.getPropertyValue("cursor")==="pointer"&&t.type==="click")return!0;var y=e.tagName.toLowerCase();switch(y){case"html":return!1;case"form":return(i||["submit"]).indexOf(t.type)>=0;case"input":case"select":case"textarea":return(i||["change","click"]).indexOf(t.type)>=0;default:return l?(i||["click"]).indexOf(t.type)>=0:(i||["click"]).indexOf(t.type)>=0&&(oS.indexOf(y)>-1||e.getAttribute("contenteditable")==="true")}}function lS(e){for(var t=e;t.parentNode&&!Al(t,"body");t=t.parentNode){var n=e0(t);if(Ut(n,"ph-sensitive")||Ut(n,"ph-no-capture"))return!1}if(Ut(e0(e),"ph-include"))return!0;var r=e.type||"";if(fi(r))switch(r.toLowerCase()){case"hidden":case"password":return!1}var i=e.name||e.id||"";return!(fi(i)&&/^cc|cardnum|ccnum|creditcard|csc|cvc|cvv|exp|pass|pwd|routing|seccode|securitycode|securitynum|socialsec|socsec|ssn/i.test(i.replace(/[^a-zA-Z0-9]/g,"")))}function dP(e){return!!(Al(e,"input")&&!["button","checkbox","submit","reset"].includes(e.type)||Al(e,"select")||Al(e,"textarea")||e.getAttribute("contenteditable")==="true")}var fP="(4[0-9]{12}(?:[0-9]{3})?)|(5[1-5][0-9]{14})|(6(?:011|5[0-9]{2})[0-9]{12})|(3[47][0-9]{13})|(3(?:0[0-5]|[68][0-9])[0-9]{11})|((?:2131|1800|35[0-9]{3})[0-9]{11})",HF=new RegExp("^(?:".concat(fP,")$")),qF=new RegExp(fP),hP="\\d{3}-?\\d{2}-?\\d{4}",GF=new RegExp("^(".concat(hP,")$")),YF=new RegExp("(".concat(hP,")"));function Dd(e){var t=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];return!(In(e)||fi(e)&&(e=H0(e),(t?HF:qF).test((e||"").replace(/[- ]/g,""))||(t?GF:YF).test(e)))}function pP(e){var t=Y0(e);return Dd(t="".concat(t," ").concat(gP(e)).trim())?t:""}function gP(e){var t="";return e&&e.childNodes&&e.childNodes.length&&wn(e.childNodes,function(n){var r;if(n&&((r=n.tagName)===null||r===void 0?void 0:r.toLowerCase())==="span")try{var i=Y0(n);t="".concat(t," ").concat(i).trim(),n.childNodes&&n.childNodes.length&&(t="".concat(t," ").concat(gP(n)).trim())}catch(s){xe.error(s)}}),t}function KF(e){return function(t){var n=t.map(r=>{var i,s,l="";if(r.tag_name&&(l+=r.tag_name),r.attr_class)for(var c of(r.attr_class.sort(),r.attr_class))l+=".".concat(c.replace(/"/g,""));var d=Oe(Oe(Oe(Oe({},r.text?{text:r.text}:{}),{},{"nth-child":(i=r.nth_child)!==null&&i!==void 0?i:0,"nth-of-type":(s=r.nth_of_type)!==null&&s!==void 0?s:0},r.href?{href:r.href}:{}),r.attr_id?{attr_id:r.attr_id}:{}),r.attributes),u={};return gy(d).sort((p,h)=>{var[y]=p,[v]=h;return y.localeCompare(v)}).forEach(p=>{var[h,y]=p;return u[gM(h.toString())]=gM(y.toString())}),l+=":",l+=gy(d).map(p=>{var[h,y]=p;return"".concat(h,'="').concat(y,'"')}).join("")});return n.join(";")}(function(t){return t.map(n=>{var r,i,s={text:(r=n.$el_text)===null||r===void 0?void 0:r.slice(0,400),tag_name:n.tag_name,href:(i=n.attr__href)===null||i===void 0?void 0:i.slice(0,2048),attr_class:WF(n),attr_id:n.attr__id,nth_child:n.nth_child,nth_of_type:n.nth_of_type,attributes:{}};return gy(n).filter(l=>{var[c]=l;return c.indexOf("attr__")===0}).forEach(l=>{var[c,d]=l;return s.attributes[c]=d}),s})}(e))}function gM(e){return e.replace(/"|\\"/g,'\\"')}function WF(e){var t=e.attr__class;return t?mr(t)?t:ow(t):void 0}var cS="[SessionRecording]",uS="redacted",vm={initiatorTypes:["audio","beacon","body","css","early-hint","embed","fetch","frame","iframe","icon","image","img","input","link","navigation","object","ping","script","track","video","xmlhttprequest"],maskRequestFn:e=>e,recordHeaders:!1,recordBody:!1,recordInitialRequests:!1,recordPerformance:!1,performanceEntryTypeToObserve:["first-input","navigation","paint","resource"],payloadSizeLimitBytes:1e6,payloadHostDenyList:[".lr-ingest.io",".ingest.sentry.io"]},QF=["authorization","x-forwarded-for","authorization","cookie","set-cookie","x-api-key","x-real-ip","remote-addr","forwarded","proxy-authorization","x-csrf-token","x-csrftoken","x-xsrf-token"],XF=["password","secret","passwd","api_key","apikey","auth","credentials","mysql_pwd","privatekey","private_key","token"],JF=["/s/","/e/","/i/"];function mM(e,t,n,r){if(In(e))return e;var i=(t==null?void 0:t["content-length"])||function(s){return new Blob([s]).size}(e);return fi(i)&&(i=parseInt(i)),i>n?cS+" ".concat(r," body too large to record (").concat(i," bytes)"):e}function yM(e,t){if(In(e))return e;var n=e;return Dd(n,!1)||(n=cS+" "+t+" body "+uS),wn(XF,r=>{var i,s;(i=n)!==null&&i!==void 0&&i.length&&((s=n)===null||s===void 0?void 0:s.indexOf(r))!==-1&&(n=cS+" "+t+" body "+uS+" as might contain: "+r)}),n}var ZF=(e,t)=>{var n,r,i,s={payloadSizeLimitBytes:vm.payloadSizeLimitBytes,performanceEntryTypeToObserve:[...vm.performanceEntryTypeToObserve],payloadHostDenyList:[...t.payloadHostDenyList||[],...vm.payloadHostDenyList]},l=e.session_recording.recordHeaders!==!1&&t.recordHeaders,c=e.session_recording.recordBody!==!1&&t.recordBody,d=e.capture_performance!==!1&&t.recordPerformance,u=(n=s,i=Math.min(1e6,(r=n.payloadSizeLimitBytes)!==null&&r!==void 0?r:1e6),y=>(y!=null&&y.requestBody&&(y.requestBody=mM(y.requestBody,y.requestHeaders,i,"Request")),y!=null&&y.responseBody&&(y.responseBody=mM(y.responseBody,y.responseHeaders,i,"Response")),y)),p=y=>{return u(((_,w)=>{var T,k=Ad(_.name),R=w.indexOf("http")===0?(T=Ad(w))===null||T===void 0?void 0:T.pathname:w;R==="/"&&(R="");var M=k==null?void 0:k.pathname.replace(R||"","");if(!(k&&M&&JF.some(E=>M.indexOf(E)===0)))return _})((b=(v=y).requestHeaders,In(b)||wn(Object.keys(b??{}),_=>{QF.includes(_.toLowerCase())&&(b[_]=uS)}),v),e.api_host));var v,b},h=Vs(e.session_recording.maskNetworkRequestFn);return h&&Vs(e.session_recording.maskCapturedNetworkRequestFn)&&xe.warn("Both `maskNetworkRequestFn` and `maskCapturedNetworkRequestFn` are defined. `maskNetworkRequestFn` will be ignored."),h&&(e.session_recording.maskCapturedNetworkRequestFn=y=>{var v=e.session_recording.maskNetworkRequestFn({url:y.name});return Oe(Oe({},y),{},{name:v==null?void 0:v.url})}),s.maskRequestFn=Vs(e.session_recording.maskCapturedNetworkRequestFn)?y=>{var v,b,_,w=p(y);return w&&(v=(b=(_=e.session_recording).maskCapturedNetworkRequestFn)===null||b===void 0?void 0:b.call(_,w))!==null&&v!==void 0?v:void 0}:y=>function(v){if(!tt(v))return v.requestBody=yM(v.requestBody,"Request"),v.responseBody=yM(v.responseBody,"Response"),v}(p(y)),Oe(Oe(Oe({},vm),s),{},{recordHeaders:l,recordBody:c,recordPerformance:d,recordInitialRequests:d})};function Ma(e,t,n,r,i){return t>n&&(xe.warn("min cannot be greater than max."),t=n),ns(e)?e>n?(r&&xe.warn(r+" cannot be  greater than max: "+n+". Using max value instead."),n):e<t?(r&&xe.warn(r+" cannot be less than min: "+t+". Using min value instead."),t):e:(r&&xe.warn(r+" must be a number. using max or fallback. max: "+n+", fallback: "+i),Ma(i||n,t,n,r))}class ez{constructor(t){var n,r,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};Le(this,"bucketSize",100),Le(this,"refillRate",10),Le(this,"mutationBuckets",{}),Le(this,"loggedTracker",{}),Le(this,"refillBuckets",()=>{Object.keys(this.mutationBuckets).forEach(s=>{this.mutationBuckets[s]=this.mutationBuckets[s]+this.refillRate,this.mutationBuckets[s]>=this.bucketSize&&delete this.mutationBuckets[s]})}),Le(this,"getNodeOrRelevantParent",s=>{var l=this.rrweb.mirror.getNode(s);if((l==null?void 0:l.nodeName)!=="svg"&&l instanceof Element){var c=l.closest("svg");if(c)return[this.rrweb.mirror.getId(c),c]}return[s,l]}),Le(this,"numberOfChanges",s=>{var l,c,d,u,p,h,y,v;return((l=(c=s.removes)===null||c===void 0?void 0:c.length)!==null&&l!==void 0?l:0)+((d=(u=s.attributes)===null||u===void 0?void 0:u.length)!==null&&d!==void 0?d:0)+((p=(h=s.texts)===null||h===void 0?void 0:h.length)!==null&&p!==void 0?p:0)+((y=(v=s.adds)===null||v===void 0?void 0:v.length)!==null&&y!==void 0?y:0)}),Le(this,"throttleMutations",s=>{if(s.type!==3||s.data.source!==0)return s;var l=s.data,c=this.numberOfChanges(l);l.attributes&&(l.attributes=l.attributes.filter(u=>{var p,h,y,[v,b]=this.getNodeOrRelevantParent(u.id);return this.mutationBuckets[v]===0?!1:(this.mutationBuckets[v]=(p=this.mutationBuckets[v])!==null&&p!==void 0?p:this.bucketSize,this.mutationBuckets[v]=Math.max(this.mutationBuckets[v]-1,0),this.mutationBuckets[v]===0&&(this.loggedTracker[v]||(this.loggedTracker[v]=!0,(h=(y=this.options).onBlockedNode)===null||h===void 0||h.call(y,v,b))),u)}));var d=this.numberOfChanges(l);return d!==0||c===d?s:void 0}),this.rrweb=t,this.options=i,this.refillRate=Ma((n=this.options.refillRate)!==null&&n!==void 0?n:this.refillRate,0,100,"mutation throttling refill rate"),this.bucketSize=Ma((r=this.options.bucketSize)!==null&&r!==void 0?r:this.bucketSize,0,100,"mutation throttling bucket size"),setInterval(()=>{this.refillBuckets()},1e3)}}var Ns=Uint8Array,$i=Uint16Array,Bd=Uint32Array,lw=new Ns([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),cw=new Ns([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),vM=new Ns([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),mP=function(e,t){for(var n=new $i(31),r=0;r<31;++r)n[r]=t+=1<<e[r-1];var i=new Bd(n[30]);for(r=1;r<30;++r)for(var s=n[r];s<n[r+1];++s)i[s]=s-n[r]<<5|r;return[n,i]},yP=mP(lw,2),tz=yP[0],dS=yP[1];tz[28]=258,dS[258]=28;for(var AM=mP(cw,0)[1],vP=new $i(32768),Vn=0;Vn<32768;++Vn){var oc=(43690&Vn)>>>1|(21845&Vn)<<1;oc=(61680&(oc=(52428&oc)>>>2|(13107&oc)<<2))>>>4|(3855&oc)<<4,vP[Vn]=((65280&oc)>>>8|(255&oc)<<8)>>>1}var Jh=function(e,t,n){for(var r=e.length,i=0,s=new $i(t);i<r;++i)++s[e[i]-1];var l,c=new $i(t);for(i=0;i<t;++i)c[i]=c[i-1]+s[i-1]<<1;for(l=new $i(r),i=0;i<r;++i)l[i]=vP[c[e[i]-1]++]>>>15-e[i];return l},Nc=new Ns(288);for(Vn=0;Vn<144;++Vn)Nc[Vn]=8;for(Vn=144;Vn<256;++Vn)Nc[Vn]=9;for(Vn=256;Vn<280;++Vn)Nc[Vn]=7;for(Vn=280;Vn<288;++Vn)Nc[Vn]=8;var t0=new Ns(32);for(Vn=0;Vn<32;++Vn)t0[Vn]=5;var nz=Jh(Nc,9),rz=Jh(t0,5),AP=function(e){return(e/8>>0)+(7&e&&1)},bP=function(e,t,n){(n==null||n>e.length)&&(n=e.length);var r=new(e instanceof $i?$i:e instanceof Bd?Bd:Ns)(n-t);return r.set(e.subarray(t,n)),r},no=function(e,t,n){n<<=7&t;var r=t/8>>0;e[r]|=n,e[r+1]|=n>>>8},bh=function(e,t,n){n<<=7&t;var r=t/8>>0;e[r]|=n,e[r+1]|=n>>>8,e[r+2]|=n>>>16},l1=function(e,t){for(var n=[],r=0;r<e.length;++r)e[r]&&n.push({s:r,f:e[r]});var i=n.length,s=n.slice();if(!i)return[new Ns(0),0];if(i==1){var l=new Ns(n[0].s+1);return l[n[0].s]=1,[l,1]}n.sort(function(E,O){return E.f-O.f}),n.push({s:-1,f:25001});var c=n[0],d=n[1],u=0,p=1,h=2;for(n[0]={s:-1,f:c.f+d.f,l:c,r:d};p!=i-1;)c=n[n[u].f<n[h].f?u++:h++],d=n[u!=p&&n[u].f<n[h].f?u++:h++],n[p++]={s:-1,f:c.f+d.f,l:c,r:d};var y=s[0].s;for(r=1;r<i;++r)s[r].s>y&&(y=s[r].s);var v=new $i(y+1),b=fS(n[p-1],v,0);if(b>t){r=0;var _=0,w=b-t,T=1<<w;for(s.sort(function(E,O){return v[O.s]-v[E.s]||E.f-O.f});r<i;++r){var k=s[r].s;if(!(v[k]>t))break;_+=T-(1<<b-v[k]),v[k]=t}for(_>>>=w;_>0;){var R=s[r].s;v[R]<t?_-=1<<t-v[R]++-1:++r}for(;r>=0&&_;--r){var M=s[r].s;v[M]==t&&(--v[M],++_)}b=t}return[new Ns(v),b]},fS=function(e,t,n){return e.s==-1?Math.max(fS(e.l,t,n+1),fS(e.r,t,n+1)):t[e.s]=n},bM=function(e){for(var t=e.length;t&&!e[--t];);for(var n=new $i(++t),r=0,i=e[0],s=1,l=function(d){n[r++]=d},c=1;c<=t;++c)if(e[c]==i&&c!=t)++s;else{if(!i&&s>2){for(;s>138;s-=138)l(32754);s>2&&(l(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(l(i),--s;s>6;s-=6)l(8304);s>2&&(l(s-3<<5|8208),s=0)}for(;s--;)l(i);s=1,i=e[c]}return[n.subarray(0,r),t]},_h=function(e,t){for(var n=0,r=0;r<t.length;++r)n+=e[r]*t[r];return n},hS=function(e,t,n){var r=n.length,i=AP(t+2);e[i]=255&r,e[i+1]=r>>>8,e[i+2]=255^e[i],e[i+3]=255^e[i+1];for(var s=0;s<r;++s)e[i+s+4]=n[s];return 8*(i+4+r)},_M=function(e,t,n,r,i,s,l,c,d,u,p){no(t,p++,n),++i[256];for(var h=l1(i,15),y=h[0],v=h[1],b=l1(s,15),_=b[0],w=b[1],T=bM(y),k=T[0],R=T[1],M=bM(_),E=M[0],O=M[1],P=new $i(19),j=0;j<k.length;++j)P[31&k[j]]++;for(j=0;j<E.length;++j)P[31&E[j]]++;for(var V=l1(P,7),C=V[0],N=V[1],U=19;U>4&&!C[vM[U-1]];--U);var L,q,H,D,K=u+5<<3,Q=_h(i,Nc)+_h(s,t0)+l,J=_h(i,y)+_h(s,_)+l+14+3*U+_h(P,C)+(2*P[16]+3*P[17]+7*P[18]);if(K<=Q&&K<=J)return hS(t,p,e.subarray(d,d+u));if(no(t,p,1+(J<Q)),p+=2,J<Q){L=Jh(y,v),q=y,H=Jh(_,w),D=_;var B=Jh(C,N);for(no(t,p,R-257),no(t,p+5,O-1),no(t,p+10,U-4),p+=14,j=0;j<U;++j)no(t,p+3*j,C[vM[j]]);p+=3*U;for(var G=[k,E],ee=0;ee<2;++ee){var ue=G[ee];for(j=0;j<ue.length;++j){var F=31&ue[j];no(t,p,B[F]),p+=C[F],F>15&&(no(t,p,ue[j]>>>5&127),p+=ue[j]>>>12)}}}else L=nz,q=Nc,H=rz,D=t0;for(j=0;j<c;++j)if(r[j]>255){F=r[j]>>>18&31,bh(t,p,L[F+257]),p+=q[F+257],F>7&&(no(t,p,r[j]>>>23&31),p+=lw[F]);var ge=31&r[j];bh(t,p,H[ge]),p+=D[ge],ge>3&&(bh(t,p,r[j]>>>5&8191),p+=cw[ge])}else bh(t,p,L[r[j]]),p+=q[r[j]];return bh(t,p,L[256]),p+q[256]},iz=new Bd([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),sz=function(){for(var e=new Bd(256),t=0;t<256;++t){for(var n=t,r=9;--r;)n=(1&n&&3988292384)^n>>>1;e[t]=n}return e}(),az=function(){var e=4294967295;return{p:function(t){for(var n=e,r=0;r<t.length;++r)n=sz[255&n^t[r]]^n>>>8;e=n},d:function(){return 4294967295^e}}},oz=function(e,t,n,r,i){return function(s,l,c,d,u,p){var h=s.length,y=new Ns(d+h+5*(1+Math.floor(h/7e3))+u),v=y.subarray(d,y.length-u),b=0;if(!l||h<8)for(var _=0;_<=h;_+=65535){var w=_+65535;w<h?b=hS(v,b,s.subarray(_,w)):(v[_]=p,b=hS(v,b,s.subarray(_,h)))}else{for(var T=iz[l-1],k=T>>>13,R=8191&T,M=(1<<c)-1,E=new $i(32768),O=new $i(M+1),P=Math.ceil(c/3),j=2*P,V=function(Qe){return(s[Qe]^s[Qe+1]<<P^s[Qe+2]<<j)&M},C=new Bd(25e3),N=new $i(288),U=new $i(32),L=0,q=0,H=(_=0,0),D=0,K=0;_<h;++_){var Q=V(_),J=32767&_,B=O[Q];if(E[J]=B,O[Q]=J,D<=_){var G=h-_;if((L>7e3||H>24576)&&G>423){b=_M(s,v,0,C,N,U,q,H,K,_-K,b),H=L=q=0,K=_;for(var ee=0;ee<286;++ee)N[ee]=0;for(ee=0;ee<30;++ee)U[ee]=0}var ue=2,F=0,ge=R,se=J-B&32767;if(G>2&&Q==V(_-se))for(var Se=Math.min(k,G)-1,Me=Math.min(32767,_),Re=Math.min(258,G);se<=Me&&--ge&&J!=B;){if(s[_+ue]==s[_+ue-se]){for(var ye=0;ye<Re&&s[_+ye]==s[_+ye-se];++ye);if(ye>ue){if(ue=ye,F=se,ye>Se)break;var je=Math.min(se,ye-2),Ge=0;for(ee=0;ee<je;++ee){var Fe=_-se+ee+32768&32767,Ve=Fe-E[Fe]+32768&32767;Ve>Ge&&(Ge=Ve,B=Fe)}}}se+=(J=B)-(B=E[J])+32768&32767}if(F){C[H++]=268435456|dS[ue]<<18|AM[F];var ze=31&dS[ue],ot=31&AM[F];q+=lw[ze]+cw[ot],++N[257+ze],++U[ot],D=_+ue,++L}else C[H++]=s[_],++N[s[_]]}}b=_M(s,v,p,C,N,U,q,H,K,_-K,b)}return bP(y,0,d+AP(b)+u)}(e,t.level==null?6:t.level,t.mem==null?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(e.length)))):12+t.mem,n,r,!0)},pS=function(e,t,n){for(;n;++t)e[t]=n,n>>>=8},lz=function(e,t){var n=t.filename;if(e[0]=31,e[1]=139,e[2]=8,e[8]=t.level<2?4:t.level==9?2:0,e[9]=3,t.mtime!=0&&pS(e,4,Math.floor(new Date(t.mtime||Date.now())/1e3)),n){e[3]=8;for(var r=0;r<=n.length;++r)e[r+10]=n.charCodeAt(r)}},cz=function(e){return 10+(e.filename&&e.filename.length+1||0)};function _P(e,t){t===void 0&&(t={});var n=az(),r=e.length;n.p(e);var i=oz(e,t,cz(t),8),s=i.length;return lz(i,t),pS(i,s-8,n.d()),pS(i,s-4,r),i}function SP(e,t){var n=e.length;if(typeof TextEncoder<"u")return new TextEncoder().encode(e);for(var r=new Ns(e.length+(e.length>>>1)),i=0,s=function(u){r[i++]=u},l=0;l<n;++l){if(i+5>r.length){var c=new Ns(i+8+(n-l<<1));c.set(r),r=c}var d=e.charCodeAt(l);d<128||t?s(d):d<2048?(s(192|d>>>6),s(128|63&d)):d>55295&&d<57344?(s(240|(d=65536+(1047552&d)|1023&e.charCodeAt(++l))>>>18),s(128|d>>>12&63),s(128|d>>>6&63),s(128|63&d)):(s(224|d>>>12),s(128|d>>>6&63),s(128|63&d))}return bP(r,0,i)}var uz=3e5,dz=[ta.MouseMove,ta.MouseInteraction,ta.Scroll,ta.ViewportResize,ta.Input,ta.TouchMove,ta.MediaInteraction,ta.Drag],SM=e=>({rrwebMethod:e,enqueuedAt:Date.now(),attempt:1}),Wr="[SessionRecording]";function lc(e){return function(t,n){for(var r="",i=0;i<t.length;){var s=t[i++];r+=String.fromCharCode(s)}return r}(_P(SP(JSON.stringify(e))))}function xM(e){return e.type===fo.Custom&&e.data.tag==="sessionIdle"}function wM(e,t){return t.some(n=>n.matching==="regex"&&new RegExp(n.url).test(e))}class fz{get sessionIdleThresholdMilliseconds(){return this.instance.config.session_recording.session_idle_threshold_ms||3e5}get rrwebRecord(){var t,n;return Ct==null||(t=Ct.__PosthogExtensions__)===null||t===void 0||(n=t.rrweb)===null||n===void 0?void 0:n.record}get started(){return this._captureStarted}get sessionManager(){if(!this.instance.sessionManager)throw new Error(Wr+" must be started with a valid sessionManager.");return this.instance.sessionManager}get fullSnapshotIntervalMillis(){var t,n;return this.triggerStatus==="trigger_pending"?6e4:(t=(n=this.instance.config.session_recording)===null||n===void 0?void 0:n.full_snapshot_interval_millis)!==null&&t!==void 0?t:uz}get isSampled(){var t=this.instance.get_property(zh);return Sc(t)?t:null}get sessionDuration(){var t,n,r=(t=this.buffer)===null||t===void 0?void 0:t.data[((n=this.buffer)===null||n===void 0?void 0:n.data.length)-1],{sessionStartTimestamp:i}=this.sessionManager.checkAndGetSessionAndWindowId(!0);return r?r.timestamp-i:null}get isRecordingEnabled(){var t=!!this.instance.get_property(W_),n=!this.instance.config.disable_session_recording;return fe&&t&&n}get isConsoleLogCaptureEnabled(){var t=!!this.instance.get_property(Zk),n=this.instance.config.enable_recording_console_log;return n??t}get canvasRecording(){var t,n,r,i,s,l,c=this.instance.config.session_recording.captureCanvas,d=this.instance.get_property(tM),u=(t=(n=c==null?void 0:c.recordCanvas)!==null&&n!==void 0?n:d==null?void 0:d.enabled)!==null&&t!==void 0&&t,p=(r=(i=c==null?void 0:c.canvasFps)!==null&&i!==void 0?i:d==null?void 0:d.fps)!==null&&r!==void 0?r:0,h=(s=(l=c==null?void 0:c.canvasQuality)!==null&&l!==void 0?l:d==null?void 0:d.quality)!==null&&s!==void 0?s:0;return{enabled:u,fps:Ma(p,0,12,"canvas recording fps"),quality:Ma(h,0,1,"canvas recording quality")}}get networkPayloadCapture(){var t,n,r=this.instance.get_property(eM),i={recordHeaders:(t=this.instance.config.session_recording)===null||t===void 0?void 0:t.recordHeaders,recordBody:(n=this.instance.config.session_recording)===null||n===void 0?void 0:n.recordBody},s=(i==null?void 0:i.recordHeaders)||(r==null?void 0:r.recordHeaders),l=(i==null?void 0:i.recordBody)||(r==null?void 0:r.recordBody),c=Cr(this.instance.config.capture_performance)?this.instance.config.capture_performance.network_timing:this.instance.config.capture_performance,d=!!(Sc(c)?c:r!=null&&r.capturePerformance);return s||l||d?{recordHeaders:s,recordBody:l,recordPerformance:d}:void 0}get sampleRate(){var t=this.instance.get_property(nM);return ns(t)?t:null}get minimumDuration(){var t=this.instance.get_property(rM);return ns(t)?t:null}get status(){return this.receivedDecide?this.isRecordingEnabled?this._urlBlocked?"paused":In(this._linkedFlag)||this._linkedFlagSeen?this.triggerStatus==="trigger_pending"?"buffering":Sc(this.isSampled)?this.isSampled?"sampled":"disabled":"active":"buffering":"disabled":"buffering"}get urlTriggerStatus(){var t;return this._urlTriggers.length===0?"trigger_disabled":((t=this.instance)===null||t===void 0?void 0:t.get_property(n1))===this.sessionId?"trigger_activated":"trigger_pending"}get eventTriggerStatus(){var t;return this._eventTriggers.length===0?"trigger_disabled":((t=this.instance)===null||t===void 0?void 0:t.get_property(r1))===this.sessionId?"trigger_activated":"trigger_pending"}get triggerStatus(){var t=this.eventTriggerStatus==="trigger_activated"||this.urlTriggerStatus==="trigger_activated",n=this.eventTriggerStatus==="trigger_pending"||this.urlTriggerStatus==="trigger_pending";return t?"trigger_activated":n?"trigger_pending":"trigger_disabled"}constructor(t){if(Le(this,"queuedRRWebEvents",[]),Le(this,"isIdle",!1),Le(this,"_linkedFlagSeen",!1),Le(this,"_lastActivityTimestamp",Date.now()),Le(this,"_linkedFlag",null),Le(this,"_removePageViewCaptureHook",void 0),Le(this,"_onSessionIdListener",void 0),Le(this,"_persistDecideOnSessionListener",void 0),Le(this,"_samplingSessionListener",void 0),Le(this,"_urlTriggers",[]),Le(this,"_urlBlocklist",[]),Le(this,"_urlBlocked",!1),Le(this,"_eventTriggers",[]),Le(this,"_removeEventTriggerCaptureHook",void 0),Le(this,"_forceAllowLocalhostNetworkCapture",!1),Le(this,"_onBeforeUnload",()=>{this._flushBuffer()}),Le(this,"_onOffline",()=>{this._tryAddCustomEvent("browser offline",{})}),Le(this,"_onOnline",()=>{this._tryAddCustomEvent("browser online",{})}),Le(this,"_onVisibilityChange",()=>{if(qe!=null&&qe.visibilityState){var i="window "+qe.visibilityState;this._tryAddCustomEvent(i,{})}}),this.instance=t,this._captureStarted=!1,this._endpoint="/s/",this.stopRrweb=void 0,this.receivedDecide=!1,!this.instance.sessionManager)throw xe.error(Wr+" started without valid sessionManager"),new Error(Wr+" started without valid sessionManager. This is a bug.");var{sessionId:n,windowId:r}=this.sessionManager.checkAndGetSessionAndWindowId();this.sessionId=n,this.windowId=r,this.buffer=this.clearBuffer(),this.sessionIdleThresholdMilliseconds>=this.sessionManager.sessionTimeoutMs&&xe.warn(Wr+" session_idle_threshold_ms (".concat(this.sessionIdleThresholdMilliseconds,") is greater than the session timeout (").concat(this.sessionManager.sessionTimeoutMs,"). Session will never be detected as idle"))}startIfEnabledOrStop(t){this.isRecordingEnabled?(this._startCapture(t),fe==null||fe.addEventListener("beforeunload",this._onBeforeUnload),fe==null||fe.addEventListener("offline",this._onOffline),fe==null||fe.addEventListener("online",this._onOnline),fe==null||fe.addEventListener("visibilitychange",this._onVisibilityChange),this._setupSampling(),this._addEventTriggerListener(),In(this._removePageViewCaptureHook)&&(this._removePageViewCaptureHook=this.instance.on("eventCaptured",n=>{try{if(n.event==="$pageview"){var r=n!=null&&n.properties.$current_url?this._maskUrl(n==null?void 0:n.properties.$current_url):"";if(!r)return;this._tryAddCustomEvent("$pageview",{href:r})}}catch(i){xe.error("Could not add $pageview to rrweb session",i)}})),this._onSessionIdListener||(this._onSessionIdListener=this.sessionManager.onSessionId((n,r,i)=>{var s,l,c,d;i&&(this._tryAddCustomEvent("$session_id_change",{sessionId:n,windowId:r,changeReason:i}),(s=this.instance)===null||s===void 0||(l=s.persistence)===null||l===void 0||l.unregister(r1),(c=this.instance)===null||c===void 0||(d=c.persistence)===null||d===void 0||d.unregister(n1))}))):this.stopRecording()}stopRecording(){var t,n,r,i;this._captureStarted&&this.stopRrweb&&(this.stopRrweb(),this.stopRrweb=void 0,this._captureStarted=!1,fe==null||fe.removeEventListener("beforeunload",this._onBeforeUnload),fe==null||fe.removeEventListener("offline",this._onOffline),fe==null||fe.removeEventListener("online",this._onOnline),fe==null||fe.removeEventListener("visibilitychange",this._onVisibilityChange),this.clearBuffer(),clearInterval(this._fullSnapshotTimer),(t=this._removePageViewCaptureHook)===null||t===void 0||t.call(this),this._removePageViewCaptureHook=void 0,(n=this._removeEventTriggerCaptureHook)===null||n===void 0||n.call(this),this._removeEventTriggerCaptureHook=void 0,(r=this._onSessionIdListener)===null||r===void 0||r.call(this),this._onSessionIdListener=void 0,(i=this._samplingSessionListener)===null||i===void 0||i.call(this),this._samplingSessionListener=void 0,xe.info(Wr+" stopped"))}makeSamplingDecision(t){var n,r=this.sessionId!==t,i=this.sampleRate;if(ns(i)){var s,l=this.isSampled,c=r||!Sc(l);c?s=Math.random()<i:s=l,c&&(s?this._reportStarted("sampled"):xe.warn(Wr+" Sample rate (".concat(i,") has determined that this sessionId (").concat(t,") will not be sent to the server.")),this._tryAddCustomEvent("samplingDecisionMade",{sampleRate:i,isSampled:s})),(n=this.instance.persistence)===null||n===void 0||n.register({[zh]:s})}else{var d;(d=this.instance.persistence)===null||d===void 0||d.register({[zh]:null})}}afterDecideResponse(t){var n,r,i,s,l,c;if(this._persistDecideResponse(t),this._linkedFlag=((n=t.sessionRecording)===null||n===void 0?void 0:n.linkedFlag)||null,(r=t.sessionRecording)!==null&&r!==void 0&&r.endpoint&&(this._endpoint=(c=t.sessionRecording)===null||c===void 0?void 0:c.endpoint),this._setupSampling(),!In(this._linkedFlag)&&!this._linkedFlagSeen){var d=fi(this._linkedFlag)?this._linkedFlag:this._linkedFlag.flag,u=fi(this._linkedFlag)?null:this._linkedFlag.variant;this.instance.onFeatureFlags((p,h)=>{var y=Cr(h)&&d in h,v=u?h[d]===u:y;v&&this._reportStarted("linked_flag_matched",{linkedFlag:d,linkedVariant:u}),this._linkedFlagSeen=v})}(i=t.sessionRecording)!==null&&i!==void 0&&i.urlTriggers&&(this._urlTriggers=t.sessionRecording.urlTriggers),(s=t.sessionRecording)!==null&&s!==void 0&&s.urlBlocklist&&(this._urlBlocklist=t.sessionRecording.urlBlocklist),(l=t.sessionRecording)!==null&&l!==void 0&&l.eventTriggers&&(this._eventTriggers=t.sessionRecording.eventTriggers),this.receivedDecide=!0,this.startIfEnabledOrStop()}_setupSampling(){ns(this.sampleRate)&&In(this._samplingSessionListener)&&(this._samplingSessionListener=this.sessionManager.onSessionId(t=>{this.makeSamplingDecision(t)}))}_persistDecideResponse(t){if(this.instance.persistence){var n,r=this.instance.persistence,i=()=>{var s,l,c,d,u,p,h,y,v=(s=t.sessionRecording)===null||s===void 0?void 0:s.sampleRate,b=In(v)?null:parseFloat(v),_=(l=t.sessionRecording)===null||l===void 0?void 0:l.minimumDurationMilliseconds;r.register({[W_]:!!t.sessionRecording,[Zk]:(c=t.sessionRecording)===null||c===void 0?void 0:c.consoleLogRecordingEnabled,[eM]:Oe({capturePerformance:t.capturePerformance},(d=t.sessionRecording)===null||d===void 0?void 0:d.networkPayloadCapture),[tM]:{enabled:(u=t.sessionRecording)===null||u===void 0?void 0:u.recordCanvas,fps:(p=t.sessionRecording)===null||p===void 0?void 0:p.canvasFps,quality:(h=t.sessionRecording)===null||h===void 0?void 0:h.canvasQuality},[nM]:b,[rM]:tt(_)?null:_,[iM]:(y=t.sessionRecording)===null||y===void 0?void 0:y.scriptConfig})};i(),(n=this._persistDecideOnSessionListener)===null||n===void 0||n.call(this),this._persistDecideOnSessionListener=this.sessionManager.onSessionId(i)}}log(t){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"log";(n=this.instance.sessionRecording)===null||n===void 0||n.onRRwebEmit({type:6,data:{plugin:"rrweb/console@1",payload:{level:r,trace:[],payload:[JSON.stringify(t)]}},timestamp:Date.now()})}_startCapture(t){if(!tt(Object.assign)&&!tt(Array.from)&&!(this._captureStarted||this.instance.config.disable_session_recording||this.instance.consent.isOptedOut())){var n,r;this._captureStarted=!0,this.sessionManager.checkAndGetSessionAndWindowId(),this.rrwebRecord?this._onScriptLoaded():(n=Ct.__PosthogExtensions__)===null||n===void 0||(r=n.loadExternalDependency)===null||r===void 0||r.call(n,this.instance,this.scriptName,i=>{if(i)return xe.error(Wr+" could not load recorder",i);this._onScriptLoaded()}),xe.info(Wr+" starting"),this.status==="active"&&this._reportStarted(t||"recording_initialized")}}get scriptName(){var t,n,r;return((t=this.instance)===null||t===void 0||(n=t.persistence)===null||n===void 0||(r=n.get_property(iM))===null||r===void 0?void 0:r.script)||"recorder"}isInteractiveEvent(t){var n;return t.type===3&&dz.indexOf((n=t.data)===null||n===void 0?void 0:n.source)!==-1}_updateWindowAndSessionIds(t){var n=this.isInteractiveEvent(t);n||this.isIdle||t.timestamp-this._lastActivityTimestamp>this.sessionIdleThresholdMilliseconds&&(this.isIdle=!0,clearInterval(this._fullSnapshotTimer),this._tryAddCustomEvent("sessionIdle",{eventTimestamp:t.timestamp,lastActivityTimestamp:this._lastActivityTimestamp,threshold:this.sessionIdleThresholdMilliseconds,bufferLength:this.buffer.data.length,bufferSize:this.buffer.size}),this._flushBuffer());var r=!1;if(n&&(this._lastActivityTimestamp=t.timestamp,this.isIdle&&(this.isIdle=!1,this._tryAddCustomEvent("sessionNoLongerIdle",{reason:"user activity",type:t.type}),r=!0)),!this.isIdle){var{windowId:i,sessionId:s}=this.sessionManager.checkAndGetSessionAndWindowId(!n,t.timestamp),l=this.sessionId!==s,c=this.windowId!==i;this.windowId=i,this.sessionId=s,l||c?(this.stopRecording(),this.startIfEnabledOrStop("session_id_changed")):r&&this._scheduleFullSnapshot()}}_tryRRWebMethod(t){try{return t.rrwebMethod(),!0}catch(n){return this.queuedRRWebEvents.length<10?this.queuedRRWebEvents.push({enqueuedAt:t.enqueuedAt||Date.now(),attempt:t.attempt++,rrwebMethod:t.rrwebMethod}):xe.warn(Wr+" could not emit queued rrweb event.",n,t),!1}}_tryAddCustomEvent(t,n){return this._tryRRWebMethod(SM(()=>this.rrwebRecord.addCustomEvent(t,n)))}_tryTakeFullSnapshot(){return this._tryRRWebMethod(SM(()=>this.rrwebRecord.takeFullSnapshot()))}_onScriptLoaded(){var t,n={blockClass:"ph-no-capture",blockSelector:void 0,ignoreClass:"ph-ignore-input",maskTextClass:"ph-mask",maskTextSelector:void 0,maskTextFn:void 0,maskAllInputs:!0,maskInputOptions:{password:!0},maskInputFn:void 0,slimDOMOptions:{},collectFonts:!1,inlineStylesheet:!0,recordCrossOriginIframes:!1},r=this.instance.config.session_recording;for(var[i,s]of Object.entries(r||{}))i in n&&(i==="maskInputOptions"?n.maskInputOptions=Oe({password:!0},s):n[i]=s);if(this.canvasRecording&&this.canvasRecording.enabled&&(n.recordCanvas=!0,n.sampling={canvas:this.canvasRecording.fps},n.dataURLOptions={type:"image/webp",quality:this.canvasRecording.quality}),this.rrwebRecord){this.mutationRateLimiter=(t=this.mutationRateLimiter)!==null&&t!==void 0?t:new ez(this.rrwebRecord,{refillRate:this.instance.config.session_recording.__mutationRateLimiterRefillRate,bucketSize:this.instance.config.session_recording.__mutationRateLimiterBucketSize,onBlockedNode:(c,d)=>{var u="Too many mutations on node '".concat(c,"'. Rate limiting. This could be due to SVG animations or something similar");xe.info(u,{node:d}),this.log(Wr+" "+u,"warn")}});var l=this._gatherRRWebPlugins();this.stopRrweb=this.rrwebRecord(Oe({emit:c=>{this.onRRwebEmit(c)},plugins:l},n)),this._lastActivityTimestamp=Date.now(),this.isIdle=!1,this._tryAddCustomEvent("$session_options",{sessionRecordingOptions:n,activePlugins:l.map(c=>c==null?void 0:c.name)}),this._tryAddCustomEvent("$posthog_config",{config:this.instance.config})}else xe.error(Wr+"onScriptLoaded was called but rrwebRecord is not available. This indicates something has gone wrong.")}_scheduleFullSnapshot(){if(this._fullSnapshotTimer&&clearInterval(this._fullSnapshotTimer),!this.isIdle){var t=this.fullSnapshotIntervalMillis;t&&(this._fullSnapshotTimer=setInterval(()=>{this._tryTakeFullSnapshot()},t))}}_gatherRRWebPlugins(){var t,n,r,i,s=[],l=(t=Ct.__PosthogExtensions__)===null||t===void 0||(n=t.rrwebPlugins)===null||n===void 0?void 0:n.getRecordConsolePlugin;l&&this.isConsoleLogCaptureEnabled&&s.push(l());var c=(r=Ct.__PosthogExtensions__)===null||r===void 0||(i=r.rrwebPlugins)===null||i===void 0?void 0:i.getRecordNetworkPlugin;return this.networkPayloadCapture&&Vs(c)&&(!RF.includes(location.hostname)||this._forceAllowLocalhostNetworkCapture?s.push(c(ZF(this.instance.config,this.networkPayloadCapture))):xe.info(Wr+" NetworkCapture not started because we are on localhost.")),s}onRRwebEmit(t){var n;if(this._processQueuedEvents(),t&&Cr(t)){if(t.type===fo.Meta){var r=this._maskUrl(t.data.href);if(this._lastHref=r,!r)return;t.data.href=r}else this._pageViewFallBack();if(this._checkUrlTriggerConditions(),this.status!=="paused"||function(h){return h.type===fo.Custom&&h.data.tag==="recording paused"}(t)){t.type===fo.FullSnapshot&&this._scheduleFullSnapshot(),t.type===fo.FullSnapshot&&this.triggerStatus==="trigger_pending"&&this.clearBuffer();var i=this.mutationRateLimiter?this.mutationRateLimiter.throttleMutations(t):t;if(i){var s=function(h){var y=h;if(y&&Cr(y)&&y.type===6&&Cr(y.data)&&y.data.plugin==="rrweb/console@1"){y.data.payload.payload.length>10&&(y.data.payload.payload=y.data.payload.payload.slice(0,10),y.data.payload.payload.push("...[truncated]"));for(var v=[],b=0;b<y.data.payload.payload.length;b++)y.data.payload.payload[b]&&y.data.payload.payload[b].length>2e3?v.push(y.data.payload.payload[b].slice(0,2e3)+"...[truncated]"):v.push(y.data.payload.payload[b]);return y.data.payload.payload=v,h}return h}(i);if(this._updateWindowAndSessionIds(s),!this.isIdle||xM(s)){if(xM(s)){var l=s.data.payload;if(l){var c=l.lastActivityTimestamp,d=l.threshold;s.timestamp=c+d}}var u=(n=this.instance.config.session_recording.compress_events)===null||n===void 0||n?function(h){if(Zy(h)<1024)return h;try{if(h.type===fo.FullSnapshot)return Oe(Oe({},h),{},{data:lc(h.data),cv:"2024-10"});if(h.type===fo.IncrementalSnapshot&&h.data.source===ta.Mutation)return Oe(Oe({},h),{},{cv:"2024-10",data:Oe(Oe({},h.data),{},{texts:lc(h.data.texts),attributes:lc(h.data.attributes),removes:lc(h.data.removes),adds:lc(h.data.adds)})});if(h.type===fo.IncrementalSnapshot&&h.data.source===ta.StyleSheetRule)return Oe(Oe({},h),{},{cv:"2024-10",data:Oe(Oe({},h.data),{},{adds:lc(h.data.adds),removes:lc(h.data.removes)})})}catch(y){xe.error(Wr+" could not compress event - will use uncompressed event",y)}return h}(s):s,p={$snapshot_bytes:Zy(u),$snapshot_data:u,$session_id:this.sessionId,$window_id:this.windowId};this.status!=="disabled"?this._captureSnapshotBuffered(p):this.clearBuffer()}}}}}_pageViewFallBack(){if(!this.instance.config.capture_pageview&&fe){var t=this._maskUrl(fe.location.href);this._lastHref!==t&&(this._tryAddCustomEvent("$url_changed",{href:t}),this._lastHref=t)}}_processQueuedEvents(){if(this.queuedRRWebEvents.length){var t=[...this.queuedRRWebEvents];this.queuedRRWebEvents=[],t.forEach(n=>{Date.now()-n.enqueuedAt<=2e3&&this._tryRRWebMethod(n)})}}_maskUrl(t){var n=this.instance.config.session_recording;if(n.maskNetworkRequestFn){var r,i={url:t};return(r=i=n.maskNetworkRequestFn(i))===null||r===void 0?void 0:r.url}return t}clearBuffer(){return this.buffer={size:0,data:[],sessionId:this.sessionId,windowId:this.windowId},this.buffer}_flushBuffer(){this.flushBufferTimer&&(clearTimeout(this.flushBufferTimer),this.flushBufferTimer=void 0);var t=this.minimumDuration,n=this.sessionDuration,r=ns(n)&&n>=0,i=ns(t)&&r&&n<t;return this.status==="buffering"||i?(this.flushBufferTimer=setTimeout(()=>{this._flushBuffer()},2e3),this.buffer):(this.buffer.data.length>0&&aS(this.buffer).forEach(s=>{this._captureSnapshot({$snapshot_bytes:s.size,$snapshot_data:s.data,$session_id:s.sessionId,$window_id:s.windowId})}),this.clearBuffer())}_captureSnapshotBuffered(t){var n,r=2+(((n=this.buffer)===null||n===void 0?void 0:n.data.length)||0);!this.isIdle&&(this.buffer.size+t.$snapshot_bytes+r>943718.4||this.buffer.sessionId!==this.sessionId)&&(this.buffer=this._flushBuffer()),this.buffer.size+=t.$snapshot_bytes,this.buffer.data.push(t.$snapshot_data),this.flushBufferTimer||this.isIdle||(this.flushBufferTimer=setTimeout(()=>{this._flushBuffer()},2e3))}_captureSnapshot(t){this.instance.capture("$snapshot",t,{_url:this.instance.requestRouter.endpointFor("api",this._endpoint),_noTruncate:!0,_batchKey:"recordings",skip_client_rate_limiting:!0})}_checkUrlTriggerConditions(){if(fe!==void 0&&fe.location.href){var t=fe.location.href,n=this.status==="paused",r=wM(t,this._urlBlocklist);r&&!n?this._pauseRecording():!r&&n&&this._resumeRecording(),wM(t,this._urlTriggers)&&this._activateTrigger("url")}}_activateTrigger(t){var n,r;this.triggerStatus==="trigger_pending"&&((n=this.instance)===null||n===void 0||(r=n.persistence)===null||r===void 0||r.register({[t==="url"?n1:r1]:this.sessionId}),this._flushBuffer(),this._reportStarted(t+"_trigger_matched"))}_pauseRecording(){var t,n;this.status!=="paused"&&(this._urlBlocked=!0,qe==null||(t=qe.body)===null||t===void 0||(n=t.classList)===null||n===void 0||n.add("ph-no-capture"),clearInterval(this._fullSnapshotTimer),setTimeout(()=>{this._flushBuffer()},100),xe.info(Wr+" recording paused due to URL blocker"),this._tryAddCustomEvent("recording paused",{reason:"url blocker"}))}_resumeRecording(){var t,n;this.status==="paused"&&(this._urlBlocked=!1,qe==null||(t=qe.body)===null||t===void 0||(n=t.classList)===null||n===void 0||n.remove("ph-no-capture"),this._tryTakeFullSnapshot(),this._scheduleFullSnapshot(),this._tryAddCustomEvent("recording resumed",{reason:"left blocked url"}),xe.info(Wr+" recording resumed"))}_addEventTriggerListener(){this._eventTriggers.length!==0&&In(this._removeEventTriggerCaptureHook)&&(this._removeEventTriggerCaptureHook=this.instance.on("eventCaptured",t=>{try{this._eventTriggers.includes(t.event)&&this._activateTrigger("event")}catch(n){xe.error(Wr+"Could not activate event trigger",n)}}))}overrideLinkedFlag(){this._linkedFlagSeen=!0,this._reportStarted("linked_flag_overridden")}overrideSampling(){var t;(t=this.instance.persistence)===null||t===void 0||t.register({[zh]:!0}),this._reportStarted("sampling_overridden")}overrideTrigger(t){this._activateTrigger(t)}_reportStarted(t,n){this.instance.register_for_session({$session_recording_start_reason:t}),xe.info(Wr+" "+t.replace("_"," "),n),Ut(["recording_initialized","session_id_changed"],t)||this._tryAddCustomEvent(t,n)}}class hz{constructor(t){this.instance=t,this.instance.decideEndpointWasHit=this.instance._hasBootstrappedFeatureFlags()}call(){var t={token:this.instance.config.token,distinct_id:this.instance.get_distinct_id(),groups:this.instance.getGroups(),person_properties:this.instance.get_property(fd),group_properties:this.instance.get_property(dl),disable_flags:this.instance.config.advanced_disable_feature_flags||this.instance.config.advanced_disable_feature_flags_on_first_load||void 0};this.instance._send_request({method:"POST",url:this.instance.requestRouter.endpointFor("api","/decide/?v=3"),data:t,compression:this.instance.config.disable_compression?void 0:ia.Base64,timeout:this.instance.config.feature_flag_request_timeout_ms,callback:n=>this.parseDecideResponse(n.json)})}parseDecideResponse(t){this.instance.featureFlags.setReloadingPaused(!1),this.instance.featureFlags._startReloadTimer();var n=!t;if(this.instance.config.advanced_disable_feature_flags_on_first_load||this.instance.config.advanced_disable_feature_flags||this.instance.featureFlags.receivedFeatureFlags(t??{},n),!n)return qe&&qe.body?void this.instance._afterDecideResponse(t):(xe.info("document not ready yet, trying again in 500 milliseconds..."),void setTimeout(()=>{this.parseDecideResponse(t)},500));xe.error("Failed to fetch feature flags from PostHog.")}}var ho,pz=fe!=null&&fe.location?Xy(fe.location.hash,"__posthog")||Xy(location.hash,"state"):null,EM="_postHogToolbarParams";(function(e){e[e.UNINITIALIZED=0]="UNINITIALIZED",e[e.LOADING=1]="LOADING",e[e.LOADED=2]="LOADED"})(ho||(ho={}));class gz{constructor(t){this.instance=t}setToolbarState(t){Ct.ph_toolbar_state=t}getToolbarState(){var t;return(t=Ct.ph_toolbar_state)!==null&&t!==void 0?t:ho.UNINITIALIZED}maybeLoadToolbar(){var t,n,r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:void 0,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:void 0,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;if(!fe||!qe)return!1;r=(t=r)!==null&&t!==void 0?t:fe.location,s=(n=s)!==null&&n!==void 0?n:fe.history;try{if(!i){try{fe.localStorage.setItem("test","test"),fe.localStorage.removeItem("test")}catch{return!1}i=fe==null?void 0:fe.localStorage}var l,c=pz||Xy(r.hash,"__posthog")||Xy(r.hash,"state"),d=c?Hk(()=>JSON.parse(atob(decodeURIComponent(c))))||Hk(()=>JSON.parse(decodeURIComponent(c))):null;return d&&d.action==="ph_authorize"?((l=d).source="url",l&&Object.keys(l).length>0&&(d.desiredHash?r.hash=d.desiredHash:s?s.replaceState(s.state,"",r.pathname+r.search):r.hash="")):((l=JSON.parse(i.getItem(EM)||"{}")).source="localstorage",delete l.userIntent),!(!l.token||this.instance.config.token!==l.token)&&(this.loadToolbar(l),!0)}catch{return!1}}_callLoadToolbar(t){(Ct.ph_load_toolbar||Ct.ph_load_editor)(t,this.instance)}loadToolbar(t){var n=!(qe==null||!qe.getElementById(Uj));if(!fe||n)return!1;var r=this.instance.requestRouter.region==="custom"&&this.instance.config.advanced_disable_toolbar_metrics,i=Oe(Oe({token:this.instance.config.token},t),{},{apiURL:this.instance.requestRouter.endpointFor("ui")},r?{instrument:!1}:{});if(fe.localStorage.setItem(EM,JSON.stringify(Oe(Oe({},i),{},{source:void 0}))),this.getToolbarState()===ho.LOADED)this._callLoadToolbar(i);else if(this.getToolbarState()===ho.UNINITIALIZED){var s,l;this.setToolbarState(ho.LOADING),(s=Ct.__PosthogExtensions__)===null||s===void 0||(l=s.loadExternalDependency)===null||l===void 0||l.call(s,this.instance,"toolbar",c=>{if(c)return xe.error("Failed to load toolbar",c),void this.setToolbarState(ho.UNINITIALIZED);this.setToolbarState(ho.LOADED),this._callLoadToolbar(i)}),mo(fe,"turbolinks:load",()=>{this.setToolbarState(ho.UNINITIALIZED),this.loadToolbar(i)})}return!0}_loadEditor(t){return this.loadToolbar(t)}maybeLoadEditor(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:void 0,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:void 0,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;return this.maybeLoadToolbar(t,n,r)}}class mz{constructor(t){Le(this,"isPaused",!0),Le(this,"queue",[]),Le(this,"flushTimeoutMs",3e3),this.sendRequest=t}enqueue(t){this.queue.push(t),this.flushTimeout||this.setFlushTimeout()}unload(){this.clearFlushTimeout();var t=this.queue.length>0?this.formatQueue():{},n=Object.values(t),r=[...n.filter(i=>i.url.indexOf("/e")===0),...n.filter(i=>i.url.indexOf("/e")!==0)];r.map(i=>{this.sendRequest(Oe(Oe({},i),{},{transport:"sendBeacon"}))})}enable(){this.isPaused=!1,this.setFlushTimeout()}setFlushTimeout(){var t=this;this.isPaused||(this.flushTimeout=setTimeout(()=>{if(this.clearFlushTimeout(),this.queue.length>0){var n=this.formatQueue(),r=function(s){var l=n[s],c=new Date().getTime();l.data&&mr(l.data)&&wn(l.data,d=>{d.offset=Math.abs(d.timestamp-c),delete d.timestamp}),t.sendRequest(l)};for(var i in n)r(i)}},this.flushTimeoutMs))}clearFlushTimeout(){clearTimeout(this.flushTimeout),this.flushTimeout=void 0}formatQueue(){var t={};return wn(this.queue,n=>{var r,i=n,s=(i?i.batchKey:null)||i.url;tt(t[s])&&(t[s]=Oe(Oe({},i),{},{data:[]})),(r=t[s].data)===null||r===void 0||r.push(i.data)}),this.queue=[],t}}var yz=!!G_||!!q_,TM="text/plain",n0=(e,t)=>{var[n,r]=e.split("?"),i=Oe({},t);r==null||r.split("&").forEach(l=>{var[c]=l.split("=");delete i[c]});var s=IF(i);return s=s?(r?r+"&":"")+s:r,"".concat(n,"?").concat(s)},Am=(e,t)=>JSON.stringify(e,(n,r)=>typeof r=="bigint"?r.toString():r,t),c1=e=>{var{data:t,compression:n}=e;if(t){if(n===ia.GZipJS){var r=_P(SP(Am(t)),{mtime:0}),i=new Blob([r],{type:TM});return{contentType:TM,body:i,estimatedSize:i.size}}if(n===ia.Base64){var s=function(d){var u,p,h,y,v,b="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_=0,w=0,T="",k=[];if(!d)return d;d=gF(d);do u=(v=d.charCodeAt(_++)<<16|d.charCodeAt(_++)<<8|d.charCodeAt(_++))>>18&63,p=v>>12&63,h=v>>6&63,y=63&v,k[w++]=b.charAt(u)+b.charAt(p)+b.charAt(h)+b.charAt(y);while(_<d.length);switch(T=k.join(""),d.length%3){case 1:T=T.slice(0,-2)+"==";break;case 2:T=T.slice(0,-1)+"="}return T}(Am(t)),l=(d=>"data="+encodeURIComponent(typeof d=="string"?d:Am(d)))(s);return{contentType:"application/x-www-form-urlencoded",body:l,estimatedSize:new Blob([l]).size}}var c=Am(t);return{contentType:"application/json",body:c,estimatedSize:new Blob([c]).size}}},Zh=[];G_&&Zh.push({transport:"XHR",method:e=>{var t,n=new G_;n.open(e.method||"GET",e.url,!0);var{contentType:r,body:i}=(t=c1(e))!==null&&t!==void 0?t:{};wn(e.headers,function(s,l){n.setRequestHeader(l,s)}),r&&n.setRequestHeader("Content-Type",r),e.timeout&&(n.timeout=e.timeout),n.withCredentials=!0,n.onreadystatechange=()=>{if(n.readyState===4){var s,l={statusCode:n.status,text:n.responseText};if(n.status===200)try{l.json=JSON.parse(n.responseText)}catch{}(s=e.callback)===null||s===void 0||s.call(e,l)}},n.send(i)}}),q_&&Zh.push({transport:"fetch",method:e=>{var t,n,{contentType:r,body:i,estimatedSize:s}=(t=c1(e))!==null&&t!==void 0?t:{},l=new Headers;wn(e.headers,function(p,h){l.append(h,p)}),r&&l.append("Content-Type",r);var c=e.url,d=null;if(Uk){var u=new Uk;d={signal:u.signal,timeout:setTimeout(()=>u.abort(),e.timeout)}}q_(c,{method:(e==null?void 0:e.method)||"GET",headers:l,keepalive:e.method==="POST"&&(s||0)<52428.8,body:i,signal:(n=d)===null||n===void 0?void 0:n.signal}).then(p=>p.text().then(h=>{var y,v={statusCode:p.status,text:h};if(p.status===200)try{v.json=JSON.parse(h)}catch(b){xe.error(b)}(y=e.callback)===null||y===void 0||y.call(e,v)})).catch(p=>{var h;xe.error(p),(h=e.callback)===null||h===void 0||h.call(e,{statusCode:0,text:p})}).finally(()=>d?clearTimeout(d.timeout):null)}}),is!=null&&is.sendBeacon&&Zh.push({transport:"sendBeacon",method:e=>{var t=n0(e.url,{beacon:"1"});try{var n,{contentType:r,body:i}=(n=c1(e))!==null&&n!==void 0?n:{},s=typeof i=="string"?new Blob([i],{type:r}):i;is.sendBeacon(t,s)}catch{}}});var vz=["retriesPerformedSoFar"];class Az{constructor(t){Le(this,"isPolling",!1),Le(this,"pollIntervalMs",3e3),Le(this,"queue",[]),this.instance=t,this.queue=[],this.areWeOnline=!0,!tt(fe)&&"onLine"in fe.navigator&&(this.areWeOnline=fe.navigator.onLine,fe.addEventListener("online",()=>{this.areWeOnline=!0,this.flush()}),fe.addEventListener("offline",()=>{this.areWeOnline=!1}))}retriableRequest(t){var{retriesPerformedSoFar:n}=t,r=Fj(t,vz);ns(n)&&n>0&&(r.url=n0(r.url,{retry_count:n})),this.instance._send_request(Oe(Oe({},r),{},{callback:i=>{var s;i.statusCode!==200&&(i.statusCode<400||i.statusCode>=500)&&(n??0)<10?this.enqueue(Oe({retriesPerformedSoFar:n},r)):(s=r.callback)===null||s===void 0||s.call(r,i)}}))}enqueue(t){var n=t.retriesPerformedSoFar||0;t.retriesPerformedSoFar=n+1;var r=function(l){var c=3e3*Math.pow(2,l),d=c/2,u=Math.min(18e5,c),p=(Math.random()-.5)*(u-d);return Math.ceil(u+p)}(n),i=Date.now()+r;this.queue.push({retryAt:i,requestOptions:t});var s="Enqueued failed request for retry in ".concat(r);navigator.onLine||(s+=" (Browser is offline)"),xe.warn(s),this.isPolling||(this.isPolling=!0,this.poll())}poll(){this.poller&&clearTimeout(this.poller),this.poller=setTimeout(()=>{this.areWeOnline&&this.queue.length>0&&this.flush(),this.poll()},this.pollIntervalMs)}flush(){var t=Date.now(),n=[],r=this.queue.filter(s=>s.retryAt<t||(n.push(s),!1));if(this.queue=n,r.length>0)for(var{requestOptions:i}of r)this.retriableRequest(i)}unload(){for(var{requestOptions:t}of(this.poller&&(clearTimeout(this.poller),this.poller=void 0),this.queue))try{this.instance._send_request(Oe(Oe({},t),{},{transport:"sendBeacon"}))}catch(n){xe.error(n)}this.queue=[]}}var xc;class bz{constructor(t,n,r){var i;if(Le(this,"_sessionIdChangedHandlers",[]),!t.persistence)throw new Error("SessionIdManager requires a PostHogPersistence instance");this.config=t.config,this.persistence=t.persistence,this._windowId=void 0,this._sessionId=void 0,this._sessionStartTimestamp=null,this._sessionActivityTimestamp=null,this._sessionIdGenerator=n||gl,this._windowIdGenerator=r||gl;var s=this.config.persistence_name||this.config.token,l=this.config.session_idle_timeout_seconds||1800;if(this._sessionTimeoutMs=1e3*Ma(l,60,36e3,"session_idle_timeout_seconds",1800),t.register({$configured_session_timeout_ms:this._sessionTimeoutMs}),this._window_id_storage_key="ph_"+s+"_window_id",this._primary_window_exists_storage_key="ph_"+s+"_primary_window_exists",this._canUseSessionStorage()){var c=ei.parse(this._window_id_storage_key),d=ei.parse(this._primary_window_exists_storage_key);c&&!d?this._windowId=c:ei.remove(this._window_id_storage_key),ei.set(this._primary_window_exists_storage_key,!0)}if((i=this.config.bootstrap)!==null&&i!==void 0&&i.sessionID)try{var u=(p=>{var h=p.replace(/-/g,"");if(h.length!==32)throw new Error("Not a valid UUID");if(h[12]!=="7")throw new Error("Not a UUIDv7");return parseInt(h.substring(0,12),16)})(this.config.bootstrap.sessionID);this._setSessionId(this.config.bootstrap.sessionID,new Date().getTime(),u)}catch(p){xe.error("Invalid sessionID in bootstrap",p)}this._listenToReloadWindow()}get sessionTimeoutMs(){return this._sessionTimeoutMs}onSessionId(t){return tt(this._sessionIdChangedHandlers)&&(this._sessionIdChangedHandlers=[]),this._sessionIdChangedHandlers.push(t),this._sessionId&&t(this._sessionId,this._windowId),()=>{this._sessionIdChangedHandlers=this._sessionIdChangedHandlers.filter(n=>n!==t)}}_canUseSessionStorage(){return this.config.persistence!=="memory"&&!this.persistence.disabled&&ei.is_supported()}_setWindowId(t){t!==this._windowId&&(this._windowId=t,this._canUseSessionStorage()&&ei.set(this._window_id_storage_key,t))}_getWindowId(){return this._windowId?this._windowId:this._canUseSessionStorage()?ei.parse(this._window_id_storage_key):null}_setSessionId(t,n,r){t===this._sessionId&&n===this._sessionActivityTimestamp&&r===this._sessionStartTimestamp||(this._sessionStartTimestamp=r,this._sessionActivityTimestamp=n,this._sessionId=t,this.persistence.register({[Gy]:[n,t,r]}))}_getSessionId(){if(this._sessionId&&this._sessionActivityTimestamp&&this._sessionStartTimestamp)return[this._sessionActivityTimestamp,this._sessionId,this._sessionStartTimestamp];var t=this.persistence.props[Gy];return mr(t)&&t.length===2&&t.push(t[0]),t||[0,null,0]}resetSessionId(){this._setSessionId(null,null,null)}_listenToReloadWindow(){fe==null||fe.addEventListener("beforeunload",()=>{this._canUseSessionStorage()&&ei.remove(this._primary_window_exists_storage_key)})}checkAndGetSessionAndWindowId(){var t=arguments.length>0&&arguments[0]!==void 0&&arguments[0],n=(arguments.length>1&&arguments[1]!==void 0?arguments[1]:null)||new Date().getTime(),[r,i,s]=this._getSessionId(),l=this._getWindowId(),c=ns(s)&&s>0&&Math.abs(n-s)>864e5,d=!1,u=!i,p=!t&&Math.abs(n-r)>this.sessionTimeoutMs;u||p||c?(i=this._sessionIdGenerator(),l=this._windowIdGenerator(),xe.info("[SessionId] new session ID generated",{sessionId:i,windowId:l,changeReason:{noSessionId:u,activityTimeout:p,sessionPastMaximumLength:c}}),s=n,d=!0):l||(l=this._windowIdGenerator(),d=!0);var h=r===0||!t||c?n:r,y=s===0?new Date().getTime():s;return this._setWindowId(l),this._setSessionId(i,h,y),d&&this._sessionIdChangedHandlers.forEach(v=>v(i,l,d?{noSessionId:u,activityTimeout:p,sessionPastMaximumLength:c}:void 0)),{sessionId:i,windowId:l,sessionStartTimestamp:y,changeReason:d?{noSessionId:u,activityTimeout:p,sessionPastMaximumLength:c}:void 0,lastActivityTimestamp:r}}}(function(e){e.US="us",e.EU="eu",e.CUSTOM="custom"})(xc||(xc={}));var CM="i.posthog.com";class _z{constructor(t){Le(this,"_regionCache",{}),this.instance=t}get apiHost(){var t=this.instance.config.api_host.trim().replace(/\/$/,"");return t==="https://app.posthog.com"?"https://us.i.posthog.com":t}get uiHost(){var t,n=(t=this.instance.config.ui_host)===null||t===void 0?void 0:t.replace(/\/$/,"");return n||(n=this.apiHost.replace(".".concat(CM),".posthog.com")),n==="https://app.posthog.com"?"https://us.posthog.com":n}get region(){return this._regionCache[this.apiHost]||(/https:\/\/(app|us|us-assets)(\.i)?\.posthog\.com/i.test(this.apiHost)?this._regionCache[this.apiHost]=xc.US:/https:\/\/(eu|eu-assets)(\.i)?\.posthog\.com/i.test(this.apiHost)?this._regionCache[this.apiHost]=xc.EU:this._regionCache[this.apiHost]=xc.CUSTOM),this._regionCache[this.apiHost]}endpointFor(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";if(n&&(n=n[0]==="/"?n:"/".concat(n)),t==="ui")return this.uiHost+n;if(this.region===xc.CUSTOM)return this.apiHost+n;var r=CM+n;switch(t){case"assets":return"https://".concat(this.region,"-assets.").concat(r);case"api":return"https://".concat(this.region,".").concat(r)}}}var xP="posthog-js";function wP(e){var{organization:t,projectId:n,prefix:r,severityAllowList:i=["error"]}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return s=>{var l,c,d,u,p;if(!(i==="*"||i.includes(s.level))||!e.__loaded)return s;s.tags||(s.tags={});var h=e.requestRouter.endpointFor("ui","/project/".concat(e.config.token,"/person/").concat(e.get_distinct_id()));s.tags["PostHog Person URL"]=h,e.sessionRecordingStarted()&&(s.tags["PostHog Recording URL"]=e.get_session_replay_url({withTimestamp:!0}));var y=((l=s.exception)===null||l===void 0?void 0:l.values)||[];y.map(b=>{b.stacktrace&&(b.stacktrace.type="raw")});var v={$exception_message:((c=y[0])===null||c===void 0?void 0:c.value)||s.message,$exception_type:(d=y[0])===null||d===void 0?void 0:d.type,$exception_personURL:h,$exception_level:s.level,$exception_list:y,$sentry_event_id:s.event_id,$sentry_exception:s.exception,$sentry_exception_message:((u=y[0])===null||u===void 0?void 0:u.value)||s.message,$sentry_exception_type:(p=y[0])===null||p===void 0?void 0:p.type,$sentry_tags:s.tags};return t&&n&&(v.$sentry_url=(r||"https://sentry.io/organizations/")+t+"/issues/?project="+n+"&query="+s.event_id),e.exceptions.sendExceptionEvent(v),s}}class Sz{constructor(t,n,r,i,s){this.name=xP,this.setupOnce=function(l){l(wP(t,{organization:n,projectId:r,prefix:i,severityAllowList:s}))}}}var kM,r0,ea;function xz(e,t){var n=e.config.segment;if(!n)return t();(function(r,i){var s=r.config.segment;if(!s)return i();var l=d=>{var u=()=>d.anonymousId()||gl();r.config.get_device_id=u,d.id()&&(r.register({distinct_id:d.id(),$device_id:u()}),r.persistence.set_property(uo,"identified")),i()},c=s.user();"then"in c&&Vs(c.then)?c.then(d=>l(d)):l(c)})(e,()=>{n.register((r=>{Promise&&Promise.resolve||xe.warn("This browser does not have Promise support, and can not use the segment integration");var i=(s,l)=>{var c;if(!l)return s;s.event.userId||s.event.anonymousId===r.get_distinct_id()||(xe.info("Segment integration does not have a userId set, resetting PostHog"),r.reset()),s.event.userId&&s.event.userId!==r.get_distinct_id()&&(xe.info("Segment integration has a userId set, identifying with PostHog"),r.identify(s.event.userId));var d=r._calculate_event_properties(l,(c=s.event.properties)!==null&&c!==void 0?c:{},new Date);return s.event.properties=Object.assign({},d,s.event.properties),s};return{name:"PostHog JS",type:"enrichment",version:"1.0.0",isLoaded:()=>!0,load:()=>Promise.resolve(),track:s=>i(s,s.event.event),page:s=>i(s,"$pageview"),identify:s=>i(s,"$identify"),screen:s=>i(s,"$screen")}})(e)).then(()=>{t()})})}class wz{constructor(t){this._instance=t}doPageView(t){var n,r=this._previousPageViewProperties(t);return this._currentPath=(n=fe==null?void 0:fe.location.pathname)!==null&&n!==void 0?n:"",this._instance.scrollManager.resetContext(),this._prevPageviewTimestamp=t,r}doPageLeave(t){return this._previousPageViewProperties(t)}_previousPageViewProperties(t){var n=this._currentPath,r=this._prevPageviewTimestamp,i=this._instance.scrollManager.getContext();if(!r)return{};var s={};if(i){var{maxScrollHeight:l,lastScrollY:c,maxScrollY:d,maxContentHeight:u,lastContentY:p,maxContentY:h}=i;tt(l)||tt(c)||tt(d)||tt(u)||tt(p)||tt(h)||(l=Math.ceil(l),c=Math.ceil(c),d=Math.ceil(d),u=Math.ceil(u),p=Math.ceil(p),h=Math.ceil(h),s={$prev_pageview_last_scroll:c,$prev_pageview_last_scroll_percentage:l<=1?1:Ma(c/l,0,1),$prev_pageview_max_scroll:d,$prev_pageview_max_scroll_percentage:l<=1?1:Ma(d/l,0,1),$prev_pageview_last_content:p,$prev_pageview_last_content_percentage:u<=1?1:Ma(p/u,0,1),$prev_pageview_max_content:h,$prev_pageview_max_content_percentage:u<=1?1:Ma(h/u,0,1)})}return n&&(s.$prev_pageview_pathname=n),r&&(s.$prev_pageview_duration=(t.getTime()-r.getTime())/1e3),s}}(function(e){e.Popover="popover",e.API="api",e.Widget="widget"})(kM||(kM={})),function(e){e.Open="open",e.MultipleChoice="multiple_choice",e.SingleChoice="single_choice",e.Rating="rating",e.Link="link"}(r0||(r0={})),function(e){e.NextQuestion="next_question",e.End="end",e.ResponseBased="response_based",e.SpecificQuestion="specific_question"}(ea||(ea={}));class EP{constructor(){Le(this,"events",{}),this.events={}}on(t,n){return this.events[t]||(this.events[t]=[]),this.events[t].push(n),()=>{this.events[t]=this.events[t].filter(r=>r!==n)}}emit(t,n){for(var r of this.events[t]||[])r(n);for(var i of this.events["*"]||[])i(t,n)}}class yc{constructor(t){Le(this,"_debugEventEmitter",new EP),Le(this,"checkStep",(n,r)=>this.checkStepEvent(n,r)&&this.checkStepUrl(n,r)&&this.checkStepElement(n,r)),Le(this,"checkStepEvent",(n,r)=>r==null||!r.event||(n==null?void 0:n.event)===(r==null?void 0:r.event)),this.instance=t,this.actionEvents=new Set,this.actionRegistry=new Set}init(){var t;if(!tt((t=this.instance)===null||t===void 0?void 0:t._addCaptureHook)){var n;(n=this.instance)===null||n===void 0||n._addCaptureHook((r,i)=>{this.on(r,i)})}}register(t){var n,r;if(!tt((n=this.instance)===null||n===void 0?void 0:n._addCaptureHook)&&(t.forEach(l=>{var c,d;(c=this.actionRegistry)===null||c===void 0||c.add(l),(d=l.steps)===null||d===void 0||d.forEach(u=>{var p;(p=this.actionEvents)===null||p===void 0||p.add((u==null?void 0:u.event)||"")})}),(r=this.instance)!==null&&r!==void 0&&r.autocapture)){var i,s=new Set;t.forEach(l=>{var c;(c=l.steps)===null||c===void 0||c.forEach(d=>{d!=null&&d.selector&&s.add(d==null?void 0:d.selector)})}),(i=this.instance)===null||i===void 0||i.autocapture.setElementSelectors(s)}}on(t,n){var r;n!=null&&t.length!=0&&(this.actionEvents.has(t)||this.actionEvents.has(n==null?void 0:n.event))&&this.actionRegistry&&((r=this.actionRegistry)===null||r===void 0?void 0:r.size)>0&&this.actionRegistry.forEach(i=>{this.checkAction(n,i)&&this._debugEventEmitter.emit("actionCaptured",i.name)})}_addActionHook(t){this.onAction("actionCaptured",n=>t(n))}checkAction(t,n){if((n==null?void 0:n.steps)==null)return!1;for(var r of n.steps)if(this.checkStep(t,r))return!0;return!1}onAction(t,n){return this._debugEventEmitter.on(t,n)}checkStepUrl(t,n){if(n!=null&&n.url){var r,i=t==null||(r=t.properties)===null||r===void 0?void 0:r.$current_url;if(!i||typeof i!="string"||!yc.matchString(i,n==null?void 0:n.url,(n==null?void 0:n.url_matching)||"contains"))return!1}return!0}static matchString(t,n,r){switch(r){case"regex":return!!fe&&Pd(t,n);case"exact":return n===t;case"contains":var i=yc.escapeStringRegexp(n).replace(/_/g,".").replace(/%/g,".*");return Pd(t,i);default:return!1}}static escapeStringRegexp(t){return t.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}checkStepElement(t,n){if((n!=null&&n.href||n!=null&&n.tag_name||n!=null&&n.text)&&!this.getElementsList(t).some(s=>!(n!=null&&n.href&&!yc.matchString(s.href||"",n==null?void 0:n.href,(n==null?void 0:n.href_matching)||"exact"))&&(n==null||!n.tag_name||s.tag_name===(n==null?void 0:n.tag_name))&&!(n!=null&&n.text&&!yc.matchString(s.text||"",n==null?void 0:n.text,(n==null?void 0:n.text_matching)||"exact")&&!yc.matchString(s.$el_text||"",n==null?void 0:n.text,(n==null?void 0:n.text_matching)||"exact"))))return!1;if(n!=null&&n.selector){var r,i=t==null||(r=t.properties)===null||r===void 0?void 0:r.$element_selectors;if(!i||!i.includes(n==null?void 0:n.selector))return!1}return!0}getElementsList(t){return(t==null?void 0:t.properties.$elements)==null?[]:t==null?void 0:t.properties.$elements}}class pp{constructor(t){this.instance=t,this.eventToSurveys=new Map,this.actionToSurveys=new Map}register(t){var n;tt((n=this.instance)===null||n===void 0?void 0:n._addCaptureHook)||(this.setupEventBasedSurveys(t),this.setupActionBasedSurveys(t))}setupActionBasedSurveys(t){var n=t.filter(r=>{var i,s,l,c;return((i=r.conditions)===null||i===void 0?void 0:i.actions)&&((s=r.conditions)===null||s===void 0||(l=s.actions)===null||l===void 0||(c=l.values)===null||c===void 0?void 0:c.length)>0});n.length!==0&&(this.actionMatcher==null&&(this.actionMatcher=new yc(this.instance),this.actionMatcher.init(),this.actionMatcher._addActionHook(r=>{this.onAction(r)})),n.forEach(r=>{var i,s,l,c,d,u,p,h,y,v;r.conditions&&(i=r.conditions)!==null&&i!==void 0&&i.actions&&(s=r.conditions)!==null&&s!==void 0&&(l=s.actions)!==null&&l!==void 0&&l.values&&((c=r.conditions)===null||c===void 0||(d=c.actions)===null||d===void 0||(u=d.values)===null||u===void 0?void 0:u.length)>0&&((p=this.actionMatcher)===null||p===void 0||p.register(r.conditions.actions.values),(h=r.conditions)===null||h===void 0||(y=h.actions)===null||y===void 0||(v=y.values)===null||v===void 0||v.forEach(b=>{if(b&&b.name){var _=this.actionToSurveys.get(b.name);_&&_.push(r.id),this.actionToSurveys.set(b.name,_||[r.id])}}))}))}setupEventBasedSurveys(t){var n;t.filter(r=>{var i,s,l,c;return((i=r.conditions)===null||i===void 0?void 0:i.events)&&((s=r.conditions)===null||s===void 0||(l=s.events)===null||l===void 0||(c=l.values)===null||c===void 0?void 0:c.length)>0}).length!==0&&((n=this.instance)===null||n===void 0||n._addCaptureHook((r,i)=>{this.onEvent(r,i)}),t.forEach(r=>{var i,s,l;(i=r.conditions)===null||i===void 0||(s=i.events)===null||s===void 0||(l=s.values)===null||l===void 0||l.forEach(c=>{if(c&&c.name){var d=this.eventToSurveys.get(c.name);d&&d.push(r.id),this.eventToSurveys.set(c.name,d||[r.id])}})}))}onEvent(t,n){var r,i,s=((r=this.instance)===null||r===void 0||(i=r.persistence)===null||i===void 0?void 0:i.props[hm])||[];if(pp.SURVEY_SHOWN_EVENT_NAME==t&&n&&s.length>0){var l,c=n==null||(l=n.properties)===null||l===void 0?void 0:l.$survey_id;if(c){var d=s.indexOf(c);d>=0&&(s.splice(d,1),this._updateActivatedSurveys(s))}}else this.eventToSurveys.has(t)&&this._updateActivatedSurveys(s.concat(this.eventToSurveys.get(t)||[]))}onAction(t){var n,r,i=((n=this.instance)===null||n===void 0||(r=n.persistence)===null||r===void 0?void 0:r.props[hm])||[];this.actionToSurveys.has(t)&&this._updateActivatedSurveys(i.concat(this.actionToSurveys.get(t)||[]))}_updateActivatedSurveys(t){var n,r;(n=this.instance)===null||n===void 0||(r=n.persistence)===null||r===void 0||r.register({[hm]:[...new Set(t)]})}getSurveys(){var t,n,r=(t=this.instance)===null||t===void 0||(n=t.persistence)===null||n===void 0?void 0:n.props[hm];return r||[]}getEventToSurveys(){return this.eventToSurveys}_getActionMatcher(){return this.actionMatcher}}Le(pp,"SURVEY_SHOWN_EVENT_NAME","survey shown");var TP,cr,CP,vc,MM,kP,gS,MP,mS={},RP=[],Ez=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,uw=Array.isArray;function ml(e,t){for(var n in t)e[n]=t[n];return e}function IP(e){var t=e.parentNode;t&&t.removeChild(e)}function u1(e,t,n,r,i){var s={type:e,props:t,key:n,ref:r,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:i??++CP,__i:-1,__u:0};return i==null&&cr.vnode!=null&&cr.vnode(s),s}function dw(e){return e.children}function my(e,t){this.props=e,this.context=t}function Nd(e,t){if(t==null)return e.__?Nd(e.__,e.__i+1):null;for(var n;t<e.__k.length;t++)if((n=e.__k[t])!=null&&n.__e!=null)return n.__e;return typeof e.type=="function"?Nd(e):null}function OP(e){var t,n;if((e=e.__)!=null&&e.__c!=null){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if((n=e.__k[t])!=null&&n.__e!=null){e.__e=e.__c.base=n.__e;break}return OP(e)}}function yS(e){(!e.__d&&(e.__d=!0)&&vc.push(e)&&!i0.__r++||MM!==cr.debounceRendering)&&((MM=cr.debounceRendering)||kP)(i0)}function i0(){var e,t,n,r,i,s,l,c,d;for(vc.sort(gS);e=vc.shift();)e.__d&&(t=vc.length,r=void 0,s=(i=(n=e).__v).__e,c=[],d=[],(l=n.__P)&&((r=ml({},i)).__v=i.__v+1,cr.vnode&&cr.vnode(r),VP(l,r,i,n.__n,l.ownerSVGElement!==void 0,32&i.__u?[s]:null,c,s??Nd(i),!!(32&i.__u),d),r.__.__k[r.__i]=r,kz(c,r,d),r.__e!=s&&OP(r)),vc.length>t&&vc.sort(gS));i0.__r=0}function jP(e,t,n,r,i,s,l,c,d,u,p){var h,y,v,b,_,w=r&&r.__k||RP,T=t.length;for(n.__d=d,Tz(n,t,w),d=n.__d,h=0;h<T;h++)(v=n.__k[h])!=null&&typeof v!="boolean"&&typeof v!="function"&&(y=v.__i===-1?mS:w[v.__i]||mS,v.__i=h,VP(e,v,y,i,s,l,c,d,u,p),b=v.__e,v.ref&&y.ref!=v.ref&&(y.ref&&fw(y.ref,null,v),p.push(v.ref,v.__c||b,v)),_==null&&b!=null&&(_=b),65536&v.__u||y.__k===v.__k?d=PP(v,d,e):typeof v.type=="function"&&v.__d!==void 0?d=v.__d:b&&(d=b.nextSibling),v.__d=void 0,v.__u&=-196609);n.__d=d,n.__e=_}function Tz(e,t,n){var r,i,s,l,c,d=t.length,u=n.length,p=u,h=0;for(e.__k=[],r=0;r<d;r++)(i=e.__k[r]=(i=t[r])==null||typeof i=="boolean"||typeof i=="function"?null:typeof i=="string"||typeof i=="number"||typeof i=="bigint"||i.constructor==String?u1(null,i,null,null,i):uw(i)?u1(dw,{children:i},null,null,null):i.constructor===void 0&&i.__b>0?u1(i.type,i.props,i.key,i.ref?i.ref:null,i.__v):i)!=null?(i.__=e,i.__b=e.__b+1,c=Cz(i,n,l=r+h,p),i.__i=c,s=null,c!==-1&&(p--,(s=n[c])&&(s.__u|=131072)),s==null||s.__v===null?(c==-1&&h--,typeof i.type!="function"&&(i.__u|=65536)):c!==l&&(c===l+1?h++:c>l?p>d-l?h+=c-l:h--:h=c<l&&c==l-1?c-l:0,c!==r+h&&(i.__u|=65536))):(s=n[r])&&s.key==null&&s.__e&&(s.__e==e.__d&&(e.__d=Nd(s)),vS(s,s,!1),n[r]=null,p--);if(p)for(r=0;r<u;r++)(s=n[r])!=null&&!(131072&s.__u)&&(s.__e==e.__d&&(e.__d=Nd(s)),vS(s,s))}function PP(e,t,n){var r,i;if(typeof e.type=="function"){for(r=e.__k,i=0;r&&i<r.length;i++)r[i]&&(r[i].__=e,t=PP(r[i],t,n));return t}return e.__e!=t&&(n.insertBefore(e.__e,t||null),t=e.__e),t&&t.nextSibling}function Cz(e,t,n,r){var i=e.key,s=e.type,l=n-1,c=n+1,d=t[n];if(d===null||d&&i==d.key&&s===d.type)return n;if(r>(d!=null&&!(131072&d.__u)?1:0))for(;l>=0||c<t.length;){if(l>=0){if((d=t[l])&&!(131072&d.__u)&&i==d.key&&s===d.type)return l;l--}if(c<t.length){if((d=t[c])&&!(131072&d.__u)&&i==d.key&&s===d.type)return c;c++}}return-1}function RM(e,t,n){t[0]==="-"?e.setProperty(t,n??""):e[t]=n==null?"":typeof n!="number"||Ez.test(t)?n:n+"px"}function bm(e,t,n,r,i){var s;e:if(t==="style")if(typeof n=="string")e.style.cssText=n;else{if(typeof r=="string"&&(e.style.cssText=r=""),r)for(t in r)n&&t in n||RM(e.style,t,"");if(n)for(t in n)r&&n[t]===r[t]||RM(e.style,t,n[t])}else if(t[0]==="o"&&t[1]==="n")s=t!==(t=t.replace(/(PointerCapture)$|Capture$/,"$1")),t=t.toLowerCase()in e?t.toLowerCase().slice(2):t.slice(2),e.l||(e.l={}),e.l[t+s]=n,n?r?n.u=r.u:(n.u=Date.now(),e.addEventListener(t,s?OM:IM,s)):e.removeEventListener(t,s?OM:IM,s);else{if(i)t=t.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(t!=="width"&&t!=="height"&&t!=="href"&&t!=="list"&&t!=="form"&&t!=="tabIndex"&&t!=="download"&&t!=="rowSpan"&&t!=="colSpan"&&t!=="role"&&t in e)try{e[t]=n??"";break e}catch{}typeof n=="function"||(n==null||n===!1&&t[4]!=="-"?e.removeAttribute(t):e.setAttribute(t,n))}}function IM(e){var t=this.l[e.type+!1];if(e.t){if(e.t<=t.u)return}else e.t=Date.now();return t(cr.event?cr.event(e):e)}function OM(e){return this.l[e.type+!0](cr.event?cr.event(e):e)}function VP(e,t,n,r,i,s,l,c,d,u){var p,h,y,v,b,_,w,T,k,R,M,E,O,P,j,V=t.type;if(t.constructor!==void 0)return null;128&n.__u&&(d=!!(32&n.__u),s=[c=t.__e=n.__e]),(p=cr.__b)&&p(t);e:if(typeof V=="function")try{if(T=t.props,k=(p=V.contextType)&&r[p.__c],R=p?k?k.props.value:p.__:r,n.__c?w=(h=t.__c=n.__c).__=h.__E:("prototype"in V&&V.prototype.render?t.__c=h=new V(T,R):(t.__c=h=new my(T,R),h.constructor=V,h.render=Rz),k&&k.sub(h),h.props=T,h.state||(h.state={}),h.context=R,h.__n=r,y=h.__d=!0,h.__h=[],h._sb=[]),h.__s==null&&(h.__s=h.state),V.getDerivedStateFromProps!=null&&(h.__s==h.state&&(h.__s=ml({},h.__s)),ml(h.__s,V.getDerivedStateFromProps(T,h.__s))),v=h.props,b=h.state,h.__v=t,y)V.getDerivedStateFromProps==null&&h.componentWillMount!=null&&h.componentWillMount(),h.componentDidMount!=null&&h.__h.push(h.componentDidMount);else{if(V.getDerivedStateFromProps==null&&T!==v&&h.componentWillReceiveProps!=null&&h.componentWillReceiveProps(T,R),!h.__e&&(h.shouldComponentUpdate!=null&&h.shouldComponentUpdate(T,h.__s,R)===!1||t.__v===n.__v)){for(t.__v!==n.__v&&(h.props=T,h.state=h.__s,h.__d=!1),t.__e=n.__e,t.__k=n.__k,t.__k.forEach(function(C){C&&(C.__=t)}),M=0;M<h._sb.length;M++)h.__h.push(h._sb[M]);h._sb=[],h.__h.length&&l.push(h);break e}h.componentWillUpdate!=null&&h.componentWillUpdate(T,h.__s,R),h.componentDidUpdate!=null&&h.__h.push(function(){h.componentDidUpdate(v,b,_)})}if(h.context=R,h.props=T,h.__P=e,h.__e=!1,E=cr.__r,O=0,"prototype"in V&&V.prototype.render){for(h.state=h.__s,h.__d=!1,E&&E(t),p=h.render(h.props,h.state,h.context),P=0;P<h._sb.length;P++)h.__h.push(h._sb[P]);h._sb=[]}else do h.__d=!1,E&&E(t),p=h.render(h.props,h.state,h.context),h.state=h.__s;while(h.__d&&++O<25);h.state=h.__s,h.getChildContext!=null&&(r=ml(ml({},r),h.getChildContext())),y||h.getSnapshotBeforeUpdate==null||(_=h.getSnapshotBeforeUpdate(v,b)),jP(e,uw(j=p!=null&&p.type===dw&&p.key==null?p.props.children:p)?j:[j],t,n,r,i,s,l,c,d,u),h.base=t.__e,t.__u&=-161,h.__h.length&&l.push(h),w&&(h.__E=h.__=null)}catch(C){t.__v=null,d||s!=null?(t.__e=c,t.__u|=d?160:32,s[s.indexOf(c)]=null):(t.__e=n.__e,t.__k=n.__k),cr.__e(C,t,n)}else s==null&&t.__v===n.__v?(t.__k=n.__k,t.__e=n.__e):t.__e=Mz(n.__e,t,n,r,i,s,l,d,u);(p=cr.diffed)&&p(t)}function kz(e,t,n){t.__d=void 0;for(var r=0;r<n.length;r++)fw(n[r],n[++r],n[++r]);cr.__c&&cr.__c(t,e),e.some(function(i){try{e=i.__h,i.__h=[],e.some(function(s){s.call(i)})}catch(s){cr.__e(s,i.__v)}})}function Mz(e,t,n,r,i,s,l,c,d){var u,p,h,y,v,b,_,w=n.props,T=t.props,k=t.type;if(k==="svg"&&(i=!0),s!=null){for(u=0;u<s.length;u++)if((v=s[u])&&"setAttribute"in v==!!k&&(k?v.localName===k:v.nodeType===3)){e=v,s[u]=null;break}}if(e==null){if(k===null)return document.createTextNode(T);e=i?document.createElementNS("http://www.w3.org/2000/svg",k):document.createElement(k,T.is&&T),s=null,c=!1}if(k===null)w===T||c&&e.data===T||(e.data=T);else{if(s=s&&TP.call(e.childNodes),w=n.props||mS,!c&&s!=null)for(w={},u=0;u<e.attributes.length;u++)w[(v=e.attributes[u]).name]=v.value;for(u in w)v=w[u],u=="children"||(u=="dangerouslySetInnerHTML"?h=v:u==="key"||u in T||bm(e,u,null,v,i));for(u in T)v=T[u],u=="children"?y=v:u=="dangerouslySetInnerHTML"?p=v:u=="value"?b=v:u=="checked"?_=v:u==="key"||c&&typeof v!="function"||w[u]===v||bm(e,u,v,w[u],i);if(p)c||h&&(p.__html===h.__html||p.__html===e.innerHTML)||(e.innerHTML=p.__html),t.__k=[];else if(h&&(e.innerHTML=""),jP(e,uw(y)?y:[y],t,n,r,i&&k!=="foreignObject",s,l,s?s[0]:n.__k&&Nd(n,0),c,d),s!=null)for(u=s.length;u--;)s[u]!=null&&IP(s[u]);c||(u="value",b!==void 0&&(b!==e[u]||k==="progress"&&!b||k==="option"&&b!==w[u])&&bm(e,u,b,w[u],!1),u="checked",_!==void 0&&_!==e[u]&&bm(e,u,_,w[u],!1))}return e}function fw(e,t,n){try{typeof e=="function"?e(t):e.current=t}catch(r){cr.__e(r,n)}}function vS(e,t,n){var r,i;if(cr.unmount&&cr.unmount(e),(r=e.ref)&&(r.current&&r.current!==e.__e||fw(r,null,t)),(r=e.__c)!=null){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(s){cr.__e(s,t)}r.base=r.__P=null,e.__c=void 0}if(r=e.__k)for(i=0;i<r.length;i++)r[i]&&vS(r[i],t,n||typeof e.type!="function");n||e.__e==null||IP(e.__e),e.__=e.__e=e.__d=void 0}function Rz(e,t,n){return this.constructor(e,n)}TP=RP.slice,cr={__e:function(e,t,n,r){for(var i,s,l;t=t.__;)if((i=t.__c)&&!i.__)try{if((s=i.constructor)&&s.getDerivedStateFromError!=null&&(i.setState(s.getDerivedStateFromError(e)),l=i.__d),i.componentDidCatch!=null&&(i.componentDidCatch(e,r||{}),l=i.__d),l)return i.__E=i}catch(c){e=c}throw e}},CP=0,my.prototype.setState=function(e,t){var n;n=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=ml({},this.state),typeof e=="function"&&(e=e(ml({},n),this.props)),e&&ml(n,e),e!=null&&this.__v&&(t&&this._sb.push(t),yS(this))},my.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),yS(this))},my.prototype.render=dw,vc=[],kP=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,gS=function(e,t){return e.__v.__b-t.__v.__b},i0.__r=0,MP=0;(function(e,t){var n={__c:t="__cC"+MP++,__:e,Consumer:function(r,i){return r.children(i)},Provider:function(r){var i,s;return this.getChildContext||(i=[],(s={})[t]=this,this.getChildContext=function(){return s},this.shouldComponentUpdate=function(l){this.props.value!==l.value&&i.some(function(c){c.__e=!0,yS(c)})},this.sub=function(l){i.push(l);var c=l.componentWillUnmount;l.componentWillUnmount=function(){i.splice(i.indexOf(l),1),c&&c.call(l)}}),r.children}};n.Provider.__=n.Consumer.contextType=n})({isPreviewMode:!1,previewPageIndex:0,handleCloseSurveyPopup:()=>{},isPopup:!0});var Sh="[Surveys]",Iz={icontains:e=>!!fe&&fe.location.href.toLowerCase().indexOf(e.toLowerCase())>-1,not_icontains:e=>!!fe&&fe.location.href.toLowerCase().indexOf(e.toLowerCase())===-1,regex:e=>!!fe&&Pd(fe.location.href,e),not_regex:e=>!!fe&&!Pd(fe.location.href,e),exact:e=>(fe==null?void 0:fe.location.href)===e,is_not:e=>(fe==null?void 0:fe.location.href)!==e};class Oz{constructor(t){this.instance=t,this._surveyEventReceiver=null}afterDecideResponse(t){this._decideServerResponse=!!t.surveys,this.loadIfEnabled()}reset(){localStorage.removeItem("lastSeenSurveyDate");var t=(()=>{for(var n=[],r=0;r<localStorage.length;r++){var i=localStorage.key(r);i!=null&&i.startsWith("seenSurvey_")&&n.push(i)}return n})();t.forEach(n=>localStorage.removeItem(n))}loadIfEnabled(){var t,n,r,i=Ct==null||(t=Ct.__PosthogExtensions__)===null||t===void 0?void 0:t.generateSurveys;this.instance.config.disable_surveys||!this._decideServerResponse||i||(this._surveyEventReceiver==null&&(this._surveyEventReceiver=new pp(this.instance)),(n=Ct.__PosthogExtensions__)===null||n===void 0||(r=n.loadExternalDependency)===null||r===void 0||r.call(n,this.instance,"surveys",s=>{var l,c;if(s)return xe.error(Sh,"Could not load surveys script",s);this._surveyManager=(l=Ct.__PosthogExtensions__)===null||l===void 0||(c=l.generateSurveys)===null||c===void 0?void 0:c.call(l,this.instance)}))}getSurveys(t){var n=arguments.length>1&&arguments[1]!==void 0&&arguments[1];if(this.instance.config.disable_surveys)return t([]);this._surveyEventReceiver==null&&(this._surveyEventReceiver=new pp(this.instance));var r=this.instance.get_property(X_);if(r&&!n)return t(r);this.instance._send_request({url:this.instance.requestRouter.endpointFor("api","/api/surveys/?token=".concat(this.instance.config.token)),method:"GET",transport:"XHR",callback:i=>{var s;if(i.statusCode!==200||!i.json)return t([]);var l,c=i.json.surveys||[],d=c.filter(u=>{var p,h,y,v,b,_,w,T,k,R,M,E;return((p=u.conditions)===null||p===void 0?void 0:p.events)&&((h=u.conditions)===null||h===void 0||(y=h.events)===null||y===void 0?void 0:y.values)&&((v=u.conditions)===null||v===void 0||(b=v.events)===null||b===void 0||(_=b.values)===null||_===void 0?void 0:_.length)>0||((w=u.conditions)===null||w===void 0?void 0:w.actions)&&((T=u.conditions)===null||T===void 0||(k=T.actions)===null||k===void 0?void 0:k.values)&&((R=u.conditions)===null||R===void 0||(M=R.actions)===null||M===void 0||(E=M.values)===null||E===void 0?void 0:E.length)>0});return d.length>0&&((l=this._surveyEventReceiver)===null||l===void 0||l.register(d)),(s=this.instance.persistence)===null||s===void 0||s.register({[X_]:c}),t(c)}})}getActiveMatchingSurveys(t){var n=arguments.length>1&&arguments[1]!==void 0&&arguments[1];this.getSurveys(r=>{var i,s=r.filter(d=>!(!d.start_date||d.end_date)).filter(d=>{var u,p,h,y;if(!d.conditions)return!0;var v=(u=d.conditions)===null||u===void 0||!u.url||Iz[(p=(h=d.conditions)===null||h===void 0?void 0:h.urlMatchType)!==null&&p!==void 0?p:"icontains"](d.conditions.url),b=(y=d.conditions)===null||y===void 0||!y.selector||(qe==null?void 0:qe.querySelector(d.conditions.selector));return v&&b}),l=(i=this._surveyEventReceiver)===null||i===void 0?void 0:i.getSurveys(),c=s.filter(d=>{var u,p,h,y,v,b,_,w,T,k,R;if(!(d.linked_flag_key||d.targeting_flag_key||d.internal_targeting_flag_key||(u=d.feature_flag_keys)!==null&&u!==void 0&&u.length))return!0;var M=!d.linked_flag_key||this.instance.featureFlags.isFeatureEnabled(d.linked_flag_key),E=!d.targeting_flag_key||this.instance.featureFlags.isFeatureEnabled(d.targeting_flag_key),O=((p=d.conditions)===null||p===void 0?void 0:p.events)&&((h=d.conditions)===null||h===void 0||(y=h.events)===null||y===void 0?void 0:y.values)&&((v=d.conditions)===null||v===void 0||(b=v.events)===null||b===void 0?void 0:b.values.length)>0,P=((_=d.conditions)===null||_===void 0?void 0:_.actions)&&((w=d.conditions)===null||w===void 0||(T=w.actions)===null||T===void 0?void 0:T.values)&&((k=d.conditions)===null||k===void 0||(R=k.actions)===null||R===void 0?void 0:R.values.length)>0,j=!O&&!P||(l==null?void 0:l.includes(d.id)),V=this._canActivateRepeatedly(d),C=!(d.internal_targeting_flag_key&&!V)||this.instance.featureFlags.isFeatureEnabled(d.internal_targeting_flag_key),N=this.checkFlags(d);return M&&E&&C&&j&&N});return t(c)},n)}checkFlags(t){var n;return(n=t.feature_flag_keys)===null||n===void 0||!n.length||t.feature_flag_keys.every(r=>{var{key:i,value:s}=r;return!i||!s||this.instance.featureFlags.isFeatureEnabled(s)})}getNextSurveyStep(t,n,r){var i,s=t.questions[n],l=n+1;if((i=s.branching)===null||i===void 0||!i.type)return n===t.questions.length-1?ea.End:l;if(s.branching.type===ea.End)return ea.End;if(s.branching.type===ea.SpecificQuestion){if(Number.isInteger(s.branching.index))return s.branching.index}else if(s.branching.type===ea.ResponseBased){if(s.type===r0.SingleChoice){var c,d,u=s.choices.indexOf("".concat(r));if((c=s.branching)!==null&&c!==void 0&&(d=c.responseValues)!==null&&d!==void 0&&d.hasOwnProperty(u)){var p=s.branching.responseValues[u];return Number.isInteger(p)?p:p===ea.End?ea.End:l}}else if(s.type===r0.Rating){var h,y;if(typeof r!="number"||!Number.isInteger(r))throw new Error("The response type must be an integer");var v=function(_,w){if(w===3){if(_<1||_>3)throw new Error("The response must be in range 1-3");return _===1?"negative":_===2?"neutral":"positive"}if(w===5){if(_<1||_>5)throw new Error("The response must be in range 1-5");return _<=2?"negative":_===3?"neutral":"positive"}if(w===7){if(_<1||_>7)throw new Error("The response must be in range 1-7");return _<=3?"negative":_===4?"neutral":"positive"}if(w===10){if(_<0||_>10)throw new Error("The response must be in range 0-10");return _<=6?"detractors":_<=8?"passives":"promoters"}throw new Error("The scale must be one of: 3, 5, 7, 10")}(r,s.scale);if((h=s.branching)!==null&&h!==void 0&&(y=h.responseValues)!==null&&y!==void 0&&y.hasOwnProperty(v)){var b=s.branching.responseValues[v];return Number.isInteger(b)?b:b===ea.End?ea.End:l}}return l}return xe.warn(Sh,"Falling back to next question index due to unexpected branching type"),l}_canActivateRepeatedly(t){var n;return In((n=Ct.__PosthogExtensions__)===null||n===void 0?void 0:n.canActivateRepeatedly)?(xe.warn(Sh,"canActivateRepeatedly is not defined, must init before calling"),!1):Ct.__PosthogExtensions__.canActivateRepeatedly(t)}canRenderSurvey(t){In(this._surveyManager)?xe.warn(Sh,"canActivateRepeatedly is not defined, must init before calling"):this.getSurveys(n=>{var r=n.filter(i=>i.id===t)[0];this._surveyManager.canRenderSurvey(r)})}renderSurvey(t,n){In(this._surveyManager)?xe.warn(Sh,"canActivateRepeatedly is not defined, must init before calling"):this.getSurveys(r=>{var i=r.filter(s=>s.id===t)[0];this._surveyManager.renderSurvey(i,qe==null?void 0:qe.querySelector(n))})}}class jz{constructor(t){var n,r;Le(this,"serverLimits",{}),Le(this,"lastEventRateLimited",!1),Le(this,"checkForLimiting",i=>{var s=i.text;if(s&&s.length)try{(JSON.parse(s).quota_limited||[]).forEach(l=>{xe.info("[RateLimiter] ".concat(l||"events"," is quota limited.")),this.serverLimits[l]=new Date().getTime()+6e4})}catch(l){return void xe.warn('[RateLimiter] could not rate limit - continuing. Error: "'.concat(l==null?void 0:l.message,'"'),{text:s})}}),this.instance=t,this.captureEventsPerSecond=((n=t.config.rate_limiting)===null||n===void 0?void 0:n.events_per_second)||10,this.captureEventsBurstLimit=Math.max(((r=t.config.rate_limiting)===null||r===void 0?void 0:r.events_burst_limit)||10*this.captureEventsPerSecond,this.captureEventsPerSecond),this.lastEventRateLimited=this.clientRateLimitContext(!0).isRateLimited}clientRateLimitContext(){var t,n,r,i=arguments.length>0&&arguments[0]!==void 0&&arguments[0],s=new Date().getTime(),l=(t=(n=this.instance.persistence)===null||n===void 0?void 0:n.get_property(Z_))!==null&&t!==void 0?t:{tokens:this.captureEventsBurstLimit,last:s};l.tokens+=(s-l.last)/1e3*this.captureEventsPerSecond,l.last=s,l.tokens>this.captureEventsBurstLimit&&(l.tokens=this.captureEventsBurstLimit);var c=l.tokens<1;return c||i||(l.tokens=Math.max(0,l.tokens-1)),!c||this.lastEventRateLimited||i||this.instance.capture("$$client_ingestion_warning",{$$client_ingestion_warning_message:"posthog-js client rate limited. Config is set to ".concat(this.captureEventsPerSecond," events per second and ").concat(this.captureEventsBurstLimit," events burst limit.")},{skip_client_rate_limiting:!0}),this.lastEventRateLimited=c,(r=this.instance.persistence)===null||r===void 0||r.set_property(Z_,l),{isRateLimited:c,remainingTokens:l.tokens}}isServerRateLimited(t){var n=this.serverLimits[t||"events"]||!1;return n!==!1&&new Date().getTime()<n}}var Pz=()=>Oe({initialPathName:(Li==null?void 0:Li.pathname)||"",referringDomain:lr.referringDomain()},lr.campaignParams());class Vz{constructor(t,n,r){Le(this,"_onSessionIdCallback",i=>{var s=this._getStoredProps();if(!s||s.sessionId!==i){var l={sessionId:i,props:this._sessionSourceParamGenerator()};this._persistence.register({[J_]:l})}}),this._sessionIdManager=t,this._persistence=n,this._sessionSourceParamGenerator=r||Pz,this._sessionIdManager.onSessionId(this._onSessionIdCallback)}_getStoredProps(){return this._persistence.props[J_]}getSessionProps(){var t,n=(t=this._getStoredProps())===null||t===void 0?void 0:t.props;return n?{$client_session_initial_referring_host:n.referringDomain,$client_session_initial_pathname:n.initialPathName,$client_session_initial_utm_source:n.utm_source,$client_session_initial_utm_campaign:n.utm_campaign,$client_session_initial_utm_medium:n.utm_medium,$client_session_initial_utm_content:n.utm_content,$client_session_initial_utm_term:n.utm_term}:{}}}var Dz=["ahrefsbot","ahrefssiteaudit","applebot","baiduspider","bingbot","bingpreview","bot.htm","bot.php","crawler","deepscan","duckduckbot","facebookexternal","facebookcatalog","gptbot","http://yandex.com/bots","hubspot","ia_archiver","linkedinbot","mj12bot","msnbot","nessus","petalbot","pinterest","prerender","rogerbot","screaming frog","semrushbot","sitebulb","slurp","turnitin","twitterbot","vercelbot","yahoo! slurp","yandexbot","headlesschrome","cypress","Google-HotelAdsVerifier","adsbot-google","apis-google","duplexweb-google","feedfetcher-google","google favicon","google web preview","google-read-aloud","googlebot","googleweblight","mediapartners-google","storebot-google","Bytespider;"],jM=function(e,t){if(!e)return!1;var n=e.toLowerCase();return Dz.concat(t||[]).some(r=>{var i=r.toLowerCase();return n.indexOf(i)!==-1})},DP=function(e,t){if(!e)return!1;var n=e.userAgent;if(n&&jM(n,t))return!0;try{var r=e==null?void 0:e.userAgentData;if(r!=null&&r.brands&&r.brands.some(i=>jM(i==null?void 0:i.brand,t)))return!0}catch{}return!!e.webdriver};class BP{constructor(){this.clicks=[]}isRageClick(t,n,r){var i=this.clicks[this.clicks.length-1];if(i&&Math.abs(t-i.x)+Math.abs(n-i.y)<30&&r-i.timestamp<1e3){if(this.clicks.push({x:t,y:n,timestamp:r}),this.clicks.length===3)return!0}else this.clicks=[{x:t,y:n,timestamp:r}];return!1}}var _m="[Dead Clicks]",Bz=()=>!0,Nz=e=>{var t,n=!((t=e.instance.persistence)===null||t===void 0||!t.get_property($j)),r=e.instance.config.capture_dead_clicks;return Sc(r)?r:n};class NP{get lazyLoadedDeadClicksAutocapture(){return this._lazyLoadedDeadClicksAutocapture}constructor(t,n,r){this.instance=t,this.isEnabled=n,this.onCapture=r,this.startIfEnabled()}afterDecideResponse(t){this.instance.persistence&&this.instance.persistence.register({[$j]:t==null?void 0:t.captureDeadClicks}),this.startIfEnabled()}startIfEnabled(){this.isEnabled(this)&&this.loadScript(()=>{this.start()})}loadScript(t){var n,r,i;(n=Ct.__PosthogExtensions__)!==null&&n!==void 0&&n.initDeadClicksAutocapture&&t(),(r=Ct.__PosthogExtensions__)===null||r===void 0||(i=r.loadExternalDependency)===null||i===void 0||i.call(r,this.instance,"dead-clicks-autocapture",s=>{s?xe.error(_m+" failed to load script",s):t()})}start(){var t;if(qe){if(!this._lazyLoadedDeadClicksAutocapture&&(t=Ct.__PosthogExtensions__)!==null&&t!==void 0&&t.initDeadClicksAutocapture){var n=Cr(this.instance.config.capture_dead_clicks)?this.instance.config.capture_dead_clicks:{};n.__onCapture=this.onCapture,this._lazyLoadedDeadClicksAutocapture=Ct.__PosthogExtensions__.initDeadClicksAutocapture(this.instance,n),this._lazyLoadedDeadClicksAutocapture.start(qe),xe.info("".concat(_m," starting..."))}}else xe.error(_m+" `document` not found. Cannot start.")}stop(){this._lazyLoadedDeadClicksAutocapture&&(this._lazyLoadedDeadClicksAutocapture.stop(),this._lazyLoadedDeadClicksAutocapture=void 0,xe.info("".concat(_m," stopping...")))}}class Lz{constructor(t){var n;Le(this,"rageclicks",new BP),Le(this,"_enabledServerSide",!1),Le(this,"_initialized",!1),Le(this,"_flushInterval",null),this.instance=t,this._enabledServerSide=!((n=this.instance.persistence)===null||n===void 0||!n.props[K_]),fe==null||fe.addEventListener("beforeunload",()=>{this.flush()})}get flushIntervalMilliseconds(){var t=5e3;return Cr(this.instance.config.capture_heatmaps)&&this.instance.config.capture_heatmaps.flush_interval_milliseconds&&(t=this.instance.config.capture_heatmaps.flush_interval_milliseconds),t}get isEnabled(){return tt(this.instance.config.capture_heatmaps)?tt(this.instance.config.enable_heatmaps)?this._enabledServerSide:this.instance.config.enable_heatmaps:this.instance.config.capture_heatmaps!==!1}startIfEnabled(){if(this.isEnabled){if(this._initialized)return;xe.info("[heatmaps] starting..."),this._setupListeners(),this._flushInterval=setInterval(this.flush.bind(this),this.flushIntervalMilliseconds)}else{var t,n;clearInterval((t=this._flushInterval)!==null&&t!==void 0?t:void 0),(n=this.deadClicksCapture)===null||n===void 0||n.stop(),this.getAndClearBuffer()}}afterDecideResponse(t){var n=!!t.heatmaps;this.instance.persistence&&this.instance.persistence.register({[K_]:n}),this._enabledServerSide=n,this.startIfEnabled()}getAndClearBuffer(){var t=this.buffer;return this.buffer=void 0,t}_onDeadClick(t){this._onClick(t.originalEvent,"deadclick")}_setupListeners(){fe&&qe&&(mo(qe,"click",t=>this._onClick(t||(fe==null?void 0:fe.event)),!1,!0),mo(qe,"mousemove",t=>this._onMouseMove(t||(fe==null?void 0:fe.event)),!1,!0),this.deadClicksCapture=new NP(this.instance,Bz,this._onDeadClick.bind(this)),this.deadClicksCapture.startIfEnabled(),this._initialized=!0)}_getProperties(t,n){var r=this.instance.scrollManager.scrollY(),i=this.instance.scrollManager.scrollX(),s=this.instance.scrollManager.scrollElement(),l=function(c,d,u){for(var p=c;p&&G0(p)&&!Al(p,"body");){if(p===u)return!1;if(Ut(d,fe==null?void 0:fe.getComputedStyle(p).position))return!0;p=uP(p)}return!1}(cP(t),["fixed","sticky"],s);return{x:t.clientX+(l?0:i),y:t.clientY+(l?0:r),target_fixed:l,type:n}}_onClick(t){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"click";if(!hM(t.target)){var i=this._getProperties(t,r);(n=this.rageclicks)!==null&&n!==void 0&&n.isRageClick(t.clientX,t.clientY,new Date().getTime())&&this._capture(Oe(Oe({},i),{},{type:"rageclick"})),this._capture(i)}}_onMouseMove(t){hM(t.target)||(clearTimeout(this._mouseMoveTimeout),this._mouseMoveTimeout=setTimeout(()=>{this._capture(this._getProperties(t,"mousemove"))},500))}_capture(t){if(fe){var n=fe.location.href;this.buffer=this.buffer||{},this.buffer[n]||(this.buffer[n]=[]),this.buffer[n].push(t)}}flush(){this.buffer&&!ud(this.buffer)&&this.instance.capture("$$heatmap",{$heatmap_data:this.getAndClearBuffer()})}}class Fz{constructor(t){Le(this,"_updateScrollData",()=>{var n,r,i,s;this.context||(this.context={});var l=this.scrollElement(),c=this.scrollY(),d=l?Math.max(0,l.scrollHeight-l.clientHeight):0,u=c+((l==null?void 0:l.clientHeight)||0),p=(l==null?void 0:l.scrollHeight)||0;this.context.lastScrollY=Math.ceil(c),this.context.maxScrollY=Math.max(c,(n=this.context.maxScrollY)!==null&&n!==void 0?n:0),this.context.maxScrollHeight=Math.max(d,(r=this.context.maxScrollHeight)!==null&&r!==void 0?r:0),this.context.lastContentY=u,this.context.maxContentY=Math.max(u,(i=this.context.maxContentY)!==null&&i!==void 0?i:0),this.context.maxContentHeight=Math.max(p,(s=this.context.maxContentHeight)!==null&&s!==void 0?s:0)}),this.instance=t}getContext(){return this.context}resetContext(){var t=this.context;return setTimeout(this._updateScrollData,0),t}startMeasuringScrollPosition(){fe==null||fe.addEventListener("scroll",this._updateScrollData,!0),fe==null||fe.addEventListener("scrollend",this._updateScrollData,!0),fe==null||fe.addEventListener("resize",this._updateScrollData)}scrollElement(){if(!this.instance.config.scroll_root_selector)return fe==null?void 0:fe.document.documentElement;var t=mr(this.instance.config.scroll_root_selector)?this.instance.config.scroll_root_selector:[this.instance.config.scroll_root_selector];for(var n of t){var r=fe==null?void 0:fe.document.querySelector(n);if(r)return r}}scrollY(){if(this.instance.config.scroll_root_selector){var t=this.scrollElement();return t&&t.scrollTop||0}return fe&&(fe.scrollY||fe.pageYOffset||fe.document.documentElement.scrollTop)||0}scrollX(){if(this.instance.config.scroll_root_selector){var t=this.scrollElement();return t&&t.scrollLeft||0}return fe&&(fe.scrollX||fe.pageXOffset||fe.document.documentElement.scrollLeft)||0}}function d1(e,t){return t.length>e?t.slice(0,e)+"...":t}function zz(e){if(e.previousElementSibling)return e.previousElementSibling;var t=e;do t=t.previousSibling;while(t&&!G0(t));return t}function $z(e,t,n,r){var i=e.tagName.toLowerCase(),s={tag_name:i};oS.indexOf(i)>-1&&!n&&(i.toLowerCase()==="a"||i.toLowerCase()==="button"?s.$el_text=d1(1024,pP(e)):s.$el_text=d1(1024,Y0(e)));var l=e0(e);l.length>0&&(s.classes=l.filter(function(p){return p!==""})),wn(e.attributes,function(p){var h;if((!dP(e)||["name","id","class","aria-label"].indexOf(p.name)!==-1)&&(r==null||!r.includes(p.name))&&!t&&Dd(p.value)&&(h=p.name,!fi(h)||h.substring(0,10)!=="_ngcontent"&&h.substring(0,7)!=="_nghost")){var y=p.value;p.name==="class"&&(y=ow(y).join(" ")),s["attr__"+p.name]=d1(1024,y)}});for(var c=1,d=1,u=e;u=zz(u);)c++,u.tagName===e.tagName&&d++;return s.nth_child=c,s.nth_of_type=d,s}function Uz(e,t){for(var n,r,{e:i,maskAllElementAttributes:s,maskAllText:l,elementAttributeIgnoreList:c,elementsChainAsString:d}=t,u=[e],p=e;p.parentNode&&!Al(p,"body");)oP(p.parentNode)?(u.push(p.parentNode.host),p=p.parentNode.host):(u.push(p.parentNode),p=p.parentNode);var h,y=[],v={},b=!1,_=!1;if(wn(u,M=>{var E=lS(M);M.tagName.toLowerCase()==="a"&&(b=M.getAttribute("href"),b=E&&b&&Dd(b)&&b),Ut(e0(M),"ph-no-capture")&&(_=!0),y.push($z(M,s,l,c));var O=function(P){if(!lS(P))return{};var j={};return wn(P.attributes,function(V){if(V.name&&V.name.indexOf("data-ph-capture-attribute")===0){var C=V.name.replace("data-ph-capture-attribute-",""),N=V.value;C&&N&&Dd(N)&&(j[C]=N)}}),j}(M);Ti(v,O)}),_)return{props:{},explicitNoCapture:_};if(l||(e.tagName.toLowerCase()==="a"||e.tagName.toLowerCase()==="button"?y[0].$el_text=pP(e):y[0].$el_text=Y0(e)),b){var w,T;y[0].attr__href=b;var k=(w=Ad(b))===null||w===void 0?void 0:w.host,R=fe==null||(T=fe.location)===null||T===void 0?void 0:T.host;k&&R&&k!==R&&(h=b)}return{props:Ti({$event_type:i.type,$ce_version:1},d?{}:{$elements:y},{$elements_chain:KF(y)},(n=y[0])!==null&&n!==void 0&&n.$el_text?{$el_text:(r=y[0])===null||r===void 0?void 0:r.$el_text}:{},h&&i.type==="click"?{$external_click_url:h}:{},v)}}class Hz{constructor(t){Le(this,"_initialized",!1),Le(this,"_isDisabledServerSide",null),Le(this,"rageclicks",new BP),Le(this,"_elementsChainAsString",!1),this.instance=t,this._elementSelectors=null}get config(){var t,n,r=Cr(this.instance.config.autocapture)?this.instance.config.autocapture:{};return r.url_allowlist=(t=r.url_allowlist)===null||t===void 0?void 0:t.map(i=>new RegExp(i)),r.url_ignorelist=(n=r.url_ignorelist)===null||n===void 0?void 0:n.map(i=>new RegExp(i)),r}_addDomEventHandlers(){if(this.isBrowserSupported()){if(fe&&qe){var t=r=>{r=r||(fe==null?void 0:fe.event);try{this._captureEvent(r)}catch(i){xe.error("Failed to capture event",i)}},n=r=>{r=r||(fe==null?void 0:fe.event),this._captureEvent(r,t1)};mo(qe,"submit",t,!1,!0),mo(qe,"change",t,!1,!0),mo(qe,"click",t,!1,!0),this.config.capture_copied_text&&(mo(qe,"copy",n,!1,!0),mo(qe,"cut",n,!1,!0))}}else xe.info("Disabling Automatic Event Collection because this browser is not supported")}startIfEnabled(){this.isEnabled&&!this._initialized&&(this._addDomEventHandlers(),this._initialized=!0)}afterDecideResponse(t){t.elementsChainAsString&&(this._elementsChainAsString=t.elementsChainAsString),this.instance.persistence&&this.instance.persistence.register({[Wk]:!!t.autocapture_opt_out}),this._isDisabledServerSide=!!t.autocapture_opt_out,this.startIfEnabled()}setElementSelectors(t){this._elementSelectors=t}getElementSelectors(t){var n,r=[];return(n=this._elementSelectors)===null||n===void 0||n.forEach(i=>{var s=qe==null?void 0:qe.querySelectorAll(i);s==null||s.forEach(l=>{t===l&&r.push(i)})}),r}get isEnabled(){var t,n,r=(t=this.instance.persistence)===null||t===void 0?void 0:t.props[Wk],i=this._isDisabledServerSide;if(Il(i)&&!Sc(r)&&!this.instance.config.advanced_disable_decide)return!1;var s=(n=this._isDisabledServerSide)!==null&&n!==void 0?n:!!r;return!!this.instance.config.autocapture&&!s}_captureEvent(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"$autocapture";if(this.isEnabled){var r,i=cP(t);aP(i)&&(i=i.parentNode||null),n==="$autocapture"&&t.type==="click"&&t instanceof MouseEvent&&this.instance.config.rageclick&&(r=this.rageclicks)!==null&&r!==void 0&&r.isRageClick(t.clientX,t.clientY,new Date().getTime())&&this._captureEvent(t,"$rageclick");var s=n===t1;if(i&&UF(i,t,this.config,s,s?["copy","cut"]:void 0)){var{props:l,explicitNoCapture:c}=Uz(i,{e:t,maskAllElementAttributes:this.instance.config.mask_all_element_attributes,maskAllText:this.instance.config.mask_all_text,elementAttributeIgnoreList:this.config.element_attribute_ignorelist,elementsChainAsString:this._elementsChainAsString});if(c)return!1;var d=this.getElementSelectors(i);if(d&&d.length>0&&(l.$element_selectors=d),n===t1){var u,p=lP(fe==null||(u=fe.getSelection())===null||u===void 0?void 0:u.toString()),h=t.type||"clipboard";if(!p)return!1;l.$selected_content=p,l.$copy_type=h}return this.instance.capture(n,l),!0}}}isBrowserSupported(){return Vs(qe==null?void 0:qe.querySelectorAll)}}class qz{constructor(t){Le(this,"_restoreXHRPatch",void 0),Le(this,"_restoreFetchPatch",void 0),Le(this,"_startCapturing",()=>{var n,r,i,s;tt(this._restoreXHRPatch)&&((n=Ct.__PosthogExtensions__)===null||n===void 0||(r=n.tracingHeadersPatchFns)===null||r===void 0||r._patchXHR(this.instance.sessionManager)),tt(this._restoreFetchPatch)&&((i=Ct.__PosthogExtensions__)===null||i===void 0||(s=i.tracingHeadersPatchFns)===null||s===void 0||s._patchFetch(this.instance.sessionManager))}),this.instance=t}_loadScript(t){var n,r,i;(n=Ct.__PosthogExtensions__)!==null&&n!==void 0&&n.tracingHeadersPatchFns&&t(),(r=Ct.__PosthogExtensions__)===null||r===void 0||(i=r.loadExternalDependency)===null||i===void 0||i.call(r,this.instance,"tracing-headers",s=>{if(s)return xe.error("[TRACING-HEADERS] failed to load script",s);t()})}startIfEnabledOrStop(){var t,n;this.instance.config.__add_tracing_headers?this._loadScript(this._startCapturing):((t=this._restoreXHRPatch)===null||t===void 0||t.call(this),(n=this._restoreFetchPatch)===null||n===void 0||n.call(this),this._restoreXHRPatch=void 0,this._restoreFetchPatch=void 0)}}var fl;(function(e){e[e.PENDING=-1]="PENDING",e[e.DENIED=0]="DENIED",e[e.GRANTED=1]="GRANTED"})(fl||(fl={}));class Gz{constructor(t){this.instance=t}get config(){return this.instance.config}get consent(){return this.getDnt()?fl.DENIED:this.storedConsent}isOptedOut(){return this.consent===fl.DENIED||this.consent===fl.PENDING&&this.config.opt_out_capturing_by_default}isOptedIn(){return!this.isOptedOut()}optInOut(t){this.storage.set(this.storageKey,t?1:0,this.config.cookie_expiration,this.config.cross_subdomain_cookie,this.config.secure_cookie)}reset(){this.storage.remove(this.storageKey,this.config.cross_subdomain_cookie)}get storageKey(){var{token:t,opt_out_capturing_cookie_prefix:n}=this.instance.config;return(n||"__ph_opt_in_out_")+t}get storedConsent(){var t=this.storage.get(this.storageKey);return t==="1"?fl.GRANTED:t==="0"?fl.DENIED:fl.PENDING}get storage(){if(!this._storage){var t=this.config.opt_out_capturing_persistence_type;this._storage=t==="localStorage"?Or:bo;var n=t==="localStorage"?bo:Or;n.get(this.storageKey)&&(this._storage.get(this.storageKey)||this.optInOut(n.get(this.storageKey)==="1"),n.remove(this.storageKey,this.config.cross_subdomain_cookie))}return this._storage}getDnt(){return!!this.config.respect_dnt&&!!Bj([is==null?void 0:is.doNotTrack,is==null?void 0:is.msDoNotTrack,Ct.doNotTrack],t=>Ut([!0,1,"1","yes"],t))}}var Sm="[Exception Autocapture]";class Yz{constructor(t){var n;Le(this,"originalOnUnhandledRejectionHandler",void 0),Le(this,"startCapturing",()=>{var r,i,s,l;if(fe&&this.isEnabled&&!this.hasHandlers&&!this.isCapturing){var c=(r=Ct.__PosthogExtensions__)===null||r===void 0||(i=r.errorWrappingFunctions)===null||i===void 0?void 0:i.wrapOnError,d=(s=Ct.__PosthogExtensions__)===null||s===void 0||(l=s.errorWrappingFunctions)===null||l===void 0?void 0:l.wrapUnhandledRejection;if(c&&d)try{this.unwrapOnError=c(this.captureException.bind(this)),this.unwrapUnhandledRejection=d(this.captureException.bind(this))}catch(u){xe.error(Sm+" failed to start",u),this.stopCapturing()}else xe.error(Sm+" failed to load error wrapping functions - cannot start")}}),this.instance=t,this.remoteEnabled=!((n=this.instance.persistence)===null||n===void 0||!n.props[Qk]),this.startIfEnabled()}get isEnabled(){var t;return(t=this.remoteEnabled)!==null&&t!==void 0&&t}get isCapturing(){var t;return!(fe==null||(t=fe.onerror)===null||t===void 0||!t.__POSTHOG_INSTRUMENTED__)}get hasHandlers(){return this.originalOnUnhandledRejectionHandler||this.unwrapOnError}startIfEnabled(){this.isEnabled&&!this.isCapturing&&(xe.info(Sm+" enabled, starting..."),this.loadScript(this.startCapturing))}loadScript(t){var n,r;this.hasHandlers&&t(),(n=Ct.__PosthogExtensions__)===null||n===void 0||(r=n.loadExternalDependency)===null||r===void 0||r.call(n,this.instance,"exception-autocapture",i=>{if(i)return xe.error(Sm+" failed to load script",i);t()})}stopCapturing(){var t,n;(t=this.unwrapOnError)===null||t===void 0||t.call(this),(n=this.unwrapUnhandledRejection)===null||n===void 0||n.call(this)}afterDecideResponse(t){var n=t.autocaptureExceptions;this.remoteEnabled=!!n||!1,this.instance.persistence&&this.instance.persistence.register({[Qk]:this.remoteEnabled}),this.startIfEnabled()}captureException(t){var n=this.instance.requestRouter.endpointFor("ui");t.$exception_personURL="".concat(n,"/project/").concat(this.instance.config.token,"/person/").concat(this.instance.get_distinct_id()),this.instance.exceptions.sendExceptionEvent(t)}}var PM=9e5,cc="[Web Vitals]";class Kz{constructor(t){var n;Le(this,"_enabledServerSide",!1),Le(this,"_initialized",!1),Le(this,"buffer",{url:void 0,metrics:[],firstMetricTimestamp:void 0}),Le(this,"_flushToCapture",()=>{clearTimeout(this._delayedFlushTimer),this.buffer.metrics.length!==0&&(this.instance.capture("$web_vitals",this.buffer.metrics.reduce((r,i)=>Oe(Oe({},r),{},{["$web_vitals_".concat(i.name,"_event")]:Oe({},i),["$web_vitals_".concat(i.name,"_value")]:i.value}),{})),this.buffer={url:void 0,metrics:[],firstMetricTimestamp:void 0})}),Le(this,"_addToBuffer",r=>{var i,s=(i=this.instance.sessionManager)===null||i===void 0?void 0:i.checkAndGetSessionAndWindowId(!0);if(tt(s))xe.error(cc+"Could not read session ID. Dropping metrics!");else{this.buffer=this.buffer||{url:void 0,metrics:[],firstMetricTimestamp:void 0};var l=this._currentURL();tt(l)||(In(r==null?void 0:r.name)||In(r==null?void 0:r.value)?xe.error(cc+"Invalid metric received",r):this._maxAllowedValue&&r.value>=this._maxAllowedValue?xe.error(cc+"Ignoring metric with value >= "+this._maxAllowedValue,r):(this.buffer.url!==l&&(this._flushToCapture(),this._delayedFlushTimer=setTimeout(this._flushToCapture,this.flushToCaptureTimeoutMs)),tt(this.buffer.url)&&(this.buffer.url=l),this.buffer.firstMetricTimestamp=tt(this.buffer.firstMetricTimestamp)?Date.now():this.buffer.firstMetricTimestamp,r.attribution&&r.attribution.interactionTargetElement&&(r.attribution.interactionTargetElement=void 0),this.buffer.metrics.push(Oe(Oe({},r),{},{$current_url:l,$session_id:s.sessionId,$window_id:s.windowId,timestamp:Date.now()})),this.buffer.metrics.length===this.allowedMetrics.length&&this._flushToCapture()))}}),Le(this,"_startCapturing",()=>{var r,i,s,l,c=Ct.__PosthogExtensions__;tt(c)||tt(c.postHogWebVitalsCallbacks)||({onLCP:r,onCLS:i,onFCP:s,onINP:l}=c.postHogWebVitalsCallbacks),r&&i&&s&&l?(this.allowedMetrics.indexOf("LCP")>-1&&r(this._addToBuffer.bind(this)),this.allowedMetrics.indexOf("CLS")>-1&&i(this._addToBuffer.bind(this)),this.allowedMetrics.indexOf("FCP")>-1&&s(this._addToBuffer.bind(this)),this.allowedMetrics.indexOf("INP")>-1&&l(this._addToBuffer.bind(this)),this._initialized=!0):xe.error(cc+"web vitals callbacks not loaded - not starting")}),this.instance=t,this._enabledServerSide=!((n=this.instance.persistence)===null||n===void 0||!n.props[Xk]),this.startIfEnabled()}get allowedMetrics(){var t,n,r=Cr(this.instance.config.capture_performance)?(t=this.instance.config.capture_performance)===null||t===void 0?void 0:t.web_vitals_allowed_metrics:void 0;return tt(r)?((n=this.instance.persistence)===null||n===void 0?void 0:n.props[Jk])||["CLS","FCP","INP","LCP"]:r}get flushToCaptureTimeoutMs(){return(Cr(this.instance.config.capture_performance)?this.instance.config.capture_performance.web_vitals_delayed_flush_ms:void 0)||5e3}get _maxAllowedValue(){var t=Cr(this.instance.config.capture_performance)&&ns(this.instance.config.capture_performance.__web_vitals_max_value)?this.instance.config.capture_performance.__web_vitals_max_value:PM;return 0<t&&t<=6e4?PM:t}get isEnabled(){var t=Cr(this.instance.config.capture_performance)?this.instance.config.capture_performance.web_vitals:void 0;return Sc(t)?t:this._enabledServerSide}startIfEnabled(){this.isEnabled&&!this._initialized&&(xe.info(cc+" enabled, starting..."),this.loadScript(this._startCapturing))}afterDecideResponse(t){var n=Cr(t.capturePerformance)&&!!t.capturePerformance.web_vitals,r=Cr(t.capturePerformance)?t.capturePerformance.web_vitals_allowed_metrics:void 0;this.instance.persistence&&(this.instance.persistence.register({[Xk]:n}),this.instance.persistence.register({[Jk]:r})),this._enabledServerSide=n,this.startIfEnabled()}loadScript(t){var n,r,i;(n=Ct.__PosthogExtensions__)!==null&&n!==void 0&&n.postHogWebVitalsCallbacks&&t(),(r=Ct.__PosthogExtensions__)===null||r===void 0||(i=r.loadExternalDependency)===null||i===void 0||i.call(r,this.instance,"web-vitals",s=>{s?xe.error(cc+" failed to load script",s):t()})}_currentURL(){var t=fe?fe.location.href:void 0;return t||xe.error(cc+"Could not determine current URL"),t}}var Wz={icontains:(e,t)=>!!fe&&t.href.toLowerCase().indexOf(e.toLowerCase())>-1,not_icontains:(e,t)=>!!fe&&t.href.toLowerCase().indexOf(e.toLowerCase())===-1,regex:(e,t)=>!!fe&&Pd(t.href,e),not_regex:(e,t)=>!!fe&&!Pd(t.href,e),exact:(e,t)=>t.href===e,is_not:(e,t)=>t.href!==e};class Fr{constructor(t){var n=this;Le(this,"getWebExperimentsAndEvaluateDisplayLogic",function(){var r=arguments.length>0&&arguments[0]!==void 0&&arguments[0];n.getWebExperiments(i=>{Fr.logInfo("retrieved web experiments from the server"),n._flagToExperiments=new Map,i.forEach(s=>{if(s.feature_flag_key&&n._featureFlags&&n._featureFlags[s.feature_flag_key]){var l;n._flagToExperiments&&(Fr.logInfo("setting flag key ",s.feature_flag_key," to web experiment ",s),(l=n._flagToExperiments)===null||l===void 0||l.set(s.feature_flag_key,s));var c=n._featureFlags[s.feature_flag_key];c&&s.variants[c]&&n.applyTransforms(s.name,c,s.variants[c].transforms)}else if(s.variants)for(var d in s.variants){var u=s.variants[d];Fr.matchesTestVariant(u)&&n.applyTransforms(s.name,d,u.transforms)}})},r)}),this.instance=t,this.instance.onFeatureFlags&&this.instance.onFeatureFlags(r=>{this.applyFeatureFlagChanges(r)}),this._flagToExperiments=new Map}applyFeatureFlagChanges(t){In(this._flagToExperiments)||this.instance.config.disable_web_experiments||(Fr.logInfo("applying feature flags",t),t.forEach(n=>{var r;if(this._flagToExperiments&&(r=this._flagToExperiments)!==null&&r!==void 0&&r.has(n)){var i,s=this.instance.getFeatureFlag(n),l=(i=this._flagToExperiments)===null||i===void 0?void 0:i.get(n);s&&l!=null&&l.variants[s]&&this.applyTransforms(l.name,s,l.variants[s].transforms)}}))}afterDecideResponse(t){this._is_bot()?Fr.logInfo("Refusing to render web experiment since the viewer is a likely bot"):(this._featureFlags=t.featureFlags,this.loadIfEnabled(),this.previewWebExperiment())}previewWebExperiment(){var t=Fr.getWindowLocation();if(t!=null&&t.search){var n=Qy(t==null?void 0:t.search,"__experiment_id"),r=Qy(t==null?void 0:t.search,"__experiment_variant");n&&r&&(Fr.logInfo("previewing web experiments ".concat(n," && ").concat(r)),this.getWebExperiments(i=>{this.showPreviewWebExperiment(parseInt(n),r,i)},!1,!0))}}loadIfEnabled(){this.instance.config.disable_web_experiments||this.getWebExperimentsAndEvaluateDisplayLogic()}getWebExperiments(t,n,r){if(this.instance.config.disable_web_experiments&&!r)return t([]);var i=this.instance.get_property("$web_experiments");if(i&&!n)return t(i);this.instance._send_request({url:this.instance.requestRouter.endpointFor("api","/api/web_experiments/?token=".concat(this.instance.config.token)),method:"GET",transport:"XHR",callback:s=>{if(s.statusCode!==200||!s.json)return t([]);var l=s.json.experiments||[];return t(l)}})}showPreviewWebExperiment(t,n,r){var i=r.filter(s=>s.id===t);i&&i.length>0&&(Fr.logInfo("Previewing web experiment [".concat(i[0].name,"] with variant [").concat(n,"]")),this.applyTransforms(i[0].name,n,i[0].variants[n].transforms,!0))}static matchesTestVariant(t){return!In(t.conditions)&&Fr.matchUrlConditions(t)&&Fr.matchUTMConditions(t)}static matchUrlConditions(t){var n;if(In(t.conditions)||In((n=t.conditions)===null||n===void 0?void 0:n.url))return!0;var r,i,s,l=Fr.getWindowLocation();return!!l&&((r=t.conditions)===null||r===void 0||!r.url||Wz[(i=(s=t.conditions)===null||s===void 0?void 0:s.urlMatchType)!==null&&i!==void 0?i:"icontains"](t.conditions.url,l))}static getWindowLocation(){return fe==null?void 0:fe.location}static matchUTMConditions(t){var n;if(In(t.conditions)||In((n=t.conditions)===null||n===void 0?void 0:n.utm))return!0;var r=lr.campaignParams();if(r.utm_source){var i,s,l,c,d,u,p,h,y,v,b,_,w,T,k,R,M=(i=t.conditions)===null||i===void 0||(s=i.utm)===null||s===void 0||!s.utm_campaign||((l=t.conditions)===null||l===void 0||(c=l.utm)===null||c===void 0?void 0:c.utm_campaign)==r.utm_campaign,E=(d=t.conditions)===null||d===void 0||(u=d.utm)===null||u===void 0||!u.utm_source||((p=t.conditions)===null||p===void 0||(h=p.utm)===null||h===void 0?void 0:h.utm_source)==r.utm_source,O=(y=t.conditions)===null||y===void 0||(v=y.utm)===null||v===void 0||!v.utm_medium||((b=t.conditions)===null||b===void 0||(_=b.utm)===null||_===void 0?void 0:_.utm_medium)==r.utm_medium,P=(w=t.conditions)===null||w===void 0||(T=w.utm)===null||T===void 0||!T.utm_term||((k=t.conditions)===null||k===void 0||(R=k.utm)===null||R===void 0?void 0:R.utm_term)==r.utm_term;return M&&O&&P&&E}return!1}static logInfo(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];xe.info("[WebExperiments] ".concat(t),r)}applyTransforms(t,n,r,i){var s;this._is_bot()?Fr.logInfo("Refusing to render web experiment since the viewer is a likely bot"):n!=="control"?r.forEach(l=>{if(l.selector){var c;Fr.logInfo("applying transform of variant ".concat(n," for experiment ").concat(t," "),l);var d,u=0,p=(c=document)===null||c===void 0?void 0:c.querySelectorAll(l.selector);p==null||p.forEach(h=>{var y=h;u+=1,l.attributes&&l.attributes.forEach(v=>{switch(v.name){case"text":y.innerText=v.value;break;case"html":y.innerHTML=v.value;break;case"cssClass":y.className=v.value;break;default:y.setAttribute(v.name,v.value)}}),l.text&&(y.innerText=l.text),l.html&&(y.parentElement?y.parentElement.innerHTML=l.html:y.innerHTML=l.html),l.css&&y.setAttribute("style",l.css)}),this.instance&&this.instance.capture&&this.instance.capture("$web_experiment_applied",{$web_experiment_name:t,$web_experiment_variant:n,$web_experiment_preview:i,$web_experiment_document_url:(d=Fr.getWindowLocation())===null||d===void 0?void 0:d.href,$web_experiment_elements_modified:u})}}):(Fr.logInfo("Control variants leave the page unmodified."),this.instance&&this.instance.capture&&this.instance.capture("$web_experiment_applied",{$web_experiment_name:t,$web_experiment_preview:i,$web_experiment_variant:n,$web_experiment_document_url:(s=Fr.getWindowLocation())===null||s===void 0?void 0:s.href,$web_experiment_elements_modified:0}))}_is_bot(){return is&&this.instance?DP(is,this.instance.config.custom_blocked_useragents):void 0}}class Qz{constructor(t){this.instance=t}sendExceptionEvent(t){this.instance.capture("$exception",t,{_noTruncate:!0,_batchKey:"exceptionEvent"})}}var Xz=["$set_once","$set"];class Jz{constructor(t){this.instance=t,this.enabled=!!this.instance.config.opt_in_site_apps&&!this.instance.config.advanced_disable_decide,this.missedInvocations=[],this.loaded=!1,this.appsLoading=new Set}eventCollector(t,n){if(this.enabled&&!this.loaded&&n){var r=this.globalsForEvent(n);this.missedInvocations.push(r),this.missedInvocations.length>1e3&&(this.missedInvocations=this.missedInvocations.slice(10))}}init(){var t;(t=this.instance)===null||t===void 0||t._addCaptureHook(this.eventCollector.bind(this))}globalsForEvent(t){var n,r,i,s,l,c,d;if(!t)throw new Error("Event payload is required");var u={},p=this.instance.get_property("$groups")||[],h=this.instance.get_property("$stored_group_properties")||{};for(var[y,v]of Object.entries(h))u[y]={id:p[y],type:y,properties:v};var{$set_once:b,$set:_}=t;return{event:Oe(Oe({},Fj(t,Xz)),{},{properties:Oe(Oe(Oe({},t.properties),_?{$set:Oe(Oe({},(n=(r=t.properties)===null||r===void 0?void 0:r.$set)!==null&&n!==void 0?n:{}),_)}:{}),b?{$set_once:Oe(Oe({},(i=(s=t.properties)===null||s===void 0?void 0:s.$set_once)!==null&&i!==void 0?i:{}),b)}:{}),elements_chain:(l=(c=t.properties)===null||c===void 0?void 0:c.$elements_chain)!==null&&l!==void 0?l:"",distinct_id:(d=t.properties)===null||d===void 0?void 0:d.distinct_id}),person:{properties:this.instance.get_property("$stored_person_properties")},groups:u}}afterDecideResponse(t){var n=this;mr(t==null?void 0:t.siteApps)&&t.siteApps.length>0?this.enabled&&this.instance.config.opt_in_site_apps?function(){var r=()=>{n.appsLoading.size===0&&(n.loaded=!0,n.missedInvocations=[])},i=function(c,d){var u,p;n.appsLoading.add(c),Ct["__$$ph_site_app_".concat(c,"_posthog")]=n.instance,Ct["__$$ph_site_app_".concat(c,"_missed_invocations")]=()=>n.missedInvocations,Ct["__$$ph_site_app_".concat(c,"_callback")]=()=>{n.appsLoading.delete(c),r()},(u=Ct.__PosthogExtensions__)===null||u===void 0||(p=u.loadSiteApp)===null||p===void 0||p.call(u,n.instance,d,h=>{if(h)return n.appsLoading.delete(c),r(),xe.error("Error while initializing PostHog app with config id ".concat(c),h)})};for(var{id:s,url:l}of t.siteApps)i(s,l)}():t.siteApps.length>0?(xe.error('PostHog site apps are disabled. Enable the "opt_in_site_apps" config to proceed.'),this.loaded=!0):this.loaded=!0:(this.loaded=!0,this.enabled=!1)}}var ep={},AS=()=>{},ad="posthog",LP=!yz&&($r==null?void 0:$r.indexOf("MSIE"))===-1&&($r==null?void 0:$r.indexOf("Mozilla"))===-1,VM=()=>{var e,t,n;return{api_host:"https://us.i.posthog.com",ui_host:null,token:"",autocapture:!0,rageclick:!0,cross_subdomain_cookie:(t=qe==null?void 0:qe.location,n=t==null?void 0:t.hostname,!!fi(n)&&n.split(".").slice(-2).join(".")!=="herokuapp.com"),persistence:"localStorage+cookie",persistence_name:"",loaded:AS,store_google:!0,custom_campaign_params:[],custom_blocked_useragents:[],save_referrer:!0,capture_pageview:!0,capture_pageleave:"if_capture_pageview",debug:Li&&fi(Li==null?void 0:Li.search)&&Li.search.indexOf("__posthog_debug=true")!==-1||!1,verbose:!1,cookie_expiration:365,upgrade:!1,disable_session_recording:!1,disable_persistence:!1,disable_web_experiments:!0,disable_surveys:!1,enable_recording_console_log:void 0,secure_cookie:(fe==null||(e=fe.location)===null||e===void 0?void 0:e.protocol)==="https:",ip:!0,opt_out_capturing_by_default:!1,opt_out_persistence_by_default:!1,opt_out_useragent_filter:!1,opt_out_capturing_persistence_type:"localStorage",opt_out_capturing_cookie_prefix:null,opt_in_site_apps:!1,property_denylist:[],respect_dnt:!1,sanitize_properties:null,request_headers:{},inapp_protocol:"//",inapp_link_new_window:!1,request_batching:!0,properties_string_max_length:65535,session_recording:{},mask_all_element_attributes:!1,mask_all_text:!1,advanced_disable_decide:!1,advanced_disable_feature_flags:!1,advanced_disable_feature_flags_on_first_load:!1,advanced_disable_toolbar_metrics:!1,feature_flag_request_timeout_ms:3e3,on_request_error:r=>{var i="Bad HTTP status: "+r.statusCode+" "+r.text;xe.error(i)},get_device_id:r=>r,_onCapture:AS,capture_performance:void 0,name:"posthog",bootstrap:{},disable_compression:!1,session_idle_timeout_seconds:1800,person_profiles:"identified_only",__add_tracing_headers:!1,before_send:void 0}},DM=e=>{var t={};tt(e.process_person)||(t.person_profiles=e.process_person),tt(e.xhr_headers)||(t.request_headers=e.xhr_headers),tt(e.cookie_name)||(t.persistence_name=e.cookie_name),tt(e.disable_cookie)||(t.disable_persistence=e.disable_cookie);var n=Ti({},t,e);return mr(e.property_blacklist)&&(tt(e.property_denylist)?n.property_denylist=e.property_blacklist:mr(e.property_denylist)?n.property_denylist=[...e.property_blacklist,...e.property_denylist]:xe.error("Invalid value for property_denylist config: "+e.property_denylist)),n};class Zz{constructor(){Le(this,"__forceAllowLocalhost",!1)}get _forceAllowLocalhost(){return this.__forceAllowLocalhost}set _forceAllowLocalhost(t){xe.error("WebPerformanceObserver is deprecated and has no impact on network capture. Use `_forceAllowLocalhostNetworkCapture` on `posthog.sessionRecording`"),this.__forceAllowLocalhost=t}}class K0{constructor(){Le(this,"webPerformance",new Zz),Le(this,"version",ul.LIB_VERSION),Le(this,"_internalEventEmitter",new EP),this.config=VM(),this.decideEndpointWasHit=!1,this.SentryIntegration=Sz,this.sentryIntegration=t=>function(n,r){var i=wP(n,r);return{name:xP,processEvent:s=>i(s)}}(this,t),this.__request_queue=[],this.__loaded=!1,this.analyticsDefaultEndpoint="/e/",this._initialPageviewCaptured=!1,this._initialPersonProfilesConfig=null,this.featureFlags=new _F(this),this.toolbar=new gz(this),this.scrollManager=new Fz(this),this.pageViewManager=new wz(this),this.surveys=new Oz(this),this.experiments=new Fr(this),this.exceptions=new Qz(this),this.rateLimiter=new jz(this),this.requestRouter=new _z(this),this.consent=new Gz(this),this.people={set:(t,n,r)=>{var i=fi(t)?{[t]:n}:t;this.setPersonProperties(i),r==null||r({})},set_once:(t,n,r)=>{var i=fi(t)?{[t]:n}:t;this.setPersonProperties(void 0,i),r==null||r({})}},this.on("eventCaptured",t=>xe.info('send "'.concat(t==null?void 0:t.event,'"'),t))}init(t,n,r){if(r&&r!==ad){var i,s=(i=ep[r])!==null&&i!==void 0?i:new K0;return s._init(t,n,r),ep[r]=s,ep[ad][r]=s,s}return this._init(t,n,r)}_init(t){var n,r,i,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},l=arguments.length>2?arguments[2]:void 0;if(tt(t)||qk(t))return xe.critical("PostHog was initialized without a token. This likely indicates a misconfiguration. Please check the first argument passed to posthog.init()"),this;if(this.__loaded)return xe.warn("You have already initialized PostHog! Re-initializing is a no-op"),this;this.__loaded=!0,this.config={},this._triggered_notifs=[],s.person_profiles&&(this._initialPersonProfilesConfig=s.person_profiles),this.set_config(Ti({},VM(),DM(s),{name:l,token:t})),this.config.on_xhr_error&&xe.error("[posthog] on_xhr_error is deprecated. Use on_request_error instead"),this.compression=s.disable_compression?void 0:ia.GZipJS,this.persistence=new o1(this.config),this.sessionPersistence=this.config.persistence==="sessionStorage"||this.config.persistence==="memory"?this.persistence:new o1(Oe(Oe({},this.config),{},{persistence:"sessionStorage"}));var c=Oe({},this.persistence.props),d=Oe({},this.sessionPersistence.props);if(this._requestQueue=new mz(k=>this._send_retriable_request(k)),this._retryQueue=new Az(this),this.__request_queue=[],this.sessionManager=new bz(this),this.sessionPropsManager=new Vz(this.sessionManager,this.persistence),new qz(this).startIfEnabledOrStop(),this.siteApps=new Jz(this),(n=this.siteApps)===null||n===void 0||n.init(),this.sessionRecording=new fz(this),this.sessionRecording.startIfEnabledOrStop(),this.config.disable_scroll_properties||this.scrollManager.startMeasuringScrollPosition(),this.autocapture=new Hz(this),this.autocapture.startIfEnabled(),this.surveys.loadIfEnabled(),this.heatmaps=new Lz(this),this.heatmaps.startIfEnabled(),this.webVitalsAutocapture=new Kz(this),this.exceptionObserver=new Yz(this),this.exceptionObserver.startIfEnabled(),this.deadClicksAutocapture=new NP(this,Nz),this.deadClicksAutocapture.startIfEnabled(),ul.DEBUG=ul.DEBUG||this.config.debug,ul.DEBUG&&xe.info("Starting in debug mode",{this:this,config:s,thisC:Oe({},this.config),p:c,s:d}),this._sync_opt_out_with_persistence(),((r=s.bootstrap)===null||r===void 0?void 0:r.distinctID)!==void 0){var u,p,h=this.config.get_device_id(gl()),y=(u=s.bootstrap)!==null&&u!==void 0&&u.isIdentifiedID?h:s.bootstrap.distinctID;this.persistence.set_property(uo,(p=s.bootstrap)!==null&&p!==void 0&&p.isIdentifiedID?"identified":"anonymous"),this.register({distinct_id:s.bootstrap.distinctID,$device_id:y})}if(this._hasBootstrappedFeatureFlags()){var v,b,_=Object.keys(((v=s.bootstrap)===null||v===void 0?void 0:v.featureFlags)||{}).filter(k=>{var R,M;return!((R=s.bootstrap)===null||R===void 0||(M=R.featureFlags)===null||M===void 0||!M[k])}).reduce((k,R)=>{var M,E;return k[R]=((M=s.bootstrap)===null||M===void 0||(E=M.featureFlags)===null||E===void 0?void 0:E[R])||!1,k},{}),w=Object.keys(((b=s.bootstrap)===null||b===void 0?void 0:b.featureFlagPayloads)||{}).filter(k=>_[k]).reduce((k,R)=>{var M,E,O,P;return(M=s.bootstrap)!==null&&M!==void 0&&(E=M.featureFlagPayloads)!==null&&E!==void 0&&E[R]&&(k[R]=(O=s.bootstrap)===null||O===void 0||(P=O.featureFlagPayloads)===null||P===void 0?void 0:P[R]),k},{});this.featureFlags.receivedFeatureFlags({featureFlags:_,featureFlagPayloads:w})}if(!this.get_distinct_id()){var T=this.config.get_device_id(gl());this.register_once({distinct_id:T,$device_id:T},""),this.persistence.set_property(uo,"anonymous")}return fe==null||(i=fe.addEventListener)===null||i===void 0||i.call(fe,"onpagehide"in self?"pagehide":"unload",this._handle_unload.bind(this)),this.toolbar.maybeLoadToolbar(),s.segment?xz(this,()=>this._loaded()):this._loaded(),Vs(this.config._onCapture)&&this.config._onCapture!==AS&&(xe.warn("onCapture is deprecated. Please use `before_send` instead"),this.on("eventCaptured",k=>this.config._onCapture(k.event,k))),this}_afterDecideResponse(t){var n,r,i,s,l,c,d,u,p,h;this.compression=void 0,t.supportedCompression&&!this.config.disable_compression&&(this.compression=Ut(t.supportedCompression,ia.GZipJS)?ia.GZipJS:Ut(t.supportedCompression,ia.Base64)?ia.Base64:void 0),(n=t.analytics)!==null&&n!==void 0&&n.endpoint&&(this.analyticsDefaultEndpoint=t.analytics.endpoint),this.set_config({person_profiles:this._initialPersonProfilesConfig?this._initialPersonProfilesConfig:t.defaultIdentifiedOnly?"identified_only":"always"}),(r=this.siteApps)===null||r===void 0||r.afterDecideResponse(t),(i=this.sessionRecording)===null||i===void 0||i.afterDecideResponse(t),(s=this.autocapture)===null||s===void 0||s.afterDecideResponse(t),(l=this.heatmaps)===null||l===void 0||l.afterDecideResponse(t),(c=this.experiments)===null||c===void 0||c.afterDecideResponse(t),(d=this.surveys)===null||d===void 0||d.afterDecideResponse(t),(u=this.webVitalsAutocapture)===null||u===void 0||u.afterDecideResponse(t),(p=this.exceptionObserver)===null||p===void 0||p.afterDecideResponse(t),(h=this.deadClicksAutocapture)===null||h===void 0||h.afterDecideResponse(t)}_loaded(){var t=this.config.advanced_disable_decide;t||this.featureFlags.setReloadingPaused(!0);try{this.config.loaded(this)}catch(n){xe.critical("`loaded` function failed",n)}this._start_queue_if_opted_in(),this.config.capture_pageview&&setTimeout(()=>{this.consent.isOptedIn()&&this._captureInitialPageview()},1),t||(new hz(this).call(),this.featureFlags.resetRequestQueue())}_start_queue_if_opted_in(){var t;this.has_opted_out_capturing()||this.config.request_batching&&((t=this._requestQueue)===null||t===void 0||t.enable())}_dom_loaded(){this.has_opted_out_capturing()||vd(this.__request_queue,t=>this._send_retriable_request(t)),this.__request_queue=[],this._start_queue_if_opted_in()}_handle_unload(){var t,n;this.config.request_batching?(this._shouldCapturePageleave()&&this.capture("$pageleave"),(t=this._requestQueue)===null||t===void 0||t.unload(),(n=this._retryQueue)===null||n===void 0||n.unload()):this._shouldCapturePageleave()&&this.capture("$pageleave",null,{transport:"sendBeacon"})}_send_request(t){this.__loaded&&(LP?this.__request_queue.push(t):this.rateLimiter.isServerRateLimited(t.batchKey)||(t.transport=t.transport||this.config.api_transport,t.url=n0(t.url,{ip:this.config.ip?1:0}),t.headers=Oe({},this.config.request_headers),t.compression=t.compression==="best-available"?this.compression:t.compression,(n=>{var r,i,s,l=Oe({},n);l.timeout=l.timeout||6e4,l.url=n0(l.url,{_:new Date().getTime().toString(),ver:ul.LIB_VERSION,compression:l.compression});var c=(r=l.transport)!==null&&r!==void 0?r:"XHR",d=(i=(s=Bj(Zh,u=>u.transport===c))===null||s===void 0?void 0:s.method)!==null&&i!==void 0?i:Zh[0].method;if(!d)throw new Error("No available transport method");d(l)})(Oe(Oe({},t),{},{callback:n=>{var r,i,s;this.rateLimiter.checkForLimiting(n),n.statusCode>=400&&((i=(s=this.config).on_request_error)===null||i===void 0||i.call(s,n)),(r=t.callback)===null||r===void 0||r.call(t,n)}}))))}_send_retriable_request(t){this._retryQueue?this._retryQueue.retriableRequest(t):this._send_request(t)}_execute_array(t){var n,r=[],i=[],s=[];vd(t,c=>{c&&(n=c[0],mr(n)?s.push(c):Vs(c)?c.call(this):mr(c)&&n==="alias"?r.push(c):mr(c)&&n.indexOf("capture")!==-1&&Vs(this[n])?s.push(c):i.push(c))});var l=function(c,d){vd(c,function(u){if(mr(u[0])){var p=d;wn(u,function(h){p=p[h[0]].apply(p,h.slice(1))})}else this[u[0]].apply(this,u.slice(1))},d)};l(r,this),l(i,this),l(s,this)}_hasBootstrappedFeatureFlags(){var t,n;return((t=this.config.bootstrap)===null||t===void 0?void 0:t.featureFlags)&&Object.keys((n=this.config.bootstrap)===null||n===void 0?void 0:n.featureFlags).length>0||!1}push(t){this._execute_array([t])}capture(t,n,r){var i;if(this.__loaded&&this.persistence&&this.sessionPersistence&&this._requestQueue){if(!this.consent.isOptedOut())if(!tt(t)&&fi(t)){if(this.config.opt_out_useragent_filter||!this._is_bot()){var s=r!=null&&r.skip_client_rate_limiting?void 0:this.rateLimiter.clientRateLimitContext();if(s==null||!s.isRateLimited){this.sessionPersistence.update_search_keyword(),this.config.store_google&&this.sessionPersistence.update_campaign_params(),this.config.save_referrer&&this.sessionPersistence.update_referrer_info(),(this.config.store_google||this.config.save_referrer)&&this.persistence.set_initial_person_info();var l=new Date,c=(r==null?void 0:r.timestamp)||l,d={uuid:gl(),event:t,properties:this._calculate_event_properties(t,n||{},c)};s&&(d.properties.$lib_rate_limit_remaining_tokens=s.remainingTokens),r!=null&&r.$set&&(d.$set=r==null?void 0:r.$set);var u=this._calculate_set_once_properties(r==null?void 0:r.$set_once);u&&(d.$set_once=u),(d=pF(d,r!=null&&r._noTruncate?null:this.config.properties_string_max_length)).timestamp=c,tt(r==null?void 0:r.timestamp)||(d.properties.$event_time_override_provided=!0,d.properties.$event_time_override_system_time=l);var p=Oe(Oe({},d.properties.$set),d.$set);if(ud(p)||this.setPersonPropertiesForFlags(p),!In(this.config.before_send)){var h=this._runBeforeSend(d);if(!h)return;d=h}this._internalEventEmitter.emit("eventCaptured",d);var y={method:"POST",url:(i=r==null?void 0:r._url)!==null&&i!==void 0?i:this.requestRouter.endpointFor("api",this.analyticsDefaultEndpoint),data:d,compression:"best-available",batchKey:r==null?void 0:r._batchKey};return!this.config.request_batching||r&&(r==null||!r._batchKey)||r!=null&&r.send_instantly?this._send_retriable_request(y):this._requestQueue.enqueue(y),d}xe.critical("This capture call is ignored due to client rate limiting.")}}else xe.error("No event name provided to posthog.capture")}else xe.uninitializedWarning("posthog.capture")}_addCaptureHook(t){return this.on("eventCaptured",n=>t(n.event,n))}_calculate_event_properties(t,n,r){if(r=r||new Date,!this.persistence||!this.sessionPersistence)return n;var i=this.persistence.remove_event_timer(t),s=Oe({},n);if(s.token=this.config.token,t==="$snapshot"){var l=Oe(Oe({},this.persistence.properties()),this.sessionPersistence.properties());return s.distinct_id=l.distinct_id,(!fi(s.distinct_id)&&!ns(s.distinct_id)||qk(s.distinct_id))&&xe.error("Invalid distinct_id for replay event. This indicates a bug in your implementation"),s}var c=lr.properties();if(this.sessionManager){var{sessionId:d,windowId:u}=this.sessionManager.checkAndGetSessionAndWindowId();s.$session_id=d,s.$window_id=u}if(this.sessionRecording&&(s.$recording_status=this.sessionRecording.status),this.requestRouter.region===xc.CUSTOM&&(s.$lib_custom_api_host=this.config.api_host),this.sessionPropsManager&&this.config.__preview_send_client_session_params&&(t==="$pageview"||t==="$pageleave"||t==="$autocapture")){var p=this.sessionPropsManager.getSessionProps();s=Ti(s,p)}if(!this.config.disable_scroll_properties){var h={};t==="$pageview"?h=this.pageViewManager.doPageView(r):t==="$pageleave"&&(h=this.pageViewManager.doPageLeave(r)),s=Ti(s,h)}if(t==="$pageview"&&qe&&(s.title=qe.title),!tt(i)){var y=r.getTime()-i;s.$duration=parseFloat((y/1e3).toFixed(3))}$r&&this.config.opt_out_useragent_filter&&(s.$browser_type=this._is_bot()?"bot":"browser"),(s=Ti({},c,this.persistence.properties(),this.sessionPersistence.properties(),s)).$is_identified=this._isIdentified(),mr(this.config.property_denylist)?wn(this.config.property_denylist,function(_){delete s[_]}):xe.error("Invalid value for property_denylist config: "+this.config.property_denylist+" or property_blacklist config: "+this.config.property_blacklist);var v=this.config.sanitize_properties;v&&(s=v(s,t));var b=this._hasPersonProcessing();return s.$process_person_profile=b,b&&this._requirePersonProcessing("_calculate_event_properties"),s}_calculate_set_once_properties(t){if(!this.persistence||!this._hasPersonProcessing())return t;var n=Ti({},this.persistence.get_initial_props(),t||{}),r=this.config.sanitize_properties;return r&&(n=r(n,"$set_once")),ud(n)?void 0:n}register(t,n){var r;(r=this.persistence)===null||r===void 0||r.register(t,n)}register_once(t,n,r){var i;(i=this.persistence)===null||i===void 0||i.register_once(t,n,r)}register_for_session(t){var n;(n=this.sessionPersistence)===null||n===void 0||n.register(t)}unregister(t){var n;(n=this.persistence)===null||n===void 0||n.unregister(t)}unregister_for_session(t){var n;(n=this.sessionPersistence)===null||n===void 0||n.unregister(t)}_register_single(t,n){this.register({[t]:n})}getFeatureFlag(t,n){return this.featureFlags.getFeatureFlag(t,n)}getFeatureFlagPayload(t){var n=this.featureFlags.getFeatureFlagPayload(t);try{return JSON.parse(n)}catch{return n}}isFeatureEnabled(t,n){return this.featureFlags.isFeatureEnabled(t,n)}reloadFeatureFlags(){this.featureFlags.reloadFeatureFlags()}updateEarlyAccessFeatureEnrollment(t,n){this.featureFlags.updateEarlyAccessFeatureEnrollment(t,n)}getEarlyAccessFeatures(t){var n=arguments.length>1&&arguments[1]!==void 0&&arguments[1];return this.featureFlags.getEarlyAccessFeatures(t,n)}on(t,n){return this._internalEventEmitter.on(t,n)}onFeatureFlags(t){return this.featureFlags.onFeatureFlags(t)}onSessionId(t){var n,r;return(n=(r=this.sessionManager)===null||r===void 0?void 0:r.onSessionId(t))!==null&&n!==void 0?n:()=>{}}getSurveys(t){var n=arguments.length>1&&arguments[1]!==void 0&&arguments[1];this.surveys.getSurveys(t,n)}getActiveMatchingSurveys(t){var n=arguments.length>1&&arguments[1]!==void 0&&arguments[1];this.surveys.getActiveMatchingSurveys(t,n)}renderSurvey(t,n){this.surveys.renderSurvey(t,n)}canRenderSurvey(t){this.surveys.canRenderSurvey(t)}getNextSurveyStep(t,n,r){return this.surveys.getNextSurveyStep(t,n,r)}identify(t,n,r){if(!this.__loaded||!this.persistence)return xe.uninitializedWarning("posthog.identify");if(ns(t)&&(t=t.toString(),xe.warn("The first argument to posthog.identify was a number, but it should be a string. It has been converted to a string.")),t){if(["distinct_id","distinctid"].includes(t.toLowerCase()))xe.critical('The string "'.concat(t,'" was set in posthog.identify which indicates an error. This ID should be unique to the user and not a hardcoded string.'));else if(this._requirePersonProcessing("posthog.identify")){var i=this.get_distinct_id();if(this.register({$user_id:t}),!this.get_property("$device_id")){var s=i;this.register_once({$had_persisted_distinct_id:!0,$device_id:s},"")}t!==i&&t!==this.get_property(Lh)&&(this.unregister(Lh),this.register({distinct_id:t}));var l=(this.persistence.get_property(uo)||"anonymous")==="anonymous";t!==i&&l?(this.persistence.set_property(uo,"identified"),this.setPersonPropertiesForFlags(n||{},!1),this.capture("$identify",{distinct_id:t,$anon_distinct_id:i},{$set:n||{},$set_once:r||{}}),this.featureFlags.setAnonymousDistinctId(i)):(n||r)&&this.setPersonProperties(n,r),t!==i&&(this.reloadFeatureFlags(),this.unregister(Yy))}}else xe.error("Unique user id has not been set in posthog.identify")}setPersonProperties(t,n){(t||n)&&this._requirePersonProcessing("posthog.setPersonProperties")&&(this.setPersonPropertiesForFlags(t||{}),this.capture("$set",{$set:t||{},$set_once:n||{}}))}group(t,n,r){if(t&&n){if(this._requirePersonProcessing("posthog.group")){var i=this.getGroups();i[t]!==n&&this.resetGroupPropertiesForFlags(t),this.register({$groups:Oe(Oe({},i),{},{[t]:n})}),r&&(this.capture("$groupidentify",{$group_type:t,$group_key:n,$group_set:r}),this.setGroupPropertiesForFlags({[t]:r})),i[t]===n||r||this.reloadFeatureFlags()}}else xe.error("posthog.group requires a group type and group key")}resetGroups(){this.register({$groups:{}}),this.resetGroupPropertiesForFlags(),this.reloadFeatureFlags()}setPersonPropertiesForFlags(t){var n=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];this._requirePersonProcessing("posthog.setPersonPropertiesForFlags")&&this.featureFlags.setPersonPropertiesForFlags(t,n)}resetPersonPropertiesForFlags(){this.featureFlags.resetPersonPropertiesForFlags()}setGroupPropertiesForFlags(t){var n=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];this._requirePersonProcessing("posthog.setGroupPropertiesForFlags")&&this.featureFlags.setGroupPropertiesForFlags(t,n)}resetGroupPropertiesForFlags(t){this.featureFlags.resetGroupPropertiesForFlags(t)}reset(t){var n,r,i,s,l;if(xe.info("reset"),!this.__loaded)return xe.uninitializedWarning("posthog.reset");var c=this.get_property("$device_id");this.consent.reset(),(n=this.persistence)===null||n===void 0||n.clear(),(r=this.sessionPersistence)===null||r===void 0||r.clear(),(i=this.surveys)===null||i===void 0||i.reset(),(s=this.persistence)===null||s===void 0||s.set_property(uo,"anonymous"),(l=this.sessionManager)===null||l===void 0||l.resetSessionId();var d=this.config.get_device_id(gl());this.register_once({distinct_id:d,$device_id:t?d:c},"")}get_distinct_id(){return this.get_property("distinct_id")}getGroups(){return this.get_property("$groups")||{}}get_session_id(){var t,n;return(t=(n=this.sessionManager)===null||n===void 0?void 0:n.checkAndGetSessionAndWindowId(!0).sessionId)!==null&&t!==void 0?t:""}get_session_replay_url(t){if(!this.sessionManager)return"";var{sessionId:n,sessionStartTimestamp:r}=this.sessionManager.checkAndGetSessionAndWindowId(!0),i=this.requestRouter.endpointFor("ui","/project/".concat(this.config.token,"/replay/").concat(n));if(t!=null&&t.withTimestamp&&r){var s,l=(s=t.timestampLookBack)!==null&&s!==void 0?s:10;if(!r)return i;var c=Math.max(Math.floor((new Date().getTime()-r)/1e3)-l,0);i+="?t=".concat(c)}return i}alias(t,n){return t===this.get_property(zj)?(xe.critical("Attempting to create alias for existing People user - aborting."),-2):this._requirePersonProcessing("posthog.alias")?(tt(n)&&(n=this.get_distinct_id()),t!==n?(this._register_single(Lh,t),this.capture("$create_alias",{alias:t,distinct_id:n})):(xe.warn("alias matches current distinct_id - skipping api call."),this.identify(t),-1)):void 0}set_config(t){var n,r,i,s,l=Oe({},this.config);Cr(t)&&(Ti(this.config,DM(t)),(n=this.persistence)===null||n===void 0||n.update_config(this.config,l),this.sessionPersistence=this.config.persistence==="sessionStorage"||this.config.persistence==="memory"?this.persistence:new o1(Oe(Oe({},this.config),{},{persistence:"sessionStorage"})),Or.is_supported()&&Or.get("ph_debug")==="true"&&(this.config.debug=!0),this.config.debug&&(ul.DEBUG=!0,xe.info("set_config",{config:t,oldConfig:l,newConfig:Oe({},this.config)})),(r=this.sessionRecording)===null||r===void 0||r.startIfEnabledOrStop(),(i=this.autocapture)===null||i===void 0||i.startIfEnabled(),(s=this.heatmaps)===null||s===void 0||s.startIfEnabled(),this.surveys.loadIfEnabled(),this._sync_opt_out_with_persistence())}startSessionRecording(t){var n=t===!0,r={sampling:n||!(t==null||!t.sampling),linked_flag:n||!(t==null||!t.linked_flag),url_trigger:n||!(t==null||!t.url_trigger),event_trigger:n||!(t==null||!t.event_trigger)};if(Object.values(r).some(Boolean)){var i,s,l,c,d;(i=this.sessionManager)===null||i===void 0||i.checkAndGetSessionAndWindowId(),r.sampling&&((s=this.sessionRecording)===null||s===void 0||s.overrideSampling()),r.linked_flag&&((l=this.sessionRecording)===null||l===void 0||l.overrideLinkedFlag()),r.url_trigger&&((c=this.sessionRecording)===null||c===void 0||c.overrideTrigger("url")),r.event_trigger&&((d=this.sessionRecording)===null||d===void 0||d.overrideTrigger("event"))}this.set_config({disable_session_recording:!1})}stopSessionRecording(){this.set_config({disable_session_recording:!0})}sessionRecordingStarted(){var t;return!((t=this.sessionRecording)===null||t===void 0||!t.started)}captureException(t,n){var r,i=new Error("PostHog syntheticException"),s=Vs((r=Ct.__PosthogExtensions__)===null||r===void 0?void 0:r.parseErrorAsProperties)?Ct.__PosthogExtensions__.parseErrorAsProperties([t.message,void 0,void 0,void 0,t],{syntheticException:i}):Oe({$exception_level:"error",$exception_list:[{type:t.name,value:t.message,mechanism:{handled:!0,synthetic:!1}}]},n);this.exceptions.sendExceptionEvent(s)}loadToolbar(t){return this.toolbar.loadToolbar(t)}get_property(t){var n;return(n=this.persistence)===null||n===void 0?void 0:n.props[t]}getSessionProperty(t){var n;return(n=this.sessionPersistence)===null||n===void 0?void 0:n.props[t]}toString(){var t,n=(t=this.config.name)!==null&&t!==void 0?t:ad;return n!==ad&&(n=ad+"."+n),n}_isIdentified(){var t,n;return((t=this.persistence)===null||t===void 0?void 0:t.get_property(uo))==="identified"||((n=this.sessionPersistence)===null||n===void 0?void 0:n.get_property(uo))==="identified"}_hasPersonProcessing(){var t,n,r,i;return!(this.config.person_profiles==="never"||this.config.person_profiles==="identified_only"&&!this._isIdentified()&&ud(this.getGroups())&&((t=this.persistence)===null||t===void 0||(n=t.props)===null||n===void 0||!n[Lh])&&((r=this.persistence)===null||r===void 0||(i=r.props)===null||i===void 0||!i[Ky]))}_shouldCapturePageleave(){return this.config.capture_pageleave===!0||this.config.capture_pageleave==="if_capture_pageview"&&this.config.capture_pageview}createPersonProfile(){this._hasPersonProcessing()||this._requirePersonProcessing("posthog.createPersonProfile")&&this.setPersonProperties({},{})}_requirePersonProcessing(t){return this.config.person_profiles==="never"?(xe.error(t+' was called, but process_person is set to "never". This call will be ignored.'),!1):(this._register_single(Ky,!0),!0)}_sync_opt_out_with_persistence(){var t,n,r,i,s=this.consent.isOptedOut(),l=this.config.opt_out_persistence_by_default,c=this.config.disable_persistence||s&&!!l;((t=this.persistence)===null||t===void 0?void 0:t.disabled)!==c&&((r=this.persistence)===null||r===void 0||r.set_disabled(c)),((n=this.sessionPersistence)===null||n===void 0?void 0:n.disabled)!==c&&((i=this.sessionPersistence)===null||i===void 0||i.set_disabled(c))}opt_in_capturing(t){var n;this.consent.optInOut(!0),this._sync_opt_out_with_persistence(),(tt(t==null?void 0:t.captureEventName)||t!=null&&t.captureEventName)&&this.capture((n=t==null?void 0:t.captureEventName)!==null&&n!==void 0?n:"$opt_in",t==null?void 0:t.captureProperties,{send_instantly:!0}),this.config.capture_pageview&&this._captureInitialPageview()}opt_out_capturing(){this.consent.optInOut(!1),this._sync_opt_out_with_persistence()}has_opted_in_capturing(){return this.consent.isOptedIn()}has_opted_out_capturing(){return this.consent.isOptedOut()}clear_opt_in_out_capturing(){this.consent.reset(),this._sync_opt_out_with_persistence()}_is_bot(){return is?DP(is,this.config.custom_blocked_useragents):void 0}_captureInitialPageview(){qe&&!this._initialPageviewCaptured&&(this._initialPageviewCaptured=!0,this.capture("$pageview",{title:qe.title},{send_instantly:!0}))}debug(t){t===!1?(fe==null||fe.console.log("You've disabled debug mode."),localStorage&&localStorage.removeItem("ph_debug"),this.set_config({debug:!1})):(fe==null||fe.console.log("You're now in debug mode. All calls to PostHog will be logged in your console.\nYou can disable this with `posthog.debug(false)`."),localStorage&&localStorage.setItem("ph_debug","true"),this.set_config({debug:!0}))}_runBeforeSend(t){if(In(this.config.before_send))return t;var n=mr(this.config.before_send)?this.config.before_send:[this.config.before_send],r=t;for(var i of n){if(r=i(r),In(r)){var s="Event '".concat(t.event,"' was rejected in beforeSend function");return AF(t.event)?xe.warn("".concat(s,". This can cause unexpected behavior.")):xe.info(s),null}r.properties&&!ud(r.properties)||xe.warn("Event '".concat(t.event,"' has no properties after beforeSend function, this is likely an error."))}return r}}(function(e,t){for(var n=0;n<t.length;n++)e.prototype[t[n]]=hF(e.prototype[t[n]])})(K0,["identify"]);var BM,er=(BM=ep[ad]=new K0,function(){function e(){e.done||(e.done=!0,LP=!1,wn(ep,function(t){t._dom_loaded()}))}qe!=null&&qe.addEventListener&&(qe.readyState==="complete"?e():qe.addEventListener("DOMContentLoaded",e,!1)),fe&&mo(fe,"load",e,!0)}(),BM);class tn{constructor(t,n=!1,r=!0){this.name=t,this.track=n,this.log=r,this.subscribers=[],this.lastParams=null,this.subscribe=(i,s=!1)=>{this.unsubscribe(i),this.subscribers.push(i),s&&this.lastParams!==null&&i(...this.lastParams)},this.unsubscribe=i=>{this.subscribers=this.subscribers.filter(s=>s!==i)},this.dispatch=(...i)=>{this.log&&console.log("dispatch",this.name,...i),this.subscribers.forEach(s=>s(...i)),this.lastParams=i,this.track&&er.capture(this.name,this.track instanceof Function?this.track(...i):i)}}}const me={sectionChange:new tn("sectionChange",!1,!1),playerAdded:new tn("playerAdded",!1),playerRemoved:new tn("playerRemoved",!1),songStarted:new tn("songStarted",!1),songEnded:new tn("songEnded",!1),remoteMicConnected:new tn("remoteMicConnected"),remoteMicDisconnected:new tn("remoteMicDisconnected"),playerNameChanged:new tn("playerNameChanged"),playerInputChanged:new tn("playerInputChanged"),inputListChanged:new tn("inputListChanged"),karaokeConnectionStatusChange:new tn("karaokeConnectionStatusChange"),remoteMicPlayerSet:new tn("remoteMicPlayerSet"),remoteMicMonitoringStarted:new tn("remoteMicMonitoringStarted"),remoteMicMonitoringStopped:new tn("remoteMicMonitoringStopped"),micMonitoringStarted:new tn("micMonitoringStarted"),micMonitoringStopped:new tn("micMonitoringStopped"),playerChangeRequested:new tn("playerChangeRequested",!0),songStatStored:new tn("songStatStored"),songScoreUpdated:new tn("songScoreUpdated",()=>{}),remoteMicSubscribed:new tn("remoteMicSubscribed"),remoteKeyboardPressed:new tn("remoteKeyboardPressed"),remoteSongSearch:new tn("remoteSongSearch"),remoteSongSelected:new tn("remoteSongSelected",!0),remoteMicListUpdated:new tn("remoteMicListUpdated"),remoteMicSongListUpdated:new tn("remoteMicSongListUpdate"),remoteKeyboardLayout:new tn("remoteKeyboardLayout"),remoteReadinessRequested:new tn("remoteReadinessRequested"),remoteStyleChanged:new tn("remoteStyleChanged"),remoteMicPermissionsSet:new tn("remoteMicPermissionsSet"),readinessConfirmed:new tn("remoteReadinessConfirmed"),minPlayerNumberChanged:new tn("minPlayerNumberChanged"),micServerStarted:new tn("micServerStarted"),micServerStopped:new tn("micServerStopped")};me.songStarted.subscribe(()=>{Fi.clearData(),Fi.startRecord()});me.songEnded.subscribe(()=>{Fi.stopRecord()});function s0(e){"@babel/helpers - typeof";return s0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s0(e)}var e$=/^\s+/,t$=/\s+$/;function ke(e,t){if(e=e||"",t=t||{},e instanceof ke)return e;if(!(this instanceof ke))return new ke(e,t);var n=n$(e);this._originalInput=e,this._r=n.r,this._g=n.g,this._b=n.b,this._a=n.a,this._roundA=Math.round(100*this._a)/100,this._format=t.format||n.format,this._gradientType=t.gradientType,this._r<1&&(this._r=Math.round(this._r)),this._g<1&&(this._g=Math.round(this._g)),this._b<1&&(this._b=Math.round(this._b)),this._ok=n.ok}ke.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var t=this.toRgb();return(t.r*299+t.g*587+t.b*114)/1e3},getLuminance:function(){var t=this.toRgb(),n,r,i,s,l,c;return n=t.r/255,r=t.g/255,i=t.b/255,n<=.03928?s=n/12.92:s=Math.pow((n+.055)/1.055,2.4),r<=.03928?l=r/12.92:l=Math.pow((r+.055)/1.055,2.4),i<=.03928?c=i/12.92:c=Math.pow((i+.055)/1.055,2.4),.2126*s+.7152*l+.0722*c},setAlpha:function(t){return this._a=FP(t),this._roundA=Math.round(100*this._a)/100,this},toHsv:function(){var t=LM(this._r,this._g,this._b);return{h:t.h*360,s:t.s,v:t.v,a:this._a}},toHsvString:function(){var t=LM(this._r,this._g,this._b),n=Math.round(t.h*360),r=Math.round(t.s*100),i=Math.round(t.v*100);return this._a==1?"hsv("+n+", "+r+"%, "+i+"%)":"hsva("+n+", "+r+"%, "+i+"%, "+this._roundA+")"},toHsl:function(){var t=NM(this._r,this._g,this._b);return{h:t.h*360,s:t.s,l:t.l,a:this._a}},toHslString:function(){var t=NM(this._r,this._g,this._b),n=Math.round(t.h*360),r=Math.round(t.s*100),i=Math.round(t.l*100);return this._a==1?"hsl("+n+", "+r+"%, "+i+"%)":"hsla("+n+", "+r+"%, "+i+"%, "+this._roundA+")"},toHex:function(t){return FM(this._r,this._g,this._b,t)},toHexString:function(t){return"#"+this.toHex(t)},toHex8:function(t){return a$(this._r,this._g,this._b,this._a,t)},toHex8String:function(t){return"#"+this.toHex8(t)},toRgb:function(){return{r:Math.round(this._r),g:Math.round(this._g),b:Math.round(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+")":"rgba("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:Math.round(Hn(this._r,255)*100)+"%",g:Math.round(Hn(this._g,255)*100)+"%",b:Math.round(Hn(this._b,255)*100)+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+Math.round(Hn(this._r,255)*100)+"%, "+Math.round(Hn(this._g,255)*100)+"%, "+Math.round(Hn(this._b,255)*100)+"%)":"rgba("+Math.round(Hn(this._r,255)*100)+"%, "+Math.round(Hn(this._g,255)*100)+"%, "+Math.round(Hn(this._b,255)*100)+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":this._a<1?!1:v$[FM(this._r,this._g,this._b,!0)]||!1},toFilter:function(t){var n="#"+zM(this._r,this._g,this._b,this._a),r=n,i=this._gradientType?"GradientType = 1, ":"";if(t){var s=ke(t);r="#"+zM(s._r,s._g,s._b,s._a)}return"progid:DXImageTransform.Microsoft.gradient("+i+"startColorstr="+n+",endColorstr="+r+")"},toString:function(t){var n=!!t;t=t||this._format;var r=!1,i=this._a<1&&this._a>=0,s=!n&&i&&(t==="hex"||t==="hex6"||t==="hex3"||t==="hex4"||t==="hex8"||t==="name");return s?t==="name"&&this._a===0?this.toName():this.toRgbString():(t==="rgb"&&(r=this.toRgbString()),t==="prgb"&&(r=this.toPercentageRgbString()),(t==="hex"||t==="hex6")&&(r=this.toHexString()),t==="hex3"&&(r=this.toHexString(!0)),t==="hex4"&&(r=this.toHex8String(!0)),t==="hex8"&&(r=this.toHex8String()),t==="name"&&(r=this.toName()),t==="hsl"&&(r=this.toHslString()),t==="hsv"&&(r=this.toHsvString()),r||this.toHexString())},clone:function(){return ke(this.toString())},_applyModification:function(t,n){var r=t.apply(null,[this].concat([].slice.call(n)));return this._r=r._r,this._g=r._g,this._b=r._b,this.setAlpha(r._a),this},lighten:function(){return this._applyModification(u$,arguments)},brighten:function(){return this._applyModification(d$,arguments)},darken:function(){return this._applyModification(f$,arguments)},desaturate:function(){return this._applyModification(o$,arguments)},saturate:function(){return this._applyModification(l$,arguments)},greyscale:function(){return this._applyModification(c$,arguments)},spin:function(){return this._applyModification(h$,arguments)},_applyCombination:function(t,n){return t.apply(null,[this].concat([].slice.call(n)))},analogous:function(){return this._applyCombination(m$,arguments)},complement:function(){return this._applyCombination(p$,arguments)},monochromatic:function(){return this._applyCombination(y$,arguments)},splitcomplement:function(){return this._applyCombination(g$,arguments)},triad:function(){return this._applyCombination($M,[3])},tetrad:function(){return this._applyCombination($M,[4])}};ke.fromRatio=function(e,t){if(s0(e)=="object"){var n={};for(var r in e)e.hasOwnProperty(r)&&(r==="a"?n[r]=e[r]:n[r]=Uh(e[r]));e=n}return ke(e,t)};function n$(e){var t={r:0,g:0,b:0},n=1,r=null,i=null,s=null,l=!1,c=!1;return typeof e=="string"&&(e=S$(e)),s0(e)=="object"&&(ro(e.r)&&ro(e.g)&&ro(e.b)?(t=r$(e.r,e.g,e.b),l=!0,c=String(e.r).substr(-1)==="%"?"prgb":"rgb"):ro(e.h)&&ro(e.s)&&ro(e.v)?(r=Uh(e.s),i=Uh(e.v),t=s$(e.h,r,i),l=!0,c="hsv"):ro(e.h)&&ro(e.s)&&ro(e.l)&&(r=Uh(e.s),s=Uh(e.l),t=i$(e.h,r,s),l=!0,c="hsl"),e.hasOwnProperty("a")&&(n=e.a)),n=FP(n),{ok:l,format:e.format||c,r:Math.min(255,Math.max(t.r,0)),g:Math.min(255,Math.max(t.g,0)),b:Math.min(255,Math.max(t.b,0)),a:n}}function r$(e,t,n){return{r:Hn(e,255)*255,g:Hn(t,255)*255,b:Hn(n,255)*255}}function NM(e,t,n){e=Hn(e,255),t=Hn(t,255),n=Hn(n,255);var r=Math.max(e,t,n),i=Math.min(e,t,n),s,l,c=(r+i)/2;if(r==i)s=l=0;else{var d=r-i;switch(l=c>.5?d/(2-r-i):d/(r+i),r){case e:s=(t-n)/d+(t<n?6:0);break;case t:s=(n-e)/d+2;break;case n:s=(e-t)/d+4;break}s/=6}return{h:s,s:l,l:c}}function i$(e,t,n){var r,i,s;e=Hn(e,360),t=Hn(t,100),n=Hn(n,100);function l(u,p,h){return h<0&&(h+=1),h>1&&(h-=1),h<1/6?u+(p-u)*6*h:h<1/2?p:h<2/3?u+(p-u)*(2/3-h)*6:u}if(t===0)r=i=s=n;else{var c=n<.5?n*(1+t):n+t-n*t,d=2*n-c;r=l(d,c,e+1/3),i=l(d,c,e),s=l(d,c,e-1/3)}return{r:r*255,g:i*255,b:s*255}}function LM(e,t,n){e=Hn(e,255),t=Hn(t,255),n=Hn(n,255);var r=Math.max(e,t,n),i=Math.min(e,t,n),s,l,c=r,d=r-i;if(l=r===0?0:d/r,r==i)s=0;else{switch(r){case e:s=(t-n)/d+(t<n?6:0);break;case t:s=(n-e)/d+2;break;case n:s=(e-t)/d+4;break}s/=6}return{h:s,s:l,v:c}}function s$(e,t,n){e=Hn(e,360)*6,t=Hn(t,100),n=Hn(n,100);var r=Math.floor(e),i=e-r,s=n*(1-t),l=n*(1-i*t),c=n*(1-(1-i)*t),d=r%6,u=[n,l,s,s,c,n][d],p=[c,n,n,l,s,s][d],h=[s,s,c,n,n,l][d];return{r:u*255,g:p*255,b:h*255}}function FM(e,t,n,r){var i=[aa(Math.round(e).toString(16)),aa(Math.round(t).toString(16)),aa(Math.round(n).toString(16))];return r&&i[0].charAt(0)==i[0].charAt(1)&&i[1].charAt(0)==i[1].charAt(1)&&i[2].charAt(0)==i[2].charAt(1)?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0):i.join("")}function a$(e,t,n,r,i){var s=[aa(Math.round(e).toString(16)),aa(Math.round(t).toString(16)),aa(Math.round(n).toString(16)),aa(zP(r))];return i&&s[0].charAt(0)==s[0].charAt(1)&&s[1].charAt(0)==s[1].charAt(1)&&s[2].charAt(0)==s[2].charAt(1)&&s[3].charAt(0)==s[3].charAt(1)?s[0].charAt(0)+s[1].charAt(0)+s[2].charAt(0)+s[3].charAt(0):s.join("")}function zM(e,t,n,r){var i=[aa(zP(r)),aa(Math.round(e).toString(16)),aa(Math.round(t).toString(16)),aa(Math.round(n).toString(16))];return i.join("")}ke.equals=function(e,t){return!e||!t?!1:ke(e).toRgbString()==ke(t).toRgbString()};ke.random=function(){return ke.fromRatio({r:Math.random(),g:Math.random(),b:Math.random()})};function o$(e,t){t=t===0?0:t||10;var n=ke(e).toHsl();return n.s-=t/100,n.s=W0(n.s),ke(n)}function l$(e,t){t=t===0?0:t||10;var n=ke(e).toHsl();return n.s+=t/100,n.s=W0(n.s),ke(n)}function c$(e){return ke(e).desaturate(100)}function u$(e,t){t=t===0?0:t||10;var n=ke(e).toHsl();return n.l+=t/100,n.l=W0(n.l),ke(n)}function d$(e,t){t=t===0?0:t||10;var n=ke(e).toRgb();return n.r=Math.max(0,Math.min(255,n.r-Math.round(255*-(t/100)))),n.g=Math.max(0,Math.min(255,n.g-Math.round(255*-(t/100)))),n.b=Math.max(0,Math.min(255,n.b-Math.round(255*-(t/100)))),ke(n)}function f$(e,t){t=t===0?0:t||10;var n=ke(e).toHsl();return n.l-=t/100,n.l=W0(n.l),ke(n)}function h$(e,t){var n=ke(e).toHsl(),r=(n.h+t)%360;return n.h=r<0?360+r:r,ke(n)}function p$(e){var t=ke(e).toHsl();return t.h=(t.h+180)%360,ke(t)}function $M(e,t){if(isNaN(t)||t<=0)throw new Error("Argument to polyad must be a positive number");for(var n=ke(e).toHsl(),r=[ke(e)],i=360/t,s=1;s<t;s++)r.push(ke({h:(n.h+s*i)%360,s:n.s,l:n.l}));return r}function g$(e){var t=ke(e).toHsl(),n=t.h;return[ke(e),ke({h:(n+72)%360,s:t.s,l:t.l}),ke({h:(n+216)%360,s:t.s,l:t.l})]}function m$(e,t,n){t=t||6,n=n||30;var r=ke(e).toHsl(),i=360/n,s=[ke(e)];for(r.h=(r.h-(i*t>>1)+720)%360;--t;)r.h=(r.h+i)%360,s.push(ke(r));return s}function y$(e,t){t=t||6;for(var n=ke(e).toHsv(),r=n.h,i=n.s,s=n.v,l=[],c=1/t;t--;)l.push(ke({h:r,s:i,v:s})),s=(s+c)%1;return l}ke.mix=function(e,t,n){n=n===0?0:n||50;var r=ke(e).toRgb(),i=ke(t).toRgb(),s=n/100,l={r:(i.r-r.r)*s+r.r,g:(i.g-r.g)*s+r.g,b:(i.b-r.b)*s+r.b,a:(i.a-r.a)*s+r.a};return ke(l)};ke.readability=function(e,t){var n=ke(e),r=ke(t);return(Math.max(n.getLuminance(),r.getLuminance())+.05)/(Math.min(n.getLuminance(),r.getLuminance())+.05)};ke.isReadable=function(e,t,n){var r=ke.readability(e,t),i,s;switch(s=!1,i=x$(n),i.level+i.size){case"AAsmall":case"AAAlarge":s=r>=4.5;break;case"AAlarge":s=r>=3;break;case"AAAsmall":s=r>=7;break}return s};ke.mostReadable=function(e,t,n){var r=null,i=0,s,l,c,d;n=n||{},l=n.includeFallbackColors,c=n.level,d=n.size;for(var u=0;u<t.length;u++)s=ke.readability(e,t[u]),s>i&&(i=s,r=ke(t[u]));return ke.isReadable(e,r,{level:c,size:d})||!l?r:(n.includeFallbackColors=!1,ke.mostReadable(e,["#fff","#000"],n))};var bS=ke.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},v$=ke.hexNames=A$(bS);function A$(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[e[n]]=n);return t}function FP(e){return e=parseFloat(e),(isNaN(e)||e<0||e>1)&&(e=1),e}function Hn(e,t){b$(e)&&(e="100%");var n=_$(e);return e=Math.min(t,Math.max(0,parseFloat(e))),n&&(e=parseInt(e*t,10)/100),Math.abs(e-t)<1e-6?1:e%t/parseFloat(t)}function W0(e){return Math.min(1,Math.max(0,e))}function ts(e){return parseInt(e,16)}function b$(e){return typeof e=="string"&&e.indexOf(".")!=-1&&parseFloat(e)===1}function _$(e){return typeof e=="string"&&e.indexOf("%")!=-1}function aa(e){return e.length==1?"0"+e:""+e}function Uh(e){return e<=1&&(e=e*100+"%"),e}function zP(e){return Math.round(parseFloat(e)*255).toString(16)}function UM(e){return ts(e)/255}var Zs=function(){var e="[-\\+]?\\d+%?",t="[-\\+]?\\d*\\.\\d+%?",n="(?:"+t+")|(?:"+e+")",r="[\\s|\\(]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")\\s*\\)?",i="[\\s|\\(]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")\\s*\\)?";return{CSS_UNIT:new RegExp(n),rgb:new RegExp("rgb"+r),rgba:new RegExp("rgba"+i),hsl:new RegExp("hsl"+r),hsla:new RegExp("hsla"+i),hsv:new RegExp("hsv"+r),hsva:new RegExp("hsva"+i),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function ro(e){return!!Zs.CSS_UNIT.exec(e)}function S$(e){e=e.replace(e$,"").replace(t$,"").toLowerCase();var t=!1;if(bS[e])e=bS[e],t=!0;else if(e=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var n;return(n=Zs.rgb.exec(e))?{r:n[1],g:n[2],b:n[3]}:(n=Zs.rgba.exec(e))?{r:n[1],g:n[2],b:n[3],a:n[4]}:(n=Zs.hsl.exec(e))?{h:n[1],s:n[2],l:n[3]}:(n=Zs.hsla.exec(e))?{h:n[1],s:n[2],l:n[3],a:n[4]}:(n=Zs.hsv.exec(e))?{h:n[1],s:n[2],v:n[3]}:(n=Zs.hsva.exec(e))?{h:n[1],s:n[2],v:n[3],a:n[4]}:(n=Zs.hex8.exec(e))?{r:ts(n[1]),g:ts(n[2]),b:ts(n[3]),a:UM(n[4]),format:t?"name":"hex8"}:(n=Zs.hex6.exec(e))?{r:ts(n[1]),g:ts(n[2]),b:ts(n[3]),format:t?"name":"hex"}:(n=Zs.hex4.exec(e))?{r:ts(n[1]+""+n[1]),g:ts(n[2]+""+n[2]),b:ts(n[3]+""+n[3]),a:UM(n[4]+""+n[4]),format:t?"name":"hex8"}:(n=Zs.hex3.exec(e))?{r:ts(n[1]+""+n[1]),g:ts(n[2]+""+n[2]),b:ts(n[3]+""+n[3]),format:t?"name":"hex"}:!1}function x$(e){var t,n;return e=e||{level:"AA",size:"small"},t=(e.level||"AA").toUpperCase(),n=(e.size||"small").toLowerCase(),t!=="AA"&&t!=="AAA"&&(t="AA"),n!=="small"&&n!=="large"&&(n="small"),{level:t,size:n}}ke("rgb(52, 166, 95)");ke("rgb(15, 138, 95)");ke("rgb(245, 98, 77)");ke("rgb(204, 35, 30)");const $P=ke("rgb(245, 220, 21)"),w$=ke($P.toRgbString()).darken(15),UP=ke("rgb(255, 70, 223)"),E$=ke(UP.toRgbString()).darken(15),HP=ke("rgb(255, 119, 20)"),T$=ke(HP.toRgbString()).darken(15),qP=ke("rgb(31, 192, 223)"),C$=ke(qP.toRgbString()).darken(15),GP=ke("rgb(102, 44, 182)"),k$=ke(GP.toRgbString()).darken(15),M$=ke("rgb(0, 153, 255)"),R$=ke("rgb(0, 77, 128)"),HM=ke("rgb(255, 54, 54)"),qM=ke("rgb(117, 25, 25)"),I$=ke("rgb(255, 213, 0)"),yy=ke("rgb(255, 183, 0)"),Cs=(e,t)=>e.setAlpha(t).toRgbString(),Qr=(e,t)=>({text:Cs(e,1),stroke:Cs(t,1),star:{fill:Cs(yy,.5),stroke:Cs(yy,0),lineWidth:1},perfect:{fill:Cs(e,1),stroke:"white",lineWidth:1},starPerfect:{fill:Cs(I$,1),stroke:Cs(yy,1),lineWidth:2},hit:{fill:Cs(e,.9),stroke:Cs(t,0),lineWidth:1},miss:{fill:Cs(e,.25),stroke:Cs(t,1),lineWidth:1}}),et={blue:Qr(M$,R$),red:Qr(HM,qM),green:Qr(ke("rgb(0,183,0)"),ke("rgb(0,84,0)")),yellow:Qr(ke("rgb(239,209,0)"),ke("rgb(114,84,0)")),christmasGreen:Qr(ke("rgb(44,133,0)"),ke("rgb(3, 79, 27)")),christmasRed:Qr(ke("rgb(181,27,42)"),ke("rgb(126, 18, 29)")),christmasBlue:Qr(ke("rgb(87 140 190)"),ke("rgb(34 53 90)")),christmasGold:Qr(ke("rgb(206, 172, 92)"),ke("rgb(129,108,58)")),halloweenOrange:Qr(ke("#fd9702"),ke("#ff7100")),halloweenViolet:Qr(ke("#e102ff"),ke("#ae03ff")),halloweenRed:Qr(HM,qM),halloweenGreen:Qr(ke("rgb(0,183,0)"),ke("rgb(0,84,0)")),eurovisionYellow:Qr($P,w$),eurovisionPink:Qr(UP,E$),eurovisionOrange:Qr(HP,T$),eurovisionBlue:Qr(qP,C$),eurovisionViolet:Qr(GP,k$)};let vy=[et.blue,et.red,et.green,et.yellow];const $e={colors:{players:vy,lines:{normal:{fill:"rgba(127, 127, 127, .7)",stroke:"black",lineWidth:1},star:{fill:"rgba(158, 144, 106, 1)",stroke:Cs(yy,1),lineWidth:1},freestyle:{fill:"rgba(255, 255, 255, 0.1)",stroke:"black",lineWidth:2}},text:{active:"rgb(255, 165, 0)",default:"white",inactive:"grey"}}},GM={christmas:[et.christmasGreen,et.christmasRed,et.christmasBlue,et.christmasGold],eurovision:[et.eurovisionBlue,et.eurovisionViolet,et.eurovisionYellow,et.eurovisionPink],halloween:[et.halloweenOrange,et.halloweenViolet,et.halloweenRed,et.halloweenGreen],regular:[et.blue,et.red,et.green,et.yellow]},YP=e=>{vy[0]!==GM[e][0]&&(vy=GM[e],$e.colors.players=vy)};function Sd(e,t,n){e==null||e.send({t,...n})}var _S;try{_S=new TextDecoder}catch{}var Ne,Ra,ae=0,Pn={},Yt,yl,Ms=0,Ea=0,Hr,_o,Hi=[],Ht,YM={useRecords:!1,mapsAsObjects:!0};class KP{}const WP=new KP;WP.name="MessagePack 0xC1";var bl=!1,QP=2,O$;try{new Function("")}catch{QP=1/0}class gp{constructor(t){t&&(t.useRecords===!1&&t.mapsAsObjects===void 0&&(t.mapsAsObjects=!0),t.sequential&&t.trusted!==!1&&(t.trusted=!0,!t.structures&&t.useRecords!=!1&&(t.structures=[],t.maxSharedStructures||(t.maxSharedStructures=0))),t.structures?t.structures.sharedLength=t.structures.length:t.getStructures&&((t.structures=[]).uninitialized=!0,t.structures.sharedLength=0),t.int64AsNumber&&(t.int64AsType="number")),Object.assign(this,t)}unpack(t,n){if(Ne)return nV(()=>(xS(),this?this.unpack(t,n):gp.prototype.unpack.call(YM,t,n)));!t.buffer&&t.constructor===ArrayBuffer&&(t=typeof Buffer<"u"?Buffer.from(t):new Uint8Array(t)),typeof n=="object"?(Ra=n.end||t.length,ae=n.start||0):(ae=0,Ra=n>-1?n:t.length),Ea=0,yl=null,Hr=null,Ne=t;try{Ht=t.dataView||(t.dataView=new DataView(t.buffer,t.byteOffset,t.byteLength))}catch(r){throw Ne=null,t instanceof Uint8Array?r:new Error("Source must be a Uint8Array or Buffer but was a "+(t&&typeof t=="object"?t.constructor.name:typeof t))}if(this instanceof gp){if(Pn=this,this.structures)return Yt=this.structures,xm(n);(!Yt||Yt.length>0)&&(Yt=[])}else Pn=YM,(!Yt||Yt.length>0)&&(Yt=[]);return xm(n)}unpackMultiple(t,n){let r,i=0;try{bl=!0;let s=t.length,l=this?this.unpack(t,s):Q0.unpack(t,s);if(n){if(n(l,i,ae)===!1)return;for(;ae<s;)if(i=ae,n(xm(),i,ae)===!1)return}else{for(r=[l];ae<s;)i=ae,r.push(xm());return r}}catch(s){throw s.lastPosition=i,s.values=r,s}finally{bl=!1,xS()}}_mergeStructures(t,n){t=t||[],Object.isFrozen(t)&&(t=t.map(r=>r.slice(0)));for(let r=0,i=t.length;r<i;r++){let s=t[r];s&&(s.isShared=!0,r>=32&&(s.highByte=r-32>>5))}t.sharedLength=t.length;for(let r in n||[])if(r>=0){let i=t[r],s=n[r];s&&(i&&((t.restoreStructures||(t.restoreStructures=[]))[r]=i),t[r]=s)}return this.structures=t}decode(t,n){return this.unpack(t,n)}}function xm(e){try{if(!Pn.trusted&&!bl){let n=Yt.sharedLength||0;n<Yt.length&&(Yt.length=n)}let t;if(Pn.randomAccessStructure&&Ne[ae]<64&&Ne[ae]>=32&&O$||(t=yr()),Hr&&(ae=Hr.postBundlePosition,Hr=null),bl&&(Yt.restoreStructures=null),ae==Ra)Yt&&Yt.restoreStructures&&KM(),Yt=null,Ne=null,_o&&(_o=null);else{if(ae>Ra)throw new Error("Unexpected end of MessagePack data");if(!bl){let n;try{n=JSON.stringify(t,(r,i)=>typeof i=="bigint"?`${i}n`:i).slice(0,100)}catch(r){n="(JSON view not available "+r+")"}throw new Error("Data read, but end of buffer not reached "+n)}}return t}catch(t){throw Yt&&Yt.restoreStructures&&KM(),xS(),(t instanceof RangeError||t.message.startsWith("Unexpected end of buffer")||ae>Ra)&&(t.incomplete=!0),t}}function KM(){for(let e in Yt.restoreStructures)Yt[e]=Yt.restoreStructures[e];Yt.restoreStructures=null}function yr(){let e=Ne[ae++];if(e<160)if(e<128){if(e<64)return e;{let t=Yt[e&63]||Pn.getStructures&&XP()[e&63];return t?(t.read||(t.read=hw(t,e&63)),t.read()):e}}else if(e<144)if(e-=128,Pn.mapsAsObjects){let t={};for(let n=0;n<e;n++){let r=ZP();r==="__proto__"&&(r="__proto_"),t[r]=yr()}return t}else{let t=new Map;for(let n=0;n<e;n++)t.set(yr(),yr());return t}else{e-=144;let t=new Array(e);for(let n=0;n<e;n++)t[n]=yr();return Pn.freezeData?Object.freeze(t):t}else if(e<192){let t=e-160;if(Ea>=ae)return yl.slice(ae-Ms,(ae+=t)-Ms);if(Ea==0&&Ra<140){let n=t<16?pw(t):JP(t);if(n!=null)return n}return SS(t)}else{let t;switch(e){case 192:return null;case 193:return Hr?(t=yr(),t>0?Hr[1].slice(Hr.position1,Hr.position1+=t):Hr[0].slice(Hr.position0,Hr.position0-=t)):WP;case 194:return!1;case 195:return!0;case 196:if(t=Ne[ae++],t===void 0)throw new Error("Unexpected end of buffer");return f1(t);case 197:return t=Ht.getUint16(ae),ae+=2,f1(t);case 198:return t=Ht.getUint32(ae),ae+=4,f1(t);case 199:return uc(Ne[ae++]);case 200:return t=Ht.getUint16(ae),ae+=2,uc(t);case 201:return t=Ht.getUint32(ae),ae+=4,uc(t);case 202:if(t=Ht.getFloat32(ae),Pn.useFloat32>2){let n=gw[(Ne[ae]&127)<<1|Ne[ae+1]>>7];return ae+=4,(n*t+(t>0?.5:-.5)>>0)/n}return ae+=4,t;case 203:return t=Ht.getFloat64(ae),ae+=8,t;case 204:return Ne[ae++];case 205:return t=Ht.getUint16(ae),ae+=2,t;case 206:return t=Ht.getUint32(ae),ae+=4,t;case 207:return Pn.int64AsType==="number"?(t=Ht.getUint32(ae)*4294967296,t+=Ht.getUint32(ae+4)):Pn.int64AsType==="string"?t=Ht.getBigUint64(ae).toString():Pn.int64AsType==="auto"?(t=Ht.getBigUint64(ae),t<=BigInt(2)<<BigInt(52)&&(t=Number(t))):t=Ht.getBigUint64(ae),ae+=8,t;case 208:return Ht.getInt8(ae++);case 209:return t=Ht.getInt16(ae),ae+=2,t;case 210:return t=Ht.getInt32(ae),ae+=4,t;case 211:return Pn.int64AsType==="number"?(t=Ht.getInt32(ae)*4294967296,t+=Ht.getUint32(ae+4)):Pn.int64AsType==="string"?t=Ht.getBigInt64(ae).toString():Pn.int64AsType==="auto"?(t=Ht.getBigInt64(ae),t>=BigInt(-2)<<BigInt(52)&&t<=BigInt(2)<<BigInt(52)&&(t=Number(t))):t=Ht.getBigInt64(ae),ae+=8,t;case 212:if(t=Ne[ae++],t==114)return eR(Ne[ae++]&63);{let n=Hi[t];if(n)return n.read?(ae++,n.read(yr())):n.noBuffer?(ae++,n()):n(Ne.subarray(ae,++ae));throw new Error("Unknown extension "+t)}case 213:return t=Ne[ae],t==114?(ae++,eR(Ne[ae++]&63,Ne[ae++])):uc(2);case 214:return uc(4);case 215:return uc(8);case 216:return uc(16);case 217:return t=Ne[ae++],Ea>=ae?yl.slice(ae-Ms,(ae+=t)-Ms):P$(t);case 218:return t=Ht.getUint16(ae),ae+=2,Ea>=ae?yl.slice(ae-Ms,(ae+=t)-Ms):V$(t);case 219:return t=Ht.getUint32(ae),ae+=4,Ea>=ae?yl.slice(ae-Ms,(ae+=t)-Ms):D$(t);case 220:return t=Ht.getUint16(ae),ae+=2,QM(t);case 221:return t=Ht.getUint32(ae),ae+=4,QM(t);case 222:return t=Ht.getUint16(ae),ae+=2,XM(t);case 223:return t=Ht.getUint32(ae),ae+=4,XM(t);default:if(e>=224)return e-256;if(e===void 0){let n=new Error("Unexpected end of MessagePack data");throw n.incomplete=!0,n}throw new Error("Unknown MessagePack token "+e)}}}const j$=/^[a-zA-Z_$][a-zA-Z\d_$]*$/;function hw(e,t){function n(){if(n.count++>QP){let i=e.read=new Function("r","return function(){return "+(Pn.freezeData?"Object.freeze":"")+"({"+e.map(s=>s==="__proto__"?"__proto_:r()":j$.test(s)?s+":r()":"["+JSON.stringify(s)+"]:r()").join(",")+"})}")(yr);return e.highByte===0&&(e.read=WM(t,e.read)),i()}let r={};for(let i=0,s=e.length;i<s;i++){let l=e[i];l==="__proto__"&&(l="__proto_"),r[l]=yr()}return Pn.freezeData?Object.freeze(r):r}return n.count=0,e.highByte===0?WM(t,n):n}const WM=(e,t)=>function(){let n=Ne[ae++];if(n===0)return t();let r=e<32?-(e+(n<<5)):e+(n<<5),i=Yt[r]||XP()[r];if(!i)throw new Error("Record id is not defined for "+r);return i.read||(i.read=hw(i,e)),i.read()};function XP(){let e=nV(()=>(Ne=null,Pn.getStructures()));return Yt=Pn._mergeStructures(e,Yt)}var SS=Dp,P$=Dp,V$=Dp,D$=Dp;function Dp(e){let t;if(e<16&&(t=pw(e)))return t;if(e>64&&_S)return _S.decode(Ne.subarray(ae,ae+=e));const n=ae+e,r=[];for(t="";ae<n;){const i=Ne[ae++];if(!(i&128))r.push(i);else if((i&224)===192){const s=Ne[ae++]&63;r.push((i&31)<<6|s)}else if((i&240)===224){const s=Ne[ae++]&63,l=Ne[ae++]&63;r.push((i&31)<<12|s<<6|l)}else if((i&248)===240){const s=Ne[ae++]&63,l=Ne[ae++]&63,c=Ne[ae++]&63;let d=(i&7)<<18|s<<12|l<<6|c;d>65535&&(d-=65536,r.push(d>>>10&1023|55296),d=56320|d&1023),r.push(d)}else r.push(i);r.length>=4096&&(t+=zr.apply(String,r),r.length=0)}return r.length>0&&(t+=zr.apply(String,r)),t}function QM(e){let t=new Array(e);for(let n=0;n<e;n++)t[n]=yr();return Pn.freezeData?Object.freeze(t):t}function XM(e){if(Pn.mapsAsObjects){let t={};for(let n=0;n<e;n++){let r=ZP();r==="__proto__"&&(r="__proto_"),t[r]=yr()}return t}else{let t=new Map;for(let n=0;n<e;n++)t.set(yr(),yr());return t}}var zr=String.fromCharCode;function JP(e){let t=ae,n=new Array(e);for(let r=0;r<e;r++){const i=Ne[ae++];if((i&128)>0){ae=t;return}n[r]=i}return zr.apply(String,n)}function pw(e){if(e<4)if(e<2){if(e===0)return"";{let t=Ne[ae++];if((t&128)>1){ae-=1;return}return zr(t)}}else{let t=Ne[ae++],n=Ne[ae++];if((t&128)>0||(n&128)>0){ae-=2;return}if(e<3)return zr(t,n);let r=Ne[ae++];if((r&128)>0){ae-=3;return}return zr(t,n,r)}else{let t=Ne[ae++],n=Ne[ae++],r=Ne[ae++],i=Ne[ae++];if((t&128)>0||(n&128)>0||(r&128)>0||(i&128)>0){ae-=4;return}if(e<6){if(e===4)return zr(t,n,r,i);{let s=Ne[ae++];if((s&128)>0){ae-=5;return}return zr(t,n,r,i,s)}}else if(e<8){let s=Ne[ae++],l=Ne[ae++];if((s&128)>0||(l&128)>0){ae-=6;return}if(e<7)return zr(t,n,r,i,s,l);let c=Ne[ae++];if((c&128)>0){ae-=7;return}return zr(t,n,r,i,s,l,c)}else{let s=Ne[ae++],l=Ne[ae++],c=Ne[ae++],d=Ne[ae++];if((s&128)>0||(l&128)>0||(c&128)>0||(d&128)>0){ae-=8;return}if(e<10){if(e===8)return zr(t,n,r,i,s,l,c,d);{let u=Ne[ae++];if((u&128)>0){ae-=9;return}return zr(t,n,r,i,s,l,c,d,u)}}else if(e<12){let u=Ne[ae++],p=Ne[ae++];if((u&128)>0||(p&128)>0){ae-=10;return}if(e<11)return zr(t,n,r,i,s,l,c,d,u,p);let h=Ne[ae++];if((h&128)>0){ae-=11;return}return zr(t,n,r,i,s,l,c,d,u,p,h)}else{let u=Ne[ae++],p=Ne[ae++],h=Ne[ae++],y=Ne[ae++];if((u&128)>0||(p&128)>0||(h&128)>0||(y&128)>0){ae-=12;return}if(e<14){if(e===12)return zr(t,n,r,i,s,l,c,d,u,p,h,y);{let v=Ne[ae++];if((v&128)>0){ae-=13;return}return zr(t,n,r,i,s,l,c,d,u,p,h,y,v)}}else{let v=Ne[ae++],b=Ne[ae++];if((v&128)>0||(b&128)>0){ae-=14;return}if(e<15)return zr(t,n,r,i,s,l,c,d,u,p,h,y,v,b);let _=Ne[ae++];if((_&128)>0){ae-=15;return}return zr(t,n,r,i,s,l,c,d,u,p,h,y,v,b,_)}}}}}function JM(){let e=Ne[ae++],t;if(e<192)t=e-160;else switch(e){case 217:t=Ne[ae++];break;case 218:t=Ht.getUint16(ae),ae+=2;break;case 219:t=Ht.getUint32(ae),ae+=4;break;default:throw new Error("Expected string")}return Dp(t)}function f1(e){return Pn.copyBuffers?Uint8Array.prototype.slice.call(Ne,ae,ae+=e):Ne.subarray(ae,ae+=e)}function uc(e){let t=Ne[ae++];if(Hi[t]){let n;return Hi[t](Ne.subarray(ae,n=ae+=e),r=>{ae=r;try{return yr()}finally{ae=n}})}else throw new Error("Unknown extension type "+t)}var ZM=new Array(4096);function ZP(){let e=Ne[ae++];if(e>=160&&e<192){if(e=e-160,Ea>=ae)return yl.slice(ae-Ms,(ae+=e)-Ms);if(!(Ea==0&&Ra<180))return SS(e)}else return ae--,eV(yr());let t=(e<<5^(e>1?Ht.getUint16(ae):e>0?Ne[ae]:0))&4095,n=ZM[t],r=ae,i=ae+e-3,s,l=0;if(n&&n.bytes==e){for(;r<i;){if(s=Ht.getUint32(r),s!=n[l++]){r=1879048192;break}r+=4}for(i+=3;r<i;)if(s=Ne[r++],s!=n[l++]){r=1879048192;break}if(r===i)return ae=r,n.string;i-=3,r=ae}for(n=[],ZM[t]=n,n.bytes=e;r<i;)s=Ht.getUint32(r),n.push(s),r+=4;for(i+=3;r<i;)s=Ne[r++],n.push(s);let c=e<16?pw(e):JP(e);return c!=null?n.string=c:n.string=SS(e)}function eV(e){if(typeof e=="string")return e;if(typeof e=="number")return e.toString();throw new Error("Invalid property type for record",typeof e)}const eR=(e,t)=>{let n=yr().map(eV),r=e;t!==void 0&&(e=e<32?-((t<<5)+e):(t<<5)+e,n.highByte=t);let i=Yt[e];return i&&(i.isShared||bl)&&((Yt.restoreStructures||(Yt.restoreStructures=[]))[e]=i),Yt[e]=n,n.read=hw(n,r),n.read()};Hi[0]=()=>{};Hi[0].noBuffer=!0;Hi[66]=e=>{let t=e.length,n=BigInt(e[0]&128?e[0]-256:e[0]);for(let r=1;r<t;r++)n<<=8n,n+=BigInt(e[r]);return n};let B$={Error,TypeError,ReferenceError};Hi[101]=()=>{let e=yr();return(B$[e[0]]||Error)(e[1])};Hi[105]=e=>{if(Pn.structuredClone===!1)throw new Error("Structured clone extension is disabled");let t=Ht.getUint32(ae-4);_o||(_o=new Map);let n=Ne[ae],r;n>=144&&n<160||n==220||n==221?r=[]:r={};let i={target:r};_o.set(t,i);let s=yr();return i.used?Object.assign(r,s):(i.target=s,s)};Hi[112]=e=>{if(Pn.structuredClone===!1)throw new Error("Structured clone extension is disabled");let t=Ht.getUint32(ae-4),n=_o.get(t);return n.used=!0,n.target};Hi[115]=()=>new Set(yr());const tV=["Int8","Uint8","Uint8Clamped","Int16","Uint16","Int32","Uint32","Float32","Float64","BigInt64","BigUint64"].map(e=>e+"Array");let N$=typeof globalThis=="object"?globalThis:window;Hi[116]=e=>{let t=e[0],n=tV[t];if(!n)throw new Error("Could not find typed array for code "+t);return new N$[n](Uint8Array.prototype.slice.call(e,1).buffer)};Hi[120]=()=>{let e=yr();return new RegExp(e[0],e[1])};const L$=[];Hi[98]=e=>{let t=(e[0]<<24)+(e[1]<<16)+(e[2]<<8)+e[3],n=ae;return ae+=t-e.length,Hr=L$,Hr=[JM(),JM()],Hr.position0=0,Hr.position1=0,Hr.postBundlePosition=ae,ae=n,yr()};Hi[255]=e=>e.length==4?new Date((e[0]*16777216+(e[1]<<16)+(e[2]<<8)+e[3])*1e3):e.length==8?new Date(((e[0]<<22)+(e[1]<<14)+(e[2]<<6)+(e[3]>>2))/1e6+((e[3]&3)*4294967296+e[4]*16777216+(e[5]<<16)+(e[6]<<8)+e[7])*1e3):e.length==12?new Date(((e[0]<<24)+(e[1]<<16)+(e[2]<<8)+e[3])/1e6+((e[4]&128?-281474976710656:0)+e[6]*1099511627776+e[7]*4294967296+e[8]*16777216+(e[9]<<16)+(e[10]<<8)+e[11])*1e3):new Date("invalid");function nV(e){let t=Ra,n=ae,r=Ms,i=Ea,s=yl,l=_o,c=Hr,d=new Uint8Array(Ne.slice(0,Ra)),u=Yt,p=Yt.slice(0,Yt.length),h=Pn,y=bl,v=e();return Ra=t,ae=n,Ms=r,Ea=i,yl=s,_o=l,Hr=c,Ne=d,bl=y,Yt=u,Yt.splice(0,Yt.length,...p),Pn=h,Ht=new DataView(Ne.buffer,Ne.byteOffset,Ne.byteLength),v}function xS(){Ne=null,_o=null,Yt=null}const gw=new Array(147);for(let e=0;e<256;e++)gw[e]=+("1e"+Math.floor(45.15-e*.30103));var Q0=new gp({useRecords:!1});const F$=Q0.unpack;Q0.unpackMultiple;Q0.unpack;let z$=new Float32Array(1);new Uint8Array(z$.buffer,0,4);let Ay;try{Ay=new TextEncoder}catch{}let wS,rV;const X0=typeof Buffer<"u",wm=X0?function(e){return Buffer.allocUnsafeSlow(e)}:Uint8Array,iV=X0?Buffer:Uint8Array,tR=X0?4294967296:2144337920;let pe,xh,xn,oe=0,xi,Jn=null,$$;const U$=21760,H$=/[\u0080-\uFFFF]/,Wu=Symbol("record-id");class q$ extends gp{constructor(t){super(t),this.offset=0;let n,r,i,s,l=iV.prototype.utf8Write?function(L,q){return pe.utf8Write(L,q,4294967295)}:Ay&&Ay.encodeInto?function(L,q){return Ay.encodeInto(L,pe.subarray(q)).written}:!1,c=this;t||(t={});let d=t&&t.sequential,u=t.structures||t.saveStructures,p=t.maxSharedStructures;if(p==null&&(p=u?32:0),p>8160)throw new Error("Maximum maxSharedStructure is 8160");t.structuredClone&&t.moreTypes==null&&(this.moreTypes=!0);let h=t.maxOwnStructures;h==null&&(h=u?32:64),!this.structures&&t.useRecords!=!1&&(this.structures=[]);let y=p>32||h+p>64,v=p+64,b=p+h+64;if(b>8256)throw new Error("Maximum maxSharedStructure + maxOwnStructure is 8192");let _=[],w=0,T=0;this.pack=this.encode=function(L,q){if(pe||(pe=new wm(8192),xn=pe.dataView||(pe.dataView=new DataView(pe.buffer,0,8192)),oe=0),xi=pe.length-10,xi-oe<2048?(pe=new wm(pe.length),xn=pe.dataView||(pe.dataView=new DataView(pe.buffer,0,pe.length)),xi=pe.length-10,oe=0):oe=oe+7&2147483640,n=oe,q&X$&&(oe+=q&255),s=c.structuredClone?new Map:null,c.bundleStrings&&typeof L!="string"?(Jn=[],Jn.size=1/0):Jn=null,i=c.structures,i){i.uninitialized&&(i=c._mergeStructures(c.getStructures()));let D=i.sharedLength||0;if(D>p)throw new Error("Shared structures is larger than maximum shared structures, try increasing maxSharedStructures to "+i.sharedLength);if(!i.transitions){i.transitions=Object.create(null);for(let K=0;K<D;K++){let Q=i[K];if(!Q)continue;let J,B=i.transitions;for(let G=0,ee=Q.length;G<ee;G++){let ue=Q[G];J=B[ue],J||(J=B[ue]=Object.create(null)),B=J}B[Wu]=K+64}this.lastNamedStructuresLength=D}d||(i.nextId=D+64)}r&&(r=!1);let H;try{c.randomAccessStructure&&L&&L.constructor&&L.constructor===Object?U(L):M(L);let D=Jn;if(Jn&&iR(n,M,0),s&&s.idsToInsert){let K=s.idsToInsert.sort((G,ee)=>G.offset>ee.offset?1:-1),Q=K.length,J=-1;for(;D&&Q>0;){let G=K[--Q].offset+n;G<D.stringsPosition+n&&J===-1&&(J=0),G>D.position+n?J>=0&&(J+=6):(J>=0&&(xn.setUint32(D.position+n,xn.getUint32(D.position+n)+J),J=-1),D=D.previous,Q++)}J>=0&&D&&xn.setUint32(D.position+n,xn.getUint32(D.position+n)+J),oe+=K.length*6,oe>xi&&V(oe),c.offset=oe;let B=Y$(pe.subarray(n,oe),K);return s=null,B}return c.offset=oe,q&W$?(pe.start=n,pe.end=oe,pe):pe.subarray(n,oe)}catch(D){throw H=D,D}finally{if(i&&(k(),r&&c.saveStructures)){let D=i.sharedLength||0,K=pe.subarray(n,oe),Q=K$(i,c);if(!H)return c.saveStructures(Q,Q.isCompatible)===!1?c.pack(L,q):(c.lastNamedStructuresLength=D,K)}q&Q$&&(oe=n)}};const k=()=>{T<10&&T++;let L=i.sharedLength||0;if(i.length>L&&!d&&(i.length=L),w>1e4)i.transitions=null,T=0,w=0,_.length>0&&(_=[]);else if(_.length>0&&!d){for(let q=0,H=_.length;q<H;q++)_[q][Wu]=0;_=[]}},R=L=>{var q=L.length;q<16?pe[oe++]=144|q:q<65536?(pe[oe++]=220,pe[oe++]=q>>8,pe[oe++]=q&255):(pe[oe++]=221,xn.setUint32(oe,q),oe+=4);for(let H=0;H<q;H++)M(L[H])},M=L=>{oe>xi&&(pe=V(oe));var q=typeof L,H;if(q==="string"){let D=L.length;if(Jn&&D>=4&&D<4096){if((Jn.size+=D)>U$){let B,G=(Jn[0]?Jn[0].length*3+Jn[1].length:0)+10;oe+G>xi&&(pe=V(oe+G));let ee;Jn.position?(ee=Jn,pe[oe]=200,oe+=3,pe[oe++]=98,B=oe-n,oe+=4,iR(n,M,0),xn.setUint16(B+n-3,oe-n-B)):(pe[oe++]=214,pe[oe++]=98,B=oe-n,oe+=4),Jn=["",""],Jn.previous=ee,Jn.size=0,Jn.position=B}let J=H$.test(L);Jn[J?0:1]+=L,pe[oe++]=193,M(J?-D:D);return}let K;D<32?K=1:D<256?K=2:D<65536?K=3:K=5;let Q=D*3;if(oe+Q>xi&&(pe=V(oe+Q)),D<64||!l){let J,B,G,ee=oe+K;for(J=0;J<D;J++)B=L.charCodeAt(J),B<128?pe[ee++]=B:B<2048?(pe[ee++]=B>>6|192,pe[ee++]=B&63|128):(B&64512)===55296&&((G=L.charCodeAt(J+1))&64512)===56320?(B=65536+((B&1023)<<10)+(G&1023),J++,pe[ee++]=B>>18|240,pe[ee++]=B>>12&63|128,pe[ee++]=B>>6&63|128,pe[ee++]=B&63|128):(pe[ee++]=B>>12|224,pe[ee++]=B>>6&63|128,pe[ee++]=B&63|128);H=ee-oe-K}else H=l(L,oe+K);H<32?pe[oe++]=160|H:H<256?(K<2&&pe.copyWithin(oe+2,oe+1,oe+1+H),pe[oe++]=217,pe[oe++]=H):H<65536?(K<3&&pe.copyWithin(oe+3,oe+2,oe+2+H),pe[oe++]=218,pe[oe++]=H>>8,pe[oe++]=H&255):(K<5&&pe.copyWithin(oe+5,oe+3,oe+3+H),pe[oe++]=219,xn.setUint32(oe,H),oe+=4),oe+=H}else if(q==="number")if(L>>>0===L)L<32||L<128&&this.useRecords===!1||L<64&&!this.randomAccessStructure?pe[oe++]=L:L<256?(pe[oe++]=204,pe[oe++]=L):L<65536?(pe[oe++]=205,pe[oe++]=L>>8,pe[oe++]=L&255):(pe[oe++]=206,xn.setUint32(oe,L),oe+=4);else if(L>>0===L)L>=-32?pe[oe++]=256+L:L>=-128?(pe[oe++]=208,pe[oe++]=L+256):L>=-32768?(pe[oe++]=209,xn.setInt16(oe,L),oe+=2):(pe[oe++]=210,xn.setInt32(oe,L),oe+=4);else{let D;if((D=this.useFloat32)>0&&L<4294967296&&L>=-2147483648){pe[oe++]=202,xn.setFloat32(oe,L);let K;if(D<4||(K=L*gw[(pe[oe]&127)<<1|pe[oe+1]>>7])>>0===K){oe+=4;return}else oe--}pe[oe++]=203,xn.setFloat64(oe,L),oe+=8}else if(q==="object"||q==="function")if(!L)pe[oe++]=192;else{if(s){let K=s.get(L);if(K){if(!K.id){let Q=s.idsToInsert||(s.idsToInsert=[]);K.id=Q.push(K)}pe[oe++]=214,pe[oe++]=112,xn.setUint32(oe,K.id),oe+=4;return}else s.set(L,{offset:oe-n})}let D=L.constructor;if(D===Object)j(L,!0);else if(D===Array)R(L);else if(D===Map)if(this.mapAsEmptyObject)pe[oe++]=128;else{H=L.size,H<16?pe[oe++]=128|H:H<65536?(pe[oe++]=222,pe[oe++]=H>>8,pe[oe++]=H&255):(pe[oe++]=223,xn.setUint32(oe,H),oe+=4);for(let[K,Q]of L)M(K),M(Q)}else{for(let K=0,Q=wS.length;K<Q;K++){let J=rV[K];if(L instanceof J){let B=wS[K];if(B.write){B.type&&(pe[oe++]=212,pe[oe++]=B.type,pe[oe++]=0);let ge=B.write.call(this,L);ge===L?Array.isArray(L)?R(L):j(L):M(ge);return}let G=pe,ee=xn,ue=oe;pe=null;let F;try{F=B.pack.call(this,L,ge=>(pe=G,G=null,oe+=ge,oe>xi&&V(oe),{target:pe,targetView:xn,position:oe-ge}),M)}finally{G&&(pe=G,xn=ee,oe=ue,xi=pe.length-10)}F&&(F.length+oe>xi&&V(F.length+oe),oe=G$(F,pe,oe,B.type));return}}if(Array.isArray(L))R(L);else{if(L.toJSON){const K=L.toJSON();if(K!==L)return M(K)}if(q==="function")return M(this.writeFunction&&this.writeFunction(L));j(L,!L.hasOwnProperty)}}}else if(q==="boolean")pe[oe++]=L?195:194;else if(q==="bigint"){if(L<BigInt(1)<<BigInt(63)&&L>=-(BigInt(1)<<BigInt(63)))pe[oe++]=211,xn.setBigInt64(oe,L);else if(L<BigInt(1)<<BigInt(64)&&L>0)pe[oe++]=207,xn.setBigUint64(oe,L);else if(this.largeBigIntToFloat)pe[oe++]=203,xn.setFloat64(oe,Number(L));else if(this.useBigIntExtension&&L<2n**1023n&&L>-(2n**1023n)){pe[oe++]=199,oe++,pe[oe++]=66;let D=[],K;do{let Q=L&0xffn;K=(Q&0x80n)===(L<0n?0x80n:0n),D.push(Q),L>>=8n}while(!((L===0n||L===-1n)&&K));pe[oe-2]=D.length;for(let Q=D.length;Q>0;)pe[oe++]=Number(D[--Q]);return}else throw new RangeError(L+" was too large to fit in MessagePack 64-bit integer format, use useBigIntExtension or set largeBigIntToFloat to convert to float-64");oe+=8}else if(q==="undefined")this.encodeUndefinedAsNil?pe[oe++]=192:(pe[oe++]=212,pe[oe++]=0,pe[oe++]=0);else throw new Error("Unknown type: "+q)},E=this.variableMapSize||this.coercibleKeyAsNumber?L=>{let q=Object.keys(L),H=q.length;H<16?pe[oe++]=128|H:H<65536?(pe[oe++]=222,pe[oe++]=H>>8,pe[oe++]=H&255):(pe[oe++]=223,xn.setUint32(oe,H),oe+=4);let D;if(this.coercibleKeyAsNumber)for(let K=0;K<H;K++){D=q[K];let Q=Number(D);M(isNaN(Q)?D:Q),M(L[D])}else for(let K=0;K<H;K++)M(D=q[K]),M(L[D])}:(L,q)=>{pe[oe++]=222;let H=oe-n;oe+=2;let D=0;for(let K in L)(q||L.hasOwnProperty(K))&&(M(K),M(L[K]),D++);pe[H+++n]=D>>8,pe[H+n]=D&255},O=this.useRecords===!1?E:t.progressiveRecords&&!y?(L,q)=>{let H,D=i.transitions||(i.transitions=Object.create(null)),K=oe++-n,Q;for(let J in L)if(q||L.hasOwnProperty(J)){if(H=D[J],H)D=H;else{let B=Object.keys(L),G=D;D=i.transitions;let ee=0;for(let ue=0,F=B.length;ue<F;ue++){let ge=B[ue];H=D[ge],H||(H=D[ge]=Object.create(null),ee++),D=H}K+n+1==oe?(oe--,C(D,B,ee)):N(D,B,K,ee),Q=!0,D=G[J]}M(L[J])}if(!Q){let J=D[Wu];J?pe[K+n]=J:N(D,Object.keys(L),K,0)}}:(L,q)=>{let H,D=i.transitions||(i.transitions=Object.create(null)),K=0;for(let J in L)(q||L.hasOwnProperty(J))&&(H=D[J],H||(H=D[J]=Object.create(null),K++),D=H);let Q=D[Wu];Q?Q>=96&&y?(pe[oe++]=((Q-=96)&31)+96,pe[oe++]=Q>>5):pe[oe++]=Q:C(D,D.__keys__||Object.keys(L),K);for(let J in L)(q||L.hasOwnProperty(J))&&M(L[J])},P=typeof this.useRecords=="function"&&this.useRecords,j=P?(L,q)=>{P(L)?O(L,q):E(L,q)}:O,V=L=>{let q;if(L>16777216){if(L-n>tR)throw new Error("Packed buffer would be larger than maximum buffer size");q=Math.min(tR,Math.round(Math.max((L-n)*(L>67108864?1.25:2),4194304)/4096)*4096)}else q=(Math.max(L-n<<2,pe.length-1)>>12)+1<<12;let H=new wm(q);return xn=H.dataView||(H.dataView=new DataView(H.buffer,0,q)),L=Math.min(L,pe.length),pe.copy?pe.copy(H,0,n,L):H.set(pe.slice(n,L)),oe-=n,n=0,xi=H.length-10,pe=H},C=(L,q,H)=>{let D=i.nextId;D||(D=64),D<v&&this.shouldShareStructure&&!this.shouldShareStructure(q)?(D=i.nextOwnId,D<b||(D=v),i.nextOwnId=D+1):(D>=b&&(D=v),i.nextId=D+1);let K=q.highByte=D>=96&&y?D-96>>5:-1;L[Wu]=D,L.__keys__=q,i[D-64]=q,D<v?(q.isShared=!0,i.sharedLength=D-63,r=!0,K>=0?(pe[oe++]=(D&31)+96,pe[oe++]=K):pe[oe++]=D):(K>=0?(pe[oe++]=213,pe[oe++]=114,pe[oe++]=(D&31)+96,pe[oe++]=K):(pe[oe++]=212,pe[oe++]=114,pe[oe++]=D),H&&(w+=T*H),_.length>=h&&(_.shift()[Wu]=0),_.push(L),M(q))},N=(L,q,H,D)=>{let K=pe,Q=oe,J=xi,B=n;pe=xh,oe=0,n=0,pe||(xh=pe=new wm(8192)),xi=pe.length-10,C(L,q,D),xh=pe;let G=oe;if(pe=K,oe=Q,xi=J,n=B,G>1){let ee=oe+G-1;ee>xi&&V(ee);let ue=H+n;pe.copyWithin(ue+G,ue+1,oe),pe.set(xh.slice(0,G),ue),oe=ee}else pe[H+n]=xh[0]},U=(L,q)=>{let H=$$(L,pe,n,oe,i,V,(D,K,Q)=>{if(Q)return r=!0;oe=K;let J=pe;return M(D),k(),J!==pe?{position:oe,targetView:xn,target:pe}:oe},this);if(H===0)return j(L,!0);oe=H}}useBuffer(t){pe=t,xn=new DataView(pe.buffer,pe.byteOffset,pe.byteLength),oe=0}clearSharedData(){this.structures&&(this.structures=[]),this.typedStructs&&(this.typedStructs=[])}}rV=[Date,Set,Error,RegExp,ArrayBuffer,Object.getPrototypeOf(Uint8Array.prototype).constructor,KP];wS=[{pack(e,t,n){let r=e.getTime()/1e3;if((this.useTimestamp32||e.getMilliseconds()===0)&&r>=0&&r<4294967296){let{target:i,targetView:s,position:l}=t(6);i[l++]=214,i[l++]=255,s.setUint32(l,r)}else if(r>0&&r<4294967296){let{target:i,targetView:s,position:l}=t(10);i[l++]=215,i[l++]=255,s.setUint32(l,e.getMilliseconds()*4e6+(r/1e3/4294967296>>0)),s.setUint32(l+4,r)}else if(isNaN(r)){if(this.onInvalidDate)return t(0),n(this.onInvalidDate());let{target:i,targetView:s,position:l}=t(3);i[l++]=212,i[l++]=255,i[l++]=255}else{let{target:i,targetView:s,position:l}=t(15);i[l++]=199,i[l++]=12,i[l++]=255,s.setUint32(l,e.getMilliseconds()*1e6),s.setBigInt64(l+4,BigInt(Math.floor(r)))}}},{pack(e,t,n){if(this.setAsEmptyObject)return t(0),n({});let r=Array.from(e),{target:i,position:s}=t(this.moreTypes?3:0);this.moreTypes&&(i[s++]=212,i[s++]=115,i[s++]=0),n(r)}},{pack(e,t,n){let{target:r,position:i}=t(this.moreTypes?3:0);this.moreTypes&&(r[i++]=212,r[i++]=101,r[i++]=0),n([e.name,e.message])}},{pack(e,t,n){let{target:r,position:i}=t(this.moreTypes?3:0);this.moreTypes&&(r[i++]=212,r[i++]=120,r[i++]=0),n([e.source,e.flags])}},{pack(e,t){this.moreTypes?nR(e,16,t):rR(X0?Buffer.from(e):new Uint8Array(e),t)}},{pack(e,t){let n=e.constructor;n!==iV&&this.moreTypes?nR(e,tV.indexOf(n.name),t):rR(e,t)}},{pack(e,t){let{target:n,position:r}=t(1);n[r]=193}}];function nR(e,t,n,r){let i=e.byteLength;if(i+1<256){var{target:s,position:l}=n(4+i);s[l++]=199,s[l++]=i+1}else if(i+1<65536){var{target:s,position:l}=n(5+i);s[l++]=200,s[l++]=i+1>>8,s[l++]=i+1&255}else{var{target:s,position:l,targetView:c}=n(7+i);s[l++]=201,c.setUint32(l,i+1),l+=4}s[l++]=116,s[l++]=t,s.set(new Uint8Array(e.buffer,e.byteOffset,e.byteLength),l)}function rR(e,t){let n=e.byteLength;var r,i;if(n<256){var{target:r,position:i}=t(n+2);r[i++]=196,r[i++]=n}else if(n<65536){var{target:r,position:i}=t(n+3);r[i++]=197,r[i++]=n>>8,r[i++]=n&255}else{var{target:r,position:i,targetView:s}=t(n+5);r[i++]=198,s.setUint32(i,n),i+=4}r.set(e,i)}function G$(e,t,n,r){let i=e.length;switch(i){case 1:t[n++]=212;break;case 2:t[n++]=213;break;case 4:t[n++]=214;break;case 8:t[n++]=215;break;case 16:t[n++]=216;break;default:i<256?(t[n++]=199,t[n++]=i):i<65536?(t[n++]=200,t[n++]=i>>8,t[n++]=i&255):(t[n++]=201,t[n++]=i>>24,t[n++]=i>>16&255,t[n++]=i>>8&255,t[n++]=i&255)}return t[n++]=r,t.set(e,n),n+=i,n}function Y$(e,t){let n,r=t.length*6,i=e.length-r;for(;n=t.pop();){let s=n.offset,l=n.id;e.copyWithin(s+r,s,i),r-=6;let c=s+r;e[c++]=214,e[c++]=105,e[c++]=l>>24,e[c++]=l>>16&255,e[c++]=l>>8&255,e[c++]=l&255,i=s}return e}function iR(e,t,n){if(Jn.length>0){xn.setUint32(Jn.position+e,oe+n-Jn.position-e),Jn.stringsPosition=oe-e;let r=Jn;Jn=null,t(r[0]),t(r[1])}}function K$(e,t){return e.isCompatible=n=>{let r=!n||(t.lastNamedStructuresLength||0)===n.length;return r||t._mergeStructures(n),r},e}let sV=new q$({useRecords:!1});const aV=sV.pack;sV.pack;const W$=512,Q$=1024,X$=2048;function Mi(){return Date.now()}const Ls=e=>aV(e),ef=e=>F$(e);let J$=class{constructor(t,n){this.connection=t,this.inputLag=n,this.frequencies=[0],this.volumes=[0],this.requestReadinessPromise=null,this.getFrequencies=()=>this.frequencies,this.clearFrequencies=()=>{Array.isArray(this.frequencies[0])&&(this.frequencies=[this.frequencies[0].at(-1)])},this.getVolumes=()=>this.volumes,this.getInputLag=()=>this.inputLag,this.setInputLag=r=>{this.inputLag=r},this.requestReadiness=()=>(console.log("requestReadiness"),this.requestReadinessPromise||(this.requestReadinessPromise=new Promise(r=>{const i=s=>{s.t==="confirm-readiness"&&(r(!0),this.connection.off("data",i),this.requestReadinessPromise=null)};this.connection.on("data",i),Sd(this.connection,"request-readiness")})),this.requestReadinessPromise),this.startMonitoring=async()=>{var r,i;(r=this.connection)==null||r.off("data",this.handleRTCData),Sd(this.connection,"start-monitor"),(i=this.connection)==null||i.on("data",this.handleRTCData)},this.stopMonitoring=async()=>{var r;Sd(this.connection,"stop-monitor"),(r=this.connection)==null||r.off("data",this.handleRTCData)},this.handleRTCData=r=>{r.t==="freq"&&(this.frequencies=[r[0],r[0]],this.volumes=[r[1],r[1]])}}},Z$=class{constructor(t,n,r,i){this.id=t,this.name=n,this.connection=r,this.pingTime=9999,this.pingInterval=null,this.getInput=()=>this.input,this.setPlayerNumber=s=>{Sd(this.connection,"set-player-number",{playerNumber:s})},this.onDisconnect=()=>{this.pingInterval!==null&&clearInterval(this.pingInterval)},this.setPermission=s=>{Sd(this.connection,"set-permissions",{level:s})},this.isPinging=!1,this.latency=9999,this.onPong=()=>{this.latency=Mi()-this.pingTime,this.isPinging=!1,this.pingClient()},this.pingClient=()=>{this.pingInterval=setTimeout(()=>{this.pingTime=Mi(),this.isPinging=!0,Sd(this.connection,"ping")},1e3)},this.getLatency=()=>this.isPinging?Mi()-this.pingTime:this.latency,this.getPingTime=()=>this.pingTime,this.input=new J$(r,i),this.pingClient()}};const oV={RemoteMicConnectionType:"remote_mics_connection_type",InitialInputLag:"initial_input_lag"};var h1={exports:{}},Rt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sR;function e7(){if(sR)return Rt;sR=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),h=Symbol.iterator;function y(B){return B===null||typeof B!="object"?null:(B=h&&B[h]||B["@@iterator"],typeof B=="function"?B:null)}var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b=Object.assign,_={};function w(B,G,ee){this.props=B,this.context=G,this.refs=_,this.updater=ee||v}w.prototype.isReactComponent={},w.prototype.setState=function(B,G){if(typeof B!="object"&&typeof B!="function"&&B!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,B,G,"setState")},w.prototype.forceUpdate=function(B){this.updater.enqueueForceUpdate(this,B,"forceUpdate")};function T(){}T.prototype=w.prototype;function k(B,G,ee){this.props=B,this.context=G,this.refs=_,this.updater=ee||v}var R=k.prototype=new T;R.constructor=k,b(R,w.prototype),R.isPureReactComponent=!0;var M=Array.isArray,E={H:null,A:null,T:null,S:null},O=Object.prototype.hasOwnProperty;function P(B,G,ee,ue,F,ge){return ee=ge.ref,{$$typeof:e,type:B,key:G,ref:ee!==void 0?ee:null,props:ge}}function j(B,G){return P(B.type,G,void 0,void 0,void 0,B.props)}function V(B){return typeof B=="object"&&B!==null&&B.$$typeof===e}function C(B){var G={"=":"=0",":":"=2"};return"$"+B.replace(/[=:]/g,function(ee){return G[ee]})}var N=/\/+/g;function U(B,G){return typeof B=="object"&&B!==null&&B.key!=null?C(""+B.key):G.toString(36)}function L(){}function q(B){switch(B.status){case"fulfilled":return B.value;case"rejected":throw B.reason;default:switch(typeof B.status=="string"?B.then(L,L):(B.status="pending",B.then(function(G){B.status==="pending"&&(B.status="fulfilled",B.value=G)},function(G){B.status==="pending"&&(B.status="rejected",B.reason=G)})),B.status){case"fulfilled":return B.value;case"rejected":throw B.reason}}throw B}function H(B,G,ee,ue,F){var ge=typeof B;(ge==="undefined"||ge==="boolean")&&(B=null);var se=!1;if(B===null)se=!0;else switch(ge){case"bigint":case"string":case"number":se=!0;break;case"object":switch(B.$$typeof){case e:case t:se=!0;break;case p:return se=B._init,H(se(B._payload),G,ee,ue,F)}}if(se)return F=F(B),se=ue===""?"."+U(B,0):ue,M(F)?(ee="",se!=null&&(ee=se.replace(N,"$&/")+"/"),H(F,G,ee,"",function(Re){return Re})):F!=null&&(V(F)&&(F=j(F,ee+(F.key==null||B&&B.key===F.key?"":(""+F.key).replace(N,"$&/")+"/")+se)),G.push(F)),1;se=0;var Se=ue===""?".":ue+":";if(M(B))for(var Me=0;Me<B.length;Me++)ue=B[Me],ge=Se+U(ue,Me),se+=H(ue,G,ee,ge,F);else if(Me=y(B),typeof Me=="function")for(B=Me.call(B),Me=0;!(ue=B.next()).done;)ue=ue.value,ge=Se+U(ue,Me++),se+=H(ue,G,ee,ge,F);else if(ge==="object"){if(typeof B.then=="function")return H(q(B),G,ee,ue,F);throw G=String(B),Error("Objects are not valid as a React child (found: "+(G==="[object Object]"?"object with keys {"+Object.keys(B).join(", ")+"}":G)+"). If you meant to render a collection of children, use an array instead.")}return se}function D(B,G,ee){if(B==null)return B;var ue=[],F=0;return H(B,ue,"","",function(ge){return G.call(ee,ge,F++)}),ue}function K(B){if(B._status===-1){var G=B._result;G=G(),G.then(function(ee){(B._status===0||B._status===-1)&&(B._status=1,B._result=ee)},function(ee){(B._status===0||B._status===-1)&&(B._status=2,B._result=ee)}),B._status===-1&&(B._status=0,B._result=G)}if(B._status===1)return B._result.default;throw B._result}var Q=typeof reportError=="function"?reportError:function(B){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var G=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof B=="object"&&B!==null&&typeof B.message=="string"?String(B.message):String(B),error:B});if(!window.dispatchEvent(G))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",B);return}console.error(B)};function J(){}return Rt.Children={map:D,forEach:function(B,G,ee){D(B,function(){G.apply(this,arguments)},ee)},count:function(B){var G=0;return D(B,function(){G++}),G},toArray:function(B){return D(B,function(G){return G})||[]},only:function(B){if(!V(B))throw Error("React.Children.only expected to receive a single React element child.");return B}},Rt.Component=w,Rt.Fragment=n,Rt.Profiler=i,Rt.PureComponent=k,Rt.StrictMode=r,Rt.Suspense=d,Rt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=E,Rt.act=function(){throw Error("act(...) is not supported in production builds of React.")},Rt.cache=function(B){return function(){return B.apply(null,arguments)}},Rt.cloneElement=function(B,G,ee){if(B==null)throw Error("The argument must be a React element, but you passed "+B+".");var ue=b({},B.props),F=B.key,ge=void 0;if(G!=null)for(se in G.ref!==void 0&&(ge=void 0),G.key!==void 0&&(F=""+G.key),G)!O.call(G,se)||se==="key"||se==="__self"||se==="__source"||se==="ref"&&G.ref===void 0||(ue[se]=G[se]);var se=arguments.length-2;if(se===1)ue.children=ee;else if(1<se){for(var Se=Array(se),Me=0;Me<se;Me++)Se[Me]=arguments[Me+2];ue.children=Se}return P(B.type,F,void 0,void 0,ge,ue)},Rt.createContext=function(B){return B={$$typeof:l,_currentValue:B,_currentValue2:B,_threadCount:0,Provider:null,Consumer:null},B.Provider=B,B.Consumer={$$typeof:s,_context:B},B},Rt.createElement=function(B,G,ee){var ue,F={},ge=null;if(G!=null)for(ue in G.key!==void 0&&(ge=""+G.key),G)O.call(G,ue)&&ue!=="key"&&ue!=="__self"&&ue!=="__source"&&(F[ue]=G[ue]);var se=arguments.length-2;if(se===1)F.children=ee;else if(1<se){for(var Se=Array(se),Me=0;Me<se;Me++)Se[Me]=arguments[Me+2];F.children=Se}if(B&&B.defaultProps)for(ue in se=B.defaultProps,se)F[ue]===void 0&&(F[ue]=se[ue]);return P(B,ge,void 0,void 0,null,F)},Rt.createRef=function(){return{current:null}},Rt.forwardRef=function(B){return{$$typeof:c,render:B}},Rt.isValidElement=V,Rt.lazy=function(B){return{$$typeof:p,_payload:{_status:-1,_result:B},_init:K}},Rt.memo=function(B,G){return{$$typeof:u,type:B,compare:G===void 0?null:G}},Rt.startTransition=function(B){var G=E.T,ee={};E.T=ee;try{var ue=B(),F=E.S;F!==null&&F(ee,ue),typeof ue=="object"&&ue!==null&&typeof ue.then=="function"&&ue.then(J,Q)}catch(ge){Q(ge)}finally{E.T=G}},Rt.unstable_useCacheRefresh=function(){return E.H.useCacheRefresh()},Rt.use=function(B){return E.H.use(B)},Rt.useActionState=function(B,G,ee){return E.H.useActionState(B,G,ee)},Rt.useCallback=function(B,G){return E.H.useCallback(B,G)},Rt.useContext=function(B){return E.H.useContext(B)},Rt.useDebugValue=function(){},Rt.useDeferredValue=function(B,G){return E.H.useDeferredValue(B,G)},Rt.useEffect=function(B,G){return E.H.useEffect(B,G)},Rt.useId=function(){return E.H.useId()},Rt.useImperativeHandle=function(B,G,ee){return E.H.useImperativeHandle(B,G,ee)},Rt.useInsertionEffect=function(B,G){return E.H.useInsertionEffect(B,G)},Rt.useLayoutEffect=function(B,G){return E.H.useLayoutEffect(B,G)},Rt.useMemo=function(B,G){return E.H.useMemo(B,G)},Rt.useOptimistic=function(B,G){return E.H.useOptimistic(B,G)},Rt.useReducer=function(B,G,ee){return E.H.useReducer(B,G,ee)},Rt.useRef=function(B){return E.H.useRef(B)},Rt.useState=function(B){return E.H.useState(B)},Rt.useSyncExternalStore=function(B,G,ee){return E.H.useSyncExternalStore(B,G,ee)},Rt.useTransition=function(){return E.H.useTransition()},Rt.version="19.0.0",Rt}var aR;function Zc(){return aR||(aR=1,h1.exports=e7()),h1.exports}var x=Zc();const Xe=Pr(x),a0=oF({__proto__:null,default:Xe},[x]);class ms extends Gs{constructor(t,n,r="local"){super(),this.name=t,this.defaultValue=n,this.driver=r,this.value=void 0,this.get=()=>(this.value===void 0&&(this.value=at[this.driver].getItem(`settings-${this.name}`)??this.defaultValue),this.value),this.set=i=>{this.value=i,at[this.driver].setItem(`settings-${this.name}`,i),this.onUpdate(i)}}}const lV=["high","low"],t7="graphics-level",Ps=new ms(t7,lV[0]),n7=[null,"skip","remoteMics","singstar-mics","different-mics","advanced","built-in"],r7="mic-setup-preference",cV=new ms(r7,n7[0],"session"),uV=[60,30],Tc=new ms("fps-count",uV[0]),J0=new ms("EXCLUDED_LANGUAGES_KEY_V2",null),ai=new ms("MOBILE_PHONE_MODE_KEY",null),dV=new ms("keyboard-help-visibility",!0);var Ej;const oR=(Ej=er.getFeatureFlagPayload)==null?void 0:Ej.call(er,oV.InitialInputLag),xd=new ms("INPUT_LAG_V2",typeof oR=="number"?oR:0),fV=new ms("REMOTE_MIC_INPUT_LAG",0,"session"),lR=["write","read"],hV=new ms("DefaultRemoteMicPermission","write"),Z0=new ms("BackgroundThemeSetting","regular","memory"),mw=new ms("AutoEnableFullscreenSetting",!0,"session"),i7=["WebSockets","PeerJS","PartyKit"],o0=new ms("RemoteMicConnectionType","PartyKit","session"),s7=new ms("IsCalibrated",!1);var Tj;(Tj=er.onFeatureFlags)==null||Tj.call(er,()=>{o0.set(er.getFeatureFlagPayload(oV.RemoteMicConnectionType)??"PartyKit")});function St(e){const[t,n]=x.useState(()=>e.get());return x.useLayoutEffect(()=>e.addListener(n),[e]),[t,e.set]}const cR="RememberedAccessesKey",p1="rememberedSubscriptionsKey";class a7 extends Gs{constructor(){var t,n;super(...arguments),this.remoteMics=[],this.micAccessMap=((t=at.local)==null?void 0:t.getItem(cR))??{},this.subscriptions=((n=at.session)==null?void 0:n.getItem(p1))??{"remote-mics":[]},this.addRemoteMic=(r,i,s,l,c)=>{this.remoteMics=this.remoteMics.filter(d=>d.id!==r),this.remoteMics=[...this.remoteMics,new Z$(r,i,s,c)],this.setPermission(r,this.getPermission(r)),me.remoteMicConnected.dispatch({id:r,name:i,silent:l})},this.removeRemoteMic=(r,i=!1)=>{const s=this.remoteMics.find(l=>l.id===r);this.remoteMics=this.remoteMics.filter(l=>l.id!==r),s&&(s.onDisconnect(),me.remoteMicDisconnected.dispatch(s,i))},this.getRemoteMics=()=>this.remoteMics,this.getRemoteMicById=r=>this.remoteMics.find(i=>i.id===r),this.broadcast=r=>{this.getRemoteMics().forEach(i=>i.connection.send(r))},this.broadcastToChannel=(r,i)=>{this.subscriptions[r].forEach(s=>{var l;return(l=this.getRemoteMicById(s))==null?void 0:l.connection.send(i)})},this.getPermission=r=>this.micAccessMap[r]??hV.get(),this.setPermission=(r,i)=>{var s;(s=this.getRemoteMicById(r))==null||s.setPermission(i),this.micAccessMap[r]=i,at==null||at.setItem(cR,this.micAccessMap),this.onUpdate(r,i)},this.addSubscription=(r,i)=>{var s;this.subscriptions[i]=[...new Set([...this.subscriptions[i],r])],(s=at.session)==null||s.setItem(p1,this.subscriptions),me.remoteMicSubscribed.dispatch(r,i)},this.removeSubscription=(r,i)=>{var s,l;this.subscriptions[i]=((s=this.subscriptions[i])==null?void 0:s.filter(c=>c!==r))??[],(l=at.session)==null||l.setItem(p1,this.subscriptions)}}}const Dt=new a7;Z0.addListener(e=>{YP(e),Dt.broadcast({t:"style-change",style:e})});me.remoteMicConnected.subscribe(e=>{var t;(t=Dt.getRemoteMicById(e.id))==null||t.connection.send({t:"style-change",style:Z0.get()})});class o7{constructor(){this.frequencies=[440,410],this.volumes=[1,1],this.startMonitoring=async()=>{},this.getFrequencies=t=>this.frequencies,this.getVolumes=t=>this.volumes,this.clearFrequencies=t=>{},this.stopMonitoring=async t=>{},this.getInputLag=()=>0,this.setFrequency=(t,n)=>this.frequencies[t]=n,this.requestReadiness=()=>Promise.resolve(!0),this.getStatus=()=>"ok"}}const l7=new o7;class c7{constructor(){this.frequencies=[410,210],this.volumes=[1,1],this.timestamp=0,this.interval=null,this.isMonitoring=!1,this.startMonitoring=async()=>{this.isMonitoring||(this.isMonitoring=!0,this.interval=global.setInterval(()=>{this.timestamp=this.timestamp+32,this.frequencies[0]=Math.sin(this.timestamp/1e3)*50+100,this.frequencies[1]=Math.cos(this.timestamp/1e3)*50+200},32))},this.getFrequencies=()=>this.frequencies,this.getVolumes=()=>this.volumes,this.clearFrequencies=t=>{},this.stopMonitoring=async()=>{this.isMonitoring&&(this.isMonitoring=!1,this.interval&&global.clearInterval(this.interval))},this.getInputLag=()=>150,this.requestReadiness=()=>Promise.resolve(!0),this.getStatus=()=>"ok"}}const u7=new c7,Tt=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,Cc="8.41.0",Kt=globalThis;function ev(e,t,n){const r=Kt,i=r.__SENTRY__=r.__SENTRY__||{},s=i[Cc]=i[Cc]||{};return s[e]||(s[e]=t())}const Ol=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,d7="Sentry Logger ",ES=["debug","info","warn","error","log","assert","trace"],l0={};function eu(e){if(!("console"in Kt))return e();const t=Kt.console,n={},r=Object.keys(l0);r.forEach(i=>{const s=l0[i];n[i]=t[i],t[i]=s});try{return e()}finally{r.forEach(i=>{t[i]=n[i]})}}function f7(){let e=!1;const t={enable:()=>{e=!0},disable:()=>{e=!1},isEnabled:()=>e};return Ol?ES.forEach(n=>{t[n]=(...r)=>{e&&eu(()=>{Kt.console[n](`${d7}[${n}]:`,...r)})}}):ES.forEach(n=>{t[n]=()=>{}}),t}const Be=ev("logger",f7),pV=50,Lc="?",uR=/\(error: (.*)\)/,dR=/captureMessage|captureException/;function gV(...e){const t=e.sort((n,r)=>n[0]-r[0]).map(n=>n[1]);return(n,r=0,i=0)=>{const s=[],l=n.split(`
`);for(let c=r;c<l.length;c++){const d=l[c];if(d.length>1024)continue;const u=uR.test(d)?d.replace(uR,"$1"):d;if(!u.match(/\S*Error: /)){for(const p of t){const h=p(u);if(h){s.push(h);break}}if(s.length>=pV+i)break}}return p7(s.slice(i))}}function h7(e){return Array.isArray(e)?gV(...e):e}function p7(e){if(!e.length)return[];const t=Array.from(e);return/sentryWrapped/.test(Em(t).function||"")&&t.pop(),t.reverse(),dR.test(Em(t).function||"")&&(t.pop(),dR.test(Em(t).function||"")&&t.pop()),t.slice(0,pV).map(n=>({...n,filename:n.filename||Em(t).filename,function:n.function||Lc}))}function Em(e){return e[e.length-1]||{}}const g1="<anonymous>";function Eo(e){try{return!e||typeof e!="function"?g1:e.name||g1}catch{return g1}}function TS(e){const t=e.exception;if(t){const n=[];try{return t.values.forEach(r=>{r.stacktrace.frames&&n.push(...r.stacktrace.frames)}),n}catch{return}}}const by={},fR={};function jl(e,t){by[e]=by[e]||[],by[e].push(t)}function Pl(e,t){if(!fR[e]){fR[e]=!0;try{t()}catch(n){Ol&&Be.error(`Error while instrumenting ${e}`,n)}}}function Fs(e,t){const n=e&&by[e];if(n)for(const r of n)try{r(t)}catch(i){Ol&&Be.error(`Error while triggering instrumentation handler.
Type: ${e}
Name: ${Eo(r)}
Error:`,i)}}let Tm=null;function mV(e){const t="error";jl(t,e),Pl(t,g7)}function g7(){Tm=Kt.onerror,Kt.onerror=function(e,t,n,r,i){return Fs("error",{column:r,error:i,line:n,msg:e,url:t}),Tm&&!Tm.__SENTRY_LOADER__?Tm.apply(this,arguments):!1},Kt.onerror.__SENTRY_INSTRUMENTED__=!0}let Cm=null;function yV(e){const t="unhandledrejection";jl(t,e),Pl(t,m7)}function m7(){Cm=Kt.onunhandledrejection,Kt.onunhandledrejection=function(e){return Fs("unhandledrejection",e),Cm&&!Cm.__SENTRY_LOADER__?Cm.apply(this,arguments):!0},Kt.onunhandledrejection.__SENTRY_INSTRUMENTED__=!0}function tu(){return yw(Kt),Kt}function yw(e){const t=e.__SENTRY__=e.__SENTRY__||{};return t.version=t.version||Cc,t[Cc]=t[Cc]||{}}const vV=Object.prototype.toString;function tv(e){switch(vV.call(e)){case"[object Error]":case"[object Exception]":case"[object DOMException]":case"[object WebAssembly.Exception]":return!0;default:return To(e,Error)}}function tf(e,t){return vV.call(e)===`[object ${t}]`}function AV(e){return tf(e,"ErrorEvent")}function hR(e){return tf(e,"DOMError")}function y7(e){return tf(e,"DOMException")}function So(e){return tf(e,"String")}function vw(e){return typeof e=="object"&&e!==null&&"__sentry_template_string__"in e&&"__sentry_template_values__"in e}function Aw(e){return e===null||vw(e)||typeof e!="object"&&typeof e!="function"}function Ld(e){return tf(e,"Object")}function nv(e){return typeof Event<"u"&&To(e,Event)}function v7(e){return typeof Element<"u"&&To(e,Element)}function A7(e){return tf(e,"RegExp")}function rv(e){return!!(e&&e.then&&typeof e.then=="function")}function b7(e){return Ld(e)&&"nativeEvent"in e&&"preventDefault"in e&&"stopPropagation"in e}function To(e,t){try{return e instanceof t}catch{return!1}}function bV(e){return!!(typeof e=="object"&&e!==null&&(e.__isVue||e._isVue))}const wd=Kt,_7=80;function Fc(e,t={}){if(!e)return"<unknown>";try{let n=e;const r=5,i=[];let s=0,l=0;const c=" > ",d=c.length;let u;const p=Array.isArray(t)?t:t.keyAttrs,h=!Array.isArray(t)&&t.maxStringLength||_7;for(;n&&s++<r&&(u=S7(n,p),!(u==="html"||s>1&&l+i.length*d+u.length>=h));)i.push(u),l+=u.length,n=n.parentNode;return i.reverse().join(c)}catch{return"<unknown>"}}function S7(e,t){const n=e,r=[];if(!n||!n.tagName)return"";if(wd.HTMLElement&&n instanceof HTMLElement&&n.dataset){if(n.dataset.sentryComponent)return n.dataset.sentryComponent;if(n.dataset.sentryElement)return n.dataset.sentryElement}r.push(n.tagName.toLowerCase());const i=t&&t.length?t.filter(l=>n.getAttribute(l)).map(l=>[l,n.getAttribute(l)]):null;if(i&&i.length)i.forEach(l=>{r.push(`[${l[0]}="${l[1]}"]`)});else{n.id&&r.push(`#${n.id}`);const l=n.className;if(l&&So(l)){const c=l.split(/\s+/);for(const d of c)r.push(`.${d}`)}}const s=["aria-label","type","name","title","alt"];for(const l of s){const c=n.getAttribute(l);c&&r.push(`[${l}="${c}"]`)}return r.join("")}function x7(){try{return wd.document.location.href}catch{return""}}function w7(e){return wd.document&&wd.document.querySelector?wd.document.querySelector(e):null}function _V(e){if(!wd.HTMLElement)return null;let t=e;const n=5;for(let r=0;r<n;r++){if(!t)return null;if(t instanceof HTMLElement){if(t.dataset.sentryComponent)return t.dataset.sentryComponent;if(t.dataset.sentryElement)return t.dataset.sentryElement}t=t.parentNode}return null}function Ed(e,t=0){return typeof e!="string"||t===0||e.length<=t?e:`${e.slice(0,t)}...`}function pR(e,t){if(!Array.isArray(e))return"";const n=[];for(let r=0;r<e.length;r++){const i=e[r];try{bV(i)?n.push("[VueViewModel]"):n.push(String(i))}catch{n.push("[value cannot be serialized]")}}return n.join(t)}function E7(e,t,n=!1){return So(e)?A7(t)?t.test(e):So(t)?n?e===t:e.includes(t):!1:!1}function kc(e,t=[],n=!1){return t.some(r=>E7(e,r,n))}function ss(e,t,n){if(!(t in e))return;const r=e[t],i=n(r);typeof i=="function"&&SV(i,r);try{e[t]=i}catch{Ol&&Be.log(`Failed to replace method "${t}" in object`,e)}}function zs(e,t,n){try{Object.defineProperty(e,t,{value:n,writable:!0,configurable:!0})}catch{Ol&&Be.log(`Failed to add non-enumerable property "${t}" to object`,e)}}function SV(e,t){try{const n=t.prototype||{};e.prototype=t.prototype=n,zs(e,"__sentry_original__",t)}catch{}}function bw(e){return e.__sentry_original__}function xV(e){if(tv(e))return{message:e.message,name:e.name,stack:e.stack,...mR(e)};if(nv(e)){const t={type:e.type,target:gR(e.target),currentTarget:gR(e.currentTarget),...mR(e)};return typeof CustomEvent<"u"&&To(e,CustomEvent)&&(t.detail=e.detail),t}else return e}function gR(e){try{return v7(e)?Fc(e):Object.prototype.toString.call(e)}catch{return"<unknown>"}}function mR(e){if(typeof e=="object"&&e!==null){const t={};for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}else return{}}function T7(e,t=40){const n=Object.keys(xV(e));n.sort();const r=n[0];if(!r)return"[object has no keys]";if(r.length>=t)return Ed(r,t);for(let i=n.length;i>0;i--){const s=n.slice(0,i).join(", ");if(!(s.length>t))return i===n.length?s:Ed(s,t)}return""}function ii(e){return CS(e,new Map)}function CS(e,t){if(C7(e)){const n=t.get(e);if(n!==void 0)return n;const r={};t.set(e,r);for(const i of Object.getOwnPropertyNames(e))typeof e[i]<"u"&&(r[i]=CS(e[i],t));return r}if(Array.isArray(e)){const n=t.get(e);if(n!==void 0)return n;const r=[];return t.set(e,r),e.forEach(i=>{r.push(CS(i,t))}),r}return e}function C7(e){if(!Ld(e))return!1;try{const t=Object.getPrototypeOf(e).constructor.name;return!t||t==="Object"}catch{return!0}}const wV=1e3;function Bp(){return Date.now()/wV}function k7(){const{performance:e}=Kt;if(!e||!e.now)return Bp;const t=Date.now()-e.now(),n=e.timeOrigin==null?t:e.timeOrigin;return()=>(n+e.now())/wV}const si=k7(),qi=(()=>{const{performance:e}=Kt;if(!e||!e.now)return;const t=3600*1e3,n=e.now(),r=Date.now(),i=e.timeOrigin?Math.abs(e.timeOrigin+n-r):t,s=i<t,l=e.timing&&e.timing.navigationStart,d=typeof l=="number"?Math.abs(l+n-r):t,u=d<t;return s||u?i<=d?e.timeOrigin:l:r})();function jr(){const e=Kt,t=e.crypto||e.msCrypto;let n=()=>Math.random()*16;try{if(t&&t.randomUUID)return t.randomUUID().replace(/-/g,"");t&&t.getRandomValues&&(n=()=>{const r=new Uint8Array(1);return t.getRandomValues(r),r[0]})}catch{}return("10000000100040008000"+1e11).replace(/[018]/g,r=>(r^(n()&15)>>r/4).toString(16))}function EV(e){return e.exception&&e.exception.values?e.exception.values[0]:void 0}function hl(e){const{message:t,event_id:n}=e;if(t)return t;const r=EV(e);return r?r.type&&r.value?`${r.type}: ${r.value}`:r.type||r.value||n||"<unknown>":n||"<unknown>"}function kS(e,t,n){const r=e.exception=e.exception||{},i=r.values=r.values||[],s=i[0]=i[0]||{};s.value||(s.value=t||""),s.type||(s.type="Error")}function mp(e,t){const n=EV(e);if(!n)return;const r={type:"generic",handled:!0},i=n.mechanism;if(n.mechanism={...r,...i,...t},t&&"data"in t){const s={...i&&i.data,...t.data};n.mechanism.data=s}}function yR(e){if(e&&e.__sentry_captured__)return!0;try{zs(e,"__sentry_captured__",!0)}catch{}return!1}var po;(function(e){e[e.PENDING=0]="PENDING";const n=1;e[e.RESOLVED=n]="RESOLVED";const r=2;e[e.REJECTED=r]="REJECTED"})(po||(po={}));function zc(e){return new Os(t=>{t(e)})}function c0(e){return new Os((t,n)=>{n(e)})}class Os{constructor(t){Os.prototype.__init.call(this),Os.prototype.__init2.call(this),Os.prototype.__init3.call(this),Os.prototype.__init4.call(this),this._state=po.PENDING,this._handlers=[];try{t(this._resolve,this._reject)}catch(n){this._reject(n)}}then(t,n){return new Os((r,i)=>{this._handlers.push([!1,s=>{if(!t)r(s);else try{r(t(s))}catch(l){i(l)}},s=>{if(!n)i(s);else try{r(n(s))}catch(l){i(l)}}]),this._executeHandlers()})}catch(t){return this.then(n=>n,t)}finally(t){return new Os((n,r)=>{let i,s;return this.then(l=>{s=!1,i=l,t&&t()},l=>{s=!0,i=l,t&&t()}).then(()=>{if(s){r(i);return}n(i)})})}__init(){this._resolve=t=>{this._setResult(po.RESOLVED,t)}}__init2(){this._reject=t=>{this._setResult(po.REJECTED,t)}}__init3(){this._setResult=(t,n)=>{if(this._state===po.PENDING){if(rv(n)){n.then(this._resolve,this._reject);return}this._state=t,this._value=n,this._executeHandlers()}}}__init4(){this._executeHandlers=()=>{if(this._state===po.PENDING)return;const t=this._handlers.slice();this._handlers=[],t.forEach(n=>{n[0]||(this._state===po.RESOLVED&&n[1](this._value),this._state===po.REJECTED&&n[2](this._value),n[0]=!0)})}}}function M7(e){const t=si(),n={sid:jr(),init:!0,timestamp:t,started:t,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>I7(n)};return Fd(n,e),n}function Fd(e,t={}){if(t.user&&(!e.ipAddress&&t.user.ip_address&&(e.ipAddress=t.user.ip_address),!e.did&&!t.did&&(e.did=t.user.id||t.user.email||t.user.username)),e.timestamp=t.timestamp||si(),t.abnormal_mechanism&&(e.abnormal_mechanism=t.abnormal_mechanism),t.ignoreDuration&&(e.ignoreDuration=t.ignoreDuration),t.sid&&(e.sid=t.sid.length===32?t.sid:jr()),t.init!==void 0&&(e.init=t.init),!e.did&&t.did&&(e.did=`${t.did}`),typeof t.started=="number"&&(e.started=t.started),e.ignoreDuration)e.duration=void 0;else if(typeof t.duration=="number")e.duration=t.duration;else{const n=e.timestamp-e.started;e.duration=n>=0?n:0}t.release&&(e.release=t.release),t.environment&&(e.environment=t.environment),!e.ipAddress&&t.ipAddress&&(e.ipAddress=t.ipAddress),!e.userAgent&&t.userAgent&&(e.userAgent=t.userAgent),typeof t.errors=="number"&&(e.errors=t.errors),t.status&&(e.status=t.status)}function R7(e,t){let n={};e.status==="ok"&&(n={status:"exited"}),Fd(e,n)}function I7(e){return ii({sid:`${e.sid}`,init:e.init,started:new Date(e.started*1e3).toISOString(),timestamp:new Date(e.timestamp*1e3).toISOString(),status:e.status,errors:e.errors,did:typeof e.did=="number"||typeof e.did=="string"?`${e.did}`:void 0,duration:e.duration,abnormal_mechanism:e.abnormal_mechanism,attrs:{release:e.release,environment:e.environment,ip_address:e.ipAddress,user_agent:e.userAgent}})}function yp(){return{traceId:jr(),spanId:jr().substring(16)}}function iv(e,t,n=2){if(!t||typeof t!="object"||n<=0)return t;if(e&&t&&Object.keys(t).length===0)return e;const r={...e};for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=iv(r[i],t[i],n-1));return r}const MS="_sentrySpan";function vp(e,t){t?zs(e,MS,t):delete e[MS]}function u0(e){return e[MS]}const O7=100;class _w{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={},this._propagationContext=yp()}clone(){const t=new _w;return t._breadcrumbs=[...this._breadcrumbs],t._tags={...this._tags},t._extra={...this._extra},t._contexts={...this._contexts},t._user=this._user,t._level=this._level,t._session=this._session,t._transactionName=this._transactionName,t._fingerprint=this._fingerprint,t._eventProcessors=[...this._eventProcessors],t._requestSession=this._requestSession,t._attachments=[...this._attachments],t._sdkProcessingMetadata={...this._sdkProcessingMetadata},t._propagationContext={...this._propagationContext},t._client=this._client,t._lastEventId=this._lastEventId,vp(t,u0(this)),t}setClient(t){this._client=t}setLastEventId(t){this._lastEventId=t}getClient(){return this._client}lastEventId(){return this._lastEventId}addScopeListener(t){this._scopeListeners.push(t)}addEventProcessor(t){return this._eventProcessors.push(t),this}setUser(t){return this._user=t||{email:void 0,id:void 0,ip_address:void 0,username:void 0},this._session&&Fd(this._session,{user:t}),this._notifyScopeListeners(),this}getUser(){return this._user}getRequestSession(){return this._requestSession}setRequestSession(t){return this._requestSession=t,this}setTags(t){return this._tags={...this._tags,...t},this._notifyScopeListeners(),this}setTag(t,n){return this._tags={...this._tags,[t]:n},this._notifyScopeListeners(),this}setExtras(t){return this._extra={...this._extra,...t},this._notifyScopeListeners(),this}setExtra(t,n){return this._extra={...this._extra,[t]:n},this._notifyScopeListeners(),this}setFingerprint(t){return this._fingerprint=t,this._notifyScopeListeners(),this}setLevel(t){return this._level=t,this._notifyScopeListeners(),this}setTransactionName(t){return this._transactionName=t,this._notifyScopeListeners(),this}setContext(t,n){return n===null?delete this._contexts[t]:this._contexts[t]=n,this._notifyScopeListeners(),this}setSession(t){return t?this._session=t:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(t){if(!t)return this;const n=typeof t=="function"?t(this):t,[r,i]=n instanceof xl?[n.getScopeData(),n.getRequestSession()]:Ld(n)?[t,t.requestSession]:[],{tags:s,extra:l,user:c,contexts:d,level:u,fingerprint:p=[],propagationContext:h}=r||{};return this._tags={...this._tags,...s},this._extra={...this._extra,...l},this._contexts={...this._contexts,...d},c&&Object.keys(c).length&&(this._user=c),u&&(this._level=u),p.length&&(this._fingerprint=p),h&&(this._propagationContext=h),i&&(this._requestSession=i),this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._session=void 0,vp(this,void 0),this._attachments=[],this._propagationContext=yp(),this._notifyScopeListeners(),this}addBreadcrumb(t,n){const r=typeof n=="number"?n:O7;if(r<=0)return this;const i={timestamp:Bp(),...t},s=this._breadcrumbs;return s.push(i),this._breadcrumbs=s.length>r?s.slice(-r):s,this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(t){return this._attachments.push(t),this}clearAttachments(){return this._attachments=[],this}getScopeData(){return{breadcrumbs:this._breadcrumbs,attachments:this._attachments,contexts:this._contexts,tags:this._tags,extra:this._extra,user:this._user,level:this._level,fingerprint:this._fingerprint||[],eventProcessors:this._eventProcessors,propagationContext:this._propagationContext,sdkProcessingMetadata:this._sdkProcessingMetadata,transactionName:this._transactionName,span:u0(this)}}setSDKProcessingMetadata(t){return this._sdkProcessingMetadata=iv(this._sdkProcessingMetadata,t,2),this}setPropagationContext(t){return this._propagationContext=t,this}getPropagationContext(){return this._propagationContext}captureException(t,n){const r=n&&n.event_id?n.event_id:jr();if(!this._client)return Be.warn("No client configured on scope - will not capture exception!"),r;const i=new Error("Sentry syntheticException");return this._client.captureException(t,{originalException:t,syntheticException:i,...n,event_id:r},this),r}captureMessage(t,n,r){const i=r&&r.event_id?r.event_id:jr();if(!this._client)return Be.warn("No client configured on scope - will not capture message!"),i;const s=new Error(t);return this._client.captureMessage(t,n,{originalException:t,syntheticException:s,...r,event_id:i},this),i}captureEvent(t,n){const r=n&&n.event_id?n.event_id:jr();return this._client?(this._client.captureEvent(t,{...n,event_id:r},this),r):(Be.warn("No client configured on scope - will not capture event!"),r)}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(t=>{t(this)}),this._notifyingListeners=!1)}}const xl=_w;function j7(){return ev("defaultCurrentScope",()=>new xl)}function P7(){return ev("defaultIsolationScope",()=>new xl)}class V7{constructor(t,n){let r;t?r=t:r=new xl;let i;n?i=n:i=new xl,this._stack=[{scope:r}],this._isolationScope=i}withScope(t){const n=this._pushScope();let r;try{r=t(n)}catch(i){throw this._popScope(),i}return rv(r)?r.then(i=>(this._popScope(),i),i=>{throw this._popScope(),i}):(this._popScope(),r)}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getIsolationScope(){return this._isolationScope}getStackTop(){return this._stack[this._stack.length-1]}_pushScope(){const t=this.getScope().clone();return this._stack.push({client:this.getClient(),scope:t}),t}_popScope(){return this._stack.length<=1?!1:!!this._stack.pop()}}function zd(){const e=tu(),t=yw(e);return t.stack=t.stack||new V7(j7(),P7())}function D7(e){return zd().withScope(e)}function B7(e,t){const n=zd();return n.withScope(()=>(n.getStackTop().scope=e,t(e)))}function vR(e){return zd().withScope(()=>e(zd().getIsolationScope()))}function N7(){return{withIsolationScope:vR,withScope:D7,withSetScope:B7,withSetIsolationScope:(e,t)=>vR(t),getCurrentScope:()=>zd().getScope(),getIsolationScope:()=>zd().getIsolationScope()}}function nf(e){const t=yw(e);return t.acs?t.acs:N7()}function Dn(){const e=tu();return nf(e).getCurrentScope()}function Da(){const e=tu();return nf(e).getIsolationScope()}function L7(){return ev("globalScope",()=>new xl)}function sv(...e){const t=tu(),n=nf(t);if(e.length===2){const[r,i]=e;return r?n.withSetScope(r,i):n.withScope(i)}return n.withScope(e[0])}function dn(){return Dn().getClient()}function F7(e){const t=e.getPropagationContext(),{traceId:n,spanId:r,parentSpanId:i}=t;return ii({trace_id:n,span_id:r,parent_span_id:i})}const z7="_sentryMetrics";function RS(e){const t=e[z7];if(!t)return;const n={};for(const[,[r,i]]of t)(n[r]||(n[r]=[])).push(ii(i));return n}const vo="sentry.source",TV="sentry.sample_rate",$c="sentry.op",Ar="sentry.origin",IS="sentry.idle_span_finish_reason",av="sentry.measurement_unit",ov="sentry.measurement_value",$7="sentry.profile_id",Sw="sentry.exclusive_time",U7=0,CV=1,Ur=2;function H7(e){if(e<400&&e>=100)return{code:CV};if(e>=400&&e<500)switch(e){case 401:return{code:Ur,message:"unauthenticated"};case 403:return{code:Ur,message:"permission_denied"};case 404:return{code:Ur,message:"not_found"};case 409:return{code:Ur,message:"already_exists"};case 413:return{code:Ur,message:"failed_precondition"};case 429:return{code:Ur,message:"resource_exhausted"};case 499:return{code:Ur,message:"cancelled"};default:return{code:Ur,message:"invalid_argument"}}if(e>=500&&e<600)switch(e){case 501:return{code:Ur,message:"unimplemented"};case 503:return{code:Ur,message:"unavailable"};case 504:return{code:Ur,message:"deadline_exceeded"};default:return{code:Ur,message:"internal_error"}}return{code:Ur,message:"unknown_error"}}function kV(e,t){e.setAttribute("http.response.status_code",t);const n=H7(t);n.message!=="unknown_error"&&e.setStatus(n)}const xw="sentry-",q7=/^sentry-/,G7=8192;function MV(e){const t=K7(e);if(!t)return;const n=Object.entries(t).reduce((r,[i,s])=>{if(i.match(q7)){const l=i.slice(xw.length);r[l]=s}return r},{});if(Object.keys(n).length>0)return n}function Y7(e){if(!e)return;const t=Object.entries(e).reduce((n,[r,i])=>(i&&(n[`${xw}${r}`]=i),n),{});return W7(t)}function K7(e){if(!(!e||!So(e)&&!Array.isArray(e)))return Array.isArray(e)?e.reduce((t,n)=>{const r=AR(n);return Object.entries(r).forEach(([i,s])=>{t[i]=s}),t},{}):AR(e)}function AR(e){return e.split(",").map(t=>t.split("=").map(n=>decodeURIComponent(n.trim()))).reduce((t,[n,r])=>(n&&r&&(t[n]=r),t),{})}function W7(e){if(Object.keys(e).length!==0)return Object.entries(e).reduce((t,[n,r],i)=>{const s=`${encodeURIComponent(n)}=${encodeURIComponent(r)}`,l=i===0?s:`${t},${s}`;return l.length>G7?(Ol&&Be.warn(`Not adding key: ${n} with val: ${r} to baggage header due to exceeding baggage size limits.`),t):l},"")}const RV=new RegExp("^[ \\t]*([0-9a-f]{32})?-?([0-9a-f]{16})?-?([01])?[ \\t]*$");function Q7(e){if(!e)return;const t=e.match(RV);if(!t)return;let n;return t[3]==="1"?n=!0:t[3]==="0"&&(n=!1),{traceId:t[1],parentSampled:n,parentSpanId:t[2]}}function X7(e,t){const n=Q7(e),r=MV(t);if(!n||!n.traceId)return yp();const{traceId:i,parentSpanId:s,parentSampled:l}=n,c=jr().substring(16);return{traceId:i,parentSpanId:s,spanId:c,sampled:l,dsc:r||{}}}function IV(e=jr(),t=jr().substring(16),n){let r="";return n!==void 0&&(r=n?"-1":"-0"),`${e}-${t}${r}`}const OV=0,jV=1;let bR=!1;function J7(e){const{spanId:t,traceId:n}=e.spanContext(),{data:r,op:i,parent_span_id:s,status:l,origin:c}=ln(e);return ii({parent_span_id:s,span_id:t,trace_id:n,data:r,op:i,status:l,origin:c})}function Z7(e){const{spanId:t,traceId:n}=e.spanContext(),{parent_span_id:r}=ln(e);return ii({parent_span_id:r,span_id:t,trace_id:n})}function eU(e){const{traceId:t,spanId:n}=e.spanContext(),r=nu(e);return IV(t,n,r)}function Mc(e){return typeof e=="number"?_R(e):Array.isArray(e)?e[0]+e[1]/1e9:e instanceof Date?_R(e.getTime()):si()}function _R(e){return e>9999999999?e/1e3:e}function ln(e){if(nU(e))return e.getSpanJSON();try{const{spanId:t,traceId:n}=e.spanContext();if(tU(e)){const{attributes:r,startTime:i,name:s,endTime:l,parentSpanId:c,status:d}=e;return ii({span_id:t,trace_id:n,data:r,description:s,parent_span_id:c,start_timestamp:Mc(i),timestamp:Mc(l)||void 0,status:PV(d),op:r[$c],origin:r[Ar],_metrics_summary:RS(e)})}return{span_id:t,trace_id:n}}catch{return{}}}function tU(e){const t=e;return!!t.attributes&&!!t.startTime&&!!t.name&&!!t.endTime&&!!t.status}function nU(e){return typeof e.getSpanJSON=="function"}function nu(e){const{traceFlags:t}=e.spanContext();return t===jV}function PV(e){if(!(!e||e.code===U7))return e.code===CV?"ok":e.message||"unknown_error"}const Rc="_sentryChildSpans",OS="_sentryRootSpan";function VV(e,t){const n=e[OS]||e;zs(t,OS,n),e[Rc]?e[Rc].add(t):zs(e,Rc,new Set([t]))}function rU(e,t){e[Rc]&&e[Rc].delete(t)}function _y(e){const t=new Set;function n(r){if(!t.has(r)&&nu(r)){t.add(r);const i=r[Rc]?Array.from(r[Rc]):[];for(const s of i)n(s)}}return n(e),Array.from(t)}function hi(e){return e[OS]||e}function gi(){const e=tu(),t=nf(e);return t.getActiveSpan?t.getActiveSpan():u0(Dn())}function DV(){bR||(eu(()=>{console.warn("[Sentry] Deprecation warning: Returning null from `beforeSendSpan` will be disallowed from SDK version 9.0.0 onwards. The callback will only support mutating spans. To drop certain spans, configure the respective integrations directly.")}),bR=!0)}let SR=!1;function iU(){SR||(SR=!0,mV(jS),yV(jS))}function jS(){const e=gi(),t=e&&hi(e);if(t){const n="internal_error";Tt&&Be.log(`[Tracing] Root span: ${n} -> Global error occurred`),t.setStatus({code:Ur,message:n})}}jS.tag="sentry_tracingErrorCallback";const BV="_sentryScope",NV="_sentryIsolationScope";function sU(e,t,n){e&&(zs(e,NV,n),zs(e,BV,t))}function xR(e){return{scope:e[BV],isolationScope:e[NV]}}function wl(e){if(typeof __SENTRY_TRACING__=="boolean"&&!__SENTRY_TRACING__)return!1;const t=dn(),n=e||t&&t.getOptions();return!!n&&(n.enableTracing||"tracesSampleRate"in n||"tracesSampler"in n)}class rf{constructor(t={}){this._traceId=t.traceId||jr(),this._spanId=t.spanId||jr().substring(16)}spanContext(){return{spanId:this._spanId,traceId:this._traceId,traceFlags:OV}}end(t){}setAttribute(t,n){return this}setAttributes(t){return this}setStatus(t){return this}updateName(t){return this}isRecording(){return!1}addEvent(t,n,r){return this}addLink(t){return this}addLinks(t){return this}recordException(t,n){}}const ww="production",LV="_frozenDsc";function wR(e,t){zs(e,LV,t)}function FV(e,t){const n=t.getOptions(),{publicKey:r}=t.getDsn()||{},i=ii({environment:n.environment||ww,release:n.release,public_key:r,trace_id:e});return t.emit("createDsc",i),i}function zV(e,t){const n=t.getPropagationContext();return n.dsc||FV(n.traceId,e)}function sf(e){const t=dn();if(!t)return{};const n=hi(e),r=n[LV];if(r)return r;const i=n.spanContext().traceState,s=i&&i.get("sentry.dsc"),l=s&&MV(s);if(l)return l;const c=FV(e.spanContext().traceId,t),d=ln(n),u=d.data||{},p=u[TV];p!=null&&(c.sample_rate=`${p}`);const h=u[vo],y=d.description;return h!=="url"&&y&&(c.transaction=y),wl()&&(c.sampled=String(nu(n))),t.emit("createDsc",c,n),c}function aU(e){if(!Tt)return;const{description:t="< unknown name >",op:n="< unknown op >",parent_span_id:r}=ln(e),{spanId:i}=e.spanContext(),s=nu(e),l=hi(e),c=l===e,d=`[Tracing] Starting ${s?"sampled":"unsampled"} ${c?"root ":""}span`,u=[`op: ${n}`,`name: ${t}`,`ID: ${i}`];if(r&&u.push(`parent ID: ${r}`),!c){const{op:p,description:h}=ln(l);u.push(`root ID: ${l.spanContext().spanId}`),p&&u.push(`root op: ${p}`),h&&u.push(`root description: ${h}`)}Be.log(`${d}
  ${u.join(`
  `)}`)}function oU(e){if(!Tt)return;const{description:t="< unknown name >",op:n="< unknown op >"}=ln(e),{spanId:r}=e.spanContext(),s=hi(e)===e,l=`[Tracing] Finishing "${n}" ${s?"root ":""}span "${t}" with ID ${r}`;Be.log(l)}function $V(e){if(typeof e=="boolean")return Number(e);const t=typeof e=="string"?parseFloat(e):e;if(typeof t!="number"||isNaN(t)||t<0||t>1){Tt&&Be.warn(`[Tracing] Given sample rate is invalid. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(e)} of type ${JSON.stringify(typeof e)}.`);return}return t}function lU(e,t){if(!wl(e))return[!1];let n;typeof e.tracesSampler=="function"?n=e.tracesSampler(t):t.parentSampled!==void 0?n=t.parentSampled:typeof e.tracesSampleRate<"u"?n=e.tracesSampleRate:n=1;const r=$V(n);return r===void 0?(Tt&&Be.warn("[Tracing] Discarding transaction because of invalid sample rate."),[!1]):r?Math.random()<r?[!0,r]:(Tt&&Be.log(`[Tracing] Discarding transaction because it's not included in the random sample (sampling rate = ${Number(n)})`),[!1,r]):(Tt&&Be.log(`[Tracing] Discarding transaction because ${typeof e.tracesSampler=="function"?"tracesSampler returned 0 or false":"a negative sampling decision was inherited or tracesSampleRate is set to 0"}`),[!1,r])}const cU=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+)?)?@)([\w.-]+)(?::(\d+))?\/(.+)/;function uU(e){return e==="http"||e==="https"}function af(e,t=!1){const{host:n,path:r,pass:i,port:s,projectId:l,protocol:c,publicKey:d}=e;return`${c}://${d}${t&&i?`:${i}`:""}@${n}${s?`:${s}`:""}/${r&&`${r}/`}${l}`}function dU(e){const t=cU.exec(e);if(!t){eu(()=>{console.error(`Invalid Sentry Dsn: ${e}`)});return}const[n,r,i="",s="",l="",c=""]=t.slice(1);let d="",u=c;const p=u.split("/");if(p.length>1&&(d=p.slice(0,-1).join("/"),u=p.pop()),u){const h=u.match(/^\d+/);h&&(u=h[0])}return UV({host:s,pass:i,path:d,projectId:u,port:l,protocol:n,publicKey:r})}function UV(e){return{protocol:e.protocol,publicKey:e.publicKey||"",pass:e.pass||"",host:e.host,port:e.port||"",path:e.path||"",projectId:e.projectId}}function fU(e){if(!Ol)return!0;const{port:t,projectId:n,protocol:r}=e;return["protocol","publicKey","host","projectId"].find(l=>e[l]?!1:(Be.error(`Invalid Sentry Dsn: ${l} missing`),!0))?!1:n.match(/^\d+$/)?uU(r)?t&&isNaN(parseInt(t,10))?(Be.error(`Invalid Sentry Dsn: Invalid port ${t}`),!1):!0:(Be.error(`Invalid Sentry Dsn: Invalid protocol ${r}`),!1):(Be.error(`Invalid Sentry Dsn: Invalid projectId ${n}`),!1)}function HV(e){const t=typeof e=="string"?dU(e):UV(e);if(!(!t||!fU(t)))return t}function hU(){const e=typeof WeakSet=="function",t=e?new WeakSet:[];function n(i){if(e)return t.has(i)?!0:(t.add(i),!1);for(let s=0;s<t.length;s++)if(t[s]===i)return!0;return t.push(i),!1}function r(i){if(e)t.delete(i);else for(let s=0;s<t.length;s++)if(t[s]===i){t.splice(s,1);break}}return[n,r]}function pl(e,t=100,n=1/0){try{return PS("",e,t,n)}catch(r){return{ERROR:`**non-serializable** (${r})`}}}function qV(e,t=3,n=100*1024){const r=pl(e,t);return yU(r)>n?qV(e,t-1,n):r}function PS(e,t,n=1/0,r=1/0,i=hU()){const[s,l]=i;if(t==null||["boolean","string"].includes(typeof t)||typeof t=="number"&&Number.isFinite(t))return t;const c=pU(e,t);if(!c.startsWith("[object "))return c;if(t.__sentry_skip_normalization__)return t;const d=typeof t.__sentry_override_normalization_depth__=="number"?t.__sentry_override_normalization_depth__:n;if(d===0)return c.replace("object ","");if(s(t))return"[Circular ~]";const u=t;if(u&&typeof u.toJSON=="function")try{const v=u.toJSON();return PS("",v,d-1,r,i)}catch{}const p=Array.isArray(t)?[]:{};let h=0;const y=xV(t);for(const v in y){if(!Object.prototype.hasOwnProperty.call(y,v))continue;if(h>=r){p[v]="[MaxProperties ~]";break}const b=y[v];p[v]=PS(v,b,d-1,r,i),h++}return l(t),p}function pU(e,t){try{if(e==="domain"&&t&&typeof t=="object"&&t._events)return"[Domain]";if(e==="domainEmitter")return"[DomainEmitter]";if(typeof global<"u"&&t===global)return"[Global]";if(typeof window<"u"&&t===window)return"[Window]";if(typeof document<"u"&&t===document)return"[Document]";if(bV(t))return"[VueViewModel]";if(b7(t))return"[SyntheticEvent]";if(typeof t=="number"&&!Number.isFinite(t))return`[${t}]`;if(typeof t=="function")return`[Function: ${Eo(t)}]`;if(typeof t=="symbol")return`[${String(t)}]`;if(typeof t=="bigint")return`[BigInt: ${String(t)}]`;const n=gU(t);return/^HTML(\w*)Element$/.test(n)?`[HTMLElement: ${n}]`:`[object ${n}]`}catch(n){return`**non-serializable** (${n})`}}function gU(e){const t=Object.getPrototypeOf(e);return t?t.constructor.name:"null prototype"}function mU(e){return~-encodeURI(e).split(/%..|./).length}function yU(e){return mU(JSON.stringify(e))}function of(e,t=[]){return[e,t]}function vU(e,t){const[n,r]=e;return[n,[...r,t]]}function VS(e,t){const n=e[1];for(const r of n){const i=r[0].type;if(t(r,i))return!0}return!1}function DS(e){return Kt.__SENTRY__&&Kt.__SENTRY__.encodePolyfill?Kt.__SENTRY__.encodePolyfill(e):new TextEncoder().encode(e)}function AU(e){const[t,n]=e;let r=JSON.stringify(t);function i(s){typeof r=="string"?r=typeof s=="string"?r+s:[DS(r),s]:r.push(typeof s=="string"?DS(s):s)}for(const s of n){const[l,c]=s;if(i(`
${JSON.stringify(l)}
`),typeof c=="string"||c instanceof Uint8Array)i(c);else{let d;try{d=JSON.stringify(c)}catch{d=JSON.stringify(pl(c))}i(d)}}return typeof r=="string"?r:bU(r)}function bU(e){const t=e.reduce((i,s)=>i+s.length,0),n=new Uint8Array(t);let r=0;for(const i of e)n.set(i,r),r+=i.length;return n}function _U(e){return[{type:"span"},e]}function SU(e){const t=typeof e.data=="string"?DS(e.data):e.data;return[ii({type:"attachment",length:t.length,filename:e.filename,content_type:e.contentType,attachment_type:e.attachmentType}),t]}const xU={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default",profile:"profile",profile_chunk:"profile",replay_event:"replay",replay_recording:"replay",check_in:"monitor",feedback:"feedback",span:"span",statsd:"metric_bucket"};function ER(e){return xU[e]}function GV(e){if(!e||!e.sdk)return;const{name:t,version:n}=e.sdk;return{name:t,version:n}}function wU(e,t,n,r){const i=e.sdkProcessingMetadata&&e.sdkProcessingMetadata.dynamicSamplingContext;return{event_id:e.event_id,sent_at:new Date().toISOString(),...t&&{sdk:t},...!!n&&r&&{dsn:af(r)},...i&&{trace:ii({...i})}}}function EU(e,t){return t&&(e.sdk=e.sdk||{},e.sdk.name=e.sdk.name||t.name,e.sdk.version=e.sdk.version||t.version,e.sdk.integrations=[...e.sdk.integrations||[],...t.integrations||[]],e.sdk.packages=[...e.sdk.packages||[],...t.packages||[]]),e}function TU(e,t,n,r){const i=GV(n),s={sent_at:new Date().toISOString(),...i&&{sdk:i},...!!r&&t&&{dsn:af(t)}},l="aggregates"in e?[{type:"sessions"},e]:[{type:"session"},e.toJSON()];return of(s,[l])}function CU(e,t,n,r){const i=GV(n),s=e.type&&e.type!=="replay_event"?e.type:"event";EU(e,n&&n.sdk);const l=wU(e,i,r,t);return delete e.sdkProcessingMetadata,of(l,[[{type:s},e]])}function kU(e,t){function n(p){return!!p.trace_id&&!!p.public_key}const r=sf(e[0]),i=t&&t.getDsn(),s=t&&t.getOptions().tunnel,l={sent_at:new Date().toISOString(),...n(r)&&{trace:r},...!!s&&i&&{dsn:af(i)}},c=t&&t.getOptions().beforeSendSpan,d=c?p=>{const h=c(ln(p));return h||DV(),h}:p=>ln(p),u=[];for(const p of e){const h=d(p);h&&u.push(_U(h))}return of(l,u)}function MU(e,t,n,r=gi()){const i=r&&hi(r);i&&(Tt&&Be.log(`[Measurement] Setting measurement on root span: ${e} = ${t} ${n}`),i.addEvent(e,{[ov]:t,[av]:n}))}function TR(e){if(!e||e.length===0)return;const t={};return e.forEach(n=>{const r=n.attributes||{},i=r[av],s=r[ov];typeof i=="string"&&typeof s=="number"&&(t[n.name]={value:s,unit:i})}),t}const CR=1e3;class Ew{constructor(t={}){this._traceId=t.traceId||jr(),this._spanId=t.spanId||jr().substring(16),this._startTime=t.startTimestamp||si(),this._attributes={},this.setAttributes({[Ar]:"manual",[$c]:t.op,...t.attributes}),this._name=t.name,t.parentSpanId&&(this._parentSpanId=t.parentSpanId),"sampled"in t&&(this._sampled=t.sampled),t.endTimestamp&&(this._endTime=t.endTimestamp),this._events=[],this._isStandaloneSpan=t.isStandalone,this._endTime&&this._onSpanEnded()}addLink(t){return this}addLinks(t){return this}recordException(t,n){}spanContext(){const{_spanId:t,_traceId:n,_sampled:r}=this;return{spanId:t,traceId:n,traceFlags:r?jV:OV}}setAttribute(t,n){return n===void 0?delete this._attributes[t]:this._attributes[t]=n,this}setAttributes(t){return Object.keys(t).forEach(n=>this.setAttribute(n,t[n])),this}updateStartTime(t){this._startTime=Mc(t)}setStatus(t){return this._status=t,this}updateName(t){return this._name=t,this.setAttribute(vo,"custom"),this}end(t){this._endTime||(this._endTime=Mc(t),oU(this),this._onSpanEnded())}getSpanJSON(){return ii({data:this._attributes,description:this._name,op:this._attributes[$c],parent_span_id:this._parentSpanId,span_id:this._spanId,start_timestamp:this._startTime,status:PV(this._status),timestamp:this._endTime,trace_id:this._traceId,origin:this._attributes[Ar],_metrics_summary:RS(this),profile_id:this._attributes[$7],exclusive_time:this._attributes[Sw],measurements:TR(this._events),is_segment:this._isStandaloneSpan&&hi(this)===this||void 0,segment_id:this._isStandaloneSpan?hi(this).spanContext().spanId:void 0})}isRecording(){return!this._endTime&&!!this._sampled}addEvent(t,n,r){Tt&&Be.log("[Tracing] Adding an event to span:",t);const i=kR(n)?n:r||si(),s=kR(n)?{}:n||{},l={name:t,time:Mc(i),attributes:s};return this._events.push(l),this}isStandaloneSpan(){return!!this._isStandaloneSpan}_onSpanEnded(){const t=dn();if(t&&t.emit("spanEnd",this),!(this._isStandaloneSpan||this===hi(this)))return;if(this._isStandaloneSpan){this._sampled?IU(kU([this],t)):(Tt&&Be.log("[Tracing] Discarding standalone span because its trace was not chosen to be sampled."),t&&t.recordDroppedEvent("sample_rate","span"));return}const r=this._convertSpanToTransaction();r&&(xR(this).scope||Dn()).captureEvent(r)}_convertSpanToTransaction(){if(!MR(ln(this)))return;this._name||(Tt&&Be.warn("Transaction has no name, falling back to `<unlabeled transaction>`."),this._name="<unlabeled transaction>");const{scope:t,isolationScope:n}=xR(this),i=(t||Dn()).getClient()||dn();if(this._sampled!==!0){Tt&&Be.log("[Tracing] Discarding transaction because its trace was not chosen to be sampled."),i&&i.recordDroppedEvent("sample_rate","transaction");return}const l=_y(this).filter(h=>h!==this&&!RU(h)).map(h=>ln(h)).filter(MR),c=this._attributes[vo],d={contexts:{trace:J7(this)},spans:l.length>CR?l.sort((h,y)=>h.start_timestamp-y.start_timestamp).slice(0,CR):l,start_timestamp:this._startTime,timestamp:this._endTime,transaction:this._name,type:"transaction",sdkProcessingMetadata:{capturedSpanScope:t,capturedSpanIsolationScope:n,...ii({dynamicSamplingContext:sf(this)})},_metrics_summary:RS(this),...c&&{transaction_info:{source:c}}},u=TR(this._events);return u&&Object.keys(u).length&&(Tt&&Be.log("[Measurements] Adding measurements to transaction event",JSON.stringify(u,void 0,2)),d.measurements=u),d}}function kR(e){return e&&typeof e=="number"||e instanceof Date||Array.isArray(e)}function MR(e){return!!e.start_timestamp&&!!e.timestamp&&!!e.span_id&&!!e.trace_id}function RU(e){return e instanceof Ew&&e.isStandaloneSpan()}function IU(e){const t=dn();if(!t)return;const n=e[1];if(!n||n.length===0){t.recordDroppedEvent("before_send","span");return}t.sendEnvelope(e)}const YV="__SENTRY_SUPPRESS_TRACING__";function _l(e){const t=KV();if(t.startInactiveSpan)return t.startInactiveSpan(e);const n=jU(e),{forceTransaction:r,parentSpan:i}=e;return(e.scope?l=>sv(e.scope,l):i!==void 0?l=>d0(i,l):l=>l())(()=>{const l=Dn(),c=VU(l);return e.onlyIfParent&&!c?new rf:OU({parentSpan:c,spanArguments:n,forceTransaction:r,scope:l})})}function d0(e,t){const n=KV();return n.withActiveSpan?n.withActiveSpan(e,t):sv(r=>(vp(r,e||void 0),t(r)))}function OU({parentSpan:e,spanArguments:t,forceTransaction:n,scope:r}){if(!wl())return new rf;const i=Da();let s;if(e&&!n)s=PU(e,r,t),VV(e,s);else if(e){const l=sf(e),{traceId:c,spanId:d}=e.spanContext(),u=nu(e);s=RR({traceId:c,parentSpanId:d,...t},r,u),wR(s,l)}else{const{traceId:l,dsc:c,parentSpanId:d,sampled:u}={...i.getPropagationContext(),...r.getPropagationContext()};s=RR({traceId:l,parentSpanId:d,...t},r,u),c&&wR(s,c)}return aU(s),sU(s,r,i),s}function jU(e){const n={isStandalone:(e.experimental||{}).standalone,...e};if(e.startTime){const r={...n};return r.startTimestamp=Mc(e.startTime),delete r.startTime,r}return n}function KV(){const e=tu();return nf(e)}function RR(e,t,n){const r=dn(),i=r&&r.getOptions()||{},{name:s="",attributes:l}=e,[c,d]=t.getScopeData().sdkProcessingMetadata[YV]?[!1]:lU(i,{name:s,parentSampled:n,attributes:l,transactionContext:{name:s,parentSampled:n}}),u=new Ew({...e,attributes:{[vo]:"custom",...e.attributes},sampled:c});return d!==void 0&&u.setAttribute(TV,d),r&&r.emit("spanStart",u),u}function PU(e,t,n){const{spanId:r,traceId:i}=e.spanContext(),s=t.getScopeData().sdkProcessingMetadata[YV]?!1:nu(e),l=s?new Ew({...n,parentSpanId:r,traceId:i,sampled:s}):new rf({traceId:i});VV(e,l);const c=dn();return c&&(c.emit("spanStart",l),n.endTimestamp&&c.emit("spanEnd",l)),l}function VU(e){const t=u0(e);if(!t)return;const n=dn();return(n?n.getOptions():{}).parentSpanIsAlwaysRootSpan?hi(t):t}const Sy={idleTimeout:1e3,finalTimeout:3e4,childSpanTimeout:15e3},DU="heartbeatFailed",BU="idleTimeout",NU="finalTimeout",LU="externalFinish";function WV(e,t={}){const n=new Map;let r=!1,i,s=LU,l=!t.disableAutoFinish;const c=[],{idleTimeout:d=Sy.idleTimeout,finalTimeout:u=Sy.finalTimeout,childSpanTimeout:p=Sy.childSpanTimeout,beforeSpanEnd:h}=t,y=dn();if(!y||!wl())return new rf;const v=Dn(),b=gi(),_=FU(e);_.end=new Proxy(_.end,{apply(O,P,j){h&&h(_);const[V,...C]=j,N=V||si(),U=Mc(N),L=_y(_).filter(Q=>Q!==_);if(!L.length)return E(U),Reflect.apply(O,P,[U,...C]);const q=L.map(Q=>ln(Q).timestamp).filter(Q=>!!Q),H=q.length?Math.max(...q):void 0,D=ln(_).start_timestamp,K=Math.min(D?D+u/1e3:1/0,Math.max(D||-1/0,Math.min(U,H||1/0)));return E(K),Reflect.apply(O,P,[K,...C])}});function w(){i&&(clearTimeout(i),i=void 0)}function T(O){w(),i=setTimeout(()=>{!r&&n.size===0&&l&&(s=BU,_.end(O))},d)}function k(O){i=setTimeout(()=>{!r&&l&&(s=DU,_.end(O))},p)}function R(O){w(),n.set(O,!0);const P=si();k(P+p/1e3)}function M(O){if(n.has(O)&&n.delete(O),n.size===0){const P=si();T(P+d/1e3)}}function E(O){r=!0,n.clear(),c.forEach(U=>U()),vp(v,b);const P=ln(_),{start_timestamp:j}=P;if(!j)return;(P.data||{})[IS]||_.setAttribute(IS,s),Be.log(`[Tracing] Idle span "${P.op}" finished`);const C=_y(_).filter(U=>U!==_);let N=0;C.forEach(U=>{U.isRecording()&&(U.setStatus({code:Ur,message:"cancelled"}),U.end(O),Tt&&Be.log("[Tracing] Cancelling span since span ended early",JSON.stringify(U,void 0,2)));const L=ln(U),{timestamp:q=0,start_timestamp:H=0}=L,D=H<=O,K=(u+d)/1e3,Q=q-H<=K;if(Tt){const J=JSON.stringify(U,void 0,2);D?Q||Be.log("[Tracing] Discarding span since it finished after idle span final timeout",J):Be.log("[Tracing] Discarding span since it happened after idle span was finished",J)}(!Q||!D)&&(rU(_,U),N++)}),N>0&&_.setAttribute("sentry.idle_span_discarded_spans",N)}return c.push(y.on("spanStart",O=>{if(r||O===_||ln(O).timestamp)return;_y(_).includes(O)&&R(O.spanContext().spanId)})),c.push(y.on("spanEnd",O=>{r||M(O.spanContext().spanId)})),c.push(y.on("idleSpanEnableAutoFinish",O=>{O===_&&(l=!0,T(),n.size&&k())})),t.disableAutoFinish||T(),setTimeout(()=>{r||(_.setStatus({code:Ur,message:"deadline_exceeded"}),s=NU,_.end())},u),_}function FU(e){const t=_l(e);return vp(Dn(),t),Tt&&Be.log("[Tracing] Started span is an idle span"),t}function BS(e,t,n,r=0){return new Os((i,s)=>{const l=e[r];if(t===null||typeof l!="function")i(t);else{const c=l({...t},n);Tt&&l.id&&c===null&&Be.log(`Event processor "${l.id}" dropped event`),rv(c)?c.then(d=>BS(e,d,n,r+1).then(i)).then(null,s):BS(e,c,n,r+1).then(i).then(null,s)}})}let km,IR,Mm;function zU(e){const t=Kt._sentryDebugIds;if(!t)return{};const n=Object.keys(t);return Mm&&n.length===IR||(IR=n.length,Mm=n.reduce((r,i)=>{km||(km={});const s=km[i];if(s)r[s[0]]=s[1];else{const l=e(i);for(let c=l.length-1;c>=0;c--){const d=l[c],u=d&&d.filename,p=t[i];if(u&&p){r[u]=p,km[i]=[u,p];break}}}return r},{})),Mm}function $U(e,t){const{fingerprint:n,span:r,breadcrumbs:i,sdkProcessingMetadata:s}=t;UU(e,t),r&&GU(e,r),YU(e,n),HU(e,i),qU(e,s)}function OR(e,t){const{extra:n,tags:r,user:i,contexts:s,level:l,sdkProcessingMetadata:c,breadcrumbs:d,fingerprint:u,eventProcessors:p,attachments:h,propagationContext:y,transactionName:v,span:b}=t;Rm(e,"extra",n),Rm(e,"tags",r),Rm(e,"user",i),Rm(e,"contexts",s),e.sdkProcessingMetadata=iv(e.sdkProcessingMetadata,c,2),l&&(e.level=l),v&&(e.transactionName=v),b&&(e.span=b),d.length&&(e.breadcrumbs=[...e.breadcrumbs,...d]),u.length&&(e.fingerprint=[...e.fingerprint,...u]),p.length&&(e.eventProcessors=[...e.eventProcessors,...p]),h.length&&(e.attachments=[...e.attachments,...h]),e.propagationContext={...e.propagationContext,...y}}function Rm(e,t,n){e[t]=iv(e[t],n,1)}function UU(e,t){const{extra:n,tags:r,user:i,contexts:s,level:l,transactionName:c}=t,d=ii(n);d&&Object.keys(d).length&&(e.extra={...d,...e.extra});const u=ii(r);u&&Object.keys(u).length&&(e.tags={...u,...e.tags});const p=ii(i);p&&Object.keys(p).length&&(e.user={...p,...e.user});const h=ii(s);h&&Object.keys(h).length&&(e.contexts={...h,...e.contexts}),l&&(e.level=l),c&&e.type!=="transaction"&&(e.transaction=c)}function HU(e,t){const n=[...e.breadcrumbs||[],...t];e.breadcrumbs=n.length?n:void 0}function qU(e,t){e.sdkProcessingMetadata={...e.sdkProcessingMetadata,...t}}function GU(e,t){e.contexts={trace:Z7(t),...e.contexts},e.sdkProcessingMetadata={dynamicSamplingContext:sf(t),...e.sdkProcessingMetadata};const n=hi(t),r=ln(n).description;r&&!e.transaction&&e.type==="transaction"&&(e.transaction=r)}function YU(e,t){e.fingerprint=e.fingerprint?Array.isArray(e.fingerprint)?e.fingerprint:[e.fingerprint]:[],t&&(e.fingerprint=e.fingerprint.concat(t)),e.fingerprint&&!e.fingerprint.length&&delete e.fingerprint}function KU(e,t,n,r,i,s){const{normalizeDepth:l=3,normalizeMaxBreadth:c=1e3}=e,d={...t,event_id:t.event_id||n.event_id||jr(),timestamp:t.timestamp||Bp()},u=n.integrations||e.integrations.map(w=>w.name);WU(d,e),JU(d,u),i&&i.emit("applyFrameMetadata",t),t.type===void 0&&QU(d,e.stackParser);const p=e9(r,n.captureContext);n.mechanism&&mp(d,n.mechanism);const h=i?i.getEventProcessors():[],y=L7().getScopeData();if(s){const w=s.getScopeData();OR(y,w)}if(p){const w=p.getScopeData();OR(y,w)}const v=[...n.attachments||[],...y.attachments];v.length&&(n.attachments=v),$U(d,y);const b=[...h,...y.eventProcessors];return BS(b,d,n).then(w=>(w&&XU(w),typeof l=="number"&&l>0?ZU(w,l,c):w))}function WU(e,t){const{environment:n,release:r,dist:i,maxValueLength:s=250}=t;e.environment=e.environment||n||ww,!e.release&&r&&(e.release=r),!e.dist&&i&&(e.dist=i),e.message&&(e.message=Ed(e.message,s));const l=e.exception&&e.exception.values&&e.exception.values[0];l&&l.value&&(l.value=Ed(l.value,s));const c=e.request;c&&c.url&&(c.url=Ed(c.url,s))}function QU(e,t){const n=zU(t);try{e.exception.values.forEach(r=>{r.stacktrace.frames.forEach(i=>{n&&i.filename&&(i.debug_id=n[i.filename])})})}catch{}}function XU(e){const t={};try{e.exception.values.forEach(r=>{r.stacktrace.frames.forEach(i=>{i.debug_id&&(i.abs_path?t[i.abs_path]=i.debug_id:i.filename&&(t[i.filename]=i.debug_id),delete i.debug_id)})})}catch{}if(Object.keys(t).length===0)return;e.debug_meta=e.debug_meta||{},e.debug_meta.images=e.debug_meta.images||[];const n=e.debug_meta.images;Object.entries(t).forEach(([r,i])=>{n.push({type:"sourcemap",code_file:r,debug_id:i})})}function JU(e,t){t.length>0&&(e.sdk=e.sdk||{},e.sdk.integrations=[...e.sdk.integrations||[],...t])}function ZU(e,t,n){if(!e)return null;const r={...e,...e.breadcrumbs&&{breadcrumbs:e.breadcrumbs.map(i=>({...i,...i.data&&{data:pl(i.data,t,n)}}))},...e.user&&{user:pl(e.user,t,n)},...e.contexts&&{contexts:pl(e.contexts,t,n)},...e.extra&&{extra:pl(e.extra,t,n)}};return e.contexts&&e.contexts.trace&&r.contexts&&(r.contexts.trace=e.contexts.trace,e.contexts.trace.data&&(r.contexts.trace.data=pl(e.contexts.trace.data,t,n))),e.spans&&(r.spans=e.spans.map(i=>({...i,...i.data&&{data:pl(i.data,t,n)}}))),r}function e9(e,t){if(!t)return e;const n=e?e.clone():new xl;return n.update(t),n}function t9(e){if(e)return n9(e)?{captureContext:e}:i9(e)?{captureContext:e}:e}function n9(e){return e instanceof xl||typeof e=="function"}const r9=["user","level","extra","contexts","tags","fingerprint","requestSession","propagationContext"];function i9(e){return Object.keys(e).some(t=>r9.includes(t))}function ua(e,t){return Dn().captureException(e,t9(t))}function QV(e,t){return Dn().captureEvent(e,t)}function s9(e,t){Da().setContext(e,t)}function a9(e){Da().setUser(e)}function o9(){return Da().lastEventId()}function l9(){const e=dn();return!!e&&e.getOptions().enabled!==!1&&!!e.getTransport()}function jR(e){const t=dn(),n=Da(),r=Dn(),{release:i,environment:s=ww}=t&&t.getOptions()||{},{userAgent:l}=Kt.navigator||{},c=M7({release:i,environment:s,user:r.getUser()||n.getUser(),...l&&{userAgent:l},...e}),d=n.getSession();return d&&d.status==="ok"&&Fd(d,{status:"exited"}),XV(),n.setSession(c),r.setSession(c),c}function XV(){const e=Da(),t=Dn(),n=t.getSession()||e.getSession();n&&R7(n),JV(),e.setSession(),t.setSession()}function JV(){const e=Da(),t=Dn(),n=dn(),r=t.getSession()||e.getSession();r&&n&&n.captureSession(r)}function PR(e=!1){if(e){XV();return}JV()}const c9="7";function ZV(e){const t=e.protocol?`${e.protocol}:`:"",n=e.port?`:${e.port}`:"";return`${t}//${e.host}${n}${e.path?`/${e.path}`:""}/api/`}function u9(e){return`${ZV(e)}${e.projectId}/envelope/`}function d9(e,t){const n={sentry_version:c9};return e.publicKey&&(n.sentry_key=e.publicKey),t&&(n.sentry_client=`${t.name}/${t.version}`),new URLSearchParams(n).toString()}function f9(e,t,n){return t||`${u9(e)}?${d9(e,n)}`}function h9(e,t){const n=HV(e);if(!n)return"";const r=`${ZV(n)}embed/error-page/`;let i=`dsn=${af(n)}`;for(const s in t)if(s!=="dsn"&&s!=="onClose")if(s==="user"){const l=t.user;if(!l)continue;l.name&&(i+=`&name=${encodeURIComponent(l.name)}`),l.email&&(i+=`&email=${encodeURIComponent(l.email)}`)}else i+=`&${encodeURIComponent(s)}=${encodeURIComponent(t[s])}`;return`${r}?${i}`}const VR=[];function p9(e){const t={};return e.forEach(n=>{const{name:r}=n,i=t[r];i&&!i.isDefaultInstance&&n.isDefaultInstance||(t[r]=n)}),Object.values(t)}function g9(e){const t=e.defaultIntegrations||[],n=e.integrations;t.forEach(l=>{l.isDefaultInstance=!0});let r;if(Array.isArray(n))r=[...t,...n];else if(typeof n=="function"){const l=n(t);r=Array.isArray(l)?l:[l]}else r=t;const i=p9(r),s=i.findIndex(l=>l.name==="Debug");if(s>-1){const[l]=i.splice(s,1);i.push(l)}return i}function m9(e,t){const n={};return t.forEach(r=>{r&&e4(e,r,n)}),n}function DR(e,t){for(const n of t)n&&n.afterAllSetup&&n.afterAllSetup(e)}function e4(e,t,n){if(n[t.name]){Tt&&Be.log(`Integration skipped because it was already installed: ${t.name}`);return}if(n[t.name]=t,VR.indexOf(t.name)===-1&&typeof t.setupOnce=="function"&&(t.setupOnce(),VR.push(t.name)),t.setup&&typeof t.setup=="function"&&t.setup(e),typeof t.preprocessEvent=="function"){const r=t.preprocessEvent.bind(t);e.on("preprocessEvent",(i,s)=>r(i,s,e))}if(typeof t.processEvent=="function"){const r=t.processEvent.bind(t),i=Object.assign((s,l)=>r(s,l,e),{id:t.name});e.addEventProcessor(i)}Tt&&Be.log(`Integration installed: ${t.name}`)}function y9(e,t,n){const r=[{type:"client_report"},{timestamp:Bp(),discarded_events:e}];return of(t?{dsn:t}:{},[r])}class Ta extends Error{constructor(t,n="warn"){super(t),this.message=t,this.name=new.target.prototype.constructor.name,Object.setPrototypeOf(this,new.target.prototype),this.logLevel=n}}const BR="Not capturing exception because it's already been captured.";class v9{constructor(t){if(this._options=t,this._integrations={},this._numProcessing=0,this._outcomes={},this._hooks={},this._eventProcessors=[],t.dsn?this._dsn=HV(t.dsn):Tt&&Be.warn("No DSN provided, client will not send events."),this._dsn){const i=f9(this._dsn,t.tunnel,t._metadata?t._metadata.sdk:void 0);this._transport=t.transport({tunnel:this._options.tunnel,recordDroppedEvent:this.recordDroppedEvent.bind(this),...t.transportOptions,url:i})}const r=["enableTracing","tracesSampleRate","tracesSampler"].find(i=>i in t&&t[i]==null);r&&eu(()=>{console.warn(`[Sentry] Deprecation warning: \`${r}\` is set to undefined, which leads to tracing being enabled. In v9, a value of \`undefined\` will result in tracing being disabled.`)})}captureException(t,n,r){const i=jr();if(yR(t))return Tt&&Be.log(BR),i;const s={event_id:i,...n};return this._process(this.eventFromException(t,s).then(l=>this._captureEvent(l,s,r))),s.event_id}captureMessage(t,n,r,i){const s={event_id:jr(),...r},l=vw(t)?t:String(t),c=Aw(t)?this.eventFromMessage(l,n,s):this.eventFromException(t,s);return this._process(c.then(d=>this._captureEvent(d,s,i))),s.event_id}captureEvent(t,n,r){const i=jr();if(n&&n.originalException&&yR(n.originalException))return Tt&&Be.log(BR),i;const s={event_id:i,...n},c=(t.sdkProcessingMetadata||{}).capturedSpanScope;return this._process(this._captureEvent(t,s,c||r)),s.event_id}captureSession(t){typeof t.release!="string"?Tt&&Be.warn("Discarded session because of missing or non-string release"):(this.sendSession(t),Fd(t,{init:!1}))}getDsn(){return this._dsn}getOptions(){return this._options}getSdkMetadata(){return this._options._metadata}getTransport(){return this._transport}flush(t){const n=this._transport;return n?(this.emit("flush"),this._isClientDoneProcessing(t).then(r=>n.flush(t).then(i=>r&&i))):zc(!0)}close(t){return this.flush(t).then(n=>(this.getOptions().enabled=!1,this.emit("close"),n))}getEventProcessors(){return this._eventProcessors}addEventProcessor(t){this._eventProcessors.push(t)}init(){(this._isEnabled()||this._options.integrations.some(({name:t})=>t.startsWith("Spotlight")))&&this._setupIntegrations()}getIntegrationByName(t){return this._integrations[t]}addIntegration(t){const n=this._integrations[t.name];e4(this,t,this._integrations),n||DR(this,[t])}sendEvent(t,n={}){this.emit("beforeSendEvent",t,n);let r=CU(t,this._dsn,this._options._metadata,this._options.tunnel);for(const s of n.attachments||[])r=vU(r,SU(s));const i=this.sendEnvelope(r);i&&i.then(s=>this.emit("afterSendEvent",t,s),null)}sendSession(t){const n=TU(t,this._dsn,this._options._metadata,this._options.tunnel);this.sendEnvelope(n)}recordDroppedEvent(t,n,r){if(this._options.sendClientReports){const i=typeof r=="number"?r:1,s=`${t}:${n}`;Tt&&Be.log(`Recording outcome: "${s}"${i>1?` (${i} times)`:""}`),this._outcomes[s]=(this._outcomes[s]||0)+i}}on(t,n){const r=this._hooks[t]=this._hooks[t]||[];return r.push(n),()=>{const i=r.indexOf(n);i>-1&&r.splice(i,1)}}emit(t,...n){const r=this._hooks[t];r&&r.forEach(i=>i(...n))}sendEnvelope(t){return this.emit("beforeEnvelope",t),this._isEnabled()&&this._transport?this._transport.send(t).then(null,n=>(Tt&&Be.error("Error while sending envelope:",n),n)):(Tt&&Be.error("Transport disabled"),zc({}))}_setupIntegrations(){const{integrations:t}=this._options;this._integrations=m9(this,t),DR(this,t)}_updateSessionFromEvent(t,n){let r=!1,i=!1;const s=n.exception&&n.exception.values;if(s){i=!0;for(const d of s){const u=d.mechanism;if(u&&u.handled===!1){r=!0;break}}}const l=t.status==="ok";(l&&t.errors===0||l&&r)&&(Fd(t,{...r&&{status:"crashed"},errors:t.errors||Number(i||r)}),this.captureSession(t))}_isClientDoneProcessing(t){return new Os(n=>{let r=0;const i=1,s=setInterval(()=>{this._numProcessing==0?(clearInterval(s),n(!0)):(r+=i,t&&r>=t&&(clearInterval(s),n(!1)))},i)})}_isEnabled(){return this.getOptions().enabled!==!1&&this._transport!==void 0}_prepareEvent(t,n,r=Dn(),i=Da()){const s=this.getOptions(),l=Object.keys(this._integrations);return!n.integrations&&l.length>0&&(n.integrations=l),this.emit("preprocessEvent",t,n),t.type||i.setLastEventId(t.event_id||n.event_id),KU(s,t,n,r,this,i).then(c=>{if(c===null)return c;c.contexts={trace:F7(r),...c.contexts};const d=zV(this,r);return c.sdkProcessingMetadata={dynamicSamplingContext:d,...c.sdkProcessingMetadata},c})}_captureEvent(t,n={},r){return this._processEvent(t,n,r).then(i=>i.event_id,i=>{if(Tt){const s=i;s.logLevel==="log"?Be.log(s.message):Be.warn(s)}})}_processEvent(t,n,r){const i=this.getOptions(),{sampleRate:s}=i,l=n4(t),c=t4(t),d=t.type||"error",u=`before send for type \`${d}\``,p=typeof s>"u"?void 0:$V(s);if(c&&typeof p=="number"&&Math.random()>p)return this.recordDroppedEvent("sample_rate","error",t),c0(new Ta(`Discarding event because it's not included in the random sample (sampling rate = ${s})`,"log"));const h=d==="replay_event"?"replay":d,v=(t.sdkProcessingMetadata||{}).capturedSpanIsolationScope;return this._prepareEvent(t,n,r,v).then(b=>{if(b===null)throw this.recordDroppedEvent("event_processor",h,t),new Ta("An event processor returned `null`, will not send event.","log");if(n.data&&n.data.__sentry__===!0)return b;const w=b9(this,i,b,n);return A9(w,u)}).then(b=>{if(b===null){if(this.recordDroppedEvent("before_send",h,t),l){const k=1+(t.spans||[]).length;this.recordDroppedEvent("before_send","span",k)}throw new Ta(`${u} returned \`null\`, will not send event.`,"log")}const _=r&&r.getSession();if(!l&&_&&this._updateSessionFromEvent(_,b),l){const T=b.sdkProcessingMetadata&&b.sdkProcessingMetadata.spanCountBeforeProcessing||0,k=b.spans?b.spans.length:0,R=T-k;R>0&&this.recordDroppedEvent("before_send","span",R)}const w=b.transaction_info;if(l&&w&&b.transaction!==t.transaction){const T="custom";b.transaction_info={...w,source:T}}return this.sendEvent(b,n),b}).then(null,b=>{throw b instanceof Ta?b:(this.captureException(b,{data:{__sentry__:!0},originalException:b}),new Ta(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.
Reason: ${b}`))})}_process(t){this._numProcessing++,t.then(n=>(this._numProcessing--,n),n=>(this._numProcessing--,n))}_clearOutcomes(){const t=this._outcomes;return this._outcomes={},Object.entries(t).map(([n,r])=>{const[i,s]=n.split(":");return{reason:i,category:s,quantity:r}})}_flushOutcomes(){Tt&&Be.log("Flushing outcomes...");const t=this._clearOutcomes();if(t.length===0){Tt&&Be.log("No outcomes to send");return}if(!this._dsn){Tt&&Be.log("No dsn provided, will not send outcomes");return}Tt&&Be.log("Sending outcomes:",t);const n=y9(t,this._options.tunnel&&af(this._dsn));this.sendEnvelope(n)}}function A9(e,t){const n=`${t} must return \`null\` or a valid event.`;if(rv(e))return e.then(r=>{if(!Ld(r)&&r!==null)throw new Ta(n);return r},r=>{throw new Ta(`${t} rejected with ${r}`)});if(!Ld(e)&&e!==null)throw new Ta(n);return e}function b9(e,t,n,r){const{beforeSend:i,beforeSendTransaction:s,beforeSendSpan:l}=t;if(t4(n)&&i)return i(n,r);if(n4(n)){if(n.spans&&l){const c=[];for(const d of n.spans){const u=l(d);u?c.push(u):(DV(),e.recordDroppedEvent("before_send","span"))}n.spans=c}if(s){if(n.spans){const c=n.spans.length;n.sdkProcessingMetadata={...n.sdkProcessingMetadata,spanCountBeforeProcessing:c}}return s(n,r)}}return n}function t4(e){return e.type===void 0}function n4(e){return e.type==="transaction"}function _9(e,t){t.debug===!0&&(Tt?Be.enable():eu(()=>{console.warn("[Sentry] Cannot initialize SDK with `debug` option using a non-debug bundle.")})),Dn().update(t.initialScope);const r=new e(t);return S9(r),r.init(),r}function S9(e){Dn().setClient(e)}function x9(e){const t=[];function n(){return e===void 0||t.length<e}function r(l){return t.splice(t.indexOf(l),1)[0]||Promise.resolve(void 0)}function i(l){if(!n())return c0(new Ta("Not adding Promise because buffer limit was reached."));const c=l();return t.indexOf(c)===-1&&t.push(c),c.then(()=>r(c)).then(null,()=>r(c).then(null,()=>{})),c}function s(l){return new Os((c,d)=>{let u=t.length;if(!u)return c(!0);const p=setTimeout(()=>{l&&l>0&&c(!1)},l);t.forEach(h=>{zc(h).then(()=>{--u||(clearTimeout(p),c(!0))},d)})})}return{$:t,add:i,drain:s}}const w9=60*1e3;function E9(e,t=Date.now()){const n=parseInt(`${e}`,10);if(!isNaN(n))return n*1e3;const r=Date.parse(`${e}`);return isNaN(r)?w9:r-t}function T9(e,t){return e[t]||e.all||0}function C9(e,t,n=Date.now()){return T9(e,t)>n}function k9(e,{statusCode:t,headers:n},r=Date.now()){const i={...e},s=n&&n["x-sentry-rate-limits"],l=n&&n["retry-after"];if(s)for(const c of s.trim().split(",")){const[d,u,,,p]=c.split(":",5),h=parseInt(d,10),y=(isNaN(h)?60:h)*1e3;if(!u)i.all=r+y;else for(const v of u.split(";"))v==="metric_bucket"?(!p||p.split(";").includes("custom"))&&(i[v]=r+y):i[v]=r+y}else l?i.all=r+E9(l,r):t===429&&(i.all=r+60*1e3);return i}const M9=64;function R9(e,t,n=x9(e.bufferSize||M9)){let r={};const i=l=>n.drain(l);function s(l){const c=[];if(VS(l,(h,y)=>{const v=ER(y);if(C9(r,v)){const b=NR(h,y);e.recordDroppedEvent("ratelimit_backoff",v,b)}else c.push(h)}),c.length===0)return zc({});const d=of(l[0],c),u=h=>{VS(d,(y,v)=>{const b=NR(y,v);e.recordDroppedEvent(h,ER(v),b)})},p=()=>t({body:AU(d)}).then(h=>(h.statusCode!==void 0&&(h.statusCode<200||h.statusCode>=300)&&Tt&&Be.warn(`Sentry responded with status code ${h.statusCode} to sent event.`),r=k9(r,h),h),h=>{throw u("network_error"),h});return n.add(p).then(h=>h,h=>{if(h instanceof Ta)return Tt&&Be.error("Skipped sending event because buffer is full."),u("queue_overflow"),zc({});throw h})}return{send:s,flush:i}}function NR(e,t){if(!(t!=="event"&&t!=="transaction"))return Array.isArray(e)?e[1]:void 0}function r4(e,t,n=[t],r="npm"){const i=e._metadata||{};i.sdk||(i.sdk={name:`sentry.javascript.${t}`,packages:n.map(s=>({name:`${r}:@sentry/${s}`,version:Cc})),version:Cc}),e._metadata=i}function i4(e={}){const t=dn();if(!l9()||!t)return{};const n=tu(),r=nf(n);if(r.getTraceData)return r.getTraceData(e);const i=Dn(),s=e.span||gi(),l=s?eU(s):I9(i),c=s?sf(s):zV(t,i),d=Y7(c);return RV.test(l)?{"sentry-trace":l,baggage:d}:(Be.warn("Invalid sentry-trace data. Cannot generate trace data"),{})}function I9(e){const{traceId:t,sampled:n,spanId:r}=e.getPropagationContext();return IV(t,r,n)}const O9=100;function Uc(e,t){const n=dn(),r=Da();if(!n)return;const{beforeBreadcrumb:i=null,maxBreadcrumbs:s=O9}=n.getOptions();if(s<=0)return;const c={timestamp:Bp(),...e},d=i?eu(()=>i(c,t)):c;d!==null&&(n.emit&&n.emit("beforeAddBreadcrumb",d,t),r.addBreadcrumb(d,s))}let LR;const j9="FunctionToString",FR=new WeakMap,P9=()=>({name:j9,setupOnce(){LR=Function.prototype.toString;try{Function.prototype.toString=function(...e){const t=bw(this),n=FR.has(dn())&&t!==void 0?t:this;return LR.apply(n,e)}}catch{}},setup(e){FR.set(e,!0)}}),V9=P9,D9=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/,/^ResizeObserver loop completed with undelivered notifications.$/,/^Cannot redefine property: googletag$/,"undefined is not an object (evaluating 'a.L')",`can't redefine non-configurable property "solana"`,"vv().getRestrictions is not a function. (In 'vv().getRestrictions(1,a)', 'vv().getRestrictions' is undefined)","Can't find variable: _AutofillCallbackHandler"],B9="InboundFilters",N9=(e={})=>({name:B9,processEvent(t,n,r){const i=r.getOptions(),s=F9(e,i);return z9(t,s)?null:t}}),L9=N9;function F9(e={},t={}){return{allowUrls:[...e.allowUrls||[],...t.allowUrls||[]],denyUrls:[...e.denyUrls||[],...t.denyUrls||[]],ignoreErrors:[...e.ignoreErrors||[],...t.ignoreErrors||[],...e.disableErrorDefaults?[]:D9],ignoreTransactions:[...e.ignoreTransactions||[],...t.ignoreTransactions||[]],ignoreInternal:e.ignoreInternal!==void 0?e.ignoreInternal:!0}}function z9(e,t){return t.ignoreInternal&&Y9(e)?(Tt&&Be.warn(`Event dropped due to being internal Sentry Error.
Event: ${hl(e)}`),!0):$9(e,t.ignoreErrors)?(Tt&&Be.warn(`Event dropped due to being matched by \`ignoreErrors\` option.
Event: ${hl(e)}`),!0):W9(e)?(Tt&&Be.warn(`Event dropped due to not having an error message, error type or stacktrace.
Event: ${hl(e)}`),!0):U9(e,t.ignoreTransactions)?(Tt&&Be.warn(`Event dropped due to being matched by \`ignoreTransactions\` option.
Event: ${hl(e)}`),!0):H9(e,t.denyUrls)?(Tt&&Be.warn(`Event dropped due to being matched by \`denyUrls\` option.
Event: ${hl(e)}.
Url: ${f0(e)}`),!0):q9(e,t.allowUrls)?!1:(Tt&&Be.warn(`Event dropped due to not being matched by \`allowUrls\` option.
Event: ${hl(e)}.
Url: ${f0(e)}`),!0)}function $9(e,t){return e.type||!t||!t.length?!1:G9(e).some(n=>kc(n,t))}function U9(e,t){if(e.type!=="transaction"||!t||!t.length)return!1;const n=e.transaction;return n?kc(n,t):!1}function H9(e,t){if(!t||!t.length)return!1;const n=f0(e);return n?kc(n,t):!1}function q9(e,t){if(!t||!t.length)return!0;const n=f0(e);return n?kc(n,t):!0}function G9(e){const t=[];e.message&&t.push(e.message);let n;try{n=e.exception.values[e.exception.values.length-1]}catch{}return n&&n.value&&(t.push(n.value),n.type&&t.push(`${n.type}: ${n.value}`)),t}function Y9(e){try{return e.exception.values[0].type==="SentryError"}catch{}return!1}function K9(e=[]){for(let t=e.length-1;t>=0;t--){const n=e[t];if(n&&n.filename!=="<anonymous>"&&n.filename!=="[native code]")return n.filename||null}return null}function f0(e){try{let t;try{t=e.exception.values[0].stacktrace.frames}catch{}return t?K9(t):null}catch{return Tt&&Be.error(`Cannot extract url for event ${hl(e)}`),null}}function W9(e){return e.type||!e.exception||!e.exception.values||e.exception.values.length===0?!1:!e.message&&!e.exception.values.some(t=>t.stacktrace||t.type&&t.type!=="Error"||t.value)}function Q9(e,t,n=250,r,i,s,l){if(!s.exception||!s.exception.values||!l||!To(l.originalException,Error))return;const c=s.exception.values.length>0?s.exception.values[s.exception.values.length-1]:void 0;c&&(s.exception.values=X9(NS(e,t,i,l.originalException,r,s.exception.values,c,0),n))}function NS(e,t,n,r,i,s,l,c){if(s.length>=n+1)return s;let d=[...s];if(To(r[i],Error)){zR(l,c);const u=e(t,r[i]),p=d.length;$R(u,i,p,c),d=NS(e,t,n,r[i],i,[u,...d],u,p)}return Array.isArray(r.errors)&&r.errors.forEach((u,p)=>{if(To(u,Error)){zR(l,c);const h=e(t,u),y=d.length;$R(h,`errors[${p}]`,y,c),d=NS(e,t,n,u,i,[h,...d],h,y)}}),d}function zR(e,t){e.mechanism=e.mechanism||{type:"generic",handled:!0},e.mechanism={...e.mechanism,...e.type==="AggregateError"&&{is_exception_group:!0},exception_id:t}}function $R(e,t,n,r){e.mechanism=e.mechanism||{type:"generic",handled:!0},e.mechanism={...e.mechanism,type:"chained",source:t,exception_id:n,parent_id:r}}function X9(e,t){return e.map(n=>(n.value&&(n.value=Ed(n.value,t)),n))}const s4=new Map,UR=new Set;function J9(e){if(Kt._sentryModuleMetadata)for(const t of Object.keys(Kt._sentryModuleMetadata)){const n=Kt._sentryModuleMetadata[t];if(UR.has(t))continue;UR.add(t);const r=e(t);for(const i of r.reverse())if(i.filename){s4.set(i.filename,n);break}}}function Z9(e,t){return J9(e),s4.get(t)}function eH(e,t){try{t.exception.values.forEach(n=>{if(n.stacktrace)for(const r of n.stacktrace.frames||[]){if(!r.filename||r.module_metadata)continue;const i=Z9(e,r.filename);i&&(r.module_metadata=i)}})}catch{}}function tH(e){try{e.exception.values.forEach(t=>{if(t.stacktrace)for(const n of t.stacktrace.frames||[])delete n.module_metadata})}catch{}}function Ic(e){if(!e)return{};const t=e.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!t)return{};const n=t[6]||"",r=t[8]||"";return{host:t[4],path:t[5],protocol:t[2],search:n,hash:r,relative:t[5]+n+r}}function nH(e){const t="console";jl(t,e),Pl(t,rH)}function rH(){"console"in Kt&&ES.forEach(function(e){e in Kt.console&&ss(Kt.console,e,function(t){return l0[e]=t,function(...n){Fs("console",{args:n,level:e});const i=l0[e];i&&i.apply(Kt.console,n)}})})}function iH(e){return e==="warn"?"warning":["fatal","error","warning","log","info","debug"].includes(e)?e:"log"}const sH="Dedupe",aH=()=>{let e;return{name:sH,processEvent(t){if(t.type)return t;try{if(lH(t,e))return Tt&&Be.warn("Event dropped due to being a duplicate of previously captured event."),null}catch{}return e=t}}},oH=aH;function lH(e,t){return t?!!(cH(e,t)||uH(e,t)):!1}function cH(e,t){const n=e.message,r=t.message;return!(!n&&!r||n&&!r||!n&&r||n!==r||!o4(e,t)||!a4(e,t))}function uH(e,t){const n=HR(t),r=HR(e);return!(!n||!r||n.type!==r.type||n.value!==r.value||!o4(e,t)||!a4(e,t))}function a4(e,t){let n=TS(e),r=TS(t);if(!n&&!r)return!0;if(n&&!r||!n&&r||(n=n,r=r,r.length!==n.length))return!1;for(let i=0;i<r.length;i++){const s=r[i],l=n[i];if(s.filename!==l.filename||s.lineno!==l.lineno||s.colno!==l.colno||s.function!==l.function)return!1}return!0}function o4(e,t){let n=e.fingerprint,r=t.fingerprint;if(!n&&!r)return!0;if(n&&!r||!n&&r)return!1;n=n,r=r;try{return n.join("")===r.join("")}catch{return!1}}function HR(e){return e.exception&&e.exception.values&&e.exception.values[0]}const dH=e=>({name:"ThirdPartyErrorsFilter",setup(t){t.on("beforeEnvelope",n=>{VS(n,(r,i)=>{if(i==="event"){const s=Array.isArray(r)?r[1]:void 0;s&&(tH(s),r[1]=s)}})}),t.on("applyFrameMetadata",n=>{if(n.type)return;const r=t.getOptions().stackParser;eH(r,n)})},processEvent(t){const n=fH(t);if(n){const r=e.behaviour==="drop-error-if-contains-third-party-frames"||e.behaviour==="apply-tag-if-contains-third-party-frames"?"some":"every";if(n[r](s=>!s.some(l=>e.filterKeys.includes(l)))){if(e.behaviour==="drop-error-if-contains-third-party-frames"||e.behaviour==="drop-error-if-exclusively-contains-third-party-frames")return null;t.tags={...t.tags,third_party_code:!0}}}return t}});function fH(e){const t=TS(e);if(t)return t.filter(n=>!!n.filename).map(n=>n.module_metadata?Object.keys(n.module_metadata).filter(r=>r.startsWith(qR)).map(r=>r.slice(qR.length)):[])}const qR="_sentryBundlerPluginAppKey:";function hH(e,t,n,r,i="auto.http.browser"){if(!e.fetchData)return;const s=wl()&&t(e.fetchData.url);if(e.endTimestamp&&s){const y=e.fetchData.__span;if(!y)return;const v=r[y];v&&(mH(v,e),delete r[y]);return}const{method:l,url:c}=e.fetchData,d=gH(c),u=d?Ic(d).host:void 0,p=!!gi(),h=s&&p?_l({name:`${l} ${c}`,attributes:{url:c,type:"fetch","http.method":l,"http.url":d,"server.address":u,[Ar]:i,[$c]:"http.client"}}):new rf;if(e.fetchData.__span=h.spanContext().spanId,r[h.spanContext().spanId]=h,n(e.fetchData.url)){const y=e.args[0],v=e.args[1]||{},b=pH(y,v,wl()&&p?h:void 0);b&&(e.args[1]=v,v.headers=b)}return h}function pH(e,t,n){const r=i4({span:n}),i=r["sentry-trace"],s=r.baggage;if(!i)return;const l=t.headers||(yH(e)?e.headers:void 0);if(l)if(vH(l)){const c=new Headers(l);if(c.set("sentry-trace",i),s){const d=c.get("baggage");if(d){const u=Im(d);c.set("baggage",u?`${u},${s}`:s)}else c.set("baggage",s)}return c}else if(Array.isArray(l)){const c=[...l.filter(d=>!(Array.isArray(d)&&d[0]==="sentry-trace")).map(d=>{if(Array.isArray(d)&&d[0]==="baggage"&&typeof d[1]=="string"){const[u,p,...h]=d;return[u,Im(p),...h]}else return d}),["sentry-trace",i]];return s&&c.push(["baggage",s]),c}else{const c="baggage"in l?l.baggage:void 0;let d=[];return Array.isArray(c)?d=c.map(u=>typeof u=="string"?Im(u):u).filter(u=>u===""):c&&d.push(Im(c)),s&&d.push(s),{...l,"sentry-trace":i,baggage:d.length>0?d.join(","):void 0}}else return{...r}}function gH(e){try{return new URL(e).href}catch{return}}function mH(e,t){if(t.response){kV(e,t.response.status);const n=t.response&&t.response.headers&&t.response.headers.get("content-length");if(n){const r=parseInt(n);r>0&&e.setAttribute("http.response_content_length",r)}}else t.error&&e.setStatus({code:Ur,message:"internal_error"});e.end()}function Im(e){return e.split(",").filter(t=>!t.split("=")[0].startsWith(xw)).join(",")}function yH(e){return typeof Request<"u"&&To(e,Request)}function vH(e){return typeof Headers<"u"&&To(e,Headers)}function l4(e){if(e!==void 0)return e>=400&&e<500?"warning":e>=500?"error":void 0}const LS=Kt;function c4(){if(!("fetch"in LS))return!1;try{return new Headers,new Request("http://www.example.com"),new Response,!0}catch{return!1}}function FS(e){return e&&/^function\s+\w+\(\)\s+\{\s+\[native code\]\s+\}$/.test(e.toString())}function AH(){if(typeof EdgeRuntime=="string")return!0;if(!c4())return!1;if(FS(LS.fetch))return!0;let e=!1;const t=LS.document;if(t&&typeof t.createElement=="function")try{const n=t.createElement("iframe");n.hidden=!0,t.head.appendChild(n),n.contentWindow&&n.contentWindow.fetch&&(e=FS(n.contentWindow.fetch)),t.head.removeChild(n)}catch(n){Ol&&Be.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",n)}return e}function u4(e,t){const n="fetch";jl(n,e),Pl(n,()=>d4(void 0,t))}function bH(e){const t="fetch-body-resolved";jl(t,e),Pl(t,()=>d4(SH))}function d4(e,t=!1){t&&!AH()||ss(Kt,"fetch",function(n){return function(...r){const{method:i,url:s}=xH(r),l={args:r,fetchData:{method:i,url:s},startTimestamp:si()*1e3};e||Fs("fetch",{...l});const c=new Error().stack;return n.apply(Kt,r).then(async d=>(e?e(d):Fs("fetch",{...l,endTimestamp:si()*1e3,response:d}),d),d=>{throw Fs("fetch",{...l,endTimestamp:si()*1e3,error:d}),tv(d)&&d.stack===void 0&&(d.stack=c,zs(d,"framesToPop",1)),d})}})}async function _H(e,t){if(e&&e.body){const n=e.body,r=n.getReader(),i=setTimeout(()=>{n.cancel().then(null,()=>{})},90*1e3);let s=!0;for(;s;){let l;try{l=setTimeout(()=>{n.cancel().then(null,()=>{})},5e3);const{done:c}=await r.read();clearTimeout(l),c&&(t(),s=!1)}catch{s=!1}finally{clearTimeout(l)}}clearTimeout(i),r.releaseLock(),n.cancel().then(null,()=>{})}}function SH(e){let t;try{t=e.clone()}catch{return}_H(t,()=>{Fs("fetch-body-resolved",{endTimestamp:si()*1e3,response:e})})}function zS(e,t){return!!e&&typeof e=="object"&&!!e[t]}function GR(e){return typeof e=="string"?e:e?zS(e,"url")?e.url:e.toString?e.toString():"":""}function xH(e){if(e.length===0)return{method:"GET",url:""};if(e.length===2){const[n,r]=e;return{url:GR(n),method:zS(r,"method")?String(r.method).toUpperCase():"GET"}}const t=e[0];return{url:GR(t),method:zS(t,"method")?String(t.method).toUpperCase():"GET"}}function wH(){return"npm"}const Om=Kt;function EH(){const e=Om.chrome,t=e&&e.app&&e.app.runtime,n="history"in Om&&!!Om.history.pushState&&!!Om.history.replaceState;return!t&&n}const ut=Kt;let $S=0;function f4(){return $S>0}function TH(){$S++,setTimeout(()=>{$S--})}function $d(e,t={},n){if(typeof e!="function")return e;try{const i=e.__sentry_wrapped__;if(i)return typeof i=="function"?i:e;if(bw(e))return e}catch{return e}const r=function(){const i=Array.prototype.slice.call(arguments);try{const s=i.map(l=>$d(l,t));return e.apply(this,s)}catch(s){throw TH(),sv(l=>{l.addEventProcessor(c=>(t.mechanism&&(kS(c,void 0),mp(c,t.mechanism)),c.extra={...c.extra,arguments:i},c)),ua(s)}),s}};try{for(const i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}catch{}SV(r,e),zs(e,"__sentry_wrapped__",r);try{Object.getOwnPropertyDescriptor(r,"name").configurable&&Object.defineProperty(r,"name",{get(){return e.name}})}catch{}return r}const os=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__;function Tw(e,t){const n=Cw(e,t),r={type:IH(t),value:OH(t)};return n.length&&(r.stacktrace={frames:n}),r.type===void 0&&r.value===""&&(r.value="Unrecoverable error caught"),r}function CH(e,t,n,r){const i=dn(),s=i&&i.getOptions().normalizeDepth,l=BH(t),c={__serialized__:qV(t,s)};if(l)return{exception:{values:[Tw(e,l)]},extra:c};const d={exception:{values:[{type:nv(t)?t.constructor.name:r?"UnhandledRejection":"Error",value:VH(t,{isUnhandledRejection:r})}]},extra:c};if(n){const u=Cw(e,n);u.length&&(d.exception.values[0].stacktrace={frames:u})}return d}function m1(e,t){return{exception:{values:[Tw(e,t)]}}}function Cw(e,t){const n=t.stacktrace||t.stack||"",r=MH(t),i=RH(t);try{return e(n,r,i)}catch{}return[]}const kH=/Minified React error #\d+;/i;function MH(e){return e&&kH.test(e.message)?1:0}function RH(e){return typeof e.framesToPop=="number"?e.framesToPop:0}function h4(e){return typeof WebAssembly<"u"&&typeof WebAssembly.Exception<"u"?e instanceof WebAssembly.Exception:!1}function IH(e){const t=e&&e.name;return!t&&h4(e)?e.message&&Array.isArray(e.message)&&e.message.length==2?e.message[0]:"WebAssembly.Exception":t}function OH(e){const t=e&&e.message;return t?t.error&&typeof t.error.message=="string"?t.error.message:h4(e)&&Array.isArray(e.message)&&e.message.length==2?e.message[1]:t:"No error message"}function jH(e,t,n,r){const i=n&&n.syntheticException||void 0,s=kw(e,t,i,r);return mp(s),s.level="error",n&&n.event_id&&(s.event_id=n.event_id),zc(s)}function PH(e,t,n="info",r,i){const s=r&&r.syntheticException||void 0,l=US(e,t,s,i);return l.level=n,r&&r.event_id&&(l.event_id=r.event_id),zc(l)}function kw(e,t,n,r,i){let s;if(AV(t)&&t.error)return m1(e,t.error);if(hR(t)||y7(t)){const l=t;if("stack"in t)s=m1(e,t);else{const c=l.name||(hR(l)?"DOMError":"DOMException"),d=l.message?`${c}: ${l.message}`:c;s=US(e,d,n,r),kS(s,d)}return"code"in l&&(s.tags={...s.tags,"DOMException.code":`${l.code}`}),s}return tv(t)?m1(e,t):Ld(t)||nv(t)?(s=CH(e,t,n,i),mp(s,{synthetic:!0}),s):(s=US(e,t,n,r),kS(s,`${t}`),mp(s,{synthetic:!0}),s)}function US(e,t,n,r){const i={};if(r&&n){const s=Cw(e,n);s.length&&(i.exception={values:[{value:t,stacktrace:{frames:s}}]})}if(vw(t)){const{__sentry_template_string__:s,__sentry_template_values__:l}=t;return i.logentry={message:s,params:l},i}return i.message=t,i}function VH(e,{isUnhandledRejection:t}){const n=T7(e),r=t?"promise rejection":"exception";return AV(e)?`Event \`ErrorEvent\` captured as ${r} with message \`${e.message}\``:nv(e)?`Event \`${DH(e)}\` (type=${e.type}) captured as ${r}`:`Object captured as ${r} with keys: ${n}`}function DH(e){try{const t=Object.getPrototypeOf(e);return t?t.constructor.name:void 0}catch{}}function BH(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t)){const n=e[t];if(n instanceof Error)return n}}function NH(e,{metadata:t,tunnel:n,dsn:r}){const i={event_id:e.event_id,sent_at:new Date().toISOString(),...t&&t.sdk&&{sdk:{name:t.sdk.name,version:t.sdk.version}},...!!n&&!!r&&{dsn:af(r)}},s=LH(e);return of(i,[s])}function LH(e){return[{type:"user_report"},e]}class FH extends v9{constructor(t){const n={parentSpanIsAlwaysRootSpan:!0,...t},r=ut.SENTRY_SDK_SOURCE||wH();r4(n,"browser",["browser"],r),super(n),n.sendClientReports&&ut.document&&ut.document.addEventListener("visibilitychange",()=>{ut.document.visibilityState==="hidden"&&this._flushOutcomes()})}eventFromException(t,n){return jH(this._options.stackParser,t,n,this._options.attachStacktrace)}eventFromMessage(t,n="info",r){return PH(this._options.stackParser,t,n,r,this._options.attachStacktrace)}captureUserFeedback(t){if(!this._isEnabled()){os&&Be.warn("SDK not enabled, will not capture user feedback.");return}const n=NH(t,{metadata:this.getSdkMetadata(),dsn:this.getDsn(),tunnel:this.getOptions().tunnel});this.sendEnvelope(n)}_prepareEvent(t,n,r){return t.platform=t.platform||"javascript",super._prepareEvent(t,n,r)}}const Mw=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,zH=(e,t)=>e>t[1]?"poor":e>t[0]?"needs-improvement":"good",lf=(e,t,n,r)=>{let i,s;return l=>{t.value>=0&&(l||r)&&(s=t.value-(i||0),(s||i===void 0)&&(i=t.value,t.delta=s,t.rating=zH(t.value,n),e(t)))}},ht=Kt,$H=()=>`v3-${Date.now()}-${Math.floor(Math.random()*(9e12-1))+1e12}`,Np=()=>ht.performance&&performance.getEntriesByType&&performance.getEntriesByType("navigation")[0],Lp=()=>{const e=Np();return e&&e.activationStart||0},cf=(e,t)=>{const n=Np();let r="navigate";return n&&(ht.document&&ht.document.prerendering||Lp()>0?r="prerender":ht.document&&ht.document.wasDiscarded?r="restore":n.type&&(r=n.type.replace(/_/g,"-"))),{name:e,value:typeof t>"u"?-1:t,rating:"good",delta:0,entries:[],id:$H(),navigationType:r}},ru=(e,t,n)=>{try{if(PerformanceObserver.supportedEntryTypes.includes(e)){const r=new PerformanceObserver(i=>{Promise.resolve().then(()=>{t(i.getEntries())})});return r.observe(Object.assign({type:e,buffered:!0},n||{})),r}}catch{}},Fp=e=>{const t=n=>{(n.type==="pagehide"||ht.document&&ht.document.visibilityState==="hidden")&&e(n)};ht.document&&(addEventListener("visibilitychange",t,!0),addEventListener("pagehide",t,!0))},Rw=e=>{let t=!1;return n=>{t||(e(n),t=!0)}};let Ap=-1;const UH=()=>{Ap=ht.document.visibilityState==="hidden"&&!ht.document.prerendering?0:1/0},h0=e=>{ht.document.visibilityState==="hidden"&&Ap>-1&&(Ap=e.type==="visibilitychange"?e.timeStamp:0,removeEventListener("visibilitychange",h0,!0),removeEventListener("prerenderingchange",h0,!0))},HH=()=>{addEventListener("visibilitychange",h0,!0),addEventListener("prerenderingchange",h0,!0)},lv=()=>(ht.document&&Ap<0&&(UH(),HH()),{get firstHiddenTime(){return Ap}}),zp=e=>{ht.document&&ht.document.prerendering?addEventListener("prerenderingchange",()=>e(),!0):e()},qH=[1800,3e3],GH=(e,t={})=>{zp(()=>{const n=lv(),r=cf("FCP");let i;const l=ru("paint",c=>{c.forEach(d=>{d.name==="first-contentful-paint"&&(l.disconnect(),d.startTime<n.firstHiddenTime&&(r.value=Math.max(d.startTime-Lp(),0),r.entries.push(d),i(!0)))})});l&&(i=lf(e,r,qH,t.reportAllChanges))})},YH=[.1,.25],KH=(e,t={})=>{GH(Rw(()=>{const n=cf("CLS",0);let r,i=0,s=[];const l=d=>{d.forEach(u=>{if(!u.hadRecentInput){const p=s[0],h=s[s.length-1];i&&p&&h&&u.startTime-h.startTime<1e3&&u.startTime-p.startTime<5e3?(i+=u.value,s.push(u)):(i=u.value,s=[u])}}),i>n.value&&(n.value=i,n.entries=s,r())},c=ru("layout-shift",l);c&&(r=lf(e,n,YH,t.reportAllChanges),Fp(()=>{l(c.takeRecords()),r(!0)}),setTimeout(r,0))}))},WH=[100,300],QH=(e,t={})=>{zp(()=>{const n=lv(),r=cf("FID");let i;const s=d=>{d.startTime<n.firstHiddenTime&&(r.value=d.processingStart-d.startTime,r.entries.push(d),i(!0))},l=d=>{d.forEach(s)},c=ru("first-input",l);i=lf(e,r,WH,t.reportAllChanges),c&&Fp(Rw(()=>{l(c.takeRecords()),c.disconnect()}))})};let p4=0,y1=1/0,jm=0;const XH=e=>{e.forEach(t=>{t.interactionId&&(y1=Math.min(y1,t.interactionId),jm=Math.max(jm,t.interactionId),p4=jm?(jm-y1)/7+1:0)})};let HS;const JH=()=>HS?p4:performance.interactionCount||0,ZH=()=>{"interactionCount"in performance||HS||(HS=ru("event",XH,{type:"event",buffered:!0,durationThreshold:0}))},eq=[200,500],tq=0,g4=()=>JH()-tq,YR=10,go=[],v1={},KR=e=>{const t=go[go.length-1],n=v1[e.interactionId];if(n||go.length<YR||t&&e.duration>t.latency){if(n)n.entries.push(e),n.latency=Math.max(n.latency,e.duration);else{const r={id:e.interactionId,latency:e.duration,entries:[e]};v1[r.id]=r,go.push(r)}go.sort((r,i)=>i.latency-r.latency),go.splice(YR).forEach(r=>{delete v1[r.id]})}},nq=()=>{const e=Math.min(go.length-1,Math.floor(g4()/50));return go[e]},rq=(e,t={})=>{zp(()=>{ZH();const n=cf("INP");let r;const i=l=>{l.forEach(d=>{d.interactionId&&KR(d),d.entryType==="first-input"&&!go.some(p=>p.entries.some(h=>d.duration===h.duration&&d.startTime===h.startTime))&&KR(d)});const c=nq();c&&c.latency!==n.value&&(n.value=c.latency,n.entries=c.entries,r())},s=ru("event",i,{durationThreshold:t.durationThreshold!=null?t.durationThreshold:40});r=lf(e,n,eq,t.reportAllChanges),s&&("PerformanceEventTiming"in ht&&"interactionId"in PerformanceEventTiming.prototype&&s.observe({type:"first-input",buffered:!0}),Fp(()=>{i(s.takeRecords()),n.value<0&&g4()>0&&(n.value=0,n.entries=[]),r(!0)}))})},iq=[2500,4e3],WR={},sq=(e,t={})=>{zp(()=>{const n=lv(),r=cf("LCP");let i;const s=c=>{const d=c[c.length-1];d&&d.startTime<n.firstHiddenTime&&(r.value=Math.max(d.startTime-Lp(),0),r.entries=[d],i())},l=ru("largest-contentful-paint",s);if(l){i=lf(e,r,iq,t.reportAllChanges);const c=Rw(()=>{WR[r.id]||(s(l.takeRecords()),l.disconnect(),WR[r.id]=!0,i(!0))});["keydown","click"].forEach(d=>{ht.document&&addEventListener(d,()=>setTimeout(c,0),!0)}),Fp(c)}})},aq=[800,1800],qS=e=>{ht.document&&ht.document.prerendering?zp(()=>qS(e)):ht.document&&ht.document.readyState!=="complete"?addEventListener("load",()=>qS(e),!0):setTimeout(e,0)},oq=(e,t={})=>{const n=cf("TTFB"),r=lf(e,n,aq,t.reportAllChanges);qS(()=>{const i=Np();if(i){const s=i.responseStart;if(s<=0||s>performance.now())return;n.value=Math.max(s-Lp(),0),n.entries=[i],r(!0)}})},tp={},p0={};let m4,y4,v4,A4,b4;function _4(e,t=!1){return $p("cls",e,fq,m4,t)}function lq(e,t=!1){return $p("lcp",e,pq,v4,t)}function cq(e){return $p("fid",e,hq,y4)}function uq(e){return $p("ttfb",e,gq,A4)}function dq(e){return $p("inp",e,mq,b4)}function bp(e,t){return S4(e,t),p0[e]||(yq(e),p0[e]=!0),x4(e,t)}function uf(e,t){const n=tp[e];if(!(!n||!n.length))for(const r of n)try{r(t)}catch(i){Mw&&Be.error(`Error while triggering instrumentation handler.
Type: ${e}
Name: ${Eo(r)}
Error:`,i)}}function fq(){return KH(e=>{uf("cls",{metric:e}),m4=e},{reportAllChanges:!0})}function hq(){return QH(e=>{uf("fid",{metric:e}),y4=e})}function pq(){return sq(e=>{uf("lcp",{metric:e}),v4=e},{reportAllChanges:!0})}function gq(){return oq(e=>{uf("ttfb",{metric:e}),A4=e})}function mq(){return rq(e=>{uf("inp",{metric:e}),b4=e})}function $p(e,t,n,r,i=!1){S4(e,t);let s;return p0[e]||(s=n(),p0[e]=!0),r&&t({metric:r}),x4(e,t,i?s:void 0)}function yq(e){const t={};e==="event"&&(t.durationThreshold=0),ru(e,n=>{uf(e,{entries:n})},t)}function S4(e,t){tp[e]=tp[e]||[],tp[e].push(t)}function x4(e,t,n){return()=>{n&&n();const r=tp[e];if(!r)return;const i=r.indexOf(t);i!==-1&&r.splice(i,1)}}function vq(e){return"duration"in e}function A1(e){return typeof e=="number"&&isFinite(e)}function Co(e,t,n,{...r}){const i=ln(e).start_timestamp;return i&&i>t&&typeof e.updateStartTime=="function"&&e.updateStartTime(t),d0(e,()=>{const s=_l({startTime:t,...r});return s&&s.end(n),s})}function w4(e){const t=dn();if(!t)return;const{name:n,transaction:r,attributes:i,startTime:s}=e,{release:l,environment:c}=t.getOptions(),d=t.getIntegrationByName("Replay"),u=d&&d.getReplayId(),p=Dn(),h=p.getUser(),y=h!==void 0?h.email||h.id||h.ip_address:void 0;let v;try{v=p.getScopeData().contexts.profile.profile_id}catch{}const b={release:l,environment:c,user:y||void 0,profile_id:v||void 0,replay_id:u||void 0,transaction:r,"user_agent.original":ht.navigator&&ht.navigator.userAgent,...i};return _l({name:n,attributes:b,startTime:s,experimental:{standalone:!0}})}function Iw(){return ht&&ht.addEventListener&&ht.performance}function vr(e){return e/1e3}function Aq(){let e=0,t,n;if(!_q())return;let r=!1;function i(){r||(r=!0,n&&bq(e,t,n),s())}const s=_4(({metric:l})=>{const c=l.entries[l.entries.length-1];c&&(e=l.value,t=c)},!0);Fp(()=>{i()}),setTimeout(()=>{const l=dn();if(!l)return;const c=l.on("startNavigationSpan",()=>{i(),c&&c()}),d=gi(),u=d&&hi(d),p=u&&ln(u);p&&p.op==="pageload"&&(n=u.spanContext().spanId)},0)}function bq(e,t,n){Mw&&Be.log(`Sending CLS span (${e})`);const r=vr((qi||0)+(t&&t.startTime||0)),i=Dn().getScopeData().transactionName,s=t?Fc(t.sources[0]&&t.sources[0].node):"Layout shift",l=ii({[Ar]:"auto.http.browser.cls",[$c]:"ui.webvital.cls",[Sw]:t&&t.duration||0,"sentry.pageload.span_id":n}),c=w4({name:s,transaction:i,attributes:l,startTime:r});c&&(c.addEvent("cls",{[av]:"",[ov]:e}),c.end(r))}function _q(){try{return PerformanceObserver.supportedEntryTypes.includes("layout-shift")}catch{return!1}}const Sq=2147483647;let QR=0,Zr={},Ni,np;function xq({recordClsStandaloneSpans:e}){const t=Iw();if(t&&qi){t.mark&&ht.performance.mark("sentry-tracing-init");const n=Mq(),r=kq(),i=Rq(),s=e?Aq():Cq();return()=>{n(),r(),i(),s&&s()}}return()=>{}}function wq(){bp("longtask",({entries:e})=>{const t=gi();if(!t)return;const{op:n,start_timestamp:r}=ln(t);for(const i of e){const s=vr(qi+i.startTime),l=vr(i.duration);n==="navigation"&&r&&s<r||Co(t,s,s+l,{name:"Main UI thread blocked",op:"ui.long-task",attributes:{[Ar]:"auto.ui.browser.metrics"}})}})}function Eq(){new PerformanceObserver(t=>{const n=gi();if(n)for(const r of t.getEntries()){if(!r.scripts[0])continue;const i=vr(qi+r.startTime),{start_timestamp:s,op:l}=ln(n);if(l==="navigation"&&s&&i<s)continue;const c=vr(r.duration),d={[Ar]:"auto.ui.browser.metrics"},u=r.scripts[0],{invoker:p,invokerType:h,sourceURL:y,sourceFunctionName:v,sourceCharPosition:b}=u;d["browser.script.invoker"]=p,d["browser.script.invoker_type"]=h,y&&(d["code.filepath"]=y),v&&(d["code.function"]=v),b!==-1&&(d["browser.script.source_char_position"]=b),Co(n,i,i+c,{name:"Main UI thread blocked",op:"ui.long-animation-frame",attributes:d})}}).observe({type:"long-animation-frame",buffered:!0})}function Tq(){bp("event",({entries:e})=>{const t=gi();if(t){for(const n of e)if(n.name==="click"){const r=vr(qi+n.startTime),i=vr(n.duration),s={name:Fc(n.target),op:`ui.interaction.${n.name}`,startTime:r,attributes:{[Ar]:"auto.ui.browser.metrics"}},l=_V(n.target);l&&(s.attributes["ui.component_name"]=l),Co(t,r,r+i,s)}}})}function Cq(){return _4(({metric:e})=>{const t=e.entries[e.entries.length-1];t&&(Zr.cls={value:e.value,unit:""},np=t)},!0)}function kq(){return lq(({metric:e})=>{const t=e.entries[e.entries.length-1];t&&(Zr.lcp={value:e.value,unit:"millisecond"},Ni=t)},!0)}function Mq(){return cq(({metric:e})=>{const t=e.entries[e.entries.length-1];if(!t)return;const n=vr(qi),r=vr(t.startTime);Zr.fid={value:e.value,unit:"millisecond"},Zr["mark.fid"]={value:n+r,unit:"second"}})}function Rq(){return uq(({metric:e})=>{e.entries[e.entries.length-1]&&(Zr.ttfb={value:e.value,unit:"millisecond"})})}function Iq(e,t){const n=Iw();if(!n||!ht.performance.getEntries||!qi)return;const r=vr(qi),i=n.getEntries(),{op:s,start_timestamp:l}=ln(e);if(i.slice(QR).forEach(c=>{const d=vr(c.startTime),u=vr(Math.max(0,c.duration));if(!(s==="navigation"&&l&&r+d<l))switch(c.entryType){case"navigation":{jq(e,c,r);break}case"mark":case"paint":case"measure":{Oq(e,c,d,u,r);const p=lv(),h=c.startTime<p.firstHiddenTime;c.name==="first-paint"&&h&&(Zr.fp={value:c.startTime,unit:"millisecond"}),c.name==="first-contentful-paint"&&h&&(Zr.fcp={value:c.startTime,unit:"millisecond"});break}case"resource":{Vq(e,c,c.name,d,u,r);break}}}),QR=Math.max(i.length-1,0),Dq(e),s==="pageload"){Nq(Zr);const c=Zr["mark.fid"];c&&Zr.fid&&(Co(e,c.value,c.value+vr(Zr.fid.value),{name:"first input delay",op:"ui.action",attributes:{[Ar]:"auto.ui.browser.metrics"}}),delete Zr["mark.fid"]),(!("fcp"in Zr)||!t.recordClsOnPageloadSpan)&&delete Zr.cls,Object.entries(Zr).forEach(([d,u])=>{MU(d,u.value,u.unit)}),e.setAttribute("performance.timeOrigin",r),e.setAttribute("performance.activationStart",Lp()),Bq(e)}Ni=void 0,np=void 0,Zr={}}function Oq(e,t,n,r,i){const s=Np(),l=vr(s?s.requestStart:0),c=i+Math.max(n,l),d=i+n,u=d+r,p={[Ar]:"auto.resource.browser.metrics"};return c!==d&&(p["sentry.browser.measure_happened_before_request"]=!0,p["sentry.browser.measure_start_time"]=c),Co(e,c,u,{name:t.name,op:t.entryType,attributes:p}),c}function jq(e,t,n){["unloadEvent","redirect","domContentLoadedEvent","loadEvent","connect"].forEach(r=>{Pm(e,t,r,n)}),Pm(e,t,"secureConnection",n,"TLS/SSL","connectEnd"),Pm(e,t,"fetch",n,"cache","domainLookupStart"),Pm(e,t,"domainLookup",n,"DNS"),Pq(e,t,n)}function Pm(e,t,n,r,i,s){const l=s?t[s]:t[`${n}End`],c=t[`${n}Start`];!c||!l||Co(e,r+vr(c),r+vr(l),{op:`browser.${i||n}`,name:t.name,attributes:{[Ar]:"auto.ui.browser.metrics"}})}function Pq(e,t,n){const r=n+vr(t.requestStart),i=n+vr(t.responseEnd),s=n+vr(t.responseStart);t.responseEnd&&(Co(e,r,i,{op:"browser.request",name:t.name,attributes:{[Ar]:"auto.ui.browser.metrics"}}),Co(e,s,i,{op:"browser.response",name:t.name,attributes:{[Ar]:"auto.ui.browser.metrics"}}))}function Vq(e,t,n,r,i,s){if(t.initiatorType==="xmlhttprequest"||t.initiatorType==="fetch")return;const l=Ic(n),c={[Ar]:"auto.resource.browser.metrics"};b1(c,t,"transferSize","http.response_transfer_size"),b1(c,t,"encodedBodySize","http.response_content_length"),b1(c,t,"decodedBodySize","http.decoded_response_content_length"),t.deliveryType!=null&&(c["http.response_delivery_type"]=t.deliveryType),"renderBlockingStatus"in t&&(c["resource.render_blocking_status"]=t.renderBlockingStatus),l.protocol&&(c["url.scheme"]=l.protocol.split(":").pop()),l.host&&(c["server.address"]=l.host),c["url.same_origin"]=n.includes(ht.location.origin);const d=s+r,u=d+i;Co(e,d,u,{name:n.replace(ht.location.origin,""),op:t.initiatorType?`resource.${t.initiatorType}`:"resource.other",attributes:c})}function Dq(e){const t=ht.navigator;if(!t)return;const n=t.connection;n&&(n.effectiveType&&e.setAttribute("effectiveConnectionType",n.effectiveType),n.type&&e.setAttribute("connectionType",n.type),A1(n.rtt)&&(Zr["connection.rtt"]={value:n.rtt,unit:"millisecond"})),A1(t.deviceMemory)&&e.setAttribute("deviceMemory",`${t.deviceMemory} GB`),A1(t.hardwareConcurrency)&&e.setAttribute("hardwareConcurrency",String(t.hardwareConcurrency))}function Bq(e){Ni&&(Ni.element&&e.setAttribute("lcp.element",Fc(Ni.element)),Ni.id&&e.setAttribute("lcp.id",Ni.id),Ni.url&&e.setAttribute("lcp.url",Ni.url.trim().slice(0,200)),Ni.loadTime!=null&&e.setAttribute("lcp.loadTime",Ni.loadTime),Ni.renderTime!=null&&e.setAttribute("lcp.renderTime",Ni.renderTime),e.setAttribute("lcp.size",Ni.size)),np&&np.sources&&np.sources.forEach((t,n)=>e.setAttribute(`cls.source.${n+1}`,Fc(t.node)))}function b1(e,t,n,r){const i=t[n];i!=null&&i<Sq&&(e[r]=i)}function Nq(e){const t=Np();if(!t)return;const{responseStart:n,requestStart:r}=t;r<=n&&(e["ttfb.requestTime"]={value:n-r,unit:"millisecond"})}const Lq=1e3;let XR,GS,YS;function Fq(e){const t="dom";jl(t,e),Pl(t,zq)}function zq(){if(!ht.document)return;const e=Fs.bind(null,"dom"),t=JR(e,!0);ht.document.addEventListener("click",t,!1),ht.document.addEventListener("keypress",t,!1),["EventTarget","Node"].forEach(n=>{const r=ht[n]&&ht[n].prototype;!r||!r.hasOwnProperty||!r.hasOwnProperty("addEventListener")||(ss(r,"addEventListener",function(i){return function(s,l,c){if(s==="click"||s=="keypress")try{const d=this,u=d.__sentry_instrumentation_handlers__=d.__sentry_instrumentation_handlers__||{},p=u[s]=u[s]||{refCount:0};if(!p.handler){const h=JR(e);p.handler=h,i.call(this,s,h,c)}p.refCount++}catch{}return i.call(this,s,l,c)}}),ss(r,"removeEventListener",function(i){return function(s,l,c){if(s==="click"||s=="keypress")try{const d=this,u=d.__sentry_instrumentation_handlers__||{},p=u[s];p&&(p.refCount--,p.refCount<=0&&(i.call(this,s,p.handler,c),p.handler=void 0,delete u[s]),Object.keys(u).length===0&&delete d.__sentry_instrumentation_handlers__)}catch{}return i.call(this,s,l,c)}}))})}function $q(e){if(e.type!==GS)return!1;try{if(!e.target||e.target._sentryId!==YS)return!1}catch{}return!0}function Uq(e,t){return e!=="keypress"?!1:!t||!t.tagName?!0:!(t.tagName==="INPUT"||t.tagName==="TEXTAREA"||t.isContentEditable)}function JR(e,t=!1){return n=>{if(!n||n._sentryCaptured)return;const r=Hq(n);if(Uq(n.type,r))return;zs(n,"_sentryCaptured",!0),r&&!r._sentryId&&zs(r,"_sentryId",jr());const i=n.type==="keypress"?"input":n.type;$q(n)||(e({event:n,name:i,global:t}),GS=n.type,YS=r?r._sentryId:void 0),clearTimeout(XR),XR=ht.setTimeout(()=>{YS=void 0,GS=void 0},Lq)}}function Hq(e){try{return e.target}catch{return null}}let Vm;function Ow(e){const t="history";jl(t,e),Pl(t,qq)}function qq(){if(!EH())return;const e=ht.onpopstate;ht.onpopstate=function(...n){const r=ht.location.href,i=Vm;if(Vm=r,Fs("history",{from:i,to:r}),e)try{return e.apply(this,n)}catch{}};function t(n){return function(...r){const i=r.length>2?r[2]:void 0;if(i){const s=Vm,l=String(i);Vm=l,Fs("history",{from:s,to:l})}return n.apply(this,r)}}ss(ht.history,"pushState",t),ss(ht.history,"replaceState",t)}const xy={};function Gq(e){const t=xy[e];if(t)return t;let n=ht[e];if(FS(n))return xy[e]=n.bind(ht);const r=ht.document;if(r&&typeof r.createElement=="function")try{const i=r.createElement("iframe");i.hidden=!0,r.head.appendChild(i);const s=i.contentWindow;s&&s[e]&&(n=s[e]),r.head.removeChild(i)}catch(i){Mw&&Be.warn(`Could not create sandbox iframe for ${e} check, bailing to window.${e}: `,i)}return n&&(xy[e]=n.bind(ht))}function ZR(e){xy[e]=void 0}const hd="__sentry_xhr_v3__";function E4(e){const t="xhr";jl(t,e),Pl(t,Yq)}function Yq(){if(!ht.XMLHttpRequest)return;const e=XMLHttpRequest.prototype;e.open=new Proxy(e.open,{apply(t,n,r){const i=si()*1e3,s=So(r[0])?r[0].toUpperCase():void 0,l=Kq(r[1]);if(!s||!l)return t.apply(n,r);n[hd]={method:s,url:l,request_headers:{}},s==="POST"&&l.match(/sentry_key/)&&(n.__sentry_own_request__=!0);const c=()=>{const d=n[hd];if(d&&n.readyState===4){try{d.status_code=n.status}catch{}const u={endTimestamp:si()*1e3,startTimestamp:i,xhr:n};Fs("xhr",u)}};return"onreadystatechange"in n&&typeof n.onreadystatechange=="function"?n.onreadystatechange=new Proxy(n.onreadystatechange,{apply(d,u,p){return c(),d.apply(u,p)}}):n.addEventListener("readystatechange",c),n.setRequestHeader=new Proxy(n.setRequestHeader,{apply(d,u,p){const[h,y]=p,v=u[hd];return v&&So(h)&&So(y)&&(v.request_headers[h.toLowerCase()]=y),d.apply(u,p)}}),t.apply(n,r)}}),e.send=new Proxy(e.send,{apply(t,n,r){const i=n[hd];if(!i)return t.apply(n,r);r[0]!==void 0&&(i.body=r[0]);const s={startTimestamp:si()*1e3,xhr:n};return Fs("xhr",s),t.apply(n,r)}})}function Kq(e){if(So(e))return e;try{return e.toString()}catch{}}const _1=[],wy=new Map;function Wq(){if(Iw()&&qi){const t=Qq();return()=>{t()}}return()=>{}}const e5={click:"click",pointerdown:"click",pointerup:"click",mousedown:"click",mouseup:"click",touchstart:"click",touchend:"click",mouseover:"hover",mouseout:"hover",mouseenter:"hover",mouseleave:"hover",pointerover:"hover",pointerout:"hover",pointerenter:"hover",pointerleave:"hover",dragstart:"drag",dragend:"drag",drag:"drag",dragenter:"drag",dragleave:"drag",dragover:"drag",drop:"drag",keydown:"press",keyup:"press",keypress:"press",input:"press"};function Qq(){return dq(({metric:e})=>{if(e.value==null)return;const t=e.entries.find(b=>b.duration===e.value&&e5[b.name]);if(!t)return;const{interactionId:n}=t,r=e5[t.name],i=vr(qi+t.startTime),s=vr(e.value),l=gi(),c=l?hi(l):void 0,u=(n!=null?wy.get(n):void 0)||c,p=u?ln(u).description:Dn().getScopeData().transactionName,h=Fc(t.target),y=ii({[Ar]:"auto.http.browser.inp",[$c]:`ui.interaction.${r}`,[Sw]:t.duration}),v=w4({name:h,transaction:p,attributes:y,startTime:i});v&&(v.addEvent("inp",{[av]:"millisecond",[ov]:e.value}),v.end(i+s))})}function Xq(e){const t=({entries:n})=>{const r=gi(),i=r&&hi(r);n.forEach(s=>{if(!vq(s)||!i)return;const l=s.interactionId;if(l!=null&&!wy.has(l)){if(_1.length>10){const c=_1.shift();wy.delete(c)}_1.push(l),wy.set(l,i)}})};bp("event",t),bp("first-input",t)}function Jq(e,t=Gq("fetch")){let n=0,r=0;function i(s){const l=s.body.length;n+=l,r++;const c={body:s.body,method:"POST",referrerPolicy:"origin",headers:e.headers,keepalive:n<=6e4&&r<15,...e.fetchOptions};if(!t)return ZR("fetch"),c0("No fetch implementation available");try{return t(e.url,c).then(d=>(n-=l,r--,{statusCode:d.status,headers:{"x-sentry-rate-limits":d.headers.get("X-Sentry-Rate-Limits"),"retry-after":d.headers.get("Retry-After")}}))}catch(d){return ZR("fetch"),n-=l,r--,c0(d)}}return R9(e,i)}const Zq=30,eG=50;function KS(e,t,n,r){const i={filename:e,function:t==="<anonymous>"?Lc:t,in_app:!0};return n!==void 0&&(i.lineno=n),r!==void 0&&(i.colno=r),i}const tG=/^\s*at (\S+?)(?::(\d+))(?::(\d+))\s*$/i,nG=/^\s*at (?:(.+?\)(?: \[.+\])?|.*?) ?\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,rG=/\((\S*)(?::(\d+))(?::(\d+))\)/,iG=e=>{const t=tG.exec(e);if(t){const[,r,i,s]=t;return KS(r,Lc,+i,+s)}const n=nG.exec(e);if(n){if(n[2]&&n[2].indexOf("eval")===0){const l=rG.exec(n[2]);l&&(n[2]=l[1],n[3]=l[2],n[4]=l[3])}const[i,s]=T4(n[1]||Lc,n[2]);return KS(s,i,n[3]?+n[3]:void 0,n[4]?+n[4]:void 0)}},sG=[Zq,iG],aG=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:[-a-z]+)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,oG=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,lG=e=>{const t=aG.exec(e);if(t){if(t[3]&&t[3].indexOf(" > eval")>-1){const s=oG.exec(t[3]);s&&(t[1]=t[1]||"eval",t[3]=s[1],t[4]=s[2],t[5]="")}let r=t[3],i=t[1]||Lc;return[i,r]=T4(i,r),KS(r,i,t[4]?+t[4]:void 0,t[5]?+t[5]:void 0)}},cG=[eG,lG],uG=[sG,cG],dG=gV(...uG),T4=(e,t)=>{const n=e.indexOf("safari-extension")!==-1,r=e.indexOf("safari-web-extension")!==-1;return n||r?[e.indexOf("@")!==-1?e.split("@")[0]:Lc,n?`safari-extension:${t}`:`safari-web-extension:${t}`]:[e,t]},Dm=1024,fG="Breadcrumbs",hG=(e={})=>{const t={console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0,...e};return{name:fG,setup(n){t.console&&nH(yG(n)),t.dom&&Fq(mG(n,t.dom)),t.xhr&&E4(vG(n)),t.fetch&&u4(AG(n)),t.history&&Ow(bG(n)),t.sentry&&n.on("beforeSendEvent",gG(n))}}},pG=hG;function gG(e){return function(n){dn()===e&&Uc({category:`sentry.${n.type==="transaction"?"transaction":"event"}`,event_id:n.event_id,level:n.level,message:hl(n)},{event:n})}}function mG(e,t){return function(r){if(dn()!==e)return;let i,s,l=typeof t=="object"?t.serializeAttribute:void 0,c=typeof t=="object"&&typeof t.maxStringLength=="number"?t.maxStringLength:void 0;c&&c>Dm&&(os&&Be.warn(`\`dom.maxStringLength\` cannot exceed ${Dm}, but a value of ${c} was configured. Sentry will use ${Dm} instead.`),c=Dm),typeof l=="string"&&(l=[l]);try{const u=r.event,p=_G(u)?u.target:u;i=Fc(p,{keyAttrs:l,maxStringLength:c}),s=_V(p)}catch{i="<unknown>"}if(i.length===0)return;const d={category:`ui.${r.name}`,message:i};s&&(d.data={"ui.component_name":s}),Uc(d,{event:r.event,name:r.name,global:r.global})}}function yG(e){return function(n){if(dn()!==e)return;const r={category:"console",data:{arguments:n.args,logger:"console"},level:iH(n.level),message:pR(n.args," ")};if(n.level==="assert")if(n.args[0]===!1)r.message=`Assertion failed: ${pR(n.args.slice(1)," ")||"console.assert"}`,r.data.arguments=n.args.slice(1);else return;Uc(r,{input:n.args,level:n.level})}}function vG(e){return function(n){if(dn()!==e)return;const{startTimestamp:r,endTimestamp:i}=n,s=n.xhr[hd];if(!r||!i||!s)return;const{method:l,url:c,status_code:d,body:u}=s,p={method:l,url:c,status_code:d},h={xhr:n.xhr,input:u,startTimestamp:r,endTimestamp:i},y=l4(d);Uc({category:"xhr",data:p,type:"http",level:y},h)}}function AG(e){return function(n){if(dn()!==e)return;const{startTimestamp:r,endTimestamp:i}=n;if(i&&!(n.fetchData.url.match(/sentry_key/)&&n.fetchData.method==="POST"))if(n.error){const s=n.fetchData,l={data:n.error,input:n.args,startTimestamp:r,endTimestamp:i};Uc({category:"fetch",data:s,level:"error",type:"http"},l)}else{const s=n.response,l={...n.fetchData,status_code:s&&s.status},c={input:n.args,response:s,startTimestamp:r,endTimestamp:i},d=l4(l.status_code);Uc({category:"fetch",data:l,type:"http",level:d},c)}}}function bG(e){return function(n){if(dn()!==e)return;let r=n.from,i=n.to;const s=Ic(ut.location.href);let l=r?Ic(r):void 0;const c=Ic(i);(!l||!l.path)&&(l=s),s.protocol===c.protocol&&s.host===c.host&&(i=c.relative),s.protocol===l.protocol&&s.host===l.host&&(r=l.relative),Uc({category:"navigation",data:{from:r,to:i}})}}function _G(e){return!!e&&!!e.target}const SG=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","BroadcastChannel","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","SharedWorker","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],xG="BrowserApiErrors",wG=(e={})=>{const t={XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0,...e};return{name:xG,setupOnce(){t.setTimeout&&ss(ut,"setTimeout",t5),t.setInterval&&ss(ut,"setInterval",t5),t.requestAnimationFrame&&ss(ut,"requestAnimationFrame",TG),t.XMLHttpRequest&&"XMLHttpRequest"in ut&&ss(XMLHttpRequest.prototype,"send",CG);const n=t.eventTarget;n&&(Array.isArray(n)?n:SG).forEach(kG)}}},EG=wG;function t5(e){return function(...t){const n=t[0];return t[0]=$d(n,{mechanism:{data:{function:Eo(e)},handled:!1,type:"instrument"}}),e.apply(this,t)}}function TG(e){return function(t){return e.apply(this,[$d(t,{mechanism:{data:{function:"requestAnimationFrame",handler:Eo(e)},handled:!1,type:"instrument"}})])}}function CG(e){return function(...t){const n=this;return["onload","onerror","onprogress","onreadystatechange"].forEach(i=>{i in n&&typeof n[i]=="function"&&ss(n,i,function(s){const l={mechanism:{data:{function:i,handler:Eo(s)},handled:!1,type:"instrument"}},c=bw(s);return c&&(l.mechanism.data.handler=Eo(c)),$d(s,l)})}),e.apply(this,t)}}function kG(e){const t=ut,n=t[e]&&t[e].prototype;!n||!n.hasOwnProperty||!n.hasOwnProperty("addEventListener")||(ss(n,"addEventListener",function(r){return function(i,s,l){try{typeof s.handleEvent=="function"&&(s.handleEvent=$d(s.handleEvent,{mechanism:{data:{function:"handleEvent",handler:Eo(s),target:e},handled:!1,type:"instrument"}}))}catch{}return r.apply(this,[i,$d(s,{mechanism:{data:{function:"addEventListener",handler:Eo(s),target:e},handled:!1,type:"instrument"}}),l])}}),ss(n,"removeEventListener",function(r){return function(i,s,l){const c=s;try{const d=c&&c.__sentry_wrapped__;d&&r.call(this,i,d,l)}catch{}return r.call(this,i,c,l)}}))}const MG="GlobalHandlers",RG=(e={})=>{const t={onerror:!0,onunhandledrejection:!0,...e};return{name:MG,setupOnce(){Error.stackTraceLimit=50},setup(n){t.onerror&&(OG(n),n5("onerror")),t.onunhandledrejection&&(jG(n),n5("onunhandledrejection"))}}},IG=RG;function OG(e){mV(t=>{const{stackParser:n,attachStacktrace:r}=C4();if(dn()!==e||f4())return;const{msg:i,url:s,line:l,column:c,error:d}=t,u=DG(kw(n,d||i,void 0,r,!1),s,l,c);u.level="error",QV(u,{originalException:d,mechanism:{handled:!1,type:"onerror"}})})}function jG(e){yV(t=>{const{stackParser:n,attachStacktrace:r}=C4();if(dn()!==e||f4())return;const i=PG(t),s=Aw(i)?VG(i):kw(n,i,void 0,r,!0);s.level="error",QV(s,{originalException:i,mechanism:{handled:!1,type:"onunhandledrejection"}})})}function PG(e){if(Aw(e))return e;try{if("reason"in e)return e.reason;if("detail"in e&&"reason"in e.detail)return e.detail.reason}catch{}return e}function VG(e){return{exception:{values:[{type:"UnhandledRejection",value:`Non-Error promise rejection captured with value: ${String(e)}`}]}}}function DG(e,t,n,r){const i=e.exception=e.exception||{},s=i.values=i.values||[],l=s[0]=s[0]||{},c=l.stacktrace=l.stacktrace||{},d=c.frames=c.frames||[],u=isNaN(parseInt(r,10))?void 0:r,p=isNaN(parseInt(n,10))?void 0:n,h=So(t)&&t.length>0?t:x7();return d.length===0&&d.push({colno:u,filename:h,function:Lc,in_app:!0,lineno:p}),e}function n5(e){os&&Be.log(`Global Handler attached: ${e}`)}function C4(){const e=dn();return e&&e.getOptions()||{stackParser:()=>[],attachStacktrace:!1}}const BG=()=>({name:"HttpContext",preprocessEvent(e){if(!ut.navigator&&!ut.location&&!ut.document)return;const t=e.request&&e.request.url||ut.location&&ut.location.href,{referrer:n}=ut.document||{},{userAgent:r}=ut.navigator||{},i={...e.request&&e.request.headers,...n&&{Referer:n},...r&&{"User-Agent":r}},s={...e.request,...t&&{url:t},headers:i};e.request=s}}),NG="cause",LG=5,FG="LinkedErrors",zG=(e={})=>{const t=e.limit||LG,n=e.key||NG;return{name:FG,preprocessEvent(r,i,s){const l=s.getOptions();Q9(Tw,l.stackParser,l.maxValueLength,n,t,r,i)}}},$G=zG;function UG(e){return[L9(),V9(),EG(),pG(),IG(),$G(),oH(),BG()]}function HG(e={}){const t={defaultIntegrations:UG(),release:typeof __SENTRY_RELEASE__=="string"?__SENTRY_RELEASE__:ut.SENTRY_RELEASE&&ut.SENTRY_RELEASE.id?ut.SENTRY_RELEASE.id:void 0,autoSessionTracking:!0,sendClientReports:!0};return e.defaultIntegrations==null&&delete e.defaultIntegrations,{...t,...e}}function qG(){const e=typeof ut.window<"u"&&ut;if(!e)return!1;const t=e.chrome?"chrome":"browser",n=e[t],r=n&&n.runtime&&n.runtime.id,i=ut.location&&ut.location.href||"",s=["chrome-extension:","moz-extension:","ms-browser-extension:","safari-web-extension:"],l=!!r&&ut===ut.top&&s.some(d=>i.startsWith(`${d}//`)),c=typeof e.nw<"u";return!!r&&!l&&!c}function GG(e={}){const t=HG(e);if(!t.skipBrowserExtensionCheck&&qG()){eu(()=>{console.error("[Sentry] You cannot run Sentry this way in a browser extension, check: https://docs.sentry.io/platforms/javascript/best-practices/browser-extensions/")});return}os&&(c4()||Be.warn("No Fetch API detected. The Sentry SDK requires a Fetch API compatible environment to send events. Please add a Fetch API polyfill."));const n={...t,stackParser:h7(t.stackParser||dG),integrations:g9(t),transport:t.transport||Jq},r=_9(FH,n);return t.autoSessionTracking&&YG(),r}function r5(e={}){if(!ut.document){os&&Be.error("Global document not defined in showReportDialog call");return}const t=Dn(),n=t.getClient(),r=n&&n.getDsn();if(!r){os&&Be.error("DSN not configured for showReportDialog call");return}if(t&&(e.user={...t.getUser(),...e.user}),!e.eventId){const c=o9();c&&(e.eventId=c)}const i=ut.document.createElement("script");i.async=!0,i.crossOrigin="anonymous",i.src=h9(r,e),e.onLoad&&(i.onload=e.onLoad);const{onClose:s}=e;if(s){const c=d=>{if(d.data==="__sentry_reportdialog_closed__")try{s()}finally{ut.removeEventListener("message",c)}};ut.addEventListener("message",c)}const l=ut.document.head||ut.document.body;l?l.appendChild(i):os&&Be.error("Not injecting report dialog. No injection point found in HTML")}function YG(){if(typeof ut.document>"u"){os&&Be.warn("Session tracking in non-browser environment with @sentry/browser is not supported.");return}jR({ignoreDuration:!0}),PR(),Ow(({from:e,to:t})=>{e!==void 0&&e!==t&&(jR({ignoreDuration:!0}),PR())})}const i5=new WeakMap,S1=new Map,Ey={traceFetch:!0,traceXHR:!0,enableHTTPTimings:!0,trackFetchStreamPerformance:!1};function KG(e,t){const{traceFetch:n,traceXHR:r,trackFetchStreamPerformance:i,shouldCreateSpanForRequest:s,enableHTTPTimings:l,tracePropagationTargets:c}={traceFetch:Ey.traceFetch,traceXHR:Ey.traceXHR,trackFetchStreamPerformance:Ey.trackFetchStreamPerformance,...t},d=typeof s=="function"?s:h=>!0,u=h=>JG(h,c),p={};n&&(e.addEventProcessor(h=>(h.type==="transaction"&&h.spans&&h.spans.forEach(y=>{if(y.op==="http.client"){const v=S1.get(y.span_id);v&&(y.timestamp=v/1e3,S1.delete(y.span_id))}}),h)),i&&bH(h=>{if(h.response){const y=i5.get(h.response);y&&h.endTimestamp&&S1.set(y,h.endTimestamp)}}),u4(h=>{const y=hH(h,d,u,p);if(h.response&&h.fetchData.__span&&i5.set(h.response,h.fetchData.__span),y){const v=k4(h.fetchData.url),b=v?Ic(v).host:void 0;y.setAttributes({"http.url":v,"server.address":b})}l&&y&&s5(y)})),r&&E4(h=>{const y=ZG(h,d,u,p);l&&y&&s5(y)})}function WG(e){return e.entryType==="resource"&&"initiatorType"in e&&typeof e.nextHopProtocol=="string"&&(e.initiatorType==="fetch"||e.initiatorType==="xmlhttprequest")}function s5(e){const{url:t}=ln(e).data||{};if(!t||typeof t!="string")return;const n=bp("resource",({entries:r})=>{r.forEach(i=>{WG(i)&&i.name.endsWith(t)&&(XG(i).forEach(l=>e.setAttribute(...l)),setTimeout(n))})})}function QG(e){let t="unknown",n="unknown",r="";for(const i of e){if(i==="/"){[t,n]=e.split("/");break}if(!isNaN(Number(i))){t=r==="h"?"http":r,n=e.split(r)[1];break}r+=i}return r===e&&(t=r),{name:t,version:n}}function ba(e=0){return((qi||performance.timeOrigin)+e)/1e3}function XG(e){const{name:t,version:n}=QG(e.nextHopProtocol),r=[];return r.push(["network.protocol.version",n],["network.protocol.name",t]),qi?[...r,["http.request.redirect_start",ba(e.redirectStart)],["http.request.fetch_start",ba(e.fetchStart)],["http.request.domain_lookup_start",ba(e.domainLookupStart)],["http.request.domain_lookup_end",ba(e.domainLookupEnd)],["http.request.connect_start",ba(e.connectStart)],["http.request.secure_connection_start",ba(e.secureConnectionStart)],["http.request.connection_end",ba(e.connectEnd)],["http.request.request_start",ba(e.requestStart)],["http.request.response_start",ba(e.responseStart)],["http.request.response_end",ba(e.responseEnd)]]:r}function JG(e,t){const n=ut.location&&ut.location.href;if(n){let r,i;try{r=new URL(e,n),i=new URL(n).origin}catch{return!1}const s=r.origin===i;return t?kc(r.toString(),t)||s&&kc(r.pathname,t):s}else{const r=!!e.match(/^\/(?!\/)/);return t?kc(e,t):r}}function ZG(e,t,n,r){const i=e.xhr,s=i&&i[hd];if(!i||i.__sentry_own_request__||!s)return;const l=wl()&&t(s.url);if(e.endTimestamp&&l){const h=i.__sentry_xhr_span_id__;if(!h)return;const y=r[h];y&&s.status_code!==void 0&&(kV(y,s.status_code),y.end(),delete r[h]);return}const c=k4(s.url),d=c?Ic(c).host:void 0,u=!!gi(),p=l&&u?_l({name:`${s.method} ${s.url}`,attributes:{type:"xhr","http.method":s.method,"http.url":c,url:s.url,"server.address":d,[Ar]:"auto.http.browser",[$c]:"http.client"}}):new rf;return i.__sentry_xhr_span_id__=p.spanContext().spanId,r[i.__sentry_xhr_span_id__]=p,n(s.url)&&eY(i,wl()&&u?p:void 0),p}function eY(e,t){const{"sentry-trace":n,baggage:r}=i4({span:t});n&&tY(e,n,r)}function tY(e,t,n){try{e.setRequestHeader("sentry-trace",t),n&&e.setRequestHeader("baggage",n)}catch{}}function k4(e){try{return new URL(e,ut.location.origin).href}catch{return}}function nY(){ut&&ut.document?ut.document.addEventListener("visibilitychange",()=>{const e=gi();if(!e)return;const t=hi(e);if(ut.document.hidden&&t){const n="cancelled",{op:r,status:i}=ln(t);os&&Be.log(`[Tracing] Transaction: ${n} -> since tab moved to the background, op: ${r}`),i||t.setStatus({code:Ur,message:n}),t.setAttribute("sentry.cancellation_reason","document.hidden"),t.end()}}):os&&Be.warn("[Tracing] Could not set up background tab detection due to lack of global document")}const rY="BrowserTracing",iY={...Sy,instrumentNavigation:!0,instrumentPageLoad:!0,markBackgroundSpan:!0,enableLongTask:!0,enableLongAnimationFrame:!0,enableInp:!0,_experiments:{},...Ey},sY=(e={})=>{iU();const{enableInp:t,enableLongTask:n,enableLongAnimationFrame:r,_experiments:{enableInteractions:i,enableStandaloneClsSpans:s},beforeStartSpan:l,idleTimeout:c,finalTimeout:d,childSpanTimeout:u,markBackgroundSpan:p,traceFetch:h,traceXHR:y,trackFetchStreamPerformance:v,shouldCreateSpanForRequest:b,enableHTTPTimings:_,instrumentPageLoad:w,instrumentNavigation:T}={...iY,...e},k=xq({recordClsStandaloneSpans:s||!1});t&&Wq(),r&&Kt.PerformanceObserver&&PerformanceObserver.supportedEntryTypes&&PerformanceObserver.supportedEntryTypes.includes("long-animation-frame")?Eq():n&&wq(),i&&Tq();const R={name:void 0,source:void 0};function M(E,O){const P=O.op==="pageload",j=l?l(O):O,V=j.attributes||{};O.name!==j.name&&(V[vo]="custom",j.attributes=V),R.name=j.name,R.source=V[vo];const C=WV(j,{idleTimeout:c,finalTimeout:d,childSpanTimeout:u,disableAutoFinish:P,beforeSpanEnd:U=>{k(),Iq(U,{recordClsOnPageloadSpan:!s})}});function N(){["interactive","complete"].includes(ut.document.readyState)&&E.emit("idleSpanEnableAutoFinish",C)}return P&&ut.document&&(ut.document.addEventListener("readystatechange",()=>{N()}),N()),C}return{name:rY,afterAllSetup(E){let O,P=ut.location&&ut.location.href;function j(){O&&!ln(O).timestamp&&(os&&Be.log(`[Tracing] Finishing current active span with op: ${ln(O).op}`),O.end())}E.on("startNavigationSpan",V=>{dn()===E&&(j(),O=M(E,{op:"navigation",...V}))}),E.on("startPageLoadSpan",(V,C={})=>{if(dn()!==E)return;j();const N=C.sentryTrace||a5("sentry-trace"),U=C.baggage||a5("baggage"),L=X7(N,U);Dn().setPropagationContext(L),O=M(E,{op:"pageload",...V})}),E.on("spanEnd",V=>{const C=ln(V).op;if(V!==hi(V)||C!=="navigation"&&C!=="pageload")return;const N=Dn(),U=N.getPropagationContext();N.setPropagationContext({...U,sampled:U.sampled!==void 0?U.sampled:nu(V),dsc:U.dsc||sf(V)})}),ut.location&&(w&&aY(E,{name:ut.location.pathname,startTime:qi?qi/1e3:void 0,attributes:{[vo]:"url",[Ar]:"auto.pageload.browser"}}),T&&Ow(({to:V,from:C})=>{if(C===void 0&&P&&P.indexOf(V)!==-1){P=void 0;return}C!==V&&(P=void 0,oY(E,{name:ut.location.pathname,attributes:{[vo]:"url",[Ar]:"auto.navigation.browser"}}))})),p&&nY(),i&&lY(c,d,u,R),t&&Xq(),KG(E,{traceFetch:h,traceXHR:y,trackFetchStreamPerformance:v,tracePropagationTargets:E.getOptions().tracePropagationTargets,shouldCreateSpanForRequest:b,enableHTTPTimings:_})}}};function aY(e,t,n){e.emit("startPageLoadSpan",t,n),Dn().setTransactionName(t.name);const r=gi();return(r&&ln(r).op)==="pageload"?r:void 0}function oY(e,t){Da().setPropagationContext(yp()),Dn().setPropagationContext(yp()),e.emit("startNavigationSpan",t),Dn().setTransactionName(t.name);const n=gi();return(n&&ln(n).op)==="navigation"?n:void 0}function a5(e){const t=w7(`meta[name=${e}]`);return t?t.getAttribute("content"):void 0}function lY(e,t,n,r){let i;const s=()=>{const l="ui.action.click",c=gi(),d=c&&hi(c);if(d){const u=ln(d).op;if(["navigation","pageload"].includes(u)){os&&Be.warn(`[Tracing] Did not create ${l} span because a pageload or navigation span is in progress.`);return}}if(i&&(i.setAttribute(IS,"interactionInterrupted"),i.end(),i=void 0),!r.name){os&&Be.warn(`[Tracing] Did not create ${l} transaction because _latestRouteName is missing.`);return}i=WV({name:r.name,op:l,attributes:{[vo]:r.source||"url"}},{idleTimeout:e,finalTimeout:t,childSpanTimeout:n})};ut.document&&addEventListener("click",s,{once:!1,capture:!0})}function cY(e){const t={...e};return r4(t,"react"),s9("react",{version:x.version}),GG(t)}function uY(e){const t=e.match(/^([^.]+)/);return t!==null&&parseInt(t[0])>=17}function dY(e,t){const n=new WeakSet;function r(i,s){if(!n.has(i)){if(i.cause)return n.add(i),r(i.cause,s);i.cause=s}}r(e,t)}function fY(e,{componentStack:t},n){if(uY(x.version)&&tv(e)&&t){const r=new Error(e.message);r.name=`React ErrorBoundary ${e.name}`,r.stack=t,dY(e,r)}return ua(e,{...n,captureContext:{contexts:{react:{componentStack:t}}}})}var x1={exports:{}},cn={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var o5;function hY(){if(o5)return cn;o5=1;var e=typeof Symbol=="function"&&Symbol.for,t=e?Symbol.for("react.element"):60103,n=e?Symbol.for("react.portal"):60106,r=e?Symbol.for("react.fragment"):60107,i=e?Symbol.for("react.strict_mode"):60108,s=e?Symbol.for("react.profiler"):60114,l=e?Symbol.for("react.provider"):60109,c=e?Symbol.for("react.context"):60110,d=e?Symbol.for("react.async_mode"):60111,u=e?Symbol.for("react.concurrent_mode"):60111,p=e?Symbol.for("react.forward_ref"):60112,h=e?Symbol.for("react.suspense"):60113,y=e?Symbol.for("react.suspense_list"):60120,v=e?Symbol.for("react.memo"):60115,b=e?Symbol.for("react.lazy"):60116,_=e?Symbol.for("react.block"):60121,w=e?Symbol.for("react.fundamental"):60117,T=e?Symbol.for("react.responder"):60118,k=e?Symbol.for("react.scope"):60119;function R(E){if(typeof E=="object"&&E!==null){var O=E.$$typeof;switch(O){case t:switch(E=E.type,E){case d:case u:case r:case s:case i:case h:return E;default:switch(E=E&&E.$$typeof,E){case c:case p:case b:case v:case l:return E;default:return O}}case n:return O}}}function M(E){return R(E)===u}return cn.AsyncMode=d,cn.ConcurrentMode=u,cn.ContextConsumer=c,cn.ContextProvider=l,cn.Element=t,cn.ForwardRef=p,cn.Fragment=r,cn.Lazy=b,cn.Memo=v,cn.Portal=n,cn.Profiler=s,cn.StrictMode=i,cn.Suspense=h,cn.isAsyncMode=function(E){return M(E)||R(E)===d},cn.isConcurrentMode=M,cn.isContextConsumer=function(E){return R(E)===c},cn.isContextProvider=function(E){return R(E)===l},cn.isElement=function(E){return typeof E=="object"&&E!==null&&E.$$typeof===t},cn.isForwardRef=function(E){return R(E)===p},cn.isFragment=function(E){return R(E)===r},cn.isLazy=function(E){return R(E)===b},cn.isMemo=function(E){return R(E)===v},cn.isPortal=function(E){return R(E)===n},cn.isProfiler=function(E){return R(E)===s},cn.isStrictMode=function(E){return R(E)===i},cn.isSuspense=function(E){return R(E)===h},cn.isValidElementType=function(E){return typeof E=="string"||typeof E=="function"||E===r||E===u||E===s||E===i||E===h||E===y||typeof E=="object"&&E!==null&&(E.$$typeof===b||E.$$typeof===v||E.$$typeof===l||E.$$typeof===c||E.$$typeof===p||E.$$typeof===w||E.$$typeof===T||E.$$typeof===k||E.$$typeof===_)},cn.typeOf=R,cn}var l5;function pY(){return l5||(l5=1,x1.exports=hY()),x1.exports}var w1,c5;function gY(){if(c5)return w1;c5=1;var e=pY(),t={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},n={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},r={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},i={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};s[e.ForwardRef]=r,s[e.Memo]=i;function l(b){return e.isMemo(b)?i:s[b.$$typeof]||t}var c=Object.defineProperty,d=Object.getOwnPropertyNames,u=Object.getOwnPropertySymbols,p=Object.getOwnPropertyDescriptor,h=Object.getPrototypeOf,y=Object.prototype;function v(b,_,w){if(typeof _!="string"){if(y){var T=h(_);T&&T!==y&&v(b,T,w)}var k=d(_);u&&(k=k.concat(u(_)));for(var R=l(b),M=l(_),E=0;E<k.length;++E){var O=k[E];if(!n[O]&&!(w&&w[O])&&!(M&&M[O])&&!(R&&R[O])){var P=p(_,O);try{c(b,O,P)}catch{}}}}return b}return w1=v,w1}var mY=gY();const yY=Pr(mY),vY="ui.react.render",AY="ui.react.update",bY="ui.react.mount",_Y="unknown";class M4 extends x.Component{static __initStatic(){this.defaultProps={disabled:!1,includeRender:!0,includeUpdates:!0}}constructor(t){super(t);const{name:n,disabled:r=!1}=this.props;r||(this._mountSpan=_l({name:`<${n}>`,onlyIfParent:!0,op:bY,attributes:{[Ar]:"auto.ui.react.profiler","ui.component_name":n}}))}componentDidMount(){this._mountSpan&&this._mountSpan.end()}shouldComponentUpdate({updateProps:t,includeUpdates:n=!0}){if(n&&this._mountSpan&&t!==this.props.updateProps){const r=Object.keys(t).filter(i=>t[i]!==this.props.updateProps[i]);if(r.length>0){const i=si();this._updateSpan=d0(this._mountSpan,()=>_l({name:`<${this.props.name}>`,onlyIfParent:!0,op:AY,startTime:i,attributes:{[Ar]:"auto.ui.react.profiler","ui.component_name":this.props.name,"ui.react.changed_props":r}}))}}return!0}componentDidUpdate(){this._updateSpan&&(this._updateSpan.end(),this._updateSpan=void 0)}componentWillUnmount(){const t=si(),{name:n,includeRender:r=!0}=this.props;if(this._mountSpan&&r){const i=ln(this._mountSpan).timestamp;d0(this._mountSpan,()=>{const s=_l({onlyIfParent:!0,name:`<${n}>`,op:vY,startTime:i,attributes:{[Ar]:"auto.ui.react.profiler","ui.component_name":n}});s&&s.end(t)})}}render(){return this.props.children}}M4.__initStatic();function SY(e,t){const n=e.displayName||e.name||_Y,r=i=>x.createElement(M4,{...t,name:n,updateProps:i},x.createElement(e,{...i}));return r.displayName=`profiler(${n})`,yY(r,e),r}const xY=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,u5={componentStack:null,error:null,eventId:null};class jw extends x.Component{constructor(t){super(t),jw.prototype.__init.call(this),this.state=u5,this._openFallbackReportDialog=!0;const n=dn();n&&t.showDialog&&(this._openFallbackReportDialog=!1,this._cleanupHook=n.on("afterSendEvent",r=>{!r.type&&this._lastEventId&&r.event_id===this._lastEventId&&r5({...t.dialogOptions,eventId:this._lastEventId})}))}componentDidCatch(t,n){const{componentStack:r}=n,i=r??void 0,{beforeCapture:s,onError:l,showDialog:c,dialogOptions:d}=this.props;sv(u=>{s&&s(u,t,i);const p=fY(t,n,{mechanism:{handled:!!this.props.fallback}});l&&l(t,i,p),c&&(this._lastEventId=p,this._openFallbackReportDialog&&r5({...d,eventId:p})),this.setState({error:t,componentStack:r,eventId:p})})}componentDidMount(){const{onMount:t}=this.props;t&&t()}componentWillUnmount(){const{error:t,componentStack:n,eventId:r}=this.state,{onUnmount:i}=this.props;i&&i(t,n,r),this._cleanupHook&&(this._cleanupHook(),this._cleanupHook=void 0)}__init(){this.resetErrorBoundary=()=>{const{onReset:t}=this.props,{error:n,componentStack:r,eventId:i}=this.state;t&&t(n,r,i),this.setState(u5)}}render(){const{fallback:t,children:n}=this.props,r=this.state;if(r.error){let i;return typeof t=="function"?i=x.createElement(t,{error:r.error,componentStack:r.componentStack,resetError:this.resetErrorBoundary,eventId:r.eventId}):i=t,x.isValidElement(i)?i:(t&&xY&&Be.warn("fallback did not produce a valid ReactElement"),null)}return typeof n=="function"?n():n}}const wY="modulepreload",EY=function(e){return"/"+e},d5={},df=function(t,n,r){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),c=(l==null?void 0:l.nonce)||(l==null?void 0:l.getAttribute("nonce"));i=Promise.allSettled(n.map(d=>{if(d=EY(d),d in d5)return;d5[d]=!0;const u=d.endsWith(".css"),p=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${p}`))return;const h=document.createElement("link");if(h.rel=u?"stylesheet":wY,u||(h.as="script"),h.crossOrigin="",h.href=d,c&&h.setAttribute("nonce",c),document.head.appendChild(h),u)return new Promise((y,v)=>{h.addEventListener("load",y),h.addEventListener("error",()=>v(new Error(`Unable to preload CSS for ${d}`)))})}))}function s(l){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=l,window.dispatchEvent(c),!c.defaultPrevented)throw l}return i.then(l=>{for(const c of l||[])c.status==="rejected"&&s(c.reason);return t().catch(s)})};class R4{constructor(){this.init=async(t,n)=>{const r=await df(()=>import("./aubio-DcglKpfy.js"),[]),{Pitch:i}=await r.default();this.detector=new i("default",n,n/8,t.sampleRate),this.detector.setTolerance(.5)},this.getFrequency=async t=>this.detector.do(t)}getSampleSize(){return 2048}}class TY extends Gs{constructor(){super(...arguments),this.status="uninitialised",this.getUserMedia=async(...t)=>this.requestAndTrack(()=>navigator.mediaDevices.getUserMedia(...t)),this.enumerateDevices=async(...t)=>this.requestAndTrack(()=>navigator.mediaDevices.enumerateDevices(...t)),this.requestAndTrack=async t=>{try{this.status!=="accepted"&&this.setStatus("requested");const n=await t();return this.setStatus("accepted"),n}catch(n){throw this.setStatus("declined"),n}},this.setStatus=t=>{this.status=t,this.onUpdate(t)},this.getStatus=()=>this.status}}const Sl=new TY;let WS=class{constructor(t=2){this.channels=t,this.stream=null,this.context=null,this.interval=null,this.frequencies=[0,0],this.volumes=[0,0],this.startedMonitoring=!1,this.startMonitoring=async n=>{if(!this.startedMonitoring){this.startedMonitoring=!0;try{this.stream=await Sl.getUserMedia({audio:{...n?{deviceId:n,exact:!0}:{},echoCancellation:!1},video:!1});try{this.context=new AudioContext;const r=this.context.createMediaStreamSource(this.stream),i=Array.from({length:this.channels},()=>{const l=this.context.createAnalyser();return l.fftSize=2048,l.minDecibels=-100,l});if(this.channels>1){const l=this.context.createChannelSplitter(2);r.connect(l),i.forEach((c,d)=>{l.connect(c,d)})}else r.connect(i[0]);console.log(this.channels);const s=new R4;await s.init(this.context,i[0].fftSize),this.interval=setInterval(async()=>{const l=i.map(c=>new Float32Array(c.fftSize));i.forEach((c,d)=>{c.getFloatTimeDomainData(l[d])}),this.frequencies=await Promise.all(l.map(c=>s.getFrequency(c))),this.volumes=l.map(c=>this.calculateVolume(c))},this.context.sampleRate/i[0].fftSize),me.micMonitoringStarted.dispatch()}catch(r){ua(r),console.error(r)}}catch(r){ua(r,{level:"warning",extra:{message:"MicInput.startMonitoring"}}),console.warn(r)}}},this.getFrequencies=()=>this.frequencies,this.getVolumes=()=>this.volumes,this.clearFrequencies=n=>{},this.stopMonitoring=async()=>{var n,r;if(this.startedMonitoring){this.startedMonitoring=!1,this.interval&&clearInterval(this.interval),(n=this.stream)==null||n.getTracks().forEach(function(i){i.stop()});try{await((r=this.context)==null?void 0:r.close())}catch(i){console.log("MicInput.stoMonitoring error",i)}me.micMonitoringStopped.dispatch()}},this.getInputLag=()=>180,this.requestReadiness=()=>Promise.resolve(!0),this.getStatus=()=>"ok"}calculateVolume(t){let n,r=0;for(n=0;n<t.length;++n)r+=t[n]*t[n];return Math.sqrt(r/t.length)}};new WS;const CY=(e=[],t)=>{const n=e.filter(r=>r.deviceId===t).map(r=>r.channel);return n.some(r=>n[0]!==r)};class kY{constructor(){this.devices={},this.startMonitoring=async(t,n)=>{console.log(this.devices),t&&(this.devices[t]||(this.devices[t]=CY(n,t)?new WS(2):new WS(1)),await this.devices[t].startMonitoring(t))},this.getFrequencies=t=>t&&this.devices[t]?this.devices[t].getFrequencies():[0,0],this.getVolumes=t=>t&&this.devices[t]?this.devices[t].getVolumes():[0,0],this.clearFrequencies=t=>{if(t&&this.devices[t])return this.devices[t].clearFrequencies(t)},this.stopMonitoring=async()=>{await Promise.all(Object.values(this.devices).map(t=>t.stopMonitoring())),this.devices={}},this.getInputLag=t=>t&&this.devices[t]?this.devices[t].getInputLag():180,this.requestReadiness=async t=>t&&this.devices[t]?this.devices[t].requestReadiness():!0,this.getStatus=t=>t&&this.devices[t]?this.devices[t].getStatus():"ok"}}const MY=new kY;class RY{constructor(){this.frequencies=[0],this.volumes=[1],this.startMonitoring=async t=>{var n;return(n=Dt.getRemoteMicById(t??""))==null?void 0:n.getInput().startMonitoring()},this.getFrequencies=t=>{var r;return((r=Dt.getRemoteMicById(t??""))==null?void 0:r.getInput().getFrequencies())??this.frequencies},this.clearFrequencies=t=>{var n;(n=Dt.getRemoteMicById(t??""))==null||n.getInput().clearFrequencies()},this.getVolumes=t=>{var r;return((r=Dt.getRemoteMicById(t??""))==null?void 0:r.getInput().getVolumes())??this.volumes},this.stopMonitoring=async t=>{var n;return(n=Dt.getRemoteMicById(t??""))==null?void 0:n.getInput().stopMonitoring()},this.requestReadiness=t=>{var n;return((n=Dt.getRemoteMicById(t??""))==null?void 0:n.getInput().requestReadiness())??Promise.resolve(!0)},this.getInputLag=t=>{var n;return((n=Dt.getRemoteMicById(t??""))==null?void 0:n.getInput().getInputLag())??0},this.getStatus=t=>{const n=Dt.getRemoteMicById(t??"");return!n||n.getLatency()>1500?"unavailable":n.getLatency()>500?"unstable":"ok"}}}const IY=new RY;function da(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var I4=typeof global=="object"&&global&&global.Object===Object&&global,OY=typeof self=="object"&&self&&self.Object===Object&&self,ha=I4||OY||Function("return this")(),E1=function(){return ha.Date.now()},jY=/\s/;function PY(e){for(var t=e.length;t--&&jY.test(e.charAt(t)););return t}var VY=/^\s+/;function DY(e){return e&&e.slice(0,PY(e)+1).replace(VY,"")}var $s=ha.Symbol,O4=Object.prototype,BY=O4.hasOwnProperty,NY=O4.toString,wh=$s?$s.toStringTag:void 0;function LY(e){var t=BY.call(e,wh),n=e[wh];try{e[wh]=void 0;var r=!0}catch{}var i=NY.call(e);return r&&(t?e[wh]=n:delete e[wh]),i}var FY=Object.prototype,zY=FY.toString;function $Y(e){return zY.call(e)}var UY="[object Null]",HY="[object Undefined]",f5=$s?$s.toStringTag:void 0;function iu(e){return e==null?e===void 0?HY:UY:f5&&f5 in Object(e)?LY(e):$Y(e)}function ko(e){return e!=null&&typeof e=="object"}var qY="[object Symbol]";function cv(e){return typeof e=="symbol"||ko(e)&&iu(e)==qY}var h5=NaN,GY=/^[-+]0x[0-9a-f]+$/i,YY=/^0b[01]+$/i,KY=/^0o[0-7]+$/i,WY=parseInt;function QS(e){if(typeof e=="number")return e;if(cv(e))return h5;if(da(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=da(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=DY(e);var n=YY.test(e);return n||KY.test(e)?WY(e.slice(2),n?2:8):GY.test(e)?h5:+e}var QY="Expected a function",XY=Math.max,JY=Math.min;function j4(e,t,n){var r,i,s,l,c,d,u=0,p=!1,h=!1,y=!0;if(typeof e!="function")throw new TypeError(QY);t=QS(t)||0,da(n)&&(p=!!n.leading,h="maxWait"in n,s=h?XY(QS(n.maxWait)||0,t):s,y="trailing"in n?!!n.trailing:y);function v(O){var P=r,j=i;return r=i=void 0,u=O,l=e.apply(j,P),l}function b(O){return u=O,c=setTimeout(T,t),p?v(O):l}function _(O){var P=O-d,j=O-u,V=t-P;return h?JY(V,s-j):V}function w(O){var P=O-d,j=O-u;return d===void 0||P>=t||P<0||h&&j>=s}function T(){var O=E1();if(w(O))return k(O);c=setTimeout(T,_(O))}function k(O){return c=void 0,y&&r?v(O):(r=i=void 0,l)}function R(){c!==void 0&&clearTimeout(c),u=0,r=d=i=c=void 0}function M(){return c===void 0?l:k(E1())}function E(){var O=E1(),P=w(O);if(r=arguments,i=this,d=O,P){if(c===void 0)return b(d);if(h)return clearTimeout(c),c=setTimeout(T,t),v(d)}return c===void 0&&(c=setTimeout(T,t)),l}return E.cancel=R,E.flush=M,E}const Ci={DUEL:"DUEL",PASS_THE_MIC:"PASS_THE_MIC",CO_OP:"CO_OP"},rp=["freestyle","rap"],P4=[],V4=440,D4=69,Pw=20;var ZY="[object AsyncFunction]",eK="[object Function]",tK="[object GeneratorFunction]",nK="[object Proxy]";function B4(e){if(!da(e))return!1;var t=iu(e);return t==eK||t==tK||t==ZY||t==nK}var T1=ha["__core-js_shared__"],p5=function(){var e=/[^.]+$/.exec(T1&&T1.keys&&T1.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function rK(e){return!!p5&&p5 in e}var iK=Function.prototype,sK=iK.toString;function su(e){if(e!=null){try{return sK.call(e)}catch{}try{return e+""}catch{}}return""}var aK=/[\\^$.*+?()[\]{}|]/g,oK=/^\[object .+?Constructor\]$/,lK=Function.prototype,cK=Object.prototype,uK=lK.toString,dK=cK.hasOwnProperty,fK=RegExp("^"+uK.call(dK).replace(aK,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function hK(e){if(!da(e)||rK(e))return!1;var t=B4(e)?fK:oK;return t.test(su(e))}function pK(e,t){return e==null?void 0:e[t]}function au(e,t){var n=pK(e,t);return hK(n)?n:void 0}var _p=au(Object,"create");function gK(){this.__data__=_p?_p(null):{},this.size=0}function mK(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var yK="__lodash_hash_undefined__",vK=Object.prototype,AK=vK.hasOwnProperty;function bK(e){var t=this.__data__;if(_p){var n=t[e];return n===yK?void 0:n}return AK.call(t,e)?t[e]:void 0}var _K=Object.prototype,SK=_K.hasOwnProperty;function xK(e){var t=this.__data__;return _p?t[e]!==void 0:SK.call(t,e)}var wK="__lodash_hash_undefined__";function EK(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=_p&&t===void 0?wK:t,this}function Hc(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Hc.prototype.clear=gK;Hc.prototype.delete=mK;Hc.prototype.get=bK;Hc.prototype.has=xK;Hc.prototype.set=EK;function TK(){this.__data__=[],this.size=0}function uv(e,t){return e===t||e!==e&&t!==t}function dv(e,t){for(var n=e.length;n--;)if(uv(e[n][0],t))return n;return-1}var CK=Array.prototype,kK=CK.splice;function MK(e){var t=this.__data__,n=dv(t,e);if(n<0)return!1;var r=t.length-1;return n==r?t.pop():kK.call(t,n,1),--this.size,!0}function RK(e){var t=this.__data__,n=dv(t,e);return n<0?void 0:t[n][1]}function IK(e){return dv(this.__data__,e)>-1}function OK(e,t){var n=this.__data__,r=dv(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}function Oo(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Oo.prototype.clear=TK;Oo.prototype.delete=MK;Oo.prototype.get=RK;Oo.prototype.has=IK;Oo.prototype.set=OK;var Sp=au(ha,"Map");function jK(){this.size=0,this.__data__={hash:new Hc,map:new(Sp||Oo),string:new Hc}}function PK(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function fv(e,t){var n=e.__data__;return PK(t)?n[typeof t=="string"?"string":"hash"]:n.map}function VK(e){var t=fv(this,e).delete(e);return this.size-=t?1:0,t}function DK(e){return fv(this,e).get(e)}function BK(e){return fv(this,e).has(e)}function NK(e,t){var n=fv(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}function jo(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}jo.prototype.clear=jK;jo.prototype.delete=VK;jo.prototype.get=DK;jo.prototype.has=BK;jo.prototype.set=NK;var LK="Expected a function";function hv(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(LK);var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],s=n.cache;if(s.has(i))return s.get(i);var l=e.apply(this,r);return n.cache=s.set(i,l)||s,l};return n.cache=new(hv.Cache||jo),n}hv.Cache=jo;function g0(e){return rp.includes(e.note.type)?0:e.distance}function un(e){return(e==null?void 0:e.type)==="notes"&&!!e.notes.length}const FK=35e5,dc={freestyle:.25,rap:.25,rapstar:.5,star:2,normal:1,perfect:.5,vibrato:.25},g5=e=>({freestyle:e.freestyle*dc.freestyle,rap:e.rap*dc.rap,rapstar:e.rapstar*dc.rapstar,star:e.star*dc.star,normal:e.normal*dc.normal,perfect:e.perfect*dc.perfect,vibrato:e.vibrato*dc.vibrato}),Vw=e=>e.freestyle+e.rap+e.star+e.normal+e.perfect+e.vibrato,Bm=(e,t)=>({freestyle:e.freestyle*t,rap:e.rap*t,rapstar:e.rapstar*t,star:e.star*t,normal:e.normal*t,perfect:e.perfect*t,vibrato:e.vibrato*t}),m5=(e,t)=>({freestyle:e.freestyle+t.freestyle,rap:e.rap+t.rap,rapstar:e.rapstar+t.rapstar,star:e.star+t.star,normal:e.normal+t.normal,perfect:e.perfect+t.perfect,vibrato:e.vibrato+t.vibrato}),y5=(e,t)=>({freestyle:e.freestyle/t,rap:e.rap/t,rapstar:e.rapstar/t,star:e.star/t,normal:e.normal/t,perfect:e.perfect/t,vibrato:e.vibrato/t}),v5=hv(e=>e.tracks.map(({sections:t})=>{const n={freestyle:0,rap:0,rapstar:0,star:0,normal:0,perfect:0,vibrato:0};return t.filter(un).forEach(r=>{r.notes.filter(s=>!P4.includes(s.type)).forEach(s=>{n[s.type]=n[s.type]+s.length,n.perfect=n.perfect+s.length,n.vibrato=n.vibrato+s.length})}),n}));function N4(e,t,n){const r=v5(t),i={freestyle:0,rap:0,rapstar:0,star:0,normal:0,perfect:0,vibrato:0};if(!r[n])return console.error(`No beat count for track ${n} in song`,t),[0,i,i];const s=g5(v5(t)[n]),l=FK/Vw(s);for(let c=0;c<e.length;c++){const d=e[c];P4.includes(d.note.type)||g0(d)===0&&(i[d.note.type]=i[d.note.type]+d.length,d.isPerfect&&(i.perfect=i.perfect+d.length),d.vibrato&&(i.vibrato=i.vibrato+d.length))}return[l,g5(i),s]}function zK(e,t,n){const[r,i]=N4(e,t,n);return Vw(i)*r}function $K(e,t,n,r=!0){const i=(e-n)/t;return r?Math.floor(i):i}function UK(e){return V4*Math.pow(2,(e-D4)/12)}const HK=e=>Math.round(12*(Math.log(e/V4)/Math.log(2)))+D4,qK=(e,t)=>Math.floor(1200*Math.log(t/e)/Math.log(2)),GK=(e,t,n)=>{const r=UK(e),i=qK(r,t);return Math.sign(i)*((Math.abs(i)%1200+600)%1200-600)/(n*100+50)},YK=(e,t,n)=>{const r=(e%12-t%12+18)%12-6;return Math.abs(r)<=n?0:r},KK=(e,t)=>{const n=lt.getTolerance(),r=HK(e);let i=-1;const s=YK(r,t,n);return s===0&&(i=GK(t,e,n)),{distance:s,preciseDistance:i}},A5=6;function WK(e){const t=[];for(let r=1;r<e.length;r++){if(Math.round(e[r].frequency/2)===Math.round(e[r-1].frequency/2))continue;const i=e[r].frequency>e[r-1].frequency?">":"<";if(t.length===0)t.push({...e[r],interval:e[r].timestamp-e[r-1].timestamp,change:i});else{const s=t.at(-1);s.change!==i&&t.push({...e[r],interval:e[r].timestamp-s.timestamp,change:i})}}const n=t;for(let r=0;r<n.length-A5;r++){const s=n.slice(r,r+A5-1).map(u=>u.interval),l=Math.max(...s),c=Math.min(...s),d=s.reduce((u,p)=>u+p,0)/s.length;if(l<d*1.75&&c>d/1.75)return!0}return!1}const QK=100;function XK(e,t,n,r){if(t.frequency===0)return;const i={...t,beat:Math.max(0,t.timestamp)/r,...KK(t.frequency,n.pitch)},s=e.at(-1),l=QK/r,c=n.start+n.length,d=!s||s.note.start!==n.start,u=!s||s.distance!==i.distance&&!rp.includes(n.type);if(d||u||i.beat-(s.start+s.length)>l){const p=i.beat-l<n.start?n.start:i.beat;if(e.push({start:Math.min(d?p:i.beat,c),length:0,distance:i.distance,note:n,isPerfect:!1,vibrato:!1,frequencyRecords:[{frequency:i.frequency,preciseDistance:i.preciseDistance,timestamp:i.timestamp}]}),s&&n.start!==s.note.start){const h=s.start+s.length,y=s.note.start+s.note.length,v=h+l>y?y:h;s.length=Math.max(0,v-s.start)}}else s.length=Math.max(0,Math.min(i.beat,n.start+n.length)-s.start),s.frequencyRecords.push({frequency:i.frequency,timestamp:i.timestamp,preciseDistance:i.preciseDistance}),s.isPerfect=s.distance===0&&Math.abs(s.length-s.note.length)<.5,s.vibrato=s.distance===0&&WK(s.frequencyRecords)}const JK=e=>e.notes[0],El=e=>{const t=e.find(un);return t?JK(t).start:1/0},xp=e=>{const n=e.filter(un).at(-1);return n?Ud(n):0},Ud=e=>{const t=e.notes.at(-1);return t.start+t.length},b5=(e,t,n=0)=>e.notes.find(r=>r.start-n<=t&&r.start+r.length+n>=t);class ZK{constructor(t,n){this.number=t,this.gameState=n,this.frequencyRecords=[],this.playerNotes=[],this.realFrequencyRecords=[],this.realPlayerNotes=[],this.min=1/0,this.max=-1/0,this.storedSectionIndex=0,this.getNumber=()=>this.number,this.update=()=>{const r=this.gameState.getCurrentTime(),i=ur.getPlayerFrequency(this.number),s=r-ur.getPlayerInputLag(this.number);if(Array.isArray(i)){const l=this.realFrequencyRecords.at(-1)||this.frequencyRecords.at(0),c=(l==null?void 0:l.timestamp)??0,d=(s-c)/i.length;this.frequencyRecords=this.realFrequencyRecords,this.playerNotes=this.realPlayerNotes;for(let p=0;p<i.length;p++){const h=c+d*(p+1);this.updatePlayerNotes(h,i[p])}this.realFrequencyRecords=[...this.frequencyRecords],this.realPlayerNotes=[...this.playerNotes];const u=this.realPlayerNotes.at(-1);u&&(this.realPlayerNotes[this.realPlayerNotes.length-1]={...u,frequencyRecords:[...u.frequencyRecords??[]]}),ur.clearPlayerCachedFrequencies(this.number)}else this.updatePlayerNotes(s,i);this.dispatchSectionUpdate()},this.dispatchSectionUpdate=()=>{const r=this.getCurrentSectionIndex();this.storedSectionIndex!==r&&(me.sectionChange.dispatch(this.number,this.storedSectionIndex),this.storedSectionIndex=r)},this.updatePlayerNotes=(r,i)=>{const s={timestamp:r,frequency:i};this.frequencyRecords.push(s);const l=s.timestamp/this.gameState.getSongBeatLength(),c=this.getSectionByBeat(l);if(un(c)){const d=b5(c,l,0)??b5(c,l,.5);d&&XK(this.playerNotes,s,d,this.gameState.getSongBeatLength())}},this.getPlayerNotes=()=>this.playerNotes,this.getPlayerFrequencies=()=>this.frequencyRecords,this.getSectionIndexByBeat=r=>this.getTrack().sections.findIndex((i,s,l)=>r<0?!0:r<i.start?!1:s===l.length-1?!0:l[s+1].start>r),this.getCurrentSectionIndex=()=>this.getSectionIndexByBeat(this.gameState.getCurrentBeat()),this.getSectionByBeat=r=>this.getTrack().sections[this.getSectionIndexByBeat(r)]??null,this.getCurrentSection=()=>{const r=this.getCurrentSectionIndex();return this.getTrack().sections[r]??null},this.getNextSection=(r=1)=>{const i=this.getCurrentSectionIndex();return i>-1?this.getTrack().sections[i+r]??null:null},this.getPreviousSection=(r=1)=>{const i=this.getCurrentSectionIndex();return i>-1?this.getTrack().sections[i-r]??null:null},this.getLastNotesSection=()=>{const r=this.getTrack().sections.at(-1);return un(r)?r:this.getTrack().sections.at(-2)},this.getScore=()=>zK(this.playerNotes,this.gameState.getSong(),this.getTrackIndex()),this.getDetailedScore=()=>N4(this.playerNotes,this.gameState.getSong(),this.getTrackIndex()),this.getMinPitch=()=>this.min,this.getMaxPitch=()=>this.max,this.getTrackIndex=()=>this.gameState.getSingSetup().players.find(r=>r.number===this.number).track,this.getTrack=()=>{var r;return this.gameState.isMergedTrack()?(r=this.gameState.getSong())==null?void 0:r.mergedTrack:this.gameState.getSong().tracks[this.getTrackIndex()]},this.resetNotes=()=>{this.playerNotes=[]},this.getTrack().sections.filter(un).forEach(r=>r.notes.forEach(i=>{this.min=Math.min(this.min,i.pitch),this.max=Math.max(this.max,i.pitch)}))}}function _5(e){return Math.max(...e.tracks.map(t=>{const n=t.sections.filter(un).at(-1);return n?Ud(n):0}))}function Dw(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError("Expected a function");const n=function(...r){const i=t?t.apply(this,r):r[0],s=n.cache;if(s.has(i))return s.get(i);const l=e.apply(this,r);return n.cache=s.set(i,l)||s,l};return n.cache=new(Dw.Cache||Map),n}Dw.Cache=Map;const ff=Dw(function(t){return 60/t.bpm/(t.bar??4)*1e3});class eW{constructor(){this.song=null,this.currentTime=0,this.duration=0,this.singSetup=null,this.playerStates=[],this.playing=!1,this.setCurrentTime=t=>this.currentTime=t,this.getCurrentTime=(t=!0)=>this.currentTime-(t&&this.song?this.song.gap:0),this.getSongBeatLength=()=>ff(this.song),this.getCurrentBeat=()=>$K(this.getCurrentTime(),this.getSongBeatLength(),0,!1),this.setSong=t=>this.song=t,this.getSong=()=>this.song,this.getSingSetup=()=>this.singSetup,this.setSingSetup=t=>{this.singSetup=t,this.playerStates=t.players.map(({number:n},r)=>new ZK(n,this)),this.currentTime=0,this.playing=!0},this.resetSingSetup=()=>{this.playing=!1},this.isPlaying=()=>this.playing,this.getTolerance=()=>{var t;return((t=this.getSingSetup())==null?void 0:t.tolerance)??2},this.setDuration=t=>this.duration=t,this.getDuration=()=>this.duration,this.getPlayer=t=>this.playerStates.find(n=>n.getNumber()===t),this.getPlayers=()=>this.playerStates,this.getPlayerCount=()=>this.playerStates.length,this.getPlayerScore=t=>{var n,r;return((n=this.getSingSetup())==null?void 0:n.mode)===Ci.CO_OP?this.getPlayers().reduce((s,l)=>s+l.getScore(),0)/this.getPlayerCount():((r=this.getPlayer(t))==null?void 0:r.getScore())??-1},this.getPlayerDetailedScore=t=>{var n;if(((n=this.getSingSetup())==null?void 0:n.mode)===Ci.CO_OP){const r=this.getPlayers().map(c=>c.getDetailedScore()),[i,...s]=r.map(([c,d,u])=>[Bm(d,c),Bm(u,c)]),l=s.reduce((c,d)=>[m5(c[0],d[0]),m5(c[1],d[1])],i);return[y5(l[0],this.getPlayerCount()),y5(l[1],this.getPlayerCount())]}else{const[r,i,s]=this.getPlayer(t).getDetailedScore();return[Bm(i,r),Bm(s,r)]}},this.getSongCompletionProgress=()=>(console.log("getSongCompletionProgress",this.getCurrentBeat(),_5(this.getSong()),this.getSong()),Math.max(0,Math.min(1,this.getCurrentBeat()/_5(this.getSong())))),this.startInputMonitoring=async()=>ur.startMonitoring(),this.stopInputMonitoring=()=>ur.stopMonitoring(),this.update=()=>{this.playerStates.forEach(t=>t.update())},this.resetPlayerNotes=()=>{this.playerStates.forEach(t=>t.resetNotes())},this.isMergedTrack=()=>{var t;return((t=this.getSingSetup())==null?void 0:t.players.length)!==2}}}const lt=new eW,L4="wss://allkaraoke-partykit.asvarox.partykit.dev";class tW extends Gs{constructor(){super(...arguments),this.name="PartyKit",this.connection=null,this.disconnect=()=>{var t;(t=this.connection)==null||t.close()},this.latency=0,this.pingStart=Mi(),this.pinging=!1,this.pingTimeout=null,this.ping=()=>{var t;this.pinging=!0,this.pingStart=Mi(),(t=this.connection)==null||t.send(Ls({t:"ping"}))},this.onPong=()=>{this.pinging&&(this.latency=Mi()-this.pingStart,this.pinging=!1,this.pingTimeout&&clearTimeout(this.pingTimeout),this.pingTimeout=setTimeout(this.ping,5e3))},this.getCurrentPing=()=>this.pinging?Math.max(this.latency,Mi()-this.pingStart):this.latency}connect(t,n,r){this.connection=new WebSocket(`${L4}/party/${t}`),this.connection.binaryType="arraybuffer",this.connection.onopen=()=>{var i,s;(i=this.connection)==null||i.send(Ls({t:"register-room",id:t})),n(),this.ping(),(s=this.connection)==null||s.addEventListener("message",l=>{var d;const c=ef(l.data);if(c.t==="forward"){["ping","pong","freq"].includes((d=c==null?void 0:c.payload)==null?void 0:d.t)||console.log("received",c);const{sender:u,payload:p}=c,h=new nW(u,this.connection);this.onUpdate(p,h)}else c.t==="pong"?this.onPong():console.warn("Unknown message type",c)})},this.connection.onclose=i=>{r(i.reason,i)}}removePlayer(t){var n;(n=this.connection)==null||n.send(Ls({t:"remove-player",id:t}))}}let nW=class{constructor(t,n){this.peer=t,this.socket=n,this.currentPing=0,this.send=r=>{const i={t:"forward",recipients:[this.peer],payload:r};["ping","pong","freq"].includes(r==null?void 0:r.t)||console.log("sending",this.peer,r),this.socket.send(Ls(i))},this.callbacksMap=new Map,this.on=(r,i)=>{r==="data"&&(this.callbacksMap.set(i,s=>{const l=ef(s.data);if(l.t==="forward"){const{sender:c,payload:d}=l;c===this.peer&&i(d)}}),this.socket.addEventListener("message",this.callbacksMap.get(i)))},this.off=(r,i)=>{if(r==="data"){const s=this.callbacksMap.get(i);this.socket.removeEventListener("message",s),this.callbacksMap.delete(i)}},this.close=()=>{this.socket.close()}}};var Cj;const rW=(Cj=global==null?void 0:global.sessionStorage)==null?void 0:Cj.getItem("isE2E");var kj;const iW=(kj=global==null?void 0:global.location)==null?void 0:kj.search.includes("e2e-test");function ds(){var t;if(rW)return!0;const e=(global==null?void 0:global.isE2ETests)||iW;return e&&((t=global==null?void 0:global.sessionStorage)==null||t.setItem("isE2E","true")),e}const sW=ds()?{host:"localhost",port:3001,path:"/"}:{},F4={...sW};var aW=Object.create,pv=Object.defineProperty,oW=Object.defineProperties,lW=Object.getOwnPropertyDescriptor,cW=Object.getOwnPropertyDescriptors,z4=Object.getOwnPropertyNames,S5=Object.getOwnPropertySymbols,uW=Object.getPrototypeOf,$4=Object.prototype.hasOwnProperty,dW=Object.prototype.propertyIsEnumerable,x5=(e,t,n)=>t in e?pv(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Bw=(e,t)=>{for(var n in t||(t={}))$4.call(t,n)&&x5(e,n,t[n]);if(S5)for(var n of S5(t))dW.call(t,n)&&x5(e,n,t[n]);return e},U4=(e,t)=>oW(e,cW(t)),fW=e=>pv(e,"__esModule",{value:!0}),Nw=(e,t)=>function(){return t||(0,e[z4(e)[0]])((t={exports:{}}).exports,t),t.exports},hW=(e,t,n,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of z4(t))!$4.call(e,i)&&i!=="default"&&pv(e,i,{get:()=>t[i],enumerable:!(r=lW(t,i))||r.enumerable});return e},Up=(e,t)=>hW(fW(pv(e!=null?aW(uW(e)):{},"default",e&&e.__esModule?{get:()=>e.default,enumerable:!0}:{value:e,enumerable:!0})),e),pd=(e,t,n)=>new Promise((r,i)=>{var s=d=>{try{c(n.next(d))}catch(u){i(u)}},l=d=>{try{c(n.throw(d))}catch(u){i(u)}},c=d=>d.done?r(d.value):Promise.resolve(d.value).then(s,l);c((n=n.apply(e,t)).next())}),w5=Nw({"node_modules/peerjs-js-binarypack/lib/bufferbuilder.js"(e,t){var n={};n.useBlobBuilder=function(){try{return new Blob([]),!1}catch{return!0}}(),n.useArrayBufferView=!n.useBlobBuilder&&function(){try{return new Blob([new Uint8Array([])]).size===0}catch{return!0}}(),t.exports.binaryFeatures=n;var r=t.exports.BlobBuilder;typeof window<"u"&&(r=t.exports.BlobBuilder=window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder||window.BlobBuilder);function i(){this._pieces=[],this._parts=[]}i.prototype.append=function(s){typeof s=="number"?this._pieces.push(s):(this.flush(),this._parts.push(s))},i.prototype.flush=function(){if(this._pieces.length>0){var s=new Uint8Array(this._pieces);n.useArrayBufferView||(s=s.buffer),this._parts.push(s),this._pieces=[]}},i.prototype.getBuffer=function(){if(this.flush(),n.useBlobBuilder){for(var s=new r,l=0,c=this._parts.length;l<c;l++)s.append(this._parts[l]);return s.getBlob()}else return new Blob(this._parts)},t.exports.BufferBuilder=i}}),pW=Nw({"node_modules/peerjs-js-binarypack/lib/binarypack.js"(e,t){var n=w5().BufferBuilder,r=w5().binaryFeatures,i={unpack:function(u){var p=new s(u);return p.unpack()},pack:function(u){var p=new l;p.pack(u);var h=p.getBuffer();return h}};t.exports=i;function s(u){this.index=0,this.dataBuffer=u,this.dataView=new Uint8Array(this.dataBuffer),this.length=this.dataBuffer.byteLength}s.prototype.unpack=function(){var u=this.unpack_uint8();if(u<128)return u;if((u^224)<32)return(u^224)-32;var p;if((p=u^160)<=15)return this.unpack_raw(p);if((p=u^176)<=15)return this.unpack_string(p);if((p=u^144)<=15)return this.unpack_array(p);if((p=u^128)<=15)return this.unpack_map(p);switch(u){case 192:return null;case 193:return;case 194:return!1;case 195:return!0;case 202:return this.unpack_float();case 203:return this.unpack_double();case 204:return this.unpack_uint8();case 205:return this.unpack_uint16();case 206:return this.unpack_uint32();case 207:return this.unpack_uint64();case 208:return this.unpack_int8();case 209:return this.unpack_int16();case 210:return this.unpack_int32();case 211:return this.unpack_int64();case 212:return;case 213:return;case 214:return;case 215:return;case 216:return p=this.unpack_uint16(),this.unpack_string(p);case 217:return p=this.unpack_uint32(),this.unpack_string(p);case 218:return p=this.unpack_uint16(),this.unpack_raw(p);case 219:return p=this.unpack_uint32(),this.unpack_raw(p);case 220:return p=this.unpack_uint16(),this.unpack_array(p);case 221:return p=this.unpack_uint32(),this.unpack_array(p);case 222:return p=this.unpack_uint16(),this.unpack_map(p);case 223:return p=this.unpack_uint32(),this.unpack_map(p)}},s.prototype.unpack_uint8=function(){var u=this.dataView[this.index]&255;return this.index++,u},s.prototype.unpack_uint16=function(){var u=this.read(2),p=(u[0]&255)*256+(u[1]&255);return this.index+=2,p},s.prototype.unpack_uint32=function(){var u=this.read(4),p=((u[0]*256+u[1])*256+u[2])*256+u[3];return this.index+=4,p},s.prototype.unpack_uint64=function(){var u=this.read(8),p=((((((u[0]*256+u[1])*256+u[2])*256+u[3])*256+u[4])*256+u[5])*256+u[6])*256+u[7];return this.index+=8,p},s.prototype.unpack_int8=function(){var u=this.unpack_uint8();return u<128?u:u-256},s.prototype.unpack_int16=function(){var u=this.unpack_uint16();return u<32768?u:u-65536},s.prototype.unpack_int32=function(){var u=this.unpack_uint32();return u<Math.pow(2,31)?u:u-Math.pow(2,32)},s.prototype.unpack_int64=function(){var u=this.unpack_uint64();return u<Math.pow(2,63)?u:u-Math.pow(2,64)},s.prototype.unpack_raw=function(u){if(this.length<this.index+u)throw new Error("BinaryPackFailure: index is out of range "+this.index+" "+u+" "+this.length);var p=this.dataBuffer.slice(this.index,this.index+u);return this.index+=u,p},s.prototype.unpack_string=function(u){for(var p=this.read(u),h=0,y="",v,b;h<u;)v=p[h],v<128?(y+=String.fromCharCode(v),h++):(v^192)<32?(b=(v^192)<<6|p[h+1]&63,y+=String.fromCharCode(b),h+=2):(b=(v&15)<<12|(p[h+1]&63)<<6|p[h+2]&63,y+=String.fromCharCode(b),h+=3);return this.index+=u,y},s.prototype.unpack_array=function(u){for(var p=new Array(u),h=0;h<u;h++)p[h]=this.unpack();return p},s.prototype.unpack_map=function(u){for(var p={},h=0;h<u;h++){var y=this.unpack(),v=this.unpack();p[y]=v}return p},s.prototype.unpack_float=function(){var u=this.unpack_uint32(),p=u>>31,h=(u>>23&255)-127,y=u&8388607|8388608;return(p===0?1:-1)*y*Math.pow(2,h-23)},s.prototype.unpack_double=function(){var u=this.unpack_uint32(),p=this.unpack_uint32(),h=u>>31,y=(u>>20&2047)-1023,v=u&1048575|1048576,b=v*Math.pow(2,y-20)+p*Math.pow(2,y-52);return(h===0?1:-1)*b},s.prototype.read=function(u){var p=this.index;if(p+u<=this.length)return this.dataView.subarray(p,p+u);throw new Error("BinaryPackFailure: read index out of range")};function l(){this.bufferBuilder=new n}l.prototype.getBuffer=function(){return this.bufferBuilder.getBuffer()},l.prototype.pack=function(u){var p=typeof u;if(p==="string")this.pack_string(u);else if(p==="number")Math.floor(u)===u?this.pack_integer(u):this.pack_double(u);else if(p==="boolean")u===!0?this.bufferBuilder.append(195):u===!1&&this.bufferBuilder.append(194);else if(p==="undefined")this.bufferBuilder.append(192);else if(p==="object")if(u===null)this.bufferBuilder.append(192);else{var h=u.constructor;if(h==Array)this.pack_array(u);else if(h==Blob||h==File||u instanceof Blob||u instanceof File)this.pack_bin(u);else if(h==ArrayBuffer)r.useArrayBufferView?this.pack_bin(new Uint8Array(u)):this.pack_bin(u);else if("BYTES_PER_ELEMENT"in u)r.useArrayBufferView?this.pack_bin(new Uint8Array(u.buffer)):this.pack_bin(u.buffer);else if(h==Object||h.toString().startsWith("class"))this.pack_object(u);else if(h==Date)this.pack_string(u.toString());else if(typeof u.toBinaryPack=="function")this.bufferBuilder.append(u.toBinaryPack());else throw new Error('Type "'+h.toString()+'" not yet supported')}else throw new Error('Type "'+p+'" not yet supported');this.bufferBuilder.flush()},l.prototype.pack_bin=function(u){var p=u.length||u.byteLength||u.size;if(p<=15)this.pack_uint8(160+p);else if(p<=65535)this.bufferBuilder.append(218),this.pack_uint16(p);else if(p<=4294967295)this.bufferBuilder.append(219),this.pack_uint32(p);else throw new Error("Invalid length");this.bufferBuilder.append(u)},l.prototype.pack_string=function(u){var p=d(u);if(p<=15)this.pack_uint8(176+p);else if(p<=65535)this.bufferBuilder.append(216),this.pack_uint16(p);else if(p<=4294967295)this.bufferBuilder.append(217),this.pack_uint32(p);else throw new Error("Invalid length");this.bufferBuilder.append(u)},l.prototype.pack_array=function(u){var p=u.length;if(p<=15)this.pack_uint8(144+p);else if(p<=65535)this.bufferBuilder.append(220),this.pack_uint16(p);else if(p<=4294967295)this.bufferBuilder.append(221),this.pack_uint32(p);else throw new Error("Invalid length");for(var h=0;h<p;h++)this.pack(u[h])},l.prototype.pack_integer=function(u){if(u>=-32&&u<=127)this.bufferBuilder.append(u&255);else if(u>=0&&u<=255)this.bufferBuilder.append(204),this.pack_uint8(u);else if(u>=-128&&u<=127)this.bufferBuilder.append(208),this.pack_int8(u);else if(u>=0&&u<=65535)this.bufferBuilder.append(205),this.pack_uint16(u);else if(u>=-32768&&u<=32767)this.bufferBuilder.append(209),this.pack_int16(u);else if(u>=0&&u<=4294967295)this.bufferBuilder.append(206),this.pack_uint32(u);else if(u>=-2147483648&&u<=2147483647)this.bufferBuilder.append(210),this.pack_int32(u);else if(u>=-9223372036854776e3&&u<=9223372036854776e3)this.bufferBuilder.append(211),this.pack_int64(u);else if(u>=0&&u<=18446744073709552e3)this.bufferBuilder.append(207),this.pack_uint64(u);else throw new Error("Invalid integer")},l.prototype.pack_double=function(u){var p=0;u<0&&(p=1,u=-u);var h=Math.floor(Math.log(u)/Math.LN2),y=u/Math.pow(2,h)-1,v=Math.floor(y*Math.pow(2,52)),b=Math.pow(2,32),_=p<<31|h+1023<<20|v/b&1048575,w=v%b;this.bufferBuilder.append(203),this.pack_int32(_),this.pack_int32(w)},l.prototype.pack_object=function(u){var p=Object.keys(u),h=p.length;if(h<=15)this.pack_uint8(128+h);else if(h<=65535)this.bufferBuilder.append(222),this.pack_uint16(h);else if(h<=4294967295)this.bufferBuilder.append(223),this.pack_uint32(h);else throw new Error("Invalid length");for(var y in u)u.hasOwnProperty(y)&&(this.pack(y),this.pack(u[y]))},l.prototype.pack_uint8=function(u){this.bufferBuilder.append(u)},l.prototype.pack_uint16=function(u){this.bufferBuilder.append(u>>8),this.bufferBuilder.append(u&255)},l.prototype.pack_uint32=function(u){var p=u&4294967295;this.bufferBuilder.append((p&4278190080)>>>24),this.bufferBuilder.append((p&16711680)>>>16),this.bufferBuilder.append((p&65280)>>>8),this.bufferBuilder.append(p&255)},l.prototype.pack_uint64=function(u){var p=u/Math.pow(2,32),h=u%Math.pow(2,32);this.bufferBuilder.append((p&4278190080)>>>24),this.bufferBuilder.append((p&16711680)>>>16),this.bufferBuilder.append((p&65280)>>>8),this.bufferBuilder.append(p&255),this.bufferBuilder.append((h&4278190080)>>>24),this.bufferBuilder.append((h&16711680)>>>16),this.bufferBuilder.append((h&65280)>>>8),this.bufferBuilder.append(h&255)},l.prototype.pack_int8=function(u){this.bufferBuilder.append(u&255)},l.prototype.pack_int16=function(u){this.bufferBuilder.append((u&65280)>>8),this.bufferBuilder.append(u&255)},l.prototype.pack_int32=function(u){this.bufferBuilder.append(u>>>24&255),this.bufferBuilder.append((u&16711680)>>>16),this.bufferBuilder.append((u&65280)>>>8),this.bufferBuilder.append(u&255)},l.prototype.pack_int64=function(u){var p=Math.floor(u/Math.pow(2,32)),h=u%Math.pow(2,32);this.bufferBuilder.append((p&4278190080)>>>24),this.bufferBuilder.append((p&16711680)>>>16),this.bufferBuilder.append((p&65280)>>>8),this.bufferBuilder.append(p&255),this.bufferBuilder.append((h&4278190080)>>>24),this.bufferBuilder.append((h&16711680)>>>16),this.bufferBuilder.append((h&65280)>>>8),this.bufferBuilder.append(h&255)};function c(u){var p=u.charCodeAt(0);return p<=2047?"00":p<=65535?"000":p<=2097151?"0000":p<=67108863?"00000":"000000"}function d(u){return u.length>600?new Blob([u]).size:u.replace(/[^\u0000-\u007F]/g,c).length}}}),gv=Nw({"node_modules/eventemitter3/index.js"(e,t){var n=Object.prototype.hasOwnProperty,r="~";function i(){}Object.create&&(i.prototype=Object.create(null),new i().__proto__||(r=!1));function s(u,p,h){this.fn=u,this.context=p,this.once=h||!1}function l(u,p,h,y,v){if(typeof h!="function")throw new TypeError("The listener must be a function");var b=new s(h,y||u,v),_=r?r+p:p;return u._events[_]?u._events[_].fn?u._events[_]=[u._events[_],b]:u._events[_].push(b):(u._events[_]=b,u._eventsCount++),u}function c(u,p){--u._eventsCount===0?u._events=new i:delete u._events[p]}function d(){this._events=new i,this._eventsCount=0}d.prototype.eventNames=function(){var p=[],h,y;if(this._eventsCount===0)return p;for(y in h=this._events)n.call(h,y)&&p.push(r?y.slice(1):y);return Object.getOwnPropertySymbols?p.concat(Object.getOwnPropertySymbols(h)):p},d.prototype.listeners=function(p){var h=r?r+p:p,y=this._events[h];if(!y)return[];if(y.fn)return[y.fn];for(var v=0,b=y.length,_=new Array(b);v<b;v++)_[v]=y[v].fn;return _},d.prototype.listenerCount=function(p){var h=r?r+p:p,y=this._events[h];return y?y.fn?1:y.length:0},d.prototype.emit=function(p,h,y,v,b,_){var w=r?r+p:p;if(!this._events[w])return!1;var T=this._events[w],k=arguments.length,R,M;if(T.fn){switch(T.once&&this.removeListener(p,T.fn,void 0,!0),k){case 1:return T.fn.call(T.context),!0;case 2:return T.fn.call(T.context,h),!0;case 3:return T.fn.call(T.context,h,y),!0;case 4:return T.fn.call(T.context,h,y,v),!0;case 5:return T.fn.call(T.context,h,y,v,b),!0;case 6:return T.fn.call(T.context,h,y,v,b,_),!0}for(M=1,R=new Array(k-1);M<k;M++)R[M-1]=arguments[M];T.fn.apply(T.context,R)}else{var E=T.length,O;for(M=0;M<E;M++)switch(T[M].once&&this.removeListener(p,T[M].fn,void 0,!0),k){case 1:T[M].fn.call(T[M].context);break;case 2:T[M].fn.call(T[M].context,h);break;case 3:T[M].fn.call(T[M].context,h,y);break;case 4:T[M].fn.call(T[M].context,h,y,v);break;default:if(!R)for(O=1,R=new Array(k-1);O<k;O++)R[O-1]=arguments[O];T[M].fn.apply(T[M].context,R)}}return!0},d.prototype.on=function(p,h,y){return l(this,p,h,y,!1)},d.prototype.once=function(p,h,y){return l(this,p,h,y,!0)},d.prototype.removeListener=function(p,h,y,v){var b=r?r+p:p;if(!this._events[b])return this;if(!h)return c(this,b),this;var _=this._events[b];if(_.fn)_.fn===h&&(!v||_.once)&&(!y||_.context===y)&&c(this,b);else{for(var w=0,T=[],k=_.length;w<k;w++)(_[w].fn!==h||v&&!_[w].once||y&&_[w].context!==y)&&T.push(_[w]);T.length?this._events[b]=T.length===1?T[0]:T:c(this,b)}return this},d.prototype.removeAllListeners=function(p){var h;return p?(h=r?r+p:p,this._events[h]&&c(this,h)):(this._events=new i,this._eventsCount=0),this},d.prototype.off=d.prototype.removeListener,d.prototype.addListener=d.prototype.on,d.prefixed=r,d.EventEmitter=d,typeof t<"u"&&(t.exports=d)}}),E5=Up(pW()),gW={iceServers:[{urls:"stun:stun.l.google.com:19302"},{urls:"turn:0.peerjs.com:3478",username:"peerjs",credential:"peerjsp"}],sdpSemantics:"unified-plan"},Zn=new class{constructor(){this.CLOUD_HOST="0.peerjs.com",this.CLOUD_PORT=443,this.chunkedMTU=16300,this.defaultConfig=gW,this.pack=E5.pack,this.unpack=E5.unpack,this._dataCount=1}validateId(e){return!e||/^[A-Za-z0-9]+(?:[ _-][A-Za-z0-9]+)*$/.test(e)}chunk(e){const t=[],n=e.size,r=Math.ceil(n/Zn.chunkedMTU);let i=0,s=0;for(;s<n;){const l=Math.min(n,s+Zn.chunkedMTU),c=e.slice(s,l),d={__peerData:this._dataCount,n:i,data:c,total:r};t.push(d),s=l,i++}return this._dataCount++,t}blobToArrayBuffer(e,t,n){const r=new e;return r.onload=function(i){i.target&&n(i.target.result)},r.readAsArrayBuffer(t),r}binaryStringToArrayBuffer(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n)&255;return t.buffer}randomToken(){return Math.random().toString(36).substr(2)}isSecure(){return location.protocol==="https:"}},mW=Up(gv()),yW="PeerJS: ",vW=class{constructor(){this._logLevel=0}get logLevel(){return this._logLevel}set logLevel(e){this._logLevel=e}log(...e){this._logLevel>=3&&this._print(3,...e)}warn(...e){this._logLevel>=2&&this._print(2,...e)}error(...e){this._logLevel>=1&&this._print(1,...e)}setLogFunction(e){this._print=e}_print(e,...t){const n=[yW,...t];for(let r in n)n[r]instanceof Error&&(n[r]="("+n[r].name+") "+n[r].message);e>=3?console.log(...n):e>=2?console.warn("WARNING",...n):e>=1&&console.error("ERROR",...n)}},Ke=new vW,AW=Up(gv()),bW=class extends AW.EventEmitter{constructor({secure:e,host:t,port:n,path:r,key:i,pingInterval:s=5e3,polyfills:l}){super(),this._disconnected=!0,this._id=null,this._messagesQueue=[],this.alive=!1,this._destroyed=!1;var c;this.pingInterval=s;const d=e?"wss://":"ws://";this._baseUrl=d+t+":"+n+r+"peerjs?key="+i,this.WebSocketConstructor=(c=l==null?void 0:l.WebSocket)!=null?c:window.WebSocket}get messagesQueue(){return this._messagesQueue}get destroyed(){return this._destroyed}start(e,t){if(this._destroyed)throw new Error("Socket was destroyed!");if(this._id=e,this._socket||!this._disconnected)return;const n=`${this._baseUrl}&id=${e}&token=${t}`;this._socket=new this.WebSocketConstructor(n),this._disconnected=!1,this._socket.onmessage=r=>{if(this._destroyed)return;let i;try{i=JSON.parse(r.data),Ke.log("Server message received:",i)}catch{Ke.log("Invalid server message",r.data);return}this.emit("message",i)},this._socket.onclose=r=>{this._disconnected||this._destroyed||(Ke.log("Socket closed.",r),this._cleanup(),this._disconnected=!0,this.emit("disconnected"))},this._socket.onopen=()=>{this._disconnected||this._destroyed||(Ke.log("Socket open"),this.emit("open"),this._sendQueuedMessages(),this._scheduleHeartbeat())}}_scheduleHeartbeat(){this._wsPingTimer=setTimeout(()=>{this._sendHeartbeat()},this.pingInterval)}_sendHeartbeat(){if(this._destroyed)return;if(!this._wsOpen()){Ke.log("Cannot send heartbeat, because socket closed");return}const e=JSON.stringify({type:"HEARTBEAT"});this._socket.send(e),this._scheduleHeartbeat()}_wsOpen(){return!!this._socket&&this._socket.readyState===1}_sendQueuedMessages(){const e=[...this._messagesQueue];this._messagesQueue=[];for(const t of e)this.send(t);e.length>0&&Ke.log(`${e.length} queued messages was sent`)}send(e){if(this._destroyed)throw new Error("Socket was destroyed!");if(!e.type){this.emit("error","Invalid message");return}if(!this.alive)return;if(this._id==null||!this._wsOpen()){this._messagesQueue.push(e);return}const t=JSON.stringify(e);this._socket.send(t)}close(){this._disconnected||(this._cleanup(),this._id=null,this._disconnected=!0)}_cleanup(){this._socket&&(this._socket.onopen=this._socket.onmessage=this._socket.onclose=null,this._socket.close(),this._socket=void 0),clearTimeout(this._wsPingTimer)}destroy(){this._destroyed||(this.close(),this._messagesQueue.length=0,this._destroyed=!0)}};function _W(){}var H4=class{constructor(e){this.connection=e}get webRtc(){var e,t;return(t=(e=this.connection.provider.options.polyfills)==null?void 0:e.WebRTC)!=null?t:window}startConnection(e){const t=this._startPeerConnection();if(this.connection.peerConnection=t,this.connection.type==="media"&&e._stream&&this._addTracksToConnection(e._stream,t),e.originator){if(this.connection.type==="data"){const n=this.connection,r={ordered:!!e.reliable},i=t.createDataChannel(n.label,r);n.initialize(i)}this._makeOffer()}else this.handleSDP("OFFER",e.sdp)}_startPeerConnection(){Ke.log("Creating RTCPeerConnection.");const e=this.webRtc.RTCPeerConnection,t=new e(this.connection.provider.options.config);return this._setupListeners(t),t}_setupListeners(e){const t=this.connection.peer,n=this.connection.connectionId,r=this.connection.type,i=this.connection.provider;Ke.log("Listening for ICE candidates, remote streams and data channels."),e.onicecandidate=s=>{!s.candidate||!s.candidate.candidate||(Ke.log(`Received ICE candidates for ${t}:`,s.candidate),i.socket.send({type:"CANDIDATE",payload:{candidate:s.candidate,type:r,connectionId:n},dst:t}))},e.oniceconnectionstatechange=()=>{switch(e.iceConnectionState){case"failed":Ke.log("iceConnectionState is failed, closing connections to "+t),this.connection.emit("error",new Error("Negotiation of connection to "+t+" failed.")),this.connection.close();break;case"closed":Ke.log("iceConnectionState is closed, closing connections to "+t),this.connection.emit("error",new Error("Connection to "+t+" closed.")),this.connection.close();break;case"connected":Ke.log("iceConnectionState changed to connected on the connection with "+t);break;case"disconnected":Ke.log("iceConnectionState changed to disconnected on the connection with "+t);break;case"completed":Ke.log("iceConnectionState changed to completed on the connection with "+t),e.onicecandidate=_W;break}this.connection.emit("iceStateChanged",e.iceConnectionState)},e.ondatachannel=s=>{Ke.log("Received data channel");const l=s.channel;i.getConnection(t,n).initialize(l)},e.ontrack=s=>{Ke.log("Received remote stream");const l=s.streams[0],c=i.getConnection(t,n);if(c.type==="media"){const d=c;this._addStreamToMediaConnection(l,d)}}}cleanup(){Ke.log("Cleaning up PeerConnection to "+this.connection.peer);const e=this.connection.peerConnection;if(!e)return;this.connection.peerConnection=null,e.onicecandidate=e.oniceconnectionstatechange=e.ondatachannel=e.ontrack=null;const t=e.signalingState!=="closed";let n=!1;if(this.connection.type==="data"){const i=this.connection.dataChannel;i&&(n=!!i.readyState&&i.readyState!=="closed")}(t||n)&&e.close()}_makeOffer(){return pd(this,null,function*(){const e=this.connection.peerConnection,t=this.connection.provider;try{const n=yield e.createOffer(this.connection.options.constraints);if(e.signalingState==="closed")return;Ke.log("Created offer."),this.connection.options.sdpTransform&&typeof this.connection.options.sdpTransform=="function"&&(n.sdp=this.connection.options.sdpTransform(n.sdp)||n.sdp);try{yield e.setLocalDescription(n),Ke.log("Set localDescription:",n,`for:${this.connection.peer}`);let r={sdp:n,type:this.connection.type,connectionId:this.connection.connectionId,metadata:this.connection.metadata};if(this.connection.type==="data"){const i=this.connection;r=U4(Bw({},r),{label:i.label,reliable:i.reliable,serialization:i.serialization})}t.socket.send({type:"OFFER",payload:r,dst:this.connection.peer})}catch(r){r!="OperationError: Failed to set local offer sdp: Called in wrong state: kHaveRemoteOffer"&&(t.emitError("webrtc",r),Ke.log("Failed to setLocalDescription, ",r))}}catch(n){t.emitError("webrtc",n),Ke.log("Failed to createOffer, ",n)}})}_makeAnswer(){return pd(this,null,function*(){const e=this.connection.peerConnection,t=this.connection.provider;try{const n=yield e.createAnswer();if(e.signalingState==="closed")return;Ke.log("Created answer."),this.connection.options.sdpTransform&&typeof this.connection.options.sdpTransform=="function"&&(n.sdp=this.connection.options.sdpTransform(n.sdp)||n.sdp);try{yield e.setLocalDescription(n),Ke.log("Set localDescription:",n,`for:${this.connection.peer}`),t.socket.send({type:"ANSWER",payload:{sdp:n,type:this.connection.type,connectionId:this.connection.connectionId},dst:this.connection.peer})}catch(r){t.emitError("webrtc",r),Ke.log("Failed to setLocalDescription, ",r)}}catch(n){t.emitError("webrtc",n),Ke.log("Failed to create answer, ",n)}})}handleSDP(e,t){return pd(this,null,function*(){const n=this.webRtc.RTCSessionDescription;t=new n(t);const r=this.connection.peerConnection,i=this.connection.provider;Ke.log("Setting remote description",t);const s=this;try{yield r.setRemoteDescription(t),Ke.log(`Set remoteDescription:${e} for:${this.connection.peer}`),e==="OFFER"&&(yield s._makeAnswer())}catch(l){i.emitError("webrtc",l),Ke.log("Failed to setRemoteDescription, ",l)}})}handleCandidate(e){return pd(this,null,function*(){Ke.log("handleCandidate:",e);const t=e.candidate,n=e.sdpMLineIndex,r=e.sdpMid,i=this.connection.peerConnection,s=this.connection.provider;try{const l=this.webRtc.RTCIceCandidate;yield i.addIceCandidate(new l({sdpMid:r,sdpMLineIndex:n,candidate:t})),Ke.log(`Added ICE candidate for:${this.connection.peer}`)}catch(l){s.emitError("webrtc",l),Ke.log("Failed to handleCandidate, ",l)}})}_addTracksToConnection(e,t){if(Ke.log(`add tracks from stream ${e.id} to peer connection`),!t.addTrack)return Ke.error("Your browser does't support RTCPeerConnection#addTrack. Ignored.");e.getTracks().forEach(n=>{t.addTrack(n,e)})}_addStreamToMediaConnection(e,t){Ke.log(`add stream ${e.id} to media connection ${t.connectionId}`),t.addStream(e)}},SW=Up(gv()),q4=class extends SW.EventEmitter{constructor(e,t,n){super(),this.peer=e,this.provider=t,this.options=n,this._open=!1,this.metadata=n.metadata}get open(){return this._open}},G4=class extends q4{get type(){return"media"}get localStream(){return this._localStream}get remoteStream(){return this._remoteStream}constructor(e,t,n){super(e,t,n),this._localStream=this.options._stream,this.connectionId=this.options.connectionId||G4.ID_PREFIX+Zn.randomToken(),this._negotiator=new H4(this),this._localStream&&this._negotiator.startConnection({_stream:this._localStream,originator:!0})}addStream(e){Ke.log("Receiving stream",e),this._remoteStream=e,super.emit("stream",e)}handleMessage(e){const t=e.type,n=e.payload;switch(e.type){case"ANSWER":this._negotiator.handleSDP(t,n.sdp),this._open=!0;break;case"CANDIDATE":this._negotiator.handleCandidate(n.candidate);break;default:Ke.warn(`Unrecognized message type:${t} from peer:${this.peer}`);break}}answer(e,t={}){if(this._localStream){Ke.warn("Local stream already exists on this MediaConnection. Are you answering a call twice?");return}this._localStream=e,t&&t.sdpTransform&&(this.options.sdpTransform=t.sdpTransform),this._negotiator.startConnection(U4(Bw({},this.options._payload),{_stream:e}));const n=this.provider._getMessages(this.connectionId);for(let r of n)this.handleMessage(r);this._open=!0}close(){this._negotiator&&(this._negotiator.cleanup(),this._negotiator=null),this._localStream=null,this._remoteStream=null,this.provider&&(this.provider._removeConnection(this),this.provider=null),this.options&&this.options._stream&&(this.options._stream=null),this.open&&(this._open=!1,super.emit("close"))}},XS=G4;XS.ID_PREFIX="mc_";var xW=Up(gv()),wW=class extends xW.EventEmitter{constructor(e){super(),this.fileReader=e,this._queue=[],this._processing=!1,this.fileReader.onload=t=>{this._processing=!1,t.target&&this.emit("done",t.target.result),this.doNextTask()},this.fileReader.onerror=t=>{Ke.error("EncodingQueue error:",t),this._processing=!1,this.destroy(),this.emit("error",t)}}get queue(){return this._queue}get size(){return this.queue.length}get processing(){return this._processing}enque(e){this.queue.push(e),!this.processing&&this.doNextTask()}destroy(){this.fileReader.abort(),this._queue=[]}doNextTask(){this.size!==0&&(this.processing||(this._processing=!0,this.fileReader.readAsArrayBuffer(this.queue.shift())))}},JS=class extends q4{constructor(e,t,n){super(e,t,n),this.stringify=JSON.stringify,this.parse=JSON.parse,this._buffer=[],this._bufferSize=0,this._buffering=!1,this._chunkedData={};var r,i;this.connectionId=this.options.connectionId||JS.ID_PREFIX+Zn.randomToken(),this.label=this.options.label||this.connectionId,this.serialization=this.options.serialization||"binary",this.reliable=!!this.options.reliable,this.FileReaderCtr=(i=(r=t.options.polyfills)==null?void 0:r.FileReader)!=null?i:window.FileReader,this._encodingQueue=new wW(new this.FileReaderCtr),this._encodingQueue.on("done",s=>{this._bufferedSend(s)}),this._encodingQueue.on("error",()=>{Ke.error(`DC#${this.connectionId}: Error occured in encoding from blob to arraybuffer, close DC`),this.close()}),this._negotiator=new H4(this),this._negotiator.startConnection(this.options._payload||{originator:!0})}get type(){return"data"}get dataChannel(){return this._dc}get bufferSize(){return this._bufferSize}initialize(e){this._dc=e,this._configureDataChannel()}_configureDataChannel(){(!this.provider.features.binaryBlob||this.provider.features.reliable)&&(this.dataChannel.binaryType="arraybuffer"),this.dataChannel.onopen=()=>{Ke.log(`DC#${this.connectionId} dc connection success`),this._open=!0,this.emit("open")},this.dataChannel.onmessage=e=>{Ke.log(`DC#${this.connectionId} dc onmessage:`,e.data),this._handleDataMessage(e)},this.dataChannel.onclose=()=>{Ke.log(`DC#${this.connectionId} dc closed for:`,this.peer),this.close()}}_handleDataMessage({data:e}){const t=e.constructor,n=this.serialization==="binary"||this.serialization==="binary-utf8";let r=e;if(n){if(t===Blob){Zn.blobToArrayBuffer(this.FileReaderCtr,e,i=>{const s=Zn.unpack(i);this.emit("data",s)});return}else if(t===ArrayBuffer)r=Zn.unpack(e);else if(t===String){const i=Zn.binaryStringToArrayBuffer(e);r=Zn.unpack(i)}}else this.serialization==="json"&&(r=this.parse(e));if(r.__peerData){this._handleChunk(r);return}super.emit("data",r)}_handleChunk(e){const t=e.__peerData,n=this._chunkedData[t]||{data:[],count:0,total:e.total};if(n.data[e.n]=e.data,n.count++,this._chunkedData[t]=n,n.total===n.count){delete this._chunkedData[t];const r=new Blob(n.data);this._handleDataMessage({data:r})}}close(){this._buffer=[],this._bufferSize=0,this._chunkedData={},this._negotiator&&(this._negotiator.cleanup(),this._negotiator=null),this.provider&&(this.provider._removeConnection(this),this.provider=null),this.dataChannel&&(this.dataChannel.onopen=null,this.dataChannel.onmessage=null,this.dataChannel.onclose=null,this._dc=null),this._encodingQueue&&(this._encodingQueue.destroy(),this._encodingQueue.removeAllListeners(),this._encodingQueue=null),this.open&&(this._open=!1,super.emit("close"))}send(e,t){if(!this.open){super.emit("error",new Error("Connection is not open. You should listen for the `open` event before sending messages."));return}if(this.serialization==="json")this._bufferedSend(this.stringify(e));else if(this.serialization==="binary"||this.serialization==="binary-utf8"){const n=Zn.pack(e);if(!t&&n.size>Zn.chunkedMTU){this._sendChunks(n);return}this.provider.features.binaryBlob?this._bufferedSend(n):this._encodingQueue.enque(n)}else this._bufferedSend(e)}_bufferedSend(e){(this._buffering||!this._trySend(e))&&(this._buffer.push(e),this._bufferSize=this._buffer.length)}_trySend(e){if(!this.open)return!1;if(this.dataChannel.bufferedAmount>JS.MAX_BUFFERED_AMOUNT)return this._buffering=!0,setTimeout(()=>{this._buffering=!1,this._tryBuffer()},50),!1;try{this.dataChannel.send(e)}catch(t){return Ke.error(`DC#:${this.connectionId} Error when sending:`,t),this._buffering=!0,this.close(),!1}return!0}_tryBuffer(){if(!this.open||this._buffer.length===0)return;const e=this._buffer[0];this._trySend(e)&&(this._buffer.shift(),this._bufferSize=this._buffer.length,this._tryBuffer())}_sendChunks(e){const t=Zn.chunk(e);Ke.log(`DC#${this.connectionId} Try to send ${t.length} chunks...`);for(let n of t)this.send(n,!0)}handleMessage(e){const t=e.payload;switch(e.type){case"ANSWER":this._negotiator.handleSDP(e.type,t.sdp);break;case"CANDIDATE":this._negotiator.handleCandidate(t.candidate);break;default:Ke.warn("Unrecognized message type:",e.type,"from peer:",this.peer);break}}},m0=JS;m0.ID_PREFIX="dc_";m0.MAX_BUFFERED_AMOUNT=8*1024*1024;var EW=class{constructor(e){this._options=e}_request(e){var t,n;return((n=(t=this._options.polyfills)==null?void 0:t.fetch)!=null?n:window.fetch)(e)}_buildUrl(e){let n=(this._options.secure?"https://":"http://")+this._options.host+":"+this._options.port+this._options.path+this._options.key+"/"+e;const r="?ts="+new Date().getTime()+Math.random();return n+=r,n}retrieveId(){return pd(this,null,function*(){const e=this._buildUrl("id");try{const t=yield this._request(e);if(t.status!==200)throw new Error(`Error. Status:${t.status}`);return t.text()}catch(t){Ke.error("Error retrieving ID",t);let n="";throw this._options.path==="/"&&this._options.host!==Zn.CLOUD_HOST&&(n=" If you passed in a `path` to your self-hosted PeerServer, you'll also need to pass in that same path when creating a new Peer."),new Error("Could not get an ID from the server."+n)}})}listAllPeers(){return pd(this,null,function*(){const e=this._buildUrl("peers");try{const t=yield this._request(e);if(t.status!==200){if(t.status===401){let n="";throw this._options.host===Zn.CLOUD_HOST?n="It looks like you're using the cloud server. You can email team@peerjs.com to enable peer listing for your API key.":n="You need to enable `allow_discovery` on your self-hosted PeerServer to use this feature.",new Error("It doesn't look like you have permission to list peers IDs. "+n)}throw new Error(`Error. Status:${t.status}`)}return t.json()}catch(t){throw Ke.error("Error retrieving list peers",t),new Error("Could not get list peers from the server."+t)}})}},TW={isUnifiedPlanSupported(e){if(!e&&typeof window<"u"&&(e=window),typeof e.RTCRtpTransceiver>"u"||!("currentDirection"in e.RTCRtpTransceiver.prototype))return!1;let t,n=!1;try{t=new e.RTCPeerConnection,t.addTransceiver("audio"),n=!0}catch{}finally{t&&t.close()}return n}},pc=class extends mW.EventEmitter{constructor(e,t){super(),this._id=null,this._lastServerId=null,this._destroyed=!1,this._disconnected=!1,this._open=!1,this._connections=new Map,this._lostMessages=new Map;var n;let r;if(e&&e.constructor==Object?t=e:e&&(r=e.toString()),t=Bw({debug:0,host:Zn.CLOUD_HOST,port:Zn.CLOUD_PORT,path:"/",key:pc.DEFAULT_KEY,token:Zn.randomToken(),config:Zn.defaultConfig},t),this._options=t,typeof window<"u"&&this._options.host==="/"&&(this._options.host=window.location.hostname),this._options.path&&(this._options.path[0]!=="/"&&(this._options.path="/"+this._options.path),this._options.path[this._options.path.length-1]!=="/"&&(this._options.path+="/")),this._options.secure===void 0&&this._options.host!==Zn.CLOUD_HOST?this._options.secure=Zn.isSecure():this._options.host==Zn.CLOUD_HOST&&(this._options.secure=!0),this._options.logFunction&&Ke.setLogFunction(this._options.logFunction),Ke.logLevel=this._options.debug||0,this._api=new EW(t),this._socket=this._createServerConnection(),this.features=pc.getFeatures((n=this._options.polyfills)==null?void 0:n.WebRTC),!this.features.audioVideo&&!this.features.data){this._delayedAbort("browser-incompatible","The current browser does not support WebRTC");return}if(r&&!Zn.validateId(r)){this._delayedAbort("invalid-id",`ID "${r}" is invalid`);return}this.socket.alive=!0,r?this._initialize(r):this._api.retrieveId().then(i=>this._initialize(i)).catch(i=>this._abort("server-error",i))}get id(){return this._id}get options(){return this._options}get open(){return this._open}get socket(){return this._socket}get connections(){const e=Object.create(null);for(let[t,n]of this._connections)e[t]=n;return e}get destroyed(){return this._destroyed}get disconnected(){return this._disconnected}_createServerConnection(){const e=new bW(this._options);return e.on("message",t=>{this._handleMessage(t)}),e.on("error",t=>{this._abort("socket-error",t)}),e.on("disconnected",()=>{this.disconnected||(this.emitError("network","Lost connection to server."),this.disconnect())}),e.on("close",()=>{this.disconnected||this._abort("socket-closed","Underlying socket is already closed.")}),e}_initialize(e){this.destroyed||(this._id=e,this.socket.start(e,this._options.token))}_handleMessage(e){const t=e.type,n=e.payload,r=e.src;switch(t){case"OPEN":this._lastServerId=this.id,this._open=!0,this.emit("open",this.id);break;case"ERROR":this._abort("server-error",n.msg);break;case"ID-TAKEN":this._abort("unavailable-id",`ID "${this.id}" is taken`);break;case"INVALID-KEY":this._abort("invalid-key",`API KEY "${this._options.key}" is invalid`);break;case"LEAVE":Ke.log(`Received leave message from ${r}`),this._cleanupPeer(r),this._connections.delete(r);break;case"EXPIRE":this.emitError("peer-unavailable",`Could not connect to peer ${r}`);break;case"OFFER":{const i=n.connectionId;let s=this.getConnection(r,i);if(s&&(s.close(),Ke.warn(`Offer received for existing Connection ID:${i}`)),n.type==="media")s=new XS(r,this,{connectionId:i,_payload:n,metadata:n.metadata}),this._addConnection(r,s),this.emit("call",s);else if(n.type==="data")s=new m0(r,this,{connectionId:i,_payload:n,metadata:n.metadata,label:n.label,serialization:n.serialization,reliable:n.reliable}),this._addConnection(r,s),this.emit("connection",s);else{Ke.warn(`Received malformed connection type:${n.type}`);return}const l=this._getMessages(i);for(let c of l)s.handleMessage(c);break}default:{if(!n){Ke.warn(`You received a malformed message from ${r} of type ${t}`);return}const i=n.connectionId,s=this.getConnection(r,i);s&&s.peerConnection?s.handleMessage(e):i?this._storeMessage(i,e):Ke.warn("You received an unrecognized message:",e);break}}}_storeMessage(e,t){this._lostMessages.has(e)||this._lostMessages.set(e,[]),this._lostMessages.get(e).push(t)}_getMessages(e){const t=this._lostMessages.get(e);return t?(this._lostMessages.delete(e),t):[]}connect(e,t={}){if(this.disconnected){Ke.warn("You cannot connect to a new Peer because you called .disconnect() on this Peer and ended your connection with the server. You can create a new Peer to reconnect, or call reconnect on this peer if you believe its ID to still be available."),this.emitError("disconnected","Cannot connect to new Peer after disconnecting from server.");return}const n=new m0(e,this,t);return this._addConnection(e,n),n}call(e,t,n={}){if(this.disconnected){Ke.warn("You cannot connect to a new Peer because you called .disconnect() on this Peer and ended your connection with the server. You can create a new Peer to reconnect."),this.emitError("disconnected","Cannot connect to new Peer after disconnecting from server.");return}if(!t){Ke.error("To call a peer, you must provide a stream from your browser's `getUserMedia`.");return}n._stream=t;const r=new XS(e,this,n);return this._addConnection(e,r),r}_addConnection(e,t){Ke.log(`add connection ${t.type}:${t.connectionId} to peerId:${e}`),this._connections.has(e)||this._connections.set(e,[]),this._connections.get(e).push(t)}_removeConnection(e){const t=this._connections.get(e.peer);if(t){const n=t.indexOf(e);n!==-1&&(t.splice(n,1),t.length===0&&this._connections.delete(e.peer))}this._lostMessages.delete(e.connectionId)}getConnection(e,t){const n=this._connections.get(e);if(!n)return null;for(let r of n)if(r.connectionId===t)return r;return null}_delayedAbort(e,t){setTimeout(()=>{this._abort(e,t)},0)}_abort(e,t){Ke.error("Aborting!"),this.emitError(e,t),this._lastServerId?this.disconnect():this.destroy()}emitError(e,t){Ke.error("Error:",t);let n;typeof t=="string"?n=new Error(t):n=t,n.type=e,this.emit("error",n)}destroy(){this.destroyed||(Ke.log(`Destroy peer with ID:${this.id}`),this.disconnect(),this._cleanup(),this.socket.destroy(),this._destroyed=!0,this.emit("close"))}_cleanup(){for(let e of this._connections.keys())this._cleanupPeer(e),this._connections.delete(e);this.socket.removeAllListeners()}_cleanupPeer(e){const t=this._connections.get(e);if(t)for(let n of t)n.close()}disconnect(){if(this.disconnected)return;const e=this.id;Ke.log(`Disconnect peer with ID:${e}`),this._disconnected=!0,this._open=!1,this.socket.alive=!1,this.socket.close(),this._lastServerId=e,this._id=null,this.emit("disconnected",e)}reconnect(){if(this.disconnected&&!this.destroyed)Ke.log(`Attempting reconnection to server with ID ${this._lastServerId}`),this._disconnected=!1,this.socket.alive=!0,this._initialize(this._lastServerId);else{if(this.destroyed)throw new Error("This peer cannot reconnect to the server. It has already been destroyed.");if(!this.disconnected&&!this.open)Ke.error("In a hurry? We're still trying to make the initial connection!");else throw new Error(`Peer ${this.id} cannot reconnect because it is not disconnected from the server!`)}}listAllPeers(e=t=>{}){this._api.listAllPeers().then(t=>e(t)).catch(t=>this._abort("server-error",t))}static getFeatures(e){return!e&&typeof window<"u"&&(e=window),pc._features||(pc._features=pc.checkFeatures(e)),pc._features}static checkFeatures(e){!e&&typeof window<"u"&&(e=window);const t={webRTC:typeof e.RTCPeerConnection<"u",audioVideo:!0,data:!1,binaryBlob:!1,reliable:!1,unifiedPlan:!1};if(!t.webRTC)return t;let n;try{n=new e.RTCPeerConnection(Zn.defaultConfig);let r;try{r=n.createDataChannel("_PEERJSTEST",{ordered:!0}),t.data=!0,t.reliable=!!r.ordered;try{r.binaryType="blob",t.binaryBlob=!0}catch{}}catch{}finally{r&&r.close()}}catch{}finally{n&&n.close()}return t.unifiedPlan=TW.isUnifiedPlanSupported(e),t}},mv=pc;mv.DEFAULT_KEY="peerjs";typeof window<"u"&&(window.Peer=mv);class CW extends Gs{constructor(){super(...arguments),this.name="PeerJS",this.peer=null,this.connectedPeers={},this.getCurrentPing=()=>0,this.disconnect=()=>{var t;(t=this.peer)==null||t.disconnect()}}connect(t,n,r){this.peer=new mv(`allkaraoke-party-room-${t}`,F4),this.peer.on("open",function(i){n(),console.log("My peer ID is: "+i)}),this.peer.on("connection",i=>{this.connectedPeers[i.peer]=i,i.on("data",s=>{this.onUpdate(s,i)}),i.on("error",s=>console.warn("error",s)),i.on("iceStateChanged",s=>{(s==="disconnected"||s==="closed")&&(this.connectedPeers[i.peer]=i,this.onUpdate({t:"unregister"},i))}),i.on("close",()=>{delete this.connectedPeers[i.peer],Dt.removeRemoteMic(i.peer)})})}removePlayer(t){var n;(n=this.connectedPeers[t])==null||n.close()}}const Y4="wss://allkaraoke-posthog.fly.dev";class kW extends Gs{constructor(){super(),this.name="WebSockets",this.connection=null,this.disconnect=()=>{var t;(t=this.connection)==null||t.close()},this.latency=0,this.pingStart=Mi(),this.pinging=!1,this.pingTimeout=null,this.ping=()=>{var t;this.pinging=!0,this.pingStart=Mi(),(t=this.connection)==null||t.send(Ls({t:"ping"}))},this.onPong=()=>{this.pinging&&(this.latency=Mi()-this.pingStart,this.pinging=!1,this.pingTimeout&&clearTimeout(this.pingTimeout),this.pingTimeout=setTimeout(this.ping,5e3))},this.getCurrentPing=()=>this.pinging?Math.max(this.latency,Mi()-this.pingStart):this.latency}connect(t,n,r){this.connection=new WebSocket(Y4),this.connection.binaryType="arraybuffer",this.connection.onopen=()=>{var i,s;(i=this.connection)==null||i.send(Ls({t:"register-room",id:t})),n(),this.ping(),(s=this.connection)==null||s.addEventListener("message",l=>{var d;const c=ef(l.data);if(c.t==="forward"){["ping","pong","freq"].includes((d=c==null?void 0:c.payload)==null?void 0:d.t)||console.log("received",c);const{sender:u,payload:p}=c,h=new MW(u,this.connection);this.onUpdate(p,h)}else c.t==="pong"?this.onPong():console.warn("Unknown message type",c)})},this.connection.onclose=i=>{r(i.reason,i)}}removePlayer(t){var n;(n=this.connection)==null||n.send(Ls({t:"remove-player",id:t}))}}class MW{constructor(t,n){this.peer=t,this.socket=n,this.currentPing=0,this.send=r=>{const i={t:"forward",recipients:[this.peer],payload:r};["ping","pong","freq"].includes(r==null?void 0:r.t)||console.log("sending",this.peer,r),this.socket.send(Ls(i))},this.callbacksMap=new Map,this.on=(r,i)=>{r==="data"&&(this.callbacksMap.set(i,s=>{const l=ef(s.data);if(l.t==="forward"){const{sender:c,payload:d}=l;c===this.peer&&i(d)}}),this.socket.addEventListener("message",this.callbacksMap.get(i)))},this.off=(r,i)=>{if(r==="data"){const s=this.callbacksMap.get(i);this.socket.removeEventListener("message",s),this.callbacksMap.delete(i)}},this.close=()=>{this.socket.close()}}}var Ty={exports:{}},RW=Ty.exports,T5;function IW(){return T5||(T5=1,function(e,t){(function(n,r){e.exports=r()})(RW,function(){var n=1e3,r=6e4,i=36e5,s="millisecond",l="second",c="minute",d="hour",u="day",p="week",h="month",y="quarter",v="year",b="date",_="Invalid Date",w=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,T=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,k={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(q){var H=["th","st","nd","rd"],D=q%100;return"["+q+(H[(D-20)%10]||H[D]||H[0])+"]"}},R=function(q,H,D){var K=String(q);return!K||K.length>=H?q:""+Array(H+1-K.length).join(D)+q},M={s:R,z:function(q){var H=-q.utcOffset(),D=Math.abs(H),K=Math.floor(D/60),Q=D%60;return(H<=0?"+":"-")+R(K,2,"0")+":"+R(Q,2,"0")},m:function q(H,D){if(H.date()<D.date())return-q(D,H);var K=12*(D.year()-H.year())+(D.month()-H.month()),Q=H.clone().add(K,h),J=D-Q<0,B=H.clone().add(K+(J?-1:1),h);return+(-(K+(D-Q)/(J?Q-B:B-Q))||0)},a:function(q){return q<0?Math.ceil(q)||0:Math.floor(q)},p:function(q){return{M:h,y:v,w:p,d:u,D:b,h:d,m:c,s:l,ms:s,Q:y}[q]||String(q||"").toLowerCase().replace(/s$/,"")},u:function(q){return q===void 0}},E="en",O={};O[E]=k;var P="$isDayjsObject",j=function(q){return q instanceof U||!(!q||!q[P])},V=function q(H,D,K){var Q;if(!H)return E;if(typeof H=="string"){var J=H.toLowerCase();O[J]&&(Q=J),D&&(O[J]=D,Q=J);var B=H.split("-");if(!Q&&B.length>1)return q(B[0])}else{var G=H.name;O[G]=H,Q=G}return!K&&Q&&(E=Q),Q||!K&&E},C=function(q,H){if(j(q))return q.clone();var D=typeof H=="object"?H:{};return D.date=q,D.args=arguments,new U(D)},N=M;N.l=V,N.i=j,N.w=function(q,H){return C(q,{locale:H.$L,utc:H.$u,x:H.$x,$offset:H.$offset})};var U=function(){function q(D){this.$L=V(D.locale,null,!0),this.parse(D),this.$x=this.$x||D.x||{},this[P]=!0}var H=q.prototype;return H.parse=function(D){this.$d=function(K){var Q=K.date,J=K.utc;if(Q===null)return new Date(NaN);if(N.u(Q))return new Date;if(Q instanceof Date)return new Date(Q);if(typeof Q=="string"&&!/Z$/i.test(Q)){var B=Q.match(w);if(B){var G=B[2]-1||0,ee=(B[7]||"0").substring(0,3);return J?new Date(Date.UTC(B[1],G,B[3]||1,B[4]||0,B[5]||0,B[6]||0,ee)):new Date(B[1],G,B[3]||1,B[4]||0,B[5]||0,B[6]||0,ee)}}return new Date(Q)}(D),this.init()},H.init=function(){var D=this.$d;this.$y=D.getFullYear(),this.$M=D.getMonth(),this.$D=D.getDate(),this.$W=D.getDay(),this.$H=D.getHours(),this.$m=D.getMinutes(),this.$s=D.getSeconds(),this.$ms=D.getMilliseconds()},H.$utils=function(){return N},H.isValid=function(){return this.$d.toString()!==_},H.isSame=function(D,K){var Q=C(D);return this.startOf(K)<=Q&&Q<=this.endOf(K)},H.isAfter=function(D,K){return C(D)<this.startOf(K)},H.isBefore=function(D,K){return this.endOf(K)<C(D)},H.$g=function(D,K,Q){return N.u(D)?this[K]:this.set(Q,D)},H.unix=function(){return Math.floor(this.valueOf()/1e3)},H.valueOf=function(){return this.$d.getTime()},H.startOf=function(D,K){var Q=this,J=!!N.u(K)||K,B=N.p(D),G=function(Re,ye){var je=N.w(Q.$u?Date.UTC(Q.$y,ye,Re):new Date(Q.$y,ye,Re),Q);return J?je:je.endOf(u)},ee=function(Re,ye){return N.w(Q.toDate()[Re].apply(Q.toDate("s"),(J?[0,0,0,0]:[23,59,59,999]).slice(ye)),Q)},ue=this.$W,F=this.$M,ge=this.$D,se="set"+(this.$u?"UTC":"");switch(B){case v:return J?G(1,0):G(31,11);case h:return J?G(1,F):G(0,F+1);case p:var Se=this.$locale().weekStart||0,Me=(ue<Se?ue+7:ue)-Se;return G(J?ge-Me:ge+(6-Me),F);case u:case b:return ee(se+"Hours",0);case d:return ee(se+"Minutes",1);case c:return ee(se+"Seconds",2);case l:return ee(se+"Milliseconds",3);default:return this.clone()}},H.endOf=function(D){return this.startOf(D,!1)},H.$set=function(D,K){var Q,J=N.p(D),B="set"+(this.$u?"UTC":""),G=(Q={},Q[u]=B+"Date",Q[b]=B+"Date",Q[h]=B+"Month",Q[v]=B+"FullYear",Q[d]=B+"Hours",Q[c]=B+"Minutes",Q[l]=B+"Seconds",Q[s]=B+"Milliseconds",Q)[J],ee=J===u?this.$D+(K-this.$W):K;if(J===h||J===v){var ue=this.clone().set(b,1);ue.$d[G](ee),ue.init(),this.$d=ue.set(b,Math.min(this.$D,ue.daysInMonth())).$d}else G&&this.$d[G](ee);return this.init(),this},H.set=function(D,K){return this.clone().$set(D,K)},H.get=function(D){return this[N.p(D)]()},H.add=function(D,K){var Q,J=this;D=Number(D);var B=N.p(K),G=function(F){var ge=C(J);return N.w(ge.date(ge.date()+Math.round(F*D)),J)};if(B===h)return this.set(h,this.$M+D);if(B===v)return this.set(v,this.$y+D);if(B===u)return G(1);if(B===p)return G(7);var ee=(Q={},Q[c]=r,Q[d]=i,Q[l]=n,Q)[B]||1,ue=this.$d.getTime()+D*ee;return N.w(ue,this)},H.subtract=function(D,K){return this.add(-1*D,K)},H.format=function(D){var K=this,Q=this.$locale();if(!this.isValid())return Q.invalidDate||_;var J=D||"YYYY-MM-DDTHH:mm:ssZ",B=N.z(this),G=this.$H,ee=this.$m,ue=this.$M,F=Q.weekdays,ge=Q.months,se=Q.meridiem,Se=function(ye,je,Ge,Fe){return ye&&(ye[je]||ye(K,J))||Ge[je].slice(0,Fe)},Me=function(ye){return N.s(G%12||12,ye,"0")},Re=se||function(ye,je,Ge){var Fe=ye<12?"AM":"PM";return Ge?Fe.toLowerCase():Fe};return J.replace(T,function(ye,je){return je||function(Ge){switch(Ge){case"YY":return String(K.$y).slice(-2);case"YYYY":return N.s(K.$y,4,"0");case"M":return ue+1;case"MM":return N.s(ue+1,2,"0");case"MMM":return Se(Q.monthsShort,ue,ge,3);case"MMMM":return Se(ge,ue);case"D":return K.$D;case"DD":return N.s(K.$D,2,"0");case"d":return String(K.$W);case"dd":return Se(Q.weekdaysMin,K.$W,F,2);case"ddd":return Se(Q.weekdaysShort,K.$W,F,3);case"dddd":return F[K.$W];case"H":return String(G);case"HH":return N.s(G,2,"0");case"h":return Me(1);case"hh":return Me(2);case"a":return Re(G,ee,!0);case"A":return Re(G,ee,!1);case"m":return String(ee);case"mm":return N.s(ee,2,"0");case"s":return String(K.$s);case"ss":return N.s(K.$s,2,"0");case"SSS":return N.s(K.$ms,3,"0");case"Z":return B}return null}(ye)||B.replace(":","")})},H.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},H.diff=function(D,K,Q){var J,B=this,G=N.p(K),ee=C(D),ue=(ee.utcOffset()-this.utcOffset())*r,F=this-ee,ge=function(){return N.m(B,ee)};switch(G){case v:J=ge()/12;break;case h:J=ge();break;case y:J=ge()/3;break;case p:J=(F-ue)/6048e5;break;case u:J=(F-ue)/864e5;break;case d:J=F/i;break;case c:J=F/r;break;case l:J=F/n;break;default:J=F}return Q?J:N.a(J)},H.daysInMonth=function(){return this.endOf(h).$D},H.$locale=function(){return O[this.$L]},H.locale=function(D,K){if(!D)return this.$L;var Q=this.clone(),J=V(D,K,!0);return J&&(Q.$L=J),Q},H.clone=function(){return N.w(this.$d,this)},H.toDate=function(){return new Date(this.valueOf())},H.toJSON=function(){return this.isValid()?this.toISOString():null},H.toISOString=function(){return this.$d.toISOString()},H.toString=function(){return this.$d.toUTCString()},q}(),L=U.prototype;return C.prototype=L,[["$ms",s],["$s",l],["$m",c],["$H",d],["$W",u],["$M",h],["$y",v],["$D",b]].forEach(function(q){L[q[1]]=function(H){return this.$g(H,q[0],q[1])}}),C.extend=function(q,H){return q.$i||(q(H,U,C),q.$i=!0),C},C.locale=V,C.isDayjs=j,C.unix=function(q){return C(1e3*q)},C.en=O[E],C.Ls=O,C.p={},C})}(Ty)),Ty.exports}var OW=IW();const oa=Pr(OW);function ZS(e){return!!e}function jW(e){return[...Array(e).keys()]}const PW=250,C1=(e,t=0,n=1/0)=>e.filter(un).filter(r=>El([r])>=t).filter(r=>xp([r])<=n).reduce((r,i)=>r+i.notes.reduce((s,l)=>s+l.length,0),0),VW=(e,t)=>{const[n,...r]=e.filter(un),i=[[n]];return r.forEach(s=>{const l=i.at(-1),c=xp(l);(El([s])-c)*t>PW?i.push([s]):l.push(s)}),i},K4=(e,t)=>e+t,C5=e=>{const t=e.map(n=>n.reduce(K4,0));return Math.max(...t)-Math.min(...t)},DW=(e,t)=>{const n=JSON.parse(JSON.stringify(e)),r=s=>{if(n[s-1].length<2)return;const l=n[s-1].pop();n[s].push(l)},i=s=>{var d;if(((d=n[s+1])==null?void 0:d.length)<2)return;const[l,...c]=n[s+1];n[s].push(l),n[s+1]=c};return t%2===1?r(Math.ceil(t/2)):i(Math.ceil(t/2)),n},BW=e=>e.reduce(K4,0);function Lw(e,t){const r=ff(t);if(e.sections.length<9)return[];const i=VW(e.sections,r);let s=[],l=[C1(i[0])];for(let c=0;c<i.length-2;c++){const d=i[s.flat().length-1]??[],p=C1(e.sections,xp(d)??0)/(10-s.length),h=C1(i[c+1]),y=BW(l);y+h<p?l=[...l,h]:p-y<y+h-p?(s.push(l),l=[h]):(s.push([...l,h]),l=[])}for(let c=0;c<100;c++){const d=C5(s),u=jW((s.length-2)*2+2).map(v=>DW(s,v)),p=u.map(C5),h=Math.min(...p);if(d<=h)break;const y=p.indexOf(h);s=u[y]}return s.map(c=>c.length).reduce((c,d)=>[...c,(c.at(-1)??0)+d],[]).map(c=>xp(i[c-1]))}var Cy={exports:{}},NW=Cy.exports,k5;function LW(){return k5||(k5=1,function(e,t){(function(n,r){e.exports=r()})(NW,function(){function n(r){return typeof r=="string"?r.replace(/[^A-Za-z0-9]/g,function(i){return n.characters[i]||i}):r}return n.characters={:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A","":"A",:"A","":"AA",:"AE",:"AE",:"AE","":"AO","":"AU","":"AV","":"AV","":"AY",:"B",:"B",:"B",:"B","":"B",:"B",:"C",:"C",:"C",:"C",:"C",:"C",:"C","":"C",:"D",:"D",:"D",:"D",:"D",:"D",:"D",:"D",:"D",:"D",:"D",:"D",:"DZ",:"DZ",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E","":"E",:"E",:"E","":"ET",:"F",:"F",:"G",:"G",:"G",:"G",:"G",:"G",:"G",:"G",:"G",:"H",:"H",:"H",:"H","":"H",:"H",:"H",:"H",:"H",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I","":"D","":"F","":"G","":"R","":"S","":"T","":"IS",:"J","":"J",:"K",:"K",:"K","":"K","":"K",:"K",:"K",:"K","":"K","":"K",:"L","":"L",:"L",:"L",:"L",:"L",:"L","":"L","":"L",:"L",:"L","":"L",:"L",:"L",:"LJ",:"M",:"M",:"M","":"M",:"N",:"N",:"N",:"N",:"N",:"N",:"N",:"N",:"N","":"N",:"N",:"N",:"NJ",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O","":"O","":"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"OI","":"OO",:"E",:"O",:"OU",:"P",:"P","":"P",:"P","":"P","":"P","":"P","":"Q","":"Q",:"R",:"R",:"R",:"R",:"R",:"R",:"R",:"R",:"R","":"R","":"R","":"C",:"E",:"S",:"S",:"S",:"S",:"S",:"S",:"S",:"S",:"S",:"S",:"ss",:"T",:"T",:"T",:"T","":"T",:"T",:"T",:"T",:"T",:"T",:"T","":"A","":"L",:"M","":"V","":"TZ",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U","":"V",:"V",:"V",:"V","":"VY",:"W",:"W",:"W",:"W",:"W",:"W","":"W",:"X",:"X",:"Y",:"Y",:"Y",:"Y",:"Y",:"Y",:"Y",:"Y","":"Y",:"Y","":"Y",:"Y",:"YI",:"Z",:"Z",:"Z","":"Z",:"Z",:"Z",:"Z",:"Z",:"Z",:"TH",:"IJ",:"OE","":"A","":"AE",:"B","":"B","":"C","":"D","":"E","":"F",:"G",:"G",:"H",:"I",:"R","":"J","":"K",:"L","":"L","":"M",:"N","":"O",:"OE","":"O","":"OU","":"P",:"R","":"N","":"R","":"S","":"T","":"E","":"R","":"U","":"V","":"W",:"Y","":"Z",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a","":"a",:"a",:"a",:"a",:"a","":"a",:"a","":"aa",:"ae",:"ae",:"ae","":"ao","":"au","":"av","":"av","":"ay",:"b",:"b",:"b",:"b","":"b","":"b",:"b",:"b",:"o",:"c",:"c",:"c",:"c",:"c",:"c",:"c",:"c","":"c",:"d",:"d",:"d","":"d",:"d",:"d",:"d","":"d",:"d","":"d","":"d",:"d",:"d",:"d",:"d",:"i","":"j",:"j",:"j",:"dz",:"dz",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e","":"e",:"e","":"e","":"e",:"e",:"e","":"et",:"f",:"f","":"f","":"f",:"g",:"g",:"g",:"g",:"g",:"g",:"g",:"g","":"g",:"g",:"h",:"h",:"h",:"h","":"h",:"h",:"h",:"h",:"h",:"h",:"h",:"hv",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"i","":"i",:"i",:"i",:"i",:"i","":"d","":"f","":"g","":"r","":"s","":"t","":"is",:"j",:"j",:"j","":"j",:"k",:"k",:"k","":"k","":"k",:"k",:"k",:"k","":"k","":"k","":"k",:"l",:"l",:"l",:"l",:"l",:"l","":"l",:"l",:"l","":"l","":"l",:"l",:"l",:"l","":"l",:"l",:"l",:"lj",:"s","":"s",:"s","":"s",:"m",:"m",:"m",:"m","":"m","":"m",:"n",:"n",:"n",:"n","":"n",:"n",:"n",:"n",:"n",:"n",:"n","":"n","":"n",:"n",:"n",:"nj",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o","":"o","":"o","":"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"oi","":"oo",:"e","":"e",:"o","":"o",:"ou",:"p",:"p","":"p",:"p","":"p","":"p","":"p","":"p","":"p","":"q",:"q","":"q","":"q",:"r",:"r",:"r",:"r",:"r",:"r",:"r",:"r","":"r",:"r",:"r",:"r","":"r","":"r","":"r",:"r","":"c","":"c",:"e",:"r",:"s",:"s",:"s",:"s",:"s",:"s",:"s",:"s",:"s",:"s",:"s","":"s","":"s","":"s",:"g","":"o","":"o","":"u",:"t",:"t",:"t",:"t","":"t",:"t","":"t",:"t",:"t",:"t",:"t","":"t",:"t",:"t",:"t","":"th",:"a","":"ae",:"e","":"g",:"h","":"h","":"h","":"i",:"k","":"l",:"m",:"m","":"oe",:"r",:"r",:"r","":"r",:"t",:"v",:"w",:"y","":"tz",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u","":"u",:"u",:"u",:"u",:"u","":"ue","":"um","":"v","":"v",:"v",:"v","":"v","":"v",:"v","":"vy",:"w",:"w",:"w",:"w",:"w",:"w","":"w",:"w",:"x",:"x","":"x",:"y",:"y",:"y",:"y",:"y",:"y",:"y",:"y","":"y",:"y",:"y","":"y",:"y",:"yi",:"z",:"z",:"z",:"z","":"z",:"z",:"z",:"z",:"z","":"z","":"z",:"z",:"z","":"z",:"th",:"ff",:"ffi",:"ffl",:"fi",:"fl",:"ij",:"oe",:"st","":"a","":"e","":"i","":"j","":"o","":"r","":"u","":"v","":"x",:"YO",:"I",:"TS",:"U",:"K",:"E",:"N",:"G",:"G",:"SH",:"SCH",:"Z",:"H",:"'",:"yo",:"i",:"ts",:"u",:"k",:"e",:"n",:"g",:"g",:"sh",:"sch",:"z",:"h",:"'",:"F",:"I",:"V",:"a",:"P",:"R",:"O",:"L",:"D",:"ZH",:"E",:"f",:"i",:"v",:"a",:"p",:"r",:"o",:"l",:"d",:"zh",:"e",:"Ya",:"CH",:"S",:"M",:"I",:"T",:"'",:"B",:"YU",:"ya",:"ch",:"s",:"m",:"i",:"t",:"'",:"b",:"yu"},n})}(Cy)),Cy.exports}var FW=LW();const zW=Pr(FW),$W=/[^0-9a-z]/gi;function Hd(e){return Fw(e).toLowerCase().normalize("NFKD").replace($W,"")}function Fw(e){return zW(e)}function W4(e){return Fw(e).toLowerCase().replace(/[^a-z0-9\s-]/g,"").replace(/\s+/g,"-").replace(/-+$/,"").replace(/^-+/,"").replace(/-+/g,"-")}function zw(e){return e.id?e.id:W4(`${e==null?void 0:e.artist}-${e==null?void 0:e.title}`)}const M5=(e,t,n)=>n>=e&&n<=t,R5=e=>e.notes.map(t=>t.lyrics).join(""),I5=e=>new Set(Hd(e)).size,UW=(e,t)=>{const n=e.reduce((i,s)=>`${i}${R5(s)}`,""),r=R5(t);return I5(n)/I5(r)<.5},HW=(e,t)=>{const n=t.start,r=Ud(t),i=e.filter(l=>{const c=l.start,d=Ud(l);return M5(n,r,c)||M5(n,r,d)||c<=n&&d>=r}),s=UW(i,t);return{section:t,shouldReplace:i.length===0||s,sectionsToRemove:i}};function Q4(e,t){if(e){if(e.length===1)return e[0]}else return e;const n=e.map(l=>l.sections.filter(un)),r=n[1].map(l=>HW(n[0],l));let i=[...n[0]];r.forEach((l,c)=>{l.shouldReplace&&(i=i.filter(d=>!l.sectionsToRemove.some(u=>u.start===d.start)),i.push(l.section))});const s={...e[0],sections:i.sort((l,c)=>l.start-c.start),changes:[]};return s.changes=Lw(s,t),s}const O5={R:"rap",F:"freestyle","*":"star",":":"normal",G:"rapstar"},qW={rap:"R",freestyle:"F",star:"*",normal:":",rapstar:"G"},GW=["TRACKNAMES","YEAR","EDITION","GENRE","LANGUAGE","VIDEOGAP","PREVIEWSTART","CREATOR","TITLE","ARTIST","BPM","GAP","ID","LASTUPDATE","VOLUME","REALBPM","PREVIEWEND","CREATORURL","SOURCEURL","ARTISTORIGIN","VIDEOID","ALLKARAOKE_ID","ALLKARAOKE_LASTUPDATE","ALLKARAOKE_VOLUME","ALLKARAOKE_REALBPM","ALLKARAOKE_PREVIEWEND","ALLKARAOKE_CREATORURL","ALLKARAOKE_SOURCEURL","ALLKARAOKE_ARTISTORIGIN","ALLKARAOKE_VIDEOID"];function YW(e){return e.split(`
`).filter(t=>t.startsWith("#")&&!GW.includes(t.substring(1).split(":")[0]))}function Mn(e,t,n="string"){const r=i=>{var c;const s=new RegExp(`#${i}\\:(.*)`),l=(c=e.match(s))==null?void 0:c[1];if(l!==void 0)return n==="number"?Number(l.replace(",","."))??0:n==="array"?l.split(", "):l.trim()};return t.map(r).filter(ZS).at(0)}function KW(e){var r;const t=Mn(e,["VIDEO"])??"",n=new RegExp("v=(.*?)(,|$)");return(r=t.match(n))==null?void 0:r[1]}const WW=/- -?\d+ -?\d+/;function j5(e){try{const t=new URL(e);return t.host==="youtu.be"?t.pathname.substring(1):t.host==="www.youtube.com"||t.host==="youtube.com"?t.searchParams.get("v"):null}catch{return null}}function QW(e,t){try{return JSON.parse(e)}catch{return t}}function XW(e){const t=Mn(e,["P1"]),n=Mn(e,["P2"]);return t||n?[t,n]:QW(Mn(e,["TRACKNAMES"]),[])}function JW(e,t,n,r,i){var v,b;const s=XW(e),l={year:Mn(e,["YEAR"]),artistOrigin:Mn(e,["ALLKARAOKE_ARTISTORIGIN","ARTISTORIGIN"]),lastUpdate:Mn(e,["ALLKARAOKE_LASTUPDATE","LASTUPDATE"]),edition:Mn(e,["EDITION"]),genre:Mn(e,["GENRE"]),videoGap:Mn(e,["VIDEOGAP"],"number"),realBpm:Mn(e,["ALLKARAOKE_REALBPM","REALBPM"],"number"),previewStart:Mn(e,["PREVIEWSTART"],"number"),previewEnd:Mn(e,["ALLKARAOKE_PREVIEWEND","PREVIEWEND"],"number"),volume:Mn(e,["ALLKARAOKE_VOLUME","VOLUME"],"number"),author:Mn(e,["CREATOR"])??n,authorUrl:Mn(e,["ALLKARAOKE_CREATORURL","CREATORURL"])??r,sourceUrl:Mn(e,["ALLKARAOKE_SOURCEURL","SOURCEURL"])??i};l.videoGap&&(l.videoGap=Math.floor(l.videoGap));const c=Mn(e,["TITLE"])??"",d=Mn(e,["ARTIST"])??"",u=Mn(e,["ALLKARAOKE_VIDEOID","VIDEOID"])??j5(Mn(e,["AUDIOURL"])??"")??j5(Mn(e,["VIDEOURL"])??"")??KW(e)??"",p={id:Mn(e,["ALLKARAOKE_ID","ID"])??zw({title:c,artist:d}),title:c,artist:d,video:u,language:Mn(e,["LANGUAGE"],"array")??[],bpm:Number(((v=Mn(e,["BPM"]))==null?void 0:v.replace(",","."))??0),bar:4,gap:Number(((b=Mn(e,["GAP"]))==null?void 0:b.replace(",","."))??0),...l,tracks:[],unsupportedProps:YW(e),mergedTrack:{}};if((t==null?void 0:t.length)===11)p.video=t;else if(t)try{const _=new URL(t);p.video=_.searchParams.get("v")||"Invalid link"}catch(_){p.video=`Invalid link: ${_.message}`}let h=[],y=0;return e.split(`
`).forEach(_=>{if(_.startsWith("#"))return;const w=_.split(" ");if(Number(w[1])<y*.75&&h.length&&(s[p.tracks.length]?p.tracks.push({sections:h,name:s[p.tracks.length],changes:[]}):p.tracks.push({sections:h,changes:[]}),h=[]),WW.test(_)){const[,T,k]=w;h.push({start:Number(T),end:Number(k),type:"pause"}),h.push({start:Number(k),type:"notes",notes:[]}),y=Number(k)}else if(_.startsWith("-"))h.push({start:Number(_.split("-")[1].trim()),notes:[],type:"notes"});else if(Object.keys(O5).includes(_[0])){h.length===0&&(h=[{start:0,notes:[],type:"notes"}]);const T=h[h.length-1],[k,R,M,E,...O]=w;T.notes.push({type:O5[k]??"normal",start:Number(R),length:Number(M),pitch:Number(E),lyrics:O.join(" ")}),y=Number(w[1])}}),s[p.tracks.length]?p.tracks.push({sections:h,name:s[p.tracks.length],changes:[]}):p.tracks.push({sections:h,changes:[]}),p.tracks=p.tracks.map(_=>({..._,sections:_.sections.filter(w=>w.type==="pause"||w.notes.length),changes:[]})).map(_=>({..._,changes:Lw(_,p)})),p.mergedTrack=Q4(p.tracks,p),p}const X4="CURRENT_VISIT_KEY",J4="LAST_VISIT_KEY",ZW=3*60*60*1e3,yv=Date.now();var Mj;const k1=Number(((Mj=at.local)==null?void 0:Mj.getItem(X4))??yv);var Rj;const Z4=((Rj=at.local)==null?void 0:Rj.getItem("posthog-user-id"))===null,eQ=Z4?yv:1673642382501;var Ij;let eD=Number(((Ij=at.local)==null?void 0:Ij.getItem(J4))??eQ);var Oj;(Z4||yv-k1>ZW)&&((Oj=at.local)==null||Oj.setItem(J4,String(k1)),eD=k1);var jj;(jj=at.local)==null||jj.setItem(X4,String(yv));const tQ=e=>Hd(`${e.artist}${e.title}`),nQ=({bar:e,unsupportedProps:t,mergedTrack:n,...r},i=!1)=>({...r,id:zw(r),language:Array.isArray(r.language)?r.language:[r.language],tracksCount:r.tracks.length,tracks:r.tracks.map(({name:s,sections:l})=>({name:s,start:El(l)})),search:tQ(r),local:i});let Eh=null;async function al(){if(!Eh)if("localStorage"in globalThis)try{Eh=df(async()=>{const{default:e}=await Promise.resolve().then(()=>dD);return{default:e}},void 0).then(({default:e})=>e.createInstance({name:"songs_v2"}))}catch(e){console.error(e),Eh=Promise.resolve(at.memory)}else Eh=Promise.resolve(at.memory);return Eh}const Nm="DELETED_SONGS_V2";class rQ{constructor(){this.defaultIndex=null,this.finalIndex=null,this.indexWithDeletedSongs=null,this.store=async t=>{var n;await((n=await al())==null?void 0:n.setItem(this.generateSongFile(t),{...t,lastUpdate:new Date().toISOString()})),await this.reloadIndex()},this.isOverridden=async t=>!!await this.getLocal(t),this.isBuiltIn=t=>{var n;return((n=this.defaultIndex)==null?void 0:n.some(r=>r.id===t))??!1},this.get=async t=>{const n=await this.getLocal(t);return n?{...n,local:!0}:await fetch(`/songs/${t}.txt`).then(r=>r.text()).then(JW).then(r=>({...r,local:!1}))},this.getIndex=async(t=!1)=>(this.finalIndex===null&&await this.reloadIndex(),t?this.indexWithDeletedSongs:this.finalIndex),this.getCurrentIndex=()=>this.finalIndex,this.getDeletedSongsList=async()=>{var n;return await((n=await al())==null?void 0:n.getItem(Nm))??[]},this.generateSongFile=t=>zw(t),this.reloadIndex=async()=>{const[t,n,r]=await Promise.all([fetch("/songs/index.json").then(c=>c.json()),this.getLocalIndex(),this.getDeletedSongsList()]);this.defaultIndex=t;const i=oa(eD),s=n.filter(c=>{const d=t.find(u=>u.id===c.id);return d?oa(c.lastUpdate??0).isAfter(oa(d.lastUpdate??0)):!0}),l=s.map(c=>c.id);n.forEach(async c=>{l.includes(c.id)||(await al()).removeItem(c.id)}),this.indexWithDeletedSongs=[...s,...t.filter(c=>!l.includes(this.generateSongFile(c)))].map(c=>({...c,isNew:c.lastUpdate?oa(c.lastUpdate).isAfter(i):!1,isDeleted:r==null?void 0:r.includes(this.generateSongFile(c))})),this.indexWithDeletedSongs.sort((c,d)=>`${c.artist} ${c.title}`.localeCompare(`${d.artist} ${d.title}`.toLowerCase())),this.finalIndex=this.indexWithDeletedSongs.filter(c=>!c.isDeleted)},this.deleteSong=async t=>(await(await al()).removeItem(t),this.reloadIndex()),this.softDeleteSong=async t=>{const n=await this.getDeletedSongsList();return await(await al()).setItem(Nm,[...new Set([...n,t])]),this.reloadIndex()},this.restoreSong=async t=>{const n=await this.getDeletedSongsList();return await(await al()).setItem(Nm,n.filter(r=>r!==t)),this.reloadIndex()},this.getLocal=async t=>{var r;const n=await((r=await al())==null?void 0:r.getItem(decodeURIComponent(t)));return n&&n.tracks?{...n,language:Array.isArray(n.language)?n.language:[n.language],mergedTrack:Q4(n.tracks,n),tracks:n.tracks.map(i=>({...i,changes:Lw(i,n)}))}:null},this.getLocalIndex=async()=>(await Promise.all((await this.getKeys()).map(this.getLocal))).filter(n=>n!==null).map(n=>{try{return nQ(n,!0)}catch(r){return console.error(r),null}}).filter(n=>n!==null),this.getKeys=async()=>{const t=[Nm];return(await(await al()).keys()).filter(n=>!t.includes(n))}}}const fs=new rQ,tD="room_id_key",ip=5,nD=e=>{at.session.setItem(tD,e)};class iQ{constructor(){var t;if(this.gameCode=at.session.getItem(tD),this.started=!1,this.start=()=>{if(!this.transport){const n=o0.get();this.transport=n==="WebSockets"?new kW:n==="PartyKit"?new tW:new CW}this.started||(this.started=!0,console.log("connection started",this.getGameCode()),nD(this.gameCode),this.transport.connect(this.getGameCode(),()=>{console.log("connected",this.getGameCode()),this.transport.addListener((n,r)=>{var s,l;const i=n.t;if(i==="register")Dt.addRemoteMic(n.id,n.name,r,n.silent,n.lag);else if(i==="unregister")Dt.removeRemoteMic(r.peer);else if(i==="subscribe-event")Dt.addSubscription(r.peer,n.channel);else if(i==="unsubscribe-event")Dt.removeSubscription(r.peer,n.channel);else if(i==="ping")r.send({t:"pong"});else if(i==="pong")(s=Dt.getRemoteMicById(r.peer))==null||s.onPong();else if(i==="request-songlist")Promise.all([fs.getLocalIndex(),fs.getDeletedSongsList()]).then(([c,d])=>{r.send({t:"songlist",custom:c.map(u=>({artist:u.artist,title:u.title,video:u.video,language:u.language,search:u.search})),deleted:d})});else if(i==="get-microphone-lag-request"){const c=Dt.getRemoteMicById(r.peer);c&&r.send({t:"get-microphone-lag-response",value:c.getInput().getInputLag()})}else if(i==="set-microphone-lag-request"){const c=Dt.getRemoteMicById(r.peer);c&&(c.getInput().setInputLag(n.value),r.send({t:"get-microphone-lag-response",value:c.getInput().getInputLag()}))}else Dt.getPermission(r.peer)==="write"&&(i==="keystroke"?me.remoteKeyboardPressed.dispatch(n.key):i==="search-song"?me.remoteSongSearch.dispatch(n.search):i==="select-song"?me.remoteSongSelected.dispatch(n.id):i==="request-mic-select"?me.playerChangeRequested.dispatch(n.id,n.playerNumber):i==="get-game-input-lag-request"?r.send({t:"get-game-input-lag-response",value:xd.get()}):i==="remove-player"?(l=this.transport)==null||l.removePlayer(n.id):i==="set-game-input-lag-request"?(xd.set(n.value),r.send({t:"get-game-input-lag-response",value:xd.get()})):i==="my-list"&&me.remoteMicSongListUpdated.dispatch(r.peer,n))}),me.micServerStarted.dispatch()},()=>{me.micServerStopped.dispatch(),this.started=!1,setTimeout(this.start,1e3)}))},this.isStarted=()=>this.started,this.getLatency=()=>{var n;return((n=this.transport)==null?void 0:n.getCurrentPing())??0},this.getGameCode=()=>{const n=o0.get();return(n==="WebSockets"?"w":n==="PartyKit"?"k":"p")+this.gameCode},!this.gameCode){this.gameCode="";for(let n=0;n<ip-1;n++)this.gameCode+=String.fromCharCode(Math.floor(Math.random()*26)+97)}(t=global==null?void 0:global.addEventListener)==null||t.call(global,"beforeunload",()=>{var n;Dt.getRemoteMics().forEach(r=>r.connection.close()),(n=this.transport)==null||n.disconnect()})}}const Oc=new iQ,qc=e=>`${e.deviceId};${e.channel}`,P5=[{channels:2,channel:1,label:"Drawing Test Input",id:qc({deviceId:"default",channel:1}),deviceId:"default"}],Ac=class Ac{};Ac.inputName="DrawingTest",Ac.getDefault=()=>P5[0],Ac.getInputs=async()=>P5,Ac.subscribeToListChange=t=>{},Ac.unsubscribeToListChange=t=>{};let ex=Ac;const V5=[{channels:2,channel:0,label:"Dummy Input 1",id:qc({deviceId:"default",channel:0}),deviceId:"default"},{channels:2,channel:1,label:"Dummy Input 2",id:qc({deviceId:"default",channel:1}),deviceId:"default"}],bc=class bc{};bc.inputName="Dummy",bc.getDefault=()=>V5[0],bc.getInputs=async()=>V5,bc.subscribeToListChange=t=>{},bc.unsubscribeToListChange=t=>{};let y0=bc;var sQ=Math.ceil,aQ=Math.max;function oQ(e,t,n,r){for(var i=-1,s=aQ(sQ((t-e)/(n||1)),0),l=Array(s);s--;)l[++i]=e,e+=n;return l}var lQ=9007199254740991;function $w(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=lQ}function Uw(e){return e!=null&&$w(e.length)&&!B4(e)}var cQ=9007199254740991,uQ=/^(?:0|[1-9]\d*)$/;function Hw(e,t){var n=typeof e;return t=t??cQ,!!t&&(n=="number"||n!="symbol"&&uQ.test(e))&&e>-1&&e%1==0&&e<t}function dQ(e,t,n){if(!da(n))return!1;var r=typeof t;return(r=="number"?Uw(n)&&Hw(t,n.length):r=="string"&&t in n)?uv(n[t],e):!1}var fQ=1/0,hQ=17976931348623157e292;function ky(e){if(!e)return e===0?e:0;if(e=QS(e),e===fQ||e===-1/0){var t=e<0?-1:1;return t*hQ}return e===e?e:0}function pQ(e){return function(t,n,r){return r&&typeof r!="number"&&dQ(t,n,r)&&(n=r=void 0),t=ky(t),n===void 0?(n=t,t=0):n=ky(n),r=r===void 0?t<n?1:-1:ky(r),oQ(t,n,r)}}var gQ=pQ();const tx={test:e=>e.toLowerCase().includes("wireless mic #")||e.toLowerCase().includes("sony wireless singstar"),map:(e,t)=>`SingStar Wireless - ${t===0?"Blue":"Red"}`},nx={test:e=>e.toLowerCase().includes("usbmic serial#")||e.toLowerCase().includes("singstar"),map:(e,t)=>`SingStar Wired - ${t===0?"Blue":"Red"}`},rx={test:(e,t,n)=>n===2&&e.toLowerCase().includes("singstar"),map:(e,t)=>`SingStar Mic - ${t===0?"Blue":"Red"}`},mQ=(...[e,t,n])=>nx.test(e,t,n)||tx.test(e,t,n)||rx.test(e,t,n)?t:void 0,yQ=(e,t,n)=>tx.test(e,t,n)?tx.map(e,t):nx.test(e,t,n)?nx.map(e,t):rx.test(e,t,n)?rx.map(e,t):n>1?`${e} (ch ${t+1})`:e,ks=class ks{};ks.inputList=[],ks.inputName="Microphone",ks.getDefault=()=>ks.inputList.find(t=>t.id===qc({deviceId:"default",channel:0}))??ks.inputList[0]??null,ks.getInputs=async()=>{let t=[];try{await Sl.getUserMedia({audio:!0,video:!1}),t=await Sl.enumerateDevices()}catch(r){ua(r,{level:"warning",extra:{message:"Microphone.getInputs"}}),console.warn(r)}const n=await Promise.all(t.filter(r=>r.kind==="audioinput").map(async r=>{let i=1;try{i=(await Sl.getUserMedia({audio:{deviceId:{exact:r.deviceId},echoCancellation:{exact:!1}},video:!1})).getAudioTracks()[0].getSettings().channelCount??1}catch(s){console.warn(s)}return gQ(0,i).map(s=>({label:yQ(r.label,s,i),channel:s,channels:i,deviceId:r.deviceId,id:qc({deviceId:r.deviceId,channel:s}),preferred:mQ(r.label,s,i)}))}));return ks.inputList=n.flat(),ks.inputList},ks.subscribeToListChange=t=>navigator.mediaDevices.addEventListener("devicechange",t),ks.unsubscribeToListChange=t=>navigator.mediaDevices.removeEventListener("devicechange",t);let xo=ks;const D5=e=>({label:`${e.name}`,id:qc({deviceId:e.id,channel:0}),deviceId:e.id,channels:1,channel:0}),_c=class _c{};_c.inputName="Remote Microphone",_c.getDefault=()=>Dt.getRemoteMics().map(D5)[0]??null,_c.getInputs=async()=>Dt.getRemoteMics().map(D5),_c.subscribeToListChange=t=>{me.remoteMicConnected.subscribe(t),me.remoteMicDisconnected.subscribe(t)},_c.unsubscribeToListChange=t=>{me.remoteMicConnected.unsubscribe(t),me.remoteMicDisconnected.unsubscribe(t)};let Mo=_c;const vQ=e=>`${e.deviceId};${e.channel}`;class AQ{constructor(){this.initialiseInputSource=(t,n=!1)=>(n||t.getInputs().then(r=>{this.inputList[t.inputName].list=r,this.inputList[t.inputName].initialised=!0,me.inputListChanged.dispatch(!0),t.subscribeToListChange(async()=>{this.inputList[t.inputName].list=await t.getInputs(),me.inputListChanged.dispatch(!1)})}),{list:[],getDefault:t.getDefault,initialised:!1}),this.loadMics=()=>{this.inputList.Microphone.list.length||(this.inputList.Microphone=this.initialiseInputSource(xo))},this.getInputList=()=>this.inputList,this.isPlayerInputInitialised=t=>this.inputList[t.source].initialised,this.getInputForPlayerSelected=(t,n=!0)=>{const r=this.inputList[t.source];return r.list.find(i=>i.id===vQ(t))??(n?r.getDefault():null)},this.inputList={[xo.inputName]:this.initialiseInputSource(xo,!0),[y0.inputName]:this.initialiseInputSource(y0),[Mo.inputName]:this.initialiseInputSource(Mo)}}}const ja=new AQ,B5="playerselectedinputs",v0=4,U0=class U0{constructor(t,n,r){this.number=t,this.input=n,this.name=r,this.nameOverride="",this.changeInput=(i,s=0,l)=>{let c=null;ur.monitoringStarted()&&(c=ur.stopMonitoring());const d={source:i,deviceId:l,channel:s},u=this.input;this.input=d,me.playerInputChanged.dispatch(this.number,u,d),c&&c.then(ur.startMonitoring)},this.toJSON=()=>({number:this.number,input:this.input,name:this.name}),this.getName=()=>this.nameOverride||(this.name??`Player #${this.number+1}`),this.isDefaultName=()=>this.name===void 0,this.setName=i=>{const s=this.name;this.name=i,me.playerNameChanged.dispatch(this.number,s)}}};U0.fromJSON=t=>new U0(t.number,t.input,t.name);let gd=U0;class bQ{constructor(){this.minPlayerNumber=2,this.players=[],this.requestingPromise=null,this.storePlayers=()=>{at.session.setItem(B5,this.getPlayers().map(n=>n.toJSON()))},this.requestReadiness=async()=>(this.requestingPromise||(this.requestingPromise=new Promise(n=>{const r=async()=>{!this.getPlayers().filter(s=>s.input.source==="Remote Microphone").some(s=>ja.getInputForPlayerSelected(s.input,!1)===null)&&(await Promise.all(this.getPlayers().map(s=>ur.sourceNameToInput(s.input.source).requestReadiness(s.input.deviceId).then(()=>{me.readinessConfirmed.dispatch(s.input.deviceId)}))),me.inputListChanged.unsubscribe(r),this.requestingPromise=null,n(!0))};me.inputListChanged.subscribe(r),r()})),this.requestingPromise),this.getPlayers=()=>this.players,this.getPlayer=n=>this.players.find(r=>r.number===n),this.getMinPlayerNumber=()=>this.minPlayerNumber,this.setMinPlayerNumber=n=>{const r=this.minPlayerNumber;this.minPlayerNumber=n,me.minPlayerNumberChanged.dispatch(r,n)},this.addPlayer=n=>{if(lt.isPlaying()||this.getPlayer(n))return;const r=new gd(n,{source:"Dummy",deviceId:"default",channel:0});return this.players.push(r),this.storePlayers(),me.playerAdded.dispatch(r.number),me.playerInputChanged.dispatch(r.number,void 0,r.input),r},this.removePlayer=n=>{if(lt.isPlaying())return;const r=this.getPlayer(n);r&&(this.players=this.players.filter(i=>i.number!==n),this.players.length<this.minPlayerNumber&&this.addPlayer(new Array(v0).fill(0).find((i,s)=>!this.players.find(l=>l.number===s))),this.storePlayers(),me.playerRemoved.dispatch(r))},this.getInputs=()=>this.getPlayers().map(n=>n.input);const t=at.session.getItem(B5)??[];t.length?(this.players=t.map(gd.fromJSON),this.getPlayers().some(n=>n.input.source==="Microphone")&&ja.loadMics(),this.getPlayers().some(n=>n.input.source==="Remote Microphone")&&Oc.start()):this.players=[new gd(0,{source:"Dummy",deviceId:"default",channel:0}),new gd(1,{source:"Dummy",deviceId:"default",channel:1})],me.playerInputChanged.subscribe((n,r,i)=>{const s=this.getPlayer(n);if(!(!i||!s)){if(i.source==="Remote Microphone"){const l=Dt.getRemoteMicById(i.deviceId);l&&(s.nameOverride=l.name)}else s.nameOverride="";this.storePlayers()}}),me.playerNameChanged.subscribe(j4(this.storePlayers,1e3)),me.remoteMicConnected.subscribe(({id:n,name:r})=>{this.getPlayers().forEach(i=>{i.input.source==="Remote Microphone"&&i.input.deviceId===n&&i.getName()!==r&&(i.nameOverride=r)})})}}const nt=new bQ;class _Q{constructor(){this.isMonitoring=!1,this.getInputStatus=t=>{const n=nt.getPlayer(t);return n?this.sourceNameToInput(n.input.source).getStatus(n.input.deviceId,n.input.channel):"unavailable"},this.getPlayerFrequency=t=>{var i;const n=(i=nt.getPlayer(t))==null?void 0:i.input;return n?this.sourceNameToInput(n.source).getFrequencies(n.deviceId)[n.channel]:0},this.clearPlayerCachedFrequencies=t=>{var r;const n=(r=nt.getPlayer(t))==null?void 0:r.input;if(!n)return 0;this.sourceNameToInput(n.source).clearFrequencies(n.deviceId)},this.getPlayerVolume=t=>{var i;const n=(i=nt.getPlayer(t))==null?void 0:i.input;return n?this.sourceNameToInput(n.source).getVolumes(n.deviceId)[n.channel]:0},this.getPlayerInputLag=t=>{var r;const n=(r=nt.getPlayer(t))==null?void 0:r.input;return n?this.sourceNameToInput(n.source).getInputLag(n.deviceId):0},this.startMonitoring=async()=>{const t=nt.getPlayers().map(n=>n.input);await Promise.all(t.map(n=>this.sourceNameToInput(n.source).startMonitoring(n.deviceId,t))),this.isMonitoring=!0},this.stopMonitoring=async()=>{await Promise.all(nt.getPlayers().map(t=>this.sourceNameToInput(t.input.source).stopMonitoring(t.input.deviceId))),this.isMonitoring=!1},this.monitoringStarted=()=>this.isMonitoring,this.sourceNameToInput=t=>t===xo.inputName?MY:t===ex.inputName?l7:t===Mo.inputName?IY:u7,me.inputListChanged.subscribe(async()=>{this.isMonitoring&&(await this.stopMonitoring(),this.startMonitoring())})}}const ur=new _Q;function rD(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=rD(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function Nt(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=rD(e))&&(r&&(r+=" "),r+=t);return r}function SQ(e){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t.firstChild?t.insertBefore(n,t.firstChild):t.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}SQ(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var Hp=e=>typeof e=="number"&&!isNaN(e),Gc=e=>typeof e=="string",Ro=e=>typeof e=="function",xQ=e=>Gc(e)||Hp(e),ix=e=>Gc(e)||Ro(e)?e:null,wQ=(e,t)=>e===!1||Hp(e)&&e>0?e:t,sx=e=>x.isValidElement(e)||Gc(e)||Ro(e)||Hp(e);function EQ(e,t,n=300){let{scrollHeight:r,style:i}=e;requestAnimationFrame(()=>{i.minHeight="initial",i.height=r+"px",i.transition=`all ${n}ms`,requestAnimationFrame(()=>{i.height="0",i.padding="0",i.margin="0",setTimeout(t,n)})})}function TQ({enter:e,exit:t,appendPosition:n=!1,collapse:r=!0,collapseDuration:i=300}){return function({children:s,position:l,preventExitTransition:c,done:d,nodeRef:u,isIn:p,playToast:h}){let y=n?`${e}--${l}`:e,v=n?`${t}--${l}`:t,b=x.useRef(0);return x.useLayoutEffect(()=>{let _=u.current,w=y.split(" "),T=k=>{k.target===u.current&&(h(),_.removeEventListener("animationend",T),_.removeEventListener("animationcancel",T),b.current===0&&k.type!=="animationcancel"&&_.classList.remove(...w))};_.classList.add(...w),_.addEventListener("animationend",T),_.addEventListener("animationcancel",T)},[]),x.useEffect(()=>{let _=u.current,w=()=>{_.removeEventListener("animationend",w),r?EQ(_,d,i):d()};p||(c?w():(b.current=1,_.className+=` ${v}`,_.addEventListener("animationend",w)))},[p]),Xe.createElement(Xe.Fragment,null,s)}}function N5(e,t){return{content:iD(e.content,e.props),containerId:e.props.containerId,id:e.props.toastId,theme:e.props.theme,type:e.props.type,data:e.props.data||{},isLoading:e.props.isLoading,icon:e.props.icon,reason:e.removalReason,status:t}}function iD(e,t,n=!1){return x.isValidElement(e)&&!Gc(e.type)?x.cloneElement(e,{closeToast:t.closeToast,toastProps:t,data:t.data,isPaused:n}):Ro(e)?e({closeToast:t.closeToast,toastProps:t,data:t.data,isPaused:n}):e}function CQ({closeToast:e,theme:t,ariaLabel:n="close"}){return Xe.createElement("button",{className:`Toastify__close-button Toastify__close-button--${t}`,type:"button",onClick:r=>{r.stopPropagation(),e(!0)},"aria-label":n},Xe.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},Xe.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function kQ({delay:e,isRunning:t,closeToast:n,type:r="default",hide:i,className:s,controlledProgress:l,progress:c,rtl:d,isIn:u,theme:p}){let h=i||l&&c===0,y={animationDuration:`${e}ms`,animationPlayState:t?"running":"paused"};l&&(y.transform=`scaleX(${c})`);let v=Nt("Toastify__progress-bar",l?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${p}`,`Toastify__progress-bar--${r}`,{"Toastify__progress-bar--rtl":d}),b=Ro(s)?s({rtl:d,type:r,defaultClassName:v}):Nt(v,s),_={[l&&c>=1?"onTransitionEnd":"onAnimationEnd"]:l&&c<1?null:()=>{u&&n()}};return Xe.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":h},Xe.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${p} Toastify__progress-bar--${r}`}),Xe.createElement("div",{role:"progressbar","aria-hidden":h?"true":"false","aria-label":"notification timer",className:b,style:y,..._}))}var MQ=1,sD=()=>`${MQ++}`;function RQ(e,t,n){let r=1,i=0,s=[],l=[],c=t,d=new Map,u=new Set,p=k=>(u.add(k),()=>u.delete(k)),h=()=>{l=Array.from(d.values()),u.forEach(k=>k())},y=({containerId:k,toastId:R,updateId:M})=>{let E=k?k!==e:e!==1,O=d.has(R)&&M==null;return E||O},v=(k,R)=>{d.forEach(M=>{var E;(R==null||R===M.props.toastId)&&((E=M.toggle)==null||E.call(M,k))})},b=k=>{var R,M;(M=(R=k.props)==null?void 0:R.onClose)==null||M.call(R,k.removalReason),k.isActive=!1},_=k=>{if(k==null)d.forEach(b);else{let R=d.get(k);R&&b(R)}h()},w=()=>{i-=s.length,s=[]},T=k=>{var R,M;let{toastId:E,updateId:O}=k.props,P=O==null;k.staleId&&d.delete(k.staleId),k.isActive=!0,d.set(E,k),h(),n(N5(k,P?"added":"updated")),P&&((M=(R=k.props).onOpen)==null||M.call(R))};return{id:e,props:c,observe:p,toggle:v,removeToast:_,toasts:d,clearQueue:w,buildToast:(k,R)=>{if(y(R))return;let{toastId:M,updateId:E,data:O,staleId:P,delay:j}=R,V=E==null;V&&i++;let C={...c,style:c.toastStyle,key:r++,...Object.fromEntries(Object.entries(R).filter(([U,L])=>L!=null)),toastId:M,updateId:E,data:O,isIn:!1,className:ix(R.className||c.toastClassName),progressClassName:ix(R.progressClassName||c.progressClassName),autoClose:R.isLoading?!1:wQ(R.autoClose,c.autoClose),closeToast(U){d.get(M).removalReason=U,_(M)},deleteToast(){let U=d.get(M);if(U!=null){if(n(N5(U,"removed")),d.delete(M),i--,i<0&&(i=0),s.length>0){T(s.shift());return}h()}}};C.closeButton=c.closeButton,R.closeButton===!1||sx(R.closeButton)?C.closeButton=R.closeButton:R.closeButton===!0&&(C.closeButton=sx(c.closeButton)?c.closeButton:!0);let N={content:k,props:C,staleId:P};c.limit&&c.limit>0&&i>c.limit&&V?s.push(N):Hp(j)?setTimeout(()=>{T(N)},j):T(N)},setProps(k){c=k},setToggle:(k,R)=>{let M=d.get(k);M&&(M.toggle=R)},isToastActive:k=>{var R;return(R=d.get(k))==null?void 0:R.isActive},getSnapshot:()=>l}}var Ri=new Map,wp=[],ax=new Set,IQ=e=>ax.forEach(t=>t(e)),aD=()=>Ri.size>0;function OQ(){wp.forEach(e=>lD(e.content,e.options)),wp=[]}var jQ=(e,{containerId:t})=>{var n;return(n=Ri.get(t||1))==null?void 0:n.toasts.get(e)};function oD(e,t){var n;if(t)return!!((n=Ri.get(t))!=null&&n.isToastActive(e));let r=!1;return Ri.forEach(i=>{i.isToastActive(e)&&(r=!0)}),r}function PQ(e){if(!aD()){wp=wp.filter(t=>e!=null&&t.options.toastId!==e);return}if(e==null||xQ(e))Ri.forEach(t=>{t.removeToast(e)});else if(e&&("containerId"in e||"id"in e)){let t=Ri.get(e.containerId);t?t.removeToast(e.id):Ri.forEach(n=>{n.removeToast(e.id)})}}var VQ=(e={})=>{Ri.forEach(t=>{t.props.limit&&(!e.containerId||t.id===e.containerId)&&t.clearQueue()})};function lD(e,t){sx(e)&&(aD()||wp.push({content:e,options:t}),Ri.forEach(n=>{n.buildToast(e,t)}))}function DQ(e){var t;(t=Ri.get(e.containerId||1))==null||t.setToggle(e.id,e.fn)}function cD(e,t){Ri.forEach(n=>{(t==null||!(t!=null&&t.containerId)||(t==null?void 0:t.containerId)===n.id)&&n.toggle(e,t==null?void 0:t.id)})}function BQ(e){let t=e.containerId||1;return{subscribe(n){let r=RQ(t,e,IQ);Ri.set(t,r);let i=r.observe(n);return OQ(),()=>{i(),Ri.delete(t)}},setProps(n){var r;(r=Ri.get(t))==null||r.setProps(n)},getSnapshot(){var n;return(n=Ri.get(t))==null?void 0:n.getSnapshot()}}}function NQ(e){return ax.add(e),()=>{ax.delete(e)}}function LQ(e){return e&&(Gc(e.toastId)||Hp(e.toastId))?e.toastId:sD()}function qp(e,t){return lD(e,t),t.toastId}function vv(e,t){return{...t,type:t&&t.type||e,toastId:LQ(t)}}function Av(e){return(t,n)=>qp(t,vv(e,n))}function fn(e,t){return qp(e,vv("default",t))}fn.loading=(e,t)=>qp(e,vv("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...t}));function FQ(e,{pending:t,error:n,success:r},i){let s;t&&(s=Gc(t)?fn.loading(t,i):fn.loading(t.render,{...i,...t}));let l={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},c=(u,p,h)=>{if(p==null){fn.dismiss(s);return}let y={type:u,...l,...i,data:h},v=Gc(p)?{render:p}:p;return s?fn.update(s,{...y,...v}):fn(v.render,{...y,...v}),h},d=Ro(e)?e():e;return d.then(u=>c("success",r,u)).catch(u=>c("error",n,u)),d}fn.promise=FQ;fn.success=Av("success");fn.info=Av("info");fn.error=Av("error");fn.warning=Av("warning");fn.warn=fn.warning;fn.dark=(e,t)=>qp(e,vv("default",{theme:"dark",...t}));function zQ(e){PQ(e)}fn.dismiss=zQ;fn.clearWaitingQueue=VQ;fn.isActive=oD;fn.update=(e,t={})=>{let n=jQ(e,t);if(n){let{props:r,content:i}=n,s={delay:100,...r,...t,toastId:t.toastId||e,updateId:sD()};s.toastId!==e&&(s.staleId=e);let l=s.render||i;delete s.render,qp(l,s)}};fn.done=e=>{fn.update(e,{progress:1})};fn.onChange=NQ;fn.play=e=>cD(!0,e);fn.pause=e=>cD(!1,e);function $Q(e){var t;let{subscribe:n,getSnapshot:r,setProps:i}=x.useRef(BQ(e)).current;i(e);let s=(t=x.useSyncExternalStore(n,r,r))==null?void 0:t.slice();function l(c){if(!s)return[];let d=new Map;return e.newestOnTop&&s.reverse(),s.forEach(u=>{let{position:p}=u.props;d.has(p)||d.set(p,[]),d.get(p).push(u)}),Array.from(d,u=>c(u[0],u[1]))}return{getToastToRender:l,isToastActive:oD,count:s==null?void 0:s.length}}function UQ(e){let[t,n]=x.useState(!1),[r,i]=x.useState(!1),s=x.useRef(null),l=x.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:c,pauseOnHover:d,closeToast:u,onClick:p,closeOnClick:h}=e;DQ({id:e.toastId,containerId:e.containerId,fn:n}),x.useEffect(()=>{if(e.pauseOnFocusLoss)return y(),()=>{v()}},[e.pauseOnFocusLoss]);function y(){document.hasFocus()||T(),window.addEventListener("focus",w),window.addEventListener("blur",T)}function v(){window.removeEventListener("focus",w),window.removeEventListener("blur",T)}function b(P){if(e.draggable===!0||e.draggable===P.pointerType){k();let j=s.current;l.canCloseOnClick=!0,l.canDrag=!0,j.style.transition="none",e.draggableDirection==="x"?(l.start=P.clientX,l.removalDistance=j.offsetWidth*(e.draggablePercent/100)):(l.start=P.clientY,l.removalDistance=j.offsetHeight*(e.draggablePercent===80?e.draggablePercent*1.5:e.draggablePercent)/100)}}function _(P){let{top:j,bottom:V,left:C,right:N}=s.current.getBoundingClientRect();P.nativeEvent.type!=="touchend"&&e.pauseOnHover&&P.clientX>=C&&P.clientX<=N&&P.clientY>=j&&P.clientY<=V?T():w()}function w(){n(!0)}function T(){n(!1)}function k(){l.didMove=!1,document.addEventListener("pointermove",M),document.addEventListener("pointerup",E)}function R(){document.removeEventListener("pointermove",M),document.removeEventListener("pointerup",E)}function M(P){let j=s.current;if(l.canDrag&&j){l.didMove=!0,t&&T(),e.draggableDirection==="x"?l.delta=P.clientX-l.start:l.delta=P.clientY-l.start,l.start!==P.clientX&&(l.canCloseOnClick=!1);let V=e.draggableDirection==="x"?`${l.delta}px, var(--y)`:`0, calc(${l.delta}px + var(--y))`;j.style.transform=`translate3d(${V},0)`,j.style.opacity=`${1-Math.abs(l.delta/l.removalDistance)}`}}function E(){R();let P=s.current;if(l.canDrag&&l.didMove&&P){if(l.canDrag=!1,Math.abs(l.delta)>l.removalDistance){i(!0),e.closeToast(!0),e.collapseAll();return}P.style.transition="transform 0.2s, opacity 0.2s",P.style.removeProperty("transform"),P.style.removeProperty("opacity")}}let O={onPointerDown:b,onPointerUp:_};return c&&d&&(O.onMouseEnter=T,e.stacked||(O.onMouseLeave=w)),h&&(O.onClick=P=>{p&&p(P),l.canCloseOnClick&&u(!0)}),{playToast:w,pauseToast:T,isRunning:t,preventExitTransition:r,toastRef:s,eventHandlers:O}}var HQ=typeof window<"u"?x.useLayoutEffect:x.useEffect,bv=({theme:e,type:t,isLoading:n,...r})=>Xe.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:e==="colored"?"currentColor":`var(--toastify-icon-color-${t})`,...r});function qQ(e){return Xe.createElement(bv,{...e},Xe.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))}function GQ(e){return Xe.createElement(bv,{...e},Xe.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))}function YQ(e){return Xe.createElement(bv,{...e},Xe.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))}function KQ(e){return Xe.createElement(bv,{...e},Xe.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))}function WQ(){return Xe.createElement("div",{className:"Toastify__spinner"})}var ox={info:GQ,warning:qQ,success:YQ,error:KQ,spinner:WQ},QQ=e=>e in ox;function XQ({theme:e,type:t,isLoading:n,icon:r}){let i=null,s={theme:e,type:t};return r===!1||(Ro(r)?i=r({...s,isLoading:n}):x.isValidElement(r)?i=x.cloneElement(r,s):n?i=ox.spinner():QQ(t)&&(i=ox[t](s))),i}var JQ=e=>{let{isRunning:t,preventExitTransition:n,toastRef:r,eventHandlers:i,playToast:s}=UQ(e),{closeButton:l,children:c,autoClose:d,onClick:u,type:p,hideProgressBar:h,closeToast:y,transition:v,position:b,className:_,style:w,progressClassName:T,updateId:k,role:R,progress:M,rtl:E,toastId:O,deleteToast:P,isIn:j,isLoading:V,closeOnClick:C,theme:N,ariaLabel:U}=e,L=Nt("Toastify__toast",`Toastify__toast-theme--${N}`,`Toastify__toast--${p}`,{"Toastify__toast--rtl":E},{"Toastify__toast--close-on-click":C}),q=Ro(_)?_({rtl:E,position:b,type:p,defaultClassName:L}):Nt(L,_),H=XQ(e),D=!!M||!d,K={closeToast:y,type:p,theme:N},Q=null;return l===!1||(Ro(l)?Q=l(K):x.isValidElement(l)?Q=x.cloneElement(l,K):Q=CQ(K)),Xe.createElement(v,{isIn:j,done:P,position:b,preventExitTransition:n,nodeRef:r,playToast:s},Xe.createElement("div",{id:O,tabIndex:0,onClick:u,"data-in":j,className:q,...i,style:w,ref:r,...j&&{role:R,"aria-label":U}},H!=null&&Xe.createElement("div",{className:Nt("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!V})},H),iD(c,e,!t),Q,!e.customProgressBar&&Xe.createElement(kQ,{...k&&!D?{key:`p-${k}`}:{},rtl:E,theme:N,delay:d,isRunning:t,isIn:j,closeToast:y,hide:h,type:p,className:T,controlledProgress:D,progress:M||0})))},ZQ=(e,t=!1)=>({enter:`Toastify--animate Toastify__${e}-enter`,exit:`Toastify--animate Toastify__${e}-exit`,appendPosition:t}),eX=TQ(ZQ("bounce",!0)),tX={position:"top-right",transition:eX,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light","aria-label":"Notifications Alt+T",hotKeys:e=>e.altKey&&e.code==="KeyT"};function nX(e){let t={...tX,...e},n=e.stacked,[r,i]=x.useState(!0),s=x.useRef(null),{getToastToRender:l,isToastActive:c,count:d}=$Q(t),{className:u,style:p,rtl:h,containerId:y,hotKeys:v}=t;function b(w){let T=Nt("Toastify__toast-container",`Toastify__toast-container--${w}`,{"Toastify__toast-container--rtl":h});return Ro(u)?u({position:w,rtl:h,defaultClassName:T}):Nt(T,ix(u))}function _(){n&&(i(!0),fn.play())}return HQ(()=>{var w;if(n){let T=s.current.querySelectorAll('[data-in="true"]'),k=12,R=(w=t.position)==null?void 0:w.includes("top"),M=0,E=0;Array.from(T).reverse().forEach((O,P)=>{let j=O;j.classList.add("Toastify__toast--stacked"),P>0&&(j.dataset.collapsed=`${r}`),j.dataset.pos||(j.dataset.pos=R?"top":"bot");let V=M*(r?.2:1)+(r?0:k*P);j.style.setProperty("--y",`${R?V:V*-1}px`),j.style.setProperty("--g",`${k}`),j.style.setProperty("--s",`${1-(r?E:0)}`),M+=j.offsetHeight,E+=.025})}},[r,d,n]),x.useEffect(()=>{function w(T){var k;let R=s.current;v(T)&&((k=R.querySelector('[tabIndex="0"]'))==null||k.focus(),i(!1),fn.pause()),T.key==="Escape"&&(document.activeElement===R||R!=null&&R.contains(document.activeElement))&&(i(!0),fn.play())}return document.addEventListener("keydown",w),()=>{document.removeEventListener("keydown",w)}},[v]),Xe.createElement("section",{ref:s,className:"Toastify",id:y,onMouseEnter:()=>{n&&(i(!1),fn.pause())},onMouseLeave:_,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text","aria-label":t["aria-label"]},l((w,T)=>{let k=T.length?{...p}:{...p,pointerEvents:"none"};return Xe.createElement("div",{tabIndex:-1,className:b(w),"data-stacked":n,style:k,key:`c-${w}`},T.map(({content:R,props:M})=>Xe.createElement(JQ,{...M,stacked:n,collapseAll:_,isIn:c(M.toastId,M.containerId),key:`t-${M.key}`},R)))}))}me.playerRemoved.subscribe(e=>{if(e.input.source===Mo.inputName){const t=Dt.getRemoteMicById(e.input.deviceId);t&&t.setPlayerNumber(null)}});me.playerInputChanged.subscribe((e,t,n)=>{var r;if((t==null?void 0:t.source)===Mo.inputName){const i=(r=nt.getPlayers().find(l=>l.input.source==="Remote Microphone"&&l.input.deviceId===t.deviceId))==null?void 0:r.number,s=Dt.getRemoteMicById(t.deviceId);s==null||s.setPlayerNumber(i!==void 0?i:null)}if((n==null?void 0:n.source)==="Remote Microphone"){const i=Dt.getRemoteMicById(n.deviceId);i==null||i.setPlayerNumber(e)}});me.remoteMicConnected.subscribe(({id:e})=>{var n,r;const t=(n=nt.getPlayers().find(i=>i.input.source==="Remote Microphone"&&i.input.deviceId===e))==null?void 0:n.number;if(t!==void 0){const i=Dt.getRemoteMicById(e);i==null||i.setPlayerNumber(t),ur.monitoringStarted()&&((r=i==null?void 0:i.getInput())==null||r.startMonitoring())}});me.playerChangeRequested.subscribe((e,t)=>{var r;const n=nt.getPlayers().find(i=>i.input.deviceId===e);if(n&&nt.removePlayer(n.number),t!==null){const i=nt.getPlayer(t);i?i.changeInput("Remote Microphone",0,e):(r=nt.addPlayer(t))==null||r.changeInput("Remote Microphone",0,e)}});me.remoteMicConnected.subscribe(({name:e,id:t,silent:n})=>{n||fn.success(g.jsxs(g.Fragment,{children:["Remote microphone ",g.jsx("b",{className:"ph-no-capture",children:e})," connected!"]}),{toastId:`connection-status-${t}`,updateId:`connection-status-${t}`})});me.remoteMicDisconnected.subscribe(({name:e,id:t},n)=>{n||fn.warning(g.jsxs(g.Fragment,{children:["Remote microphone ",g.jsx("b",{className:"ph-no-capture",children:e})," disconnected!"]}),{toastId:`connection-status-${t}`,updateId:`connection-status-${t}`})});const _v=()=>{const e=Dt.getRemoteMics().map(t=>{var n;return{id:t.id,name:t.name,number:((n=nt.getPlayers().find(r=>r.input.deviceId===t.id))==null?void 0:n.number)??null}});Dt.broadcastToChannel("remote-mics",{t:"remote-mics-list",list:e})};me.playerRemoved.subscribe(_v);me.inputListChanged.subscribe(_v);me.playerInputChanged.subscribe(_v);me.remoteMicSubscribed.subscribe(_v);const uD=e=>({artist:t,title:n,id:r,lastUpdate:i},s,l=[],c)=>{var p;const d=l.length>1&&l.every(h=>h.score===l[0].score),u={};if(nt.getPlayers().forEach((h,y)=>u[`input${y}`]=h.input.source),e==="songEnded")try{const h=(p=lt.getPlayer(0))==null?void 0:p.getPlayerNotes().filter(v=>g0(v)===0).map(v=>v.frequencyRecords).flat().map(v=>[v.timestamp,v.frequency]).map((v,b,_)=>{var w,T;return[v[0]-(((w=_[b-1])==null?void 0:w[0])??0),v[1]-(((T=_[b-1])==null?void 0:T[1])??0)]}).map(v=>[Math.round(v[0]*100),Math.round(v[1]*100)]).map(v=>v[1]===0?v[0]:v),y=aV(h);console.log("compressed",y)}catch(h){ua(h)}er.capture(e,{songId:r,songLastUpdated:i,name:`${t} - ${n}`,artist:t,title:n,mode:s.mode,tolerance:s.tolerance,players:s.players.length,tracks:s.players.map(h=>h.track),progress:c??null,singId:s.id,sameScores:d,mobilePhoneMode:!!ai.get(),...u,...l.reduce((h,y,v)=>({...h,[`score${v}`]:y.score}),{}),...s.players.reduce((h,y,v)=>({...h,[`track${v}`]:y.track}),{})})};me.songStarted.subscribe(uD("songStarted"));me.songEnded.subscribe(uD("songEnded"));function Lm(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var M1={exports:{}};/*!
    localForage -- Offline Storage, Improved
    Version 1.10.0
    https://localforage.github.io/localForage
    (c) 2013-2017 Mozilla, Apache License 2.0
*/var L5;function rX(){return L5||(L5=1,function(e,t){(function(n){e.exports=n()})(function(){return function n(r,i,s){function l(u,p){if(!i[u]){if(!r[u]){var h=typeof Lm=="function"&&Lm;if(!p&&h)return h(u,!0);if(c)return c(u,!0);var y=new Error("Cannot find module '"+u+"'");throw y.code="MODULE_NOT_FOUND",y}var v=i[u]={exports:{}};r[u][0].call(v.exports,function(b){var _=r[u][1][b];return l(_||b)},v,v.exports,n,r,i,s)}return i[u].exports}for(var c=typeof Lm=="function"&&Lm,d=0;d<s.length;d++)l(s[d]);return l}({1:[function(n,r,i){(function(s){var l=s.MutationObserver||s.WebKitMutationObserver,c;if(l){var d=0,u=new l(b),p=s.document.createTextNode("");u.observe(p,{characterData:!0}),c=function(){p.data=d=++d%2}}else if(!s.setImmediate&&typeof s.MessageChannel<"u"){var h=new s.MessageChannel;h.port1.onmessage=b,c=function(){h.port2.postMessage(0)}}else"document"in s&&"onreadystatechange"in s.document.createElement("script")?c=function(){var w=s.document.createElement("script");w.onreadystatechange=function(){b(),w.onreadystatechange=null,w.parentNode.removeChild(w),w=null},s.document.documentElement.appendChild(w)}:c=function(){setTimeout(b,0)};var y,v=[];function b(){y=!0;for(var w,T,k=v.length;k;){for(T=v,v=[],w=-1;++w<k;)T[w]();k=v.length}y=!1}r.exports=_;function _(w){v.push(w)===1&&!y&&c()}}).call(this,typeof fm<"u"?fm:typeof self<"u"?self:typeof window<"u"?window:{})},{}],2:[function(n,r,i){var s=n(1);function l(){}var c={},d=["REJECTED"],u=["FULFILLED"],p=["PENDING"];r.exports=h;function h(E){if(typeof E!="function")throw new TypeError("resolver must be a function");this.state=p,this.queue=[],this.outcome=void 0,E!==l&&_(this,E)}h.prototype.catch=function(E){return this.then(null,E)},h.prototype.then=function(E,O){if(typeof E!="function"&&this.state===u||typeof O!="function"&&this.state===d)return this;var P=new this.constructor(l);if(this.state!==p){var j=this.state===u?E:O;v(P,j,this.outcome)}else this.queue.push(new y(P,E,O));return P};function y(E,O,P){this.promise=E,typeof O=="function"&&(this.onFulfilled=O,this.callFulfilled=this.otherCallFulfilled),typeof P=="function"&&(this.onRejected=P,this.callRejected=this.otherCallRejected)}y.prototype.callFulfilled=function(E){c.resolve(this.promise,E)},y.prototype.otherCallFulfilled=function(E){v(this.promise,this.onFulfilled,E)},y.prototype.callRejected=function(E){c.reject(this.promise,E)},y.prototype.otherCallRejected=function(E){v(this.promise,this.onRejected,E)};function v(E,O,P){s(function(){var j;try{j=O(P)}catch(V){return c.reject(E,V)}j===E?c.reject(E,new TypeError("Cannot resolve promise with itself")):c.resolve(E,j)})}c.resolve=function(E,O){var P=w(b,O);if(P.status==="error")return c.reject(E,P.value);var j=P.value;if(j)_(E,j);else{E.state=u,E.outcome=O;for(var V=-1,C=E.queue.length;++V<C;)E.queue[V].callFulfilled(O)}return E},c.reject=function(E,O){E.state=d,E.outcome=O;for(var P=-1,j=E.queue.length;++P<j;)E.queue[P].callRejected(O);return E};function b(E){var O=E&&E.then;if(E&&(typeof E=="object"||typeof E=="function")&&typeof O=="function")return function(){O.apply(E,arguments)}}function _(E,O){var P=!1;function j(U){P||(P=!0,c.reject(E,U))}function V(U){P||(P=!0,c.resolve(E,U))}function C(){O(V,j)}var N=w(C);N.status==="error"&&j(N.value)}function w(E,O){var P={};try{P.value=E(O),P.status="success"}catch(j){P.status="error",P.value=j}return P}h.resolve=T;function T(E){return E instanceof this?E:c.resolve(new this(l),E)}h.reject=k;function k(E){var O=new this(l);return c.reject(O,E)}h.all=R;function R(E){var O=this;if(Object.prototype.toString.call(E)!=="[object Array]")return this.reject(new TypeError("must be an array"));var P=E.length,j=!1;if(!P)return this.resolve([]);for(var V=new Array(P),C=0,N=-1,U=new this(l);++N<P;)L(E[N],N);return U;function L(q,H){O.resolve(q).then(D,function(K){j||(j=!0,c.reject(U,K))});function D(K){V[H]=K,++C===P&&!j&&(j=!0,c.resolve(U,V))}}}h.race=M;function M(E){var O=this;if(Object.prototype.toString.call(E)!=="[object Array]")return this.reject(new TypeError("must be an array"));var P=E.length,j=!1;if(!P)return this.resolve([]);for(var V=-1,C=new this(l);++V<P;)N(E[V]);return C;function N(U){O.resolve(U).then(function(L){j||(j=!0,c.resolve(C,L))},function(L){j||(j=!0,c.reject(C,L))})}}},{1:1}],3:[function(n,r,i){(function(s){typeof s.Promise!="function"&&(s.Promise=n(2))}).call(this,typeof fm<"u"?fm:typeof self<"u"?self:typeof window<"u"?window:{})},{2:2}],4:[function(n,r,i){var s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function($){return typeof $}:function($){return $&&typeof Symbol=="function"&&$.constructor===Symbol&&$!==Symbol.prototype?"symbol":typeof $};function l($,Z){if(!($ instanceof Z))throw new TypeError("Cannot call a class as a function")}function c(){try{if(typeof indexedDB<"u")return indexedDB;if(typeof webkitIndexedDB<"u")return webkitIndexedDB;if(typeof mozIndexedDB<"u")return mozIndexedDB;if(typeof OIndexedDB<"u")return OIndexedDB;if(typeof msIndexedDB<"u")return msIndexedDB}catch{return}}var d=c();function u(){try{if(!d||!d.open)return!1;var $=typeof openDatabase<"u"&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),Z=typeof fetch=="function"&&fetch.toString().indexOf("[native code")!==-1;return(!$||Z)&&typeof indexedDB<"u"&&typeof IDBKeyRange<"u"}catch{return!1}}function p($,Z){$=$||[],Z=Z||{};try{return new Blob($,Z)}catch(te){if(te.name!=="TypeError")throw te;for(var Y=typeof BlobBuilder<"u"?BlobBuilder:typeof MSBlobBuilder<"u"?MSBlobBuilder:typeof MozBlobBuilder<"u"?MozBlobBuilder:WebKitBlobBuilder,re=new Y,le=0;le<$.length;le+=1)re.append($[le]);return re.getBlob(Z.type)}}typeof Promise>"u"&&n(3);var h=Promise;function y($,Z){Z&&$.then(function(Y){Z(null,Y)},function(Y){Z(Y)})}function v($,Z,Y){typeof Z=="function"&&$.then(Z),typeof Y=="function"&&$.catch(Y)}function b($){return typeof $!="string"&&(console.warn($+" used as a key, but it is not a string."),$=String($)),$}function _(){if(arguments.length&&typeof arguments[arguments.length-1]=="function")return arguments[arguments.length-1]}var w="local-forage-detect-blob-support",T=void 0,k={},R=Object.prototype.toString,M="readonly",E="readwrite";function O($){for(var Z=$.length,Y=new ArrayBuffer(Z),re=new Uint8Array(Y),le=0;le<Z;le++)re[le]=$.charCodeAt(le);return Y}function P($){return new h(function(Z){var Y=$.transaction(w,E),re=p([""]);Y.objectStore(w).put(re,"key"),Y.onabort=function(le){le.preventDefault(),le.stopPropagation(),Z(!1)},Y.oncomplete=function(){var le=navigator.userAgent.match(/Chrome\/(\d+)/),te=navigator.userAgent.match(/Edge\//);Z(te||!le||parseInt(le[1],10)>=43)}}).catch(function(){return!1})}function j($){return typeof T=="boolean"?h.resolve(T):P($).then(function(Z){return T=Z,T})}function V($){var Z=k[$.name],Y={};Y.promise=new h(function(re,le){Y.resolve=re,Y.reject=le}),Z.deferredOperations.push(Y),Z.dbReady?Z.dbReady=Z.dbReady.then(function(){return Y.promise}):Z.dbReady=Y.promise}function C($){var Z=k[$.name],Y=Z.deferredOperations.pop();if(Y)return Y.resolve(),Y.promise}function N($,Z){var Y=k[$.name],re=Y.deferredOperations.pop();if(re)return re.reject(Z),re.promise}function U($,Z){return new h(function(Y,re){if(k[$.name]=k[$.name]||ee(),$.db)if(Z)V($),$.db.close();else return Y($.db);var le=[$.name];Z&&le.push($.version);var te=d.open.apply(d,le);Z&&(te.onupgradeneeded=function(_e){var Ee=te.result;try{Ee.createObjectStore($.storeName),_e.oldVersion<=1&&Ee.createObjectStore(w)}catch(Ie){if(Ie.name==="ConstraintError")console.warn('The database "'+$.name+'" has been upgraded from version '+_e.oldVersion+" to version "+_e.newVersion+', but the storage "'+$.storeName+'" already exists.');else throw Ie}}),te.onerror=function(_e){_e.preventDefault(),re(te.error)},te.onsuccess=function(){var _e=te.result;_e.onversionchange=function(Ee){Ee.target.close()},Y(_e),C($)}})}function L($){return U($,!1)}function q($){return U($,!0)}function H($,Z){if(!$.db)return!0;var Y=!$.db.objectStoreNames.contains($.storeName),re=$.version<$.db.version,le=$.version>$.db.version;if(re&&($.version!==Z&&console.warn('The database "'+$.name+`" can't be downgraded from version `+$.db.version+" to version "+$.version+"."),$.version=$.db.version),le||Y){if(Y){var te=$.db.version+1;te>$.version&&($.version=te)}return!0}return!1}function D($){return new h(function(Z,Y){var re=new FileReader;re.onerror=Y,re.onloadend=function(le){var te=btoa(le.target.result||"");Z({__local_forage_encoded_blob:!0,data:te,type:$.type})},re.readAsBinaryString($)})}function K($){var Z=O(atob($.data));return p([Z],{type:$.type})}function Q($){return $&&$.__local_forage_encoded_blob}function J($){var Z=this,Y=Z._initReady().then(function(){var re=k[Z._dbInfo.name];if(re&&re.dbReady)return re.dbReady});return v(Y,$,$),Y}function B($){V($);for(var Z=k[$.name],Y=Z.forages,re=0;re<Y.length;re++){var le=Y[re];le._dbInfo.db&&(le._dbInfo.db.close(),le._dbInfo.db=null)}return $.db=null,L($).then(function(te){return $.db=te,H($)?q($):te}).then(function(te){$.db=Z.db=te;for(var _e=0;_e<Y.length;_e++)Y[_e]._dbInfo.db=te}).catch(function(te){throw N($,te),te})}function G($,Z,Y,re){re===void 0&&(re=1);try{var le=$.db.transaction($.storeName,Z);Y(null,le)}catch(te){if(re>0&&(!$.db||te.name==="InvalidStateError"||te.name==="NotFoundError"))return h.resolve().then(function(){if(!$.db||te.name==="NotFoundError"&&!$.db.objectStoreNames.contains($.storeName)&&$.version<=$.db.version)return $.db&&($.version=$.db.version+1),q($)}).then(function(){return B($).then(function(){G($,Z,Y,re-1)})}).catch(Y);Y(te)}}function ee(){return{forages:[],db:null,dbReady:null,deferredOperations:[]}}function ue($){var Z=this,Y={db:null};if($)for(var re in $)Y[re]=$[re];var le=k[Y.name];le||(le=ee(),k[Y.name]=le),le.forages.push(Z),Z._initReady||(Z._initReady=Z.ready,Z.ready=J);var te=[];function _e(){return h.resolve()}for(var Ee=0;Ee<le.forages.length;Ee++){var Ie=le.forages[Ee];Ie!==Z&&te.push(Ie._initReady().catch(_e))}var Ce=le.forages.slice(0);return h.all(te).then(function(){return Y.db=le.db,L(Y)}).then(function(Pe){return Y.db=Pe,H(Y,Z._defaultConfig.version)?q(Y):Pe}).then(function(Pe){Y.db=le.db=Pe,Z._dbInfo=Y;for(var We=0;We<Ce.length;We++){var Et=Ce[We];Et!==Z&&(Et._dbInfo.db=Y.db,Et._dbInfo.version=Y.version)}})}function F($,Z){var Y=this;$=b($);var re=new h(function(le,te){Y.ready().then(function(){G(Y._dbInfo,M,function(_e,Ee){if(_e)return te(_e);try{var Ie=Ee.objectStore(Y._dbInfo.storeName),Ce=Ie.get($);Ce.onsuccess=function(){var Pe=Ce.result;Pe===void 0&&(Pe=null),Q(Pe)&&(Pe=K(Pe)),le(Pe)},Ce.onerror=function(){te(Ce.error)}}catch(Pe){te(Pe)}})}).catch(te)});return y(re,Z),re}function ge($,Z){var Y=this,re=new h(function(le,te){Y.ready().then(function(){G(Y._dbInfo,M,function(_e,Ee){if(_e)return te(_e);try{var Ie=Ee.objectStore(Y._dbInfo.storeName),Ce=Ie.openCursor(),Pe=1;Ce.onsuccess=function(){var We=Ce.result;if(We){var Et=We.value;Q(Et)&&(Et=K(Et));var zt=$(Et,We.key,Pe++);zt!==void 0?le(zt):We.continue()}else le()},Ce.onerror=function(){te(Ce.error)}}catch(We){te(We)}})}).catch(te)});return y(re,Z),re}function se($,Z,Y){var re=this;$=b($);var le=new h(function(te,_e){var Ee;re.ready().then(function(){return Ee=re._dbInfo,R.call(Z)==="[object Blob]"?j(Ee.db).then(function(Ie){return Ie?Z:D(Z)}):Z}).then(function(Ie){G(re._dbInfo,E,function(Ce,Pe){if(Ce)return _e(Ce);try{var We=Pe.objectStore(re._dbInfo.storeName);Ie===null&&(Ie=void 0);var Et=We.put(Ie,$);Pe.oncomplete=function(){Ie===void 0&&(Ie=null),te(Ie)},Pe.onabort=Pe.onerror=function(){var zt=Et.error?Et.error:Et.transaction.error;_e(zt)}}catch(zt){_e(zt)}})}).catch(_e)});return y(le,Y),le}function Se($,Z){var Y=this;$=b($);var re=new h(function(le,te){Y.ready().then(function(){G(Y._dbInfo,E,function(_e,Ee){if(_e)return te(_e);try{var Ie=Ee.objectStore(Y._dbInfo.storeName),Ce=Ie.delete($);Ee.oncomplete=function(){le()},Ee.onerror=function(){te(Ce.error)},Ee.onabort=function(){var Pe=Ce.error?Ce.error:Ce.transaction.error;te(Pe)}}catch(Pe){te(Pe)}})}).catch(te)});return y(re,Z),re}function Me($){var Z=this,Y=new h(function(re,le){Z.ready().then(function(){G(Z._dbInfo,E,function(te,_e){if(te)return le(te);try{var Ee=_e.objectStore(Z._dbInfo.storeName),Ie=Ee.clear();_e.oncomplete=function(){re()},_e.onabort=_e.onerror=function(){var Ce=Ie.error?Ie.error:Ie.transaction.error;le(Ce)}}catch(Ce){le(Ce)}})}).catch(le)});return y(Y,$),Y}function Re($){var Z=this,Y=new h(function(re,le){Z.ready().then(function(){G(Z._dbInfo,M,function(te,_e){if(te)return le(te);try{var Ee=_e.objectStore(Z._dbInfo.storeName),Ie=Ee.count();Ie.onsuccess=function(){re(Ie.result)},Ie.onerror=function(){le(Ie.error)}}catch(Ce){le(Ce)}})}).catch(le)});return y(Y,$),Y}function ye($,Z){var Y=this,re=new h(function(le,te){if($<0){le(null);return}Y.ready().then(function(){G(Y._dbInfo,M,function(_e,Ee){if(_e)return te(_e);try{var Ie=Ee.objectStore(Y._dbInfo.storeName),Ce=!1,Pe=Ie.openKeyCursor();Pe.onsuccess=function(){var We=Pe.result;if(!We){le(null);return}$===0||Ce?le(We.key):(Ce=!0,We.advance($))},Pe.onerror=function(){te(Pe.error)}}catch(We){te(We)}})}).catch(te)});return y(re,Z),re}function je($){var Z=this,Y=new h(function(re,le){Z.ready().then(function(){G(Z._dbInfo,M,function(te,_e){if(te)return le(te);try{var Ee=_e.objectStore(Z._dbInfo.storeName),Ie=Ee.openKeyCursor(),Ce=[];Ie.onsuccess=function(){var Pe=Ie.result;if(!Pe){re(Ce);return}Ce.push(Pe.key),Pe.continue()},Ie.onerror=function(){le(Ie.error)}}catch(Pe){le(Pe)}})}).catch(le)});return y(Y,$),Y}function Ge($,Z){Z=_.apply(this,arguments);var Y=this.config();$=typeof $!="function"&&$||{},$.name||($.name=$.name||Y.name,$.storeName=$.storeName||Y.storeName);var re=this,le;if(!$.name)le=h.reject("Invalid arguments");else{var te=$.name===Y.name&&re._dbInfo.db,_e=te?h.resolve(re._dbInfo.db):L($).then(function(Ee){var Ie=k[$.name],Ce=Ie.forages;Ie.db=Ee;for(var Pe=0;Pe<Ce.length;Pe++)Ce[Pe]._dbInfo.db=Ee;return Ee});$.storeName?le=_e.then(function(Ee){if(Ee.objectStoreNames.contains($.storeName)){var Ie=Ee.version+1;V($);var Ce=k[$.name],Pe=Ce.forages;Ee.close();for(var We=0;We<Pe.length;We++){var Et=Pe[We];Et._dbInfo.db=null,Et._dbInfo.version=Ie}var zt=new h(function(nn,Wn){var mn=d.open($.name,Ie);mn.onerror=function(Pi){var No=mn.result;No.close(),Wn(Pi)},mn.onupgradeneeded=function(){var Pi=mn.result;Pi.deleteObjectStore($.storeName)},mn.onsuccess=function(){var Pi=mn.result;Pi.close(),nn(Pi)}});return zt.then(function(nn){Ce.db=nn;for(var Wn=0;Wn<Pe.length;Wn++){var mn=Pe[Wn];mn._dbInfo.db=nn,C(mn._dbInfo)}}).catch(function(nn){throw(N($,nn)||h.resolve()).catch(function(){}),nn})}}):le=_e.then(function(Ee){V($);var Ie=k[$.name],Ce=Ie.forages;Ee.close();for(var Pe=0;Pe<Ce.length;Pe++){var We=Ce[Pe];We._dbInfo.db=null}var Et=new h(function(zt,nn){var Wn=d.deleteDatabase($.name);Wn.onerror=function(){var mn=Wn.result;mn&&mn.close(),nn(Wn.error)},Wn.onblocked=function(){console.warn('dropInstance blocked for database "'+$.name+'" until all open connections are closed')},Wn.onsuccess=function(){var mn=Wn.result;mn&&mn.close(),zt(mn)}});return Et.then(function(zt){Ie.db=zt;for(var nn=0;nn<Ce.length;nn++){var Wn=Ce[nn];C(Wn._dbInfo)}}).catch(function(zt){throw(N($,zt)||h.resolve()).catch(function(){}),zt})})}return y(le,Z),le}var Fe={_driver:"asyncStorage",_initStorage:ue,_support:u(),iterate:ge,getItem:F,setItem:se,removeItem:Se,clear:Me,length:Re,key:ye,keys:je,dropInstance:Ge};function Ve(){return typeof openDatabase=="function"}var ze="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",ot="~~local_forage_type~",Qe=/^~~local_forage_type~([^~]+)~/,Ue="__lfsc__:",pt=Ue.length,Jt="arbf",hn="blob",He="si08",Nn="ui08",At="uic8",pn="si16",gn="si32",rt="ur16",yt="ui32",dt="fl32",xt="fl64",Zt=pt+Jt.length,wt=Object.prototype.toString;function kt($){var Z=$.length*.75,Y=$.length,re,le=0,te,_e,Ee,Ie;$[$.length-1]==="="&&(Z--,$[$.length-2]==="="&&Z--);var Ce=new ArrayBuffer(Z),Pe=new Uint8Array(Ce);for(re=0;re<Y;re+=4)te=ze.indexOf($[re]),_e=ze.indexOf($[re+1]),Ee=ze.indexOf($[re+2]),Ie=ze.indexOf($[re+3]),Pe[le++]=te<<2|_e>>4,Pe[le++]=(_e&15)<<4|Ee>>2,Pe[le++]=(Ee&3)<<6|Ie&63;return Ce}function Lt($){var Z=new Uint8Array($),Y="",re;for(re=0;re<Z.length;re+=3)Y+=ze[Z[re]>>2],Y+=ze[(Z[re]&3)<<4|Z[re+1]>>4],Y+=ze[(Z[re+1]&15)<<2|Z[re+2]>>6],Y+=ze[Z[re+2]&63];return Z.length%3===2?Y=Y.substring(0,Y.length-1)+"=":Z.length%3===1&&(Y=Y.substring(0,Y.length-2)+"=="),Y}function Ln($,Z){var Y="";if($&&(Y=wt.call($)),$&&(Y==="[object ArrayBuffer]"||$.buffer&&wt.call($.buffer)==="[object ArrayBuffer]")){var re,le=Ue;$ instanceof ArrayBuffer?(re=$,le+=Jt):(re=$.buffer,Y==="[object Int8Array]"?le+=He:Y==="[object Uint8Array]"?le+=Nn:Y==="[object Uint8ClampedArray]"?le+=At:Y==="[object Int16Array]"?le+=pn:Y==="[object Uint16Array]"?le+=rt:Y==="[object Int32Array]"?le+=gn:Y==="[object Uint32Array]"?le+=yt:Y==="[object Float32Array]"?le+=dt:Y==="[object Float64Array]"?le+=xt:Z(new Error("Failed to get type for BinaryArray"))),Z(le+Lt(re))}else if(Y==="[object Blob]"){var te=new FileReader;te.onload=function(){var _e=ot+$.type+"~"+Lt(this.result);Z(Ue+hn+_e)},te.readAsArrayBuffer($)}else try{Z(JSON.stringify($))}catch(_e){console.error("Couldn't convert value into a JSON string: ",$),Z(null,_e)}}function en($){if($.substring(0,pt)!==Ue)return JSON.parse($);var Z=$.substring(Zt),Y=$.substring(pt,Zt),re;if(Y===hn&&Qe.test(Z)){var le=Z.match(Qe);re=le[1],Z=Z.substring(le[0].length)}var te=kt(Z);switch(Y){case Jt:return te;case hn:return p([te],{type:re});case He:return new Int8Array(te);case Nn:return new Uint8Array(te);case At:return new Uint8ClampedArray(te);case pn:return new Int16Array(te);case rt:return new Uint16Array(te);case gn:return new Int32Array(te);case yt:return new Uint32Array(te);case dt:return new Float32Array(te);case xt:return new Float64Array(te);default:throw new Error("Unkown type: "+Y)}}var gt={serialize:Ln,deserialize:en,stringToBuffer:kt,bufferToString:Lt};function fr($,Z,Y,re){$.executeSql("CREATE TABLE IF NOT EXISTS "+Z.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],Y,re)}function Vr($){var Z=this,Y={db:null};if($)for(var re in $)Y[re]=typeof $[re]!="string"?$[re].toString():$[re];var le=new h(function(te,_e){try{Y.db=openDatabase(Y.name,String(Y.version),Y.description,Y.size)}catch(Ee){return _e(Ee)}Y.db.transaction(function(Ee){fr(Ee,Y,function(){Z._dbInfo=Y,te()},function(Ie,Ce){_e(Ce)})},_e)});return Y.serializer=gt,le}function Gn($,Z,Y,re,le,te){$.executeSql(Y,re,le,function(_e,Ee){Ee.code===Ee.SYNTAX_ERR?_e.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[Z.storeName],function(Ie,Ce){Ce.rows.length?te(Ie,Ee):fr(Ie,Z,function(){Ie.executeSql(Y,re,le,te)},te)},te):te(_e,Ee)},te)}function qr($,Z){var Y=this;$=b($);var re=new h(function(le,te){Y.ready().then(function(){var _e=Y._dbInfo;_e.db.transaction(function(Ee){Gn(Ee,_e,"SELECT * FROM "+_e.storeName+" WHERE key = ? LIMIT 1",[$],function(Ie,Ce){var Pe=Ce.rows.length?Ce.rows.item(0).value:null;Pe&&(Pe=_e.serializer.deserialize(Pe)),le(Pe)},function(Ie,Ce){te(Ce)})})}).catch(te)});return y(re,Z),re}function Dr($,Z){var Y=this,re=new h(function(le,te){Y.ready().then(function(){var _e=Y._dbInfo;_e.db.transaction(function(Ee){Gn(Ee,_e,"SELECT * FROM "+_e.storeName,[],function(Ie,Ce){for(var Pe=Ce.rows,We=Pe.length,Et=0;Et<We;Et++){var zt=Pe.item(Et),nn=zt.value;if(nn&&(nn=_e.serializer.deserialize(nn)),nn=$(nn,zt.key,Et+1),nn!==void 0){le(nn);return}}le()},function(Ie,Ce){te(Ce)})})}).catch(te)});return y(re,Z),re}function Ft($,Z,Y,re){var le=this;$=b($);var te=new h(function(_e,Ee){le.ready().then(function(){Z===void 0&&(Z=null);var Ie=Z,Ce=le._dbInfo;Ce.serializer.serialize(Z,function(Pe,We){We?Ee(We):Ce.db.transaction(function(Et){Gn(Et,Ce,"INSERT OR REPLACE INTO "+Ce.storeName+" (key, value) VALUES (?, ?)",[$,Pe],function(){_e(Ie)},function(zt,nn){Ee(nn)})},function(Et){if(Et.code===Et.QUOTA_ERR){if(re>0){_e(Ft.apply(le,[$,Ie,Y,re-1]));return}Ee(Et)}})})}).catch(Ee)});return y(te,Y),te}function Tn($,Z,Y){return Ft.apply(this,[$,Z,Y,1])}function Je($,Z){var Y=this;$=b($);var re=new h(function(le,te){Y.ready().then(function(){var _e=Y._dbInfo;_e.db.transaction(function(Ee){Gn(Ee,_e,"DELETE FROM "+_e.storeName+" WHERE key = ?",[$],function(){le()},function(Ie,Ce){te(Ce)})})}).catch(te)});return y(re,Z),re}function Mt($){var Z=this,Y=new h(function(re,le){Z.ready().then(function(){var te=Z._dbInfo;te.db.transaction(function(_e){Gn(_e,te,"DELETE FROM "+te.storeName,[],function(){re()},function(Ee,Ie){le(Ie)})})}).catch(le)});return y(Y,$),Y}function hr($){var Z=this,Y=new h(function(re,le){Z.ready().then(function(){var te=Z._dbInfo;te.db.transaction(function(_e){Gn(_e,te,"SELECT COUNT(key) as c FROM "+te.storeName,[],function(Ee,Ie){var Ce=Ie.rows.item(0).c;re(Ce)},function(Ee,Ie){le(Ie)})})}).catch(le)});return y(Y,$),Y}function oi($,Z){var Y=this,re=new h(function(le,te){Y.ready().then(function(){var _e=Y._dbInfo;_e.db.transaction(function(Ee){Gn(Ee,_e,"SELECT key FROM "+_e.storeName+" WHERE id = ? LIMIT 1",[$+1],function(Ie,Ce){var Pe=Ce.rows.length?Ce.rows.item(0).key:null;le(Pe)},function(Ie,Ce){te(Ce)})})}).catch(te)});return y(re,Z),re}function De($){var Z=this,Y=new h(function(re,le){Z.ready().then(function(){var te=Z._dbInfo;te.db.transaction(function(_e){Gn(_e,te,"SELECT key FROM "+te.storeName,[],function(Ee,Ie){for(var Ce=[],Pe=0;Pe<Ie.rows.length;Pe++)Ce.push(Ie.rows.item(Pe).key);re(Ce)},function(Ee,Ie){le(Ie)})})}).catch(le)});return y(Y,$),Y}function st($){return new h(function(Z,Y){$.transaction(function(re){re.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],function(le,te){for(var _e=[],Ee=0;Ee<te.rows.length;Ee++)_e.push(te.rows.item(Ee).name);Z({db:$,storeNames:_e})},function(le,te){Y(te)})},function(re){Y(re)})})}function ft($,Z){Z=_.apply(this,arguments);var Y=this.config();$=typeof $!="function"&&$||{},$.name||($.name=$.name||Y.name,$.storeName=$.storeName||Y.storeName);var re=this,le;return $.name?le=new h(function(te){var _e;$.name===Y.name?_e=re._dbInfo.db:_e=openDatabase($.name,"","",0),$.storeName?te({db:_e,storeNames:[$.storeName]}):te(st(_e))}).then(function(te){return new h(function(_e,Ee){te.db.transaction(function(Ie){function Ce(zt){return new h(function(nn,Wn){Ie.executeSql("DROP TABLE IF EXISTS "+zt,[],function(){nn()},function(mn,Pi){Wn(Pi)})})}for(var Pe=[],We=0,Et=te.storeNames.length;We<Et;We++)Pe.push(Ce(te.storeNames[We]));h.all(Pe).then(function(){_e()}).catch(function(zt){Ee(zt)})},function(Ie){Ee(Ie)})})}):le=h.reject("Invalid arguments"),y(le,Z),le}var Yn={_driver:"webSQLStorage",_initStorage:Vr,_support:Ve(),iterate:Dr,getItem:qr,setItem:Tn,removeItem:Je,clear:Mt,length:hr,key:oi,keys:De,dropInstance:ft};function pr(){try{return typeof localStorage<"u"&&"setItem"in localStorage&&!!localStorage.setItem}catch{return!1}}function li($,Z){var Y=$.name+"/";return $.storeName!==Z.storeName&&(Y+=$.storeName+"/"),Y}function Ai(){var $="_localforage_support_test";try{return localStorage.setItem($,!0),localStorage.removeItem($),!1}catch{return!0}}function Mr(){return!Ai()||localStorage.length>0}function Kn($){var Z=this,Y={};if($)for(var re in $)Y[re]=$[re];return Y.keyPrefix=li($,Z._defaultConfig),Mr()?(Z._dbInfo=Y,Y.serializer=gt,h.resolve()):h.reject()}function bt($){var Z=this,Y=Z.ready().then(function(){for(var re=Z._dbInfo.keyPrefix,le=localStorage.length-1;le>=0;le--){var te=localStorage.key(le);te.indexOf(re)===0&&localStorage.removeItem(te)}});return y(Y,$),Y}function tr($,Z){var Y=this;$=b($);var re=Y.ready().then(function(){var le=Y._dbInfo,te=localStorage.getItem(le.keyPrefix+$);return te&&(te=le.serializer.deserialize(te)),te});return y(re,Z),re}function pa($,Z){var Y=this,re=Y.ready().then(function(){for(var le=Y._dbInfo,te=le.keyPrefix,_e=te.length,Ee=localStorage.length,Ie=1,Ce=0;Ce<Ee;Ce++){var Pe=localStorage.key(Ce);if(Pe.indexOf(te)===0){var We=localStorage.getItem(Pe);if(We&&(We=le.serializer.deserialize(We)),We=$(We,Pe.substring(_e),Ie++),We!==void 0)return We}}});return y(re,Z),re}function Bo($,Z){var Y=this,re=Y.ready().then(function(){var le=Y._dbInfo,te;try{te=localStorage.key($)}catch{te=null}return te&&(te=te.substring(le.keyPrefix.length)),te});return y(re,Z),re}function fu($){var Z=this,Y=Z.ready().then(function(){for(var re=Z._dbInfo,le=localStorage.length,te=[],_e=0;_e<le;_e++){var Ee=localStorage.key(_e);Ee.indexOf(re.keyPrefix)===0&&te.push(Ee.substring(re.keyPrefix.length))}return te});return y(Y,$),Y}function hu($){var Z=this,Y=Z.keys().then(function(re){return re.length});return y(Y,$),Y}function Fl($,Z){var Y=this;$=b($);var re=Y.ready().then(function(){var le=Y._dbInfo;localStorage.removeItem(le.keyPrefix+$)});return y(re,Z),re}function Qt($,Z,Y){var re=this;$=b($);var le=re.ready().then(function(){Z===void 0&&(Z=null);var te=Z;return new h(function(_e,Ee){var Ie=re._dbInfo;Ie.serializer.serialize(Z,function(Ce,Pe){if(Pe)Ee(Pe);else try{localStorage.setItem(Ie.keyPrefix+$,Ce),_e(te)}catch(We){(We.name==="QuotaExceededError"||We.name==="NS_ERROR_DOM_QUOTA_REACHED")&&Ee(We),Ee(We)}})})});return y(le,Y),le}function bi($,Z){if(Z=_.apply(this,arguments),$=typeof $!="function"&&$||{},!$.name){var Y=this.config();$.name=$.name||Y.name,$.storeName=$.storeName||Y.storeName}var re=this,le;return $.name?le=new h(function(te){$.storeName?te(li($,re._defaultConfig)):te($.name+"/")}).then(function(te){for(var _e=localStorage.length-1;_e>=0;_e--){var Ee=localStorage.key(_e);Ee.indexOf(te)===0&&localStorage.removeItem(Ee)}}):le=h.reject("Invalid arguments"),y(le,Z),le}var Yi={_driver:"localStorageWrapper",_initStorage:Kn,_support:pr(),iterate:pa,getItem:tr,setItem:Qt,removeItem:Fl,clear:bt,length:hu,key:Bo,keys:fu,dropInstance:bi},ji=function(Z,Y){return Z===Y||typeof Z=="number"&&typeof Y=="number"&&isNaN(Z)&&isNaN(Y)},Na=function(Z,Y){for(var re=Z.length,le=0;le<re;){if(ji(Z[le],Y))return!0;le++}return!1},Ki=Array.isArray||function($){return Object.prototype.toString.call($)==="[object Array]"},Fn={},Sf={},La={INDEXEDDB:Fe,WEBSQL:Yn,LOCALSTORAGE:Yi},Fa=[La.INDEXEDDB._driver,La.WEBSQL._driver,La.LOCALSTORAGE._driver],Ks=["dropInstance"],Wi=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(Ks),tA={description:"",driver:Fa.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function cg($,Z){$[Z]=function(){var Y=arguments;return $.ready().then(function(){return $[Z].apply($,Y)})}}function pu(){for(var $=1;$<arguments.length;$++){var Z=arguments[$];if(Z)for(var Y in Z)Z.hasOwnProperty(Y)&&(Ki(Z[Y])?arguments[0][Y]=Z[Y].slice():arguments[0][Y]=Z[Y])}return arguments[0]}var nA=function(){function $(Z){l(this,$);for(var Y in La)if(La.hasOwnProperty(Y)){var re=La[Y],le=re._driver;this[Y]=le,Fn[le]||this.defineDriver(re)}this._defaultConfig=pu({},tA),this._config=pu({},this._defaultConfig,Z),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}return $.prototype.config=function(Y){if((typeof Y>"u"?"undefined":s(Y))==="object"){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var re in Y){if(re==="storeName"&&(Y[re]=Y[re].replace(/\W/g,"_")),re==="version"&&typeof Y[re]!="number")return new Error("Database version must be a number.");this._config[re]=Y[re]}return"driver"in Y&&Y.driver?this.setDriver(this._config.driver):!0}else return typeof Y=="string"?this._config[Y]:this._config},$.prototype.defineDriver=function(Y,re,le){var te=new h(function(_e,Ee){try{var Ie=Y._driver,Ce=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!Y._driver){Ee(Ce);return}for(var Pe=Wi.concat("_initStorage"),We=0,Et=Pe.length;We<Et;We++){var zt=Pe[We],nn=!Na(Ks,zt);if((nn||Y[zt])&&typeof Y[zt]!="function"){Ee(Ce);return}}var Wn=function(){for(var No=function(yu){return function(){var Ef=new Error("Method "+yu+" is not implemented by the current driver"),vu=h.reject(Ef);return y(vu,arguments[arguments.length-1]),vu}},mu=0,xf=Ks.length;mu<xf;mu++){var wf=Ks[mu];Y[wf]||(Y[wf]=No(wf))}};Wn();var mn=function(No){Fn[Ie]&&console.info("Redefining LocalForage driver: "+Ie),Fn[Ie]=Y,Sf[Ie]=No,_e()};"_support"in Y?Y._support&&typeof Y._support=="function"?Y._support().then(mn,Ee):mn(!!Y._support):mn(!0)}catch(Pi){Ee(Pi)}});return v(te,re,le),te},$.prototype.driver=function(){return this._driver||null},$.prototype.getDriver=function(Y,re,le){var te=Fn[Y]?h.resolve(Fn[Y]):h.reject(new Error("Driver not found."));return v(te,re,le),te},$.prototype.getSerializer=function(Y){var re=h.resolve(gt);return v(re,Y),re},$.prototype.ready=function(Y){var re=this,le=re._driverSet.then(function(){return re._ready===null&&(re._ready=re._initDriver()),re._ready});return v(le,Y,Y),le},$.prototype.setDriver=function(Y,re,le){var te=this;Ki(Y)||(Y=[Y]);var _e=this._getSupportedDrivers(Y);function Ee(){te._config.driver=te.driver()}function Ie(We){return te._extend(We),Ee(),te._ready=te._initStorage(te._config),te._ready}function Ce(We){return function(){var Et=0;function zt(){for(;Et<We.length;){var nn=We[Et];return Et++,te._dbInfo=null,te._ready=null,te.getDriver(nn).then(Ie).catch(zt)}Ee();var Wn=new Error("No available storage method found.");return te._driverSet=h.reject(Wn),te._driverSet}return zt()}}var Pe=this._driverSet!==null?this._driverSet.catch(function(){return h.resolve()}):h.resolve();return this._driverSet=Pe.then(function(){var We=_e[0];return te._dbInfo=null,te._ready=null,te.getDriver(We).then(function(Et){te._driver=Et._driver,Ee(),te._wrapLibraryMethodsWithReady(),te._initDriver=Ce(_e)})}).catch(function(){Ee();var We=new Error("No available storage method found.");return te._driverSet=h.reject(We),te._driverSet}),v(this._driverSet,re,le),this._driverSet},$.prototype.supports=function(Y){return!!Sf[Y]},$.prototype._extend=function(Y){pu(this,Y)},$.prototype._getSupportedDrivers=function(Y){for(var re=[],le=0,te=Y.length;le<te;le++){var _e=Y[le];this.supports(_e)&&re.push(_e)}return re},$.prototype._wrapLibraryMethodsWithReady=function(){for(var Y=0,re=Wi.length;Y<re;Y++)cg(this,Wi[Y])},$.prototype.createInstance=function(Y){return new $(Y)},$}(),gu=new nA;r.exports=gu},{3:3}]},{},[4])(4)})}(M1)),M1.exports}var iX=rX();const sp=Pr(iX),dD=Object.freeze(Object.defineProperty({__proto__:null,default:sp},Symbol.toStringTag,{value:"Module"}));let Th=null;async function A0(){if(!Th)if("localStorage"in globalThis)try{Th=df(async()=>{const{default:e}=await Promise.resolve().then(()=>dD);return{default:e}},void 0).then(({default:e})=>e.createInstance({name:"localforage"}))}catch(e){console.error(e),Th=Promise.resolve(at.memory)}else Th=Promise.resolve(at.memory);return Th}const qd=e=>fs.generateSongFile(e),fD=async e=>{var n;const t=qd(e);return await((n=await A0())==null?void 0:n.getItem(t))||{plays:0,scores:[]}},hD=async(e,t)=>{var n;await((n=await A0())==null?void 0:n.setItem(qd(e),t))},sX=async()=>{var n;const e=await((n=await A0())==null?void 0:n.keys())??[],t={};return await Promise.all(e.map(async r=>{var i;t[r]=await((i=await A0())==null?void 0:i.getItem(r))})),t};me.songEnded.subscribe(async(e,t,n,r)=>{if(n.every(l=>l.score===0))return;let i=await(sp==null?void 0:sp.getItem(qd(e)));const s={setup:t,scores:n,date:new Date().toISOString(),progress:r};i?(i.scores=[...(i==null?void 0:i.scores)??[],s],i.plays=i.scores.length):i={plays:1,scores:[s]},await hD(e,i),me.songStatStored.dispatch(qd(e),i)});const Gd="session-player-names",aX="previous-player-names";function oX(e){return e!=null}me.songStarted.subscribe((e,t)=>{let n=JSON.parse(at.session.getItem(Gd))||[];const r=t.players.map(({number:s})=>nt.getPlayer(s)).filter(oX).map(s=>s.getName().trim()),i=[...n].concat(...r);n=[...new Set(i)].filter(Boolean),at.session.setItem(Gd,JSON.stringify(n)),at.session.setItem(aX,JSON.stringify(r))});me.songScoreUpdated.subscribe((e,t,n)=>{let r=JSON.parse(at.session.getItem(Gd))||[];const i=[...r].concat(n);r=[...new Set(i)].filter(Boolean),at.session.setItem(Gd,JSON.stringify(r))});function lX(e,t){const n=t<0?e.length+t:t;return e[n]}[].at||(Array.prototype.at=function(e){return lX(this,e)});[].findLastIndex||(Array.prototype.findLastIndex=function(e,t){for(let n=this.length-1;n>=0;n--)if(e.call(t,this[n],n,this))return n;return-1});var cX="Expected a function";function Td(e,t,n){var r=!0,i=!0;if(typeof e!="function")throw new TypeError(cX);return da(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),j4(e,t,{leading:r,maxWait:t,trailing:i})}class uX extends Gs{constructor(){super(...arguments),this.stream=null,this.context=null,this.interval=null,this.frequencies=[0,0],this.volumes=[0,0],this.startedMonitoring=!1,this.startMonitoring=async t=>{if(!this.startedMonitoring){this.startedMonitoring=!0;try{this.stream=await Sl.getUserMedia({audio:{echoCancellation:!0,noiseSuppression:!0,autoGainControl:!1},video:!1});try{this.context=new AudioContext;const n=this.context.createMediaStreamSource(this.stream),r=this.context.createAnalyser();r.fftSize=2048,r.minDecibels=-100,n.connect(r);const i=new R4;await i.init(this.context,r.fftSize),this.interval=setInterval(async()=>{const s=new Float32Array(r.fftSize);r.getFloatTimeDomainData(s);const l=await i.getFrequency(s),c=this.calculateVolume(s);this.frequencies=[l,l],this.volumes=[c,c],this.onUpdate(l,c)},this.context.sampleRate/r.fftSize),me.micMonitoringStarted.dispatch()}catch(n){ua(n),console.error(n)}}catch(n){n.name!=="NotAllowedError"&&ua(n,{level:"warning",extra:{message:"SimplifiedMic.startMonitoring"}}),console.warn(n)}}},this.getFrequencies=()=>this.frequencies,this.getVolumes=()=>this.volumes,this.clearFrequencies=t=>{},this.stopMonitoring=async()=>{var t,n;if(this.startedMonitoring){this.startedMonitoring=!1,this.interval&&clearInterval(this.interval),(t=this.stream)==null||t.getTracks().forEach(function(r){r.stop()});try{await((n=this.context)==null?void 0:n.close())}catch(r){console.log("MicInput.stoMonitoring error",r)}me.micMonitoringStopped.dispatch()}},this.getInputLag=()=>180,this.requestReadiness=()=>Promise.resolve(!0),this.getStatus=()=>"ok"}calculateVolume(t){let n,r=0;for(n=0;n<t.length;++n)r+=t[n]*t[n];return Math.sqrt(r/t.length)}}const na=new uX;class dX extends Gs{constructor(){super(...arguments),this.connection=null,this.roomId=null,this.isConnected=()=>{var t;return(((t=this.connection)==null?void 0:t.readyState)??1/0)<2},this.close=()=>{var t;(t=this.connection)==null||t.close()}}connect(t,n,r,i,s){this.roomId=n,this.connection=new WebSocket(`${L4}/party/${n}`),this.connection.binaryType="arraybuffer",this.connection.onopen=()=>{var l;(l=this.connection)==null||l.send(Ls({t:"register-player",id:t,roomId:n}))},this.connection.onmessage=l=>{const c=ef(l.data);c.t==="forward"?this.onUpdate(c.payload):c.t==="connected"&&r()},this.connection.onclose=l=>{var d;let c="unknown";try{c=(d=JSON.parse(l.reason))==null?void 0:d.error}catch{console.info("could not parse close reason",l)}this.clearAllListeners(),i(c,l)},this.connection.onerror=l=>{this.clearAllListeners(),s("error",l)}}sendEvent(t){var n,r;((n=this.connection)==null?void 0:n.readyState)===WebSocket.OPEN&&((r=this.connection)==null||r.send(Ls({t:"forward",recipients:[this.roomId],payload:t})))}}class fX extends Gs{constructor(){super(...arguments),this.peer=null,this.connection=null,this.unavailableIdRetries=0,this.unavailableIdRetryTimeout=null,this.connectToRoom=(t,n,r)=>{var i;this.connection=this.peer.connect(`allkaraoke-party-room-${t}`),this.connection.on("open",()=>{n()}),this.connection.on("close",()=>r("closed",null)),(i=this.connection)==null||i.on("data",s=>{console.log(s),this.onUpdate(s)})},this.isConnected=()=>{var t,n;return!!((t=this.connection)!=null&&t.open)&&!((n=this.peer)!=null&&n.disconnected)},this.close=()=>{var t;(t=this.connection)==null||t.close()}}connect(t,n,r,i,s){this.peer&&!this.peer.disconnected?this.connectToRoom(n,r,i):(this.peer=new mv(t,{...F4,debug:3}),this.peer.on("open",()=>{this.connectToRoom(n,r,i)}),this.peer.on("error",l=>{var c,d;l.type==="unavailable-id"&&this.unavailableIdRetries<3&&this.unavailableIdRetryTimeout===null?((d=(c=this.peer)==null?void 0:c.destroy)==null||d.call(c),this.unavailableIdRetryTimeout=setTimeout(()=>{this.unavailableIdRetryTimeout=null,this.unavailableIdRetries++,this.connect(t,n,r,i,s)},1750)):(this.unavailableIdRetries=0,console.error(l.type,l),i(l.type,l))}))}sendEvent(t){var n;(n=this.connection)==null||n.send(t)}}class hX extends Gs{constructor(){super(...arguments),this.connection=null,this.roomId=null,this.isConnected=()=>{var t;return(((t=this.connection)==null?void 0:t.readyState)??1/0)<2},this.close=()=>{var t;(t=this.connection)==null||t.close()}}connect(t,n,r,i,s){this.roomId=n,this.connection=new WebSocket(Y4),this.connection.binaryType="arraybuffer",this.connection.onopen=()=>{var l;(l=this.connection)==null||l.send(Ls({t:"register-player",id:t,roomId:n}))},this.connection.onmessage=l=>{const c=ef(l.data);c.t==="forward"?this.onUpdate(c.payload):c.t==="connected"&&r()},this.connection.onclose=l=>{var d;let c="unknown";try{c=(d=JSON.parse(l.reason))==null?void 0:d.error}catch{console.info("could not parse close reason",l)}this.clearAllListeners(),i(c,l)},this.connection.onerror=l=>{this.clearAllListeners(),s("error",l)}}sendEvent(t){var n;(n=this.connection)==null||n.send(Ls({t:"forward",recipients:[this.roomId],payload:t}))}}const F5=(e,t)=>{if(e===0)return 0;const n=Math.pow(10,t);return Math.round(e*n)/n};let Fm;const pX=new Uint8Array(16);function gX(){if(!Fm&&(Fm=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Fm))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Fm(pX)}const Jr=[];for(let e=0;e<256;++e)Jr.push((e+256).toString(16).slice(1));function mX(e,t=0){return Jr[e[t+0]]+Jr[e[t+1]]+Jr[e[t+2]]+Jr[e[t+3]]+"-"+Jr[e[t+4]]+Jr[e[t+5]]+"-"+Jr[e[t+6]]+Jr[e[t+7]]+"-"+Jr[e[t+8]]+Jr[e[t+9]]+"-"+Jr[e[t+10]]+Jr[e[t+11]]+Jr[e[t+12]]+Jr[e[t+13]]+Jr[e[t+14]]+Jr[e[t+15]]}const yX=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),z5={randomUUID:yX};function b0(e,t,n){if(z5.randomUUID&&!e)return z5.randomUUID();e=e||{};const r=e.random||(e.rng||gX)();return r[6]=r[6]&15|64,r[8]=r[8]&63|128,mX(r)}const lx="MIC_CLIENT_ID",io={};class vX{constructor(){this.clientId=at.getItem(lx),this.roomId=null,this.reconnecting=!1,this.connected=!1,this.frequencies=[],this.sendFrequencies=Td(t=>{const n=this.frequencies.map(r=>F5(r,2));this.frequencies.length=0,this.sendEvent("freq",[n,F5(t,4)])},50),this.onFrequencyUpdate=Td((t,n)=>{this.frequencies.push(t),this.sendFrequencies(n)},1e3/60),this.getClientId=()=>this.clientId,this.setClientId=t=>{this.clientId=t,at.setItem(lx,t)},this.connect=(t,n,r)=>{const i=t.toLowerCase();if(this.transport||(this.transport=i.startsWith("w")?new hX:i.startsWith("k")?new dX:new fX),this.clientId===null&&this.setClientId(b0()),this.roomId=i,this.transport.isConnected()){console.log("not reconnecting",this.transport);return}this.reconnecting||me.karaokeConnectionStatusChange.dispatch("connecting"),this.transport.connect(this.clientId,this.roomId,()=>{this.connectToServer(i,n,r)},(s,l)=>{var c;if(s==="unavailable-id"){this.setClientId(b0()),this.connect(i,n,r);return}global.removeEventListener("beforeunload",this.disconnect),this.reconnecting?me.karaokeConnectionStatusChange.dispatch("reconnecting"):this.connected?me.karaokeConnectionStatusChange.dispatch("disconnected"):(me.karaokeConnectionStatusChange.dispatch("error",s),er.capture("remote_mic_connection_error",{reason:s,transport:(c=this.roomId)==null?void 0:c.charAt(0)})),me.remoteMicPlayerSet.dispatch(null),me.remoteKeyboardLayout.dispatch(void 0),na.removeListener(this.onFrequencyUpdate),na.stopMonitoring(),s!=="player-removed"&&!this.reconnecting&&this.connected&&(this.reconnecting=!0,setTimeout(()=>this.reconnect(i,n),1500)),this.connected=!1},console.warn)},this.latency=999,this.pingStart=Mi(),this.pinging=!1,this.ping=()=>{this.pinging=!0,this.pingStart=Mi(),this.sendEvent("ping",{p:this.pingStart})},this.reportPing=Td(t=>er.capture("remote_mic_ping",{ping:t}),6e4),this.onPong=()=>{this.latency=Mi()-this.pingStart,this.pinging=!1,this.reportPing(this.latency),setTimeout(this.ping,2e3)},this.connectToServer=(t,n,r)=>{var i;this.connected=!0,this.reconnecting=!1,me.karaokeConnectionStatusChange.dispatch("connected"),er.capture("remote_mic_connection_successful",{transport:(i=this.roomId)==null?void 0:i.charAt(0)}),this.sendEvent("register",{name:n,id:this.clientId,silent:r,lag:fV.get()}),this.ping(),global==null||global.addEventListener("beforeunload",this.disconnect),this.transport.addListener(s=>{var c,d;const l=s.t;l==="start-monitor"?(na.removeListener(this.onFrequencyUpdate),na.addListener(this.onFrequencyUpdate),na.startMonitoring(void 0)):l==="stop-monitor"?(na.removeListener(this.onFrequencyUpdate),na.stopMonitoring()):l==="set-player-number"?me.remoteMicPlayerSet.dispatch(s.playerNumber):l==="keyboard-layout"?me.remoteKeyboardLayout.dispatch(s.help):l==="reload-mic"?(global.removeEventListener("beforeunload",this.disconnect),this.sendEvent("unregister"),at.session.setItem("reload-mic-request","1"),(c=document.getElementById("phone-ui-container"))==null||c.remove(),(d=global.location)==null||d.reload()):l==="request-readiness"?me.remoteReadinessRequested.dispatch():l==="pong"?this.onPong():l==="ping"?this.sendEvent("pong"):l==="set-permissions"?me.remoteMicPermissionsSet.dispatch(s.level):l==="remote-mics-list"?me.remoteMicListUpdated.dispatch(s.list):l==="style-change"&&me.remoteStyleChanged.dispatch(s.style)})},this.reconnect=(t,n)=>{this.reconnecting&&(me.karaokeConnectionStatusChange.dispatch("reconnecting"),this.connect(t,n,!1),setTimeout(()=>this.reconnect(t,n),2e3))},this.sendKeyStroke=t=>{this.sendEvent("keystroke",{key:t})},this.searchSong=t=>{this.sendEvent("search-song",{search:t})},this.sendMySongList=t=>{this.sendEvent("my-list",t)},this.selectSong=t=>{this.sendEvent("select-song",{id:t})},this.requestPlayerChange=(t,n)=>{this.sendEvent("request-mic-select",{id:t,playerNumber:n})},this.confirmReadiness=()=>{this.sendEvent("confirm-readiness")},this.subscribe=t=>{io[t]===void 0&&(io[t]=0),io[t]===0&&this.sendEvent("subscribe-event",{channel:t}),io[t]++},this.unsubscribe=t=>{io[t]===void 0&&(io[t]=0),io[t]===1&&this.sendEvent("unsubscribe-event",{channel:t}),io[t]=Math.max(0,io[t]-1)},this.getSongList=()=>this.sendRequest({t:"request-songlist"},"songlist"),this.getGameInputLag=()=>this.sendRequest({t:"get-game-input-lag-request"},"get-game-input-lag-response"),this.setGameInputLag=t=>this.sendRequest({t:"set-game-input-lag-request",value:t},"get-game-input-lag-response"),this.getMicrophoneInputLag=()=>this.sendRequest({t:"get-microphone-lag-request"},"get-microphone-lag-response"),this.setMicrophoneInputLag=t=>this.sendRequest({t:"set-microphone-lag-request",value:t},"get-microphone-lag-response"),this.removePlayer=t=>this.sendEvent("remove-player",{id:t}),this.sendEvent=(t,n)=>{var r;(r=this.transport)!=null&&r.isConnected()?this.transport.sendEvent({t,...n}):console.debug("not connected, skipping",t,n)},this.sendRequest=({t,...n},r)=>new Promise((i,s)=>{var d;const l=setTimeout(()=>{var u;(u=this.transport)==null||u.removeListener(c),s(`${t} timed out waiting for ${r}`)},1e4),c=u=>{var p;u.t===r&&(clearTimeout(l),(p=this.transport)==null||p.removeListener(c),i(u))};(d=this.transport)==null||d.addListener(c),this.sendEvent(t,n)}),this.disconnect=()=>{var t;(t=this.transport)==null||t.close()}}}const An=new vX,AX="/assets/2020-12-16_-_Christmas_Rock_-_www.FesliyanStudios.com_Steve_Oxen-DMCunqoI.ogg",bX="/assets/376817__original_sound__impact-cinematic-CwEVHJ3C.ogg",_X="/assets/459342__papaninkasettratat__cinematic-music-short-rn-rfKrG.ogg",SX="/assets/60013__qubodup__whoosh-CRSX-bwR.mp3",xX="/assets/Funk%20Cool%20Groove%20(No%20Copyright%20Music)%20By%20Anwar%20Amr-Chfv45i1.ogg",wX="/assets/boo-and-laugh-7060-BidOOj5I.mp3",EX="/assets/croworraven1-6749-Ce48aK2E.mp3",TX="/assets/Halloween%20Cinematic%20by%20Infraction%20_No%20Copyright%20Music_%20%20Halloween%202024%20_%20ezmp3.cc%20_-C2nU6gX4.mp3",CX="/assets/halloween-impact-05-93808-BCpJmIL8.mp3",kX="/assets/scary-music-box-for-spooky-scenes-165983-BgDUokgm.mp3",MX="/assets/menu_back-CXKu2j7w.mp3",RX="data:audio/mpeg;base64,SUQzBAAAAAAAIlRTU0UAAAAOAAADTGF2ZjYwLjMuMTAwAAAAAAAAAAAAAAD/+1QAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABYaW5nAAAADwAAABMAAA04AEFBQUFBZWVlZWV/f39/f5GRkZGRkZqampqaoaGhoaGoqKioqLCwsLCwsLe3t7e3vr6+vr7FxcXFxc3Nzc3NzdTU1NTU29vb29vi4uLi4urq6urq6vHx8fHx+Pj4+Pj//////wAAAABMYXZjNjAuMy4AAAAAAAAAAAAAAAAkAuUAAAAAAAANOLGcZrL/+8REAAEA/ADLaAAACh+AGY0AAAFGhC0ZtYMAKP4GYzKwkAUAFJyXj/AAAB7QAAB4eHh4YYAOM////jh4eAAAAAIw8AlNybj/AAAB/AAADw8PDwxwAAGf///5h4eAAAAAIw9hSJuIlQJTskunEz5RFv1Y2byK7n/97llcFmmyCgoMFBQUFAoKCgoMFDX////qAoKChQUFESxJ2AfoAZiMJDhIyAqTJk81xxarn/97lWmgXEJCQoUJCChQUFBQSCgoKChQUv//6YKFAoKCgwUFBQUhBQU0WgEEAFZUiUdVZ7urwsAwAAAoTmeCxjBAdkrnZm5gCuz2BTRyEx8VJUhukDsoNVBjExsWZAsIvo6ZtcOZTJhAKFQlp6a7oGrhgQ1GypacseeN5GgM7LimCHZWKo200F2pFIbcrBxGTFxgYmAAQQh6wspcVlNfLCxvO2HAzIQgDZSzJWt9XFnYFf27////7/0ko32xTymMyqLclUq8QECiT3+7//+laf///9uMHyGvGu2u2so2EgAAAAADIAEGFguPUQDJhoMKHjtm/ExnBISAuP5tq7A0VjIBuAgFjyzu0ITEAhWvB/0sPUTU5MzMnhocNpDqll1v/GBSiOTAAAWq/agAGAMGDkG2YBxmZlUXgGO2D0YAgS4cGyYBIAoNAqIQNjBRA4BAFZgOABuLCYbR9W0P1ijMzWyHU3rL3T2m1K3RtqSLDrfcC31jHuH9r6RUOFIwt0G+T2Y9yNS/FrmLTOcX1qpRxdapf/+f4gPaOLN2fYACixdruAAAHzMDQmBJhGTdzmMADioJDwTNcGAFKgEmAwApvBgDS6/hLpkYzDFewH6hgRt+3pCrr5/3651XUGvoTGe1AAACh1ZV5WQADAgMzFkSzVCXT2T/+6Rk5IAFRzBLfm9kgFGDij/NsCRO4MEnXeeAIQ0NZLe68ATIzWYcjI0FQUTAYG4GARMBYUYAQQoAsBHktFznLy0sSlohrcySM0V97trfW6mUEZ4r3G0Su6apFIYlLPRjDC0HKnNGDPCbCtAP2eeEAA3ZmhL+AAAG5JEGTcHdpB80aHvkDv0YiAhA2mHHOna1doX/uZ6qnnDUzTgKUABohnh230QAAMbEBQnNCETYME2cNbMBjy7BqoGICdqx1SsFklW0zpKswQnCikdnsJ4tsbhp/ASpfR1JaY61CrDJgx/F3EWoNSoEVBqRvuTG5yhcItANgUThn9//+tgCHmIeH3wBoCkKCxgISgSstpAzImgHGYaQ6AVraQgJgaXZN2SAGyriKC3mDpVtvoo5FXA4mYiIj/aAABUhpCZgEAUnGtWKCEAZ/BEFQDhceXTMw8yUktRRlhhbRJYUkSpDzpdNaErxzPiWxVMqtHMxstZL1/1froSdU2dnUSBCnAUUTDiw2FdX+MCo0MrMuDAAAE84aw5jGXtZrP0+3AGAJVVUyjYENrIhERZuDyP8PUISzy7xH/4MlwUJsBBcI7GR4DyaWF6iCwni4hbZmGQWTQIi6L3h+abmhZzs1OZ7gOu0RcL/+4Rk6AAS+iLI+68a+C5DOV9rAxlLuHch7eXlYMgNZP2WFVzAmUIpCmxCchkYSLdCTM0X2sVgAjJ+gEAnQkJe1v9aZjJCCJfFH1YIagNfLtAJODmCQtYaPzBF//yVIIAAAUHjJAVCHeXwjlgBxVOjKgO1ddIsKHgBBT1MQU1FMy4xMDBVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVAAABzCFdZkkAAAsCDOBkGYUxBTUUzLjEwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVQ0kMkxBTUUzLjEwMKqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqoZVUxBTUUzLjEwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+2Rk7wEStyFJ+08a+icCKR9h4ycGxGkp7CSn6HKE4u2GCJRVVVVVVVVVVVVVVVVVVVVVSUxBTUUzLjEwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVSUxBTUUzLjEwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUxBTUUzLjEwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUxBTUUzLjH/+yRk7Idw1QbEowxBAA1AyIgl4wMBUA0PBWMAIBUBolQUmAYwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUxBTUUzLjEwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+xRk6g9wQAJDKU8ACARASJUEQAEAXAsOA4wgIAaAYgAQAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUxBTUUzLjEwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+xRk4w/wDwDEAMAACAAAD/AAAAEAGAMUAQAAIAAAP8AAAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUxBTUUzLjEwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+xRk4o/wBgDEgEAACAAAD/AAAAEADAMaAIAAIAAAP8AAAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUxBTUUzLjEwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+xRk4g/wAwDGACAACAAAD/AAAAEADAMWAIAAIAAAP8AAAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUxBTUUzLjEwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+xRk4g/wAwDFgCAACAAAD/AAAAEADAMUAIAAIAAAP8AAAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUxBTUUzLjEwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+xRE4Y/wAAB/gAAACAAAD/AAAAEAAAH+AAAAIAAAP8AAAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUxBTUUzLjEwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+xRE4Y/wAAB/gAAACAAAD/AAAAEAAAH+AAAAIAAAP8AAAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+xRE4Y/wAAB/gAAACAAAD/AAAAEAAAH+AAAAIAAAP8AAAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+xRk4Y/wAAB/gAAACAAAD/AAAAEAAAH+AAAAIAAAP8AAAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+xRk4Y/wAAB/gAAACAAAD/AAAAEAAAH+AAAAIAAAP8AAAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+xRk4Y/wAAB/gAAACAAADSAAAAEAAAH+AAAAIAAAP8AAAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+xRk4Y/wAAB/gAAACAAAD/AAAAEAAAH+AAAAIAAAP8AAAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+xRk4Y/wAAB/gAAACAAAD/AAAAEAAAGkAAAAIAAANIAAAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+xRk4Y/wAABpAAAACAAADSAAAAEAAAGkAAAAIAAANIAAAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVU=",IX="/assets/menu_navigate-C6GUIZQM.mp3";class ls{constructor(t){this.options=t,this.sound=null,this.play=async(n=!0)=>{var r,i;try{if(n&&this.playing()){const s=(r=this.sound)==null?void 0:r.cloneNode(!0);await s.play(),s.remove()}else await((i=this.sound)==null?void 0:i.play())}catch(s){return console.warn(s)}},this.pause=()=>{var n;(n=this.sound)==null||n.pause()},this.stop=()=>{this.sound&&(this.sound.pause(),this.sound.currentTime=0)},this.playing=()=>{var n;return!((n=this.sound)!=null&&n.paused)},global.Audio&&(this.sound=new Audio(t.src),this.sound.preload=t.preload?"auto":"none",this.sound.volume=t.volume??1,this.sound.loop=t.loop??!1)}}class Sv{constructor(t,n){this.defaultSound=t,this.themeOverrides=n,this.getProperSound=()=>{var i;const r=Z0.get();return((i=this.themeOverrides)==null?void 0:i[r])??this.defaultSound},this.play=async(r=!0)=>this.getProperSound().play(r),this.pause=()=>this.getProperSound().pause(),this.stop=()=>this.getProperSound().stop(),this.playing=()=>this.getProperSound().playing()}}const xv=new ls({src:IX}),qw=new ls({src:RX}),Gw=new ls({src:MX}),Yw=new Sv(new ls({src:SX,preload:!0,volume:.5}),{halloween:new ls({src:EX,preload:!0,volume:.7})}),My=new Sv(new ls({src:xX,volume:.3,loop:!0}),{christmas:new ls({src:AX,volume:.25,loop:!0}),halloween:new ls({src:TX,volume:.3,loop:!0})}),pD=new Sv(new ls({src:bX,preload:!0}),{halloween:new ls({src:wX,preload:!0,volume:.4})}),Ry=new Sv(new ls({src:_X,volume:.8}),{halloween:new ls({src:kX,volume:.2})}),OX=new ls({src:CX,preload:!0,volume:.5}),jX=Object.freeze(Object.defineProperty({__proto__:null,backgroundMusic:My,menuBack:Gw,menuEnter:qw,menuNavigate:xv,selectHalloweenSong:OX,waitFinished:pD,waitForReadinessMusic:Ry,woosh:Yw},Symbol.toStringTag,{value:"Module"})),PX={RemoteMicClient:An,RemoteMicServer:Oc,GameState:lt,GameEvents:me,RemoteMicManager:Dt,SongDao:fs,InputManager:ur,InputSourceManager:ja,CameraManager:Fi,UserMediaService:Sl,PlayersManager:nt,SoundManager:jX,importSongs:async()=>{await(await df(()=>import("./importSongsFromPostHog-CUa0-ctA.js"),[])).default()}};global.__exposeSingletons=()=>{global.__singletons=PX};console.log("Run global.__exposeSingletons() and inspect global.__singletons for debugging");function VX(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}function DX(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),e.nonce!==void 0&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}var BX=function(){function e(n){var r=this;this._insertTag=function(i){var s;r.tags.length===0?r.insertionPoint?s=r.insertionPoint.nextSibling:r.prepend?s=r.container.firstChild:s=r.before:s=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,s),r.tags.push(i)},this.isSpeedy=n.speedy===void 0?!0:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(r){r.forEach(this._insertTag)},t.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(DX(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var s=VX(i);try{s.insertRule(r,s.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(r));this.ctr++},t.flush=function(){this.tags.forEach(function(r){var i;return(i=r.parentNode)==null?void 0:i.removeChild(r)}),this.tags=[],this.ctr=0},e}(),di="-ms-",_0="-moz-",an="-webkit-",gD="comm",Kw="rule",Ww="decl",NX="@import",mD="@keyframes",LX="@layer",FX=Math.abs,wv=String.fromCharCode,zX=Object.assign;function $X(e,t){return ni(e,0)^45?(((t<<2^ni(e,0))<<2^ni(e,1))<<2^ni(e,2))<<2^ni(e,3):0}function yD(e){return e.trim()}function UX(e,t){return(e=t.exec(e))?e[0]:e}function on(e,t,n){return e.replace(t,n)}function cx(e,t){return e.indexOf(t)}function ni(e,t){return e.charCodeAt(t)|0}function Ep(e,t,n){return e.slice(t,n)}function Sa(e){return e.length}function Qw(e){return e.length}function zm(e,t){return t.push(e),e}function HX(e,t){return e.map(t).join("")}var Ev=1,Yd=1,vD=0,Gi=0,kr=0,hf="";function Tv(e,t,n,r,i,s,l){return{value:e,root:t,parent:n,type:r,props:i,children:s,line:Ev,column:Yd,length:l,return:""}}function Ch(e,t){return zX(Tv("",null,null,"",null,null,0),e,{length:-e.length},t)}function qX(){return kr}function GX(){return kr=Gi>0?ni(hf,--Gi):0,Yd--,kr===10&&(Yd=1,Ev--),kr}function cs(){return kr=Gi<vD?ni(hf,Gi++):0,Yd++,kr===10&&(Yd=1,Ev++),kr}function Ia(){return ni(hf,Gi)}function Iy(){return Gi}function Gp(e,t){return Ep(hf,e,t)}function Tp(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function AD(e){return Ev=Yd=1,vD=Sa(hf=e),Gi=0,[]}function bD(e){return hf="",e}function Oy(e){return yD(Gp(Gi-1,ux(e===91?e+2:e===40?e+1:e)))}function YX(e){for(;(kr=Ia())&&kr<33;)cs();return Tp(e)>2||Tp(kr)>3?"":" "}function KX(e,t){for(;--t&&cs()&&!(kr<48||kr>102||kr>57&&kr<65||kr>70&&kr<97););return Gp(e,Iy()+(t<6&&Ia()==32&&cs()==32))}function ux(e){for(;cs();)switch(kr){case e:return Gi;case 34:case 39:e!==34&&e!==39&&ux(kr);break;case 40:e===41&&ux(e);break;case 92:cs();break}return Gi}function WX(e,t){for(;cs()&&e+kr!==57;)if(e+kr===84&&Ia()===47)break;return"/*"+Gp(t,Gi-1)+"*"+wv(e===47?e:cs())}function QX(e){for(;!Tp(Ia());)cs();return Gp(e,Gi)}function XX(e){return bD(jy("",null,null,null,[""],e=AD(e),0,[0],e))}function jy(e,t,n,r,i,s,l,c,d){for(var u=0,p=0,h=l,y=0,v=0,b=0,_=1,w=1,T=1,k=0,R="",M=i,E=s,O=r,P=R;w;)switch(b=k,k=cs()){case 40:if(b!=108&&ni(P,h-1)==58){cx(P+=on(Oy(k),"&","&\f"),"&\f")!=-1&&(T=-1);break}case 34:case 39:case 91:P+=Oy(k);break;case 9:case 10:case 13:case 32:P+=YX(b);break;case 92:P+=KX(Iy()-1,7);continue;case 47:switch(Ia()){case 42:case 47:zm(JX(WX(cs(),Iy()),t,n),d);break;default:P+="/"}break;case 123*_:c[u++]=Sa(P)*T;case 125*_:case 59:case 0:switch(k){case 0:case 125:w=0;case 59+p:T==-1&&(P=on(P,/\f/g,"")),v>0&&Sa(P)-h&&zm(v>32?U5(P+";",r,n,h-1):U5(on(P," ","")+";",r,n,h-2),d);break;case 59:P+=";";default:if(zm(O=$5(P,t,n,u,p,i,c,R,M=[],E=[],h),s),k===123)if(p===0)jy(P,t,O,O,M,s,h,c,E);else switch(y===99&&ni(P,3)===110?100:y){case 100:case 108:case 109:case 115:jy(e,O,O,r&&zm($5(e,O,O,0,0,i,c,R,i,M=[],h),E),i,E,h,c,r?M:E);break;default:jy(P,O,O,O,[""],E,0,c,E)}}u=p=v=0,_=T=1,R=P="",h=l;break;case 58:h=1+Sa(P),v=b;default:if(_<1){if(k==123)--_;else if(k==125&&_++==0&&GX()==125)continue}switch(P+=wv(k),k*_){case 38:T=p>0?1:(P+="\f",-1);break;case 44:c[u++]=(Sa(P)-1)*T,T=1;break;case 64:Ia()===45&&(P+=Oy(cs())),y=Ia(),p=h=Sa(R=P+=QX(Iy())),k++;break;case 45:b===45&&Sa(P)==2&&(_=0)}}return s}function $5(e,t,n,r,i,s,l,c,d,u,p){for(var h=i-1,y=i===0?s:[""],v=Qw(y),b=0,_=0,w=0;b<r;++b)for(var T=0,k=Ep(e,h+1,h=FX(_=l[b])),R=e;T<v;++T)(R=yD(_>0?y[T]+" "+k:on(k,/&\f/g,y[T])))&&(d[w++]=R);return Tv(e,t,n,i===0?Kw:c,d,u,p)}function JX(e,t,n){return Tv(e,t,n,gD,wv(qX()),Ep(e,2,-2),0)}function U5(e,t,n,r){return Tv(e,t,n,Ww,Ep(e,0,r),Ep(e,r+1,-1),r)}function Cd(e,t){for(var n="",r=Qw(e),i=0;i<r;i++)n+=t(e[i],i,e,t)||"";return n}function ZX(e,t,n,r){switch(e.type){case LX:if(e.children.length)break;case NX:case Ww:return e.return=e.return||e.value;case gD:return"";case mD:return e.return=e.value+"{"+Cd(e.children,r)+"}";case Kw:e.value=e.props.join(",")}return Sa(n=Cd(e.children,r))?e.return=e.value+"{"+n+"}":""}function eJ(e){var t=Qw(e);return function(n,r,i,s){for(var l="",c=0;c<t;c++)l+=e[c](n,r,i,s)||"";return l}}function tJ(e){return function(t){t.root||(t=t.return)&&e(t)}}function _D(e){var t=Object.create(null);return function(n){return t[n]===void 0&&(t[n]=e(n)),t[n]}}var nJ=function(t,n,r){for(var i=0,s=0;i=s,s=Ia(),i===38&&s===12&&(n[r]=1),!Tp(s);)cs();return Gp(t,Gi)},rJ=function(t,n){var r=-1,i=44;do switch(Tp(i)){case 0:i===38&&Ia()===12&&(n[r]=1),t[r]+=nJ(Gi-1,n,r);break;case 2:t[r]+=Oy(i);break;case 4:if(i===44){t[++r]=Ia()===58?"&\f":"",n[r]=t[r].length;break}default:t[r]+=wv(i)}while(i=cs());return t},iJ=function(t,n){return bD(rJ(AD(t),n))},H5=new WeakMap,sJ=function(t){if(!(t.type!=="rule"||!t.parent||t.length<1)){for(var n=t.value,r=t.parent,i=t.column===r.column&&t.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(t.props.length===1&&n.charCodeAt(0)!==58&&!H5.get(r))&&!i){H5.set(t,!0);for(var s=[],l=iJ(n,s),c=r.props,d=0,u=0;d<l.length;d++)for(var p=0;p<c.length;p++,u++)t.props[u]=s[d]?l[d].replace(/&\f/g,c[p]):c[p]+" "+l[d]}}},aJ=function(t){if(t.type==="decl"){var n=t.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(t.return="",t.value="")}};function SD(e,t){switch($X(e,t)){case 5103:return an+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return an+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return an+e+_0+e+di+e+e;case 6828:case 4268:return an+e+di+e+e;case 6165:return an+e+di+"flex-"+e+e;case 5187:return an+e+on(e,/(\w+).+(:[^]+)/,an+"box-$1$2"+di+"flex-$1$2")+e;case 5443:return an+e+di+"flex-item-"+on(e,/flex-|-self/,"")+e;case 4675:return an+e+di+"flex-line-pack"+on(e,/align-content|flex-|-self/,"")+e;case 5548:return an+e+di+on(e,"shrink","negative")+e;case 5292:return an+e+di+on(e,"basis","preferred-size")+e;case 6060:return an+"box-"+on(e,"-grow","")+an+e+di+on(e,"grow","positive")+e;case 4554:return an+on(e,/([^-])(transform)/g,"$1"+an+"$2")+e;case 6187:return on(on(on(e,/(zoom-|grab)/,an+"$1"),/(image-set)/,an+"$1"),e,"")+e;case 5495:case 3959:return on(e,/(image-set\([^]*)/,an+"$1$`$1");case 4968:return on(on(e,/(.+:)(flex-)?(.*)/,an+"box-pack:$3"+di+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+an+e+e;case 4095:case 3583:case 4068:case 2532:return on(e,/(.+)-inline(.+)/,an+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Sa(e)-1-t>6)switch(ni(e,t+1)){case 109:if(ni(e,t+4)!==45)break;case 102:return on(e,/(.+:)(.+)-([^]+)/,"$1"+an+"$2-$3$1"+_0+(ni(e,t+3)==108?"$3":"$2-$3"))+e;case 115:return~cx(e,"stretch")?SD(on(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(ni(e,t+1)!==115)break;case 6444:switch(ni(e,Sa(e)-3-(~cx(e,"!important")&&10))){case 107:return on(e,":",":"+an)+e;case 101:return on(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+an+(ni(e,14)===45?"inline-":"")+"box$3$1"+an+"$2$3$1"+di+"$2box$3")+e}break;case 5936:switch(ni(e,t+11)){case 114:return an+e+di+on(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return an+e+di+on(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return an+e+di+on(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return an+e+di+e+e}return e}var oJ=function(t,n,r,i){if(t.length>-1&&!t.return)switch(t.type){case Ww:t.return=SD(t.value,t.length);break;case mD:return Cd([Ch(t,{value:on(t.value,"@","@"+an)})],i);case Kw:if(t.length)return HX(t.props,function(s){switch(UX(s,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Cd([Ch(t,{props:[on(s,/:(read-\w+)/,":"+_0+"$1")]})],i);case"::placeholder":return Cd([Ch(t,{props:[on(s,/:(plac\w+)/,":"+an+"input-$1")]}),Ch(t,{props:[on(s,/:(plac\w+)/,":"+_0+"$1")]}),Ch(t,{props:[on(s,/:(plac\w+)/,di+"input-$1")]})],i)}return""})}},lJ=[oJ],xD=function(t){var n=t.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(_){var w=_.getAttribute("data-emotion");w.indexOf(" ")!==-1&&(document.head.appendChild(_),_.setAttribute("data-s",""))})}var i=t.stylisPlugins||lJ,s={},l,c=[];l=t.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(_){for(var w=_.getAttribute("data-emotion").split(" "),T=1;T<w.length;T++)s[w[T]]=!0;c.push(_)});var d,u=[sJ,aJ];{var p,h=[ZX,tJ(function(_){p.insert(_)})],y=eJ(u.concat(i,h)),v=function(w){return Cd(XX(w),y)};d=function(w,T,k,R){p=k,v(w?w+"{"+T.styles+"}":T.styles),R&&(b.inserted[T.name]=!0)}}var b={key:n,sheet:new BX({key:n,container:l,nonce:t.nonce,speedy:t.speedy,prepend:t.prepend,insertionPoint:t.insertionPoint}),nonce:t.nonce,inserted:s,registered:{},insert:d};return b.sheet.hydrate(c),b};function S0(){return S0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},S0.apply(null,arguments)}var cJ=!0;function wD(e,t,n){var r="";return n.split(" ").forEach(function(i){e[i]!==void 0?t.push(e[i]+";"):i&&(r+=i+" ")}),r}var Xw=function(t,n,r){var i=t.key+"-"+n.name;(r===!1||cJ===!1)&&t.registered[i]===void 0&&(t.registered[i]=n.styles)},Jw=function(t,n,r){Xw(t,n,r);var i=t.key+"-"+n.name;if(t.inserted[n.name]===void 0){var s=n;do t.insert(n===s?"."+i:"",s,t.sheet,!0),s=s.next;while(s!==void 0)}};function uJ(e){for(var t=0,n,r=0,i=e.length;i>=4;++r,i-=4)n=e.charCodeAt(r)&255|(e.charCodeAt(++r)&255)<<8|(e.charCodeAt(++r)&255)<<16|(e.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,t=(n&65535)*1540483477+((n>>>16)*59797<<16)^(t&65535)*1540483477+((t>>>16)*59797<<16);switch(i){case 3:t^=(e.charCodeAt(r+2)&255)<<16;case 2:t^=(e.charCodeAt(r+1)&255)<<8;case 1:t^=e.charCodeAt(r)&255,t=(t&65535)*1540483477+((t>>>16)*59797<<16)}return t^=t>>>13,t=(t&65535)*1540483477+((t>>>16)*59797<<16),((t^t>>>15)>>>0).toString(36)}var dJ={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},fJ=/[A-Z]|^ms/g,hJ=/_EMO_([^_]+?)_([^]*?)_EMO_/g,ED=function(t){return t.charCodeAt(1)===45},q5=function(t){return t!=null&&typeof t!="boolean"},R1=_D(function(e){return ED(e)?e:e.replace(fJ,"-$&").toLowerCase()}),G5=function(t,n){switch(t){case"animation":case"animationName":if(typeof n=="string")return n.replace(hJ,function(r,i,s){return xa={name:i,styles:s,next:xa},i})}return dJ[t]!==1&&!ED(t)&&typeof n=="number"&&n!==0?n+"px":n};function Cp(e,t,n){if(n==null)return"";var r=n;if(r.__emotion_styles!==void 0)return r;switch(typeof n){case"boolean":return"";case"object":{var i=n;if(i.anim===1)return xa={name:i.name,styles:i.styles,next:xa},i.name;var s=n;if(s.styles!==void 0){var l=s.next;if(l!==void 0)for(;l!==void 0;)xa={name:l.name,styles:l.styles,next:xa},l=l.next;var c=s.styles+";";return c}return pJ(e,t,n)}case"function":{if(e!==void 0){var d=xa,u=n(e);return xa=d,Cp(e,t,u)}break}}var p=n;if(t==null)return p;var h=t[p];return h!==void 0?h:p}function pJ(e,t,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=Cp(e,t,n[i])+";";else for(var s in n){var l=n[s];if(typeof l!="object"){var c=l;t!=null&&t[c]!==void 0?r+=s+"{"+t[c]+"}":q5(c)&&(r+=R1(s)+":"+G5(s,c)+";")}else if(Array.isArray(l)&&typeof l[0]=="string"&&(t==null||t[l[0]]===void 0))for(var d=0;d<l.length;d++)q5(l[d])&&(r+=R1(s)+":"+G5(s,l[d])+";");else{var u=Cp(e,t,l);switch(s){case"animation":case"animationName":{r+=R1(s)+":"+u+";";break}default:r+=s+"{"+u+"}"}}}return r}var Y5=/label:\s*([^\s;{]+)\s*(;|$)/g,xa;function Yp(e,t,n){if(e.length===1&&typeof e[0]=="object"&&e[0]!==null&&e[0].styles!==void 0)return e[0];var r=!0,i="";xa=void 0;var s=e[0];if(s==null||s.raw===void 0)r=!1,i+=Cp(n,t,s);else{var l=s;i+=l[0]}for(var c=1;c<e.length;c++)if(i+=Cp(n,t,e[c]),r){var d=s;i+=d[c]}Y5.lastIndex=0;for(var u="",p;(p=Y5.exec(i))!==null;)u+="-"+p[1];var h=uJ(i)+u;return{name:h,styles:i,next:xa}}var gJ=function(t){return t()},TD=a0.useInsertionEffect?a0.useInsertionEffect:!1,CD=TD||gJ,K5=TD||x.useLayoutEffect,kD=x.createContext(typeof HTMLElement<"u"?xD({key:"css"}):null),mJ=kD.Provider,Zw=function(t){return x.forwardRef(function(n,r){var i=x.useContext(kD);return t(n,i,r)})},Kp=x.createContext({}),eE={}.hasOwnProperty,dx="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",yJ=function(t,n){var r={};for(var i in n)eE.call(n,i)&&(r[i]=n[i]);return r[dx]=t,r},vJ=function(t){var n=t.cache,r=t.serialized,i=t.isStringTag;return Xw(n,r,i),CD(function(){return Jw(n,r,i)}),null},AJ=Zw(function(e,t,n){var r=e.css;typeof r=="string"&&t.registered[r]!==void 0&&(r=t.registered[r]);var i=e[dx],s=[r],l="";typeof e.className=="string"?l=wD(t.registered,s,e.className):e.className!=null&&(l=e.className+" ");var c=Yp(s,void 0,x.useContext(Kp));l+=t.key+"-"+c.name;var d={};for(var u in e)eE.call(e,u)&&u!=="css"&&u!==dx&&(d[u]=e[u]);return d.className=l,n&&(d.ref=n),x.createElement(x.Fragment,null,x.createElement(vJ,{cache:t,serialized:c,isStringTag:typeof i=="string"}),x.createElement(i,d))}),bJ=AJ,_J=function(t,n){var r=arguments;if(n==null||!eE.call(n,"css"))return x.createElement.apply(void 0,r);var i=r.length,s=new Array(i);s[0]=bJ,s[1]=yJ(t,n);for(var l=2;l<i;l++)s[l]=r[l];return x.createElement.apply(null,s)};(function(e){var t;t||(t=e.JSX||(e.JSX={}))})(_J);var SJ=Zw(function(e,t){var n=e.styles,r=Yp([n],void 0,x.useContext(Kp)),i=x.useRef();return K5(function(){var s=t.key+"-global",l=new t.sheet.constructor({key:s,nonce:t.sheet.nonce,container:t.sheet.container,speedy:t.sheet.isSpeedy}),c=!1,d=document.querySelector('style[data-emotion="'+s+" "+r.name+'"]');return t.sheet.tags.length&&(l.before=t.sheet.tags[0]),d!==null&&(c=!0,d.setAttribute("data-emotion",s),l.hydrate([d])),i.current=[l,c],function(){l.flush()}},[t]),K5(function(){var s=i.current,l=s[0],c=s[1];if(c){s[1]=!1;return}if(r.next!==void 0&&Jw(t,r.next,!0),l.tags.length){var d=l.tags[l.tags.length-1].nextElementSibling;l.before=d,l.flush()}t.insert("",r,l,!1)},[t,r.name]),null});function ou(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Yp(t)}function lu(){var e=ou.apply(void 0,arguments),t="animation-"+e.name;return{name:t,styles:"@keyframes "+t+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}function tE(e,t){for(var n=-1,r=e==null?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}function xJ(){this.__data__=new Oo,this.size=0}function wJ(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}function EJ(e){return this.__data__.get(e)}function TJ(e){return this.__data__.has(e)}var CJ=200;function kJ(e,t){var n=this.__data__;if(n instanceof Oo){var r=n.__data__;if(!Sp||r.length<CJ-1)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new jo(r)}return n.set(e,t),this.size=n.size,this}function Oa(e){var t=this.__data__=new Oo(e);this.size=t.size}Oa.prototype.clear=xJ;Oa.prototype.delete=wJ;Oa.prototype.get=EJ;Oa.prototype.has=TJ;Oa.prototype.set=kJ;function MJ(e,t){for(var n=-1,r=e==null?0:e.length;++n<r&&t(e[n],n,e)!==!1;);return e}var x0=function(){try{var e=au(Object,"defineProperty");return e({},"",{}),e}catch{}}();function MD(e,t,n){t=="__proto__"&&x0?x0(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}var RJ=Object.prototype,IJ=RJ.hasOwnProperty;function RD(e,t,n){var r=e[t];(!(IJ.call(e,t)&&uv(r,n))||n===void 0&&!(t in e))&&MD(e,t,n)}function Wp(e,t,n,r){var i=!n;n||(n={});for(var s=-1,l=t.length;++s<l;){var c=t[s],d=void 0;d===void 0&&(d=e[c]),i?MD(n,c,d):RD(n,c,d)}return n}function OJ(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}var jJ="[object Arguments]";function W5(e){return ko(e)&&iu(e)==jJ}var ID=Object.prototype,PJ=ID.hasOwnProperty,VJ=ID.propertyIsEnumerable,nE=W5(function(){return arguments}())?W5:function(e){return ko(e)&&PJ.call(e,"callee")&&!VJ.call(e,"callee")},Us=Array.isArray;function DJ(){return!1}var OD=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Q5=OD&&typeof module=="object"&&module&&!module.nodeType&&module,BJ=Q5&&Q5.exports===OD,X5=BJ?ha.Buffer:void 0,NJ=X5?X5.isBuffer:void 0,w0=NJ||DJ,LJ="[object Arguments]",FJ="[object Array]",zJ="[object Boolean]",$J="[object Date]",UJ="[object Error]",HJ="[object Function]",qJ="[object Map]",GJ="[object Number]",YJ="[object Object]",KJ="[object RegExp]",WJ="[object Set]",QJ="[object String]",XJ="[object WeakMap]",JJ="[object ArrayBuffer]",ZJ="[object DataView]",eZ="[object Float32Array]",tZ="[object Float64Array]",nZ="[object Int8Array]",rZ="[object Int16Array]",iZ="[object Int32Array]",sZ="[object Uint8Array]",aZ="[object Uint8ClampedArray]",oZ="[object Uint16Array]",lZ="[object Uint32Array]",jn={};jn[eZ]=jn[tZ]=jn[nZ]=jn[rZ]=jn[iZ]=jn[sZ]=jn[aZ]=jn[oZ]=jn[lZ]=!0;jn[LJ]=jn[FJ]=jn[JJ]=jn[zJ]=jn[ZJ]=jn[$J]=jn[UJ]=jn[HJ]=jn[qJ]=jn[GJ]=jn[YJ]=jn[KJ]=jn[WJ]=jn[QJ]=jn[XJ]=!1;function cZ(e){return ko(e)&&$w(e.length)&&!!jn[iu(e)]}function rE(e){return function(t){return e(t)}}var jD=typeof exports=="object"&&exports&&!exports.nodeType&&exports,ap=jD&&typeof module=="object"&&module&&!module.nodeType&&module,uZ=ap&&ap.exports===jD,I1=uZ&&I4.process,Kd=function(){try{var e=ap&&ap.require&&ap.require("util").types;return e||I1&&I1.binding&&I1.binding("util")}catch{}}(),J5=Kd&&Kd.isTypedArray,PD=J5?rE(J5):cZ,dZ=Object.prototype,fZ=dZ.hasOwnProperty;function VD(e,t){var n=Us(e),r=!n&&nE(e),i=!n&&!r&&w0(e),s=!n&&!r&&!i&&PD(e),l=n||r||i||s,c=l?OJ(e.length,String):[],d=c.length;for(var u in e)(t||fZ.call(e,u))&&!(l&&(u=="length"||i&&(u=="offset"||u=="parent")||s&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||Hw(u,d)))&&c.push(u);return c}var hZ=Object.prototype;function iE(e){var t=e&&e.constructor,n=typeof t=="function"&&t.prototype||hZ;return e===n}function DD(e,t){return function(n){return e(t(n))}}var pZ=DD(Object.keys,Object),gZ=Object.prototype,mZ=gZ.hasOwnProperty;function yZ(e){if(!iE(e))return pZ(e);var t=[];for(var n in Object(e))mZ.call(e,n)&&n!="constructor"&&t.push(n);return t}function Qp(e){return Uw(e)?VD(e):yZ(e)}function vZ(e,t){return e&&Wp(t,Qp(t),e)}function AZ(e){var t=[];if(e!=null)for(var n in Object(e))t.push(n);return t}var bZ=Object.prototype,_Z=bZ.hasOwnProperty;function SZ(e){if(!da(e))return AZ(e);var t=iE(e),n=[];for(var r in e)r=="constructor"&&(t||!_Z.call(e,r))||n.push(r);return n}function sE(e){return Uw(e)?VD(e,!0):SZ(e)}function xZ(e,t){return e&&Wp(t,sE(t),e)}var BD=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Z5=BD&&typeof module=="object"&&module&&!module.nodeType&&module,wZ=Z5&&Z5.exports===BD,eI=wZ?ha.Buffer:void 0,tI=eI?eI.allocUnsafe:void 0;function EZ(e,t){if(t)return e.slice();var n=e.length,r=tI?tI(n):new e.constructor(n);return e.copy(r),r}function ND(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}function TZ(e,t){for(var n=-1,r=e==null?0:e.length,i=0,s=[];++n<r;){var l=e[n];t(l,n,e)&&(s[i++]=l)}return s}function LD(){return[]}var CZ=Object.prototype,kZ=CZ.propertyIsEnumerable,nI=Object.getOwnPropertySymbols,aE=nI?function(e){return e==null?[]:(e=Object(e),TZ(nI(e),function(t){return kZ.call(e,t)}))}:LD;function MZ(e,t){return Wp(e,aE(e),t)}function oE(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}var lE=DD(Object.getPrototypeOf,Object),RZ=Object.getOwnPropertySymbols,FD=RZ?function(e){for(var t=[];e;)oE(t,aE(e)),e=lE(e);return t}:LD;function IZ(e,t){return Wp(e,FD(e),t)}function zD(e,t,n){var r=t(e);return Us(e)?r:oE(r,n(e))}function fx(e){return zD(e,Qp,aE)}function $D(e){return zD(e,sE,FD)}var hx=au(ha,"DataView"),px=au(ha,"Promise"),kd=au(ha,"Set"),gx=au(ha,"WeakMap"),rI="[object Map]",OZ="[object Object]",iI="[object Promise]",sI="[object Set]",aI="[object WeakMap]",oI="[object DataView]",jZ=su(hx),PZ=su(Sp),VZ=su(px),DZ=su(kd),BZ=su(gx),ra=iu;(hx&&ra(new hx(new ArrayBuffer(1)))!=oI||Sp&&ra(new Sp)!=rI||px&&ra(px.resolve())!=iI||kd&&ra(new kd)!=sI||gx&&ra(new gx)!=aI)&&(ra=function(e){var t=iu(e),n=t==OZ?e.constructor:void 0,r=n?su(n):"";if(r)switch(r){case jZ:return oI;case PZ:return rI;case VZ:return iI;case DZ:return sI;case BZ:return aI}return t});var NZ=Object.prototype,LZ=NZ.hasOwnProperty;function FZ(e){var t=e.length,n=new e.constructor(t);return t&&typeof e[0]=="string"&&LZ.call(e,"index")&&(n.index=e.index,n.input=e.input),n}var E0=ha.Uint8Array;function cE(e){var t=new e.constructor(e.byteLength);return new E0(t).set(new E0(e)),t}function zZ(e,t){var n=t?cE(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}var $Z=/\w*$/;function UZ(e){var t=new e.constructor(e.source,$Z.exec(e));return t.lastIndex=e.lastIndex,t}var lI=$s?$s.prototype:void 0,cI=lI?lI.valueOf:void 0;function HZ(e){return cI?Object(cI.call(e)):{}}function qZ(e,t){var n=t?cE(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}var GZ="[object Boolean]",YZ="[object Date]",KZ="[object Map]",WZ="[object Number]",QZ="[object RegExp]",XZ="[object Set]",JZ="[object String]",ZZ="[object Symbol]",eee="[object ArrayBuffer]",tee="[object DataView]",nee="[object Float32Array]",ree="[object Float64Array]",iee="[object Int8Array]",see="[object Int16Array]",aee="[object Int32Array]",oee="[object Uint8Array]",lee="[object Uint8ClampedArray]",cee="[object Uint16Array]",uee="[object Uint32Array]";function dee(e,t,n){var r=e.constructor;switch(t){case eee:return cE(e);case GZ:case YZ:return new r(+e);case tee:return zZ(e,n);case nee:case ree:case iee:case see:case aee:case oee:case lee:case cee:case uee:return qZ(e,n);case KZ:return new r;case WZ:case JZ:return new r(e);case QZ:return UZ(e);case XZ:return new r;case ZZ:return HZ(e)}}var uI=Object.create,fee=function(){function e(){}return function(t){if(!da(t))return{};if(uI)return uI(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();function hee(e){return typeof e.constructor=="function"&&!iE(e)?fee(lE(e)):{}}var pee="[object Map]";function gee(e){return ko(e)&&ra(e)==pee}var dI=Kd&&Kd.isMap,mee=dI?rE(dI):gee,yee="[object Set]";function vee(e){return ko(e)&&ra(e)==yee}var fI=Kd&&Kd.isSet,Aee=fI?rE(fI):vee,bee=1,_ee=2,See=4,UD="[object Arguments]",xee="[object Array]",wee="[object Boolean]",Eee="[object Date]",Tee="[object Error]",HD="[object Function]",Cee="[object GeneratorFunction]",kee="[object Map]",Mee="[object Number]",qD="[object Object]",Ree="[object RegExp]",Iee="[object Set]",Oee="[object String]",jee="[object Symbol]",Pee="[object WeakMap]",Vee="[object ArrayBuffer]",Dee="[object DataView]",Bee="[object Float32Array]",Nee="[object Float64Array]",Lee="[object Int8Array]",Fee="[object Int16Array]",zee="[object Int32Array]",$ee="[object Uint8Array]",Uee="[object Uint8ClampedArray]",Hee="[object Uint16Array]",qee="[object Uint32Array]",Rn={};Rn[UD]=Rn[xee]=Rn[Vee]=Rn[Dee]=Rn[wee]=Rn[Eee]=Rn[Bee]=Rn[Nee]=Rn[Lee]=Rn[Fee]=Rn[zee]=Rn[kee]=Rn[Mee]=Rn[qD]=Rn[Ree]=Rn[Iee]=Rn[Oee]=Rn[jee]=Rn[$ee]=Rn[Uee]=Rn[Hee]=Rn[qee]=!0;Rn[Tee]=Rn[HD]=Rn[Pee]=!1;function Py(e,t,n,r,i,s){var l,c=t&bee,d=t&_ee,u=t&See;if(n&&(l=i?n(e,r,i,s):n(e)),l!==void 0)return l;if(!da(e))return e;var p=Us(e);if(p){if(l=FZ(e),!c)return ND(e,l)}else{var h=ra(e),y=h==HD||h==Cee;if(w0(e))return EZ(e,c);if(h==qD||h==UD||y&&!i){if(l=d||y?{}:hee(e),!c)return d?IZ(e,xZ(l,e)):MZ(e,vZ(l,e))}else{if(!Rn[h])return i?e:{};l=dee(e,h,c)}}s||(s=new Oa);var v=s.get(e);if(v)return v;s.set(e,l),Aee(e)?e.forEach(function(w){l.add(Py(w,t,n,w,e,s))}):mee(e)&&e.forEach(function(w,T){l.set(T,Py(w,t,n,T,e,s))});var b=u?d?$D:fx:d?sE:Qp,_=p?void 0:b(e);return MJ(_||e,function(w,T){_&&(T=w,w=e[T]),RD(l,T,Py(w,t,n,T,e,s))}),l}var Gee=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Yee=/^\w*$/;function uE(e,t){if(Us(e))return!1;var n=typeof e;return n=="number"||n=="symbol"||n=="boolean"||e==null||cv(e)?!0:Yee.test(e)||!Gee.test(e)||t!=null&&e in Object(t)}var Kee=500;function Wee(e){var t=hv(e,function(r){return n.size===Kee&&n.clear(),r}),n=t.cache;return t}var Qee=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Xee=/\\(\\)?/g,Jee=Wee(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(Qee,function(n,r,i,s){t.push(i?s.replace(Xee,"$1"):r||n)}),t}),hI=$s?$s.prototype:void 0,pI=hI?hI.toString:void 0;function GD(e){if(typeof e=="string")return e;if(Us(e))return tE(e,GD)+"";if(cv(e))return pI?pI.call(e):"";var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}function dE(e){return e==null?"":GD(e)}function Cv(e,t){return Us(e)?e:uE(e,t)?[e]:Jee(dE(e))}function Zee(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}function Xp(e){if(typeof e=="string"||cv(e))return e;var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}function fE(e,t){t=Cv(t,e);for(var n=0,r=t.length;e!=null&&n<r;)e=e[Xp(t[n++])];return n&&n==r?e:void 0}function hE(e,t,n){var r=-1,i=e.length;t<0&&(t=-t>i?0:i+t),n=n>i?i:n,n<0&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var s=Array(i);++r<i;)s[r]=e[r+t];return s}function ete(e,t){return t.length<2?e:fE(e,hE(t,0,-1))}function tte(e,t){return t=Cv(t,e),e=ete(e,t),e==null||delete e[Xp(Zee(t))]}var nte="[object Object]",rte=Function.prototype,ite=Object.prototype,YD=rte.toString,ste=ite.hasOwnProperty,ate=YD.call(Object);function ote(e){if(!ko(e)||iu(e)!=nte)return!1;var t=lE(e);if(t===null)return!0;var n=ste.call(t,"constructor")&&t.constructor;return typeof n=="function"&&n instanceof n&&YD.call(n)==ate}function lte(e){return ote(e)?void 0:e}var gI=$s?$s.isConcatSpreadable:void 0;function cte(e){return Us(e)||nE(e)||!!(gI&&e&&e[gI])}function ute(e,t,n,r,i){var s=-1,l=e.length;for(n||(n=cte),i||(i=[]);++s<l;){var c=e[s];n(c)?oE(i,c):i[i.length]=c}return i}function dte(e){var t=e==null?0:e.length;return t?ute(e):[]}function fte(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}var mI=Math.max;function hte(e,t,n){return t=mI(t===void 0?e.length-1:t,0),function(){for(var r=arguments,i=-1,s=mI(r.length-t,0),l=Array(s);++i<s;)l[i]=r[t+i];i=-1;for(var c=Array(t+1);++i<t;)c[i]=r[i];return c[t]=n(l),fte(e,this,c)}}function pte(e){return function(){return e}}function KD(e){return e}var gte=x0?function(e,t){return x0(e,"toString",{configurable:!0,enumerable:!1,value:pte(t),writable:!0})}:KD,mte=800,yte=16,vte=Date.now;function Ate(e){var t=0,n=0;return function(){var r=vte(),i=yte-(r-n);if(n=r,i>0){if(++t>=mte)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var bte=Ate(gte);function _te(e){return bte(hte(e,void 0,dte),e+"")}var Ste=1,xte=2,wte=4,Ete=_te(function(e,t){var n={};if(e==null)return n;var r=!1;t=tE(t,function(s){return s=Cv(s,e),r||(r=s.length>1),s}),Wp(e,$D(e),n),r&&(n=Py(n,Ste|xte|wte,lte));for(var i=t.length;i--;)tte(n,t[i]);return n});function Hs(e,t=!1){const[n,r]=x.useState(null);return x.useEffect(()=>{const i=(...s)=>{r(s)};return e.subscribe(i,t),()=>e.unsubscribe(i)},[e]),n}function pi(e,t,n=[]){const r=Array.isArray(e)?e:[e];x.useEffect(()=>(r.forEach(i=>i.subscribe(t)),()=>r.forEach(i=>i.unsubscribe(t))),[...r,t,...n])}function hs(e,t,n=[]){const r=x.useMemo(t,[]),[i,s]=x.useState(r),l=Array.isArray(e)?e:[e];return x.useEffect(()=>{s(t())},n),x.useEffect(()=>{const c=()=>s(t());return l.forEach(d=>d.subscribe(c)),()=>l.forEach(d=>d.unsubscribe(c))},[...l]),i}var Tte=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,Cte=_D(function(e){return Tte.test(e)||e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)<91}),kte=Cte,Mte=function(t){return t!=="theme"},yI=function(t){return typeof t=="string"&&t.charCodeAt(0)>96?kte:Mte},vI=function(t,n,r){var i;if(n){var s=n.shouldForwardProp;i=t.__emotion_forwardProp&&s?function(l){return t.__emotion_forwardProp(l)&&s(l)}:s}return typeof i!="function"&&r&&(i=t.__emotion_forwardProp),i},Rte=function(t){var n=t.cache,r=t.serialized,i=t.isStringTag;return Xw(n,r,i),CD(function(){return Jw(n,r,i)}),null},W=function e(t,n){var r=t.__emotion_real===t,i=r&&t.__emotion_base||t,s,l;n!==void 0&&(s=n.label,l=n.target);var c=vI(t,n,r),d=c||yI(i),u=!d("as");return function(){var p=arguments,h=r&&t.__emotion_styles!==void 0?t.__emotion_styles.slice(0):[];if(s!==void 0&&h.push("label:"+s+";"),p[0]==null||p[0].raw===void 0)h.push.apply(h,p);else{var y=p[0];h.push(y[0]);for(var v=p.length,b=1;b<v;b++)h.push(p[b],y[b])}var _=Zw(function(w,T,k){var R=u&&w.as||i,M="",E=[],O=w;if(w.theme==null){O={};for(var P in w)O[P]=w[P];O.theme=x.useContext(Kp)}typeof w.className=="string"?M=wD(T.registered,E,w.className):w.className!=null&&(M=w.className+" ");var j=Yp(h.concat(E),T.registered,O);M+=T.key+"-"+j.name,l!==void 0&&(M+=" "+l);var V=u&&c===void 0?yI(R):d,C={};for(var N in w)u&&N==="as"||V(N)&&(C[N]=w[N]);return C.className=M,k&&(C.ref=k),x.createElement(x.Fragment,null,x.createElement(Rte,{cache:T,serialized:j,isStringTag:typeof R=="string"}),x.createElement(R,C))});return _.displayName=s!==void 0?s:"Styled("+(typeof i=="string"?i:i.displayName||i.name||"Component")+")",_.defaultProps=t.defaultProps,_.__emotion_real=_,_.__emotion_base=i,_.__emotion_styles=h,_.__emotion_forwardProp=c,Object.defineProperty(_,"toString",{value:function(){return"."+l}}),_.withComponent=function(w,T){var k=e(w,S0({},n,T,{shouldForwardProp:vI(_,T,!0)}));return k.apply(void 0,h)},_}};const Wd={animation:"focusAnimation 1000ms ease-in-out infinite both"},Ite={boxShadow:`inset 0px 0px 0px 4px ${$e.colors.text.active}`},jt={fontWeight:"bold",WebkitTextStroke:"0.1rem black",color:"white","& strong":{color:$e.colors.text.active}};function Ote(){var e=x.useRef(!0);return e.current?(e.current=!1,!0):e.current}var T0=function(){return T0=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},T0.apply(this,arguments)};function jte(){var e=x.useRef(!1),t=x.useCallback(function(){return e.current},[]);return x.useEffect(function(){return e.current=!0,function(){e.current=!1}},[]),t}function Pte(e,t,n){t===void 0&&(t=[]),n===void 0&&(n={loading:!1});var r=x.useRef(0),i=jte(),s=x.useState(n),l=s[0],c=s[1],d=x.useCallback(function(){for(var u=[],p=0;p<arguments.length;p++)u[p]=arguments[p];var h=++r.current;return l.loading||c(function(y){return T0(T0({},y),{loading:!0})}),e.apply(void 0,u).then(function(y){return i()&&h===r.current&&c({value:y,loading:!1}),y},function(y){return i()&&h===r.current&&c({error:y,loading:!1}),y})},t);return[l,d]}function AI(e,t){t===void 0&&(t=[]);var n=Pte(e,t,{loading:!0}),r=n[0],i=n[1];return x.useEffect(function(){i()},[i]),r}var Vte=function(){};function Dte(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];e&&e.addEventListener&&e.addEventListener.apply(e,t)}function Bte(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];e&&e.removeEventListener&&e.removeEventListener.apply(e,t)}var pE=typeof window<"u",Nte=function(e){return(e+1)%1e6};function WD(){var e=x.useReducer(Nte,0),t=e[1];return t}var Lte=pE?x.useLayoutEffect:x.useEffect,Fte=function(e){x.useEffect(e,[])},zte=pE?window:null,bI=function(e){return!!e.addEventListener},_I=function(e){return!!e.on},$te=function(e,t,n,r){n===void 0&&(n=zte),x.useEffect(function(){if(t&&n)return bI(n)?Dte(n,e,t,r):_I(n)&&n.on(e,t,r),function(){bI(n)?Bte(n,e,t,r):_I(n)&&n.off(e,t,r)}},[e,t,n,JSON.stringify(r)])},QD=function(e,t){var n=x.useRef(function(){});x.useEffect(function(){n.current=e}),x.useEffect(function(){{var r=setInterval(function(){return n.current()},t);return function(){return clearInterval(r)}}},[t])},Ute=function(e){var t=x.useRef(e);t.current=e,Fte(function(){return function(){return t.current()}})};function Hte(e){var t=x.useRef();return x.useEffect(function(){t.current=e}),t.current}var qte=function(e,t){return e===t};function Gte(e,t){t===void 0&&(t=qte);var n=x.useRef(),r=x.useRef(e),i=Ote();return!i&&!t(r.current,e)&&(n.current=r.current,r.current=e),n.current}var XD={x:0,y:0,width:0,height:0,top:0,left:0,bottom:0,right:0};function Yte(){var e=x.useState(null),t=e[0],n=e[1],r=x.useState(XD),i=r[0],s=r[1],l=x.useMemo(function(){return new window.ResizeObserver(function(c){if(c[0]){var d=c[0].contentRect,u=d.x,p=d.y,h=d.width,y=d.height,v=d.top,b=d.left,_=d.bottom,w=d.right;s({x:u,y:p,width:h,height:y,top:v,left:b,bottom:_,right:w})}})},[]);return Lte(function(){if(t)return l.observe(t),function(){l.disconnect()}},[t]),[n,i]}const Kte=pE&&typeof window.ResizeObserver<"u"?Yte:function(){return[Vte,XD]};function JD(){const[e,t]=x.useState(()=>Oc.isStarted()),[n,r]=x.useState(()=>Oc.getLatency());QD(()=>{r(Oc.getLatency())},1e3),pi(me.micServerStarted,()=>{t(!0)}),pi(me.micServerStopped,()=>{t(!1)});const i=hs([me.remoteMicConnected,me.remoteMicDisconnected],()=>Dt.getRemoteMics(),[e]);return{isOnline:e,latency:n,connected:i}}function Wte(){const[e,t]=x.useState(null),{connected:n,isOnline:r,latency:i}=JD();return e===null&&r&&t(!0),e?g.jsxs(Qte,{children:[g.jsxs(SI,{children:[g.jsx("strong",{children:"Remote mic server"}),": ",r?"Online":"Offline",r&&i&&g.jsxs(g.Fragment,{children:[" (",i,"ms)"]})]}),r&&g.jsx(g.Fragment,{children:g.jsxs(SI,{children:[g.jsx("strong",{children:"connected mics"}),": ",n.length]})})]}):null}const Qte=W("div",{target:"eeky7rp1"})("opacity:0.75;position:fixed;bottom:0;right:0;",jt,";font-size:1.5rem;padding:0.5rem;display:flex;gap:1rem;z-index:100000;pointer-events:none;"),SI=W("div",{target:"eeky7rp0"})(""),gE="-",Xte=e=>{const t=Zte(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:l=>{const c=l.split(gE);return c[0]===""&&c.length!==1&&c.shift(),ZD(c,t)||Jte(l)},getConflictingClassGroupIds:(l,c)=>{const d=n[l]||[];return c&&r[l]?[...d,...r[l]]:d}}},ZD=(e,t)=>{var l;if(e.length===0)return t.classGroupId;const n=e[0],r=t.nextPart.get(n),i=r?ZD(e.slice(1),r):void 0;if(i)return i;if(t.validators.length===0)return;const s=e.join(gE);return(l=t.validators.find(({validator:c})=>c(s)))==null?void 0:l.classGroupId},xI=/^\[(.+)\]$/,Jte=e=>{if(xI.test(e)){const t=xI.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},Zte=e=>{const{theme:t,prefix:n}=e,r={nextPart:new Map,validators:[]};return tne(Object.entries(e.classGroups),n).forEach(([s,l])=>{mx(l,r,s,t)}),r},mx=(e,t,n,r)=>{e.forEach(i=>{if(typeof i=="string"){const s=i===""?t:wI(t,i);s.classGroupId=n;return}if(typeof i=="function"){if(ene(i)){mx(i(r),t,n,r);return}t.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([s,l])=>{mx(l,wI(t,s),n,r)})})},wI=(e,t)=>{let n=e;return t.split(gE).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},ene=e=>e.isThemeGetter,tne=(e,t)=>t?e.map(([n,r])=>{const i=r.map(s=>typeof s=="string"?t+s:typeof s=="object"?Object.fromEntries(Object.entries(s).map(([l,c])=>[t+l,c])):s);return[n,i]}):e,nne=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,r=new Map;const i=(s,l)=>{n.set(s,l),t++,t>e&&(t=0,r=n,n=new Map)};return{get(s){let l=n.get(s);if(l!==void 0)return l;if((l=r.get(s))!==void 0)return i(s,l),l},set(s,l){n.has(s)?n.set(s,l):i(s,l)}}},eB="!",rne=e=>{const{separator:t,experimentalParseClassName:n}=e,r=t.length===1,i=t[0],s=t.length,l=c=>{const d=[];let u=0,p=0,h;for(let w=0;w<c.length;w++){let T=c[w];if(u===0){if(T===i&&(r||c.slice(w,w+s)===t)){d.push(c.slice(p,w)),p=w+s;continue}if(T==="/"){h=w;continue}}T==="["?u++:T==="]"&&u--}const y=d.length===0?c:c.substring(p),v=y.startsWith(eB),b=v?y.substring(1):y,_=h&&h>p?h-p:void 0;return{modifiers:d,hasImportantModifier:v,baseClassName:b,maybePostfixModifierPosition:_}};return n?c=>n({className:c,parseClassName:l}):l},ine=e=>{if(e.length<=1)return e;const t=[];let n=[];return e.forEach(r=>{r[0]==="["?(t.push(...n.sort(),r),n=[]):n.push(r)}),t.push(...n.sort()),t},sne=e=>({cache:nne(e.cacheSize),parseClassName:rne(e),...Xte(e)}),ane=/\s+/,one=(e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i}=t,s=[],l=e.trim().split(ane);let c="";for(let d=l.length-1;d>=0;d-=1){const u=l[d],{modifiers:p,hasImportantModifier:h,baseClassName:y,maybePostfixModifierPosition:v}=n(u);let b=!!v,_=r(b?y.substring(0,v):y);if(!_){if(!b){c=u+(c.length>0?" "+c:c);continue}if(_=r(y),!_){c=u+(c.length>0?" "+c:c);continue}b=!1}const w=ine(p).join(":"),T=h?w+eB:w,k=T+_;if(s.includes(k))continue;s.push(k);const R=i(_,b);for(let M=0;M<R.length;++M){const E=R[M];s.push(T+E)}c=u+(c.length>0?" "+c:c)}return c};function lne(){let e=0,t,n,r="";for(;e<arguments.length;)(t=arguments[e++])&&(n=tB(t))&&(r&&(r+=" "),r+=n);return r}const tB=e=>{if(typeof e=="string")return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=tB(e[r]))&&(n&&(n+=" "),n+=t);return n};function cne(e,...t){let n,r,i,s=l;function l(d){const u=t.reduce((p,h)=>h(p),e());return n=sne(u),r=n.cache.get,i=n.cache.set,s=c,c(d)}function c(d){const u=r(d);if(u)return u;const p=one(d,n);return i(d,p),p}return function(){return s(lne.apply(null,arguments))}}const On=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},nB=/^\[(?:([a-z-]+):)?(.+)\]$/i,une=/^\d+\/\d+$/,dne=new Set(["px","full","screen"]),fne=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,hne=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,pne=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,gne=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,mne=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,so=e=>Md(e)||dne.has(e)||une.test(e),ol=e=>pf(e,"length",wne),Md=e=>!!e&&!Number.isNaN(Number(e)),O1=e=>pf(e,"number",Md),kh=e=>!!e&&Number.isInteger(Number(e)),yne=e=>e.endsWith("%")&&Md(e.slice(0,-1)),It=e=>nB.test(e),ll=e=>fne.test(e),vne=new Set(["length","size","percentage"]),Ane=e=>pf(e,vne,rB),bne=e=>pf(e,"position",rB),_ne=new Set(["image","url"]),Sne=e=>pf(e,_ne,Tne),xne=e=>pf(e,"",Ene),Mh=()=>!0,pf=(e,t,n)=>{const r=nB.exec(e);return r?r[1]?typeof t=="string"?r[1]===t:t.has(r[1]):n(r[2]):!1},wne=e=>hne.test(e)&&!pne.test(e),rB=()=>!1,Ene=e=>gne.test(e),Tne=e=>mne.test(e),Cne=()=>{const e=On("colors"),t=On("spacing"),n=On("blur"),r=On("brightness"),i=On("borderColor"),s=On("borderRadius"),l=On("borderSpacing"),c=On("borderWidth"),d=On("contrast"),u=On("grayscale"),p=On("hueRotate"),h=On("invert"),y=On("gap"),v=On("gradientColorStops"),b=On("gradientColorStopPositions"),_=On("inset"),w=On("margin"),T=On("opacity"),k=On("padding"),R=On("saturate"),M=On("scale"),E=On("sepia"),O=On("skew"),P=On("space"),j=On("translate"),V=()=>["auto","contain","none"],C=()=>["auto","hidden","clip","visible","scroll"],N=()=>["auto",It,t],U=()=>[It,t],L=()=>["",so,ol],q=()=>["auto",Md,It],H=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],D=()=>["solid","dashed","dotted","double","none"],K=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],Q=()=>["start","end","center","between","around","evenly","stretch"],J=()=>["","0",It],B=()=>["auto","avoid","all","avoid-page","page","left","right","column"],G=()=>[Md,It];return{cacheSize:500,separator:":",theme:{colors:[Mh],spacing:[so,ol],blur:["none","",ll,It],brightness:G(),borderColor:[e],borderRadius:["none","","full",ll,It],borderSpacing:U(),borderWidth:L(),contrast:G(),grayscale:J(),hueRotate:G(),invert:J(),gap:U(),gradientColorStops:[e],gradientColorStopPositions:[yne,ol],inset:N(),margin:N(),opacity:G(),padding:U(),saturate:G(),scale:G(),sepia:J(),skew:G(),space:U(),translate:U()},classGroups:{aspect:[{aspect:["auto","square","video",It]}],container:["container"],columns:[{columns:[ll]}],"break-after":[{"break-after":B()}],"break-before":[{"break-before":B()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...H(),It]}],overflow:[{overflow:C()}],"overflow-x":[{"overflow-x":C()}],"overflow-y":[{"overflow-y":C()}],overscroll:[{overscroll:V()}],"overscroll-x":[{"overscroll-x":V()}],"overscroll-y":[{"overscroll-y":V()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[_]}],"inset-x":[{"inset-x":[_]}],"inset-y":[{"inset-y":[_]}],start:[{start:[_]}],end:[{end:[_]}],top:[{top:[_]}],right:[{right:[_]}],bottom:[{bottom:[_]}],left:[{left:[_]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",kh,It]}],basis:[{basis:N()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",It]}],grow:[{grow:J()}],shrink:[{shrink:J()}],order:[{order:["first","last","none",kh,It]}],"grid-cols":[{"grid-cols":[Mh]}],"col-start-end":[{col:["auto",{span:["full",kh,It]},It]}],"col-start":[{"col-start":q()}],"col-end":[{"col-end":q()}],"grid-rows":[{"grid-rows":[Mh]}],"row-start-end":[{row:["auto",{span:[kh,It]},It]}],"row-start":[{"row-start":q()}],"row-end":[{"row-end":q()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",It]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",It]}],gap:[{gap:[y]}],"gap-x":[{"gap-x":[y]}],"gap-y":[{"gap-y":[y]}],"justify-content":[{justify:["normal",...Q()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...Q(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...Q(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[k]}],px:[{px:[k]}],py:[{py:[k]}],ps:[{ps:[k]}],pe:[{pe:[k]}],pt:[{pt:[k]}],pr:[{pr:[k]}],pb:[{pb:[k]}],pl:[{pl:[k]}],m:[{m:[w]}],mx:[{mx:[w]}],my:[{my:[w]}],ms:[{ms:[w]}],me:[{me:[w]}],mt:[{mt:[w]}],mr:[{mr:[w]}],mb:[{mb:[w]}],ml:[{ml:[w]}],"space-x":[{"space-x":[P]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[P]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",It,t]}],"min-w":[{"min-w":[It,t,"min","max","fit"]}],"max-w":[{"max-w":[It,t,"none","full","min","max","fit","prose",{screen:[ll]},ll]}],h:[{h:[It,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[It,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[It,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[It,t,"auto","min","max","fit"]}],"font-size":[{text:["base",ll,ol]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",O1]}],"font-family":[{font:[Mh]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",It]}],"line-clamp":[{"line-clamp":["none",Md,O1]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",so,It]}],"list-image":[{"list-image":["none",It]}],"list-style-type":[{list:["none","disc","decimal",It]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[T]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[T]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...D(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",so,ol]}],"underline-offset":[{"underline-offset":["auto",so,It]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:U()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",It]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",It]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[T]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...H(),bne]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",Ane]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},Sne]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[b]}],"gradient-via-pos":[{via:[b]}],"gradient-to-pos":[{to:[b]}],"gradient-from":[{from:[v]}],"gradient-via":[{via:[v]}],"gradient-to":[{to:[v]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[c]}],"border-w-x":[{"border-x":[c]}],"border-w-y":[{"border-y":[c]}],"border-w-s":[{"border-s":[c]}],"border-w-e":[{"border-e":[c]}],"border-w-t":[{"border-t":[c]}],"border-w-r":[{"border-r":[c]}],"border-w-b":[{"border-b":[c]}],"border-w-l":[{"border-l":[c]}],"border-opacity":[{"border-opacity":[T]}],"border-style":[{border:[...D(),"hidden"]}],"divide-x":[{"divide-x":[c]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[c]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[T]}],"divide-style":[{divide:D()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...D()]}],"outline-offset":[{"outline-offset":[so,It]}],"outline-w":[{outline:[so,ol]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:L()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[T]}],"ring-offset-w":[{"ring-offset":[so,ol]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",ll,xne]}],"shadow-color":[{shadow:[Mh]}],opacity:[{opacity:[T]}],"mix-blend":[{"mix-blend":[...K(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":K()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[d]}],"drop-shadow":[{"drop-shadow":["","none",ll,It]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[p]}],invert:[{invert:[h]}],saturate:[{saturate:[R]}],sepia:[{sepia:[E]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[d]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[p]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[T]}],"backdrop-saturate":[{"backdrop-saturate":[R]}],"backdrop-sepia":[{"backdrop-sepia":[E]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[l]}],"border-spacing-x":[{"border-spacing-x":[l]}],"border-spacing-y":[{"border-spacing-y":[l]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",It]}],duration:[{duration:G()}],ease:[{ease:["linear","in","out","in-out",It]}],delay:[{delay:G()}],animate:[{animate:["none","spin","ping","pulse","bounce",It]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[M]}],"scale-x":[{"scale-x":[M]}],"scale-y":[{"scale-y":[M]}],rotate:[{rotate:[kh,It]}],"translate-x":[{"translate-x":[j]}],"translate-y":[{"translate-y":[j]}],"skew-x":[{"skew-x":[O]}],"skew-y":[{"skew-y":[O]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",It]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",It]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":U()}],"scroll-mx":[{"scroll-mx":U()}],"scroll-my":[{"scroll-my":U()}],"scroll-ms":[{"scroll-ms":U()}],"scroll-me":[{"scroll-me":U()}],"scroll-mt":[{"scroll-mt":U()}],"scroll-mr":[{"scroll-mr":U()}],"scroll-mb":[{"scroll-mb":U()}],"scroll-ml":[{"scroll-ml":U()}],"scroll-p":[{"scroll-p":U()}],"scroll-px":[{"scroll-px":U()}],"scroll-py":[{"scroll-py":U()}],"scroll-ps":[{"scroll-ps":U()}],"scroll-pe":[{"scroll-pe":U()}],"scroll-pt":[{"scroll-pt":U()}],"scroll-pr":[{"scroll-pr":U()}],"scroll-pb":[{"scroll-pb":U()}],"scroll-pl":[{"scroll-pl":U()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",It]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[so,ol,O1]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},iB=cne(Cne),cu=x.forwardRef(function({as:t,className:n,children:r,...i},s){const l=t||"div";return g.jsx(l,{className:iB("flex flex-col items-center bg-black/50 justify-center box-border rounded-md",n),...i,ref:s,children:r})}),ps=x.forwardRef(function({as:t,className:n,children:r,active:i,...s},l){const c=t||"span";return g.jsx(c,{className:iB(`typography text-base [&_a]:text-active [&_a]:typography ${i?"text-active":""}`,n),...s,ref:l,children:r})});var j1=typeof navigator<"u"?navigator.userAgent.toLowerCase().indexOf("firefox")>0:!1;function P1(e,t,n,r){e.addEventListener?e.addEventListener(t,n,r):e.attachEvent&&e.attachEvent("on".concat(t),function(){n(window.event)})}function sB(e,t){for(var n=t.slice(0,t.length-1),r=0;r<n.length;r++)n[r]=e[n[r].toLowerCase()];return n}function aB(e){typeof e!="string"&&(e=""),e=e.replace(/\s/g,"");for(var t=e.split(","),n=t.lastIndexOf("");n>=0;)t[n-1]+=",",t.splice(n,1),n=t.lastIndexOf("");return t}function kne(e,t){for(var n=e.length>=t.length?e:t,r=e.length>=t.length?t:e,i=!0,s=0;s<n.length;s++)r.indexOf(n[s])===-1&&(i=!1);return i}var mE={backspace:8,tab:9,clear:12,enter:13,return:13,esc:27,escape:27,space:32,left:37,up:38,right:39,down:40,del:46,delete:46,ins:45,insert:45,home:36,end:35,pageup:33,pagedown:34,capslock:20,num_0:96,num_1:97,num_2:98,num_3:99,num_4:100,num_5:101,num_6:102,num_7:103,num_8:104,num_9:105,num_multiply:106,num_add:107,num_enter:108,num_subtract:109,num_decimal:110,num_divide:111,"":20,",":188,".":190,"/":191,"`":192,"-":j1?173:189,"=":j1?61:187,";":j1?59:186,"'":222,"[":219,"]":221,"\\":220},Tl={"":16,shift:16,"":18,alt:18,option:18,"":17,ctrl:17,control:17,"":91,cmd:91,command:91},yx={16:"shiftKey",18:"altKey",17:"ctrlKey",91:"metaKey",shiftKey:16,ctrlKey:17,altKey:18,metaKey:91},ti={16:!1,18:!1,17:!1,91:!1},Er={};for(var $m=1;$m<20;$m++)mE["f".concat($m)]=111+$m;var $n=[],EI=!1,oB="all",lB=[],kv=function(t){return mE[t.toLowerCase()]||Tl[t.toLowerCase()]||t.toUpperCase().charCodeAt(0)};function cB(e){oB=e||"all"}function kp(){return oB||"all"}function Mne(){return $n.slice(0)}function Rne(e){var t=e.target||e.srcElement,n=t.tagName,r=!0;return(t.isContentEditable||(n==="INPUT"||n==="TEXTAREA"||n==="SELECT")&&!t.readOnly)&&(r=!1),r}function Ine(e){return typeof e=="string"&&(e=kv(e)),$n.indexOf(e)!==-1}function One(e,t){var n,r;e||(e=kp());for(var i in Er)if(Object.prototype.hasOwnProperty.call(Er,i))for(n=Er[i],r=0;r<n.length;)n[r].scope===e?n.splice(r,1):r++;kp()===e&&cB(t||"all")}function jne(e){var t=e.keyCode||e.which||e.charCode,n=$n.indexOf(t);if(n>=0&&$n.splice(n,1),e.key&&e.key.toLowerCase()==="meta"&&$n.splice(0,$n.length),(t===93||t===224)&&(t=91),t in ti){ti[t]=!1;for(var r in Tl)Tl[r]===t&&(as[r]=!1)}}function Pne(e){if(typeof e>"u")Object.keys(Er).forEach(function(l){return delete Er[l]});else if(Array.isArray(e))e.forEach(function(l){l.key&&V1(l)});else if(typeof e=="object")e.key&&V1(e);else if(typeof e=="string"){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n[0],s=n[1];typeof i=="function"&&(s=i,i=""),V1({key:e,scope:i,method:s,splitKey:"+"})}}var V1=function(t){var n=t.key,r=t.scope,i=t.method,s=t.splitKey,l=s===void 0?"+":s,c=aB(n);c.forEach(function(d){var u=d.split(l),p=u.length,h=u[p-1],y=h==="*"?"*":kv(h);if(Er[y]){r||(r=kp());var v=p>1?sB(Tl,u):[];Er[y]=Er[y].filter(function(b){var _=i?b.method===i:!0;return!(_&&b.scope===r&&kne(b.mods,v))})}})};function TI(e,t,n,r){if(t.element===r){var i;if(t.scope===n||t.scope==="all"){i=t.mods.length>0;for(var s in ti)Object.prototype.hasOwnProperty.call(ti,s)&&(!ti[s]&&t.mods.indexOf(+s)>-1||ti[s]&&t.mods.indexOf(+s)===-1)&&(i=!1);(t.mods.length===0&&!ti[16]&&!ti[18]&&!ti[17]&&!ti[91]||i||t.shortcut==="*")&&t.method(e,t)===!1&&(e.preventDefault?e.preventDefault():e.returnValue=!1,e.stopPropagation&&e.stopPropagation(),e.cancelBubble&&(e.cancelBubble=!0))}}}function CI(e,t){var n=Er["*"],r=e.keyCode||e.which||e.charCode;if(as.filter.call(this,e)){if((r===93||r===224)&&(r=91),$n.indexOf(r)===-1&&r!==229&&$n.push(r),["ctrlKey","altKey","shiftKey","metaKey"].forEach(function(b){var _=yx[b];e[b]&&$n.indexOf(_)===-1?$n.push(_):!e[b]&&$n.indexOf(_)>-1?$n.splice($n.indexOf(_),1):b==="metaKey"&&e[b]&&$n.length===3&&(e.ctrlKey||e.shiftKey||e.altKey||($n=$n.slice($n.indexOf(_))))}),r in ti){ti[r]=!0;for(var i in Tl)Tl[i]===r&&(as[i]=!0);if(!n)return}for(var s in ti)Object.prototype.hasOwnProperty.call(ti,s)&&(ti[s]=e[yx[s]]);e.getModifierState&&!(e.altKey&&!e.ctrlKey)&&e.getModifierState("AltGraph")&&($n.indexOf(17)===-1&&$n.push(17),$n.indexOf(18)===-1&&$n.push(18),ti[17]=!0,ti[18]=!0);var l=kp();if(n)for(var c=0;c<n.length;c++)n[c].scope===l&&(e.type==="keydown"&&n[c].keydown||e.type==="keyup"&&n[c].keyup)&&TI(e,n[c],l,t);if(r in Er){for(var d=0;d<Er[r].length;d++)if((e.type==="keydown"&&Er[r][d].keydown||e.type==="keyup"&&Er[r][d].keyup)&&Er[r][d].key){for(var u=Er[r][d],p=u.splitKey,h=u.key.split(p),y=[],v=0;v<h.length;v++)y.push(kv(h[v]));y.sort().join("")===$n.sort().join("")&&TI(e,u,l,t)}}}}function Vne(e){return lB.indexOf(e)>-1}function as(e,t,n){$n=[];var r=aB(e),i=[],s="all",l=document,c=0,d=!1,u=!0,p="+",h=!1;for(n===void 0&&typeof t=="function"&&(n=t),Object.prototype.toString.call(t)==="[object Object]"&&(t.scope&&(s=t.scope),t.element&&(l=t.element),t.keyup&&(d=t.keyup),t.keydown!==void 0&&(u=t.keydown),t.capture!==void 0&&(h=t.capture),typeof t.splitKey=="string"&&(p=t.splitKey)),typeof t=="string"&&(s=t);c<r.length;c++)e=r[c].split(p),i=[],e.length>1&&(i=sB(Tl,e)),e=e[e.length-1],e=e==="*"?"*":kv(e),e in Er||(Er[e]=[]),Er[e].push({keyup:d,keydown:u,scope:s,mods:i,shortcut:r[c],method:n,key:r[c],splitKey:p,element:l});typeof l<"u"&&!Vne(l)&&window&&(lB.push(l),P1(l,"keydown",function(y){CI(y,l)},h),EI||(EI=!0,P1(window,"focus",function(){$n=[]},h)),P1(l,"keyup",function(y){CI(y,l),jne(y)},h))}function Dne(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"all";Object.keys(Er).forEach(function(n){var r=Er[n].find(function(i){return i.scope===t&&i.shortcut===e});r&&r.method&&r.method()})}var D1={setScope:cB,getScope:kp,deleteScope:One,getPressedKeyCodes:Mne,isPressed:Ine,filter:Rne,trigger:Dne,unbind:Pne,keyMap:mE,modifier:Tl,modifierMap:yx};for(var B1 in D1)Object.prototype.hasOwnProperty.call(D1,B1)&&(as[B1]=D1[B1]);if(typeof window<"u"){var Bne=window.hotkeys;as.noConflict=function(e){return e&&window.hotkeys===as&&(window.hotkeys=Bne),as},window.hotkeys=as}as.filter=function(){return!0};var uB=function(t,n){var r=t.target,i=r&&r.tagName;return!!(i&&n&&n.includes(i))},Nne=function(t){return uB(t,["INPUT","TEXTAREA","SELECT"])};function ri(e,t,n,r){n instanceof Array&&(r=n,n=void 0);var i=n||{},s=i.enableOnTags,l=i.filter,c=i.keyup,d=i.keydown,u=i.filterPreventDefault,p=u===void 0?!0:u,h=i.enabled,y=h===void 0?!0:h,v=i.enableOnContentEditable,b=v===void 0?!1:v,_=x.useRef(null),w=x.useCallback(function(T,k){var R,M;return l&&!l(T)?!p:Nne(T)&&!uB(T,s)||(R=T.target)!=null&&R.isContentEditable&&!b?!0:_.current===null||document.activeElement===_.current||(M=_.current)!=null&&M.contains(document.activeElement)?(t(T,k),!0):!1},r?[_,s,l].concat(r):[_,s,l]);return x.useEffect(function(){if(!y){as.unbind(e,w);return}return c&&d!==!0&&(n.keydown=!1),as(e,n||{},w),function(){return as.unbind(e,w)}},[w,e,y]),_}as.isPressed;const vx="a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,r,s,t,u,w,x,y,z,1,2,3,4,5,6,7,8,9,0",fc=e=>t=>{e&&(t.preventDefault(),t.stopPropagation(),e(t))};function gf(e,t=!0,n){pi(me.remoteKeyboardPressed,r=>{var i;t&&r in e&&((i=e[r])==null||i.call(e))}),ri("up",fc(e.up),{enabled:t&&!!(e!=null&&e.up)},n),ri("down",fc(e.down),{enabled:t&&!!(e!=null&&e.down)},n),ri("left",fc(e.left),{enabled:t&&!!(e!=null&&e.left)},n),ri("right",fc(e.right),{enabled:t&&!!(e!=null&&e.right)},n),ri("Enter",fc(e.accept),{enabled:t&&!!(e!=null&&e.accept)},n),ri("Escape,Backspace",fc(e.back),{enabled:t&&!!(e!=null&&e.back)},n),ri("Shift+R",fc(e.random),{enabled:t&&!!(e!=null&&e.random)},n)}function Lne(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function Fne(...e){return t=>e.forEach(n=>Lne(n,t))}var dB=x.forwardRef((e,t)=>{const{children:n,...r}=e,i=x.Children.toArray(n),s=i.find($ne);if(s){const l=s.props.children,c=i.map(d=>d===s?x.Children.count(l)>1?x.Children.only(null):x.isValidElement(l)?l.props.children:null:d);return g.jsx(Ax,{...r,ref:t,children:x.isValidElement(l)?x.cloneElement(l,void 0,c):null})}return g.jsx(Ax,{...r,ref:t,children:n})});dB.displayName="Slot";var Ax=x.forwardRef((e,t)=>{const{children:n,...r}=e;if(x.isValidElement(n)){const i=Hne(n);return x.cloneElement(n,{...Une(r,n.props),ref:t?Fne(t,i):i})}return x.Children.count(n)>1?x.Children.only(null):null});Ax.displayName="SlotClone";var zne=({children:e})=>g.jsx(g.Fragment,{children:e});function $ne(e){return x.isValidElement(e)&&e.type===zne}function Une(e,t){const n={...t};for(const r in t){const i=e[r],s=t[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...c)=>{s(...c),i(...c)}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...e,...n}}function Hne(e){var r,i;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function qne(e,t){const n={},r=Object.keys(e);for(let i=0;i<r.length;i++){const s=r[i];t(s)&&(n[s]=e[s])}return n}const Gne=(e={})=>{const t=e.compose||Nt,n=e.shouldForwardProp||(i=>i[0]!=="$"),r=i=>{const s=(l,c=n)=>{const d=(u,...p)=>{const h=typeof u=="function",y=!h&&String.raw({raw:u},...p);return x.forwardRef((v,b)=>{const{className:_,asChild:w,...T}=v,k=typeof l=="function"?l(v):l||{},R=qne({...k,...T},c),M=w?dB:i,E=h?u(v):y;return x.createElement(M,{ref:b,className:typeof E=="function"?O=>t(E(O),typeof _=="function"?_(O):_):t(E,_),...R})})};return d.transientProps=u=>s(l,typeof u=="function"?h=>!u(h):h=>!u.includes(h)),l===void 0&&(d.attrs=u=>s(u)),d};return s()};return new Proxy(i=>r(i),{get(i,s){return r(s)}})},En=Gne();function Yne({help:e}){const[t]=St(ai),[n,r]=St(dV);ri("shift+h",()=>r(!n),void 0,[n]);const i=Object.entries(e??{}).filter(([,s])=>s!==void 0);return t?null:g.jsx(g.Fragment,{children:g.jsx(nre,{"data-test":"help-container",onClick:()=>r(!n),"data-visible":!!i.length&&n,children:n&&g.jsxs(g.Fragment,{children:[g.jsx(tre,{className:"UseKeyboardIndicator",children:"Use indicated keys on your keyboard"}),i.map(([s,l])=>{const{view:c,defaultLabel:d}=ere[s];return g.jsxs(kI,{children:[g.jsx(RI,{children:l??d}),g.jsx(MI,{children:g.jsx(c,{})})]},s)}),g.jsxs(kI,{children:[g.jsx(RI,{children:"Show/hide this help"}),g.jsx(MI,{children:fB("h")()})]})]})})})}const yE=({vertical:e=!1,horizontal:t=!1})=>g.jsxs(g.Fragment,{children:[g.jsx(Ao,{disabled:!e,children:""}),g.jsx("br",{}),g.jsx(Ao,{disabled:!t,children:""}),g.jsx(Ao,{disabled:!e,children:""}),g.jsx(Ao,{disabled:!t,children:""})]}),Kne=()=>g.jsx(yE,{horizontal:!0}),Wne=()=>g.jsx(yE,{vertical:!0}),Qne=()=>g.jsx(yE,{vertical:!0,horizontal:!0}),Xne=()=>g.jsx(Ao,{children:"Enter "}),Jne=()=>g.jsx(Ao,{children:"Backspace "}),fB=e=>()=>g.jsxs(g.Fragment,{children:[g.jsx(Ao,{children:"Shift"})," + ",g.jsx(Ao,{children:e.toUpperCase()})]}),Zne=()=>g.jsx(g.Fragment,{children:g.jsx(Ao,{children:"start typing"})}),ere={"horizontal-vertical":{view:Qne,defaultLabel:"Navigate"},horizontal:{view:Kne,defaultLabel:"Navigate"},vertical:{view:Wne,defaultLabel:"Navigate"},accept:{view:Xne,defaultLabel:"Select"},back:{view:Jne,defaultLabel:"Go back"},shiftR:{view:fB("r"),defaultLabel:"Pick random"},alphanumeric:{view:Zne,defaultLabel:"Search"}},kI=En.div`flex items-center gap-4`,MI=En.div`flex-nowrap flex-[2] text-white font-bold text-center [&_kbd]:m-1`,RI=En(ps)`flex-[3] text-base text-right`,tre=En(ps)`absolute inset-0 bg-black/75 flex items-center justify-center text-white text-md p-8 invisible opacity-0 duration-300 hover:opacity-100 hover:visible`,nre=En(cu)(e=>["fixed top-[5rem] right-0 p-2 items-stretch gap-4 w-[34rem] cursor-pointer scale-75 z-[1000] [view-transition-name:help-view] [&_svg]:fill-white [&_.UseKeyboardIndicator]:hover:opacity-100 [&_.UseKeyboardIndicator]:hover:visible",e["data-visible"]?"flex mobile:hidden":"hidden"]),Ao=En.kbd(e=>["py-3 px-4 rounded-md border-t-gray-300 border-l-gray-300 border-solid border-[1.25px] border-gray-500 text-gray-700 leading-4 text-sm bg-gray-50 inline-block font-normal",e.disabled?"opacity-25":"opacity-100"]),vE=x.createContext({setKeyboard:(e,t)=>{},unsetKeyboard:e=>{},hasContent:!1}),rre=({children:e})=>{const[t,n]=x.useState({}),r=(p,h)=>{n(y=>({...y,[p]:h}))},i=p=>n(h=>Ete(h,[p])),[s,l]=Object.entries(t).at(-1)??[];pi(me.remoteMicConnected,({id:p})=>{var h;(h=Dt.getRemoteMicById(p))==null||h.connection.send({t:"keyboard-layout",help:l})}),x.useEffect(()=>{Dt.broadcast({t:"keyboard-layout",help:l})},[s]);const{remote:c,...d}=l??{},u=!!Object.values(d).length;return g.jsxs(vE.Provider,{value:{setKeyboard:r,unsetKeyboard:i,hasContent:u},children:[e,g.jsx(Yne,{help:d}),g.jsx(Wte,{})]})};var N1,II;function ire(){return II||(II=1,N1={webm:"data:video/webm;base64,GkXfowEAAAAAAAAfQoaBAUL3gQFC8oEEQvOBCEKChHdlYm1Ch4EEQoWBAhhTgGcBAAAAAAAVkhFNm3RALE27i1OrhBVJqWZTrIHfTbuMU6uEFlSua1OsggEwTbuMU6uEHFO7a1OsghV17AEAAAAAAACkAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAVSalmAQAAAAAAAEUq17GDD0JATYCNTGF2ZjU1LjMzLjEwMFdBjUxhdmY1NS4zMy4xMDBzpJBlrrXf3DCDVB8KcgbMpcr+RImIQJBgAAAAAAAWVK5rAQAAAAAAD++uAQAAAAAAADLXgQFzxYEBnIEAIrWcg3VuZIaFVl9WUDiDgQEj44OEAmJaAOABAAAAAAAABrCBsLqBkK4BAAAAAAAPq9eBAnPFgQKcgQAitZyDdW5khohBX1ZPUkJJU4OBAuEBAAAAAAAAEZ+BArWIQOdwAAAAAABiZIEgY6JPbwIeVgF2b3JiaXMAAAAAAoC7AAAAAAAAgLUBAAAAAAC4AQN2b3JiaXMtAAAAWGlwaC5PcmcgbGliVm9yYmlzIEkgMjAxMDExMDEgKFNjaGF1ZmVudWdnZXQpAQAAABUAAABlbmNvZGVyPUxhdmM1NS41Mi4xMDIBBXZvcmJpcyVCQ1YBAEAAACRzGCpGpXMWhBAaQlAZ4xxCzmvsGUJMEYIcMkxbyyVzkCGkoEKIWyiB0JBVAABAAACHQXgUhIpBCCGEJT1YkoMnPQghhIg5eBSEaUEIIYQQQgghhBBCCCGERTlokoMnQQgdhOMwOAyD5Tj4HIRFOVgQgydB6CCED0K4moOsOQghhCQ1SFCDBjnoHITCLCiKgsQwuBaEBDUojILkMMjUgwtCiJqDSTX4GoRnQXgWhGlBCCGEJEFIkIMGQcgYhEZBWJKDBjm4FITLQagahCo5CB+EIDRkFQCQAACgoiiKoigKEBqyCgDIAAAQQFEUx3EcyZEcybEcCwgNWQUAAAEACAAAoEiKpEiO5EiSJFmSJVmSJVmS5omqLMuyLMuyLMsyEBqyCgBIAABQUQxFcRQHCA1ZBQBkAAAIoDiKpViKpWiK54iOCISGrAIAgAAABAAAEDRDUzxHlETPVFXXtm3btm3btm3btm3btm1blmUZCA1ZBQBAAAAQ0mlmqQaIMAMZBkJDVgEACAAAgBGKMMSA0JBVAABAAACAGEoOogmtOd+c46BZDppKsTkdnEi1eZKbirk555xzzsnmnDHOOeecopxZDJoJrTnnnMSgWQqaCa0555wnsXnQmiqtOeeccc7pYJwRxjnnnCateZCajbU555wFrWmOmkuxOeecSLl5UptLtTnnnHPOOeecc84555zqxekcnBPOOeecqL25lpvQxTnnnE/G6d6cEM4555xzzjnnnHPOOeecIDRkFQAABABAEIaNYdwpCNLnaCBGEWIaMulB9+gwCRqDnELq0ehopJQ6CCWVcVJKJwgNWQUAAAIAQAghhRRSSCGFFFJIIYUUYoghhhhyyimnoIJKKqmooowyyyyzzDLLLLPMOuyssw47DDHEEEMrrcRSU2011lhr7jnnmoO0VlprrbVSSimllFIKQkNWAQAgAAAEQgYZZJBRSCGFFGKIKaeccgoqqIDQkFUAACAAgAAAAABP8hzRER3RER3RER3RER3R8RzPESVREiVREi3TMjXTU0VVdWXXlnVZt31b2IVd933d933d+HVhWJZlWZZlWZZlWZZlWZZlWZYgNGQVAAACAAAghBBCSCGFFFJIKcYYc8w56CSUEAgNWQUAAAIACAAAAHAUR3EcyZEcSbIkS9IkzdIsT/M0TxM9URRF0zRV0RVdUTdtUTZl0zVdUzZdVVZtV5ZtW7Z125dl2/d93/d93/d93/d93/d9XQdCQ1YBABIAADqSIymSIimS4ziOJElAaMgqAEAGAEAAAIriKI7jOJIkSZIlaZJneZaomZrpmZ4qqkBoyCoAABAAQAAAAAAAAIqmeIqpeIqoeI7oiJJomZaoqZoryqbsuq7ruq7ruq7ruq7ruq7ruq7ruq7ruq7ruq7ruq7ruq7ruq4LhIasAgAkAAB0JEdyJEdSJEVSJEdygNCQVQCADACAAAAcwzEkRXIsy9I0T/M0TxM90RM901NFV3SB0JBVAAAgAIAAAAAAAAAMybAUy9EcTRIl1VItVVMt1VJF1VNVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVN0zRNEwgNWQkAkAEAkBBTLS3GmgmLJGLSaqugYwxS7KWxSCpntbfKMYUYtV4ah5RREHupJGOKQcwtpNApJq3WVEKFFKSYYyoVUg5SIDRkhQAQmgHgcBxAsixAsiwAAAAAAAAAkDQN0DwPsDQPAAAAAAAAACRNAyxPAzTPAwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABA0jRA8zxA8zwAAAAAAAAA0DwP8DwR8EQRAAAAAAAAACzPAzTRAzxRBAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABA0jRA8zxA8zwAAAAAAAAAsDwP8EQR0DwRAAAAAAAAACzPAzxRBDzRAwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAEOAAABBgIRQasiIAiBMAcEgSJAmSBM0DSJYFTYOmwTQBkmVB06BpME0AAAAAAAAAAAAAJE2DpkHTIIoASdOgadA0iCIAAAAAAAAAAAAAkqZB06BpEEWApGnQNGgaRBEAAAAAAAAAAAAAzzQhihBFmCbAM02IIkQRpgkAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAGHAAAAgwoQwUGrIiAIgTAHA4imUBAIDjOJYFAACO41gWAABYliWKAABgWZooAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAYcAAACDChDBQashIAiAIAcCiKZQHHsSzgOJYFJMmyAJYF0DyApgFEEQAIAAAocAAACLBBU2JxgEJDVgIAUQAABsWxLE0TRZKkaZoniiRJ0zxPFGma53meacLzPM80IYqiaJoQRVE0TZimaaoqME1VFQAAUOAAABBgg6bE4gCFhqwEAEICAByKYlma5nmeJ4qmqZokSdM8TxRF0TRNU1VJkqZ5niiKommapqqyLE3zPFEURdNUVVWFpnmeKIqiaaqq6sLzPE8URdE0VdV14XmeJ4qiaJqq6roQRVE0TdNUTVV1XSCKpmmaqqqqrgtETxRNU1Vd13WB54miaaqqq7ouEE3TVFVVdV1ZBpimaaqq68oyQFVV1XVdV5YBqqqqruu6sgxQVdd1XVmWZQCu67qyLMsCAAAOHAAAAoygk4wqi7DRhAsPQKEhKwKAKAAAwBimFFPKMCYhpBAaxiSEFEImJaXSUqogpFJSKRWEVEoqJaOUUmopVRBSKamUCkIqJZVSAADYgQMA2IGFUGjISgAgDwCAMEYpxhhzTiKkFGPOOScRUoox55yTSjHmnHPOSSkZc8w556SUzjnnnHNSSuacc845KaVzzjnnnJRSSuecc05KKSWEzkEnpZTSOeecEwAAVOAAABBgo8jmBCNBhYasBABSAQAMjmNZmuZ5omialiRpmud5niiapiZJmuZ5nieKqsnzPE8URdE0VZXneZ4oiqJpqirXFUXTNE1VVV2yLIqmaZqq6rowTdNUVdd1XZimaaqq67oubFtVVdV1ZRm2raqq6rqyDFzXdWXZloEsu67s2rIAAPAEBwCgAhtWRzgpGgssNGQlAJABAEAYg5BCCCFlEEIKIYSUUggJAAAYcAAACDChDBQashIASAUAAIyx1lprrbXWQGettdZaa62AzFprrbXWWmuttdZaa6211lJrrbXWWmuttdZaa6211lprrbXWWmuttdZaa6211lprrbXWWmuttdZaa6211lprrbXWWmstpZRSSimllFJKKaWUUkoppZRSSgUA+lU4APg/2LA6wknRWGChISsBgHAAAMAYpRhzDEIppVQIMeacdFRai7FCiDHnJKTUWmzFc85BKCGV1mIsnnMOQikpxVZjUSmEUlJKLbZYi0qho5JSSq3VWIwxqaTWWoutxmKMSSm01FqLMRYjbE2ptdhqq7EYY2sqLbQYY4zFCF9kbC2m2moNxggjWywt1VprMMYY3VuLpbaaizE++NpSLDHWXAAAd4MDAESCjTOsJJ0VjgYXGrISAAgJACAQUooxxhhzzjnnpFKMOeaccw5CCKFUijHGnHMOQgghlIwx5pxzEEIIIYRSSsaccxBCCCGEkFLqnHMQQgghhBBKKZ1zDkIIIYQQQimlgxBCCCGEEEoopaQUQgghhBBCCKmklEIIIYRSQighlZRSCCGEEEIpJaSUUgohhFJCCKGElFJKKYUQQgillJJSSimlEkoJJYQSUikppRRKCCGUUkpKKaVUSgmhhBJKKSWllFJKIYQQSikFAAAcOAAABBhBJxlVFmGjCRcegEJDVgIAZAAAkKKUUiktRYIipRikGEtGFXNQWoqocgxSzalSziDmJJaIMYSUk1Qy5hRCDELqHHVMKQYtlRhCxhik2HJLoXMOAAAAQQCAgJAAAAMEBTMAwOAA4XMQdAIERxsAgCBEZohEw0JweFAJEBFTAUBigkIuAFRYXKRdXECXAS7o4q4DIQQhCEEsDqCABByccMMTb3jCDU7QKSp1IAAAAAAADADwAACQXAAREdHMYWRobHB0eHyAhIiMkAgAAAAAABcAfAAAJCVAREQ0cxgZGhscHR4fICEiIyQBAIAAAgAAAAAggAAEBAQAAAAAAAIAAAAEBB9DtnUBAAAAAAAEPueBAKOFggAAgACjzoEAA4BwBwCdASqwAJAAAEcIhYWIhYSIAgIABhwJ7kPfbJyHvtk5D32ych77ZOQ99snIe+2TkPfbJyHvtk5D32ych77ZOQ99YAD+/6tQgKOFggADgAqjhYIAD4AOo4WCACSADqOZgQArADECAAEQEAAYABhYL/QACIBDmAYAAKOFggA6gA6jhYIAT4AOo5mBAFMAMQIAARAQABgAGFgv9AAIgEOYBgAAo4WCAGSADqOFggB6gA6jmYEAewAxAgABEBAAGAAYWC/0AAiAQ5gGAACjhYIAj4AOo5mBAKMAMQIAARAQABgAGFgv9AAIgEOYBgAAo4WCAKSADqOFggC6gA6jmYEAywAxAgABEBAAGAAYWC/0AAiAQ5gGAACjhYIAz4AOo4WCAOSADqOZgQDzADECAAEQEAAYABhYL/QACIBDmAYAAKOFggD6gA6jhYIBD4AOo5iBARsAEQIAARAQFGAAYWC/0AAiAQ5gGACjhYIBJIAOo4WCATqADqOZgQFDADECAAEQEAAYABhYL/QACIBDmAYAAKOFggFPgA6jhYIBZIAOo5mBAWsAMQIAARAQABgAGFgv9AAIgEOYBgAAo4WCAXqADqOFggGPgA6jmYEBkwAxAgABEBAAGAAYWC/0AAiAQ5gGAACjhYIBpIAOo4WCAbqADqOZgQG7ADECAAEQEAAYABhYL/QACIBDmAYAAKOFggHPgA6jmYEB4wAxAgABEBAAGAAYWC/0AAiAQ5gGAACjhYIB5IAOo4WCAfqADqOZgQILADECAAEQEAAYABhYL/QACIBDmAYAAKOFggIPgA6jhYICJIAOo5mBAjMAMQIAARAQABgAGFgv9AAIgEOYBgAAo4WCAjqADqOFggJPgA6jmYECWwAxAgABEBAAGAAYWC/0AAiAQ5gGAACjhYICZIAOo4WCAnqADqOZgQKDADECAAEQEAAYABhYL/QACIBDmAYAAKOFggKPgA6jhYICpIAOo5mBAqsAMQIAARAQABgAGFgv9AAIgEOYBgAAo4WCArqADqOFggLPgA6jmIEC0wARAgABEBAUYABhYL/QACIBDmAYAKOFggLkgA6jhYIC+oAOo5mBAvsAMQIAARAQABgAGFgv9AAIgEOYBgAAo4WCAw+ADqOZgQMjADECAAEQEAAYABhYL/QACIBDmAYAAKOFggMkgA6jhYIDOoAOo5mBA0sAMQIAARAQABgAGFgv9AAIgEOYBgAAo4WCA0+ADqOFggNkgA6jmYEDcwAxAgABEBAAGAAYWC/0AAiAQ5gGAACjhYIDeoAOo4WCA4+ADqOZgQObADECAAEQEAAYABhYL/QACIBDmAYAAKOFggOkgA6jhYIDuoAOo5mBA8MAMQIAARAQABgAGFgv9AAIgEOYBgAAo4WCA8+ADqOFggPkgA6jhYID+oAOo4WCBA+ADhxTu2sBAAAAAAAAEbuPs4EDt4r3gQHxghEr8IEK",mp4:"data:video/mp4;base64,AAAAHGZ0eXBNNFYgAAACAGlzb21pc28yYXZjMQAAAAhmcmVlAAAGF21kYXTeBAAAbGliZmFhYyAxLjI4AABCAJMgBDIARwAAArEGBf//rdxF6b3m2Ui3lizYINkj7u94MjY0IC0gY29yZSAxNDIgcjIgOTU2YzhkOCAtIEguMjY0L01QRUctNCBBVkMgY29kZWMgLSBDb3B5bGVmdCAyMDAzLTIwMTQgLSBodHRwOi8vd3d3LnZpZGVvbGFuLm9yZy94MjY0Lmh0bWwgLSBvcHRpb25zOiBjYWJhYz0wIHJlZj0zIGRlYmxvY2s9MTowOjAgYW5hbHlzZT0weDE6MHgxMTEgbWU9aGV4IHN1Ym1lPTcgcHN5PTEgcHN5X3JkPTEuMDA6MC4wMCBtaXhlZF9yZWY9MSBtZV9yYW5nZT0xNiBjaHJvbWFfbWU9MSB0cmVsbGlzPTEgOHg4ZGN0PTAgY3FtPTAgZGVhZHpvbmU9MjEsMTEgZmFzdF9wc2tpcD0xIGNocm9tYV9xcF9vZmZzZXQ9LTIgdGhyZWFkcz02IGxvb2thaGVhZF90aHJlYWRzPTEgc2xpY2VkX3RocmVhZHM9MCBucj0wIGRlY2ltYXRlPTEgaW50ZXJsYWNlZD0wIGJsdXJheV9jb21wYXQ9MCBjb25zdHJhaW5lZF9pbnRyYT0wIGJmcmFtZXM9MCB3ZWlnaHRwPTAga2V5aW50PTI1MCBrZXlpbnRfbWluPTI1IHNjZW5lY3V0PTQwIGludHJhX3JlZnJlc2g9MCByY19sb29rYWhlYWQ9NDAgcmM9Y3JmIG1idHJlZT0xIGNyZj0yMy4wIHFjb21wPTAuNjAgcXBtaW49MCBxcG1heD02OSBxcHN0ZXA9NCB2YnZfbWF4cmF0ZT03NjggdmJ2X2J1ZnNpemU9MzAwMCBjcmZfbWF4PTAuMCBuYWxfaHJkPW5vbmUgZmlsbGVyPTAgaXBfcmF0aW89MS40MCBhcT0xOjEuMDAAgAAAAFZliIQL8mKAAKvMnJycnJycnJycnXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXiEASZACGQAjgCEASZACGQAjgAAAAAdBmjgX4GSAIQBJkAIZACOAAAAAB0GaVAX4GSAhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZpgL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGagC/AySEASZACGQAjgAAAAAZBmqAvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZrAL8DJIQBJkAIZACOAAAAABkGa4C/AySEASZACGQAjgCEASZACGQAjgAAAAAZBmwAvwMkhAEmQAhkAI4AAAAAGQZsgL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGbQC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBm2AvwMkhAEmQAhkAI4AAAAAGQZuAL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGboC/AySEASZACGQAjgAAAAAZBm8AvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZvgL8DJIQBJkAIZACOAAAAABkGaAC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBmiAvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZpAL8DJIQBJkAIZACOAAAAABkGaYC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBmoAvwMkhAEmQAhkAI4AAAAAGQZqgL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGawC/AySEASZACGQAjgAAAAAZBmuAvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZsAL8DJIQBJkAIZACOAAAAABkGbIC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBm0AvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZtgL8DJIQBJkAIZACOAAAAABkGbgCvAySEASZACGQAjgCEASZACGQAjgAAAAAZBm6AnwMkhAEmQAhkAI4AhAEmQAhkAI4AhAEmQAhkAI4AhAEmQAhkAI4AAAAhubW9vdgAAAGxtdmhkAAAAAAAAAAAAAAAAAAAD6AAABDcAAQAAAQAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAwAAAzB0cmFrAAAAXHRraGQAAAADAAAAAAAAAAAAAAABAAAAAAAAA+kAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAALAAAACQAAAAAAAkZWR0cwAAABxlbHN0AAAAAAAAAAEAAAPpAAAAAAABAAAAAAKobWRpYQAAACBtZGhkAAAAAAAAAAAAAAAAAAB1MAAAdU5VxAAAAAAALWhkbHIAAAAAAAAAAHZpZGUAAAAAAAAAAAAAAABWaWRlb0hhbmRsZXIAAAACU21pbmYAAAAUdm1oZAAAAAEAAAAAAAAAAAAAACRkaW5mAAAAHGRyZWYAAAAAAAAAAQAAAAx1cmwgAAAAAQAAAhNzdGJsAAAAr3N0c2QAAAAAAAAAAQAAAJ9hdmMxAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAALAAkABIAAAASAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGP//AAAALWF2Y0MBQsAN/+EAFWdCwA3ZAsTsBEAAAPpAADqYA8UKkgEABWjLg8sgAAAAHHV1aWRraEDyXyRPxbo5pRvPAyPzAAAAAAAAABhzdHRzAAAAAAAAAAEAAAAeAAAD6QAAABRzdHNzAAAAAAAAAAEAAAABAAAAHHN0c2MAAAAAAAAAAQAAAAEAAAABAAAAAQAAAIxzdHN6AAAAAAAAAAAAAAAeAAADDwAAAAsAAAALAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAAiHN0Y28AAAAAAAAAHgAAAEYAAANnAAADewAAA5gAAAO0AAADxwAAA+MAAAP2AAAEEgAABCUAAARBAAAEXQAABHAAAASMAAAEnwAABLsAAATOAAAE6gAABQYAAAUZAAAFNQAABUgAAAVkAAAFdwAABZMAAAWmAAAFwgAABd4AAAXxAAAGDQAABGh0cmFrAAAAXHRraGQAAAADAAAAAAAAAAAAAAACAAAAAAAABDcAAAAAAAAAAAAAAAEBAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAkZWR0cwAAABxlbHN0AAAAAAAAAAEAAAQkAAADcAABAAAAAAPgbWRpYQAAACBtZGhkAAAAAAAAAAAAAAAAAAC7gAAAykBVxAAAAAAALWhkbHIAAAAAAAAAAHNvdW4AAAAAAAAAAAAAAABTb3VuZEhhbmRsZXIAAAADi21pbmYAAAAQc21oZAAAAAAAAAAAAAAAJGRpbmYAAAAcZHJlZgAAAAAAAAABAAAADHVybCAAAAABAAADT3N0YmwAAABnc3RzZAAAAAAAAAABAAAAV21wNGEAAAAAAAAAAQAAAAAAAAAAAAIAEAAAAAC7gAAAAAAAM2VzZHMAAAAAA4CAgCIAAgAEgICAFEAVBbjYAAu4AAAADcoFgICAAhGQBoCAgAECAAAAIHN0dHMAAAAAAAAAAgAAADIAAAQAAAAAAQAAAkAAAAFUc3RzYwAAAAAAAAAbAAAAAQAAAAEAAAABAAAAAgAAAAIAAAABAAAAAwAAAAEAAAABAAAABAAAAAIAAAABAAAABgAAAAEAAAABAAAABwAAAAIAAAABAAAACAAAAAEAAAABAAAACQAAAAIAAAABAAAACgAAAAEAAAABAAAACwAAAAIAAAABAAAADQAAAAEAAAABAAAADgAAAAIAAAABAAAADwAAAAEAAAABAAAAEAAAAAIAAAABAAAAEQAAAAEAAAABAAAAEgAAAAIAAAABAAAAFAAAAAEAAAABAAAAFQAAAAIAAAABAAAAFgAAAAEAAAABAAAAFwAAAAIAAAABAAAAGAAAAAEAAAABAAAAGQAAAAIAAAABAAAAGgAAAAEAAAABAAAAGwAAAAIAAAABAAAAHQAAAAEAAAABAAAAHgAAAAIAAAABAAAAHwAAAAQAAAABAAAA4HN0c3oAAAAAAAAAAAAAADMAAAAaAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAACMc3RjbwAAAAAAAAAfAAAALAAAA1UAAANyAAADhgAAA6IAAAO+AAAD0QAAA+0AAAQAAAAEHAAABC8AAARLAAAEZwAABHoAAASWAAAEqQAABMUAAATYAAAE9AAABRAAAAUjAAAFPwAABVIAAAVuAAAFgQAABZ0AAAWwAAAFzAAABegAAAX7AAAGFwAAAGJ1ZHRhAAAAWm1ldGEAAAAAAAAAIWhkbHIAAAAAAAAAAG1kaXJhcHBsAAAAAAAAAAAAAAAALWlsc3QAAAAlqXRvbwAAAB1kYXRhAAAAAQAAAABMYXZmNTUuMzMuMTAw"}),N1}var L1,OI;function sre(){if(OI)return L1;OI=1;const{webm:e,mp4:t}=ire(),n=()=>typeof navigator<"u"&&parseFloat((""+(/CPU.*OS ([0-9_]{3,4})[0-9_]{0,1}|(CPU like).*AppleWebKit.*Mobile/i.exec(navigator.userAgent)||[0,""])[1]).replace("undefined","3_2").replace("_",".").replace("_",""))<10&&!window.MSStream,r=()=>"wakeLock"in navigator&&window.navigator.userAgent.indexOf("Samsung")===-1;class i{constructor(){if(this.enabled=!1,r()){this._wakeLock=null;const l=()=>{this._wakeLock!==null&&document.visibilityState==="visible"&&this.enable()};document.addEventListener("visibilitychange",l),document.addEventListener("fullscreenchange",l)}else n()?this.noSleepTimer=null:(this.noSleepVideo=document.createElement("video"),this.noSleepVideo.setAttribute("title","No Sleep"),this.noSleepVideo.setAttribute("playsinline",""),this._addSourceToVideo(this.noSleepVideo,"webm",e),this._addSourceToVideo(this.noSleepVideo,"mp4",t),Object.assign(this.noSleepVideo.style,{position:"absolute",left:"-100%",top:"-100%"}),document.querySelector("body").append(this.noSleepVideo),this.noSleepVideo.addEventListener("loadedmetadata",()=>{this.noSleepVideo.duration<=1?this.noSleepVideo.setAttribute("loop",""):this.noSleepVideo.addEventListener("timeupdate",()=>{this.noSleepVideo.currentTime>.5&&(this.noSleepVideo.currentTime=Math.random())})}))}_addSourceToVideo(l,c,d){var u=document.createElement("source");u.src=d,u.type=`video/${c}`,l.appendChild(u)}get isEnabled(){return this.enabled}enable(){return r()?navigator.wakeLock.request("screen").then(l=>{this._wakeLock=l,this.enabled=!0,console.log("Wake Lock active."),this._wakeLock.addEventListener("release",()=>{console.log("Wake Lock released.")})}).catch(l=>{throw this.enabled=!1,console.error(`${l.name}, ${l.message}`),l}):n()?(this.disable(),console.warn(`
        NoSleep enabled for older iOS devices. This can interrupt
        active or long-running network requests from completing successfully.
        See https://github.com/richtr/NoSleep.js/issues/15 for more details.
      `),this.noSleepTimer=window.setInterval(()=>{document.hidden||(window.location.href=window.location.href.split("#")[0],window.setTimeout(window.stop,0))},15e3),this.enabled=!0,Promise.resolve()):this.noSleepVideo.play().then(c=>(this.enabled=!0,c)).catch(c=>{throw this.enabled=!1,c})}disable(){r()?(this._wakeLock&&this._wakeLock.release(),this._wakeLock=null):n()?this.noSleepTimer&&(console.warn(`
          NoSleep now disabled for older iOS devices.
        `),window.clearInterval(this.noSleepTimer),this.noSleepTimer=null):this.noSleepVideo.pause(),this.enabled=!1}}return L1=i,L1}var are=sre();const ore=Pr(are),jI=()=>({width:global.document.body.clientWidth,height:global.visualViewport.height});function mf(){const[e,t]=x.useState(jI()),n=x.useCallback(Td(()=>{t(jI())},1e3),[]);return x.useEffect(()=>(global.addEventListener("resize",n),n(),()=>global.removeEventListener("resize",n)),[]),{...e,handleResize:n}}const lre=45,cre=7,ure=.005,dre="#ddd",PI=[];function fre(){const e=x.useRef(null);x.useEffect(()=>{const r=e.current;if(!r)return;const i=r.getContext("2d"),s=(p=1)=>({x:Math.random()*r.width,y:Math.random()/p*r.height,opacity:0,radius:Math.floor(Math.random()*cre)+1,color:dre,speed:Math.random()*ure+1,sway:Math.random()-.5}),l=p=>{i&&(i.beginPath(),i.arc(p.x,p.y,p.radius,0,Math.PI*2),i.globalAlpha=p.opacity,i.fillStyle=p.color,i.fill(),i.closePath(),i.globalAlpha=1)},c=p=>{p.y+=p.speed,p.opacity=Math.min(1,p.opacity+p.speed-1),p.x+=p.sway,p.y>r.height&&Object.assign(p,s(1))};let d=!0;const u=()=>{i!==null&&(i.clearRect(0,0,r.width,r.height),PI.forEach(p=>{c(p),l(p)}),d&&requestAnimationFrame(u))};for(let p=0;p<lre;p++)PI.push(s());return u(),()=>{d=!1}},[]);const{width:t,height:n}=mf();return g.jsx("canvas",{ref:e,width:t,height:n})}const hre="/assets/eurovisionbg-CvR5q-FP.svg",Jp=x.createContext({visible:!0,theme:"regular",setVisibility:e=>{},setTheme:e=>{}}),Vl=(e,t="regular")=>{const{setVisibility:n,setTheme:r}=x.useContext(Jp);x.useEffect(()=>{n(e)},[e,n]),x.useEffect(()=>{r(t)},[t,r])},VI={default:{backgroundImage:`linear-gradient(-45deg, ${et.red.stroke}, ${et.blue.text}, ${et.blue.stroke}, ${et.red.stroke})`,backgroundSize:"400% 400%"},christmas:{backgroundImage:`linear-gradient(-45deg, ${et.christmasGreen.text}, ${et.christmasGreen.stroke}, #05144a, #05144a)`,backgroundSize:"400% 400%"},halloween:{background:"black"}};function pre({children:e}){const[t,n]=x.useState(!0),[r,i]=x.useState("regular"),[s]=St(Ps);return g.jsxs(Jp.Provider,{value:{visible:t,setVisibility:n,setTheme:i,theme:r},children:[t&&g.jsx(vre,{"data-theme":r,"data-graphic-level":s,style:VI[r]??VI.default,children:r==="christmas"&&g.jsx(fre,{})}),e]})}const gre={name:"1skrp57",styles:"animation:escGradient 46s linear infinite;flex:1;@keyframes escGradient{0%{background-position:0% 800%;}100%{background-position:0% 0%;}}"},mre=W("div",{target:"ev6htcq0"})("transform:scale(1, 4);background-image:url(",hre,");background-size:100% 50%;height:100%;&[data-animate='true']{",gre,";}"),DI=()=>{var e;return g.jsx(mre,{"data-animate":!((e=global.location)!=null&&e.href.includes("/remote-mic"))})},yre=En.div`bg-white w-full h-full`,vre=En(yre)(e=>["z-[-1] top-0 fixed",e["data-theme"]==="halloween"?"bg-black":"",e["data-graphic-level"]==="high"?"animate-gradient":""]);function Are({size:e=16}){return g.jsx("style",{children:`html {
                font-size: ${e}px !important;
            }`})}function Mv(e){return x.useMemo(()=>{var t;return new URLSearchParams((t=global.location)==null?void 0:t.search).get(e)},[e])}const bre=W("div",{target:"e1py91zd0"})(":root{--player-blue-text:",et.blue.text,";--player-blue-stroke:",et.blue.stroke,";--player-blue-star-fill:",et.blue.star.fill,";--player-blue-star-stroke:",et.blue.star.stroke,";--player-blue-perfect-fill:",et.blue.perfect.fill,";--player-blue-perfect-stroke:",et.blue.perfect.stroke,";--player-blue-starPerfect-fill:",et.blue.starPerfect.fill,";--player-blue-starPerfect-stroke:",et.blue.starPerfect.stroke,";--player-blue-hit-fill:",et.blue.hit.fill,";--player-blue-hit-stroke:",et.blue.hit.stroke,";--player-blue-miss-fill:",et.blue.miss.fill,";--player-blue-miss-stroke:",et.blue.miss.stroke,";}h1{",jt,";margin:0;text-align:center;font-size:4rem;color:",$e.colors.text.active,";}h2{",jt,";margin:0;font-size:2.9rem;}h3{",jt,";margin:0;font-size:2.7rem;strong{color:",$e.colors.text.active,";}}h4{",jt,";margin:0;font-size:2.2rem;line-height:1.15;}h5{",jt,";margin:0;font-size:1.6rem;line-height:1.5;}h6{",jt,";margin:0;line-height:1.5;font-size:1.3rem;}hr{margin:0.5rem 1rem;opacity:0.25;}h1,h2,h3,h4,h5{button{",jt,";background:none;padding:0;margin:0;border:none;font-size:inherit;color:",$e.colors.text.active,";text-decoration:underline;cursor:pointer;}svg{font-size:0.8em;}}strong{color:",$e.colors.text.active,";}");function Ca(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function hB(e){if(x.isValidElement(e)||!Ca(e))return e;const t={};return Object.keys(e).forEach(n=>{t[n]=hB(e[n])}),t}function Ui(e,t,n={clone:!0}){const r=n.clone?{...e}:e;return Ca(e)&&Ca(t)&&Object.keys(t).forEach(i=>{x.isValidElement(t[i])?r[i]=t[i]:Ca(t[i])&&Object.prototype.hasOwnProperty.call(e,i)&&Ca(e[i])?r[i]=Ui(e[i],t[i],n):n.clone?r[i]=Ca(t[i])?hB(t[i]):t[i]:r[i]=t[i]}),r}var F1={exports:{}},z1,BI;function _re(){if(BI)return z1;BI=1;var e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return z1=e,z1}var $1,NI;function Sre(){if(NI)return $1;NI=1;var e=_re();function t(){}function n(){}return n.resetWarningCache=t,$1=function(){function r(l,c,d,u,p,h){if(h!==e){var y=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw y.name="Invariant Violation",y}}r.isRequired=r;function i(){return r}var s={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:i,element:r,elementType:r,instanceOf:i,node:r,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:n,resetWarningCache:t};return s.PropTypes=s,s},$1}var LI;function xre(){return LI||(LI=1,F1.exports=Sre()()),F1.exports}var wre=xre();const Ot=Pr(wre);function Yc(e,...t){const n=new URL(`https://mui.com/production-error/?code=${e}`);return t.forEach(r=>n.searchParams.append("args[]",r)),`Minified MUI error #${e}; visit ${n} for the full message.`}function qt(e){if(typeof e!="string")throw new Error(Yc(7));return e.charAt(0).toUpperCase()+e.slice(1)}function FI(...e){return e.reduce((t,n)=>n==null?t:function(...i){t.apply(this,i),n.apply(this,i)},()=>{})}function Kc(e){return e&&e.ownerDocument||document}function C0(e){return Kc(e).defaultView||window}function bx(e,t){typeof e=="function"?e(t):e&&(e.current=t)}const _x=typeof window<"u"?x.useLayoutEffect:x.useEffect;let zI=0;function Ere(e){const[t,n]=x.useState(e),r=e||t;return x.useEffect(()=>{t==null&&(zI+=1,n(`mui-${zI}`))},[t]),r}const Tre={...a0},$I=Tre.useId;function Cre(e){if($I!==void 0){const t=$I();return e??t}return Ere(e)}function Rd(e){const t=x.useRef(e);return _x(()=>{t.current=e}),x.useRef((...n)=>(0,t.current)(...n)).current}function Cl(...e){return x.useMemo(()=>e.every(t=>t==null)?null:t=>{e.forEach(n=>{bx(n,t)})},e)}const UI={};function pB(e,t){const n=x.useRef(UI);return n.current===UI&&(n.current=e(t)),n}const kre=[];function Mre(e){x.useEffect(e,kre)}class AE{constructor(){yh(this,"currentId",null);yh(this,"clear",()=>{this.currentId!==null&&(clearTimeout(this.currentId),this.currentId=null)});yh(this,"disposeEffect",()=>this.clear)}static create(){return new AE}start(t,n){this.clear(),this.currentId=setTimeout(()=>{this.currentId=null,n()},t)}}function Rre(){const e=pB(AE.create).current;return Mre(e.disposeEffect),e}function HI(e){try{return e.matches(":focus-visible")}catch{}return!1}function Ire(e=window){const t=e.document.documentElement.clientWidth;return e.innerWidth-t}function k0(e,t){const n={...t};for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)){const i=r;if(i==="components"||i==="slots")n[i]={...e[i],...n[i]};else if(i==="componentsProps"||i==="slotProps"){const s=e[i],l=t[i];if(!l)n[i]=s||{};else if(!s)n[i]=l;else{n[i]={...l};for(const c in s)if(Object.prototype.hasOwnProperty.call(s,c)){const d=c;n[i][d]=k0(s[d],l[d])}}}else n[i]===void 0&&(n[i]=e[i])}return n}function Ii(e,t,n=void 0){const r={};for(const i in e){const s=e[i];let l="",c=!0;for(let d=0;d<s.length;d+=1){const u=s[d];u&&(l+=(c===!0?"":" ")+t(u),c=!1,n&&n[u]&&(l+=" "+n[u]))}r[i]=l}return r}const qI=e=>e,Ore=()=>{let e=qI;return{configure(t){e=t},generate(t){return e(t)},reset(){e=qI}}},jre=Ore(),Pre={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function mi(e,t,n="Mui"){const r=Pre[t];return r?`${n}-${r}`:`${jre.generate(e)}-${t}`}function yi(e,t,n="Mui"){const r={};return t.forEach(i=>{r[i]=mi(e,i,n)}),r}function Vre(e,t=Number.MIN_SAFE_INTEGER,n=Number.MAX_SAFE_INTEGER){return Math.max(t,Math.min(e,n))}function Dre(e){return typeof e=="string"}function Bre(e,t,n){return e===void 0||Dre(e)?t:{...t,ownerState:{...t.ownerState,...n}}}function gB(e,t=[]){if(e===void 0)return{};const n={};return Object.keys(e).filter(r=>r.match(/^on[A-Z]/)&&typeof e[r]=="function"&&!t.includes(r)).forEach(r=>{n[r]=e[r]}),n}function GI(e){if(e===void 0)return{};const t={};return Object.keys(e).filter(n=>!(n.match(/^on[A-Z]/)&&typeof e[n]=="function")).forEach(n=>{t[n]=e[n]}),t}function Nre(e){const{getSlotProps:t,additionalProps:n,externalSlotProps:r,externalForwardedProps:i,className:s}=e;if(!t){const v=Nt(n==null?void 0:n.className,s,i==null?void 0:i.className,r==null?void 0:r.className),b={...n==null?void 0:n.style,...i==null?void 0:i.style,...r==null?void 0:r.style},_={...n,...i,...r};return v.length>0&&(_.className=v),Object.keys(b).length>0&&(_.style=b),{props:_,internalRef:void 0}}const l=gB({...i,...r}),c=GI(r),d=GI(i),u=t(l),p=Nt(u==null?void 0:u.className,n==null?void 0:n.className,s,i==null?void 0:i.className,r==null?void 0:r.className),h={...u==null?void 0:u.style,...n==null?void 0:n.style,...i==null?void 0:i.style,...r==null?void 0:r.style},y={...u,...n,...d,...c};return p.length>0&&(y.className=p),Object.keys(h).length>0&&(y.style=h),{props:y,internalRef:u.ref}}function Lre(e,t,n){return typeof e=="function"?e(t,n):e}function bE(e){var t;return parseInt(x.version,10)>=19?((t=e==null?void 0:e.props)==null?void 0:t.ref)||null:(e==null?void 0:e.ref)||null}function op(e,t){return t?Ui(e,t,{clone:!1}):e}function Fre(e,t){if(!e.containerQueries)return t;const n=Object.keys(t).filter(r=>r.startsWith("@container")).sort((r,i)=>{var l,c;const s=/min-width:\s*([0-9.]+)/;return+(((l=r.match(s))==null?void 0:l[1])||0)-+(((c=i.match(s))==null?void 0:c[1])||0)});return n.length?n.reduce((r,i)=>{const s=t[i];return delete r[i],r[i]=s,r},{...t}):t}function zre(e,t){return t==="@"||t.startsWith("@")&&(e.some(n=>t.startsWith(`@${n}`))||!!t.match(/^@\d/))}function $re(e,t){const n=t.match(/^@([^/]+)?\/?(.+)?$/);if(!n)return null;const[,r,i]=n,s=Number.isNaN(+r)?r||0:+r;return e.containerQueries(i).up(s)}function Ure(e){const t=(s,l)=>s.replace("@media",l?`@container ${l}`:"@container");function n(s,l){s.up=(...c)=>t(e.breakpoints.up(...c),l),s.down=(...c)=>t(e.breakpoints.down(...c),l),s.between=(...c)=>t(e.breakpoints.between(...c),l),s.only=(...c)=>t(e.breakpoints.only(...c),l),s.not=(...c)=>{const d=t(e.breakpoints.not(...c),l);return d.includes("not all and")?d.replace("not all and ","").replace("min-width:","width<").replace("max-width:","width>").replace("and","or"):d}}const r={},i=s=>(n(r,s),r);return n(i),{...e,containerQueries:i}}const Rv={xs:0,sm:600,md:900,lg:1200,xl:1536},YI={keys:["xs","sm","md","lg","xl"],up:e=>`@media (min-width:${Rv[e]}px)`},Hre={containerQueries:e=>({up:t=>{let n=typeof t=="number"?t:Rv[t]||t;return typeof n=="number"&&(n=`${n}px`),e?`@container ${e} (min-width:${n})`:`@container (min-width:${n})`}})};function Io(e,t,n){const r=e.theme||{};if(Array.isArray(t)){const s=r.breakpoints||YI;return t.reduce((l,c,d)=>(l[s.up(s.keys[d])]=n(t[d]),l),{})}if(typeof t=="object"){const s=r.breakpoints||YI;return Object.keys(t).reduce((l,c)=>{if(zre(s.keys,c)){const d=$re(r.containerQueries?r:Hre,c);d&&(l[d]=n(t[c],c))}else if(Object.keys(s.values||Rv).includes(c)){const d=s.up(c);l[d]=n(t[c],c)}else{const d=c;l[d]=t[d]}return l},{})}return n(t)}function mB(e={}){var n;return((n=e.keys)==null?void 0:n.reduce((r,i)=>{const s=e.up(i);return r[s]={},r},{}))||{}}function yB(e,t){return e.reduce((n,r)=>{const i=n[r];return(!i||Object.keys(i).length===0)&&delete n[r],n},t)}function k1e(e,...t){const n=mB(e),r=[n,...t].reduce((i,s)=>Ui(i,s),{});return yB(Object.keys(n),r)}function qre(e,t){if(typeof e!="object")return{};const n={},r=Object.keys(t);return Array.isArray(e)?r.forEach((i,s)=>{s<e.length&&(n[i]=!0)}):r.forEach(i=>{e[i]!=null&&(n[i]=!0)}),n}function M1e({values:e,breakpoints:t,base:n}){const r=n||qre(e,t),i=Object.keys(r);if(i.length===0)return e;let s;return i.reduce((l,c,d)=>(Array.isArray(e)?(l[c]=e[d]!=null?e[d]:e[s],s=d):typeof e=="object"?(l[c]=e[c]!=null?e[c]:e[s],s=c):l[c]=e,l),{})}function Iv(e,t,n=!0){if(!t||typeof t!="string")return null;if(e&&e.vars&&n){const r=`vars.${t}`.split(".").reduce((i,s)=>i&&i[s]?i[s]:null,e);if(r!=null)return r}return t.split(".").reduce((r,i)=>r&&r[i]!=null?r[i]:null,e)}function M0(e,t,n,r=n){let i;return typeof e=="function"?i=e(n):Array.isArray(e)?i=e[n]||r:i=Iv(e,n)||r,t&&(i=t(i,r,e)),i}function br(e){const{prop:t,cssProperty:n=e.prop,themeKey:r,transform:i}=e,s=l=>{if(l[t]==null)return null;const c=l[t],d=l.theme,u=Iv(d,r)||{};return Io(l,c,h=>{let y=M0(u,i,h);return h===y&&typeof h=="string"&&(y=M0(u,i,`${t}${h==="default"?"":qt(h)}`,h)),n===!1?y:{[n]:y}})};return s.propTypes={},s.filterProps=[t],s}function Gre(e){const t={};return n=>(t[n]===void 0&&(t[n]=e(n)),t[n])}const Yre={m:"margin",p:"padding"},Kre={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},KI={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},Wre=Gre(e=>{if(e.length>2)if(KI[e])e=KI[e];else return[e];const[t,n]=e.split(""),r=Yre[t],i=Kre[n]||"";return Array.isArray(i)?i.map(s=>r+s):[r+i]}),_E=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],SE=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[..._E,...SE];function Zp(e,t,n,r){const i=Iv(e,t,!0)??n;return typeof i=="number"||typeof i=="string"?s=>typeof s=="string"?s:typeof i=="string"?`calc(${s} * ${i})`:i*s:Array.isArray(i)?s=>{if(typeof s=="string")return s;const l=Math.abs(s),c=i[l];return s>=0?c:typeof c=="number"?-c:`-${c}`}:typeof i=="function"?i:()=>{}}function xE(e){return Zp(e,"spacing",8)}function eg(e,t){return typeof t=="string"||t==null?t:e(t)}function Qre(e,t){return n=>e.reduce((r,i)=>(r[i]=eg(t,n),r),{})}function Xre(e,t,n,r){if(!t.includes(n))return null;const i=Wre(n),s=Qre(i,r),l=e[n];return Io(e,l,s)}function vB(e,t){const n=xE(e.theme);return Object.keys(e).map(r=>Xre(e,t,r,n)).reduce(op,{})}function ar(e){return vB(e,_E)}ar.propTypes={};ar.filterProps=_E;function or(e){return vB(e,SE)}or.propTypes={};or.filterProps=SE;function Ov(...e){const t=e.reduce((r,i)=>(i.filterProps.forEach(s=>{r[s]=i}),r),{}),n=r=>Object.keys(r).reduce((i,s)=>t[s]?op(i,t[s](r)):i,{});return n.propTypes={},n.filterProps=e.reduce((r,i)=>r.concat(i.filterProps),[]),n}function js(e){return typeof e!="number"?e:`${e}px solid`}function Ys(e,t){return br({prop:e,themeKey:"borders",transform:t})}const Jre=Ys("border",js),Zre=Ys("borderTop",js),eie=Ys("borderRight",js),tie=Ys("borderBottom",js),nie=Ys("borderLeft",js),rie=Ys("borderColor"),iie=Ys("borderTopColor"),sie=Ys("borderRightColor"),aie=Ys("borderBottomColor"),oie=Ys("borderLeftColor"),lie=Ys("outline",js),cie=Ys("outlineColor"),jv=e=>{if(e.borderRadius!==void 0&&e.borderRadius!==null){const t=Zp(e.theme,"shape.borderRadius",4),n=r=>({borderRadius:eg(t,r)});return Io(e,e.borderRadius,n)}return null};jv.propTypes={};jv.filterProps=["borderRadius"];Ov(Jre,Zre,eie,tie,nie,rie,iie,sie,aie,oie,jv,lie,cie);const Pv=e=>{if(e.gap!==void 0&&e.gap!==null){const t=Zp(e.theme,"spacing",8),n=r=>({gap:eg(t,r)});return Io(e,e.gap,n)}return null};Pv.propTypes={};Pv.filterProps=["gap"];const Vv=e=>{if(e.columnGap!==void 0&&e.columnGap!==null){const t=Zp(e.theme,"spacing",8),n=r=>({columnGap:eg(t,r)});return Io(e,e.columnGap,n)}return null};Vv.propTypes={};Vv.filterProps=["columnGap"];const Dv=e=>{if(e.rowGap!==void 0&&e.rowGap!==null){const t=Zp(e.theme,"spacing",8),n=r=>({rowGap:eg(t,r)});return Io(e,e.rowGap,n)}return null};Dv.propTypes={};Dv.filterProps=["rowGap"];const uie=br({prop:"gridColumn"}),die=br({prop:"gridRow"}),fie=br({prop:"gridAutoFlow"}),hie=br({prop:"gridAutoColumns"}),pie=br({prop:"gridAutoRows"}),gie=br({prop:"gridTemplateColumns"}),mie=br({prop:"gridTemplateRows"}),yie=br({prop:"gridTemplateAreas"}),vie=br({prop:"gridArea"});Ov(Pv,Vv,Dv,uie,die,fie,hie,pie,gie,mie,yie,vie);function Id(e,t){return t==="grey"?t:e}const Aie=br({prop:"color",themeKey:"palette",transform:Id}),bie=br({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:Id}),_ie=br({prop:"backgroundColor",themeKey:"palette",transform:Id});Ov(Aie,bie,_ie);function rs(e){return e<=1&&e!==0?`${e*100}%`:e}const Sie=br({prop:"width",transform:rs}),wE=e=>{if(e.maxWidth!==void 0&&e.maxWidth!==null){const t=n=>{var i,s,l,c,d;const r=((l=(s=(i=e.theme)==null?void 0:i.breakpoints)==null?void 0:s.values)==null?void 0:l[n])||Rv[n];return r?((d=(c=e.theme)==null?void 0:c.breakpoints)==null?void 0:d.unit)!=="px"?{maxWidth:`${r}${e.theme.breakpoints.unit}`}:{maxWidth:r}:{maxWidth:rs(n)}};return Io(e,e.maxWidth,t)}return null};wE.filterProps=["maxWidth"];const xie=br({prop:"minWidth",transform:rs}),wie=br({prop:"height",transform:rs}),Eie=br({prop:"maxHeight",transform:rs}),Tie=br({prop:"minHeight",transform:rs});br({prop:"size",cssProperty:"width",transform:rs});br({prop:"size",cssProperty:"height",transform:rs});const Cie=br({prop:"boxSizing"});Ov(Sie,wE,xie,wie,Eie,Tie,Cie);const tg={border:{themeKey:"borders",transform:js},borderTop:{themeKey:"borders",transform:js},borderRight:{themeKey:"borders",transform:js},borderBottom:{themeKey:"borders",transform:js},borderLeft:{themeKey:"borders",transform:js},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:js},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:jv},color:{themeKey:"palette",transform:Id},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:Id},backgroundColor:{themeKey:"palette",transform:Id},p:{style:or},pt:{style:or},pr:{style:or},pb:{style:or},pl:{style:or},px:{style:or},py:{style:or},padding:{style:or},paddingTop:{style:or},paddingRight:{style:or},paddingBottom:{style:or},paddingLeft:{style:or},paddingX:{style:or},paddingY:{style:or},paddingInline:{style:or},paddingInlineStart:{style:or},paddingInlineEnd:{style:or},paddingBlock:{style:or},paddingBlockStart:{style:or},paddingBlockEnd:{style:or},m:{style:ar},mt:{style:ar},mr:{style:ar},mb:{style:ar},ml:{style:ar},mx:{style:ar},my:{style:ar},margin:{style:ar},marginTop:{style:ar},marginRight:{style:ar},marginBottom:{style:ar},marginLeft:{style:ar},marginX:{style:ar},marginY:{style:ar},marginInline:{style:ar},marginInlineStart:{style:ar},marginInlineEnd:{style:ar},marginBlock:{style:ar},marginBlockStart:{style:ar},marginBlockEnd:{style:ar},displayPrint:{cssProperty:!1,transform:e=>({"@media print":{display:e}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:Pv},rowGap:{style:Dv},columnGap:{style:Vv},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:rs},maxWidth:{style:wE},minWidth:{transform:rs},height:{transform:rs},maxHeight:{transform:rs},minHeight:{transform:rs},boxSizing:{},font:{themeKey:"font"},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}};function kie(...e){const t=e.reduce((r,i)=>r.concat(Object.keys(i)),[]),n=new Set(t);return e.every(r=>n.size===Object.keys(r).length)}function Mie(e,t){return typeof e=="function"?e(t):e}function Rie(){function e(n,r,i,s){const l={[n]:r,theme:i},c=s[n];if(!c)return{[n]:r};const{cssProperty:d=n,themeKey:u,transform:p,style:h}=c;if(r==null)return null;if(u==="typography"&&r==="inherit")return{[n]:r};const y=Iv(i,u)||{};return h?h(l):Io(l,r,b=>{let _=M0(y,p,b);return b===_&&typeof b=="string"&&(_=M0(y,p,`${n}${b==="default"?"":qt(b)}`,b)),d===!1?_:{[d]:_}})}function t(n){const{sx:r,theme:i={}}=n||{};if(!r)return null;const s=i.unstable_sxConfig??tg;function l(c){let d=c;if(typeof c=="function")d=c(i);else if(typeof c!="object")return c;if(!d)return null;const u=mB(i.breakpoints),p=Object.keys(u);let h=u;return Object.keys(d).forEach(y=>{const v=Mie(d[y],i);if(v!=null)if(typeof v=="object")if(s[y])h=op(h,e(y,v,i,s));else{const b=Io({theme:i},v,_=>({[y]:_}));kie(b,v)?h[y]=t({sx:v,theme:i}):h=op(h,b)}else h=op(h,e(y,v,i,s))}),Fre(i,yB(p,h))}return Array.isArray(r)?r.map(l):l(r)}return t}const Wc=Rie();Wc.filterProps=["sx"];const Iie=e=>{var r;const t={systemProps:{},otherProps:{}},n=((r=e==null?void 0:e.theme)==null?void 0:r.unstable_sxConfig)??tg;return Object.keys(e).forEach(i=>{n[i]?t.systemProps[i]=e[i]:t.otherProps[i]=e[i]}),t};function Oie(e){const{sx:t,...n}=e,{systemProps:r,otherProps:i}=Iie(n);let s;return Array.isArray(t)?s=[r,...t]:typeof t=="function"?s=(...l)=>{const c=t(...l);return Ca(c)?{...r,...c}:r}:s={...r,...t},{...i,sx:s}}var jie=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],Sx=W.bind(null);jie.forEach(function(e){Sx[e]=Sx(e)});function Pie(e){return e==null||Object.keys(e).length===0}function AB(e){const{styles:t,defaultTheme:n={}}=e,r=typeof t=="function"?i=>t(Pie(i)?n:i):t;return g.jsx(SJ,{styles:r})}/**
 * @mui/styled-engine v6.3.1
 *
 * @license MIT
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function Vie(e,t){return Sx(e,t)}function Die(e,t){Array.isArray(e.__emotion_styles)&&(e.__emotion_styles=t(e.__emotion_styles))}const WI=[];function QI(e){return WI[0]=e,Yp(WI)}const Bie=e=>{const t=Object.keys(e).map(n=>({key:n,val:e[n]}))||[];return t.sort((n,r)=>n.val-r.val),t.reduce((n,r)=>({...n,[r.key]:r.val}),{})};function Nie(e){const{values:t={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:n="px",step:r=5,...i}=e,s=Bie(t),l=Object.keys(s);function c(y){return`@media (min-width:${typeof t[y]=="number"?t[y]:y}${n})`}function d(y){return`@media (max-width:${(typeof t[y]=="number"?t[y]:y)-r/100}${n})`}function u(y,v){const b=l.indexOf(v);return`@media (min-width:${typeof t[y]=="number"?t[y]:y}${n}) and (max-width:${(b!==-1&&typeof t[l[b]]=="number"?t[l[b]]:v)-r/100}${n})`}function p(y){return l.indexOf(y)+1<l.length?u(y,l[l.indexOf(y)+1]):c(y)}function h(y){const v=l.indexOf(y);return v===0?c(l[1]):v===l.length-1?d(l[v]):u(y,l[l.indexOf(y)+1]).replace("@media","@media not all and")}return{keys:l,values:s,up:c,down:d,between:u,only:p,not:h,unit:n,...i}}const Lie={borderRadius:4};function bB(e=8,t=xE({spacing:e})){if(e.mui)return e;const n=(...r)=>(r.length===0?[1]:r).map(s=>{const l=t(s);return typeof l=="number"?`${l}px`:l}).join(" ");return n.mui=!0,n}function Fie(e,t){var r;const n=this;if(n.vars){if(!((r=n.colorSchemes)!=null&&r[e])||typeof n.getColorSchemeSelector!="function")return{};let i=n.getColorSchemeSelector(e);return i==="&"?t:((i.includes("data-")||i.includes("."))&&(i=`*:where(${i.replace(/\s*&$/,"")}) &`),{[i]:t})}return n.palette.mode===e?t:{}}function EE(e={},...t){const{breakpoints:n={},palette:r={},spacing:i,shape:s={},...l}=e,c=Nie(n),d=bB(i);let u=Ui({breakpoints:c,direction:"ltr",components:{},palette:{mode:"light",...r},spacing:d,shape:{...Lie,...s}},l);return u=Ure(u),u.applyStyles=Fie,u=t.reduce((p,h)=>Ui(p,h),u),u.unstable_sxConfig={...tg,...l==null?void 0:l.unstable_sxConfig},u.unstable_sx=function(h){return Wc({sx:h,theme:this})},u}function zie(e){return Object.keys(e).length===0}function _B(e=null){const t=x.useContext(Kp);return!t||zie(t)?e:t}const $ie=EE();function SB(e=$ie){return _B(e)}function Uie({styles:e,themeId:t,defaultTheme:n={}}){const r=SB(n),i=typeof e=="function"?e(t&&r[t]||r):e;return g.jsx(AB,{styles:i})}function xB(e){const{variants:t,...n}=e,r={variants:t,style:QI(n),isProcessed:!0};return r.style===n||t&&t.forEach(i=>{typeof i.style!="function"&&(i.style=QI(i.style))}),r}const Hie=EE();function U1(e){return e!=="ownerState"&&e!=="theme"&&e!=="sx"&&e!=="as"}function qie(e){return e?(t,n)=>n[e]:null}function Gie(e,t,n){e.theme=Wie(e.theme)?n:e.theme[t]||e.theme}function Vy(e,t){const n=typeof t=="function"?t(e):t;if(Array.isArray(n))return n.flatMap(r=>Vy(e,r));if(Array.isArray(n==null?void 0:n.variants)){let r;if(n.isProcessed)r=n.style;else{const{variants:i,...s}=n;r=s}return wB(e,n.variants,[r])}return n!=null&&n.isProcessed?n.style:n}function wB(e,t,n=[]){var i;let r;e:for(let s=0;s<t.length;s+=1){const l=t[s];if(typeof l.props=="function"){if(r??(r={...e,...e.ownerState,ownerState:e.ownerState}),!l.props(r))continue}else for(const c in l.props)if(e[c]!==l.props[c]&&((i=e.ownerState)==null?void 0:i[c])!==l.props[c])continue e;typeof l.style=="function"?(r??(r={...e,...e.ownerState,ownerState:e.ownerState}),n.push(l.style(r))):n.push(l.style)}return n}function Yie(e={}){const{themeId:t,defaultTheme:n=Hie,rootShouldForwardProp:r=U1,slotShouldForwardProp:i=U1}=e;function s(c){Gie(c,t,n)}return(c,d={})=>{Die(c,E=>E.filter(O=>O!==Wc));const{name:u,slot:p,skipVariantsResolver:h,skipSx:y,overridesResolver:v=qie(Xie(p)),...b}=d,_=h!==void 0?h:p&&p!=="Root"&&p!=="root"||!1,w=y||!1;let T=U1;p==="Root"||p==="root"?T=r:p?T=i:Qie(c)&&(T=void 0);const k=Vie(c,{shouldForwardProp:T,label:Kie(),...b}),R=E=>{if(typeof E=="function"&&E.__emotion_real!==E)return function(P){return Vy(P,E)};if(Ca(E)){const O=xB(E);return O.variants?function(j){return Vy(j,O)}:O.style}return E},M=(...E)=>{const O=[],P=E.map(R),j=[];if(O.push(s),u&&v&&j.push(function(U){var D,K;const q=(K=(D=U.theme.components)==null?void 0:D[u])==null?void 0:K.styleOverrides;if(!q)return null;const H={};for(const Q in q)H[Q]=Vy(U,q[Q]);return v(U,H)}),u&&!_&&j.push(function(U){var H,D;const L=U.theme,q=(D=(H=L==null?void 0:L.components)==null?void 0:H[u])==null?void 0:D.variants;return q?wB(U,q):null}),w||j.push(Wc),Array.isArray(P[0])){const N=P.shift(),U=new Array(O.length).fill(""),L=new Array(j.length).fill("");let q;q=[...U,...N,...L],q.raw=[...U,...N.raw,...L],O.unshift(q)}const V=[...O,...P,...j],C=k(...V);return c.muiName&&(C.muiName=c.muiName),C};return k.withConfig&&(M.withConfig=k.withConfig),M}}function Kie(e,t){return void 0}function Wie(e){for(const t in e)return!1;return!0}function Qie(e){return typeof e=="string"&&e.charCodeAt(0)>96}function Xie(e){return e&&e.charAt(0).toLowerCase()+e.slice(1)}function TE(e,t=0,n=1){return Vre(e,t,n)}function Jie(e){e=e.slice(1);const t=new RegExp(`.{1,${e.length>=6?2:1}}`,"g");let n=e.match(t);return n&&n[0].length===1&&(n=n.map(r=>r+r)),n?`rgb${n.length===4?"a":""}(${n.map((r,i)=>i<3?parseInt(r,16):Math.round(parseInt(r,16)/255*1e3)/1e3).join(", ")})`:""}function kl(e){if(e.type)return e;if(e.charAt(0)==="#")return kl(Jie(e));const t=e.indexOf("("),n=e.substring(0,t);if(!["rgb","rgba","hsl","hsla","color"].includes(n))throw new Error(Yc(9,e));let r=e.substring(t+1,e.length-1),i;if(n==="color"){if(r=r.split(" "),i=r.shift(),r.length===4&&r[3].charAt(0)==="/"&&(r[3]=r[3].slice(1)),!["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].includes(i))throw new Error(Yc(10,i))}else r=r.split(",");return r=r.map(s=>parseFloat(s)),{type:n,values:r,colorSpace:i}}const Zie=e=>{const t=kl(e);return t.values.slice(0,3).map((n,r)=>t.type.includes("hsl")&&r!==0?`${n}%`:n).join(" ")},Hh=(e,t)=>{try{return Zie(e)}catch{return e}};function Bv(e){const{type:t,colorSpace:n}=e;let{values:r}=e;return t.includes("rgb")?r=r.map((i,s)=>s<3?parseInt(i,10):i):t.includes("hsl")&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),t.includes("color")?r=`${n} ${r.join(" ")}`:r=`${r.join(", ")}`,`${t}(${r})`}function EB(e){e=kl(e);const{values:t}=e,n=t[0],r=t[1]/100,i=t[2]/100,s=r*Math.min(i,1-i),l=(u,p=(u+n/30)%12)=>i-s*Math.max(Math.min(p-3,9-p,1),-1);let c="rgb";const d=[Math.round(l(0)*255),Math.round(l(8)*255),Math.round(l(4)*255)];return e.type==="hsla"&&(c+="a",d.push(t[3])),Bv({type:c,values:d})}function xx(e){e=kl(e);let t=e.type==="hsl"||e.type==="hsla"?kl(EB(e)).values:e.values;return t=t.map(n=>(e.type!=="color"&&(n/=255),n<=.03928?n/12.92:((n+.055)/1.055)**2.4)),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function ese(e,t){const n=xx(e),r=xx(t);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}function sa(e,t){return e=kl(e),t=TE(t),(e.type==="rgb"||e.type==="hsl")&&(e.type+="a"),e.type==="color"?e.values[3]=`/${t}`:e.values[3]=t,Bv(e)}function Um(e,t,n){try{return sa(e,t)}catch{return e}}function CE(e,t){if(e=kl(e),t=TE(t),e.type.includes("hsl"))e.values[2]*=1-t;else if(e.type.includes("rgb")||e.type.includes("color"))for(let n=0;n<3;n+=1)e.values[n]*=1-t;return Bv(e)}function _n(e,t,n){try{return CE(e,t)}catch{return e}}function kE(e,t){if(e=kl(e),t=TE(t),e.type.includes("hsl"))e.values[2]+=(100-e.values[2])*t;else if(e.type.includes("rgb"))for(let n=0;n<3;n+=1)e.values[n]+=(255-e.values[n])*t;else if(e.type.includes("color"))for(let n=0;n<3;n+=1)e.values[n]+=(1-e.values[n])*t;return Bv(e)}function Sn(e,t,n){try{return kE(e,t)}catch{return e}}function tse(e,t=.15){return xx(e)>.5?CE(e,t):kE(e,t)}function Hm(e,t,n){try{return tse(e,t)}catch{return e}}const TB=x.createContext(null);function ME(){return x.useContext(TB)}const nse=typeof Symbol=="function"&&Symbol.for,rse=nse?Symbol.for("mui.nested"):"__THEME_NESTED__";function ise(e,t){return typeof t=="function"?t(e):{...e,...t}}function sse(e){const{children:t,theme:n}=e,r=ME(),i=x.useMemo(()=>{const s=r===null?{...n}:ise(r,n);return s!=null&&(s[rse]=r!==null),s},[n,r]);return g.jsx(TB.Provider,{value:i,children:t})}const CB=x.createContext();function ase({value:e,...t}){return g.jsx(CB.Provider,{value:e??!0,...t})}const R1e=()=>x.useContext(CB)??!1,kB=x.createContext(void 0);function ose({value:e,children:t}){return g.jsx(kB.Provider,{value:e,children:t})}function lse(e){const{theme:t,name:n,props:r}=e;if(!t||!t.components||!t.components[n])return r;const i=t.components[n];return i.defaultProps?k0(i.defaultProps,r):!i.styleOverrides&&!i.variants?k0(i,r):r}function cse({props:e,name:t}){const n=x.useContext(kB);return lse({props:e,name:t,theme:{components:n}})}const XI={};function JI(e,t,n,r=!1){return x.useMemo(()=>{const i=e&&t[e]||t;if(typeof n=="function"){const s=n(i),l=e?{...t,[e]:s}:s;return r?()=>l:l}return e?{...t,[e]:n}:{...t,...n}},[e,t,n,r])}function MB(e){const{children:t,theme:n,themeId:r}=e,i=_B(XI),s=ME()||XI,l=JI(r,i,n),c=JI(r,s,n,!0),d=(r?l[r]:l).direction==="rtl";return g.jsx(sse,{theme:c,children:g.jsx(Kp.Provider,{value:l,children:g.jsx(ase,{value:d,children:g.jsx(ose,{value:r?l[r].components:l.components,children:t})})})})}const ZI={theme:void 0};function use(e){let t,n;return function(i){let s=t;return(s===void 0||i.theme!==n)&&(ZI.theme=i.theme,s=xB(e(ZI)),t=s,n=i.theme),s}}const RE="mode",IE="color-scheme",dse="data-color-scheme";function fse(e){const{defaultMode:t="system",defaultLightColorScheme:n="light",defaultDarkColorScheme:r="dark",modeStorageKey:i=RE,colorSchemeStorageKey:s=IE,attribute:l=dse,colorSchemeNode:c="document.documentElement",nonce:d}=e;let u="",p=l;if(l==="class"&&(p=".%s"),l==="data"&&(p="[data-%s]"),p.startsWith(".")){const y=p.substring(1);u+=`${c}.classList.remove('${y}'.replace('%s', light), '${y}'.replace('%s', dark));
      ${c}.classList.add('${y}'.replace('%s', colorScheme));`}const h=p.match(/\[([^\]]+)\]/);if(h){const[y,v]=h[1].split("=");v||(u+=`${c}.removeAttribute('${y}'.replace('%s', light));
      ${c}.removeAttribute('${y}'.replace('%s', dark));`),u+=`
      ${c}.setAttribute('${y}'.replace('%s', colorScheme), ${v?`${v}.replace('%s', colorScheme)`:'""'});`}else u+=`${c}.setAttribute('${p}', colorScheme);`;return g.jsx("script",{suppressHydrationWarning:!0,nonce:typeof window>"u"?d:"",dangerouslySetInnerHTML:{__html:`(function() {
try {
  let colorScheme = '';
  const mode = localStorage.getItem('${i}') || '${t}';
  const dark = localStorage.getItem('${s}-dark') || '${r}';
  const light = localStorage.getItem('${s}-light') || '${n}';
  if (mode === 'system') {
    // handle system mode
    const mql = window.matchMedia('(prefers-color-scheme: dark)');
    if (mql.matches) {
      colorScheme = dark
    } else {
      colorScheme = light
    }
  }
  if (mode === 'light') {
    colorScheme = light;
  }
  if (mode === 'dark') {
    colorScheme = dark;
  }
  if (colorScheme) {
    ${u}
  }
} catch(e){}})();`}},"mui-color-scheme-init")}function e3(e){if(typeof window<"u"&&typeof window.matchMedia=="function"&&e==="system")return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}function RB(e,t){if(e.mode==="light"||e.mode==="system"&&e.systemMode==="light")return t("light");if(e.mode==="dark"||e.mode==="system"&&e.systemMode==="dark")return t("dark")}function hse(e){return RB(e,t=>{if(t==="light")return e.lightColorScheme;if(t==="dark")return e.darkColorScheme})}function H1(e,t){if(typeof window>"u")return;let n;try{n=localStorage.getItem(e)||void 0,n||localStorage.setItem(e,t)}catch{}return n||t}function pse(e){const{defaultMode:t="light",defaultLightColorScheme:n,defaultDarkColorScheme:r,supportedColorSchemes:i=[],modeStorageKey:s=RE,colorSchemeStorageKey:l=IE,storageWindow:c=typeof window>"u"?void 0:window,noSsr:d=!1}=e,u=i.join(","),p=i.length>1,[h,y]=x.useState(()=>{const M=H1(s,t),E=H1(`${l}-light`,n),O=H1(`${l}-dark`,r);return{mode:M,systemMode:e3(M),lightColorScheme:E,darkColorScheme:O}}),[v,b]=x.useState(d||!p);x.useEffect(()=>{b(!0)},[]);const _=hse(h),w=x.useCallback(M=>{y(E=>{if(M===E.mode)return E;const O=M??t;try{localStorage.setItem(s,O)}catch{}return{...E,mode:O,systemMode:e3(O)}})},[s,t]),T=x.useCallback(M=>{M?typeof M=="string"?M&&!u.includes(M)?console.error(`\`${M}\` does not exist in \`theme.colorSchemes\`.`):y(E=>{const O={...E};return RB(E,P=>{try{localStorage.setItem(`${l}-${P}`,M)}catch{}P==="light"&&(O.lightColorScheme=M),P==="dark"&&(O.darkColorScheme=M)}),O}):y(E=>{const O={...E},P=M.light===null?n:M.light,j=M.dark===null?r:M.dark;if(P)if(!u.includes(P))console.error(`\`${P}\` does not exist in \`theme.colorSchemes\`.`);else{O.lightColorScheme=P;try{localStorage.setItem(`${l}-light`,P)}catch{}}if(j)if(!u.includes(j))console.error(`\`${j}\` does not exist in \`theme.colorSchemes\`.`);else{O.darkColorScheme=j;try{localStorage.setItem(`${l}-dark`,j)}catch{}}return O}):y(E=>{try{localStorage.setItem(`${l}-light`,n),localStorage.setItem(`${l}-dark`,r)}catch{}return{...E,lightColorScheme:n,darkColorScheme:r}})},[u,l,n,r]),k=x.useCallback(M=>{h.mode==="system"&&y(E=>{const O=M!=null&&M.matches?"dark":"light";return E.systemMode===O?E:{...E,systemMode:O}})},[h.mode]),R=x.useRef(k);return R.current=k,x.useEffect(()=>{if(typeof window.matchMedia!="function"||!p)return;const M=(...O)=>R.current(...O),E=window.matchMedia("(prefers-color-scheme: dark)");return E.addListener(M),M(E),()=>{E.removeListener(M)}},[p]),x.useEffect(()=>{if(c&&p){const M=E=>{const O=E.newValue;typeof E.key=="string"&&E.key.startsWith(l)&&(!O||u.match(O))&&(E.key.endsWith("light")&&T({light:O}),E.key.endsWith("dark")&&T({dark:O})),E.key===s&&(!O||["light","dark","system"].includes(O))&&w(O||t)};return c.addEventListener("storage",M),()=>{c.removeEventListener("storage",M)}}},[T,w,s,l,u,t,c,p]),{...h,mode:v?h.mode:void 0,systemMode:v?h.systemMode:void 0,colorScheme:v?_:void 0,setMode:w,setColorScheme:T}}const gse="*{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}";function mse(e){const{themeId:t,theme:n={},modeStorageKey:r=RE,colorSchemeStorageKey:i=IE,disableTransitionOnChange:s=!1,defaultColorScheme:l,resolveTheme:c}=e,d={allColorSchemes:[],colorScheme:void 0,darkColorScheme:void 0,lightColorScheme:void 0,mode:void 0,setColorScheme:()=>{},setMode:()=>{},systemMode:void 0},u=x.createContext(void 0),p=()=>x.useContext(u)||d,h={},y={};function v(T){var Nn,At,pn,gn;const{children:k,theme:R,modeStorageKey:M=r,colorSchemeStorageKey:E=i,disableTransitionOnChange:O=s,storageWindow:P=typeof window>"u"?void 0:window,documentNode:j=typeof document>"u"?void 0:document,colorSchemeNode:V=typeof document>"u"?void 0:document.documentElement,disableNestedContext:C=!1,disableStyleSheetGeneration:N=!1,defaultMode:U="system",noSsr:L}=T,q=x.useRef(!1),H=ME(),D=x.useContext(u),K=!!D&&!C,Q=x.useMemo(()=>R||(typeof n=="function"?n():n),[R]),J=Q[t],B=J||Q,{colorSchemes:G=h,components:ee=y,cssVarPrefix:ue}=B,F=Object.keys(G).filter(rt=>!!G[rt]).join(","),ge=x.useMemo(()=>F.split(","),[F]),se=typeof l=="string"?l:l.light,Se=typeof l=="string"?l:l.dark,Me=G[se]&&G[Se]?U:((At=(Nn=G[B.defaultColorScheme])==null?void 0:Nn.palette)==null?void 0:At.mode)||((pn=B.palette)==null?void 0:pn.mode),{mode:Re,setMode:ye,systemMode:je,lightColorScheme:Ge,darkColorScheme:Fe,colorScheme:Ve,setColorScheme:ze}=pse({supportedColorSchemes:ge,defaultLightColorScheme:se,defaultDarkColorScheme:Se,modeStorageKey:M,colorSchemeStorageKey:E,defaultMode:Me,storageWindow:P,noSsr:L});let ot=Re,Qe=Ve;K&&(ot=D.mode,Qe=D.colorScheme);const Ue=x.useMemo(()=>{var xt;const rt=Qe||B.defaultColorScheme,yt=((xt=B.generateThemeVars)==null?void 0:xt.call(B))||B.vars,dt={...B,components:ee,colorSchemes:G,cssVarPrefix:ue,vars:yt};if(typeof dt.generateSpacing=="function"&&(dt.spacing=dt.generateSpacing()),rt){const Zt=G[rt];Zt&&typeof Zt=="object"&&Object.keys(Zt).forEach(wt=>{Zt[wt]&&typeof Zt[wt]=="object"?dt[wt]={...dt[wt],...Zt[wt]}:dt[wt]=Zt[wt]})}return c?c(dt):dt},[B,Qe,ee,G,ue]),pt=B.colorSchemeSelector;x.useEffect(()=>{if(Qe&&V&&pt&&pt!=="media"){const rt=pt;let yt=pt;if(rt==="class"&&(yt=".%s"),rt==="data"&&(yt="[data-%s]"),rt!=null&&rt.startsWith("data-")&&!rt.includes("%s")&&(yt=`[${rt}="%s"]`),yt.startsWith("."))V.classList.remove(...ge.map(dt=>yt.substring(1).replace("%s",dt))),V.classList.add(yt.substring(1).replace("%s",Qe));else{const dt=yt.replace("%s",Qe).match(/\[([^\]]+)\]/);if(dt){const[xt,Zt]=dt[1].split("=");Zt||ge.forEach(wt=>{V.removeAttribute(xt.replace(Qe,wt))}),V.setAttribute(xt,Zt?Zt.replace(/"|'/g,""):"")}else V.setAttribute(yt,Qe)}}},[Qe,pt,V,ge]),x.useEffect(()=>{let rt;if(O&&q.current&&j){const yt=j.createElement("style");yt.appendChild(j.createTextNode(gse)),j.head.appendChild(yt),window.getComputedStyle(j.body),rt=setTimeout(()=>{j.head.removeChild(yt)},1)}return()=>{clearTimeout(rt)}},[Qe,O,j]),x.useEffect(()=>(q.current=!0,()=>{q.current=!1}),[]);const Jt=x.useMemo(()=>({allColorSchemes:ge,colorScheme:Qe,darkColorScheme:Fe,lightColorScheme:Ge,mode:ot,setColorScheme:ze,setMode:ye,systemMode:je}),[ge,Qe,Fe,Ge,ot,ze,ye,je,Ue.colorSchemeSelector]);let hn=!0;(N||B.cssVariables===!1||K&&(H==null?void 0:H.cssVarPrefix)===ue)&&(hn=!1);const He=g.jsxs(x.Fragment,{children:[g.jsx(MB,{themeId:J?t:void 0,theme:Ue,children:k}),hn&&g.jsx(AB,{styles:((gn=Ue.generateStyleSheets)==null?void 0:gn.call(Ue))||[]})]});return K?He:g.jsx(u.Provider,{value:Jt,children:He})}const b=typeof l=="string"?l:l.light,_=typeof l=="string"?l:l.dark;return{CssVarsProvider:v,useColorScheme:p,getInitColorSchemeScript:T=>fse({colorSchemeStorageKey:i,defaultLightColorScheme:b,defaultDarkColorScheme:_,modeStorageKey:r,...T})}}function yse(e=""){function t(...r){if(!r.length)return"";const i=r[0];return typeof i=="string"&&!i.match(/(#|\(|\)|(-?(\d*\.)?\d+)(px|em|%|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc))|^(-?(\d*\.)?\d+)$|(\d+ \d+ \d+)/)?`, var(--${e?`${e}-`:""}${i}${t(...r.slice(1))})`:`, ${i}`}return(r,...i)=>`var(--${e?`${e}-`:""}${r}${t(...i)})`}const t3=(e,t,n,r=[])=>{let i=e;t.forEach((s,l)=>{l===t.length-1?Array.isArray(i)?i[Number(s)]=n:i&&typeof i=="object"&&(i[s]=n):i&&typeof i=="object"&&(i[s]||(i[s]=r.includes(s)?[]:{}),i=i[s])})},vse=(e,t,n)=>{function r(i,s=[],l=[]){Object.entries(i).forEach(([c,d])=>{(!n||!n([...s,c]))&&d!=null&&(typeof d=="object"&&Object.keys(d).length>0?r(d,[...s,c],Array.isArray(d)?[...l,c]:l):t([...s,c],d,l))})}r(e)},Ase=(e,t)=>typeof t=="number"?["lineHeight","fontWeight","opacity","zIndex"].some(r=>e.includes(r))||e[e.length-1].toLowerCase().includes("opacity")?t:`${t}px`:t;function q1(e,t){const{prefix:n,shouldSkipGeneratingVar:r}=t||{},i={},s={},l={};return vse(e,(c,d,u)=>{if((typeof d=="string"||typeof d=="number")&&(!r||!r(c,d))){const p=`--${n?`${n}-`:""}${c.join("-")}`,h=Ase(c,d);Object.assign(i,{[p]:h}),t3(s,c,`var(${p})`,u),t3(l,c,`var(${p}, ${h})`,u)}},c=>c[0]==="vars"),{css:i,vars:s,varsWithDefaults:l}}function bse(e,t={}){const{getSelector:n=w,disableCssColorScheme:r,colorSchemeSelector:i}=t,{colorSchemes:s={},components:l,defaultColorScheme:c="light",...d}=e,{vars:u,css:p,varsWithDefaults:h}=q1(d,t);let y=h;const v={},{[c]:b,..._}=s;if(Object.entries(_||{}).forEach(([R,M])=>{const{vars:E,css:O,varsWithDefaults:P}=q1(M,t);y=Ui(y,P),v[R]={css:O,vars:E}}),b){const{css:R,vars:M,varsWithDefaults:E}=q1(b,t);y=Ui(y,E),v[c]={css:R,vars:M}}function w(R,M){var O,P;let E=i;if(i==="class"&&(E=".%s"),i==="data"&&(E="[data-%s]"),i!=null&&i.startsWith("data-")&&!i.includes("%s")&&(E=`[${i}="%s"]`),R){if(E==="media")return e.defaultColorScheme===R?":root":{[`@media (prefers-color-scheme: ${((P=(O=s[R])==null?void 0:O.palette)==null?void 0:P.mode)||R})`]:{":root":M}};if(E)return e.defaultColorScheme===R?`:root, ${E.replace("%s",String(R))}`:E.replace("%s",String(R))}return":root"}return{vars:y,generateThemeVars:()=>{let R={...u};return Object.entries(v).forEach(([,{vars:M}])=>{R=Ui(R,M)}),R},generateStyleSheets:()=>{var j,V;const R=[],M=e.defaultColorScheme||"light";function E(C,N){Object.keys(N).length&&R.push(typeof C=="string"?{[C]:{...N}}:C)}E(n(void 0,{...p}),p);const{[M]:O,...P}=v;if(O){const{css:C}=O,N=(V=(j=s[M])==null?void 0:j.palette)==null?void 0:V.mode,U=!r&&N?{colorScheme:N,...C}:{...C};E(n(M,{...U}),U)}return Object.entries(P).forEach(([C,{css:N}])=>{var q,H;const U=(H=(q=s[C])==null?void 0:q.palette)==null?void 0:H.mode,L=!r&&U?{colorScheme:U,...N}:{...N};E(n(C,{...L}),L)}),R}}}function _se(e){return function(n){return e==="media"?`@media (prefers-color-scheme: ${n})`:e?e.startsWith("data-")&&!e.includes("%s")?`[${e}="${n}"] &`:e==="class"?`.${n} &`:e==="data"?`[data-${n}] &`:`${e.replace("%s",n)} &`:"&"}}const Mp={black:"#000",white:"#fff"},Sse={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},Qu={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},Xu={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},Rh={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},Ju={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},Zu={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},ed={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"};function IB(){return{text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:Mp.white,default:Mp.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}}}const xse=IB();function OB(){return{text:{primary:Mp.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:Mp.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}}}const n3=OB();function r3(e,t,n,r){const i=r.light||r,s=r.dark||r*1.5;e[t]||(e.hasOwnProperty(n)?e[t]=e[n]:t==="light"?e.light=kE(e.main,i):t==="dark"&&(e.dark=CE(e.main,s)))}function wse(e="light"){return e==="dark"?{main:Ju[200],light:Ju[50],dark:Ju[400]}:{main:Ju[700],light:Ju[400],dark:Ju[800]}}function Ese(e="light"){return e==="dark"?{main:Qu[200],light:Qu[50],dark:Qu[400]}:{main:Qu[500],light:Qu[300],dark:Qu[700]}}function Tse(e="light"){return e==="dark"?{main:Xu[500],light:Xu[300],dark:Xu[700]}:{main:Xu[700],light:Xu[400],dark:Xu[800]}}function Cse(e="light"){return e==="dark"?{main:Zu[400],light:Zu[300],dark:Zu[700]}:{main:Zu[700],light:Zu[500],dark:Zu[900]}}function kse(e="light"){return e==="dark"?{main:ed[400],light:ed[300],dark:ed[700]}:{main:ed[800],light:ed[500],dark:ed[900]}}function Mse(e="light"){return e==="dark"?{main:Rh[400],light:Rh[300],dark:Rh[700]}:{main:"#ed6c02",light:Rh[500],dark:Rh[900]}}function OE(e){const{mode:t="light",contrastThreshold:n=3,tonalOffset:r=.2,...i}=e,s=e.primary||wse(t),l=e.secondary||Ese(t),c=e.error||Tse(t),d=e.info||Cse(t),u=e.success||kse(t),p=e.warning||Mse(t);function h(_){return ese(_,n3.text.primary)>=n?n3.text.primary:xse.text.primary}const y=({color:_,name:w,mainShade:T=500,lightShade:k=300,darkShade:R=700})=>{if(_={..._},!_.main&&_[T]&&(_.main=_[T]),!_.hasOwnProperty("main"))throw new Error(Yc(11,w?` (${w})`:"",T));if(typeof _.main!="string")throw new Error(Yc(12,w?` (${w})`:"",JSON.stringify(_.main)));return r3(_,"light",k,r),r3(_,"dark",R,r),_.contrastText||(_.contrastText=h(_.main)),_};let v;return t==="light"?v=IB():t==="dark"&&(v=OB()),Ui({common:{...Mp},mode:t,primary:y({color:s,name:"primary"}),secondary:y({color:l,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:y({color:c,name:"error"}),warning:y({color:p,name:"warning"}),info:y({color:d,name:"info"}),success:y({color:u,name:"success"}),grey:Sse,contrastThreshold:n,getContrastText:h,augmentColor:y,tonalOffset:r,...v},i)}function Rse(e){const t={};return Object.entries(e).forEach(r=>{const[i,s]=r;typeof s=="object"&&(t[i]=`${s.fontStyle?`${s.fontStyle} `:""}${s.fontVariant?`${s.fontVariant} `:""}${s.fontWeight?`${s.fontWeight} `:""}${s.fontStretch?`${s.fontStretch} `:""}${s.fontSize||""}${s.lineHeight?`/${s.lineHeight} `:""}${s.fontFamily||""}`)}),t}function Ise(e,t){return{toolbar:{minHeight:56,[e.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[e.up("sm")]:{minHeight:64}},...t}}function Ose(e){return Math.round(e*1e5)/1e5}const i3={textTransform:"uppercase"},s3='"Roboto", "Helvetica", "Arial", sans-serif';function jB(e,t){const{fontFamily:n=s3,fontSize:r=14,fontWeightLight:i=300,fontWeightRegular:s=400,fontWeightMedium:l=500,fontWeightBold:c=700,htmlFontSize:d=16,allVariants:u,pxToRem:p,...h}=typeof t=="function"?t(e):t,y=r/14,v=p||(w=>`${w/d*y}rem`),b=(w,T,k,R,M)=>({fontFamily:n,fontWeight:w,fontSize:v(T),lineHeight:k,...n===s3?{letterSpacing:`${Ose(R/T)}em`}:{},...M,...u}),_={h1:b(i,96,1.167,-1.5),h2:b(i,60,1.2,-.5),h3:b(s,48,1.167,0),h4:b(s,34,1.235,.25),h5:b(s,24,1.334,0),h6:b(l,20,1.6,.15),subtitle1:b(s,16,1.75,.15),subtitle2:b(l,14,1.57,.1),body1:b(s,16,1.5,.15),body2:b(s,14,1.43,.15),button:b(l,14,1.75,.4,i3),caption:b(s,12,1.66,.4),overline:b(s,12,2.66,1,i3),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return Ui({htmlFontSize:d,pxToRem:v,fontFamily:n,fontSize:r,fontWeightLight:i,fontWeightRegular:s,fontWeightMedium:l,fontWeightBold:c,..._},h,{clone:!1})}const jse=.2,Pse=.14,Vse=.12;function zn(...e){return[`${e[0]}px ${e[1]}px ${e[2]}px ${e[3]}px rgba(0,0,0,${jse})`,`${e[4]}px ${e[5]}px ${e[6]}px ${e[7]}px rgba(0,0,0,${Pse})`,`${e[8]}px ${e[9]}px ${e[10]}px ${e[11]}px rgba(0,0,0,${Vse})`].join(",")}const Dse=["none",zn(0,2,1,-1,0,1,1,0,0,1,3,0),zn(0,3,1,-2,0,2,2,0,0,1,5,0),zn(0,3,3,-2,0,3,4,0,0,1,8,0),zn(0,2,4,-1,0,4,5,0,0,1,10,0),zn(0,3,5,-1,0,5,8,0,0,1,14,0),zn(0,3,5,-1,0,6,10,0,0,1,18,0),zn(0,4,5,-2,0,7,10,1,0,2,16,1),zn(0,5,5,-3,0,8,10,1,0,3,14,2),zn(0,5,6,-3,0,9,12,1,0,3,16,2),zn(0,6,6,-3,0,10,14,1,0,4,18,3),zn(0,6,7,-4,0,11,15,1,0,4,20,3),zn(0,7,8,-4,0,12,17,2,0,5,22,4),zn(0,7,8,-4,0,13,19,2,0,5,24,4),zn(0,7,9,-4,0,14,21,2,0,5,26,4),zn(0,8,9,-5,0,15,22,2,0,6,28,5),zn(0,8,10,-5,0,16,24,2,0,6,30,5),zn(0,8,11,-5,0,17,26,2,0,6,32,5),zn(0,9,11,-5,0,18,28,2,0,7,34,6),zn(0,9,12,-6,0,19,29,2,0,7,36,6),zn(0,10,13,-6,0,20,31,3,0,8,38,7),zn(0,10,13,-6,0,21,33,3,0,8,40,7),zn(0,10,14,-6,0,22,35,3,0,8,42,7),zn(0,11,14,-7,0,23,36,3,0,9,44,8),zn(0,11,15,-7,0,24,38,3,0,9,46,8)],Bse={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},Nse={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function a3(e){return`${Math.round(e)}ms`}function Lse(e){if(!e)return 0;const t=e/36;return Math.min(Math.round((4+15*t**.25+t/5)*10),3e3)}function Fse(e){const t={...Bse,...e.easing},n={...Nse,...e.duration};return{getAutoHeightDuration:Lse,create:(i=["all"],s={})=>{const{duration:l=n.standard,easing:c=t.easeInOut,delay:d=0,...u}=s;return(Array.isArray(i)?i:[i]).map(p=>`${p} ${typeof l=="string"?l:a3(l)} ${c} ${typeof d=="string"?d:a3(d)}`).join(",")},...e,easing:t,duration:n}}const zse={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500};function $se(e){return Ca(e)||typeof e>"u"||typeof e=="string"||typeof e=="boolean"||typeof e=="number"||Array.isArray(e)}function PB(e={}){const t={...e};function n(r){const i=Object.entries(r);for(let s=0;s<i.length;s++){const[l,c]=i[s];!$se(c)||l.startsWith("unstable_")?delete r[l]:Ca(c)&&(r[l]={...c},n(r[l]))}}return n(t),`import { unstable_createBreakpoints as createBreakpoints, createTransitions } from '@mui/material/styles';

const theme = ${JSON.stringify(t,null,2)};

theme.breakpoints = createBreakpoints(theme.breakpoints || {});
theme.transitions = createTransitions(theme.transitions || {});

export default theme;`}function wx(e={},...t){const{breakpoints:n,mixins:r={},spacing:i,palette:s={},transitions:l={},typography:c={},shape:d,...u}=e;if(e.vars)throw new Error(Yc(20));const p=OE(s),h=EE(e);let y=Ui(h,{mixins:Ise(h.breakpoints,r),palette:p,shadows:Dse.slice(),typography:jB(p,c),transitions:Fse(l),zIndex:{...zse}});return y=Ui(y,u),y=t.reduce((v,b)=>Ui(v,b),y),y.unstable_sxConfig={...tg,...u==null?void 0:u.unstable_sxConfig},y.unstable_sx=function(b){return Wc({sx:b,theme:this})},y.toRuntimeSource=PB,y}function Ex(e){let t;return e<1?t=5.11916*e**2:t=4.5*Math.log(e+1)+2,Math.round(t*10)/1e3}const Use=[...Array(25)].map((e,t)=>{if(t===0)return"none";const n=Ex(t);return`linear-gradient(rgba(255 255 255 / ${n}), rgba(255 255 255 / ${n}))`});function VB(e){return{inputPlaceholder:e==="dark"?.5:.42,inputUnderline:e==="dark"?.7:.42,switchTrackDisabled:e==="dark"?.2:.12,switchTrack:e==="dark"?.3:.38}}function DB(e){return e==="dark"?Use:[]}function Hse(e){const{palette:t={mode:"light"},opacity:n,overlays:r,...i}=e,s=OE(t);return{palette:s,opacity:{...VB(s.mode),...n},overlays:r||DB(s.mode),...i}}function qse(e){var t;return!!e[0].match(/(cssVarPrefix|colorSchemeSelector|rootSelector|typography|mixins|breakpoints|direction|transitions)/)||!!e[0].match(/sxConfig$/)||e[0]==="palette"&&!!((t=e[1])!=null&&t.match(/(mode|contrastThreshold|tonalOffset)/))}const Gse=e=>[...[...Array(25)].map((t,n)=>`--${e?`${e}-`:""}overlays-${n}`),`--${e?`${e}-`:""}palette-AppBar-darkBg`,`--${e?`${e}-`:""}palette-AppBar-darkColor`],Yse=e=>(t,n)=>{const r=e.rootSelector||":root",i=e.colorSchemeSelector;let s=i;if(i==="class"&&(s=".%s"),i==="data"&&(s="[data-%s]"),i!=null&&i.startsWith("data-")&&!i.includes("%s")&&(s=`[${i}="%s"]`),e.defaultColorScheme===t){if(t==="dark"){const l={};return Gse(e.cssVarPrefix).forEach(c=>{l[c]=n[c],delete n[c]}),s==="media"?{[r]:n,"@media (prefers-color-scheme: dark)":{[r]:l}}:s?{[s.replace("%s",t)]:l,[`${r}, ${s.replace("%s",t)}`]:n}:{[r]:{...n,...l}}}if(s&&s!=="media")return`${r}, ${s.replace("%s",String(t))}`}else if(t){if(s==="media")return{[`@media (prefers-color-scheme: ${String(t)})`]:{[r]:n}};if(s)return s.replace("%s",String(t))}return r};function Kse(e,t){t.forEach(n=>{e[n]||(e[n]={})})}function ve(e,t,n){!e[t]&&n&&(e[t]=n)}function qh(e){return typeof e!="string"||!e.startsWith("hsl")?e:EB(e)}function ao(e,t){`${t}Channel`in e||(e[`${t}Channel`]=Hh(qh(e[t])))}function Wse(e){return typeof e=="number"?`${e}px`:typeof e=="string"||typeof e=="function"||Array.isArray(e)?e:"8px"}const _a=e=>{try{return e()}catch{}},Qse=(e="mui")=>yse(e);function G1(e,t,n,r){if(!t)return;t=t===!0?{}:t;const i=r==="dark"?"dark":"light";if(!n){e[r]=Hse({...t,palette:{mode:i,...t==null?void 0:t.palette}});return}const{palette:s,...l}=wx({...n,palette:{mode:i,...t==null?void 0:t.palette}});return e[r]={...t,palette:s,opacity:{...VB(i),...t==null?void 0:t.opacity},overlays:(t==null?void 0:t.overlays)||DB(i)},l}function Xse(e={},...t){const{colorSchemes:n={light:!0},defaultColorScheme:r,disableCssColorScheme:i=!1,cssVarPrefix:s="mui",shouldSkipGeneratingVar:l=qse,colorSchemeSelector:c=n.light&&n.dark?"media":void 0,rootSelector:d=":root",...u}=e,p=Object.keys(n)[0],h=r||(n.light&&p!=="light"?"light":p),y=Qse(s),{[h]:v,light:b,dark:_,...w}=n,T={...w};let k=v;if((h==="dark"&&!("dark"in n)||h==="light"&&!("light"in n))&&(k=!0),!k)throw new Error(Yc(21,h));const R=G1(T,k,u,h);b&&!T.light&&G1(T,b,void 0,"light"),_&&!T.dark&&G1(T,_,void 0,"dark");let M={defaultColorScheme:h,...R,cssVarPrefix:s,colorSchemeSelector:c,rootSelector:d,getCssVar:y,colorSchemes:T,font:{...Rse(R.typography),...R.font},spacing:Wse(u.spacing)};Object.keys(M.colorSchemes).forEach(V=>{const C=M.colorSchemes[V].palette,N=U=>{const L=U.split("-"),q=L[1],H=L[2];return y(U,C[q][H])};if(C.mode==="light"&&(ve(C.common,"background","#fff"),ve(C.common,"onBackground","#000")),C.mode==="dark"&&(ve(C.common,"background","#000"),ve(C.common,"onBackground","#fff")),Kse(C,["Alert","AppBar","Avatar","Button","Chip","FilledInput","LinearProgress","Skeleton","Slider","SnackbarContent","SpeedDialAction","StepConnector","StepContent","Switch","TableCell","Tooltip"]),C.mode==="light"){ve(C.Alert,"errorColor",_n(C.error.light,.6)),ve(C.Alert,"infoColor",_n(C.info.light,.6)),ve(C.Alert,"successColor",_n(C.success.light,.6)),ve(C.Alert,"warningColor",_n(C.warning.light,.6)),ve(C.Alert,"errorFilledBg",N("palette-error-main")),ve(C.Alert,"infoFilledBg",N("palette-info-main")),ve(C.Alert,"successFilledBg",N("palette-success-main")),ve(C.Alert,"warningFilledBg",N("palette-warning-main")),ve(C.Alert,"errorFilledColor",_a(()=>C.getContrastText(C.error.main))),ve(C.Alert,"infoFilledColor",_a(()=>C.getContrastText(C.info.main))),ve(C.Alert,"successFilledColor",_a(()=>C.getContrastText(C.success.main))),ve(C.Alert,"warningFilledColor",_a(()=>C.getContrastText(C.warning.main))),ve(C.Alert,"errorStandardBg",Sn(C.error.light,.9)),ve(C.Alert,"infoStandardBg",Sn(C.info.light,.9)),ve(C.Alert,"successStandardBg",Sn(C.success.light,.9)),ve(C.Alert,"warningStandardBg",Sn(C.warning.light,.9)),ve(C.Alert,"errorIconColor",N("palette-error-main")),ve(C.Alert,"infoIconColor",N("palette-info-main")),ve(C.Alert,"successIconColor",N("palette-success-main")),ve(C.Alert,"warningIconColor",N("palette-warning-main")),ve(C.AppBar,"defaultBg",N("palette-grey-100")),ve(C.Avatar,"defaultBg",N("palette-grey-400")),ve(C.Button,"inheritContainedBg",N("palette-grey-300")),ve(C.Button,"inheritContainedHoverBg",N("palette-grey-A100")),ve(C.Chip,"defaultBorder",N("palette-grey-400")),ve(C.Chip,"defaultAvatarColor",N("palette-grey-700")),ve(C.Chip,"defaultIconColor",N("palette-grey-700")),ve(C.FilledInput,"bg","rgba(0, 0, 0, 0.06)"),ve(C.FilledInput,"hoverBg","rgba(0, 0, 0, 0.09)"),ve(C.FilledInput,"disabledBg","rgba(0, 0, 0, 0.12)"),ve(C.LinearProgress,"primaryBg",Sn(C.primary.main,.62)),ve(C.LinearProgress,"secondaryBg",Sn(C.secondary.main,.62)),ve(C.LinearProgress,"errorBg",Sn(C.error.main,.62)),ve(C.LinearProgress,"infoBg",Sn(C.info.main,.62)),ve(C.LinearProgress,"successBg",Sn(C.success.main,.62)),ve(C.LinearProgress,"warningBg",Sn(C.warning.main,.62)),ve(C.Skeleton,"bg",`rgba(${N("palette-text-primaryChannel")} / 0.11)`),ve(C.Slider,"primaryTrack",Sn(C.primary.main,.62)),ve(C.Slider,"secondaryTrack",Sn(C.secondary.main,.62)),ve(C.Slider,"errorTrack",Sn(C.error.main,.62)),ve(C.Slider,"infoTrack",Sn(C.info.main,.62)),ve(C.Slider,"successTrack",Sn(C.success.main,.62)),ve(C.Slider,"warningTrack",Sn(C.warning.main,.62));const U=Hm(C.background.default,.8);ve(C.SnackbarContent,"bg",U),ve(C.SnackbarContent,"color",_a(()=>C.getContrastText(U))),ve(C.SpeedDialAction,"fabHoverBg",Hm(C.background.paper,.15)),ve(C.StepConnector,"border",N("palette-grey-400")),ve(C.StepContent,"border",N("palette-grey-400")),ve(C.Switch,"defaultColor",N("palette-common-white")),ve(C.Switch,"defaultDisabledColor",N("palette-grey-100")),ve(C.Switch,"primaryDisabledColor",Sn(C.primary.main,.62)),ve(C.Switch,"secondaryDisabledColor",Sn(C.secondary.main,.62)),ve(C.Switch,"errorDisabledColor",Sn(C.error.main,.62)),ve(C.Switch,"infoDisabledColor",Sn(C.info.main,.62)),ve(C.Switch,"successDisabledColor",Sn(C.success.main,.62)),ve(C.Switch,"warningDisabledColor",Sn(C.warning.main,.62)),ve(C.TableCell,"border",Sn(Um(C.divider,1),.88)),ve(C.Tooltip,"bg",Um(C.grey[700],.92))}if(C.mode==="dark"){ve(C.Alert,"errorColor",Sn(C.error.light,.6)),ve(C.Alert,"infoColor",Sn(C.info.light,.6)),ve(C.Alert,"successColor",Sn(C.success.light,.6)),ve(C.Alert,"warningColor",Sn(C.warning.light,.6)),ve(C.Alert,"errorFilledBg",N("palette-error-dark")),ve(C.Alert,"infoFilledBg",N("palette-info-dark")),ve(C.Alert,"successFilledBg",N("palette-success-dark")),ve(C.Alert,"warningFilledBg",N("palette-warning-dark")),ve(C.Alert,"errorFilledColor",_a(()=>C.getContrastText(C.error.dark))),ve(C.Alert,"infoFilledColor",_a(()=>C.getContrastText(C.info.dark))),ve(C.Alert,"successFilledColor",_a(()=>C.getContrastText(C.success.dark))),ve(C.Alert,"warningFilledColor",_a(()=>C.getContrastText(C.warning.dark))),ve(C.Alert,"errorStandardBg",_n(C.error.light,.9)),ve(C.Alert,"infoStandardBg",_n(C.info.light,.9)),ve(C.Alert,"successStandardBg",_n(C.success.light,.9)),ve(C.Alert,"warningStandardBg",_n(C.warning.light,.9)),ve(C.Alert,"errorIconColor",N("palette-error-main")),ve(C.Alert,"infoIconColor",N("palette-info-main")),ve(C.Alert,"successIconColor",N("palette-success-main")),ve(C.Alert,"warningIconColor",N("palette-warning-main")),ve(C.AppBar,"defaultBg",N("palette-grey-900")),ve(C.AppBar,"darkBg",N("palette-background-paper")),ve(C.AppBar,"darkColor",N("palette-text-primary")),ve(C.Avatar,"defaultBg",N("palette-grey-600")),ve(C.Button,"inheritContainedBg",N("palette-grey-800")),ve(C.Button,"inheritContainedHoverBg",N("palette-grey-700")),ve(C.Chip,"defaultBorder",N("palette-grey-700")),ve(C.Chip,"defaultAvatarColor",N("palette-grey-300")),ve(C.Chip,"defaultIconColor",N("palette-grey-300")),ve(C.FilledInput,"bg","rgba(255, 255, 255, 0.09)"),ve(C.FilledInput,"hoverBg","rgba(255, 255, 255, 0.13)"),ve(C.FilledInput,"disabledBg","rgba(255, 255, 255, 0.12)"),ve(C.LinearProgress,"primaryBg",_n(C.primary.main,.5)),ve(C.LinearProgress,"secondaryBg",_n(C.secondary.main,.5)),ve(C.LinearProgress,"errorBg",_n(C.error.main,.5)),ve(C.LinearProgress,"infoBg",_n(C.info.main,.5)),ve(C.LinearProgress,"successBg",_n(C.success.main,.5)),ve(C.LinearProgress,"warningBg",_n(C.warning.main,.5)),ve(C.Skeleton,"bg",`rgba(${N("palette-text-primaryChannel")} / 0.13)`),ve(C.Slider,"primaryTrack",_n(C.primary.main,.5)),ve(C.Slider,"secondaryTrack",_n(C.secondary.main,.5)),ve(C.Slider,"errorTrack",_n(C.error.main,.5)),ve(C.Slider,"infoTrack",_n(C.info.main,.5)),ve(C.Slider,"successTrack",_n(C.success.main,.5)),ve(C.Slider,"warningTrack",_n(C.warning.main,.5));const U=Hm(C.background.default,.98);ve(C.SnackbarContent,"bg",U),ve(C.SnackbarContent,"color",_a(()=>C.getContrastText(U))),ve(C.SpeedDialAction,"fabHoverBg",Hm(C.background.paper,.15)),ve(C.StepConnector,"border",N("palette-grey-600")),ve(C.StepContent,"border",N("palette-grey-600")),ve(C.Switch,"defaultColor",N("palette-grey-300")),ve(C.Switch,"defaultDisabledColor",N("palette-grey-600")),ve(C.Switch,"primaryDisabledColor",_n(C.primary.main,.55)),ve(C.Switch,"secondaryDisabledColor",_n(C.secondary.main,.55)),ve(C.Switch,"errorDisabledColor",_n(C.error.main,.55)),ve(C.Switch,"infoDisabledColor",_n(C.info.main,.55)),ve(C.Switch,"successDisabledColor",_n(C.success.main,.55)),ve(C.Switch,"warningDisabledColor",_n(C.warning.main,.55)),ve(C.TableCell,"border",_n(Um(C.divider,1),.68)),ve(C.Tooltip,"bg",Um(C.grey[700],.92))}ao(C.background,"default"),ao(C.background,"paper"),ao(C.common,"background"),ao(C.common,"onBackground"),ao(C,"divider"),Object.keys(C).forEach(U=>{const L=C[U];U!=="tonalOffset"&&L&&typeof L=="object"&&(L.main&&ve(C[U],"mainChannel",Hh(qh(L.main))),L.light&&ve(C[U],"lightChannel",Hh(qh(L.light))),L.dark&&ve(C[U],"darkChannel",Hh(qh(L.dark))),L.contrastText&&ve(C[U],"contrastTextChannel",Hh(qh(L.contrastText))),U==="text"&&(ao(C[U],"primary"),ao(C[U],"secondary")),U==="action"&&(L.active&&ao(C[U],"active"),L.selected&&ao(C[U],"selected")))})}),M=t.reduce((V,C)=>Ui(V,C),M);const E={prefix:s,disableCssColorScheme:i,shouldSkipGeneratingVar:l,getSelector:Yse(M)},{vars:O,generateThemeVars:P,generateStyleSheets:j}=bse(M,E);return M.vars=O,Object.entries(M.colorSchemes[M.defaultColorScheme]).forEach(([V,C])=>{M[V]=C}),M.generateThemeVars=P,M.generateStyleSheets=j,M.generateSpacing=function(){return bB(u.spacing,xE(this))},M.getColorSchemeSelector=_se(c),M.spacing=M.generateSpacing(),M.shouldSkipGeneratingVar=l,M.unstable_sxConfig={...tg,...u==null?void 0:u.unstable_sxConfig},M.unstable_sx=function(C){return Wc({sx:C,theme:this})},M.toRuntimeSource=PB,M}function o3(e,t,n){e.colorSchemes&&n&&(e.colorSchemes[t]={...n!==!0&&n,palette:OE({...n===!0?{}:n.palette,mode:t})})}function jE(e={},...t){const{palette:n,cssVariables:r=!1,colorSchemes:i=n?void 0:{light:!0},defaultColorScheme:s=n==null?void 0:n.mode,...l}=e,c=s||"light",d=i==null?void 0:i[c],u={...i,...n?{[c]:{...typeof d!="boolean"&&d,palette:n}}:void 0};if(r===!1){if(!("colorSchemes"in e))return wx(e,...t);let p=n;"palette"in e||u[c]&&(u[c]!==!0?p=u[c].palette:c==="dark"&&(p={mode:"dark"}));const h=wx({...e,palette:p},...t);return h.defaultColorScheme=c,h.colorSchemes=u,h.palette.mode==="light"&&(h.colorSchemes.light={...u.light!==!0&&u.light,palette:h.palette},o3(h,"dark",u.dark)),h.palette.mode==="dark"&&(h.colorSchemes.dark={...u.dark!==!0&&u.dark,palette:h.palette},o3(h,"light",u.light)),h}return!n&&!("light"in u)&&c==="light"&&(u.light=!0),Xse({...l,colorSchemes:u,defaultColorScheme:c,...typeof r!="boolean"&&r},...t)}const PE=jE(),wo="$$material";function VE(){const e=SB(PE);return e[wo]||e}function Jse(e){return g.jsx(Uie,{...e,defaultTheme:PE,themeId:wo})}function Zse(e){return e!=="ownerState"&&e!=="theme"&&e!=="sx"&&e!=="as"}const DE=e=>Zse(e)&&e!=="classes",Bn=Yie({themeId:wo,defaultTheme:PE,rootShouldForwardProp:DE});function I1e(e){return function(n){return g.jsx(Jse,{styles:typeof e=="function"?r=>e({theme:r,...n}):e})}}function eae(){return Oie}const qs=use;function vi(e){return cse(e)}function tae(e){return mi("MuiSvgIcon",e)}yi("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const nae=e=>{const{color:t,fontSize:n,classes:r}=e,i={root:["root",t!=="inherit"&&`color${qt(t)}`,`fontSize${qt(n)}`]};return Ii(i,tae,r)},rae=Bn("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.color!=="inherit"&&t[`color${qt(n.color)}`],t[`fontSize${qt(n.fontSize)}`]]}})(qs(({theme:e})=>{var t,n,r,i,s,l,c,d,u,p,h,y,v,b;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",flexShrink:0,transition:(i=(t=e.transitions)==null?void 0:t.create)==null?void 0:i.call(t,"fill",{duration:(r=(n=(e.vars??e).transitions)==null?void 0:n.duration)==null?void 0:r.shorter}),variants:[{props:_=>!_.hasSvgAsChild,style:{fill:"currentColor"}},{props:{fontSize:"inherit"},style:{fontSize:"inherit"}},{props:{fontSize:"small"},style:{fontSize:((l=(s=e.typography)==null?void 0:s.pxToRem)==null?void 0:l.call(s,20))||"1.25rem"}},{props:{fontSize:"medium"},style:{fontSize:((d=(c=e.typography)==null?void 0:c.pxToRem)==null?void 0:d.call(c,24))||"1.5rem"}},{props:{fontSize:"large"},style:{fontSize:((p=(u=e.typography)==null?void 0:u.pxToRem)==null?void 0:p.call(u,35))||"2.1875rem"}},...Object.entries((e.vars??e).palette).filter(([,_])=>_&&_.main).map(([_])=>{var w,T;return{props:{color:_},style:{color:(T=(w=(e.vars??e).palette)==null?void 0:w[_])==null?void 0:T.main}}}),{props:{color:"action"},style:{color:(y=(h=(e.vars??e).palette)==null?void 0:h.action)==null?void 0:y.active}},{props:{color:"disabled"},style:{color:(b=(v=(e.vars??e).palette)==null?void 0:v.action)==null?void 0:b.disabled}},{props:{color:"inherit"},style:{color:void 0}}]}})),Tx=x.forwardRef(function(t,n){const r=vi({props:t,name:"MuiSvgIcon"}),{children:i,className:s,color:l="inherit",component:c="svg",fontSize:d="medium",htmlColor:u,inheritViewBox:p=!1,titleAccess:h,viewBox:y="0 0 24 24",...v}=r,b=x.isValidElement(i)&&i.type==="svg",_={...r,color:l,component:c,fontSize:d,instanceFontSize:t.fontSize,inheritViewBox:p,viewBox:y,hasSvgAsChild:b},w={};p||(w.viewBox=y);const T=nae(_);return g.jsxs(rae,{as:c,className:Nt(T.root,s),focusable:"false",color:u,"aria-hidden":h?void 0:!0,role:h?"img":void 0,ref:n,...w,...v,...b&&i.props,ownerState:_,children:[b?i.props.children:i,h?g.jsx("title",{children:h}):null]})});Tx.muiName="SvgIcon";function Wt(e,t){function n(r,i){return g.jsx(Tx,{"data-testid":`${t}Icon`,ref:i,...r,children:e})}return n.muiName=Tx.muiName,x.memo(x.forwardRef(n))}const iae=Wt(g.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m1 17h-2v-2h2zm2.07-7.75-.9.92C13.45 12.9 13 13.5 13 15h-2v-.5c0-1.1.45-2.1 1.17-2.83l1.24-1.26c.37-.36.59-.86.59-1.41 0-1.1-.9-2-2-2s-2 .9-2 2H8c0-2.21 1.79-4 4-4s4 1.79 4 4c0 .88-.36 1.68-.93 2.25"}),"Help"),sae=Wt(g.jsx("path",{d:"M11 18h2v-2h-2zm1-16C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m0-14c-2.21 0-4 1.79-4 4h2c0-1.1.9-2 2-2s2 .9 2 2c0 2-3 1.75-3 5h2c0-2.25 3-2.5 3-5 0-2.21-1.79-4-4-4"}),"HelpOutline"),R0=Wt(g.jsx("path",{d:"M15 21h-2v-2h2zm-2-7h-2v5h2zm8-2h-2v4h2zm-2-2h-2v2h2zM7 12H5v2h2zm-2-2H3v2h2zm7-5h2V3h-2zm-7.5-.5v3h3v-3zM9 9H3V3h6zm-4.5 7.5v3h3v-3zM9 21H3v-6h6zm7.5-16.5v3h3v-3zM21 9h-6V3h6zm-2 10v-3h-4v2h2v3h4v-2zm-2-7h-4v2h4zm-4-2H7v2h2v2h2v-2h2zm1-1V7h-2V5h-2v4zM6.75 5.25h-1.5v1.5h1.5zm0 12h-1.5v1.5h1.5zm12-12h-1.5v1.5h1.5z"}),"QrCode2");function aae(e){return typeof e.main=="string"}function oae(e,t=[]){if(!aae(e))return!1;for(const n of t)if(!e.hasOwnProperty(n)||typeof e[n]!="string")return!1;return!0}function Rp(e=[]){return([,t])=>t&&oae(t,e)}class I0{constructor(){yh(this,"mountEffect",()=>{this.shouldMount&&!this.didMount&&this.ref.current!==null&&(this.didMount=!0,this.mounted.resolve())});this.ref={current:null},this.mounted=null,this.didMount=!1,this.shouldMount=!1,this.setShouldMount=null}static create(){return new I0}static use(){const t=pB(I0.create).current,[n,r]=x.useState(!1);return t.shouldMount=n,t.setShouldMount=r,x.useEffect(t.mountEffect,[n]),t}mount(){return this.mounted||(this.mounted=cae(),this.shouldMount=!0,this.setShouldMount(this.shouldMount)),this.mounted}start(...t){this.mount().then(()=>{var n;return(n=this.ref.current)==null?void 0:n.start(...t)})}stop(...t){this.mount().then(()=>{var n;return(n=this.ref.current)==null?void 0:n.stop(...t)})}pulsate(...t){this.mount().then(()=>{var n;return(n=this.ref.current)==null?void 0:n.pulsate(...t)})}}function lae(){return I0.use()}function cae(){let e,t;const n=new Promise((r,i)=>{e=r,t=i});return n.resolve=e,n.reject=t,n}function BB(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}function Cx(e,t){return Cx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},Cx(e,t)}function NB(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,Cx(e,t)}var Y1={exports:{}},ui={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l3;function uae(){if(l3)return ui;l3=1;var e=Zc();function t(d){var u="https://react.dev/errors/"+d;if(1<arguments.length){u+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)u+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+d+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function s(d,u,p){var h=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:h==null?null:""+h,children:d,containerInfo:u,implementation:p}}var l=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(d,u){if(d==="font")return"";if(typeof u=="string")return u==="use-credentials"?u:""}return ui.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,ui.createPortal=function(d,u){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!u||u.nodeType!==1&&u.nodeType!==9&&u.nodeType!==11)throw Error(t(299));return s(d,u,null,p)},ui.flushSync=function(d){var u=l.T,p=r.p;try{if(l.T=null,r.p=2,d)return d()}finally{l.T=u,r.p=p,r.d.f()}},ui.preconnect=function(d,u){typeof d=="string"&&(u?(u=u.crossOrigin,u=typeof u=="string"?u==="use-credentials"?u:"":void 0):u=null,r.d.C(d,u))},ui.prefetchDNS=function(d){typeof d=="string"&&r.d.D(d)},ui.preinit=function(d,u){if(typeof d=="string"&&u&&typeof u.as=="string"){var p=u.as,h=c(p,u.crossOrigin),y=typeof u.integrity=="string"?u.integrity:void 0,v=typeof u.fetchPriority=="string"?u.fetchPriority:void 0;p==="style"?r.d.S(d,typeof u.precedence=="string"?u.precedence:void 0,{crossOrigin:h,integrity:y,fetchPriority:v}):p==="script"&&r.d.X(d,{crossOrigin:h,integrity:y,fetchPriority:v,nonce:typeof u.nonce=="string"?u.nonce:void 0})}},ui.preinitModule=function(d,u){if(typeof d=="string")if(typeof u=="object"&&u!==null){if(u.as==null||u.as==="script"){var p=c(u.as,u.crossOrigin);r.d.M(d,{crossOrigin:p,integrity:typeof u.integrity=="string"?u.integrity:void 0,nonce:typeof u.nonce=="string"?u.nonce:void 0})}}else u==null&&r.d.M(d)},ui.preload=function(d,u){if(typeof d=="string"&&typeof u=="object"&&u!==null&&typeof u.as=="string"){var p=u.as,h=c(p,u.crossOrigin);r.d.L(d,p,{crossOrigin:h,integrity:typeof u.integrity=="string"?u.integrity:void 0,nonce:typeof u.nonce=="string"?u.nonce:void 0,type:typeof u.type=="string"?u.type:void 0,fetchPriority:typeof u.fetchPriority=="string"?u.fetchPriority:void 0,referrerPolicy:typeof u.referrerPolicy=="string"?u.referrerPolicy:void 0,imageSrcSet:typeof u.imageSrcSet=="string"?u.imageSrcSet:void 0,imageSizes:typeof u.imageSizes=="string"?u.imageSizes:void 0,media:typeof u.media=="string"?u.media:void 0})}},ui.preloadModule=function(d,u){if(typeof d=="string")if(u){var p=c(u.as,u.crossOrigin);r.d.m(d,{as:typeof u.as=="string"&&u.as!=="script"?u.as:void 0,crossOrigin:p,integrity:typeof u.integrity=="string"?u.integrity:void 0})}else r.d.m(d)},ui.requestFormReset=function(d){r.d.r(d)},ui.unstable_batchedUpdates=function(d,u){return d(u)},ui.useFormState=function(d,u,p){return l.H.useFormState(d,u,p)},ui.useFormStatus=function(){return l.H.useHostTransitionStatus()},ui.version="19.0.0",ui}var c3;function LB(){if(c3)return Y1.exports;c3=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Y1.exports=uae(),Y1.exports}var yf=LB();const qm=Pr(yf),u3={disabled:!1},O0=Xe.createContext(null);var dae=function(t){return t.scrollTop},Gh="unmounted",gc="exited",mc="entering",od="entered",kx="exiting",Po=function(e){NB(t,e);function t(r,i){var s;s=e.call(this,r,i)||this;var l=i,c=l&&!l.isMounting?r.enter:r.appear,d;return s.appearStatus=null,r.in?c?(d=gc,s.appearStatus=mc):d=od:r.unmountOnExit||r.mountOnEnter?d=Gh:d=gc,s.state={status:d},s.nextCallback=null,s}t.getDerivedStateFromProps=function(i,s){var l=i.in;return l&&s.status===Gh?{status:gc}:null};var n=t.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(i){var s=null;if(i!==this.props){var l=this.state.status;this.props.in?l!==mc&&l!==od&&(s=mc):(l===mc||l===od)&&(s=kx)}this.updateStatus(!1,s)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var i=this.props.timeout,s,l,c;return s=l=c=i,i!=null&&typeof i!="number"&&(s=i.exit,l=i.enter,c=i.appear!==void 0?i.appear:l),{exit:s,enter:l,appear:c}},n.updateStatus=function(i,s){if(i===void 0&&(i=!1),s!==null)if(this.cancelNextCallback(),s===mc){if(this.props.unmountOnExit||this.props.mountOnEnter){var l=this.props.nodeRef?this.props.nodeRef.current:qm.findDOMNode(this);l&&dae(l)}this.performEnter(i)}else this.performExit();else this.props.unmountOnExit&&this.state.status===gc&&this.setState({status:Gh})},n.performEnter=function(i){var s=this,l=this.props.enter,c=this.context?this.context.isMounting:i,d=this.props.nodeRef?[c]:[qm.findDOMNode(this),c],u=d[0],p=d[1],h=this.getTimeouts(),y=c?h.appear:h.enter;if(!i&&!l||u3.disabled){this.safeSetState({status:od},function(){s.props.onEntered(u)});return}this.props.onEnter(u,p),this.safeSetState({status:mc},function(){s.props.onEntering(u,p),s.onTransitionEnd(y,function(){s.safeSetState({status:od},function(){s.props.onEntered(u,p)})})})},n.performExit=function(){var i=this,s=this.props.exit,l=this.getTimeouts(),c=this.props.nodeRef?void 0:qm.findDOMNode(this);if(!s||u3.disabled){this.safeSetState({status:gc},function(){i.props.onExited(c)});return}this.props.onExit(c),this.safeSetState({status:kx},function(){i.props.onExiting(c),i.onTransitionEnd(l.exit,function(){i.safeSetState({status:gc},function(){i.props.onExited(c)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(i,s){s=this.setNextCallback(s),this.setState(i,s)},n.setNextCallback=function(i){var s=this,l=!0;return this.nextCallback=function(c){l&&(l=!1,s.nextCallback=null,i(c))},this.nextCallback.cancel=function(){l=!1},this.nextCallback},n.onTransitionEnd=function(i,s){this.setNextCallback(s);var l=this.props.nodeRef?this.props.nodeRef.current:qm.findDOMNode(this),c=i==null&&!this.props.addEndListener;if(!l||c){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var d=this.props.nodeRef?[this.nextCallback]:[l,this.nextCallback],u=d[0],p=d[1];this.props.addEndListener(u,p)}i!=null&&setTimeout(this.nextCallback,i)},n.render=function(){var i=this.state.status;if(i===Gh)return null;var s=this.props,l=s.children;s.in,s.mountOnEnter,s.unmountOnExit,s.appear,s.enter,s.exit,s.timeout,s.addEndListener,s.onEnter,s.onEntering,s.onEntered,s.onExit,s.onExiting,s.onExited,s.nodeRef;var c=BB(s,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return Xe.createElement(O0.Provider,{value:null},typeof l=="function"?l(i,c):Xe.cloneElement(Xe.Children.only(l),c))},t}(Xe.Component);Po.contextType=O0;Po.propTypes={};function td(){}Po.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:td,onEntering:td,onEntered:td,onExit:td,onExiting:td,onExited:td};Po.UNMOUNTED=Gh;Po.EXITED=gc;Po.ENTERING=mc;Po.ENTERED=od;Po.EXITING=kx;function fae(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function BE(e,t){var n=function(s){return t&&x.isValidElement(s)?t(s):s},r=Object.create(null);return e&&x.Children.map(e,function(i){return i}).forEach(function(i){r[i.key]=n(i)}),r}function hae(e,t){e=e||{},t=t||{};function n(p){return p in t?t[p]:e[p]}var r=Object.create(null),i=[];for(var s in e)s in t?i.length&&(r[s]=i,i=[]):i.push(s);var l,c={};for(var d in t){if(r[d])for(l=0;l<r[d].length;l++){var u=r[d][l];c[r[d][l]]=n(u)}c[d]=n(d)}for(l=0;l<i.length;l++)c[i[l]]=n(i[l]);return c}function wc(e,t,n){return n[t]!=null?n[t]:e.props[t]}function pae(e,t){return BE(e.children,function(n){return x.cloneElement(n,{onExited:t.bind(null,n),in:!0,appear:wc(n,"appear",e),enter:wc(n,"enter",e),exit:wc(n,"exit",e)})})}function gae(e,t,n){var r=BE(e.children),i=hae(t,r);return Object.keys(i).forEach(function(s){var l=i[s];if(x.isValidElement(l)){var c=s in t,d=s in r,u=t[s],p=x.isValidElement(u)&&!u.props.in;d&&(!c||p)?i[s]=x.cloneElement(l,{onExited:n.bind(null,l),in:!0,exit:wc(l,"exit",e),enter:wc(l,"enter",e)}):!d&&c&&!p?i[s]=x.cloneElement(l,{in:!1}):d&&c&&x.isValidElement(u)&&(i[s]=x.cloneElement(l,{onExited:n.bind(null,l),in:u.props.in,exit:wc(l,"exit",e),enter:wc(l,"enter",e)}))}}),i}var mae=Object.values||function(e){return Object.keys(e).map(function(t){return e[t]})},yae={component:"div",childFactory:function(t){return t}},NE=function(e){NB(t,e);function t(r,i){var s;s=e.call(this,r,i)||this;var l=s.handleExited.bind(fae(s));return s.state={contextValue:{isMounting:!0},handleExited:l,firstRender:!0},s}var n=t.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},t.getDerivedStateFromProps=function(i,s){var l=s.children,c=s.handleExited,d=s.firstRender;return{children:d?pae(i,c):gae(i,l,c),firstRender:!1}},n.handleExited=function(i,s){var l=BE(this.props.children);i.key in l||(i.props.onExited&&i.props.onExited(s),this.mounted&&this.setState(function(c){var d=S0({},c.children);return delete d[i.key],{children:d}}))},n.render=function(){var i=this.props,s=i.component,l=i.childFactory,c=BB(i,["component","childFactory"]),d=this.state.contextValue,u=mae(this.state.children).map(l);return delete c.appear,delete c.enter,delete c.exit,s===null?Xe.createElement(O0.Provider,{value:d},u):Xe.createElement(O0.Provider,{value:d},Xe.createElement(s,c,u))},t}(Xe.Component);NE.propTypes={};NE.defaultProps=yae;function vae(e){const{className:t,classes:n,pulsate:r=!1,rippleX:i,rippleY:s,rippleSize:l,in:c,onExited:d,timeout:u}=e,[p,h]=x.useState(!1),y=Nt(t,n.ripple,n.rippleVisible,r&&n.ripplePulsate),v={width:l,height:l,top:-(l/2)+s,left:-(l/2)+i},b=Nt(n.child,p&&n.childLeaving,r&&n.childPulsate);return!c&&!p&&h(!0),x.useEffect(()=>{if(!c&&d!=null){const _=setTimeout(d,u);return()=>{clearTimeout(_)}}},[d,c,u]),g.jsx("span",{className:y,style:v,children:g.jsx("span",{className:b})})}const Rs=yi("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),Mx=550,Aae=80,bae=lu`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`,_ae=lu`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`,Sae=lu`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`,xae=Bn("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),wae=Bn(vae,{name:"MuiTouchRipple",slot:"Ripple"})`
  opacity: 0;
  position: absolute;

  &.${Rs.rippleVisible} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${bae};
    animation-duration: ${Mx}ms;
    animation-timing-function: ${({theme:e})=>e.transitions.easing.easeInOut};
  }

  &.${Rs.ripplePulsate} {
    animation-duration: ${({theme:e})=>e.transitions.duration.shorter}ms;
  }

  & .${Rs.child} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${Rs.childLeaving} {
    opacity: 0;
    animation-name: ${_ae};
    animation-duration: ${Mx}ms;
    animation-timing-function: ${({theme:e})=>e.transitions.easing.easeInOut};
  }

  & .${Rs.childPulsate} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${Sae};
    animation-duration: 2500ms;
    animation-timing-function: ${({theme:e})=>e.transitions.easing.easeInOut};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`,Eae=x.forwardRef(function(t,n){const r=vi({props:t,name:"MuiTouchRipple"}),{center:i=!1,classes:s={},className:l,...c}=r,[d,u]=x.useState([]),p=x.useRef(0),h=x.useRef(null);x.useEffect(()=>{h.current&&(h.current(),h.current=null)},[d]);const y=x.useRef(!1),v=Rre(),b=x.useRef(null),_=x.useRef(null),w=x.useCallback(M=>{const{pulsate:E,rippleX:O,rippleY:P,rippleSize:j,cb:V}=M;u(C=>[...C,g.jsx(wae,{classes:{ripple:Nt(s.ripple,Rs.ripple),rippleVisible:Nt(s.rippleVisible,Rs.rippleVisible),ripplePulsate:Nt(s.ripplePulsate,Rs.ripplePulsate),child:Nt(s.child,Rs.child),childLeaving:Nt(s.childLeaving,Rs.childLeaving),childPulsate:Nt(s.childPulsate,Rs.childPulsate)},timeout:Mx,pulsate:E,rippleX:O,rippleY:P,rippleSize:j},p.current)]),p.current+=1,h.current=V},[s]),T=x.useCallback((M={},E={},O=()=>{})=>{const{pulsate:P=!1,center:j=i||E.pulsate,fakeElement:V=!1}=E;if((M==null?void 0:M.type)==="mousedown"&&y.current){y.current=!1;return}(M==null?void 0:M.type)==="touchstart"&&(y.current=!0);const C=V?null:_.current,N=C?C.getBoundingClientRect():{width:0,height:0,left:0,top:0};let U,L,q;if(j||M===void 0||M.clientX===0&&M.clientY===0||!M.clientX&&!M.touches)U=Math.round(N.width/2),L=Math.round(N.height/2);else{const{clientX:H,clientY:D}=M.touches&&M.touches.length>0?M.touches[0]:M;U=Math.round(H-N.left),L=Math.round(D-N.top)}if(j)q=Math.sqrt((2*N.width**2+N.height**2)/3),q%2===0&&(q+=1);else{const H=Math.max(Math.abs((C?C.clientWidth:0)-U),U)*2+2,D=Math.max(Math.abs((C?C.clientHeight:0)-L),L)*2+2;q=Math.sqrt(H**2+D**2)}M!=null&&M.touches?b.current===null&&(b.current=()=>{w({pulsate:P,rippleX:U,rippleY:L,rippleSize:q,cb:O})},v.start(Aae,()=>{b.current&&(b.current(),b.current=null)})):w({pulsate:P,rippleX:U,rippleY:L,rippleSize:q,cb:O})},[i,w,v]),k=x.useCallback(()=>{T({},{pulsate:!0})},[T]),R=x.useCallback((M,E)=>{if(v.clear(),(M==null?void 0:M.type)==="touchend"&&b.current){b.current(),b.current=null,v.start(0,()=>{R(M,E)});return}b.current=null,u(O=>O.length>0?O.slice(1):O),h.current=E},[v]);return x.useImperativeHandle(n,()=>({pulsate:k,start:T,stop:R}),[k,T,R]),g.jsx(xae,{className:Nt(Rs.root,s.root,l),ref:_,...c,children:g.jsx(NE,{component:null,exit:!0,children:d})})});function Tae(e){return mi("MuiButtonBase",e)}const Cae=yi("MuiButtonBase",["root","disabled","focusVisible"]),kae=e=>{const{disabled:t,focusVisible:n,focusVisibleClassName:r,classes:i}=e,l=Ii({root:["root",t&&"disabled",n&&"focusVisible"]},Tae,i);return n&&r&&(l.root+=` ${r}`),l},Mae=Bn("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${Cae.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),FB=x.forwardRef(function(t,n){const r=vi({props:t,name:"MuiButtonBase"}),{action:i,centerRipple:s=!1,children:l,className:c,component:d="button",disabled:u=!1,disableRipple:p=!1,disableTouchRipple:h=!1,focusRipple:y=!1,focusVisibleClassName:v,LinkComponent:b="a",onBlur:_,onClick:w,onContextMenu:T,onDragLeave:k,onFocus:R,onFocusVisible:M,onKeyDown:E,onKeyUp:O,onMouseDown:P,onMouseLeave:j,onMouseUp:V,onTouchEnd:C,onTouchMove:N,onTouchStart:U,tabIndex:L=0,TouchRippleProps:q,touchRippleRef:H,type:D,...K}=r,Q=x.useRef(null),J=lae(),B=Cl(J.ref,H),[G,ee]=x.useState(!1);u&&G&&ee(!1),x.useImperativeHandle(i,()=>({focusVisible:()=>{ee(!0),Q.current.focus()}}),[]);const ue=J.shouldMount&&!p&&!u;x.useEffect(()=>{G&&y&&!p&&J.pulsate()},[p,y,G,J]);const F=oo(J,"start",P,h),ge=oo(J,"stop",T,h),se=oo(J,"stop",k,h),Se=oo(J,"stop",V,h),Me=oo(J,"stop",He=>{G&&He.preventDefault(),j&&j(He)},h),Re=oo(J,"start",U,h),ye=oo(J,"stop",C,h),je=oo(J,"stop",N,h),Ge=oo(J,"stop",He=>{HI(He.target)||ee(!1),_&&_(He)},!1),Fe=Rd(He=>{Q.current||(Q.current=He.currentTarget),HI(He.target)&&(ee(!0),M&&M(He)),R&&R(He)}),Ve=()=>{const He=Q.current;return d&&d!=="button"&&!(He.tagName==="A"&&He.href)},ze=Rd(He=>{y&&!He.repeat&&G&&He.key===" "&&J.stop(He,()=>{J.start(He)}),He.target===He.currentTarget&&Ve()&&He.key===" "&&He.preventDefault(),E&&E(He),He.target===He.currentTarget&&Ve()&&He.key==="Enter"&&!u&&(He.preventDefault(),w&&w(He))}),ot=Rd(He=>{y&&He.key===" "&&G&&!He.defaultPrevented&&J.stop(He,()=>{J.pulsate(He)}),O&&O(He),w&&He.target===He.currentTarget&&Ve()&&He.key===" "&&!He.defaultPrevented&&w(He)});let Qe=d;Qe==="button"&&(K.href||K.to)&&(Qe=b);const Ue={};Qe==="button"?(Ue.type=D===void 0?"button":D,Ue.disabled=u):(!K.href&&!K.to&&(Ue.role="button"),u&&(Ue["aria-disabled"]=u));const pt=Cl(n,Q),Jt={...r,centerRipple:s,component:d,disabled:u,disableRipple:p,disableTouchRipple:h,focusRipple:y,tabIndex:L,focusVisible:G},hn=kae(Jt);return g.jsxs(Mae,{as:Qe,className:Nt(hn.root,c),ownerState:Jt,onBlur:Ge,onClick:w,onContextMenu:ge,onFocus:Fe,onKeyDown:ze,onKeyUp:ot,onMouseDown:F,onMouseLeave:Me,onMouseUp:Se,onDragLeave:se,onTouchEnd:ye,onTouchMove:je,onTouchStart:Re,ref:pt,tabIndex:u?-1:L,type:D,...Ue,...K,children:[l,ue?g.jsx(Eae,{ref:B,center:s,...q}):null]})});function oo(e,t,n,r=!1){return Rd(i=>(n&&n(i),r||e[t](i),!0))}function Rae(e){return mi("MuiIconButton",e)}const Iae=yi("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge"]),Oae=e=>{const{classes:t,disabled:n,color:r,edge:i,size:s}=e,l={root:["root",n&&"disabled",r!=="default"&&`color${qt(r)}`,i&&`edge${qt(i)}`,`size${qt(s)}`]};return Ii(l,Rae,t)},jae=Bn(FB,{name:"MuiIconButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.color!=="default"&&t[`color${qt(n.color)}`],n.edge&&t[`edge${qt(n.edge)}`],t[`size${qt(n.size)}`]]}})(qs(({theme:e})=>({textAlign:"center",flex:"0 0 auto",fontSize:e.typography.pxToRem(24),padding:8,borderRadius:"50%",color:(e.vars||e).palette.action.active,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shortest}),variants:[{props:t=>!t.disableRipple,style:{"--IconButton-hoverBg":e.vars?`rgba(${e.vars.palette.action.activeChannel} / ${e.vars.palette.action.hoverOpacity})`:sa(e.palette.action.active,e.palette.action.hoverOpacity),"&:hover":{backgroundColor:"var(--IconButton-hoverBg)","@media (hover: none)":{backgroundColor:"transparent"}}}},{props:{edge:"start"},style:{marginLeft:-12}},{props:{edge:"start",size:"small"},style:{marginLeft:-3}},{props:{edge:"end"},style:{marginRight:-12}},{props:{edge:"end",size:"small"},style:{marginRight:-3}}]})),qs(({theme:e})=>({variants:[{props:{color:"inherit"},style:{color:"inherit"}},...Object.entries(e.palette).filter(Rp()).map(([t])=>({props:{color:t},style:{color:(e.vars||e).palette[t].main}})),...Object.entries(e.palette).filter(Rp()).map(([t])=>({props:{color:t},style:{"--IconButton-hoverBg":e.vars?`rgba(${(e.vars||e).palette[t].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:sa((e.vars||e).palette[t].main,e.palette.action.hoverOpacity)}})),{props:{size:"small"},style:{padding:5,fontSize:e.typography.pxToRem(18)}},{props:{size:"large"},style:{padding:12,fontSize:e.typography.pxToRem(28)}}],[`&.${Iae.disabled}`]:{backgroundColor:"transparent",color:(e.vars||e).palette.action.disabled}}))),Nv=x.forwardRef(function(t,n){const r=vi({props:t,name:"MuiIconButton"}),{edge:i=!1,children:s,className:l,color:c="default",disabled:d=!1,disableFocusRipple:u=!1,size:p="medium",...h}=r,y={...r,edge:i,color:c,disabled:d,disableFocusRipple:u,size:p},v=Oae(y);return g.jsx(jae,{className:Nt(v.root,l),centerRipple:!0,focusRipple:!u,disabled:d,ref:n,...h,ownerState:y,children:s})}),Qd=Math.min,jc=Math.max,j0=Math.round,Gm=Math.floor,Ml=e=>({x:e,y:e}),Pae={left:"right",right:"left",bottom:"top",top:"bottom"},Vae={start:"end",end:"start"};function Rx(e,t,n){return jc(e,Qd(t,n))}function ng(e,t){return typeof e=="function"?e(t):e}function Qc(e){return e.split("-")[0]}function rg(e){return e.split("-")[1]}function zB(e){return e==="x"?"y":"x"}function LE(e){return e==="y"?"height":"width"}function Xd(e){return["top","bottom"].includes(Qc(e))?"y":"x"}function FE(e){return zB(Xd(e))}function Dae(e,t,n){n===void 0&&(n=!1);const r=rg(e),i=FE(e),s=LE(i);let l=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[s]>t.floating[s]&&(l=P0(l)),[l,P0(l)]}function Bae(e){const t=P0(e);return[Ix(e),t,Ix(t)]}function Ix(e){return e.replace(/start|end/g,t=>Vae[t])}function Nae(e,t,n){const r=["left","right"],i=["right","left"],s=["top","bottom"],l=["bottom","top"];switch(e){case"top":case"bottom":return n?t?i:r:t?r:i;case"left":case"right":return t?s:l;default:return[]}}function Lae(e,t,n,r){const i=rg(e);let s=Nae(Qc(e),n==="start",r);return i&&(s=s.map(l=>l+"-"+i),t&&(s=s.concat(s.map(Ix)))),s}function P0(e){return e.replace(/left|right|bottom|top/g,t=>Pae[t])}function Fae(e){return{top:0,right:0,bottom:0,left:0,...e}}function $B(e){return typeof e!="number"?Fae(e):{top:e,right:e,bottom:e,left:e}}function V0(e){const{x:t,y:n,width:r,height:i}=e;return{width:r,height:i,top:n,left:t,right:t+r,bottom:n+i,x:t,y:n}}function d3(e,t,n){let{reference:r,floating:i}=e;const s=Xd(t),l=FE(t),c=LE(l),d=Qc(t),u=s==="y",p=r.x+r.width/2-i.width/2,h=r.y+r.height/2-i.height/2,y=r[c]/2-i[c]/2;let v;switch(d){case"top":v={x:p,y:r.y-i.height};break;case"bottom":v={x:p,y:r.y+r.height};break;case"right":v={x:r.x+r.width,y:h};break;case"left":v={x:r.x-i.width,y:h};break;default:v={x:r.x,y:r.y}}switch(rg(t)){case"start":v[l]-=y*(n&&u?-1:1);break;case"end":v[l]+=y*(n&&u?-1:1);break}return v}const zae=async(e,t,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:s=[],platform:l}=n,c=s.filter(Boolean),d=await(l.isRTL==null?void 0:l.isRTL(t));let u=await l.getElementRects({reference:e,floating:t,strategy:i}),{x:p,y:h}=d3(u,r,d),y=r,v={},b=0;for(let _=0;_<c.length;_++){const{name:w,fn:T}=c[_],{x:k,y:R,data:M,reset:E}=await T({x:p,y:h,initialPlacement:r,placement:y,strategy:i,middlewareData:v,rects:u,platform:l,elements:{reference:e,floating:t}});p=k??p,h=R??h,v={...v,[w]:{...v[w],...M}},E&&b<=50&&(b++,typeof E=="object"&&(E.placement&&(y=E.placement),E.rects&&(u=E.rects===!0?await l.getElementRects({reference:e,floating:t,strategy:i}):E.rects),{x:p,y:h}=d3(u,y,d)),_=-1)}return{x:p,y:h,placement:y,strategy:i,middlewareData:v}};async function UB(e,t){var n;t===void 0&&(t={});const{x:r,y:i,platform:s,rects:l,elements:c,strategy:d}=e,{boundary:u="clippingAncestors",rootBoundary:p="viewport",elementContext:h="floating",altBoundary:y=!1,padding:v=0}=ng(t,e),b=$B(v),w=c[y?h==="floating"?"reference":"floating":h],T=V0(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(w)))==null||n?w:w.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(c.floating)),boundary:u,rootBoundary:p,strategy:d})),k=h==="floating"?{x:r,y:i,width:l.floating.width,height:l.floating.height}:l.reference,R=await(s.getOffsetParent==null?void 0:s.getOffsetParent(c.floating)),M=await(s.isElement==null?void 0:s.isElement(R))?await(s.getScale==null?void 0:s.getScale(R))||{x:1,y:1}:{x:1,y:1},E=V0(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:c,rect:k,offsetParent:R,strategy:d}):k);return{top:(T.top-E.top+b.top)/M.y,bottom:(E.bottom-T.bottom+b.bottom)/M.y,left:(T.left-E.left+b.left)/M.x,right:(E.right-T.right+b.right)/M.x}}const $ae=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:i,rects:s,platform:l,elements:c,middlewareData:d}=t,{element:u,padding:p=0}=ng(e,t)||{};if(u==null)return{};const h=$B(p),y={x:n,y:r},v=FE(i),b=LE(v),_=await l.getDimensions(u),w=v==="y",T=w?"top":"left",k=w?"bottom":"right",R=w?"clientHeight":"clientWidth",M=s.reference[b]+s.reference[v]-y[v]-s.floating[b],E=y[v]-s.reference[v],O=await(l.getOffsetParent==null?void 0:l.getOffsetParent(u));let P=O?O[R]:0;(!P||!await(l.isElement==null?void 0:l.isElement(O)))&&(P=c.floating[R]||s.floating[b]);const j=M/2-E/2,V=P/2-_[b]/2-1,C=Qd(h[T],V),N=Qd(h[k],V),U=C,L=P-_[b]-N,q=P/2-_[b]/2+j,H=Rx(U,q,L),D=!d.arrow&&rg(i)!=null&&q!==H&&s.reference[b]/2-(q<U?C:N)-_[b]/2<0,K=D?q<U?q-U:q-L:0;return{[v]:y[v]+K,data:{[v]:H,centerOffset:q-H-K,...D&&{alignmentOffset:K}},reset:D}}}),Uae=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:i,middlewareData:s,rects:l,initialPlacement:c,platform:d,elements:u}=t,{mainAxis:p=!0,crossAxis:h=!0,fallbackPlacements:y,fallbackStrategy:v="bestFit",fallbackAxisSideDirection:b="none",flipAlignment:_=!0,...w}=ng(e,t);if((n=s.arrow)!=null&&n.alignmentOffset)return{};const T=Qc(i),k=Xd(c),R=Qc(c)===c,M=await(d.isRTL==null?void 0:d.isRTL(u.floating)),E=y||(R||!_?[P0(c)]:Bae(c)),O=b!=="none";!y&&O&&E.push(...Lae(c,_,b,M));const P=[c,...E],j=await UB(t,w),V=[];let C=((r=s.flip)==null?void 0:r.overflows)||[];if(p&&V.push(j[T]),h){const q=Dae(i,l,M);V.push(j[q[0]],j[q[1]])}if(C=[...C,{placement:i,overflows:V}],!V.every(q=>q<=0)){var N,U;const q=(((N=s.flip)==null?void 0:N.index)||0)+1,H=P[q];if(H)return{data:{index:q,overflows:C},reset:{placement:H}};let D=(U=C.filter(K=>K.overflows[0]<=0).sort((K,Q)=>K.overflows[1]-Q.overflows[1])[0])==null?void 0:U.placement;if(!D)switch(v){case"bestFit":{var L;const K=(L=C.filter(Q=>{if(O){const J=Xd(Q.placement);return J===k||J==="y"}return!0}).map(Q=>[Q.placement,Q.overflows.filter(J=>J>0).reduce((J,B)=>J+B,0)]).sort((Q,J)=>Q[1]-J[1])[0])==null?void 0:L[0];K&&(D=K);break}case"initialPlacement":D=c;break}if(i!==D)return{reset:{placement:D}}}return{}}}};async function Hae(e,t){const{placement:n,platform:r,elements:i}=e,s=await(r.isRTL==null?void 0:r.isRTL(i.floating)),l=Qc(n),c=rg(n),d=Xd(n)==="y",u=["left","top"].includes(l)?-1:1,p=s&&d?-1:1,h=ng(t,e);let{mainAxis:y,crossAxis:v,alignmentAxis:b}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...h};return c&&typeof b=="number"&&(v=c==="end"?b*-1:b),d?{x:v*p,y:y*u}:{x:y*u,y:v*p}}const qae=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:i,y:s,placement:l,middlewareData:c}=t,d=await Hae(t,e);return l===((n=c.offset)==null?void 0:n.placement)&&(r=c.arrow)!=null&&r.alignmentOffset?{}:{x:i+d.x,y:s+d.y,data:{...d,placement:l}}}}},Gae=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:i}=t,{mainAxis:s=!0,crossAxis:l=!1,limiter:c={fn:w=>{let{x:T,y:k}=w;return{x:T,y:k}}},...d}=ng(e,t),u={x:n,y:r},p=await UB(t,d),h=Xd(Qc(i)),y=zB(h);let v=u[y],b=u[h];if(s){const w=y==="y"?"top":"left",T=y==="y"?"bottom":"right",k=v+p[w],R=v-p[T];v=Rx(k,v,R)}if(l){const w=h==="y"?"top":"left",T=h==="y"?"bottom":"right",k=b+p[w],R=b-p[T];b=Rx(k,b,R)}const _=c.fn({...t,[y]:v,[h]:b});return{..._,data:{x:_.x-n,y:_.y-r}}}}};function vf(e){return HB(e)?(e.nodeName||"").toLowerCase():"#document"}function us(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Vo(e){var t;return(t=(HB(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function HB(e){return e instanceof Node||e instanceof us(e).Node}function Pa(e){return e instanceof Element||e instanceof us(e).Element}function Va(e){return e instanceof HTMLElement||e instanceof us(e).HTMLElement}function f3(e){return typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof us(e).ShadowRoot}function ig(e){const{overflow:t,overflowX:n,overflowY:r,display:i}=fa(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(i)}function Yae(e){return["table","td","th"].includes(vf(e))}function Lv(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function zE(e){const t=$E(),n=fa(e);return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function Kae(e){let t=Rl(e);for(;Va(t)&&!Jd(t);){if(Lv(t))return null;if(zE(t))return t;t=Rl(t)}return null}function $E(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Jd(e){return["html","body","#document"].includes(vf(e))}function fa(e){return us(e).getComputedStyle(e)}function Fv(e){return Pa(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Rl(e){if(vf(e)==="html")return e;const t=e.assignedSlot||e.parentNode||f3(e)&&e.host||Vo(e);return f3(t)?t.host:t}function qB(e){const t=Rl(e);return Jd(t)?e.ownerDocument?e.ownerDocument.body:e.body:Va(t)&&ig(t)?t:qB(t)}function Ip(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const i=qB(e),s=i===((r=e.ownerDocument)==null?void 0:r.body),l=us(i);return s?t.concat(l,l.visualViewport||[],ig(i)?i:[],l.frameElement&&n?Ip(l.frameElement):[]):t.concat(i,Ip(i,[],n))}function GB(e){const t=fa(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const i=Va(e),s=i?e.offsetWidth:n,l=i?e.offsetHeight:r,c=j0(n)!==s||j0(r)!==l;return c&&(n=s,r=l),{width:n,height:r,$:c}}function UE(e){return Pa(e)?e:e.contextElement}function Od(e){const t=UE(e);if(!Va(t))return Ml(1);const n=t.getBoundingClientRect(),{width:r,height:i,$:s}=GB(t);let l=(s?j0(n.width):n.width)/r,c=(s?j0(n.height):n.height)/i;return(!l||!Number.isFinite(l))&&(l=1),(!c||!Number.isFinite(c))&&(c=1),{x:l,y:c}}const Wae=Ml(0);function YB(e){const t=us(e);return!$E()||!t.visualViewport?Wae:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function Qae(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==us(e)?!1:t}function Xc(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const i=e.getBoundingClientRect(),s=UE(e);let l=Ml(1);t&&(r?Pa(r)&&(l=Od(r)):l=Od(e));const c=Qae(s,n,r)?YB(s):Ml(0);let d=(i.left+c.x)/l.x,u=(i.top+c.y)/l.y,p=i.width/l.x,h=i.height/l.y;if(s){const y=us(s),v=r&&Pa(r)?us(r):r;let b=y,_=b.frameElement;for(;_&&r&&v!==b;){const w=Od(_),T=_.getBoundingClientRect(),k=fa(_),R=T.left+(_.clientLeft+parseFloat(k.paddingLeft))*w.x,M=T.top+(_.clientTop+parseFloat(k.paddingTop))*w.y;d*=w.x,u*=w.y,p*=w.x,h*=w.y,d+=R,u+=M,b=us(_),_=b.frameElement}}return V0({width:p,height:h,x:d,y:u})}function Xae(e){let{elements:t,rect:n,offsetParent:r,strategy:i}=e;const s=i==="fixed",l=Vo(r),c=t?Lv(t.floating):!1;if(r===l||c&&s)return n;let d={scrollLeft:0,scrollTop:0},u=Ml(1);const p=Ml(0),h=Va(r);if((h||!h&&!s)&&((vf(r)!=="body"||ig(l))&&(d=Fv(r)),Va(r))){const y=Xc(r);u=Od(r),p.x=y.x+r.clientLeft,p.y=y.y+r.clientTop}return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-d.scrollLeft*u.x+p.x,y:n.y*u.y-d.scrollTop*u.y+p.y}}function Jae(e){return Array.from(e.getClientRects())}function KB(e){return Xc(Vo(e)).left+Fv(e).scrollLeft}function Zae(e){const t=Vo(e),n=Fv(e),r=e.ownerDocument.body,i=jc(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),s=jc(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let l=-n.scrollLeft+KB(e);const c=-n.scrollTop;return fa(r).direction==="rtl"&&(l+=jc(t.clientWidth,r.clientWidth)-i),{width:i,height:s,x:l,y:c}}function eoe(e,t){const n=us(e),r=Vo(e),i=n.visualViewport;let s=r.clientWidth,l=r.clientHeight,c=0,d=0;if(i){s=i.width,l=i.height;const u=$E();(!u||u&&t==="fixed")&&(c=i.offsetLeft,d=i.offsetTop)}return{width:s,height:l,x:c,y:d}}function toe(e,t){const n=Xc(e,!0,t==="fixed"),r=n.top+e.clientTop,i=n.left+e.clientLeft,s=Va(e)?Od(e):Ml(1),l=e.clientWidth*s.x,c=e.clientHeight*s.y,d=i*s.x,u=r*s.y;return{width:l,height:c,x:d,y:u}}function h3(e,t,n){let r;if(t==="viewport")r=eoe(e,n);else if(t==="document")r=Zae(Vo(e));else if(Pa(t))r=toe(t,n);else{const i=YB(e);r={...t,x:t.x-i.x,y:t.y-i.y}}return V0(r)}function WB(e,t){const n=Rl(e);return n===t||!Pa(n)||Jd(n)?!1:fa(n).position==="fixed"||WB(n,t)}function noe(e,t){const n=t.get(e);if(n)return n;let r=Ip(e,[],!1).filter(c=>Pa(c)&&vf(c)!=="body"),i=null;const s=fa(e).position==="fixed";let l=s?Rl(e):e;for(;Pa(l)&&!Jd(l);){const c=fa(l),d=zE(l);!d&&c.position==="fixed"&&(i=null),(s?!d&&!i:!d&&c.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||ig(l)&&!d&&WB(e,l))?r=r.filter(p=>p!==l):i=c,l=Rl(l)}return t.set(e,r),r}function roe(e){let{element:t,boundary:n,rootBoundary:r,strategy:i}=e;const l=[...n==="clippingAncestors"?Lv(t)?[]:noe(t,this._c):[].concat(n),r],c=l[0],d=l.reduce((u,p)=>{const h=h3(t,p,i);return u.top=jc(h.top,u.top),u.right=Qd(h.right,u.right),u.bottom=Qd(h.bottom,u.bottom),u.left=jc(h.left,u.left),u},h3(t,c,i));return{width:d.right-d.left,height:d.bottom-d.top,x:d.left,y:d.top}}function ioe(e){const{width:t,height:n}=GB(e);return{width:t,height:n}}function soe(e,t,n){const r=Va(t),i=Vo(t),s=n==="fixed",l=Xc(e,!0,s,t);let c={scrollLeft:0,scrollTop:0};const d=Ml(0);if(r||!r&&!s)if((vf(t)!=="body"||ig(i))&&(c=Fv(t)),r){const h=Xc(t,!0,s,t);d.x=h.x+t.clientLeft,d.y=h.y+t.clientTop}else i&&(d.x=KB(i));const u=l.left+c.scrollLeft-d.x,p=l.top+c.scrollTop-d.y;return{x:u,y:p,width:l.width,height:l.height}}function K1(e){return fa(e).position==="static"}function p3(e,t){return!Va(e)||fa(e).position==="fixed"?null:t?t(e):e.offsetParent}function QB(e,t){const n=us(e);if(Lv(e))return n;if(!Va(e)){let i=Rl(e);for(;i&&!Jd(i);){if(Pa(i)&&!K1(i))return i;i=Rl(i)}return n}let r=p3(e,t);for(;r&&Yae(r)&&K1(r);)r=p3(r,t);return r&&Jd(r)&&K1(r)&&!zE(r)?n:r||Kae(e)||n}const aoe=async function(e){const t=this.getOffsetParent||QB,n=this.getDimensions,r=await n(e.floating);return{reference:soe(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function ooe(e){return fa(e).direction==="rtl"}const loe={convertOffsetParentRelativeRectToViewportRelativeRect:Xae,getDocumentElement:Vo,getClippingRect:roe,getOffsetParent:QB,getElementRects:aoe,getClientRects:Jae,getDimensions:ioe,getScale:Od,isElement:Pa,isRTL:ooe};function coe(e,t){let n=null,r;const i=Vo(e);function s(){var c;clearTimeout(r),(c=n)==null||c.disconnect(),n=null}function l(c,d){c===void 0&&(c=!1),d===void 0&&(d=1),s();const{left:u,top:p,width:h,height:y}=e.getBoundingClientRect();if(c||t(),!h||!y)return;const v=Gm(p),b=Gm(i.clientWidth-(u+h)),_=Gm(i.clientHeight-(p+y)),w=Gm(u),k={rootMargin:-v+"px "+-b+"px "+-_+"px "+-w+"px",threshold:jc(0,Qd(1,d))||1};let R=!0;function M(E){const O=E[0].intersectionRatio;if(O!==d){if(!R)return l();O?l(!1,O):r=setTimeout(()=>{l(!1,1e-7)},1e3)}R=!1}try{n=new IntersectionObserver(M,{...k,root:i.ownerDocument})}catch{n=new IntersectionObserver(M,k)}n.observe(e)}return l(!0),s}function uoe(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:l=typeof ResizeObserver=="function",layoutShift:c=typeof IntersectionObserver=="function",animationFrame:d=!1}=r,u=UE(e),p=i||s?[...u?Ip(u):[],...Ip(t)]:[];p.forEach(T=>{i&&T.addEventListener("scroll",n,{passive:!0}),s&&T.addEventListener("resize",n)});const h=u&&c?coe(u,n):null;let y=-1,v=null;l&&(v=new ResizeObserver(T=>{let[k]=T;k&&k.target===u&&v&&(v.unobserve(t),cancelAnimationFrame(y),y=requestAnimationFrame(()=>{var R;(R=v)==null||R.observe(t)})),n()}),u&&!d&&v.observe(u),v.observe(t));let b,_=d?Xc(e):null;d&&w();function w(){const T=Xc(e);_&&(T.x!==_.x||T.y!==_.y||T.width!==_.width||T.height!==_.height)&&n(),_=T,b=requestAnimationFrame(w)}return n(),()=>{var T;p.forEach(k=>{i&&k.removeEventListener("scroll",n),s&&k.removeEventListener("resize",n)}),h==null||h(),(T=v)==null||T.disconnect(),v=null,d&&cancelAnimationFrame(b)}}const doe=qae,foe=Gae,hoe=Uae,poe=$ae,g3=(e,t,n)=>{const r=new Map,i={platform:loe,...n},s={...i.platform,_c:r};return zae(e,t,{...i,platform:s})};var W1={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var m3;function goe(){return m3||(m3=1,function(e){(function(){var t={}.hasOwnProperty;function n(){for(var s="",l=0;l<arguments.length;l++){var c=arguments[l];c&&(s=i(s,r(c)))}return s}function r(s){if(typeof s=="string"||typeof s=="number")return s;if(typeof s!="object")return"";if(Array.isArray(s))return n.apply(null,s);if(s.toString!==Object.prototype.toString&&!s.toString.toString().includes("[native code]"))return s.toString();var l="";for(var c in s)t.call(s,c)&&s[c]&&(l=i(l,c));return l}function i(s,l){return l?s?s+" "+l:s+l:s}e.exports?(n.default=n,e.exports=n):window.classNames=n})()}(W1)),W1.exports}var moe=goe();const Ox=Pr(moe);var y3={};const yoe="react-tooltip-core-styles",voe="react-tooltip-base-styles",v3={core:!1,base:!1};function A3({css:e,id:t=voe,type:n="base",ref:r}){var i,s;if(!e||typeof document>"u"||v3[n]||n==="core"&&typeof process<"u"&&(!((i=process==null?void 0:y3)===null||i===void 0)&&i.REACT_TOOLTIP_DISABLE_CORE_STYLES)||n!=="base"&&typeof process<"u"&&(!((s=process==null?void 0:y3)===null||s===void 0)&&s.REACT_TOOLTIP_DISABLE_BASE_STYLES))return;n==="core"&&(t=yoe),r||(r={});const{insertAt:l}=r;if(document.getElementById(t))return void console.warn(`[react-tooltip] Element with id '${t}' already exists. Call \`removeStyle()\` first`);const c=document.head||document.getElementsByTagName("head")[0],d=document.createElement("style");d.id=t,d.type="text/css",l==="top"&&c.firstChild?c.insertBefore(d,c.firstChild):c.appendChild(d),d.styleSheet?d.styleSheet.cssText=e:d.appendChild(document.createTextNode(e)),v3[n]=!0}const b3=async({elementReference:e=null,tooltipReference:t=null,tooltipArrowReference:n=null,place:r="top",offset:i=10,strategy:s="absolute",middlewares:l=[doe(Number(i)),hoe({fallbackAxisSideDirection:"start"}),foe({padding:5})],border:c})=>{if(!e)return{tooltipStyles:{},tooltipArrowStyles:{},place:r};if(t===null)return{tooltipStyles:{},tooltipArrowStyles:{},place:r};const d=l;return n?(d.push(poe({element:n,padding:5})),g3(e,t,{placement:r,strategy:s,middleware:d}).then(({x:u,y:p,placement:h,middlewareData:y})=>{var v,b;const _={left:`${u}px`,top:`${p}px`,border:c},{x:w,y:T}=(v=y.arrow)!==null&&v!==void 0?v:{x:0,y:0},k=(b={top:"bottom",right:"left",bottom:"top",left:"right"}[h.split("-")[0]])!==null&&b!==void 0?b:"bottom",R=c&&{borderBottom:c,borderRight:c};let M=0;if(c){const E=`${c}`.match(/(\d+)px/);M=E!=null&&E[1]?Number(E[1]):1}return{tooltipStyles:_,tooltipArrowStyles:{left:w!=null?`${w}px`:"",top:T!=null?`${T}px`:"",right:"",bottom:"",...R,[k]:`-${4+M}px`},place:h}})):g3(e,t,{placement:"bottom",strategy:s,middleware:d}).then(({x:u,y:p,placement:h})=>({tooltipStyles:{left:`${u}px`,top:`${p}px`},tooltipArrowStyles:{},place:h}))},_3=(e,t)=>!("CSS"in window&&"supports"in window.CSS)||window.CSS.supports(e,t),S3=(e,t,n)=>{let r=null;const i=function(...s){const l=()=>{r=null};!r&&(e.apply(this,s),r=setTimeout(l,t))};return i.cancel=()=>{r&&(clearTimeout(r),r=null)},i},x3=e=>e!==null&&!Array.isArray(e)&&typeof e=="object",jx=(e,t)=>{if(e===t)return!0;if(Array.isArray(e)&&Array.isArray(t))return e.length===t.length&&e.every((i,s)=>jx(i,t[s]));if(Array.isArray(e)!==Array.isArray(t))return!1;if(!x3(e)||!x3(t))return e===t;const n=Object.keys(e),r=Object.keys(t);return n.length===r.length&&n.every(i=>jx(e[i],t[i]))},Aoe=e=>{if(!(e instanceof HTMLElement||e instanceof SVGElement))return!1;const t=getComputedStyle(e);return["overflow","overflow-x","overflow-y"].some(n=>{const r=t.getPropertyValue(n);return r==="auto"||r==="scroll"})},w3=e=>{if(!e)return null;let t=e.parentElement;for(;t;){if(Aoe(t))return t;t=t.parentElement}return document.scrollingElement||document.documentElement},boe=typeof window<"u"?x.useLayoutEffect:x.useEffect,_oe="DEFAULT_TOOLTIP_ID",Soe={anchorRefs:new Set,activeAnchor:{current:null},attach:()=>{},detach:()=>{},setActiveAnchor:()=>{}},xoe=x.createContext({getTooltipData:()=>Soe});function XB(e=_oe){return x.useContext(xoe).getTooltipData(e)}var nd={tooltip:"core-styles-module_tooltip__3vRRp",fixed:"core-styles-module_fixed__pcSol",arrow:"core-styles-module_arrow__cvMwQ",noArrow:"core-styles-module_noArrow__xock6",clickable:"core-styles-module_clickable__ZuTTB",show:"core-styles-module_show__Nt9eE",closing:"core-styles-module_closing__sGnxF"},Q1={tooltip:"styles-module_tooltip__mnnfp",arrow:"styles-module_arrow__K0L3T",dark:"styles-module_dark__xNqje",light:"styles-module_light__Z6W-X",success:"styles-module_success__A2AKt",warning:"styles-module_warning__SCK0X",error:"styles-module_error__JvumD",info:"styles-module_info__BWdHW"};const woe=({forwardRef:e,id:t,className:n,classNameArrow:r,variant:i="dark",anchorId:s,anchorSelect:l,place:c="top",offset:d=10,events:u=["hover"],openOnClick:p=!1,positionStrategy:h="absolute",middlewares:y,wrapper:v,delayShow:b=0,delayHide:_=0,float:w=!1,hidden:T=!1,noArrow:k=!1,clickable:R=!1,closeOnEsc:M=!1,closeOnScroll:E=!1,closeOnResize:O=!1,openEvents:P,closeEvents:j,globalCloseEvents:V,imperativeModeOnly:C,style:N,position:U,afterShow:L,afterHide:q,content:H,contentWrapperRef:D,isOpen:K,defaultIsOpen:Q=!1,setIsOpen:J,activeAnchor:B,setActiveAnchor:G,border:ee,opacity:ue,arrowColor:F,role:ge="tooltip"})=>{var se;const Se=x.useRef(null),Me=x.useRef(null),Re=x.useRef(null),ye=x.useRef(null),je=x.useRef(null),[Ge,Fe]=x.useState({tooltipStyles:{},tooltipArrowStyles:{},place:c}),[Ve,ze]=x.useState(!1),[ot,Qe]=x.useState(!1),[Ue,pt]=x.useState(null),Jt=x.useRef(!1),hn=x.useRef(null),{anchorRefs:He,setActiveAnchor:Nn}=XB(t),At=x.useRef(!1),[pn,gn]=x.useState([]),rt=x.useRef(!1),yt=p||u.includes("click"),dt=yt||(P==null?void 0:P.click)||(P==null?void 0:P.dblclick)||(P==null?void 0:P.mousedown),xt=P?{...P}:{mouseover:!0,focus:!0,mouseenter:!1,click:!1,dblclick:!1,mousedown:!1};!P&&yt&&Object.assign(xt,{mouseenter:!1,focus:!1,mouseover:!1,click:!0});const Zt=j?{...j}:{mouseout:!0,blur:!0,mouseleave:!1,click:!1,dblclick:!1,mouseup:!1};!j&&yt&&Object.assign(Zt,{mouseleave:!1,blur:!1,mouseout:!1});const wt=V?{...V}:{escape:M||!1,scroll:E||!1,resize:O||!1,clickOutsideAnchor:dt||!1};C&&(Object.assign(xt,{mouseenter:!1,focus:!1,click:!1,dblclick:!1,mousedown:!1}),Object.assign(Zt,{mouseleave:!1,blur:!1,click:!1,dblclick:!1,mouseup:!1}),Object.assign(wt,{escape:!1,scroll:!1,resize:!1,clickOutsideAnchor:!1})),boe(()=>(rt.current=!0,()=>{rt.current=!1}),[]);const kt=De=>{rt.current&&(De&&Qe(!0),setTimeout(()=>{rt.current&&(J==null||J(De),K===void 0&&ze(De))},10))};x.useEffect(()=>{if(K===void 0)return()=>null;K&&Qe(!0);const De=setTimeout(()=>{ze(K)},10);return()=>{clearTimeout(De)}},[K]),x.useEffect(()=>{if(Ve!==Jt.current)if(je.current&&clearTimeout(je.current),Jt.current=Ve,Ve)L==null||L();else{const De=(st=>{const ft=st.match(/^([\d.]+)(ms|s)$/);if(!ft)return 0;const[,Yn,pr]=ft;return Number(Yn)*(pr==="ms"?1:1e3)})(getComputedStyle(document.body).getPropertyValue("--rt-transition-show-delay"));je.current=setTimeout(()=>{Qe(!1),pt(null),q==null||q()},De+25)}},[Ve]);const Lt=De=>{Fe(st=>jx(st,De)?st:De)},Ln=(De=b)=>{Re.current&&clearTimeout(Re.current),ot?kt(!0):Re.current=setTimeout(()=>{kt(!0)},De)},en=(De=_)=>{ye.current&&clearTimeout(ye.current),ye.current=setTimeout(()=>{At.current||kt(!1)},De)},gt=De=>{var st;if(!De)return;const ft=(st=De.currentTarget)!==null&&st!==void 0?st:De.target;if(!(ft!=null&&ft.isConnected))return G(null),void Nn({current:null});b?Ln():kt(!0),G(ft),Nn({current:ft}),ye.current&&clearTimeout(ye.current)},fr=()=>{R?en(_||100):_?en():kt(!1),Re.current&&clearTimeout(Re.current)},Vr=({x:De,y:st})=>{var ft;const Yn={getBoundingClientRect:()=>({x:De,y:st,width:0,height:0,top:st,left:De,right:De,bottom:st})};b3({place:(ft=Ue==null?void 0:Ue.place)!==null&&ft!==void 0?ft:c,offset:d,elementReference:Yn,tooltipReference:Se.current,tooltipArrowReference:Me.current,strategy:h,middlewares:y,border:ee}).then(pr=>{Lt(pr)})},Gn=De=>{if(!De)return;const st=De,ft={x:st.clientX,y:st.clientY};Vr(ft),hn.current=ft},qr=De=>{var st;if(!Ve)return;const ft=De.target;ft.isConnected&&(!((st=Se.current)===null||st===void 0)&&st.contains(ft)||[document.querySelector(`[id='${s}']`),...pn].some(Yn=>Yn==null?void 0:Yn.contains(ft))||(kt(!1),Re.current&&clearTimeout(Re.current)))},Dr=S3(gt,50),Ft=S3(fr,50),Tn=De=>{Ft.cancel(),Dr(De)},Je=()=>{Dr.cancel(),Ft()},Mt=x.useCallback(()=>{var De,st;const ft=(De=Ue==null?void 0:Ue.position)!==null&&De!==void 0?De:U;ft?Vr(ft):w?hn.current&&Vr(hn.current):B!=null&&B.isConnected&&b3({place:(st=Ue==null?void 0:Ue.place)!==null&&st!==void 0?st:c,offset:d,elementReference:B,tooltipReference:Se.current,tooltipArrowReference:Me.current,strategy:h,middlewares:y,border:ee}).then(Yn=>{rt.current&&Lt(Yn)})},[Ve,B,H,N,c,Ue==null?void 0:Ue.place,d,h,U,Ue==null?void 0:Ue.position,w]);x.useEffect(()=>{var De,st;const ft=new Set(He);pn.forEach(Qt=>{ft.add({current:Qt})});const Yn=document.querySelector(`[id='${s}']`);Yn&&ft.add({current:Yn});const pr=()=>{kt(!1)},li=w3(B),Ai=w3(Se.current);wt.scroll&&(window.addEventListener("scroll",pr),li==null||li.addEventListener("scroll",pr),Ai==null||Ai.addEventListener("scroll",pr));let Mr=null;wt.resize?window.addEventListener("resize",pr):B&&Se.current&&(Mr=uoe(B,Se.current,Mt,{ancestorResize:!0,elementResize:!0,layoutShift:!0}));const Kn=Qt=>{Qt.key==="Escape"&&kt(!1)};wt.escape&&window.addEventListener("keydown",Kn),wt.clickOutsideAnchor&&window.addEventListener("click",qr);const bt=[],tr=Qt=>{Ve&&(Qt==null?void 0:Qt.target)===B||gt(Qt)},pa=Qt=>{Ve&&(Qt==null?void 0:Qt.target)===B&&fr()},Bo=["mouseover","mouseout","mouseenter","mouseleave","focus","blur"],fu=["click","dblclick","mousedown","mouseup"];Object.entries(xt).forEach(([Qt,bi])=>{bi&&(Bo.includes(Qt)?bt.push({event:Qt,listener:Tn}):fu.includes(Qt)&&bt.push({event:Qt,listener:tr}))}),Object.entries(Zt).forEach(([Qt,bi])=>{bi&&(Bo.includes(Qt)?bt.push({event:Qt,listener:Je}):fu.includes(Qt)&&bt.push({event:Qt,listener:pa}))}),w&&bt.push({event:"pointermove",listener:Gn});const hu=()=>{At.current=!0},Fl=()=>{At.current=!1,fr()};return R&&!dt&&((De=Se.current)===null||De===void 0||De.addEventListener("mouseenter",hu),(st=Se.current)===null||st===void 0||st.addEventListener("mouseleave",Fl)),bt.forEach(({event:Qt,listener:bi})=>{ft.forEach(Yi=>{var ji;(ji=Yi.current)===null||ji===void 0||ji.addEventListener(Qt,bi)})}),()=>{var Qt,bi;wt.scroll&&(window.removeEventListener("scroll",pr),li==null||li.removeEventListener("scroll",pr),Ai==null||Ai.removeEventListener("scroll",pr)),wt.resize?window.removeEventListener("resize",pr):Mr==null||Mr(),wt.clickOutsideAnchor&&window.removeEventListener("click",qr),wt.escape&&window.removeEventListener("keydown",Kn),R&&!dt&&((Qt=Se.current)===null||Qt===void 0||Qt.removeEventListener("mouseenter",hu),(bi=Se.current)===null||bi===void 0||bi.removeEventListener("mouseleave",Fl)),bt.forEach(({event:Yi,listener:ji})=>{ft.forEach(Na=>{var Ki;(Ki=Na.current)===null||Ki===void 0||Ki.removeEventListener(Yi,ji)})})}},[B,Mt,ot,He,pn,P,j,V,yt,b,_]),x.useEffect(()=>{var De,st;let ft=(st=(De=Ue==null?void 0:Ue.anchorSelect)!==null&&De!==void 0?De:l)!==null&&st!==void 0?st:"";!ft&&t&&(ft=`[data-tooltip-id='${t.replace(/'/g,"\\'")}']`);const Yn=new MutationObserver(pr=>{const li=[],Ai=[];pr.forEach(Mr=>{if(Mr.type==="attributes"&&Mr.attributeName==="data-tooltip-id"&&(Mr.target.getAttribute("data-tooltip-id")===t?li.push(Mr.target):Mr.oldValue===t&&Ai.push(Mr.target)),Mr.type==="childList"){if(B){const Kn=[...Mr.removedNodes].filter(bt=>bt.nodeType===1);if(ft)try{Ai.push(...Kn.filter(bt=>bt.matches(ft))),Ai.push(...Kn.flatMap(bt=>[...bt.querySelectorAll(ft)]))}catch{}Kn.some(bt=>{var tr;return!!(!((tr=bt==null?void 0:bt.contains)===null||tr===void 0)&&tr.call(bt,B))&&(Qe(!1),kt(!1),G(null),Re.current&&clearTimeout(Re.current),ye.current&&clearTimeout(ye.current),!0)})}if(ft)try{const Kn=[...Mr.addedNodes].filter(bt=>bt.nodeType===1);li.push(...Kn.filter(bt=>bt.matches(ft))),li.push(...Kn.flatMap(bt=>[...bt.querySelectorAll(ft)]))}catch{}}}),(li.length||Ai.length)&&gn(Mr=>[...Mr.filter(Kn=>!Ai.includes(Kn)),...li])});return Yn.observe(document.body,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["data-tooltip-id"],attributeOldValue:!0}),()=>{Yn.disconnect()}},[t,l,Ue==null?void 0:Ue.anchorSelect,B]),x.useEffect(()=>{Mt()},[Mt]),x.useEffect(()=>{if(!(D!=null&&D.current))return()=>null;const De=new ResizeObserver(()=>{setTimeout(()=>Mt())});return De.observe(D.current),()=>{De.disconnect()}},[H,D==null?void 0:D.current]),x.useEffect(()=>{var De;const st=document.querySelector(`[id='${s}']`),ft=[...pn,st];B&&ft.includes(B)||G((De=pn[0])!==null&&De!==void 0?De:st)},[s,pn,B]),x.useEffect(()=>(Q&&kt(!0),()=>{Re.current&&clearTimeout(Re.current),ye.current&&clearTimeout(ye.current)}),[]),x.useEffect(()=>{var De;let st=(De=Ue==null?void 0:Ue.anchorSelect)!==null&&De!==void 0?De:l;if(!st&&t&&(st=`[data-tooltip-id='${t.replace(/'/g,"\\'")}']`),st)try{const ft=Array.from(document.querySelectorAll(st));gn(ft)}catch{gn([])}},[t,l,Ue==null?void 0:Ue.anchorSelect]),x.useEffect(()=>{Re.current&&(clearTimeout(Re.current),Ln(b))},[b]);const hr=(se=Ue==null?void 0:Ue.content)!==null&&se!==void 0?se:H,oi=Ve&&Object.keys(Ge.tooltipStyles).length>0;return x.useImperativeHandle(e,()=>({open:De=>{if(De!=null&&De.anchorSelect)try{document.querySelector(De.anchorSelect)}catch{return void console.warn(`[react-tooltip] "${De.anchorSelect}" is not a valid CSS selector`)}pt(De??null),De!=null&&De.delay?Ln(De.delay):kt(!0)},close:De=>{De!=null&&De.delay?en(De.delay):kt(!1)},activeAnchor:B,place:Ge.place,isOpen:!!(ot&&!T&&hr&&oi)})),ot&&!T&&hr?Xe.createElement(v,{id:t,role:ge,className:Ox("react-tooltip",nd.tooltip,Q1.tooltip,Q1[i],n,`react-tooltip__place-${Ge.place}`,nd[oi?"show":"closing"],oi?"react-tooltip__show":"react-tooltip__closing",h==="fixed"&&nd.fixed,R&&nd.clickable),onTransitionEnd:De=>{je.current&&clearTimeout(je.current),Ve||De.propertyName!=="opacity"||(Qe(!1),pt(null),q==null||q())},style:{...N,...Ge.tooltipStyles,opacity:ue!==void 0&&oi?ue:void 0},ref:Se},hr,Xe.createElement(v,{className:Ox("react-tooltip-arrow",nd.arrow,Q1.arrow,r,k&&nd.noArrow),style:{...Ge.tooltipArrowStyles,background:F?`linear-gradient(to right bottom, transparent 50%, ${F} 50%)`:void 0},ref:Me})):null},Eoe=({content:e})=>Xe.createElement("span",{dangerouslySetInnerHTML:{__html:e}}),Toe=Xe.forwardRef(({id:e,anchorId:t,anchorSelect:n,content:r,html:i,render:s,className:l,classNameArrow:c,variant:d="dark",place:u="top",offset:p=10,wrapper:h="div",children:y=null,events:v=["hover"],openOnClick:b=!1,positionStrategy:_="absolute",middlewares:w,delayShow:T=0,delayHide:k=0,float:R=!1,hidden:M=!1,noArrow:E=!1,clickable:O=!1,closeOnEsc:P=!1,closeOnScroll:j=!1,closeOnResize:V=!1,openEvents:C,closeEvents:N,globalCloseEvents:U,imperativeModeOnly:L=!1,style:q,position:H,isOpen:D,defaultIsOpen:K=!1,disableStyleInjection:Q=!1,border:J,opacity:B,arrowColor:G,setIsOpen:ee,afterShow:ue,afterHide:F,role:ge="tooltip"},se)=>{const[Se,Me]=x.useState(r),[Re,ye]=x.useState(i),[je,Ge]=x.useState(u),[Fe,Ve]=x.useState(d),[ze,ot]=x.useState(p),[Qe,Ue]=x.useState(T),[pt,Jt]=x.useState(k),[hn,He]=x.useState(R),[Nn,At]=x.useState(M),[pn,gn]=x.useState(h),[rt,yt]=x.useState(v),[dt,xt]=x.useState(_),[Zt,wt]=x.useState(null),[kt,Lt]=x.useState(null),Ln=x.useRef(Q),{anchorRefs:en,activeAnchor:gt}=XB(e),fr=Ft=>Ft==null?void 0:Ft.getAttributeNames().reduce((Tn,Je)=>{var Mt;return Je.startsWith("data-tooltip-")&&(Tn[Je.replace(/^data-tooltip-/,"")]=(Mt=Ft==null?void 0:Ft.getAttribute(Je))!==null&&Mt!==void 0?Mt:null),Tn},{}),Vr=Ft=>{const Tn={place:Je=>{var Mt;Ge((Mt=Je)!==null&&Mt!==void 0?Mt:u)},content:Je=>{Me(Je??r)},html:Je=>{ye(Je??i)},variant:Je=>{var Mt;Ve((Mt=Je)!==null&&Mt!==void 0?Mt:d)},offset:Je=>{ot(Je===null?p:Number(Je))},wrapper:Je=>{var Mt;gn((Mt=Je)!==null&&Mt!==void 0?Mt:h)},events:Je=>{const Mt=Je==null?void 0:Je.split(" ");yt(Mt??v)},"position-strategy":Je=>{var Mt;xt((Mt=Je)!==null&&Mt!==void 0?Mt:_)},"delay-show":Je=>{Ue(Je===null?T:Number(Je))},"delay-hide":Je=>{Jt(Je===null?k:Number(Je))},float:Je=>{He(Je===null?R:Je==="true")},hidden:Je=>{At(Je===null?M:Je==="true")},"class-name":Je=>{wt(Je)}};Object.values(Tn).forEach(Je=>Je(null)),Object.entries(Ft).forEach(([Je,Mt])=>{var hr;(hr=Tn[Je])===null||hr===void 0||hr.call(Tn,Mt)})};x.useEffect(()=>{Me(r)},[r]),x.useEffect(()=>{ye(i)},[i]),x.useEffect(()=>{Ge(u)},[u]),x.useEffect(()=>{Ve(d)},[d]),x.useEffect(()=>{ot(p)},[p]),x.useEffect(()=>{Ue(T)},[T]),x.useEffect(()=>{Jt(k)},[k]),x.useEffect(()=>{He(R)},[R]),x.useEffect(()=>{At(M)},[M]),x.useEffect(()=>{xt(_)},[_]),x.useEffect(()=>{Ln.current!==Q&&console.warn("[react-tooltip] Do not change `disableStyleInjection` dynamically.")},[Q]),x.useEffect(()=>{typeof window<"u"&&window.dispatchEvent(new CustomEvent("react-tooltip-inject-styles",{detail:{disableCore:Q==="core",disableBase:Q}}))},[]),x.useEffect(()=>{var Ft;const Tn=new Set(en);let Je=n;if(!Je&&e&&(Je=`[data-tooltip-id='${e.replace(/'/g,"\\'")}']`),Je)try{document.querySelectorAll(Je).forEach(st=>{Tn.add({current:st})})}catch{console.warn(`[react-tooltip] "${Je}" is not a valid CSS selector`)}const Mt=document.querySelector(`[id='${t}']`);if(Mt&&Tn.add({current:Mt}),!Tn.size)return()=>null;const hr=(Ft=kt??Mt)!==null&&Ft!==void 0?Ft:gt.current,oi=new MutationObserver(st=>{st.forEach(ft=>{var Yn;if(!hr||ft.type!=="attributes"||!(!((Yn=ft.attributeName)===null||Yn===void 0)&&Yn.startsWith("data-tooltip-")))return;const pr=fr(hr);Vr(pr)})}),De={attributes:!0,childList:!1,subtree:!1};if(hr){const st=fr(hr);Vr(st),oi.observe(hr,De)}return()=>{oi.disconnect()}},[en,gt,kt,t,n]),x.useEffect(()=>{q!=null&&q.border&&console.warn("[react-tooltip] Do not set `style.border`. Use `border` prop instead."),J&&!_3("border",`${J}`)&&console.warn(`[react-tooltip] "${J}" is not a valid \`border\`.`),q!=null&&q.opacity&&console.warn("[react-tooltip] Do not set `style.opacity`. Use `opacity` prop instead."),B&&!_3("opacity",`${B}`)&&console.warn(`[react-tooltip] "${B}" is not a valid \`opacity\`.`)},[]);let Gn=y;const qr=x.useRef(null);if(s){const Ft=s({content:(kt==null?void 0:kt.getAttribute("data-tooltip-content"))||Se||null,activeAnchor:kt});Gn=Ft?Xe.createElement("div",{ref:qr,className:"react-tooltip-content-wrapper"},Ft):null}else Se&&(Gn=Se);Re&&(Gn=Xe.createElement(Eoe,{content:Re}));const Dr={forwardRef:se,id:e,anchorId:t,anchorSelect:n,className:Ox(l,Zt),classNameArrow:c,content:Gn,contentWrapperRef:qr,place:je,variant:Fe,offset:ze,wrapper:pn,events:rt,openOnClick:b,positionStrategy:dt,middlewares:w,delayShow:Qe,delayHide:pt,float:hn,hidden:Nn,noArrow:E,clickable:O,closeOnEsc:P,closeOnScroll:j,closeOnResize:V,openEvents:C,closeEvents:N,globalCloseEvents:U,imperativeModeOnly:L,style:q,position:H,isOpen:D,defaultIsOpen:K,border:J,opacity:B,arrowColor:G,setIsOpen:ee,afterShow:ue,afterHide:F,activeAnchor:kt,setActiveAnchor:Ft=>Lt(Ft),role:ge};return Xe.createElement(woe,{...Dr})});typeof window<"u"&&window.addEventListener("react-tooltip-inject-styles",e=>{e.detail.disableCore||A3({css:":root{--rt-color-white:#fff;--rt-color-dark:#222;--rt-color-success:#8dc572;--rt-color-error:#be6464;--rt-color-warning:#f0ad4e;--rt-color-info:#337ab7;--rt-opacity:0.9;--rt-transition-show-delay:0.15s;--rt-transition-closing-delay:0.15s}.core-styles-module_tooltip__3vRRp{position:absolute;top:0;left:0;pointer-events:none;opacity:0;will-change:opacity}.core-styles-module_fixed__pcSol{position:fixed}.core-styles-module_arrow__cvMwQ{position:absolute;background:inherit}.core-styles-module_noArrow__xock6{display:none}.core-styles-module_clickable__ZuTTB{pointer-events:auto}.core-styles-module_show__Nt9eE{opacity:var(--rt-opacity);transition:opacity var(--rt-transition-show-delay)ease-out}.core-styles-module_closing__sGnxF{opacity:0;transition:opacity var(--rt-transition-closing-delay)ease-in}",type:"core"}),e.detail.disableBase||A3({css:`
.styles-module_tooltip__mnnfp{padding:8px 16px;border-radius:3px;font-size:90%;width:max-content}.styles-module_arrow__K0L3T{width:8px;height:8px}[class*='react-tooltip__place-top']>.styles-module_arrow__K0L3T{transform:rotate(45deg)}[class*='react-tooltip__place-right']>.styles-module_arrow__K0L3T{transform:rotate(135deg)}[class*='react-tooltip__place-bottom']>.styles-module_arrow__K0L3T{transform:rotate(225deg)}[class*='react-tooltip__place-left']>.styles-module_arrow__K0L3T{transform:rotate(315deg)}.styles-module_dark__xNqje{background:var(--rt-color-dark);color:var(--rt-color-white)}.styles-module_light__Z6W-X{background-color:var(--rt-color-white);color:var(--rt-color-dark)}.styles-module_success__A2AKt{background-color:var(--rt-color-success);color:var(--rt-color-white)}.styles-module_warning__SCK0X{background-color:var(--rt-color-warning);color:var(--rt-color-white)}.styles-module_error__JvumD{background-color:var(--rt-color-error);color:var(--rt-color-white)}.styles-module_info__BWdHW{background-color:var(--rt-color-info);color:var(--rt-color-white)}`,type:"base"})});const Coe=W(Toe,{target:"e21jg9v2"})("&&&{background:rgba(0, 0, 0, 0.85);font-size:2rem;padding:1rem 1.5rem;border-radius:1rem;max-width:45rem;",jt,";.MuiTooltip-arrow{&::before{background:rgba(0, 0, 0, 0.85);}}strong{color:",$e.colors.text.active,";}}z-index:10000;"),Zd=({children:e,title:t,open:n,...r})=>{const i=x.useRef(null),s=x.useMemo(()=>`${Math.random()}`,[]);return g.jsxs(g.Fragment,{children:[yf.createPortal(g.jsx(Coe,{...r,id:s,ref:i,isOpen:n,children:t}),document.body),x.cloneElement(e,{"data-tooltip-id":s})]})},E3=e=>`tooltip_dismissed_${e}`,koe=({dismissKey:e,timeoutMs:t,oneTime:n=!0,children:r,title:i,...s})=>{const[l,c]=x.useState(!at.local.getItem(E3(e))),d=x.useCallback(()=>{at.local.setItem(E3(e),!0),c(void 0)},[e]);x.useEffect(()=>{if(t){const p=setTimeout(d,t);return()=>clearTimeout(p)}},[t,d]);const u=(l===void 0||!l&&!n)&&s.open===void 0;return g.jsx(Zd,{clickable:!0,open:u?s.open:l,hidden:s.open===!1,...s,title:g.jsxs(g.Fragment,{children:[i,l&&g.jsx(Moe,{children:g.jsx(Roe,{"data-test":"close-tooltip-button",onClick:d,children:"Close"})})]}),children:r},u?"uncontrolled":"controlled")},Moe=W("div",{target:"e21jg9v1"})({name:"g78t84",styles:"display:flex;justify-content:flex-end;margin-top:1rem"}),Roe=W("button",{target:"e21jg9v0"})("padding:0.25rem 2rem;font-weight:bold;cursor:pointer;color:white;border:1px solid white;border-radius:0.5rem;background:none;font-size:1.75rem;&:hover{color:",$e.colors.text.active,";border-color:",$e.colors.text.active,";}&:active{color:white;background:",$e.colors.text.active,";border-color:none;}"),Ioe=Wt(g.jsx("path",{d:"M7 14H5v5h5v-2H7zm-2-4h2V7h3V5H5zm12 7h-3v2h5v-5h-2zM14 5v2h3v3h2V5z"}),"Fullscreen"),Ooe=Wt(g.jsx("path",{d:"M5 16h3v3h2v-5H5zm3-8H5v2h5V5H8zm6 11h2v-3h3v-2h-5zm2-11V5h-2v5h5V8z"}),"FullscreenExit");function joe(){const[,e]=St(mw),[t]=St(ai),[n,r]=x.useState(document.fullscreenElement!==null);return x.useEffect(()=>{const i=()=>{r(document.fullscreenElement!==null)};return document.addEventListener("fullscreenchange",i),()=>{document.removeEventListener("fullscreenchange",i)}},[]),g.jsx(Zd,{title:"Toggle fullscreen",place:"bottom-end",children:g.jsx(Nv,{"data-test":"toggle-fullscreen",size:"small",onClick:async()=>{var i,s;try{document.fullscreenElement===null?(e(!0),await document.body.requestFullscreen(),t&&(global.screen.orientation.unlock(),await((s=(i=global.screen.orientation).lock)==null?void 0:s.call(i,"landscape")))):(e(!1),await document.exitFullscreen(),t&&global.screen.orientation.unlock())}catch(l){console.info(l)}},children:n?g.jsx(Ooe,{}):g.jsx(Ioe,{})})})}const JB=En(cu)(e=>["!flex-row duration-300 text-md typography cursor-pointer justify-center border-0 bg-black/75 text-white uppercase shadow-focusable pointer-events-auto",!ds()&&e["data-focused"]?"animate-button-focused scale-105":"",e["data-focused"]?"bg-active shadow-none":"",e.disabled?"cursor-default !text-gray-300 bg-gray-500 pointer-events-none !animate-none !scale-100":"active:bg-active",e["data-inactive"]?"!line-through decoration-white opacity-25":"!no-underline",e["data-read-only"]?"!cursor-default active:bg-black/75":""]),ZB=({inactive:e,readOnly:t,focused:n,...r})=>({...r,...n?{"data-focused":!0}:{},...e?{"data-inactive":!0}:{},...t?{"data-read-only":!0,"aria-readonly":!0}:{}}),HE=({children:e,...t})=>g.jsx(JB,{className:"",...ZB(t),as:"button",children:e}),eN=({children:e,...t})=>g.jsx(JB,{...ZB(t),as:"a",children:e}),Poe=ou("@keyframes button-focus-loop{0%,100%{transform:scale(1.045);}50%{transform:scale(1.055);}}animation:button-focus-loop 600ms ease-in-out infinite both;transform:scale(1.05);background:",$e.colors.text.active,";",""),Voe=ou("transform:scale(1.05);background:",$e.colors.text.active,";",""),tN=ds()?Voe:Poe,Ba=HE,Doe=({size:e="regular",className:t,...n})=>{const r="href"in n?eN:HE;return g.jsx(r,{...n,"data-size":e,className:`${e==="small"?"h-20":"h-36"} ${t}`})},Boe=En(cu)`w-[100vw] sm:max-w-[85rem] m-[2rem auto 0 auto] [view-transition-name:menu-container] items-stretch pointer-events-auto`,nN=En(ps)`text-xl text-active flex items-center justify-center`,Noe=En(ps)`text-md`,Pt=({title:e,children:t,className:n,spacing:r="regular",ref:i,...s})=>g.jsxs(Boe,{...s,className:`${n} ${r==="tight"?"p-6 gap-3":"p-10 gap-6"}`,ref:i,children:[e&&g.jsx(nN,{children:e}),t]});Pt.Header=nN;Pt.Button=Doe;Pt.ButtonGroup=En.div`flex`;Pt.HelpText=Noe;Pt.Divider=()=>g.jsx("hr",{});const mt=Pt.Button,uu=Pt;function Dl({children:e,onClose:t}){return g.jsxs(g.Fragment,{children:[g.jsx(Loe,{onClick:t,className:"starting:opacity-0 opacity-100 duration-300"}),g.jsx("div",{onClick:t,className:"fixed top-0 left-0 w-screen h-screen z-[20001] overflow-auto opacity-100 starting:opacity-0 starting:top-20 duration-300",children:g.jsx("div",{className:"flex items-center justify-center min-h-full",children:g.jsx("div",{onClick:n=>n.stopPropagation(),children:e})})})]})}const Loe=W("div",{target:"e7rcptf0"})({name:"25wq6t",styles:"position:fixed;top:0;left:0;background:rgba(0, 0, 0, 0.7);width:100vw;height:100vh;z-index:20000;backdrop-filter:blur(20px)"});let Foe=0;function Af(e,t){const n=x.useRef(`${String(Math.random())}-${Foe++}`),{setKeyboard:r,unsetKeyboard:i}=x.useContext(vE),s=c=>{r(n.current,c)},l=()=>i(n.current);return x.useEffect(()=>(t&&s(e),l),[e,t]),{setHelp:s,clearHelp:l}}function dr(e={},t=!1){var M;const{enabled:n=!0,onBackspace:r,backspaceHelp:i=null,direction:s="vertical",additionalHelp:l={}}=e,[c,d]=x.useState(null),u=x.useRef([]),p=x.useRef([]),h=x.useRef({}),y=(M=h.current[c])==null?void 0:M.label,v=x.useMemo(()=>({[s]:null,accept:y??null,back:r?i:void 0,...l}),[y,h,i,s]);Af(v,n);const b=()=>{var E;(E=h.current[c])==null||E.callback(),qw.play()},_=()=>{r&&(Gw.play(),r())},w=E=>{const O=c?u.current.indexOf(c):0;xv.play(),d(u.current.at((O+E)%u.current.length)??null)};gf({[s==="vertical"?"up":"left"]:()=>w(-1),[s==="vertical"?"down":"right"]:()=>w(1),accept:b,back:_},n,[c,u.current]);let T="";const k=(E,O,P,j=!1,{propName:V="onClick",disabled:C=!1}={})=>{if(C)return{disabled:C,focused:!1};p.current.push(E),O&&(h.current[E]={callback:O,label:P,propName:V}),j&&(T=E);const N=n&&c===E;return{focused:N,[V]:O,$keyboardNavigationChangeFocus:w,"data-test":E,...n?{"data-focused":N,"data-e2e-focused":N}:{}}};return x.useEffect(()=>{var E;(E=document.querySelector(`[data-test="${c}"]`))==null||E.scrollIntoView({behavior:"smooth",block:"center"})},[c]),x.useEffect(()=>{const E=p.current.filter(O=>!u.current.includes(O));t&&E.length&&console.log("new elements",E),u.current=[...p.current],p.current.length=0,u.current.length&&(c===null||u.current.indexOf(c)===-1||E.includes(T))&&d(T||u.current[0])}),{focusElement:E=>{u.current.includes(E)&&d(E)},focused:c,register:k}}var zoe=Object.defineProperty,D0=Object.getOwnPropertySymbols,rN=Object.prototype.hasOwnProperty,iN=Object.prototype.propertyIsEnumerable,T3=(e,t,n)=>t in e?zoe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Op=(e,t)=>{for(var n in t||(t={}))rN.call(t,n)&&T3(e,n,t[n]);if(D0)for(var n of D0(t))iN.call(t,n)&&T3(e,n,t[n]);return e},qE=(e,t)=>{var n={};for(var r in e)rN.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&D0)for(var r of D0(e))t.indexOf(r)<0&&iN.call(e,r)&&(n[r]=e[r]);return n};/**
 * @license QR Code generator library (TypeScript)
 * Copyright (c) Project Nayuki.
 * SPDX-License-Identifier: MIT
 */var Jc;(e=>{const t=class{constructor(d,u,p,h){if(this.version=d,this.errorCorrectionLevel=u,this.modules=[],this.isFunction=[],d<t.MIN_VERSION||d>t.MAX_VERSION)throw new RangeError("Version value out of range");if(h<-1||h>7)throw new RangeError("Mask value out of range");this.size=d*4+17;let y=[];for(let b=0;b<this.size;b++)y.push(!1);for(let b=0;b<this.size;b++)this.modules.push(y.slice()),this.isFunction.push(y.slice());this.drawFunctionPatterns();const v=this.addEccAndInterleave(p);if(this.drawCodewords(v),h==-1){let b=1e9;for(let _=0;_<8;_++){this.applyMask(_),this.drawFormatBits(_);const w=this.getPenaltyScore();w<b&&(h=_,b=w),this.applyMask(_)}}s(0<=h&&h<=7),this.mask=h,this.applyMask(h),this.drawFormatBits(h),this.isFunction=[]}static encodeText(d,u){const p=e.QrSegment.makeSegments(d);return t.encodeSegments(p,u)}static encodeBinary(d,u){const p=e.QrSegment.makeBytes(d);return t.encodeSegments([p],u)}static encodeSegments(d,u,p=1,h=40,y=-1,v=!0){if(!(t.MIN_VERSION<=p&&p<=h&&h<=t.MAX_VERSION)||y<-1||y>7)throw new RangeError("Invalid value");let b,_;for(b=p;;b++){const R=t.getNumDataCodewords(b,u)*8,M=c.getTotalBits(d,b);if(M<=R){_=M;break}if(b>=h)throw new RangeError("Data too long")}for(const R of[t.Ecc.MEDIUM,t.Ecc.QUARTILE,t.Ecc.HIGH])v&&_<=t.getNumDataCodewords(b,R)*8&&(u=R);let w=[];for(const R of d){r(R.mode.modeBits,4,w),r(R.numChars,R.mode.numCharCountBits(b),w);for(const M of R.getData())w.push(M)}s(w.length==_);const T=t.getNumDataCodewords(b,u)*8;s(w.length<=T),r(0,Math.min(4,T-w.length),w),r(0,(8-w.length%8)%8,w),s(w.length%8==0);for(let R=236;w.length<T;R^=253)r(R,8,w);let k=[];for(;k.length*8<w.length;)k.push(0);return w.forEach((R,M)=>k[M>>>3]|=R<<7-(M&7)),new t(b,u,k,y)}getModule(d,u){return 0<=d&&d<this.size&&0<=u&&u<this.size&&this.modules[u][d]}getModules(){return this.modules}drawFunctionPatterns(){for(let p=0;p<this.size;p++)this.setFunctionModule(6,p,p%2==0),this.setFunctionModule(p,6,p%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);const d=this.getAlignmentPatternPositions(),u=d.length;for(let p=0;p<u;p++)for(let h=0;h<u;h++)p==0&&h==0||p==0&&h==u-1||p==u-1&&h==0||this.drawAlignmentPattern(d[p],d[h]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(d){const u=this.errorCorrectionLevel.formatBits<<3|d;let p=u;for(let y=0;y<10;y++)p=p<<1^(p>>>9)*1335;const h=(u<<10|p)^21522;s(h>>>15==0);for(let y=0;y<=5;y++)this.setFunctionModule(8,y,i(h,y));this.setFunctionModule(8,7,i(h,6)),this.setFunctionModule(8,8,i(h,7)),this.setFunctionModule(7,8,i(h,8));for(let y=9;y<15;y++)this.setFunctionModule(14-y,8,i(h,y));for(let y=0;y<8;y++)this.setFunctionModule(this.size-1-y,8,i(h,y));for(let y=8;y<15;y++)this.setFunctionModule(8,this.size-15+y,i(h,y));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let d=this.version;for(let p=0;p<12;p++)d=d<<1^(d>>>11)*7973;const u=this.version<<12|d;s(u>>>18==0);for(let p=0;p<18;p++){const h=i(u,p),y=this.size-11+p%3,v=Math.floor(p/3);this.setFunctionModule(y,v,h),this.setFunctionModule(v,y,h)}}drawFinderPattern(d,u){for(let p=-4;p<=4;p++)for(let h=-4;h<=4;h++){const y=Math.max(Math.abs(h),Math.abs(p)),v=d+h,b=u+p;0<=v&&v<this.size&&0<=b&&b<this.size&&this.setFunctionModule(v,b,y!=2&&y!=4)}}drawAlignmentPattern(d,u){for(let p=-2;p<=2;p++)for(let h=-2;h<=2;h++)this.setFunctionModule(d+h,u+p,Math.max(Math.abs(h),Math.abs(p))!=1)}setFunctionModule(d,u,p){this.modules[u][d]=p,this.isFunction[u][d]=!0}addEccAndInterleave(d){const u=this.version,p=this.errorCorrectionLevel;if(d.length!=t.getNumDataCodewords(u,p))throw new RangeError("Invalid argument");const h=t.NUM_ERROR_CORRECTION_BLOCKS[p.ordinal][u],y=t.ECC_CODEWORDS_PER_BLOCK[p.ordinal][u],v=Math.floor(t.getNumRawDataModules(u)/8),b=h-v%h,_=Math.floor(v/h);let w=[];const T=t.reedSolomonComputeDivisor(y);for(let R=0,M=0;R<h;R++){let E=d.slice(M,M+_-y+(R<b?0:1));M+=E.length;const O=t.reedSolomonComputeRemainder(E,T);R<b&&E.push(0),w.push(E.concat(O))}let k=[];for(let R=0;R<w[0].length;R++)w.forEach((M,E)=>{(R!=_-y||E>=b)&&k.push(M[R])});return s(k.length==v),k}drawCodewords(d){if(d.length!=Math.floor(t.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");let u=0;for(let p=this.size-1;p>=1;p-=2){p==6&&(p=5);for(let h=0;h<this.size;h++)for(let y=0;y<2;y++){const v=p-y,_=(p+1&2)==0?this.size-1-h:h;!this.isFunction[_][v]&&u<d.length*8&&(this.modules[_][v]=i(d[u>>>3],7-(u&7)),u++)}}s(u==d.length*8)}applyMask(d){if(d<0||d>7)throw new RangeError("Mask value out of range");for(let u=0;u<this.size;u++)for(let p=0;p<this.size;p++){let h;switch(d){case 0:h=(p+u)%2==0;break;case 1:h=u%2==0;break;case 2:h=p%3==0;break;case 3:h=(p+u)%3==0;break;case 4:h=(Math.floor(p/3)+Math.floor(u/2))%2==0;break;case 5:h=p*u%2+p*u%3==0;break;case 6:h=(p*u%2+p*u%3)%2==0;break;case 7:h=((p+u)%2+p*u%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[u][p]&&h&&(this.modules[u][p]=!this.modules[u][p])}}getPenaltyScore(){let d=0;for(let y=0;y<this.size;y++){let v=!1,b=0,_=[0,0,0,0,0,0,0];for(let w=0;w<this.size;w++)this.modules[y][w]==v?(b++,b==5?d+=t.PENALTY_N1:b>5&&d++):(this.finderPenaltyAddHistory(b,_),v||(d+=this.finderPenaltyCountPatterns(_)*t.PENALTY_N3),v=this.modules[y][w],b=1);d+=this.finderPenaltyTerminateAndCount(v,b,_)*t.PENALTY_N3}for(let y=0;y<this.size;y++){let v=!1,b=0,_=[0,0,0,0,0,0,0];for(let w=0;w<this.size;w++)this.modules[w][y]==v?(b++,b==5?d+=t.PENALTY_N1:b>5&&d++):(this.finderPenaltyAddHistory(b,_),v||(d+=this.finderPenaltyCountPatterns(_)*t.PENALTY_N3),v=this.modules[w][y],b=1);d+=this.finderPenaltyTerminateAndCount(v,b,_)*t.PENALTY_N3}for(let y=0;y<this.size-1;y++)for(let v=0;v<this.size-1;v++){const b=this.modules[y][v];b==this.modules[y][v+1]&&b==this.modules[y+1][v]&&b==this.modules[y+1][v+1]&&(d+=t.PENALTY_N2)}let u=0;for(const y of this.modules)u=y.reduce((v,b)=>v+(b?1:0),u);const p=this.size*this.size,h=Math.ceil(Math.abs(u*20-p*10)/p)-1;return s(0<=h&&h<=9),d+=h*t.PENALTY_N4,s(0<=d&&d<=2568888),d}getAlignmentPatternPositions(){if(this.version==1)return[];{const d=Math.floor(this.version/7)+2,u=this.version==32?26:Math.ceil((this.version*4+4)/(d*2-2))*2;let p=[6];for(let h=this.size-7;p.length<d;h-=u)p.splice(1,0,h);return p}}static getNumRawDataModules(d){if(d<t.MIN_VERSION||d>t.MAX_VERSION)throw new RangeError("Version number out of range");let u=(16*d+128)*d+64;if(d>=2){const p=Math.floor(d/7)+2;u-=(25*p-10)*p-55,d>=7&&(u-=36)}return s(208<=u&&u<=29648),u}static getNumDataCodewords(d,u){return Math.floor(t.getNumRawDataModules(d)/8)-t.ECC_CODEWORDS_PER_BLOCK[u.ordinal][d]*t.NUM_ERROR_CORRECTION_BLOCKS[u.ordinal][d]}static reedSolomonComputeDivisor(d){if(d<1||d>255)throw new RangeError("Degree out of range");let u=[];for(let h=0;h<d-1;h++)u.push(0);u.push(1);let p=1;for(let h=0;h<d;h++){for(let y=0;y<u.length;y++)u[y]=t.reedSolomonMultiply(u[y],p),y+1<u.length&&(u[y]^=u[y+1]);p=t.reedSolomonMultiply(p,2)}return u}static reedSolomonComputeRemainder(d,u){let p=u.map(h=>0);for(const h of d){const y=h^p.shift();p.push(0),u.forEach((v,b)=>p[b]^=t.reedSolomonMultiply(v,y))}return p}static reedSolomonMultiply(d,u){if(d>>>8||u>>>8)throw new RangeError("Byte out of range");let p=0;for(let h=7;h>=0;h--)p=p<<1^(p>>>7)*285,p^=(u>>>h&1)*d;return s(p>>>8==0),p}finderPenaltyCountPatterns(d){const u=d[1];s(u<=this.size*3);const p=u>0&&d[2]==u&&d[3]==u*3&&d[4]==u&&d[5]==u;return(p&&d[0]>=u*4&&d[6]>=u?1:0)+(p&&d[6]>=u*4&&d[0]>=u?1:0)}finderPenaltyTerminateAndCount(d,u,p){return d&&(this.finderPenaltyAddHistory(u,p),u=0),u+=this.size,this.finderPenaltyAddHistory(u,p),this.finderPenaltyCountPatterns(p)}finderPenaltyAddHistory(d,u){u[0]==0&&(d+=this.size),u.pop(),u.unshift(d)}};let n=t;n.MIN_VERSION=1,n.MAX_VERSION=40,n.PENALTY_N1=3,n.PENALTY_N2=3,n.PENALTY_N3=40,n.PENALTY_N4=10,n.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],n.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],e.QrCode=n;function r(d,u,p){if(u<0||u>31||d>>>u)throw new RangeError("Value out of range");for(let h=u-1;h>=0;h--)p.push(d>>>h&1)}function i(d,u){return(d>>>u&1)!=0}function s(d){if(!d)throw new Error("Assertion error")}const l=class{constructor(d,u,p){if(this.mode=d,this.numChars=u,this.bitData=p,u<0)throw new RangeError("Invalid argument");this.bitData=p.slice()}static makeBytes(d){let u=[];for(const p of d)r(p,8,u);return new l(l.Mode.BYTE,d.length,u)}static makeNumeric(d){if(!l.isNumeric(d))throw new RangeError("String contains non-numeric characters");let u=[];for(let p=0;p<d.length;){const h=Math.min(d.length-p,3);r(parseInt(d.substr(p,h),10),h*3+1,u),p+=h}return new l(l.Mode.NUMERIC,d.length,u)}static makeAlphanumeric(d){if(!l.isAlphanumeric(d))throw new RangeError("String contains unencodable characters in alphanumeric mode");let u=[],p;for(p=0;p+2<=d.length;p+=2){let h=l.ALPHANUMERIC_CHARSET.indexOf(d.charAt(p))*45;h+=l.ALPHANUMERIC_CHARSET.indexOf(d.charAt(p+1)),r(h,11,u)}return p<d.length&&r(l.ALPHANUMERIC_CHARSET.indexOf(d.charAt(p)),6,u),new l(l.Mode.ALPHANUMERIC,d.length,u)}static makeSegments(d){return d==""?[]:l.isNumeric(d)?[l.makeNumeric(d)]:l.isAlphanumeric(d)?[l.makeAlphanumeric(d)]:[l.makeBytes(l.toUtf8ByteArray(d))]}static makeEci(d){let u=[];if(d<0)throw new RangeError("ECI assignment value out of range");if(d<128)r(d,8,u);else if(d<16384)r(2,2,u),r(d,14,u);else if(d<1e6)r(6,3,u),r(d,21,u);else throw new RangeError("ECI assignment value out of range");return new l(l.Mode.ECI,0,u)}static isNumeric(d){return l.NUMERIC_REGEX.test(d)}static isAlphanumeric(d){return l.ALPHANUMERIC_REGEX.test(d)}getData(){return this.bitData.slice()}static getTotalBits(d,u){let p=0;for(const h of d){const y=h.mode.numCharCountBits(u);if(h.numChars>=1<<y)return 1/0;p+=4+y+h.bitData.length}return p}static toUtf8ByteArray(d){d=encodeURI(d);let u=[];for(let p=0;p<d.length;p++)d.charAt(p)!="%"?u.push(d.charCodeAt(p)):(u.push(parseInt(d.substr(p+1,2),16)),p+=2);return u}};let c=l;c.NUMERIC_REGEX=/^[0-9]*$/,c.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,c.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",e.QrSegment=c})(Jc||(Jc={}));(e=>{(t=>{const n=class{constructor(i,s){this.ordinal=i,this.formatBits=s}};let r=n;r.LOW=new n(0,1),r.MEDIUM=new n(1,0),r.QUARTILE=new n(2,3),r.HIGH=new n(3,2),t.Ecc=r})(e.QrCode||(e.QrCode={}))})(Jc||(Jc={}));(e=>{(t=>{const n=class{constructor(i,s){this.modeBits=i,this.numBitsCharCount=s}numCharCountBits(i){return this.numBitsCharCount[Math.floor((i+7)/17)]}};let r=n;r.NUMERIC=new n(1,[10,12,14]),r.ALPHANUMERIC=new n(2,[9,11,13]),r.BYTE=new n(4,[8,16,16]),r.KANJI=new n(8,[8,10,12]),r.ECI=new n(7,[0,0,0]),t.Mode=r})(e.QrSegment||(e.QrSegment={}))})(Jc||(Jc={}));var md=Jc;/**
 * @license qrcode.react
 * Copyright (c) Paul O'Shannessy
 * SPDX-License-Identifier: ISC
 */var sN={L:md.QrCode.Ecc.LOW,M:md.QrCode.Ecc.MEDIUM,Q:md.QrCode.Ecc.QUARTILE,H:md.QrCode.Ecc.HIGH},aN=128,oN="L",lN="#FFFFFF",cN="#000000",uN=!1,GE=4,$oe=.1;function dN(e,t=0){const n=[];return e.forEach(function(r,i){let s=null;r.forEach(function(l,c){if(!l&&s!==null){n.push(`M${s+t} ${i+t}h${c-s}v1H${s+t}z`),s=null;return}if(c===r.length-1){if(!l)return;s===null?n.push(`M${c+t},${i+t} h1v1H${c+t}z`):n.push(`M${s+t},${i+t} h${c+1-s}v1H${s+t}z`);return}l&&s===null&&(s=c)})}),n.join("")}function fN(e,t){return e.slice().map((n,r)=>r<t.y||r>=t.y+t.h?n:n.map((i,s)=>s<t.x||s>=t.x+t.w?i:!1))}function hN(e,t,n,r){if(r==null)return null;const i=n?GE:0,s=e.length+i*2,l=Math.floor(t*$oe),c=s/t,d=(r.width||l)*c,u=(r.height||l)*c,p=r.x==null?e.length/2-d/2:r.x*c,h=r.y==null?e.length/2-u/2:r.y*c;let y=null;if(r.excavate){let v=Math.floor(p),b=Math.floor(h),_=Math.ceil(d+p-v),w=Math.ceil(u+h-b);y={x:v,y:b,w:_,h:w}}return{x:p,y:h,h:u,w:d,excavation:y}}var Uoe=function(){try{new Path2D().addPath(new Path2D)}catch{return!1}return!0}();function pN(e){const t=e,{value:n,size:r=aN,level:i=oN,bgColor:s=lN,fgColor:l=cN,includeMargin:c=uN,style:d,imageSettings:u}=t,p=qE(t,["value","size","level","bgColor","fgColor","includeMargin","style","imageSettings"]),h=u==null?void 0:u.src,y=x.useRef(null),v=x.useRef(null),[b,_]=x.useState(!1);x.useEffect(()=>{if(y.current!=null){const k=y.current,R=k.getContext("2d");if(!R)return;let M=md.QrCode.encodeText(n,sN[i]).getModules();const E=c?GE:0,O=M.length+E*2,P=hN(M,r,c,u),j=v.current,V=P!=null&&j!==null&&j.complete&&j.naturalHeight!==0&&j.naturalWidth!==0;V&&P.excavation!=null&&(M=fN(M,P.excavation));const C=window.devicePixelRatio||1;k.height=k.width=r*C;const N=r/O*C;R.scale(N,N),R.fillStyle=s,R.fillRect(0,0,O,O),R.fillStyle=l,Uoe?R.fill(new Path2D(dN(M,E))):M.forEach(function(U,L){U.forEach(function(q,H){q&&R.fillRect(H+E,L+E,1,1)})}),V&&R.drawImage(j,P.x+E,P.y+E,P.w,P.h)}}),x.useEffect(()=>{_(!1)},[h]);const w=Op({height:r,width:r},d);let T=null;return h!=null&&(T=Xe.createElement("img",{src:h,key:h,style:{display:"none"},onLoad:()=>{_(!0)},ref:v})),Xe.createElement(Xe.Fragment,null,Xe.createElement("canvas",Op({style:w,height:r,width:r,ref:y},p)),T)}function gN(e){const t=e,{value:n,size:r=aN,level:i=oN,bgColor:s=lN,fgColor:l=cN,includeMargin:c=uN,imageSettings:d}=t,u=qE(t,["value","size","level","bgColor","fgColor","includeMargin","imageSettings"]);let p=md.QrCode.encodeText(n,sN[i]).getModules();const h=c?GE:0,y=p.length+h*2,v=hN(p,r,c,d);let b=null;d!=null&&v!=null&&(v.excavation!=null&&(p=fN(p,v.excavation)),b=Xe.createElement("image",{xlinkHref:d.src,height:v.h,width:v.w,x:v.x+h,y:v.y+h,preserveAspectRatio:"none"}));const _=dN(p,h);return Xe.createElement("svg",Op({height:r,width:r,viewBox:`0 0 ${y} ${y}`},u),Xe.createElement("path",{fill:s,d:`M0,0 h${y}v${y}H0z`,shapeRendering:"crispEdges"}),Xe.createElement("path",{fill:l,d:_,shapeRendering:"crispEdges"}),b)}var Hoe=e=>{const t=e,{renderAs:n}=t,r=qE(t,["renderAs"]);return n==="svg"?Xe.createElement(gN,Op({},r)):Xe.createElement(pN,Op({},r))};const qoe=Object.freeze(Object.defineProperty({__proto__:null,QRCodeCanvas:pN,QRCodeSVG:gN,default:Hoe},Symbol.toStringTag,{value:"Module"}));var X1={exports:{}},J1={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var C3;function Goe(){if(C3)return J1;C3=1;var e=Zc();function t(h,y){return h===y&&(h!==0||1/h===1/y)||h!==h&&y!==y}var n=typeof Object.is=="function"?Object.is:t,r=e.useState,i=e.useEffect,s=e.useLayoutEffect,l=e.useDebugValue;function c(h,y){var v=y(),b=r({inst:{value:v,getSnapshot:y}}),_=b[0].inst,w=b[1];return s(function(){_.value=v,_.getSnapshot=y,d(_)&&w({inst:_})},[h,v,y]),i(function(){return d(_)&&w({inst:_}),h(function(){d(_)&&w({inst:_})})},[h]),l(v),v}function d(h){var y=h.getSnapshot;h=h.value;try{var v=y();return!n(h,v)}catch{return!0}}function u(h,y){return y()}var p=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?u:c;return J1.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:p,J1}var k3;function Yoe(){return k3||(k3=1,X1.exports=Goe()),X1.exports}var Koe=Yoe();const{useEffect:Woe,useLayoutEffect:Qoe,useRef:Xoe,useInsertionEffect:Joe}=a0,Zoe=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",ele=Zoe?Qoe:Woe,mN=Joe||ele,yN=e=>{const t=Xoe([e,(...n)=>t[0](...n)]).current;return mN(()=>{t[0]=e}),t[1]},tle=(e="",t=location.pathname)=>t.toLowerCase().indexOf(e.toLowerCase())?"~"+t:t.slice(e.length)||"/",nle=(e,t="")=>e[0]==="~"?e.slice(1):t+e,rle="popstate",YE="pushState",KE="replaceState",ile="hashchange",M3=[rle,YE,KE,ile],sle=e=>{for(const t of M3)addEventListener(t,e);return()=>{for(const t of M3)removeEventListener(t,e)}},ale=(e,t)=>Koe.useSyncExternalStore(sle,e,t),R3=()=>location.pathname,ole=({ssrPath:e}={})=>ale(R3,e?()=>e:R3),lle=(e,{replace:t=!1}={})=>history[t?KE:YE](null,"",e),cle=(e={})=>[tle(e.base,ole(e)),yN((t,n)=>lle(nle(t,e.base),n))];if(typeof history<"u")for(const e of[YE,KE]){const t=history[e];history[e]=function(){const n=t.apply(this,arguments),r=new Event(e);return r.arguments=arguments,dispatchEvent(r),n}}function ule(e=fle){let t={};const n=r=>t[r]||(t[r]=e(r));return(r,i)=>{const{regexp:s,keys:l}=n(r||""),c=s.exec(i);return c?[!0,l.reduce((u,p,h)=>(u[p.name]=c[h+1],u),{})]:[!1,null]}}const I3=e=>e.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1"),dle=(e,t,n)=>{let r=e?"((?:[^\\/]+?)(?:\\/(?:[^\\/]+?))*)":"([^\\/]+?)";return t&&n&&(r="(?:\\/"+r+")"),r+(t?"?":"")},fle=e=>{const t=/:([A-Za-z0-9_]+)([?+*]?)/g;let n=null,r=0,i=[],s="";for(;(n=t.exec(e))!==null;){const[l,c,d]=n,u=d==="+"||d==="*",p=d==="?"||d==="*",h=p&&e[n.index-1]==="/"?1:0,y=e.substring(r,n.index-h);i.push({name:c}),r=t.lastIndex,s+=I3(y)+dle(u,p,h)}return s+=I3(e.substring(r)),{keys:i,regexp:new RegExp("^"+s+"(?:\\/)?$","i")}},Px={hook:cle,matcher:ule(),base:""},vN=x.createContext(Px),zv=()=>x.useContext(vN),$v=e=>e.hook(e),hle=()=>$v(zv()),AN=e=>{const t=zv(),[n]=$v(t);return t.matcher(e,n)},ple=x.createContext({params:{}}),gle=({hook:e,matcher:t,ssrPath:n,base:r="",parent:i,children:s})=>{const l=(d,u=i||Px)=>(d.hook=e||u.hook,d.matcher=t||u.matcher,d.ssrPath=n||u.ssrPath,d.ownBase=r,d.parent=i,d),[c]=x.useState(()=>l({get base(){return(c.parent||Px).base+c.ownBase}}));return mN(()=>{l(c)}),x.createElement(vN.Provider,{value:c,children:s})},O3=(e,t)=>x.createElement(ple.Provider,{value:{params:e},children:t}),Xr=({path:e,match:t,component:n,children:r})=>{const i=AN(e),[s,l]=t||i;return s?n?O3(l,x.createElement(n,{params:l})):O3(l,typeof r=="function"?r(l):r):null},Uv=x.forwardRef((e,t)=>{const n=zv(),[,r]=$v(n),{to:i,href:s=i,children:l,onClick:c}=e,d=yN(h=>{h.ctrlKey||h.metaKey||h.altKey||h.shiftKey||h.button!==0||(c&&c(h),h.defaultPrevented||(h.preventDefault(),r(i||s,e)))}),u={href:s[0]==="~"?s.slice(1):n.base+s,onClick:d,to:null,ref:t},p=x.isValidElement(l)?l:x.createElement("a",e);return x.cloneElement(p,u)}),Vx=e=>Array.isArray(e)?[].concat(...e.map(t=>t&&t.type===x.Fragment?Vx(t.props.children):Vx(t))):[e],mle=({children:e,location:t})=>{const n=zv(),r=n.matcher,[i]=$v(n);for(const s of Vx(e)){let l=0;if(x.isValidElement(s)&&(l=s.props.path?r(s.props.path,t||i):[!0,{}])[0])return x.cloneElement(s,{match:l})}return null},{QRCodeSVG:yle}=qoe;function Z1({gameCode:e,...t}){return g.jsx(Sle,{...t,children:e.split("").map((n,r)=>g.jsx("span",{children:n},r))})}function WE(){var i;const e=new URL((i=global.location)==null?void 0:i.href),[t]=AN("remote-mic"),n=Mv("room")??Oc.getGameCode();e.pathname="/remote-mic",e.searchParams.set("room",n);const r=e.href;return x.useEffect(()=>{t||Oc.start()},[t]),g.jsxs(wle,{children:[g.jsx(Tle,{children:g.jsxs("h1",{children:["Code: ",g.jsx(Z1,{gameCode:n})]})}),g.jsx(Ele,{children:g.jsx(yle,{value:r,width:"100%",height:"100%",includeMargin:!0})}),g.jsxs(Cle,{children:[g.jsxs(vle,{children:[g.jsxs("h3",{children:["Game code: ",g.jsx(Z1,{gameCode:n,"data-test":"game-code"})]}),g.jsxs("ol",{children:[g.jsxs("li",{children:["Go to"," ",g.jsx("a",{href:e.origin,target:"_blank",rel:"noreferrer",children:"allkaraoke.party"})," ","on your phone"]}),g.jsxs("li",{children:["Click on ",g.jsx("b",{children:"Join game"})]}),g.jsxs("li",{children:["Enter the code ",g.jsx(Z1,{gameCode:n})]}),g.jsx("li",{children:"Follow the instructions"})]})]}),g.jsxs(Ale,{children:[g.jsx("h4",{children:"Or copy and send the link"}),g.jsxs(ble,{children:[g.jsx(xle,{disabled:!0,value:r,"data-test":"server-link-input"}),g.jsx(_le,{onClick:()=>{navigator.clipboard.writeText(r)},children:"Copy"})]})]})]})]})}const vle=W("div",{target:"eg58fmd9"})({name:"82a6rk",styles:"flex:1"}),Ale=W("div",{target:"eg58fmd8"})({name:"4dmv1c",styles:"flex:0"}),ble=W("div",{target:"eg58fmd7"})({name:"sqzzkh",styles:"position:relative;margin-top:0.5rem"}),_le=W("button",{target:"eg58fmd6"})("cursor:pointer;position:absolute;padding:0 2rem;right:0;height:100%;box-sizing:border-box;background:",$e.colors.text.active,";",jt,";font-weight:bold;font-size:2.2rem;border:0;:active{background-color:black;}"),Sle=W("strong",{target:"eg58fmd5"})("text-transform:uppercase;padding:0.5rem 1.5rem;border-radius:0.5rem;display:inline-flex;gap:1.5rem;",Wd,";"),xle=W("input",{target:"eg58fmd4"})({name:"gri5w4",styles:"padding:1rem;box-sizing:border-box;background:grey;border:none;width:100%;font-size:1.3rem"}),wle=W("div",{target:"eg58fmd3"})({name:"1d1jk7v",styles:"display:flex;flex-direction:row;flex-wrap:nowrap;align-items:stretch;flex:1;gap:2%;@media (max-width: 560px){flex-direction:column;}"}),Ele=W("div",{target:"eg58fmd2"})({name:"2ogmzh",styles:"flex:0.6;@media (max-width: 560px){flex:0;}"}),Tle=W("div",{target:"eg58fmd1"})({name:"mhlr3w",styles:"display:none;@media (max-width: 560px){display:block;}margin-bottom:2rem"}),Cle=W("div",{target:"eg58fmd0"})("@media (max-width: 560px){display:none;}flex:1;display:flex;flex-direction:column;b{font-weight:bold;",jt,";color:",$e.colors.text.active,";}h3{margin-bottom:1rem;}h4{margin:1rem 0;}ol{padding-left:2.3rem;margin:0 0 1.25rem 0;list-style:decimal inside;}li{color:white;font-size:2rem;line-height:3.2rem;}");function kle({closeModal:e}){const{register:t}=dr({onBackspace:e});return g.jsx(Dl,{onClose:e,children:g.jsxs(uu,{children:[g.jsx(WE,{}),g.jsx(Ba,{...t("quick-connect-close",e),children:"Close"})]})})}function Mle(){const[e,t]=x.useState(!1);St(ai);const[n,r]=St(dV),{hasContent:i}=x.useContext(vE),s=()=>t(!1);return g.jsxs(g.Fragment,{children:[e&&g.jsx(kle,{closeModal:s}),g.jsxs(Rle,{children:[i&&g.jsx(Zd,{title:"Toggle help",place:"bottom-end",children:g.jsx(Ile,{size:"small",onClick:()=>r(!n),"data-test":"toggle-help",children:n?g.jsx(iae,{}):g.jsx(sae,{})})}),g.jsx(joe,{}),g.jsx(Zd,{title:"Connect phone",place:"bottom-end",children:g.jsx(Nv,{size:"small",onClick:()=>t(l=>!l),"data-test":"quick-connect-phone",children:g.jsx(R0,{})})})]})]})}const Rle=W("div",{target:"efkmcew1"})({name:"17druna",styles:"view-transition-name:toolbar;cursor:pointer;background:rgba(0, 0, 0, 0.75);color:white;padding-left:1rem;margin:0;position:fixed;top:0;right:0;z-index:10000;color:white;svg{fill:white;width:3.25rem;height:3.25rem;transition:transform 200ms;&:hover{transform:scale(1.2);}}display:flex;gap:0.75rem;border-bottom-left-radius:1.5rem"}),Ile=W(Nv,{target:"efkmcew0"})({name:"lpoy45",styles:"scale:0.9"});function Bl({children:e,toolbar:t=!0}){return g.jsxs(bre,{children:[t&&g.jsx(Mle,{}),e]})}const bN=Wt(g.jsx("path",{d:"M3 13h2v-2H3zm0 4h2v-2H3zm0-8h2V7H3zm4 4h14v-2H7zm0 4h14v-2H7zM7 7v2h14V7z"}),"List"),Ole=Wt(g.jsx("path",{d:"M19.14 12.94c.04-.3.06-.61.06-.94 0-.32-.02-.64-.07-.94l2.03-1.58c.18-.14.23-.41.12-.61l-1.92-3.32c-.12-.22-.37-.29-.59-.22l-2.39.96c-.5-.38-1.03-.7-1.62-.94l-.36-2.54c-.04-.24-.24-.41-.48-.41h-3.84c-.24 0-.43.17-.47.41l-.36 2.54c-.59.24-1.13.57-1.62.94l-2.39-.96c-.22-.08-.47 0-.59.22L2.74 8.87c-.12.21-.08.47.12.61l2.03 1.58c-.05.3-.09.63-.09.94s.02.64.07.94l-2.03 1.58c-.18.14-.23.41-.12.61l1.92 3.32c.12.22.37.29.59.22l2.39-.96c.5.38 1.03.7 1.62.94l.36 2.54c.05.24.24.41.48.41h3.84c.24 0 .44-.17.47-.41l.36-2.54c.59-.24 1.13-.56 1.62-.94l2.39.96c.22.08.47 0 .59-.22l1.92-3.32c.12-.22.07-.47-.12-.61zM12 15.6c-1.98 0-3.6-1.62-3.6-3.6s1.62-3.6 3.6-3.6 3.6 1.62 3.6 3.6-1.62 3.6-3.6 3.6"}),"Settings"),QE=({christmas:e,...t})=>g.jsx("svg",{viewBox:"0 0 512 512",fill:"currentcolor",...t,children:g.jsx("path",{stroke:"black",strokeWidth:"2%",xmlns:"http://www.w3.org/2000/svg",d:"M252.529,162.029l168.125,210.156c-12.313,1.25-24.031,6.438-33.031,15.438s-14.188,20.719-15.438,33.031L162.029,252.545  c-3.563-24.922,4.813-50.078,22.625-67.891C202.467,166.857,227.623,158.467,252.529,162.029z M398.936,398.936  c-9.063,9.063-13.031,22.063-10.625,34.656l45.281,45.25c12.5,12.5,32.75,12.5,45.25,0s12.5-32.75,0-45.25l-45.25-45.281  C420.998,385.904,407.998,389.873,398.936,398.936z M162.029,162.029c18.594-18.594,43.188-29.891,68.969-32.297  c-3.375-24.563-14.906-49.391-35.031-69.516c-43.75-43.75-109.594-48.813-147.063-11.313  c-37.5,37.484-32.438,103.328,11.313,147.078c20.125,20.125,44.938,31.656,69.5,35.031  C132.154,205.217,143.436,180.623,162.029,162.029z"})}),Dx=En(QE)(e=>[e.christmas?"fill-text-player-0-christmas":"fill-text-player-0"]),_N=En(QE)(e=>[e.christmas?"fill-text-player-1-christmas":"fill-text-player-1"]);function jle({active:e,setActiveTab:t}){return g.jsxs(Ple,{children:[g.jsxs(e_,{active:e==="microphone",onClick:()=>t("microphone"),"data-test":"menu-microphone",children:[g.jsx(t_,{children:g.jsx(QE,{})}),g.jsx(n_,{children:"Microphone"})]}),g.jsxs(e_,{active:e==="song-list",onClick:()=>t("song-list"),"data-test":"menu-song-list",children:[g.jsx(t_,{children:g.jsx(bN,{})}),g.jsx(n_,{children:"Song list"})]}),g.jsxs(e_,{active:e==="settings",onClick:()=>t("settings"),"data-test":"menu-settings",children:[g.jsx(t_,{children:g.jsx(Ole,{})}),g.jsx(n_,{children:"Settings"})]})]})}const Ple=W("div",{target:"e1c2ys9k3"})({name:"1x8gdpu",styles:"position:fixed;bottom:0;right:0;display:flex;align-items:stretch;width:100%;gap:1px;background:#424242;@media (max-height: 500px) and (min-aspect-ratio: 16/10){max-width:400px;transform:scale(0.75);transform-origin:bottom right;}"}),e_=W("div",{target:"e1c2ys9k2"})("cursor:pointer;flex:1;display:flex;flex-direction:column;align-items:center;justify-content:center;background:black;padding:1rem;font-size:1.5rem;gap:0.5rem;color:",e=>e.active?$e.colors.text.active:"#cecece",";"),t_=W("div",{target:"e1c2ys9k1"})({name:"immj2t",styles:"svg{width:2.5rem;height:2.5rem;}font-size:2rem"}),n_=W("div",{target:"e1c2ys9k0"})(""),bf=Wt(g.jsx("path",{d:"M1 21h22L12 2zm12-3h-2v-2h2zm0-4h-2v-4h2z"}),"Warning"),XE=()=>{const[e,t]=x.useState(Sl.getStatus());return x.useEffect(()=>Sl.addListener(t),[]),e};function SN(){return navigator==null?void 0:navigator.userAgent.includes("OPR")}const Vle="/assets/allow-mic-DleF1-pf.png",Dle="/assets/enable-mic-opera-B5FfRj_P.png",Ble="/assets/enable-mic-TGG47ucR.png",Nle=()=>SN()?Dle:Ble,sg=({children:e,fallback:t,showImages:n=!0})=>{const r=XE();return g.jsxs(g.Fragment,{children:[r==="accepted"&&e,r!=="accepted"&&g.jsxs(g.Fragment,{children:[g.jsx(Fle,{children:g.jsx(zle,{})}),t,g.jsxs(Lle,{children:[r==="requested"&&n&&g.jsx("img",{src:Vle,alt:"how-to-allow"}),r==="declined"&&g.jsxs(g.Fragment,{children:[g.jsx("h3",{children:"Access is blocked, you can unblock it here"}),n&&g.jsx("img",{src:Nle(),alt:"how-to-enable"})]}),SN()&&g.jsxs("h4",{children:[g.jsx("strong",{children:"Opera"})," is buggy regarding microphone access - if you encounter issue (e.g. this message stays even after the access to microphone was granted), consider other browsers."]})]})]})]})},Lle=W("div",{target:"e1w9vi9z2"})({name:"1hmq8jv",styles:"text-align:center;img{margin:1.5rem 0 0.5rem;box-shadow:0.5rem 0.5rem 0.5rem rgba(0, 0, 0, 0.5),inset 0 0 0.5rem 0.5rem rgba(255, 255, 255, 0.5);border:0.5rem solid white;border-radius:1rem;box-sizing:border-box;max-width:100%;}"}),Fle=W("div",{target:"e1w9vi9z1"})({name:"zov8s0",styles:"width:100%;display:flex;justify-content:center"}),zle=W(bf,{target:"e1w9vi9z0"})("color:",$e.colors.text.active,";font-size:3rem;");function $le(){return!1}const Dy=Wt(g.jsx("path",{d:"m1 9 2 2c4.97-4.97 13.03-4.97 18 0l2-2C16.93 2.93 7.08 2.93 1 9m8 8 3 3 3-3c-1.65-1.66-4.34-1.66-6 0m-4-4 2 2c2.76-2.76 7.24-2.76 10 0l2-2C15.14 9.14 8.87 9.14 5 13"}),"Wifi");function ag(e,t,n=1){return n===1?(t+1)%e.length:(t+e.length-1)%e.length}function Ule(e,t,n=1){return ag(e,e.indexOf(t),n)}function Pc(e,t,n=1){return e[Ule(e,t,n)]}const Ds=({focused:e,disabled:t=!1,label:n,value:r,onClick:i,info:s,children:l,className:c="",...d})=>g.jsxs(Hle,{children:[g.jsxs(qle,{"data-focused":e,onClick:i,"data-disabled":t,...d,className:`${c} rounded-md shadow-focusable`,children:[g.jsx("span",{children:n?g.jsxs(g.Fragment,{children:[n,":"]}):""})," ",g.jsx(Gle,{children:r}),l??null]}),s&&g.jsx(JE,{children:s})]}),Hle=W("div",{target:"e84wjn53"})(""),JE=W("div",{target:"e84wjn52"})(jt,";font-size:2rem;padding:1rem 0.5rem 0;text-align:justify;"),qle=W("span",{target:"e84wjn51"})("background:rgba(0, 0, 0, 0.7);width:auto;",jt,";text-align:right;font-size:2.7rem;cursor:pointer;padding:0.65rem;display:flex;flex-direction:row;justify-content:space-between;&[data-expanded='true']{font-size:6rem;}&[data-disabled='true']{cursor:default;}&[data-focused='true'][data-disabled='false']{animation:focusAnimation 1000ms ease-in-out infinite both;}&:hover{animation:focusAnimation 1000ms ease-in-out infinite both;}"),Gle=W("span",{target:"e84wjn50"})("color:",$e.colors.text.active,";text-overflow:ellipsis;overflow:hidden;white-space:nowrap;padding-left:1rem;"),du=({focused:e,label:t,value:n,onChange:r,disabled:i,className:s,adornment:l,info:c,ref:d,...u})=>{const p=x.useRef(null);return x.useImperativeHandle(d,()=>p.current),ri(vx,()=>{var h;return(h=p.current)==null?void 0:h.focus()},{enabled:e}),g.jsxs("div",{children:[g.jsxs(Kle,{"data-focused":e,className:`${s} rounded-md`,onClick:()=>{var h;(h=p.current)==null||h.focus()},children:[g.jsx(Wle,{children:t}),g.jsx(Qle,{value:n,onChange:h=>r(h.target.value),...u,disabled:i,ref:p}),l&&g.jsx(Yle,{children:l})]}),c&&g.jsx(JE,{children:c})]})},Yle=W("span",{target:"et2ce2n3"})(""),Kle=W("div",{target:"et2ce2n2"})("background:black;caret:underscore;",jt,";width:auto;display:flex;cursor:text;padding:0.25em;align-items:center;&[data-focused='true']{animation:focusAnimation 1000ms ease-in-out infinite both;}&:hover{animation:focusAnimation 1000ms ease-in-out infinite both;}"),Wle=W("span",{target:"et2ce2n1"})({name:"1805px",styles:"display:inline-flex;align-items:center;justify-content:center;padding-right:0.5em;white-space:nowrap;width:auto;pointer-events:none;svg{font-size:1em;}"}),Qle=W("input",{target:"et2ce2n0"})("padding:0;border:0;background:transparent;caret:underscore;",jt,";color:",$e.colors.text.active,";width:100%;font-size:1em;&:focus{outline:none;}");function Xle(e){return mi("MuiCircularProgress",e)}yi("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);const cl=44,Bx=lu`
  0% {
    transform: rotate(0deg);
  }

  100% {
    transform: rotate(360deg);
  }
`,Nx=lu`
  0% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: 0;
  }

  50% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -15px;
  }

  100% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -125px;
  }
`,Jle=typeof Bx!="string"?ou`
        animation: ${Bx} 1.4s linear infinite;
      `:null,Zle=typeof Nx!="string"?ou`
        animation: ${Nx} 1.4s ease-in-out infinite;
      `:null,ece=e=>{const{classes:t,variant:n,color:r,disableShrink:i}=e,s={root:["root",n,`color${qt(r)}`],svg:["svg"],circle:["circle",`circle${qt(n)}`,i&&"circleDisableShrink"]};return Ii(s,Xle,t)},tce=Bn("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],t[`color${qt(n.color)}`]]}})(qs(({theme:e})=>({display:"inline-block",variants:[{props:{variant:"determinate"},style:{transition:e.transitions.create("transform")}},{props:{variant:"indeterminate"},style:Jle||{animation:`${Bx} 1.4s linear infinite`}},...Object.entries(e.palette).filter(Rp()).map(([t])=>({props:{color:t},style:{color:(e.vars||e).palette[t].main}}))]}))),nce=Bn("svg",{name:"MuiCircularProgress",slot:"Svg",overridesResolver:(e,t)=>t.svg})({display:"block"}),rce=Bn("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.circle,t[`circle${qt(n.variant)}`],n.disableShrink&&t.circleDisableShrink]}})(qs(({theme:e})=>({stroke:"currentColor",variants:[{props:{variant:"determinate"},style:{transition:e.transitions.create("stroke-dashoffset")}},{props:{variant:"indeterminate"},style:{strokeDasharray:"80px, 200px",strokeDashoffset:0}},{props:({ownerState:t})=>t.variant==="indeterminate"&&!t.disableShrink,style:Zle||{animation:`${Nx} 1.4s ease-in-out infinite`}}]}))),ice=x.forwardRef(function(t,n){const r=vi({props:t,name:"MuiCircularProgress"}),{className:i,color:s="primary",disableShrink:l=!1,size:c=40,style:d,thickness:u=3.6,value:p=0,variant:h="indeterminate",...y}=r,v={...r,color:s,disableShrink:l,size:c,thickness:u,value:p,variant:h},b=ece(v),_={},w={},T={};if(h==="determinate"){const k=2*Math.PI*((cl-u)/2);_.strokeDasharray=k.toFixed(3),T["aria-valuenow"]=Math.round(p),_.strokeDashoffset=`${((100-p)/100*k).toFixed(3)}px`,w.transform="rotate(-90deg)"}return g.jsx(tce,{className:Nt(b.root,i),style:{width:c,height:c,...w,...d},ownerState:v,ref:n,role:"progressbar",...T,...y,children:g.jsx(nce,{className:b.svg,ownerState:v,viewBox:`${cl/2} ${cl/2} ${cl} ${cl}`,children:g.jsx(rce,{className:b.circle,style:_,ownerState:v,cx:cl,cy:cl,r:(cl-u)/2,fill:"none",strokeWidth:u})})})});function og(e){return g.jsx(ice,{...e})}let Ym=null;function jp(e){if(!document.startViewTransition)e();else try{Ym&&!Ym.finished&&Ym.skipTransition(),Ym=document.startViewTransition(async()=>{await e()})}catch(t){console.error(t)}}const B0=(e,t)=>{var n;if(t){const r=new URLSearchParams((n=global.location)==null?void 0:n.search);return Object.entries(t).forEach(([i,s])=>{s===null?r.delete(i):r.set(i,s)}),`${e}?${r.toString()}`}return e};function Oi(){const[,e]=hle();return(t,n,{smooth:r=!0,...i}={})=>{r?jp(()=>e(B0(t,n),i)):e(B0(t,n),i)}}const xN=Wt(g.jsx("path",{d:"M20 18c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2H4c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2H0v2h24v-2zM4 6h16v10H4z"}),"Laptop"),wN=Wt(g.jsx("path",{d:"M16 1H8C6.34 1 5 2.34 5 4v16c0 1.66 1.34 3 3 3h8c1.66 0 3-1.34 3-3V4c0-1.66-1.34-3-3-3m-2 20h-4v-1h4zm3.25-3H6.75V4h10.5z"}),"PhoneAndroid"),j3="confirmed-wifi";function sce({onClose:e}){const[t,n]=Xe.useState(at.session.getItem(j3)??!1),r=()=>{at.session.setItem(j3,!0),n(!0),e==null||e()};return x.useEffect(()=>{var i,s,l;if(navigator!=null&&navigator.connection)if(((i=navigator==null?void 0:navigator.connection)==null?void 0:i.type)==="wifi")r();else{const c=()=>{var d;((d=navigator==null?void 0:navigator.connection)==null?void 0:d.type)==="wifi"&&r()};return(l=(s=navigator==null?void 0:navigator.connection)==null?void 0:s.addEventListener)==null||l.call(s,"change",c),()=>{var d,u;return(u=(d=navigator==null?void 0:navigator.connection)==null?void 0:d.removeEventListener)==null?void 0:u.call(d,"change",c)}}},[]),t?null:g.jsx(Dl,{onClose:r,children:g.jsxs(ace,{children:[g.jsxs(oce,{children:[g.jsxs("h3",{children:["Connect to the ",g.jsx("strong",{children:"same Wi-Fi"})]}),g.jsxs(lce,{children:[g.jsx(wN,{}),"...",g.jsx(Dy,{}),"...",g.jsx(xN,{})]}),g.jsx("h4",{children:"Connect to the same Wi-Fi as the game."})]}),g.jsx("h6",{children:"Otherwise microphones might not work properly."}),g.jsx(mt,{onClick:r,focused:!0,"data-test":"confirm-wifi-connection",children:"I'm connected, continue"})]})})}const ace=W(uu,{target:"e1200hll2"})({name:"vcyu3g",styles:"gap:1rem"}),oce=W("div",{target:"e1200hll1"})({name:"1uu7723",styles:"display:flex;flex-direction:column;align-items:center;gap:2rem"}),lce=W("div",{target:"e1200hll0"})("margin:2rem 0;display:flex;color:white;align-items:center;gap:2rem;@keyframes pulse{0%{color:",$e.colors.text.default,";transform:scale(1);}25%{color:",$e.colors.text.active,";transform:scale(1.1);}50%{color:",$e.colors.text.default,";transform:scale(1);}}svg{animation:pulse 2s infinite;font-size:7rem;:nth-of-type(1){animation-delay:0s;}:nth-of-type(2){animation-delay:0.5s;}:nth-of-type(3){animation-delay:1s;}}");function cce(e,t,n,r){n===void 0&&(n=global),r===void 0&&(r={});var i=x.useRef(),s=r.capture,l=r.passive,c=r.once;x.useEffect(function(){i.current=t},[t]),x.useEffect(function(){if(n&&n.addEventListener){var d=function(p){return i.current(p)},u={capture:s,passive:l,once:c};return n.addEventListener(e,d,u),function(){n.removeEventListener(e,d,u)}}},[e,n,s,l,c])}var hc={},uce=function(e,t,n){return hc[e]||(hc[e]={callbacks:[],value:n}),hc[e].callbacks.push(t),{deregister:function(){var r=hc[e].callbacks,i=r.indexOf(t);i>-1&&r.splice(i,1)},emit:function(r){hc[e].value!==r&&(hc[e].value=r,hc[e].callbacks.forEach(function(i){t!==i&&i(r)}))}}};function Nl(e,t){if(t===void 0&&(t=typeof global<"u"&&global.localStorage?global.localStorage:typeof globalThis<"u"&&globalThis.localStorage?globalThis.localStorage:typeof window<"u"&&window.localStorage?window.localStorage:typeof localStorage<"u"?localStorage:null),t){var n=function(r){return{get:function(i,s){var l=r.getItem(i);return l==null?typeof s=="function"?s():s:JSON.parse(l)},set:function(i,s){r.setItem(i,JSON.stringify(s))}}}(t);return function(r){return function(i,s,l){var c=l.get,d=l.set,u=x.useRef(null),p=x.useState(function(){return c(s,i)}),h=p[0],y=p[1];cce("storage",function(b){if(b.key===s){var _=JSON.parse(b.newValue);h!==_&&y(_)}}),x.useEffect(function(){return u.current=uce(s,y,i),function(){u.current.deregister()}},[i,s]);var v=x.useCallback(function(b){var _=typeof b=="function"?b(h):b;d(s,_),y(_),u.current.emit(b)},[h,d,s]);return[h,v]}(r,e,n)}}return x.useState}const dce=Nl("remote_mic_name");function fce({isVisible:e,roomId:t,connectionStatus:n,onConnect:r,connectionError:i}){const[s,l]=dce(""),[c,d]=x.useState(!1),u=x.useRef(null),p=x.useRef(null),[h,y]=x.useState(t??""),v=Oi(),b=n!=="uninitialised"&&n!=="error";x.useEffect(()=>{n==="connected"&&!t&&v("remote-mic/",{room:h})},[n,t,h]);const _=(M=!1)=>{An.connect(h,s,M),r(M)},w=M=>{var E,O;M.preventDefault(),d(!1),!t&&h.length!==ip?(E=u.current)==null||E.focus():s===""?(O=p.current??u.current)==null||O.focus():_()};x.useEffect(()=>{var M;er.capture(t?"remote-mic-qrcode":"remote-mic-manual"),(M=u.current)==null||M.focus()},[]),x.useEffect(()=>{at.session.getItem("reload-mic-request")!==null&&(global.setTimeout(()=>at.session.removeItem("reload-mic-request"),1),_(!0))},[]);const[T,k]=x.useState(!1);x.useEffect(()=>{if(k(!1),n==="connecting"||n==="reconnecting"){const M=setTimeout(()=>k(!0),2e3);return()=>clearTimeout(M)}},[n]);const R=n==="error"&&!c;return e?g.jsxs(g.Fragment,{children:[(t==null?void 0:t.startsWith("p"))&&g.jsx(sce,{onClose:()=>{var M;(M=u.current)==null||M.focus()}}),g.jsxs(hce,{onSubmit:w,children:[!b&&g.jsx(gce,{ref:u,placeholder:"_____",label:"Game code",autoCapitalize:"characters",autoComplete:"off",onChange:y,value:h,maxLength:ip,focused:!1,autoFocus:!0,"data-test":"game-code-input",onFocus:()=>{n==="error"&&d(!0)},onPaste:M=>{M.preventDefault();let E=(M.clipboardData||global.clipboardData).getData("text");E=E.replace(/\s/g,""),y(E.slice(0,ip))}}),g.jsx(du,{maxLength:Pw,focused:!1,label:"Your name",placeholder:"Enter your name",value:s,onChange:l,ref:t?u:p,disabled:b,autoFocus:!0,"data-test":"player-name-input"}),g.jsxs(pce,{type:"submit",disabled:b,"data-test":"connect-button",children:[n==="connecting"&&g.jsx(og,{size:"1em"}),n==="uninitialised"||c?"Connect":n.toUpperCase()]})]}),(T||R)&&g.jsxs(g.Fragment,{children:[T&&g.jsx("h3",{children:"If it doesn't connect"}),R&&g.jsxs(g.Fragment,{children:[g.jsxs("h3",{children:[g.jsx("strong",{children:g.jsx(bf,{})})," ","Could not connect:"]}),g.jsxs("h6",{children:["Error code: ",g.jsx("strong",{children:i})]}),g.jsx("br",{}),i==="peer-unavailable"?g.jsxs(g.Fragment,{children:[g.jsx("h4",{children:t===void 0?"Game with this code not found ":"The game seems to be offline "}),t===void 0&&g.jsxs("h5",{children:["1. Is the code ",g.jsx("strong",{children:h.toUpperCase()})," correct?"]}),g.jsxs("h5",{children:[t===void 0?2:1,". Refresh (",g.jsx("strong",{children:"F5"}),") the Karaoke Game on the PC"]}),t!==void 0&&g.jsxs("h5",{children:["2. Scan the"," ",g.jsxs("strong",{children:[g.jsx(R0,{})," QR Code"]})," ","again"]}),g.jsxs("h5",{children:["3. Make sure you are in the same"," ",g.jsxs("strong",{children:[g.jsx(Dy,{})," Wi-Fi"]})]})]}):i==="network"?g.jsxs(g.Fragment,{children:[g.jsx("h4",{children:"No internet access "}),g.jsxs("h5",{children:["Make sure you are in the same"," ",g.jsxs("strong",{children:[g.jsx(Dy,{})," Wi-Fi"]}),"and that it has internet connection"]})]}):g.jsxs(g.Fragment,{children:[g.jsxs("h5",{children:["1. Make sure you are in the same"," ",g.jsxs("strong",{children:[g.jsx(Dy,{})," Wi-Fi"]})]}),g.jsxs("h5",{children:["2. Refresh (",g.jsx("strong",{children:"F5"}),") the Karaoke Game on the PC"]}),g.jsxs("h5",{children:["3. Scan the"," ",g.jsxs("strong",{children:[g.jsx(R0,{})," QR Code"]})," ","again"]})]})]})]})]}):null}const hce=W("form",{target:"e1ey8ze72"})({name:"fvqkyn",styles:"margin-top:2rem;display:flex;flex-direction:column;gap:1rem"}),pce=W(mt,{target:"e1ey8ze71"})({name:"116s0m5",styles:"margin-bottom:0;height:72px"}),gce=W(du,{target:"e1ey8ze70"})({name:"8hhbv6",styles:"input{letter-spacing:2rem;text-align:center;text-transform:uppercase;}"}),mce=Wt(g.jsx("path",{d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20z"}),"ArrowBack"),yce=Wt(g.jsx("path",{d:"m12 4-1.41 1.41L16.17 11H4v2h12.17l-5.58 5.59L12 20l8-8z"}),"ArrowForward"),vce=Wt(g.jsx("path",{d:"M15 7.5V2H9v5.5l3 3zM7.5 9H2v6h5.5l3-3zM9 16.5V22h6v-5.5l-3-3zM16.5 9l-3 3 3 3H22V9z"}),"Games"),Ace=Wt(g.jsx("path",{d:"M7.41 8.59 12 13.17l4.59-4.58L18 10l-6 6-6-6z"}),"KeyboardArrowDown"),bce=Wt(g.jsx("path",{d:"M15.41 16.59 10.83 12l4.58-4.59L14 6l-6 6 6 6z"}),"KeyboardArrowLeft"),_ce=Wt(g.jsx("path",{d:"M8.59 16.59 13.17 12 8.59 7.41 10 6l6 6-6 6z"}),"KeyboardArrowRight"),Sce=Wt(g.jsx("path",{d:"M7.41 15.41 12 10.83l4.59 4.58L18 14l-6-6-6 6z"}),"KeyboardArrowUp"),xce=Wt(g.jsx("path",{d:"M10.59 9.17 5.41 4 4 5.41l5.17 5.17zM14.5 4l2.04 2.04L4 18.59 5.41 20 17.96 7.46 20 9.5V4zm.33 9.41-1.41 1.41 3.13 3.13L14.5 20H20v-5.5l-2.04 2.04z"}),"Shuffle"),ZE=Wt(g.jsx("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14"}),"Search");function e2(e,t){const[n,r]=x.useState(e);return x.useEffect(()=>{const i=setTimeout(()=>{r(e)},t);return()=>{clearTimeout(i)}},[e,t]),n}function wce({onSearchStateChange:e}){const[t,n]=x.useState(""),r=x.useRef(null),i=e2(t,100),s=Hte(i);return x.useEffect(()=>{s!==i&&An.searchSong(i.trim())},[s,i]),Ute(()=>e==null?void 0:e(!1)),g.jsx(Ece,{onFocus:()=>e==null?void 0:e(!0),onBlur:()=>e==null?void 0:e(!1),maxLength:Pw,focused:!1,label:g.jsx(ZE,{}),placeholder:"Search for a song",value:t,onChange:n,ref:r,"data-test":"search-song-input"})}const Ece=W(du,{target:"e12hs6m40"})({name:"zrd260",styles:"width:100%;margin-bottom:1rem"});function Tce({onSearchStateChange:e}){var s;const[t]=Hs(me.remoteKeyboardLayout,!0)??[],n=(t==null?void 0:t.horizontal)!==void 0||(t==null?void 0:t["horizontal-vertical"])!==void 0,r=(t==null?void 0:t.vertical)!==void 0||(t==null?void 0:t["horizontal-vertical"])!==void 0,i=l=>()=>{An.sendKeyStroke(l)};return t!==void 0?g.jsxs(Cce,{"data-test":"remote-keyboard",children:[((s=t==null?void 0:t.remote)==null?void 0:s.includes("search"))&&g.jsx(wce,{onSearchStateChange:e}),(n||r)&&g.jsxs(i_,{children:[g.jsx(r_,{children:g.jsx(ld,{onClick:i("up"),disabled:!r,"data-disabled":!r,"data-test":"arrow-up",children:g.jsx(Sce,{})})}),g.jsxs(r_,{children:[g.jsx(ld,{onClick:i("left"),disabled:!n,"data-disabled":!n,"data-test":"arrow-left",children:g.jsx(bce,{})}),g.jsx(ld,{disabled:!0,"data-disabled":!0,children:g.jsx(vce,{})}),g.jsx(ld,{onClick:i("right"),disabled:!n,"data-disabled":!n,"data-test":"arrow-right",children:g.jsx(_ce,{})})]}),g.jsx(r_,{children:g.jsx(ld,{onClick:i("down"),disabled:!r,"data-disabled":!r,"data-test":"arrow-down",children:g.jsx(Ace,{})})})]}),g.jsxs(i_,{children:[g.jsx(s_,{onClick:i("back"),disabled:(t==null?void 0:t.back)===void 0,"data-test":"keyboard-backspace",children:(t==null?void 0:t.back)||g.jsxs(g.Fragment,{children:[g.jsx(mce,{})," Back"]})}),g.jsx(s_,{onClick:i("accept"),disabled:(t==null?void 0:t.accept)===void 0,"data-test":"keyboard-enter",children:(t==null?void 0:t.accept)||g.jsxs(g.Fragment,{children:["Enter ",g.jsx(yce,{})]})})]}),g.jsx(kce,{}),g.jsx(i_,{disabled:(t==null?void 0:t.shiftR)===void 0,"data-test":"keyboard-shift-r",children:g.jsxs(s_,{onClick:i("random"),children:[g.jsx(xce,{})," ",(t==null?void 0:t.shiftR)||"Random Song"]})})]}):null}const Cce=W("div",{target:"epl0eil6"})({name:"17mk58z",styles:"gap:1rem;display:flex;flex-wrap:wrap;margin-bottom:2rem"}),r_=W("div",{target:"epl0eil5"})({name:"144ujnw",styles:"display:flex;justify-content:center;flex:1;color:white;font-size:2rem"}),i_=W("div",{target:"epl0eil4"})("display:flex;flex-direction:column;flex:1;justify-content:space-between;opacity:",e=>e.disabled?0:1,";"),kce=W("div",{target:"epl0eil3"})({name:"1f76xva",styles:"flex-basis:100%;height:0"}),Mce=W("button",{target:"epl0eil2"})("background:none;border:none;box-sizing:border-box;margin:0.25rem;width:4.5rem;height:4.5rem;svg{width:2.5rem;height:2.5rem;}opacity:",e=>e.disabled?.25:1,";"),ld=W(Mce,{target:"epl0eil1"})({name:"1dzx4ce",styles:"display:flex;align-items:center;justify-content:center;border-radius:0.3rem;border:0.3rem solid rgb(204, 204, 204);border-bottom-color:rgb(130, 130, 130);border-right-color:rgb(130, 130, 130);gap:0.5rem;&[data-disabled='false']{cursor:pointer;&:active{border:0.3rem solid rgb(130, 130, 130);border-bottom-color:rgb(204, 204, 204);border-right-color:rgb(204, 204, 204);}}color:rgb(51, 51, 51);font-weight:normal;font-size:2.5rem;box-shadow:0 0.1rem 0 rgba(0, 0, 0, 0.2),inset 0 0 0 0.2rem #ffffff;background-color:rgb(247, 247, 247);text-shadow:0 0.1rem 0 #fff"}),s_=W(ld,{target:"epl0eil0"})({name:"1d3w5wq",styles:"width:100%"}),t2=Wt(g.jsx("path",{d:"M6.99 11 3 15l3.99 4v-3H14v-2H6.99zM21 9l-3.99-4v3H10v2h7.01v3z"}),"SwapHoriz"),Rce={regular:["Blue","Red","Green","Yellow"],christmas:["Green","Red","Blue","Gold"],eurovision:["Blue","Violet","Yellow","Pink"],halloween:["Orange","Violet","Red","Green"]};function EN({playerNumber:e,id:t,onModalClose:n,header:r}){x.useEffect(()=>(An.subscribe("remote-mics"),()=>{An.unsubscribe("remote-mics")}),[]);const[i]=Hs(me.remoteMicListUpdated)??[[]],[s]=Hs(me.remoteStyleChanged,!0)??["regular"],l=d=>{An.requestPlayerChange(t,d),n()},c=e!==null;return g.jsx(Dl,{onClose:n,children:g.jsxs(Pt,{children:[r&&g.jsx("h2",{children:r}),[0,1,2,3].map(d=>{const u=i.find(h=>h.number===d),p=d===e;return g.jsxs(Pt.Button,{size:"small","data-test":`change-to-player-${d}`,onClick:()=>l(d),disabled:p,className:"gap-2",style:{color:$e.colors.players[d].perfect.fill},children:[Rce[s][d],p||u?g.jsxs("span",{className:"text-gray-300 text-sm","data-test":"mic-occupant",children:[" ","(",p?"You":u==null?void 0:u.name,")"]}):""]},d)}),g.jsx(Pt.Button,{size:"small",onClick:()=>l(null),disabled:!c,"data-test":"change-to-unset",children:"Unassign"}),g.jsx("hr",{}),g.jsx(Pt.Button,{size:"small",onClick:()=>An.removePlayer(t),"data-test":"remove-player",children:"Remove"}),g.jsx(Pt.Button,{onClick:n,size:"small",children:"Close"})]})})}function TN({number:e,...t}){const[n]=Hs(me.remoteStyleChanged,!0)??["regular"],r=WD();return x.useEffect(()=>{r()},[n]),g.jsx(Ice,{style:{background:e!==null?$e.colors.players[e].perfect.fill:$e.colors.text.inactive},...t})}const Ice=W("div",{target:"e1u9853z0"})({name:"97f0zo",styles:"display:inline-block;width:1em;height:1em;aspect-ratio:1;border-radius:1em"}),Oce=x.memo(function({playerNumber:t}){const[n,r]=x.useState(!1),i=()=>r(!1),s=t!==null;return g.jsxs(g.Fragment,{children:[g.jsxs(jce,{onClick:()=>r(!0),"data-test":"change-player","data-joined":s,children:[s?g.jsxs(g.Fragment,{children:[g.jsx(TN,{number:t})," Change"]}):"Join game"," ",g.jsx(t2,{})]}),n&&g.jsx(EN,{id:An.getClientId(),playerNumber:t,onModalClose:i})]})}),jce=W("button",{target:"e1x7ggg80"})("position:absolute;z-index:1;color:white;right:1rem;bottom:1rem;padding:1rem;font-size:2rem;text-transform:uppercase;display:flex;align-items:center;gap:1rem;border:none;",jt,";background:rgba(0, 0, 0, 0.75);&[data-joined='false']{font-size:3rem;padding:3rem;",Wd,";}:hover{",Wd,";}:active{",tN,";}svg{width:2rem;height:2rem;}");function Hv(){const[e]=Hs(me.remoteMicPermissionsSet,!0)??["write"];return e}function Pce({playerNumber:e,volume:t,frequency:n,isMicOn:r,isConnected:i}){const[s,l]=x.useState(1e-6),c=Hv();x.useEffect(()=>{l(u=>t>u?t:u*.99)},[t]);const d=e!==null?$e.colors.players[e].hit.fill:$e.colors.lines.normal.fill;return g.jsxs(Bce,{className:"rounded-md","data-is-mic-on":r,color:d,"data-player-number":`${e??"none"}`,"data-test":"indicator",children:[r&&g.jsx(g.Fragment,{children:g.jsx(Vce,{children:n?`${Math.round(n)}Hz`:" "})}),i&&c==="write"&&g.jsx(Oce,{playerNumber:e}),g.jsx(Dce,{style:{transform:`scaleY(${r?1-Math.min(1,t/s):1})`}})]})}const Vce=W("span",{target:"eik0d702"})({name:"1ikzkvw",styles:"position:absolute;color:white;opacity:0.125"}),Dce=W("div",{target:"eik0d701"})({name:"c7d9oe",styles:"width:100%;min-height:200px;max-height:100vw;background-color:rgba(0, 0, 0, 0.25);transition:200ms;transform-origin:top"}),Bce=W("div",{target:"eik0d700"})("position:relative;border:0.1rem solid white;flex:1;min-height:200px;max-height:100vw;transition:300ms;background:",e=>e.color,";");function P3({isVisible:e,isMicOn:t,isConnected:n}){const[r,i]=x.useState(0),[s,l]=x.useState(0),[c]=Hs(me.remoteMicPlayerSet,!0)??[null],d=x.useCallback(Td((u,p)=>{l(u),i(p)},150),[i,l]);return x.useEffect(()=>(na.startMonitoring(void 0),na.addListener(d)),[d]),e?g.jsx(g.Fragment,{children:g.jsx(Pce,{volume:r,frequency:s,playerNumber:c,isMicOn:t,isConnected:n})}):null}function Nce(){const[e,t]=x.useState(0);return x.useEffect(()=>{const n=setInterval(()=>{const r=Mi();An.pinging&&r-An.pingStart>e?t(r-An.pingStart):t(An.latency)},333);return()=>{clearInterval(n)}},[]),g.jsxs(g.Fragment,{children:[e,"ms"]})}function Lce({roomId:e,monitoringStarted:t,setIsKeepAwakeOn:n,connectionError:r,connectionStatus:i}){const s=Hv(),[l,c]=x.useState(!1),[d]=St(mw),u=async()=>{var y,v;n(!0);try{!$le()&&d&&(await document.body.requestFullscreen(),global.screen.orientation.unlock(),await((v=(y=global.screen.orientation).lock)==null?void 0:v.call(y,"portrait")))}catch(b){console.warn(b)}},p=i==="connected",h=g.jsx(P3,{isVisible:!0,isMicOn:t,isConnected:p});return g.jsx(Fce,{children:g.jsxs(sg,{showImages:!1,fallback:g.jsxs(g.Fragment,{children:[h,g.jsx("h2",{children:"Please allow access to the microphone."})]}),children:[g.jsxs(V3,{collapse:l,children:[g.jsx(P3,{isVisible:!0,isMicOn:t,isConnected:p}),g.jsx(fce,{roomId:e,isVisible:!0,connectionStatus:i,onConnect:u,connectionError:r})]}),g.jsxs(V3,{children:[s==="write"&&g.jsx(Tce,{onSearchStateChange:c}),s==="read"&&g.jsxs(Uce,{"data-test":"no-permissions-message",children:["No permission to control the game. Go to in-game ",g.jsx("strong",{children:"Settings"})," menu "," ",g.jsx("strong",{children:"Remote Microphones Settings"})," to manage them."]}),p&&g.jsxs($ce,{children:["Ping: ",g.jsx(Nce,{})]})]})]})})}const Fce=W("div",{target:"eakh27i4"})({name:"15sh5r0",styles:"font-size:2.6rem;display:flex;flex-direction:column;gap:2rem;padding:1.5rem;box-sizing:border-box;@media (max-height: 500px) and (min-aspect-ratio: 16/10){flex-direction:row;}h5{margin-top:0.5em;svg{font-size:0.9em;}}"}),V3=W("div",{target:"eakh27i3"})("flex:1;transition:300ms ease-in-out;margin-top:",e=>e.collapse?"-100%":"0",";@media (max-height: 500px) and (min-aspect-ratio: 16/10){margin-top:0;display:flex;flex-direction:column;justify-content:center;}"),zce=W("div",{target:"eakh27i2"})(jt," strong{color:",$e.colors.text.active,";}"),$ce=W(zce,{target:"eakh27i1"})(""),Uce=W("h5",{target:"eakh27i0"})({name:"1s76ut5",styles:"padding-bottom:5rem"});function Hce({onConfirm:e}){const[t,n]=x.useState(!1),[r,i]=x.useState(!1);x.useEffect(()=>{at.session.getItem("reload-mic-request")!==null&&i(!0)},[]),pi(me.remoteMicPlayerSet,()=>{r&&(i(!1),n(!0))}),pi(me.remoteReadinessRequested,()=>{n(!0)});const s=()=>{An.confirmReadiness(),n(!1),e()};return t?g.jsx(qce,{className:"animate-blink",children:g.jsx(uu,{children:g.jsx(Gce,{"data-test":"ready-button",onClick:s,children:"Ready"})})}):null}const qce=W("div",{target:"eusdifu1"})({name:"1b0uzsn",styles:"display:flex;flex-direction:column;align-items:center;justify-content:center;position:absolute;top:0;left:0;width:100%;height:100%;backdrop-filter:blur(10px);z-index:1000"}),Gce=W(mt,{target:"eusdifu0"})("aspect-ratio:1;",Wd,";");function CN({unit:e="",value:t,onChange:n,step:r=50,disabled:i=!1,className:s="",...l}){return g.jsxs(Kce,{className:`${s} rounded-md shadow-focusable`,...l,children:[g.jsx(D3,{onClick:()=>n(t-r),disabled:i,"data-test":"numeric-input-down",className:"rounded-l-md",children:"-"}),g.jsxs(Yce,{children:[g.jsx("strong",{"data-test":"numeric-input-value",children:t}),e]}),g.jsx(D3,{onClick:()=>n(t+r),disabled:i,"data-test":"numeric-input-up",className:"rounded-r-md",children:"+"})]})}const D3=W("button",{target:"e1tear4c2"})("padding:0.5rem 2rem;border:none;font-size:3rem;",jt,";:disabled{opacity:0.5;}"),Yce=W("div",{target:"e1tear4c1"})({name:"2qd0l8",styles:"flex:1;text-align:center"}),Kce=W("div",{target:"e1tear4c0"})(jt,";display:flex;align-items:center;justify-self:center;background:black;");function Wce(){const[e,t]=x.useState(0),[n,r]=x.useState(!1);x.useEffect(()=>{r(!0),An.getGameInputLag().then(({value:s})=>t(s)).catch(s=>console.warn(s)).finally(()=>r(!1))},[]);const i=s=>{r(!0),An.setGameInputLag(s).then(({value:l})=>t(l)).catch(l=>console.warn(l)).finally(()=>r(!1))};return g.jsxs(g.Fragment,{children:[g.jsx("h3",{children:"Adjust game input lag"}),g.jsx(CN,{value:e,onChange:i,disabled:n,unit:"ms","data-test":"game-input-lag"}),g.jsx("h6",{children:"If the sound is not synchronised with the lyrics, use this to compensate it."})]})}function Qce(){x.useEffect(()=>(An.subscribe("remote-mics"),()=>{An.unsubscribe("remote-mics")}),[]);const[e]=Hs(me.remoteMicListUpdated)??[[]];return g.jsxs(g.Fragment,{children:[g.jsx("h3",{children:"Manage Players"}),e.map(t=>g.jsx(Xce,{mic:t},t.id)),e.length===0&&g.jsx("h4",{children:"No remote microphones connected"})]})}const Xce=({mic:e})=>{var r;const[t,n]=x.useState(!1);return Dt.getPermission(e.id),g.jsxs(Jce,{"data-test":"manage-players",children:[t&&g.jsx(EN,{id:e.id,playerNumber:e.number,onModalClose:()=>n(!1),header:g.jsxs(g.Fragment,{children:["Change ",g.jsx("strong",{className:"ph-no-capture",children:e.name}),":"]})}),g.jsxs(Zce,{onClick:()=>n(!0),"data-test":"remote-mic-entry","data-id":e.id??e.name,size:"small",children:[g.jsx(TN,{number:e.number}),g.jsx(tue,{children:((r=e.id)==null?void 0:r.slice(-4))??"????"}),g.jsx(eue,{className:"ph-no-capture",isSelf:e.id===An.getClientId(),children:e.name})]})]})},Jce=W("div",{target:"e1sg8znb3"})({name:"4zk4ri",styles:"display:flex;flex-direction:column;gap:1rem"}),Zce=W(mt,{target:"e1sg8znb2"})({name:"1n950nl",styles:"display:flex;align-items:center;padding:0 2rem"}),eue=W("div",{target:"e1sg8znb1"})("color:",e=>e.isSelf?`${$e.colors.text.active}`:"auto",";text-overflow:ellipsis;overflow:hidden;white-space:nowrap;"),tue=W("span",{target:"e1sg8znb0"})({name:"dcs29c",styles:"font-size:1.5rem;padding:0 1rem"});function B3(){const[e,t]=St(fV),[n,r]=x.useState(!1);x.useEffect(()=>{r(!0),An.getMicrophoneInputLag().then(({value:l})=>t(l)).catch(l=>console.warn(l)).finally(()=>r(!1))},[]);const i=l=>{r(!0),An.setMicrophoneInputLag(l).then(({value:c})=>t(c)).catch(c=>console.warn(c)).finally(()=>r(!1))},s=()=>{var l;An.disconnect(),at.local.removeItem("remote_mic_name"),at.local.removeItem(lx),(l=global.location)==null||l.reload()};return g.jsxs(g.Fragment,{children:[g.jsx(mt,{onClick:s,size:"small","data-test":"reset-microphone",children:"Reset microphone"}),g.jsxs("h6",{"data-test":"reset-mic-info",children:[g.jsx("strong",{children:"Note:"})," removes all persisted microphone data (your name, ID etc.)"]}),g.jsx("hr",{}),g.jsx("h3",{children:"Adjust microphone lag"}),g.jsx(CN,{value:e,onChange:i,unit:"ms",disabled:n,step:25,"data-test":"microphone-delay"}),g.jsx("h6",{children:"Adjust the microphone input delay (e.g. if the game doesn't detect you hitting the note on time)"})]})}function nue({setIsKeepAwakeOn:e,monitoringStarted:t,isKeepAwakeOn:n}){var l;const r=Hv(),[i,s]=x.useState(r==="write"?null:"microphone");return g.jsxs(rue,{children:[g.jsxs("h3",{children:["Remote mic ID:"," ",g.jsx("strong",{"data-test":"remote-mic-id",children:((l=An.getClientId())==null?void 0:l.slice(-4).toUpperCase())??"----"})]}),g.jsx("hr",{}),r==="write"&&i===null&&g.jsxs(g.Fragment,{children:[g.jsx(mt,{onClick:()=>s("microphone"),size:"small","data-test":"microphone-settings",disabled:i==="microphone",children:"Microphone settings"}),g.jsx(mt,{onClick:()=>s("manage"),size:"small","data-test":"manage-game",disabled:i==="manage",children:"Manage the game"})]}),r!=="write"&&g.jsx(B3,{}),i!==null&&r==="write"&&g.jsx(Dl,{onClose:()=>s(null),children:g.jsxs(uu,{children:[g.jsx(iue,{children:i==="microphone"?"Microphone settings":"Manage game"}),i==="microphone"&&g.jsx(B3,{}),i==="manage"&&g.jsxs(g.Fragment,{children:[g.jsx(Qce,{}),g.jsx(Wce,{})]}),g.jsx("hr",{}),g.jsx(mt,{onClick:()=>s(null),size:"small","data-test":"close-modal",children:"Close"})]})}),g.jsxs("div",{role:"button",className:"typography mt-auto",onClick:()=>e(!n),children:["WakeLock: ",g.jsx("strong",{children:n?"ON":"OFF"})]}),g.jsxs("div",{role:"button",className:"typography",onClick:()=>t?na.stopMonitoring():na.startMonitoring(void 0),children:["Microphone: ",g.jsx("strong",{"data-test":"monitoring-state",children:t?"ON":"OFF"})]})]})}const rue=W("div",{target:"edoha0h1"})({name:"10ti2i0",styles:"flex-grow:1;font-size:2.6rem;display:flex;flex-direction:column;justify-content:center;padding:5rem 1.5rem 1.5rem;box-sizing:border-box;gap:1rem"}),iue=W("h1",{target:"edoha0h0"})({name:"bvcr5v",styles:"font-size:3.25rem!important"});var sue="__lodash_hash_undefined__";function aue(e){return this.__data__.set(e,sue),this}function oue(e){return this.__data__.has(e)}function Pp(e){var t=-1,n=e==null?0:e.length;for(this.__data__=new jo;++t<n;)this.add(e[t])}Pp.prototype.add=Pp.prototype.push=aue;Pp.prototype.has=oue;function lue(e,t){for(var n=-1,r=e==null?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}function kN(e,t){return e.has(t)}var cue=1,uue=2;function MN(e,t,n,r,i,s){var l=n&cue,c=e.length,d=t.length;if(c!=d&&!(l&&d>c))return!1;var u=s.get(e),p=s.get(t);if(u&&p)return u==t&&p==e;var h=-1,y=!0,v=n&uue?new Pp:void 0;for(s.set(e,t),s.set(t,e);++h<c;){var b=e[h],_=t[h];if(r)var w=l?r(_,b,h,t,e,s):r(b,_,h,e,t,s);if(w!==void 0){if(w)continue;y=!1;break}if(v){if(!lue(t,function(T,k){if(!kN(v,k)&&(b===T||i(b,T,n,r,s)))return v.push(k)})){y=!1;break}}else if(!(b===_||i(b,_,n,r,s))){y=!1;break}}return s.delete(e),s.delete(t),y}function due(e){var t=-1,n=Array(e.size);return e.forEach(function(r,i){n[++t]=[i,r]}),n}function n2(e){var t=-1,n=Array(e.size);return e.forEach(function(r){n[++t]=r}),n}var fue=1,hue=2,pue="[object Boolean]",gue="[object Date]",mue="[object Error]",yue="[object Map]",vue="[object Number]",Aue="[object RegExp]",bue="[object Set]",_ue="[object String]",Sue="[object Symbol]",xue="[object ArrayBuffer]",wue="[object DataView]",N3=$s?$s.prototype:void 0,a_=N3?N3.valueOf:void 0;function Eue(e,t,n,r,i,s,l){switch(n){case wue:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case xue:return!(e.byteLength!=t.byteLength||!s(new E0(e),new E0(t)));case pue:case gue:case vue:return uv(+e,+t);case mue:return e.name==t.name&&e.message==t.message;case Aue:case _ue:return e==t+"";case yue:var c=due;case bue:var d=r&fue;if(c||(c=n2),e.size!=t.size&&!d)return!1;var u=l.get(e);if(u)return u==t;r|=hue,l.set(e,t);var p=MN(c(e),c(t),r,i,s,l);return l.delete(e),p;case Sue:if(a_)return a_.call(e)==a_.call(t)}return!1}var Tue=1,Cue=Object.prototype,kue=Cue.hasOwnProperty;function Mue(e,t,n,r,i,s){var l=n&Tue,c=fx(e),d=c.length,u=fx(t),p=u.length;if(d!=p&&!l)return!1;for(var h=d;h--;){var y=c[h];if(!(l?y in t:kue.call(t,y)))return!1}var v=s.get(e),b=s.get(t);if(v&&b)return v==t&&b==e;var _=!0;s.set(e,t),s.set(t,e);for(var w=l;++h<d;){y=c[h];var T=e[y],k=t[y];if(r)var R=l?r(k,T,y,t,e,s):r(T,k,y,e,t,s);if(!(R===void 0?T===k||i(T,k,n,r,s):R)){_=!1;break}w||(w=y=="constructor")}if(_&&!w){var M=e.constructor,E=t.constructor;M!=E&&"constructor"in e&&"constructor"in t&&!(typeof M=="function"&&M instanceof M&&typeof E=="function"&&E instanceof E)&&(_=!1)}return s.delete(e),s.delete(t),_}var Rue=1,L3="[object Arguments]",F3="[object Array]",Km="[object Object]",Iue=Object.prototype,z3=Iue.hasOwnProperty;function Oue(e,t,n,r,i,s){var l=Us(e),c=Us(t),d=l?F3:ra(e),u=c?F3:ra(t);d=d==L3?Km:d,u=u==L3?Km:u;var p=d==Km,h=u==Km,y=d==u;if(y&&w0(e)){if(!w0(t))return!1;l=!0,p=!1}if(y&&!p)return s||(s=new Oa),l||PD(e)?MN(e,t,n,r,i,s):Eue(e,t,d,n,r,i,s);if(!(n&Rue)){var v=p&&z3.call(e,"__wrapped__"),b=h&&z3.call(t,"__wrapped__");if(v||b){var _=v?e.value():e,w=b?t.value():t;return s||(s=new Oa),i(_,w,n,r,s)}}return y?(s||(s=new Oa),Mue(e,t,n,r,i,s)):!1}function r2(e,t,n,r,i){return e===t?!0:e==null||t==null||!ko(e)&&!ko(t)?e!==e&&t!==t:Oue(e,t,n,r,r2,i)}var jue=1,Pue=2;function Vue(e,t,n,r){var i=n.length,s=i;if(e==null)return!s;for(e=Object(e);i--;){var l=n[i];if(l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++i<s;){l=n[i];var c=l[0],d=e[c],u=l[1];if(l[2]){if(d===void 0&&!(c in e))return!1}else{var p=new Oa,h;if(!(h===void 0?r2(u,d,jue|Pue,r,p):h))return!1}}return!0}function RN(e){return e===e&&!da(e)}function Due(e){for(var t=Qp(e),n=t.length;n--;){var r=t[n],i=e[r];t[n]=[r,i,RN(i)]}return t}function IN(e,t){return function(n){return n==null?!1:n[e]===t&&(t!==void 0||e in Object(n))}}function Bue(e){var t=Due(e);return t.length==1&&t[0][2]?IN(t[0][0],t[0][1]):function(n){return n===e||Vue(n,e,t)}}function Nue(e,t,n){var r=e==null?void 0:fE(e,t);return r===void 0?n:r}function Lue(e,t){return e!=null&&t in Object(e)}function Fue(e,t,n){t=Cv(t,e);for(var r=-1,i=t.length,s=!1;++r<i;){var l=Xp(t[r]);if(!(s=e!=null&&n(e,l)))break;e=e[l]}return s||++r!=i?s:(i=e==null?0:e.length,!!i&&$w(i)&&Hw(l,i)&&(Us(e)||nE(e)))}function zue(e,t){return e!=null&&Fue(e,t,Lue)}var $ue=1,Uue=2;function Hue(e,t){return uE(e)&&RN(t)?IN(Xp(e),t):function(n){var r=Nue(n,e);return r===void 0&&r===t?zue(n,e):r2(t,r,$ue|Uue)}}function que(e){return function(t){return t==null?void 0:t[e]}}function Gue(e){return function(t){return fE(t,e)}}function Yue(e){return uE(e)?que(Xp(e)):Gue(e)}function Kue(e){return typeof e=="function"?e:e==null?KD:typeof e=="object"?Us(e)?Hue(e[0],e[1]):Bue(e):Yue(e)}function Wue(e,t,n,r){for(var i=e.length,s=n+-1;++s<i;)if(t(e[s],s,e))return s;return-1}function Que(e){return e!==e}function Xue(e,t,n){for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r;return-1}function Jue(e,t,n){return t===t?Xue(e,t,n):Wue(e,Que,n)}function Zue(e,t){var n=e==null?0:e.length;return!!n&&Jue(e,t,0)>-1}function ede(){}var tde=1/0,nde=kd&&1/n2(new kd([,-0]))[1]==tde?function(e){return new kd(e)}:ede,rde=200;function ON(e,t,n){var r=-1,i=Zue,s=e.length,l=!0,c=[],d=c;if(s>=rde){var u=t?null:nde(e);if(u)return n2(u);l=!1,i=kN,d=new Pp}else d=t?[]:c;e:for(;++r<s;){var p=e[r],h=t?t(p):p;if(p=p!==0?p:0,l&&h===h){for(var y=d.length;y--;)if(d[y]===h)continue e;t&&d.push(h),c.push(p)}else i(d,h,n)||(d!==c&&d.push(h),c.push(p))}return c}function ide(e,t){return e&&e.length?ON(e,Kue(t)):[]}const i2=W("span",{target:"ejt1whd0"})("position:absolute;transform:translate(40%, -50%);top:0;right:0;background:",$e.colors.text.active,";font-size:1.75rem;",jt,";color:",$e.colors.text.default,";padding:0.25rem 0.75rem;border-radius:1.5rem;box-shadow:0 0 2px 1px rgba(0, 0, 0, 0.5);"),sde="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='810'%20height='540'%3e%3crect%20width='810'%20height='540'%20fill='%23FCDD09'/%3e%3cpath%20stroke='%23DA121A'%20stroke-width='60'%20d='M0,90H810m0,120H0m0,120H810m0,120H0'/%3e%3c/svg%3e";function ade(){const e=new Intl.DisplayNames(["en"],{type:"language"}),t={};for(let r=0;r<26;r++)for(let i=0;i<26;i++){const s=String.fromCharCode(97+r)+String.fromCharCode(97+i),l=e.of(s);l!==s&&l!==void 0&&(t[l]=s)}return{...t,...{Akan:"ak",Hebrew:"he",Indonesian:"id",Javanese:"jv",Romanian:"ro",Yiddish:"yi",Tagalog:"tl",English:"gb",Korean:"kr",Swedish:"se",Latin:"va",Japanese:"jp",Catalan:"cat",Ukrainian:"ua"}}}const ode=ade();function jN(e){return ode[e]}const lde=Object.assign({"./Flag/flags/cat.svg":sde}),Vc=e=>{var s;const[t,n]=x.useState(null),r="isocode"in e?(s=e.isocode)==null?void 0:s.toLowerCase():jN(Array.isArray(e.language)?e.language[0]:e.language);if(x.useLayoutEffect(()=>{r&&n(null)},[r]),!r)return null;const i=lde[`./Flag/flags/${r}.svg`];return g.jsx(cde,{"data-isocode":r,src:i??`https://flagcdn.com/${t??r}.svg`,alt:r,...e,onError:()=>n("un")})},cde=W("img",{target:"e1k9lqhf0"})("");function _f(e=!1){const[t,n]=x.useState(fs.getCurrentIndex()),r=x.useRef([]),i=()=>fs.getIndex(e).then(n);return x.useEffect(()=>{i()},[]),{data:t??r.current,reload:i,isLoading:t===null}}function PN(){const{width:e,height:t}=mf();return x.useMemo(()=>parseFloat(getComputedStyle(document.documentElement).fontSize),[e,t])}const By=Wt(g.jsx("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2m-9 14-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8z"}),"CheckBox"),Ny=Wt(g.jsx("path",{d:"M19 5v14H5V5zm0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2"}),"CheckBoxOutlineBlank");function ude(e){return String(e).match(/[\d.\-+]*\s*(.*)/)[1]||""}function dde(e){return parseFloat(e)}function $3({theme:e,...t}){const n=wo in e?e[wo]:void 0;return g.jsx(MB,{...t,themeId:n?wo:void 0,theme:n||e})}const Wm={attribute:"data-mui-color-scheme",colorSchemeStorageKey:"mui-color-scheme",defaultLightColorScheme:"light",defaultDarkColorScheme:"dark",modeStorageKey:"mui-mode"},{CssVarsProvider:fde,useColorScheme:O1e,getInitColorSchemeScript:j1e}=mse({themeId:wo,theme:()=>jE({cssVariables:!0}),colorSchemeStorageKey:Wm.colorSchemeStorageKey,modeStorageKey:Wm.modeStorageKey,defaultColorScheme:{light:Wm.defaultLightColorScheme,dark:Wm.defaultDarkColorScheme},resolveTheme:e=>{const t={...e,typography:jB(e.palette,e.typography)};return t.unstable_sx=function(r){return Wc({sx:r,theme:this})},t}}),hde=fde;function pde({theme:e,...t}){return typeof e=="function"?g.jsx($3,{theme:e,...t}):"colorSchemes"in(wo in e?e[wo]:e)?g.jsx(hde,{theme:e,...t}):g.jsx($3,{theme:e,...t})}function gde(e){return mi("MuiSkeleton",e)}yi("MuiSkeleton",["root","text","rectangular","rounded","circular","pulse","wave","withChildren","fitContent","heightAuto"]);const mde=e=>{const{classes:t,variant:n,animation:r,hasChildren:i,width:s,height:l}=e;return Ii({root:["root",n,r,i&&"withChildren",i&&!s&&"fitContent",i&&!l&&"heightAuto"]},gde,t)},Lx=lu`
  0% {
    opacity: 1;
  }

  50% {
    opacity: 0.4;
  }

  100% {
    opacity: 1;
  }
`,Fx=lu`
  0% {
    transform: translateX(-100%);
  }

  50% {
    /* +0.5s of delay between each loop */
    transform: translateX(100%);
  }

  100% {
    transform: translateX(100%);
  }
`,yde=typeof Lx!="string"?ou`
        animation: ${Lx} 2s ease-in-out 0.5s infinite;
      `:null,vde=typeof Fx!="string"?ou`
        &::after {
          animation: ${Fx} 2s linear 0.5s infinite;
        }
      `:null,Ade=Bn("span",{name:"MuiSkeleton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],n.animation!==!1&&t[n.animation],n.hasChildren&&t.withChildren,n.hasChildren&&!n.width&&t.fitContent,n.hasChildren&&!n.height&&t.heightAuto]}})(qs(({theme:e})=>{const t=ude(e.shape.borderRadius)||"px",n=dde(e.shape.borderRadius);return{display:"block",backgroundColor:e.vars?e.vars.palette.Skeleton.bg:sa(e.palette.text.primary,e.palette.mode==="light"?.11:.13),height:"1.2em",variants:[{props:{variant:"text"},style:{marginTop:0,marginBottom:0,height:"auto",transformOrigin:"0 55%",transform:"scale(1, 0.60)",borderRadius:`${n}${t}/${Math.round(n/.6*10)/10}${t}`,"&:empty:before":{content:'"\\00a0"'}}},{props:{variant:"circular"},style:{borderRadius:"50%"}},{props:{variant:"rounded"},style:{borderRadius:(e.vars||e).shape.borderRadius}},{props:({ownerState:r})=>r.hasChildren,style:{"& > *":{visibility:"hidden"}}},{props:({ownerState:r})=>r.hasChildren&&!r.width,style:{maxWidth:"fit-content"}},{props:({ownerState:r})=>r.hasChildren&&!r.height,style:{height:"auto"}},{props:{animation:"pulse"},style:yde||{animation:`${Lx} 2s ease-in-out 0.5s infinite`}},{props:{animation:"wave"},style:{position:"relative",overflow:"hidden",WebkitMaskImage:"-webkit-radial-gradient(white, black)","&::after":{background:`linear-gradient(
                90deg,
                transparent,
                ${(e.vars||e).palette.action.hover},
                transparent
              )`,content:'""',position:"absolute",transform:"translateX(-100%)",bottom:0,left:0,right:0,top:0}}},{props:{animation:"wave"},style:vde||{"&::after":{animation:`${Fx} 2s linear 0.5s infinite`}}}]}})),bde=x.forwardRef(function(t,n){const r=vi({props:t,name:"MuiSkeleton"}),{animation:i="pulse",className:s,component:l="span",height:c,style:d,variant:u="text",width:p,...h}=r,y={...r,animation:i,component:l,variant:u,hasChildren:!!h.children},v=mde(y);return g.jsx(Ade,{as:l,ref:n,className:Nt(v.root,s),ownerState:y,...h,style:{width:p,height:c,...d}})}),_de="data:image/gif;base64,R0lGODlhiQAzAOflAAABAAYAAAACAAcAAAkBAAoDAQsEAxAFABEHABIIABMKABgJAhQLAhsLABwNACANAR0OACEOAyMPACMQACcPACgQASgRAioSACsTACwTACwUAC8WAC4WAzAWADQVADUXATYYAjgYADkZADoaADobAD8aAzscAUEbAD4dAEMdAEUeAkAgAEYfAEUfA0ghAE4hAksjAU8iAFEjAFIkAFMlAFQmAVsmAFcoAFwnAF0oAF8qAmEqAGIrAGMsAGksAWUuAGotAmAwDWwuAGsuA20vAF0zDm4wAG8xAHEyAHIzAXgyAHM0AnU1AHo0AHY2AHw1AH43AIA5AoE6AIM7AIQ8AIk7AIU9AIs8AIc+AIw9AI0+AY4+ApFAAJJBAJNCAJRDAJpCAZVEAJtDAp1EAJxEA55FAKBHAKFIAKJJAKhIAaRKAKVLAKtKAKxLAI5RI5BRJK9NALBOALFPALJQALNRALlQBLtRALxSAL1TAL9UAMFWAMJXAMRYArlbCsZZAMVZA8xYAMhaAM9aANFcAdNdAtVfAMpiDddgAN1fANhhAN9hANljAOFiAeNkAOJkA91mAONlBN5nAdhoDeVmAOdoAO5mAOJqB+9nAOlpAPBpAfFqA654SvNrAOduDvRsAPZtAN5yGONxGvduANh0IPFwB/hvAOtxE+B0Gt90I/lwAOxyFPNxCu5zBud0EvRyANt2Is54Ndp2Krt8S+B1JM95L9V4Ked0HeF2G/txAO1zFvRyDOh1E9x3I895NtV4ML19Rsp7NcN8Qbx9TMl7O8J8R9Z5Kq6AW8h7QrZ/ULh/S7V/VsV9O75+R8t8NsR9QqmCYKeCZpqFcLGBVq+BXJGHe4+HgbeAUaOEZqGEbLaAV6CEcauDXKqDYZuGcZmGd42Ih5KIfJCIgpSId4iKh4uKgv///////////////////////////////////////////////////////////////////////////////////////////////////////////yH5BAEIAP8ALAAAAACJADMAAAj+AP8JHEiwoMGDCBMqXMiwocOHECMSHEexosWLGDNq3Mixo8ePIDtKHPhtGK6TKFOqXInrGcuXMGPKnEmzpspU40YKHBdryICfQIMKFVpHFq6hSJOWSMq0qdOnUH8S8PRN579vrFwI2Mq1q9euALbAwvW1bFkAI8yqXcsWbFu1AArgyqkTHK4Ib8v+sEU279cSfgO3HSAYLFWd35RNKryVAIZUfQujZUy5stu5OsfxCkMZgABFNkOLHk065eGR13ClsBxllbdvsL8h04N0S6/YuIXVifrzyu1vsnbz9g1bt1ANqWDbwiHUd0Wd0PR4rozgUbiB43qRKdtDFV3sxbD+BNbBiiKtLoF7tKLoS3zXAqKwkXMFwquOXFWtpsYF5WsClX6UpQcuroAzUDWr5FDWBLhg89034aQiQ2ARNBgOKTf4BUAFuHgTIQ1dDQCAH8dM8wkBXjHooFWwBdOfVwmsEhs2gJTlh4P5/ROMJgicBUgsOY4zDCaCAQAIL8m40mNgg9CyDCYGfPWEK62c4RUARgJp1VUu+rcKXdgE+BUg2BTETBRmAeBCLA8Ow0SRKsQCyxaBEUCADry4+ZVni7SCAVhYxvndSN8Q82JXMeZHo4DQFBQMLpQIiMsoOX5zDC5iclVCSkZ4BQYuvADzA1cIgNEIBF4tkgaqnqWAijP+J6HJFQ246BIKLrJuRSuoOY40TpchGqALmJlyBYAeZU5kjR5lddELRdh9E6ZXJcwC2zCddgWGMt/A8skEAgyQxyqsoMrVAJioMkgBAjCACS/jfBOMIMYykAo21aQC2FYAqFHMN9BaNY6hXzEgI0WLfoVsQZaKUZYOp/QqUMJcoTALRdh6FQYy45BjChgCuJDKNbng1RUn2qSSIRarhFNVN3cZC4gwz2jiVSXTSOwrsF0JK+0woBTLFZkFjVPMEmV5UAo5Bk17rgnWCpntVgNs+8841mACQBdAmmIuV5iE40saAAzCDF3j7HKEsVjkOcfTuFy35U4Ee2UwLZj+8MH+nnpcU7QpE3pFmCfaNF1jVylcXNLUAgAABjICRRiBHMlgZTJXl4CzjR8G4NINScPg0ZUKnqhtLBjwzr0Tz1wJq0kOKJq18ESuVHCWHxwX5DS/UAuzSyqMOw75VbugYAg037Ty9VaYeIONJRsMS9I1qSy5lSa4/MmvIskMKnDdXTFQCQeNq/WH3wRF80lZIpoxjMQUb1XtJ1eA66kyO51SBCrdWO7VJeEIxy2CYItejYMUODCWHhoxHQF4oEOqW92huhICtgxgdgPhxiL25JkhXEx3QjMBJUhwlscJ5Bu0cAMt4lUusGACHChU4aBQCIdwYckJZuhKFE7hve9NsDH+hPnKB6IwB0VkAhfoo1sNzUICV8DvcFQDgQgAEESN4e8qwthE975histthRPgGEcWhWHAbVyCXZ4hAYi4Mghi6CwzrOOXVwjQg0XgwhbMeIaHBjUOWFxBLQZIxecIsrtwyZFqLwjDIDCRiuH9bXkCuIQ3FEKOVLjAMwMoQAK4UqFBRnBgP/wKDBaRClh4I2AG+cYpdPAerxBiGoOK31dUMIhUxMIa2qDGG/3XlUbIDSHfqAXIyrIE/ERQgmopgBlwUYtT9nAiuiAhV0bFFQKk4RixFFpXmJAKXvTvmSRR3rkE8EKFyCZSX7mgM8DpK/B5BQF/SAW32DmQcOBiAV3+SYP2GrcEXvRKll2hwSe8CTBzsuJyVOTELxECDlHUx26pQN4xrxZHroxrRQ25Bjq5kggfjO5LhNTmuUggCFsioxthPAhWvuaZzC1kHKegguB6UJ6JXs2dXImCK6BBz4lIg1lcKcAn1HAuBpRikgMBaIgEAANFVsITslBpF70StoUUil5ekcNtbPqrUCIgFcx4IzCdkUOuiMAVjQBLI54RUq98IC3GEhEACLCxg4zDazcz0EK0cU+waIIbPY0IKAt2GofwJAld+cEpcGE/Ec2BGN+RpQkqsRpj8YsMV2TYQUNU1ZeuApK4EKvA4ggAYQV2IqoIXOPAkApNsLJxAKD+ApuSWqwBmGAUougCBqq4WkcSJHmQrIReDbo8AmCGqzhtly5Ea1dX2I9fBmCA9QQQg1bkSJaJk0UrgGdFlW72XJ01Z8nAElqbUnSChDEtRLyRitgZq4FbqdAvCwmAEvhTaiEyYSpb2BXhMmQc/KXacRuykaIl12DMNcg2EPEWAFyCrROD4lagdi3GCSAMmf3tVMG7UGBumF/l/W9iZqEJT5g4F8dIKXYqql6HfCMZcmgwHYRBrK4Q4LYAy9i59PvIvP4Xr+cacELGEQ5epGINKDCAASywBEzkgqfYObCMHtLHP3IlCSlZG1e6QAtFSbi+UdMxVzDsXS+iq8Nl9kr+iM0Zi0yoAL4DWIAePHFKZHqlxQQeRQ+09b6SOMyGOlgPwkJ4XzGH63GovApw80pP2IgzyIk2yDikkYoVYIkAVAyiAQpxi/wM1m5T/m+8dGGCrszBGhRRRrE0QJVupULCA9iULnKBCwuHoRQFJMh+zIyJUkQ1IbtWMy4ynEpbkAFLsMVk40yAi2jYuWfSY4ilTsIAYx0iF7k4BSkyYSyh4iIWwNiz4AiwiE5AcgAEAAEPdX2HstDVtwaBRh3SOYAxwLsglXxo+cBCgEHgjyJSLqhVh7GEnxgLAhGQBCg2UO24qoAXvdjglW6Qily4Byx0sBZBoIGLUoeIAZ4gdkH+XLI3r0BAFCInCDVEARcqhuEX/4DGME4RSgN4YhjCkPYyzhgiACyBFacg6lf+wAv2ltyQ1qSFMCTulVQAdiKn8MKVgBBthMDUysYyQk0TEo6NpukKOcdGH36wAf/84Aowt2o4XLFGOQLiGMrIhHu3wiFtwNTCAqDENtjbcK6koGUMs8YgrmQGYDD3G8LQZhrepxBqrI8tYoD5NUzxXGOhKA05NydFakGnpuPLFUdv3A92ca0/kyoV4vgGKSrLLyPAyyKw6cbjZSYNj2Bj9myEZUZIkorQl6UQ+PuGKmS6JwjgYhtWPUkq3taVDaQkgTpMSbu7woGUZKgrV4hJFZ7+wH3uY6ImqaBC95/gBMisJDnYOcV21IKCZl/tF4lgnxFI0dNx4AK+VEM2b8NFgJ9Ik978dyVDkWlyhSUGCBWNU4AEiBQ4QRLWkAqs906C8EH/wF749BVrwHjmRBb7J0f41xX7AheWkRdUlCZ7UlhXMwqXEIFbgQB6oAt1dhWkoALpNAiwlHwmuBaTMYKScSUaIgBCBiGjkApmsAIIUAAVwASUoAvXUCm8gHdAiFQbWBkhyIOB0YEkaHMSQxHSgAqrkAqukAqt4AzVMEPLABOB9Q2lgQvmt4Zu+IbPBBvxghsSQ4d0GC8iZod6qIdzuId++IeAGBt9GIh22IfmdYgGiJiIEBEQADs=",Sde="/assets/logo-1e2sNsQM.mp4",xde="/assets/logo-CDt7pIML.webm",wde="/assets/pride-CMcO3nTB.png",Ede="/assets/santas-hat-DkaW4YUe.webp";var Pj;(Pj=global.location)!=null&&Pj.search.includes("pride")&&at.session.setItem("pride","true");function s2(e){const[t]=St(ai),{theme:n}=x.useContext(Jp);return t?null:g.jsxs("div",{className:"relative h-[16.4rem] [view-transition-name:logo]",children:[at.session.getItem("pride")==="true"&&g.jsx(U3,{asChild:!0,children:g.jsx("img",{className:"absolute",src:wde,alt:"AllKaraoke Pride logo part 1"})}),g.jsxs(U3,{...e,autoPlay:!0,loop:!0,muted:!0,playsInline:!0,children:[g.jsx("source",{src:xde,type:"video/webm"}),g.jsx("source",{src:Sde,type:"video/mp4"})]}),g.jsx("img",{className:"absolute w-[13.7rem] h-[5.1rem] bottom-[-0.5rem] right-[-1rem]",src:_de,alt:"AllKaraoke Pride logo part 2"}),n==="christmas"&&g.jsx("img",{className:"absolute w-[13.7rem] h-[11.1rem] top-[-3rem] right-[-7rem] rotate-[30deg] object-contain",src:Ede,alt:"AllKaraoke Pride logo part 2"})]})}const U3=En.video`w-[66rem] h-[16.4rem]`;function a2(){return"chrome"in window}function Tde(){return g.jsx(g.Fragment,{children:!a2()&&g.jsxs(cu,{className:"w-full py-12 bg-red-900 text-center rounded-none",children:[g.jsxs(ps,{className:"text-lg",children:["This game is tested in ",g.jsx("strong",{children:"Google Chrome"})," and ",g.jsx("strong",{children:"MS Edge"}),"."]}),g.jsx(ps,{children:"It's not guaranteed to work on other browsers (like the one you use now)."})]})})}function VN(){return g.jsx(g.Fragment,{children:g.jsx("a",{href:"https://github.com/Asvarox/allkaraoke",target:"_blank",rel:"noreferrer",className:"github-corner","aria-label":"View source on GitHub",dangerouslySetInnerHTML:{__html:`
      <svg width="80" height="80" viewBox="0 0 250 250"
           style="fill:#151513; color:#fff; position: absolute; top: 0; border: 0; left: 0; transform: scale(-1, 1);"
           aria-hidden="true">
        <path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z" />
        <path
          d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2"
          fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm" />
        <path
          d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z"
          fill="currentColor" class="octo-body" />
      </svg>
      <style>.github-corner:hover .octo-arm{animation:octocat-wave 560ms ease-in-out}@keyframes
        octocat-wave{0 %,100%{transform:rotate(0)}20%,60%{transform:rotate(-25deg)}40%,80%{transform:rotate(10deg)}}@media
        (max-width:500px){.github-corner:hover .octo-arm{animation:none}.github-corner .octo-arm{animation:octocat-wave 560ms ease-in-out}}</style>`}})})}function Do({children:e,supportedBrowsers:t}){return Vl(!0),g.jsxs(Bl,{children:[g.jsx(VN,{}),g.jsxs("div",{className:"w-screen h-screen flex items-center flex-col gap-8",children:[g.jsx(s2,{}),t&&g.jsx(Tde,{}),g.jsx(Pt,{children:e})]})]})}var Ih={},N0=function(){return N0=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},N0.apply(this,arguments)},Cde=function(){function e(t,n,r){var i=this;this.endVal=n,this.options=r,this.version="2.8.0",this.defaults={startVal:0,decimalPlaces:0,duration:2,useEasing:!0,useGrouping:!0,useIndianSeparators:!1,smartEasingThreshold:999,smartEasingAmount:333,separator:",",decimal:".",prefix:"",suffix:"",enableScrollSpy:!1,scrollSpyDelay:200,scrollSpyOnce:!1},this.finalEndVal=null,this.useEasing=!0,this.countDown=!1,this.error="",this.startVal=0,this.paused=!0,this.once=!1,this.count=function(s){i.startTime||(i.startTime=s);var l=s-i.startTime;i.remaining=i.duration-l,i.useEasing?i.countDown?i.frameVal=i.startVal-i.easingFn(l,0,i.startVal-i.endVal,i.duration):i.frameVal=i.easingFn(l,i.startVal,i.endVal-i.startVal,i.duration):i.frameVal=i.startVal+(i.endVal-i.startVal)*(l/i.duration);var c=i.countDown?i.frameVal<i.endVal:i.frameVal>i.endVal;i.frameVal=c?i.endVal:i.frameVal,i.frameVal=Number(i.frameVal.toFixed(i.options.decimalPlaces)),i.printValue(i.frameVal),l<i.duration?i.rAF=requestAnimationFrame(i.count):i.finalEndVal!==null?i.update(i.finalEndVal):i.options.onCompleteCallback&&i.options.onCompleteCallback()},this.formatNumber=function(s){var l,c,d,u,p=s<0?"-":"";l=Math.abs(s).toFixed(i.options.decimalPlaces);var h=(l+="").split(".");if(c=h[0],d=h.length>1?i.options.decimal+h[1]:"",i.options.useGrouping){u="";for(var y=3,v=0,b=0,_=c.length;b<_;++b)i.options.useIndianSeparators&&b===4&&(y=2,v=1),b!==0&&v%y==0&&(u=i.options.separator+u),v++,u=c[_-b-1]+u;c=u}return i.options.numerals&&i.options.numerals.length&&(c=c.replace(/[0-9]/g,function(w){return i.options.numerals[+w]}),d=d.replace(/[0-9]/g,function(w){return i.options.numerals[+w]})),p+i.options.prefix+c+d+i.options.suffix},this.easeOutExpo=function(s,l,c,d){return c*(1-Math.pow(2,-10*s/d))*1024/1023+l},this.options=N0(N0({},this.defaults),r),this.formattingFn=this.options.formattingFn?this.options.formattingFn:this.formatNumber,this.easingFn=this.options.easingFn?this.options.easingFn:this.easeOutExpo,this.startVal=this.validateValue(this.options.startVal),this.frameVal=this.startVal,this.endVal=this.validateValue(n),this.options.decimalPlaces=Math.max(this.options.decimalPlaces),this.resetDuration(),this.options.separator=String(this.options.separator),this.useEasing=this.options.useEasing,this.options.separator===""&&(this.options.useGrouping=!1),this.el=typeof t=="string"?document.getElementById(t):t,this.el?this.printValue(this.startVal):this.error="[CountUp] target is null or undefined",typeof window<"u"&&this.options.enableScrollSpy&&(this.error?console.error(this.error,t):(window.onScrollFns=window.onScrollFns||[],window.onScrollFns.push(function(){return i.handleScroll(i)}),window.onscroll=function(){window.onScrollFns.forEach(function(s){return s()})},this.handleScroll(this)))}return e.prototype.handleScroll=function(t){if(t&&window&&!t.once){var n=window.innerHeight+window.scrollY,r=t.el.getBoundingClientRect(),i=r.top+window.pageYOffset,s=r.top+r.height+window.pageYOffset;s<n&&s>window.scrollY&&t.paused?(t.paused=!1,setTimeout(function(){return t.start()},t.options.scrollSpyDelay),t.options.scrollSpyOnce&&(t.once=!0)):(window.scrollY>s||i>n)&&!t.paused&&t.reset()}},e.prototype.determineDirectionAndSmartEasing=function(){var t=this.finalEndVal?this.finalEndVal:this.endVal;this.countDown=this.startVal>t;var n=t-this.startVal;if(Math.abs(n)>this.options.smartEasingThreshold&&this.options.useEasing){this.finalEndVal=t;var r=this.countDown?1:-1;this.endVal=t+r*this.options.smartEasingAmount,this.duration=this.duration/2}else this.endVal=t,this.finalEndVal=null;this.finalEndVal!==null?this.useEasing=!1:this.useEasing=this.options.useEasing},e.prototype.start=function(t){this.error||(this.options.onStartCallback&&this.options.onStartCallback(),t&&(this.options.onCompleteCallback=t),this.duration>0?(this.determineDirectionAndSmartEasing(),this.paused=!1,this.rAF=requestAnimationFrame(this.count)):this.printValue(this.endVal))},e.prototype.pauseResume=function(){this.paused?(this.startTime=null,this.duration=this.remaining,this.startVal=this.frameVal,this.determineDirectionAndSmartEasing(),this.rAF=requestAnimationFrame(this.count)):cancelAnimationFrame(this.rAF),this.paused=!this.paused},e.prototype.reset=function(){cancelAnimationFrame(this.rAF),this.paused=!0,this.resetDuration(),this.startVal=this.validateValue(this.options.startVal),this.frameVal=this.startVal,this.printValue(this.startVal)},e.prototype.update=function(t){cancelAnimationFrame(this.rAF),this.startTime=null,this.endVal=this.validateValue(t),this.endVal!==this.frameVal&&(this.startVal=this.frameVal,this.finalEndVal==null&&this.resetDuration(),this.finalEndVal=null,this.determineDirectionAndSmartEasing(),this.rAF=requestAnimationFrame(this.count))},e.prototype.printValue=function(t){var n;if(this.el){var r=this.formattingFn(t);!((n=this.options.plugin)===null||n===void 0)&&n.render?this.options.plugin.render(this.el,r):this.el.tagName==="INPUT"?this.el.value=r:this.el.tagName==="text"||this.el.tagName==="tspan"?this.el.textContent=r:this.el.innerHTML=r}},e.prototype.ensureNumber=function(t){return typeof t=="number"&&!isNaN(t)},e.prototype.validateValue=function(t){var n=Number(t);return this.ensureNumber(n)?n:(this.error="[CountUp] invalid start or end value: ".concat(t),null)},e.prototype.resetDuration=function(){this.startTime=null,this.duration=1e3*Number(this.options.duration),this.remaining=this.duration},e}();const kde=Object.freeze(Object.defineProperty({__proto__:null,CountUp:Cde},Symbol.toStringTag,{value:"Module"})),Mde=cF(kde);var H3;function Rde(){if(H3)return Ih;H3=1,Object.defineProperty(Ih,"__esModule",{value:!0});var e=Zc(),t=Mde;function n(j,V){var C=j==null?null:typeof Symbol<"u"&&j[Symbol.iterator]||j["@@iterator"];if(C!=null){var N,U,L,q,H=[],D=!0,K=!1;try{if(L=(C=C.call(j)).next,V!==0)for(;!(D=(N=L.call(C)).done)&&(H.push(N.value),H.length!==V);D=!0);}catch(Q){K=!0,U=Q}finally{try{if(!D&&C.return!=null&&(q=C.return(),Object(q)!==q))return}finally{if(K)throw U}}return H}}function r(j,V){var C=Object.keys(j);if(Object.getOwnPropertySymbols){var N=Object.getOwnPropertySymbols(j);V&&(N=N.filter(function(U){return Object.getOwnPropertyDescriptor(j,U).enumerable})),C.push.apply(C,N)}return C}function i(j){for(var V=1;V<arguments.length;V++){var C=arguments[V]!=null?arguments[V]:{};V%2?r(Object(C),!0).forEach(function(N){s(j,N,C[N])}):Object.getOwnPropertyDescriptors?Object.defineProperties(j,Object.getOwnPropertyDescriptors(C)):r(Object(C)).forEach(function(N){Object.defineProperty(j,N,Object.getOwnPropertyDescriptor(C,N))})}return j}function s(j,V,C){return V=_(V),V in j?Object.defineProperty(j,V,{value:C,enumerable:!0,configurable:!0,writable:!0}):j[V]=C,j}function l(){return l=Object.assign?Object.assign.bind():function(j){for(var V=1;V<arguments.length;V++){var C=arguments[V];for(var N in C)Object.prototype.hasOwnProperty.call(C,N)&&(j[N]=C[N])}return j},l.apply(this,arguments)}function c(j,V){if(j==null)return{};var C={},N=Object.keys(j),U,L;for(L=0;L<N.length;L++)U=N[L],!(V.indexOf(U)>=0)&&(C[U]=j[U]);return C}function d(j,V){if(j==null)return{};var C=c(j,V),N,U;if(Object.getOwnPropertySymbols){var L=Object.getOwnPropertySymbols(j);for(U=0;U<L.length;U++)N=L[U],!(V.indexOf(N)>=0)&&Object.prototype.propertyIsEnumerable.call(j,N)&&(C[N]=j[N])}return C}function u(j,V){return p(j)||n(j,V)||h(j,V)||v()}function p(j){if(Array.isArray(j))return j}function h(j,V){if(j){if(typeof j=="string")return y(j,V);var C=Object.prototype.toString.call(j).slice(8,-1);if(C==="Object"&&j.constructor&&(C=j.constructor.name),C==="Map"||C==="Set")return Array.from(j);if(C==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(C))return y(j,V)}}function y(j,V){(V==null||V>j.length)&&(V=j.length);for(var C=0,N=new Array(V);C<V;C++)N[C]=j[C];return N}function v(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function b(j,V){if(typeof j!="object"||j===null)return j;var C=j[Symbol.toPrimitive];if(C!==void 0){var N=C.call(j,V||"default");if(typeof N!="object")return N;throw new TypeError("@@toPrimitive must return a primitive value.")}return(V==="string"?String:Number)(j)}function _(j){var V=b(j,"string");return typeof V=="symbol"?V:String(V)}var w=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?e.useLayoutEffect:e.useEffect;function T(j){var V=e.useRef(j);return w(function(){V.current=j}),e.useCallback(function(){for(var C=arguments.length,N=new Array(C),U=0;U<C;U++)N[U]=arguments[U];return V.current.apply(void 0,N)},[])}var k=function(V,C){var N=C.decimal,U=C.decimals,L=C.duration,q=C.easingFn,H=C.end,D=C.formattingFn,K=C.numerals,Q=C.prefix,J=C.separator,B=C.start,G=C.suffix,ee=C.useEasing,ue=C.useGrouping,F=C.useIndianSeparators,ge=C.enableScrollSpy,se=C.scrollSpyDelay,Se=C.scrollSpyOnce,Me=C.plugin;return new t.CountUp(V,H,{startVal:B,duration:L,decimal:N,decimalPlaces:U,easingFn:q,formattingFn:D,numerals:K,separator:J,prefix:Q,suffix:G,plugin:Me,useEasing:ee,useIndianSeparators:F,useGrouping:ue,enableScrollSpy:ge,scrollSpyDelay:se,scrollSpyOnce:Se})},R=["ref","startOnMount","enableReinitialize","delay","onEnd","onStart","onPauseResume","onReset","onUpdate"],M={decimal:".",separator:",",delay:null,prefix:"",suffix:"",duration:2,start:0,decimals:0,startOnMount:!0,enableReinitialize:!0,useEasing:!0,useGrouping:!0,useIndianSeparators:!1},E=function(V){var C=Object.fromEntries(Object.entries(V).filter(function(Fe){var Ve=u(Fe,2),ze=Ve[1];return ze!==void 0})),N=e.useMemo(function(){return i(i({},M),C)},[V]),U=N.ref,L=N.startOnMount,q=N.enableReinitialize,H=N.delay,D=N.onEnd,K=N.onStart,Q=N.onPauseResume,J=N.onReset,B=N.onUpdate,G=d(N,R),ee=e.useRef(),ue=e.useRef(),F=e.useRef(!1),ge=T(function(){return k(typeof U=="string"?U:U.current,G)}),se=T(function(Fe){var Ve=ee.current;if(Ve&&!Fe)return Ve;var ze=ge();return ee.current=ze,ze}),Se=T(function(){var Fe=function(){return se(!0).start(function(){D==null||D({pauseResume:Me,reset:Re,start:je,update:ye})})};H&&H>0?ue.current=setTimeout(Fe,H*1e3):Fe(),K==null||K({pauseResume:Me,reset:Re,update:ye})}),Me=T(function(){se().pauseResume(),Q==null||Q({reset:Re,start:je,update:ye})}),Re=T(function(){se().el&&(ue.current&&clearTimeout(ue.current),se().reset(),J==null||J({pauseResume:Me,start:je,update:ye}))}),ye=T(function(Fe){se().update(Fe),B==null||B({pauseResume:Me,reset:Re,start:je})}),je=T(function(){Re(),Se()}),Ge=T(function(Fe){L&&(Fe&&Re(),Se())});return e.useEffect(function(){F.current?q&&Ge(!0):(F.current=!0,Ge())},[q,F,Ge,H,V.start,V.suffix,V.prefix,V.duration,V.separator,V.decimals,V.decimal,V.formattingFn]),e.useEffect(function(){return function(){Re()}},[Re]),{start:je,pauseResume:Me,reset:Re,update:ye,getCountUp:se}},O=["className","redraw","containerProps","children","style"],P=function(V){var C=V.className,N=V.redraw,U=V.containerProps,L=V.children,q=V.style,H=d(V,O),D=e.useRef(null),K=e.useRef(!1),Q=E(i(i({},H),{},{ref:D,startOnMount:typeof L!="function"||V.delay===0,enableReinitialize:!1})),J=Q.start,B=Q.reset,G=Q.update,ee=Q.pauseResume,ue=Q.getCountUp,F=T(function(){J()}),ge=T(function(Me){V.preserveValue||B(),G(Me)}),se=T(function(){if(typeof V.children=="function"&&!(D.current instanceof Element)){console.error(`Couldn't find attached element to hook the CountUp instance into! Try to attach "containerRef" from the render prop to a an Element, eg. <span ref={containerRef} />.`);return}ue()});e.useEffect(function(){se()},[se]),e.useEffect(function(){K.current&&ge(V.end)},[V.end,ge]);var Se=N&&V;return e.useEffect(function(){N&&K.current&&F()},[F,N,Se]),e.useEffect(function(){!N&&K.current&&F()},[F,N,V.start,V.suffix,V.prefix,V.duration,V.separator,V.decimals,V.decimal,V.className,V.formattingFn]),e.useEffect(function(){K.current=!0},[]),typeof L=="function"?L({countUpRef:D,start:J,reset:B,update:G,pauseResume:ee,getCountUp:ue}):e.createElement("span",l({className:C,ref:D,style:q},U),typeof V.start<"u"?ue().formattingFn(V.start):"")};return Ih.default=P,Ih.useCountUp=E,Ih}var Ide=Rde();const o2=Pr(Ide),l2=e=>x.useMemo(()=>{const t={};e.forEach(r=>{if(!r.language)return;(Array.isArray(r.language)?r.language:[r.language]).forEach(s=>{const l=s.toLowerCase();t[l]||(t[l]={name:s,count:0}),t[l].count=t[l].count+1})});const n=Object.values(t);return n.sort((r,i)=>i.count-r.count),n},[e]),Ode=ds()?0:20;function DN({onClose:e,closeText:t}){const{register:n}=dr({onBackspace:e}),[r,i]=St(J0),{data:s,isLoading:l}=_f(),c=l2(s),d=x.useMemo(()=>c.filter(({name:v,count:b})=>jN(v)&&b>=Ode),[c]),u=x.useMemo(()=>c.filter(({name:v})=>!d.find(b=>b.name===v)).reduce((v,{count:b})=>v+b,0),[c,d]),p=d.filter(({name:v})=>!(r!=null&&r.includes(v))).reduce((v,{count:b})=>v+b,0),h=v=>{r===null?i([v]):r.includes(v)?i(r.filter(b=>b!==v)):i([...r,v])};x.useEffect(()=>{if(r===null&&(navigator!=null&&navigator.languages)){const v=new Intl.DisplayNames(["en"],{type:"language"}),b=navigator==null?void 0:navigator.languages.map(w=>{var T;return(T=v.of(w))==null?void 0:T.toLowerCase()}).filter(Boolean),_=d.map(w=>w.name).filter(w=>!b.some(T=>T.includes(w.toLowerCase()))).filter(w=>w!=="English");_.length&&i(_)}},[r,d]);const y=x.useMemo(()=>d.every(v=>r==null?void 0:r.includes(v.name)),[r,d]);return x.useEffect(()=>{r!=null&&r.find(v=>!d.find(b=>b.name===v))&&i(r.filter(v=>d.find(b=>b.name===v)))},[d,r,i]),g.jsxs(Do,{children:[g.jsx("h1",{children:"Select Song Languages"}),g.jsxs(Vde,{children:[l&&new Array(6).fill(0).map((v,b)=>g.jsx(bde,{variant:"rectangular",width:"100%",height:"10rem",children:g.jsx(q3,{"data-excluded":!0,focused:!1,children:g.jsx(Vc,{language:["English"]})})},b)),d.map(({name:v,count:b})=>{const _=(r==null?void 0:r.includes(v))??!1;return g.jsxs(q3,{"data-excluded":_,...n(`lang-${v}`,()=>h(v)),children:[g.jsx(Pde,{children:_?g.jsx(Ny,{}):g.jsx(By,{})}),g.jsxs("span",{children:[g.jsx(Dde,{children:v})," (",b," songs)"]}),g.jsx(Bde,{"data-excluded":_,children:g.jsx(Vc,{language:[v]})})]},v)}),u>0&&g.jsxs(o_,{children:["and ",g.jsxs("strong",{children:[u," songs"]})," in other languages"]})]}),g.jsxs("h3",{children:["You can always update the selection in ",g.jsx("strong",{children:"Manage Songs"})," menu"]}),g.jsxs(jde,{children:[g.jsx(mt,{...n("close-exclude-languages",e,void 0,!0,{disabled:y||l}),children:t}),g.jsxs(o_,{children:["The list will contain"," ",g.jsx("strong",{children:g.jsx(o2,{duration:1,preserveValue:!0,end:p+u})})," ","songs"]}),y&&g.jsxs(o_,{"data-test":"all-languages-excluded-warning",children:[g.jsx("strong",{children:g.jsx(bf,{})})," ","You excluded all the languages, pick at least one"]})]})]})}const jde=W("div",{target:"e17pzmm6"})({name:"4zk4ri",styles:"display:flex;flex-direction:column;gap:1rem"}),o_=W("h4",{target:"e17pzmm5"})({name:"2qga7i",styles:"text-align:right"}),Pde=W("div",{target:"e17pzmm4"})({name:"18gxnlc",styles:"svg{width:3rem;height:3rem;}"}),Vde=W("div",{target:"e17pzmm3"})({name:"fvqkyn",styles:"margin-top:2rem;display:flex;flex-direction:column;gap:1rem"}),Dde=W("span",{target:"e17pzmm2"})({name:"1jwmbuq",styles:"transition:300ms"}),Bde=W("div",{target:"e17pzmm1"})({name:"5606u9",styles:"transition:300ms;opacity:0.95;&[data-excluded='true']{filter:grayscale(0.6);opacity:0.5;}position:absolute;bottom:0;right:0;img{width:14rem;height:8rem;object-fit:cover;}overflow:hidden;width:14rem;height:8rem"}),q3=W(mt,{target:"e17pzmm0"})({name:"l4ecx7",styles:"&[data-excluded='true']{text-decoration:line-through white;opacity:0.5;&[data-focused='false']{background:rgba(0, 0, 0, 0.55);}}justify-content:flex-start;gap:2rem;font-size:2.5rem;padding-left:3rem;margin:0;height:8rem;position:relative;width:100%"}),Nde=ds()?0:30;function Lde({children:e,languageList:t,excludedLanguages:n,onListChange:r}){const[i,s]=x.useState(!1),l=()=>s(!1),c=t.filter(u=>u.count>Nde),d=u=>{const p=n.filter(h=>c.find(y=>y.name===h));p.length===0?r(t.filter(h=>h.name!==u).map(h=>h.name)):p.includes(u)?r(n.filter(h=>h!==u)):p.length===c.length-1?r([]):r([...n,u])};return g.jsxs(g.Fragment,{children:[i&&g.jsx(Dl,{onClose:l,children:g.jsxs(Pt,{"data-test":"languages-container",spacing:"tight",children:[c.map(({name:u,count:p})=>{const h=n.length&&n.includes(u);return g.jsxs(Pt.Button,{size:"small","data-inactive":h,"data-active":!!n.length&&!n.includes(u),onClick:()=>d(u),"data-test":u,className:"!justify-between pl-4",children:[g.jsxs("span",{children:[u," ",g.jsxs("small",{className:"text-sm pl-2",children:["(",p," songs)"]})]}),g.jsx(Vc,{language:[u],className:" h-full w-32 object-cover"})]},u)}),g.jsx(Pt.Divider,{}),g.jsx(Pt.Button,{size:"small",onClick:l,"data-test":"close-language-filter",children:"Close"})]})}),e({open:()=>s(!0)})]})}const Fde=Nl("remote-mic-saved-songs"),BN=()=>{const[e,t]=Fde([]),n=x.useCallback(r=>{e.includes(r)?(t(i=>i.filter(s=>s!==r)),An.sendMySongList({deleted:[r]})):(er.capture("remote-song-list-add",{songId:r}),t(i=>[...i,r]),An.sendMySongList({added:[r]}))},[e]);return{savedSongList:e,toggleSong:n}},zde=(e,t,n)=>e>=t&&e<n;function NN(e){var M,E,O;const t=x.useRef(null),n=((M=t.current)==null?void 0:M.getBoundingClientRect().height)??global.innerHeight,r=x.useMemo(()=>{const P=[];return e.groupSizes.forEach((j,V)=>{var C,N;P.push({index:V,type:"group",bottom:(((C=P.at(-1))==null?void 0:C.bottom)??0)+e.groupHeaderHeight,groupIndex:V});for(let U=0;U<j;U++){const L=e.groupSizes.reduce((q,H,D)=>q+(D<V?H:0),0)+U;P.push({index:L,type:"item",bottom:(((N=P.at(-1))==null?void 0:N.bottom)??0)+e.itemHeight,groupIndex:V})}}),P},[e.itemHeight,e.groupHeaderHeight,e.groupSizes]),i=!r.some(P=>P.type==="item"),s=((E=r.at(-1))==null?void 0:E.bottom)??0,l=x.useCallback(P=>{const j=r.findIndex(C=>C.bottom>P-e.overScan),V=r.findIndex(C=>C.bottom>P+n+e.overScan);return[j,V===-1?r.length:V]},[r,n,e.overScan]),[[c,d],u]=x.useState(()=>l(0));x.useLayoutEffect(()=>{if(t.current){const P=()=>{var V;const j=l(((V=t.current)==null?void 0:V.scrollTop)??0);(c!==j[0]||d!==j[1])&&u(j)};return t.current.addEventListener("scroll",P),t.current.scrollTop>s&&t.current.scrollTo({top:0}),P(),()=>{var j;(j=t.current)==null||j.removeEventListener("scroll",P)}}},[c,d,l,s]);const p=x.useCallback((P,j)=>{var V,C;return(((V=r[j])==null?void 0:V.bottom)??0)-(((C=r[P])==null?void 0:C.bottom)??0)},[r]),h=x.useMemo(()=>p(-1,c-1),[c,p]),y=r.slice(0,c).findLastIndex(({type:P})=>P==="group"),v=r.slice(c,d),b=y!==-1?[[]]:[];for(let P=0;P<v.length;P++){const j=v[P];j.type==="group"&&b.push([]),(O=b.at(-1))==null||O.push(j)}x.useImperativeHandle(e.ref,()=>({getItemPositionY:P=>{var j;return(((j=r.find(V=>V.type==="item"&&V.index===P))==null?void 0:j.bottom)??-1)-e.itemHeight},scrollTo:P=>{var j;(j=t.current)==null||j.scrollTo({top:P})},scrollToIndex:async(P,j="auto",V="center")=>{var N,U;const C=r.find(L=>L.type==="item"&&L.index===P);if(C){const L=(e.itemHeight+(V==="center"?(N=t.current)==null?void 0:N.clientHeight:0))/2;(U=t.current)==null||U.scrollTo({top:C.bottom-L,behavior:j})}},scrollToGroup:async(P,j="auto",V="top")=>{var N;const C=r.find(U=>U.type==="group"&&U.index===P);C&&((N=t.current)==null||N.scrollTo({top:C.bottom-e.groupHeaderHeight,behavior:j}))}}));const{Header:_,EmptyPlaceholder:w}=e.components??{},T=e.Footer,k=r.findIndex(P=>P.type==="item"&&P.index===e.forceRenderItem),R=y!==-1?h-e.groupHeaderHeight:h;return g.jsxs(Ude,{ref:t,children:[g.jsxs($de,{style:{height:s},children:[_&&g.jsx(_,{context:e.context}),r[k]&&!zde(k,c,d)&&g.jsx(g.Fragment,{children:e.itemContent(r[k].index,r[k].groupIndex,{style:{width:"100%",position:"absolute",top:r[k].bottom-e.itemHeight,left:0,boxSizing:"border-box"},"data-virtualized-bottom":r[k].bottom,"data-virtualized-index":r[k].index})}),g.jsx("div",{style:{transform:`translateY(${R}px)`},children:b.map((P,j)=>g.jsxs("div",{"data-virtualized-group":(P[0]??r[y]).groupIndex,children:[j===0&&y!==-1&&e.groupContent(r[y].index),P.map(({index:V,type:C,bottom:N,groupIndex:U})=>g.jsx(x.Fragment,{children:C==="group"?e.groupContent(V):e.itemContent(V,U,{"data-virtualized-bottom":N,"data-virtualized-index":V})},`${N}`))]},(P[0]??r[y]).groupIndex))})]}),i&&w&&g.jsx(w,{context:e.context}),T&&T]})}const $de=W("div",{target:"e1c20jfn1"})({name:"100d0a9",styles:"box-sizing:border-box;position:relative"}),Ude=W("div",{target:"e1c20jfn0"})({name:"1wyitvb",styles:"overflow:auto;height:100%;width:100%"}),Hde=new Intl.Collator("en",{numeric:!0,sensitivity:"base"}).compare,zx=1/0,l_=e=>e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),G3="eexxaacctt",qde="A-Z",Gde="a-z",Oh=(e,t,n)=>e.replace(qde,t).replace(Gde,n),Y3={unicode:!1,alpha:null,interSplit:"[^A-Za-z\\d']+",intraSplit:"[a-z][A-Z]",intraBound:"[A-Za-z]\\d|\\d[A-Za-z]|[a-z][A-Z]",interLft:0,interRgt:0,interChars:".",interIns:zx,intraChars:"[a-z\\d']",intraIns:null,intraContr:"'[a-z]{1,2}\\b",intraMode:0,intraSlice:[1,zx],intraSub:null,intraTrn:null,intraDel:null,intraFilt:(e,t,n)=>!0,sort:(e,t,n)=>{let{idx:r,chars:i,terms:s,interLft2:l,interLft1:c,start:d,intraIns:u,interIns:p}=e;return r.map((h,y)=>y).sort((h,y)=>i[y]-i[h]||u[h]-u[y]||s[y]+l[y]+.5*c[y]-(s[h]+l[h]+.5*c[h])||p[h]-p[y]||d[h]-d[y]||Hde(t[r[h]],t[r[y]]))}},c_=(e,t)=>t==0?"":t==1?e+"??":t==zx?e+"*?":e+`{0,${t}}?`,K3="(?:\\b|_)";function qv(e){e=Object.assign({},Y3,e);let{unicode:t,interLft:n,interRgt:r,intraMode:i,intraSlice:s,intraIns:l,intraSub:c,intraTrn:d,intraDel:u,intraContr:p,intraSplit:h,interSplit:y,intraBound:v,intraChars:b}=e;l??(l=i),c??(c=i),d??(d=i),u??(u=i);let _=e.letters??e.alpha;if(_!=null){let G=_.toLocaleUpperCase(),ee=_.toLocaleLowerCase();y=Oh(y,G,ee),h=Oh(h,G,ee),v=Oh(v,G,ee),b=Oh(b,G,ee),p=Oh(p,G,ee)}let w=t?"u":"";const T='".+?"',k=new RegExp(T,"gi"+w),R=new RegExp(`(?:\\s+|^)-(?:${b}+|${T})`,"gi"+w);let{intraRules:M}=e;M==null&&(M=G=>{let ee=Y3.intraSlice,ue=0,F=0,ge=0,se=0;if(/[^\d]/.test(G)){let Se=G.length;Se<=4?Se>=3&&(ge=Math.min(d,1),Se==4&&(ue=Math.min(l,1))):(ee=s,ue=l,F=c,ge=d,se=u)}return{intraSlice:ee,intraIns:ue,intraSub:F,intraTrn:ge,intraDel:se}});let E=!!h,O=new RegExp(h,"g"+w),P=new RegExp(y,"g"+w),j=new RegExp("^"+y+"|"+y+"$","g"+w),V=new RegExp(p,"gi"+w);const C=G=>{let ee=[];G=G.replace(k,F=>(ee.push(F),G3)),G=G.replace(j,"").toLocaleLowerCase(),E&&(G=G.replace(O,F=>F[0]+" "+F[1]));let ue=0;return G.split(P).filter(F=>F!="").map(F=>F===G3?ee[ue++]:F)},N=/[^\d]+|\d+/g,U=(G,ee=0,ue=!1)=>{let F=C(G);if(F.length==0)return[];let ge=Array(F.length).fill("");F=F.map((ye,je)=>ye.replace(V,Ge=>(ge[je]=Ge,"")));let se;if(i==1)se=F.map((ye,je)=>{if(ye[0]==='"')return l_(ye.slice(1,-1));let Ge="";for(let Fe of ye.matchAll(N)){let Ve=Fe[0],{intraSlice:ze,intraIns:ot,intraSub:Qe,intraTrn:Ue,intraDel:pt}=M(Ve);if(ot+Qe+Ue+pt==0)Ge+=Ve+ge[je];else{let[Jt,hn]=ze,He=Ve.slice(0,Jt),Nn=Ve.slice(hn),At=Ve.slice(Jt,hn);ot==1&&He.length==1&&He!=At[0]&&(He+="(?!"+He+")");let pn=At.length,gn=[Ve];if(Qe)for(let rt=0;rt<pn;rt++)gn.push(He+At.slice(0,rt)+b+At.slice(rt+1)+Nn);if(Ue)for(let rt=0;rt<pn-1;rt++)At[rt]!=At[rt+1]&&gn.push(He+At.slice(0,rt)+At[rt+1]+At[rt]+At.slice(rt+2)+Nn);if(pt)for(let rt=0;rt<pn;rt++)gn.push(He+At.slice(0,rt+1)+"?"+At.slice(rt+1)+Nn);if(ot){let rt=c_(b,1);for(let yt=0;yt<pn;yt++)gn.push(He+At.slice(0,yt)+rt+At.slice(yt)+Nn)}Ge+="(?:"+gn.join("|")+")"+ge[je]}}return Ge});else{let ye=c_(b,l);ee==2&&l>0&&(ye=")("+ye+")("),se=F.map((je,Ge)=>je[0]==='"'?l_(je.slice(1,-1)):je.split("").map((Fe,Ve,ze)=>(l==1&&Ve==0&&ze.length>1&&Fe!=ze[Ve+1]&&(Fe+="(?!"+Fe+")"),Fe)).join(ye)+ge[Ge])}let Se=n==2?K3:"",Me=r==2?K3:"",Re=Me+c_(e.interChars,e.interIns)+Se;return ee>0?ue?se=Se+"("+se.join(")"+Me+"|"+Se+"(")+")"+Me:(se="("+se.join(")("+Re+")(")+")",se="(.??"+Se+")"+se+"("+Me+".*)"):(se=se.join(Re),se=Se+se+Me),[new RegExp(se,"i"+w),F,ge]},L=(G,ee,ue)=>{let[F]=U(ee);if(F==null)return null;let ge=[];if(ue!=null)for(let se=0;se<ue.length;se++){let Se=ue[se];F.test(G[Se])&&ge.push(Se)}else for(let se=0;se<G.length;se++)F.test(G[se])&&ge.push(se);return ge};let q=!!v,H=new RegExp(y,w),D=new RegExp(v,w);const K=(G,ee,ue)=>{let[F,ge,se]=U(ue,1),[Se]=U(ue,2),Me=ge.length,Re=G.length,ye=Array(Re).fill(0),je={idx:Array(Re),start:ye.slice(),chars:ye.slice(),terms:ye.slice(),interIns:ye.slice(),intraIns:ye.slice(),interLft2:ye.slice(),interRgt2:ye.slice(),interLft1:ye.slice(),interRgt1:ye.slice(),ranges:Array(Re)},Ge=n==1||r==1,Fe=0;for(let Ve=0;Ve<G.length;Ve++){let ze=ee[G[Ve]],ot=ze.match(F),Qe=ot.index+ot[1].length,Ue=Qe,pt=!1,Jt=0,hn=0,He=0,Nn=0,At=0,pn=0,gn=0,rt=0,yt=[];for(let dt=0,xt=2;dt<Me;dt++,xt+=2){let Zt=ot[xt].toLocaleLowerCase(),wt=ge[dt],kt=wt[0]=='"'?wt.slice(1,-1):wt+se[dt],Lt=kt.length,Ln=Zt.length,en=Zt==kt;if(!en&&ot[xt+1].length>=Lt){let gt=ot[xt+1].toLocaleLowerCase().indexOf(kt);gt>-1&&(yt.push(Ue,Ln,gt,Lt),Ue+=Q(ot,xt,gt,Lt),Zt=kt,Ln=Lt,en=!0,dt==0&&(Qe=Ue))}if(Ge||en){let gt=Ue-1,fr=Ue+Ln,Vr=!1,Gn=!1;if(gt==-1||H.test(ze[gt]))en&&Jt++,Vr=!0;else{if(n==2){pt=!0;break}if(q&&D.test(ze[gt]+ze[gt+1]))en&&hn++,Vr=!0;else if(n==1){let qr=ot[xt+1],Dr=Ue+Ln;if(qr.length>=Lt){let Ft=0,Tn=!1,Je=new RegExp(kt,"ig"+w),Mt;for(;Mt=Je.exec(qr);){Ft=Mt.index;let hr=Dr+Ft,oi=hr-1;if(oi==-1||H.test(ze[oi])){Jt++,Tn=!0;break}else if(D.test(ze[oi]+ze[hr])){hn++,Tn=!0;break}}Tn&&(Vr=!0,yt.push(Ue,Ln,Ft,Lt),Ue+=Q(ot,xt,Ft,Lt),Zt=kt,Ln=Lt,en=!0,dt==0&&(Qe=Ue))}if(!Vr){pt=!0;break}}}if(fr==ze.length||H.test(ze[fr]))en&&He++,Gn=!0;else{if(r==2){pt=!0;break}if(q&&D.test(ze[fr-1]+ze[fr]))en&&Nn++,Gn=!0;else if(r==1){pt=!0;break}}en&&(At+=Lt,Vr&&Gn&&pn++)}if(Ln>Lt&&(rt+=Ln-Lt),dt>0&&(gn+=ot[xt-1].length),!e.intraFilt(kt,Zt,Ue)){pt=!0;break}dt<Me-1&&(Ue+=Ln+ot[xt+1].length)}if(!pt){je.idx[Fe]=G[Ve],je.interLft2[Fe]=Jt,je.interLft1[Fe]=hn,je.interRgt2[Fe]=He,je.interRgt1[Fe]=Nn,je.chars[Fe]=At,je.terms[Fe]=pn,je.interIns[Fe]=gn,je.intraIns[Fe]=rt,je.start[Fe]=Qe;let dt=ze.match(Se),xt=dt.index+dt[1].length,Zt=yt.length,wt=Zt>0?0:1/0,kt=Zt-4;for(let gt=2;gt<dt.length;){let fr=dt[gt].length;if(wt<=kt&&yt[wt]==xt){let Vr=yt[wt+1],Gn=yt[wt+2],qr=yt[wt+3],Dr=gt,Ft="";for(let Tn=0;Tn<Vr;Dr++)Ft+=dt[Dr],Tn+=dt[Dr].length;dt.splice(gt,Dr-gt,Ft),xt+=Q(dt,gt,Gn,qr),wt+=4}else xt+=fr,gt++}xt=dt.index+dt[1].length;let Lt=je.ranges[Fe]=[],Ln=xt,en=xt;for(let gt=2;gt<dt.length;gt++){let fr=dt[gt].length;xt+=fr,gt%2==0?en=xt:fr>0&&(Lt.push(Ln,en),Ln=en=xt)}en>Ln&&Lt.push(Ln,en),Fe++}}if(Fe<G.length)for(let Ve in je)je[Ve]=je[Ve].slice(0,Fe);return je},Q=(G,ee,ue,F)=>{let ge=G[ee]+G[ee+1].slice(0,ue);return G[ee-1]+=ge,G[ee]=G[ee+1].slice(ue,ue+F),G[ee+1]=G[ee+1].slice(ue+F),ge.length},J=5,B=(G,ee,ue,F=1e3,ge)=>{ue=ue?ue===!0?J:ue:0;let se=null,Se=null,Me=[];ee=ee.replace(R,Ve=>{let ze=Ve.trim().slice(1);return ze[0]==='"'&&(ze=l_(ze.slice(1,-1))),Me.push(ze),""});let Re=C(ee),ye;if(Me.length>0){if(ye=new RegExp(Me.join("|"),"i"+w),Re.length==0){let Ve=[];for(let ze=0;ze<G.length;ze++)ye.test(G[ze])||Ve.push(ze);return[Ve,null,null]}}else if(Re.length==0)return[null,null,null];if(ue>0){let Ve=C(ee);if(Ve.length>1){let ze=Ve.slice().sort((Qe,Ue)=>Ue.length-Qe.length);for(let Qe=0;Qe<ze.length;Qe++){if((ge==null?void 0:ge.length)==0)return[[],null,null];ge=L(G,ze[Qe],ge)}if(Ve.length>ue)return[ge,null,null];se=LN(Ve).map(Qe=>Qe.join(" ")),Se=[];let ot=new Set;for(let Qe=0;Qe<se.length;Qe++)if(ot.size<ge.length){let Ue=ge.filter(Jt=>!ot.has(Jt)),pt=L(G,se[Qe],Ue);for(let Jt=0;Jt<pt.length;Jt++)ot.add(pt[Jt]);Se.push(pt)}else Se.push([])}}se==null&&(se=[ee],Se=[(ge==null?void 0:ge.length)>0?ge:L(G,ee)]);let je=null,Ge=null;if(Me.length>0&&(Se=Se.map(Ve=>Ve.filter(ze=>!ye.test(G[ze])))),Se.reduce((Ve,ze)=>Ve+ze.length,0)<=F){je={},Ge=[];for(let Ve=0;Ve<Se.length;Ve++){let ze=Se[Ve];if(ze==null||ze.length==0)continue;let ot=se[Ve],Qe=K(ze,G,ot),Ue=e.sort(Qe,G,ot);if(Ve>0)for(let pt=0;pt<Ue.length;pt++)Ue[pt]+=Ge.length;for(let pt in Qe)je[pt]=(je[pt]??[]).concat(Qe[pt]);Ge=Ge.concat(Ue)}}return[[].concat(...Se),je,Ge]};return{search:(...G)=>B(...G),split:C,filter:L,info:K,sort:e.sort}}const Yde=(()=>{let e={A:"",a:"",E:"",e:"",I:"",i:"",O:"",o:"",U:"",u:"",C:"",c:"",L:"",l:"",N:"",n:"",S:"",s:"",Z:"",z:""},t=new Map,n="";for(let s in e)e[s].split("").forEach(l=>{n+=l,t.set(l,s)});let r=new RegExp(`[${n}]`,"g"),i=s=>t.get(s);return s=>{if(typeof s=="string")return s.replace(r,i);let l=Array(s.length);for(let c=0;c<s.length;c++)l[c]=s[c].replace(r,i);return l}})();function LN(e){e=e.slice();let t=e.length,n=[e.slice()],r=new Array(t).fill(0),i=1,s,l;for(;i<t;)r[i]<i?(s=i%2&&r[i],l=e[i],e[i]=e[s],e[s]=l,++r[i],i=1,n.push(e.slice())):(r[i]=0,++i);return n}const Kde=(e,t)=>t?`<mark>${e}</mark>`:e,Wde=(e,t)=>e+t;function Qde(e,t,n=Kde,r="",i=Wde){r=i(r,n(e.substring(0,t[0]),!1))??r;for(let s=0;s<t.length;s+=2){let l=t[s],c=t[s+1];r=i(r,n(e.substring(l,c),!0))??r,s<t.length-3&&(r=i(r,n(e.substring(t[s+1],t[s+2]),!1))??r)}return r=i(r,n(e.substring(t[t.length-1]),!1))??r,r}qv.latinize=Yde;qv.permute=e=>LN([...Array(e.length).keys()]).sort((n,r)=>{for(let i=0;i<n.length;i++)if(n[i]!=r[i])return n[i]-r[i];return 0}).map(n=>n.map(r=>e[r]));qv.highlight=Qde;const Xde=oa().subtract(31,"days");function c2(e){return!!e.lastUpdate&&oa(e.lastUpdate).isAfter(Xde)}function L0(e){return e&&e.length?ON(e):[]}class Jde extends Gs{constructor(){super(),this.lists={},this.updateList=(t,n)=>{this.lists[t]||(this.lists[t]=[]),n.added&&(this.lists[t]=L0(this.lists[t].concat(n.added))),n.deleted&&(this.lists[t]=this.lists[t].filter(r=>{var i;return!((i=n.deleted)!=null&&i.includes(r))})),this.onUpdate(this.getSongList())},this.getSongList=()=>L0(Object.values(this.lists).flat()),me.remoteMicSongListUpdated.subscribe(this.updateList),me.remoteMicDisconnected.subscribe(t=>{delete this.lists[t.id],this.onUpdate(this.getSongList())})}}const u_=new Jde;function Zde(){const[e,t]=x.useState(()=>u_.getSongList());return x.useEffect(()=>(u_.addListener(t),()=>{u_.removeListener(t)}),[]),e}const efe=(e,t,n)=>{const r=l2(e),i=Zde(),{connected:s}=JD();return x.useMemo(()=>n?[]:[{name:"Selection",Wrapper:({children:u,active:p,focused:h})=>g.jsx(koe,{...p&&h?{open:!0}:{},oneTime:!1,timeoutMs:15e3,dismissKey:"selection-playlist",place:"right",title:g.jsxs(g.Fragment,{children:["A combination of songs you might like and popular with other players.",g.jsx("br",{}),g.jsx("br",{})," ",g.jsx("strong",{children:"Search"})," is performed across all the songs."]}),children:u}),display:g.jsxs("span",{children:[g.jsx("strong",{children:""}),"Selection",g.jsx("strong",{children:""})]}),filters:{specificSongs:t}},{name:"All",filters:{}},null,r[0]?{name:r[0].name,filters:{language:r[0].name}}:null,r[1]?{name:r[1].name,filters:{language:r[1].name}}:null,{name:"Duets",filters:{duet:!0}},{name:"New",filters:{recentlyUpdated:!0}},s.length>0?{name:"remote-mics",display:g.jsx(g.Fragment,{children:"From Phones"}),filters:{specificSongs:i,skipExcludedLanguages:!0},footerComponent:g.jsx("div",{className:"flex justify-center",children:g.jsxs(ps,{className:"text-xl",children:["Add songs on your ",g.jsx("strong",{children:"phone"})," using"," ",g.jsxs("strong",{children:[g.jsx(bN,{className:"!text-[1em]"})," Song List"]})," ","tab on the bottom of the screen"]})})}:null].filter(u=>u!==null),[r,n,t,i,s.length])},W3=e=>Hd((e==null?void 0:e.search)??"").length>2,Q3={},tfe=/[^0-9a-z ]/gi,d_=e=>Fw(e).toLowerCase().replace(tfe,"");function $x(e,t){const n=Hd(t);if(n.length>0){const r=new qv({}),[,i,s]=r.search(e.map(l=>`${d_(l.artist)} ${d_(l.title)}`),d_(t));return s&&i?s.map(l=>e[i.idx[l]]):e.filter(l=>l.search.includes(n))}return e}const X3={language:(e,t)=>t===""?e:e.filter(n=>n.language.includes(t)),excludeLanguages:(e,t=[],n={})=>t.length===0||W3(n)||n.skipExcludedLanguages?e:e.filter(r=>!r.language.every(i=>t.includes(i))),search:(e,t)=>$x(e,t),duet:(e,t)=>t===null?e:e.filter(n=>t?n.tracksCount>1:n.tracksCount===1),yearBefore:(e,t)=>t?e.filter(n=>Number(n.year)<t):e,yearAfter:(e,t)=>t?e.filter(n=>Number(n.year)>=t):e,edition:(e,t)=>Hd(t).length?e.filter(r=>Hd(r.edition??"").includes(t)):e,recentlyUpdated:e=>e.filter(c2),specificSongs:(e,t,n)=>W3(n)?e:e.filter(r=>t.includes(r.id)),additionalSongs:(e,t,n,r)=>{const i=r.filter(s=>t.includes(s.id));return[...e,...i.filter(s=>!e.includes(s))]},skipExcludedLanguages:e=>e},J3=(e,t)=>Object.entries(t).filter(n=>n[0]in X3).reduce((n,[r,i])=>X3[r](n,i,t,e),e),nfe=(e,t,n,r)=>{var w;const[i]=St(J0),s=x.useMemo(()=>J3(e,{excludeLanguages:i??[]}),[e,i]),l=efe(s,t,n),[c,d]=x.useState(new URLSearchParams((w=global.location)==null?void 0:w.search).get("playlist")??null),u=T=>{var R;const k=new URL((R=global.location)==null?void 0:R.href);k.searchParams.set("playlist",T),global.history.replaceState(null,"",k.toString()),d(T)},p=l.find(T=>T.name===c)??l[0],[h,y]=x.useState(()=>Q3);x.useEffect(()=>{y(Q3)},[c]);const v=x.useDeferredValue(h),b=!!v.search,_=x.useMemo(()=>J3(e,{...(p==null?void 0:p.filters)??{},...v,excludeLanguages:i??[],additionalSongs:r?[r]:[]}),[e,v,i,p,r,b]);return{filters:h,filteredList:_,setFilters:y,selectedPlaylist:c,setSelectedPlaylist:u,playlists:l,playlist:p}},rfe=Nl("remote-mic-excluded-languages"),ife=Nl("remote-mic-selected-song-list"),sfe=Nl("remote-mic-song-list-search");function afe({roomId:e,monitoringStarted:t,setMonitoringStarted:n,isKeepAwakeOn:r,setIsKeepAwakeOn:i,connectionError:s,connectionStatus:l}){const[c]=Hs(me.remoteKeyboardLayout,!0)??[],d=Hv(),u=_f(),[p,h]=x.useState();x.useEffect(()=>{l==="connected"&&p===void 0&&An.getSongList().then(h).catch(console.warn)},[p,l]);const y=x.useMemo(()=>ide(u.data.map(C=>({...C,id:fs.generateSongFile(C)})).filter(C=>!((p==null?void 0:p.deleted)??[]).includes(C.id)).map(C=>({id:C.id,artist:C.artist,title:C.title,video:C.video,language:C.language,search:C.search})).concat(...((p==null?void 0:p.custom)??[]).map(C=>({...C,id:fs.generateSongFile(C)}))),C=>C.id),[u.data,p]),v=l2(y),[b,_]=sfe(""),[w,T]=rfe([]),{savedSongList:k,toggleSong:R}=BN(),[M,E]=ife("list"),O=PN(),P=C=>{E(C),_("")},j=x.useMemo(()=>{if(M==="list"){const C=$x(y,b);return C.length!==y.length?C:y.filter(N=>!N.language.every(U=>w.includes(U)))}else{const C=k.map(N=>y.find(U=>U.id===N)).filter(Boolean);return $x(C,b)}},[b,y,M,k,w]),V=v.length-w.length;return g.jsxs(ofe,{children:[g.jsxs(lfe,{children:[g.jsx(du,{focused:!1,label:g.jsx(ZE,{}),placeholder:"Search for a song",value:b,onChange:C=>_(C),"data-test":"search-input"}),g.jsxs(cfe,{children:[g.jsx(f_,{"data-test":"all-songs-button","data-active":M==="list",onClick:()=>P("list"),children:"All songs"}),g.jsxs(f_,{"data-test":"your-list-button","data-active":M==="queue",onClick:()=>P("queue"),children:["Your list (",k.length,")"]}),g.jsx(Lde,{excludedLanguages:w,languageList:v,onListChange:T,children:({open:C})=>g.jsxs(f_,{className:"!flex-grow-[0.3]",onClick:C,"data-test":"song-language-filter","data-active":w.length>0&&M==="list"?!0:void 0,children:["",V<v.length&&g.jsx(i2,{children:V})]})})]})]}),g.jsx(NN,{forceRenderItem:-1,overScan:100,components:{},context:{},groupSizes:[j.length],groupHeaderHeight:1,groupContent:()=>null,itemHeight:O*7+1,itemContent:(C,N,U)=>{var H;const L=j[C],q=k.includes(L.id);return g.jsxs(ufe,{className:q?"!bg-black !bg-opacity-35":"","data-test":L.id,...U,children:[g.jsx(dfe,{children:g.jsx(Vc,{language:L.language})}),g.jsxs(ffe,{children:[g.jsx(pfe,{children:L.title}),g.jsx(hfe,{children:L.artist})]}),g.jsxs(gfe,{children:[((H=c==null?void 0:c.remote)==null?void 0:H.includes("select-song"))&&d==="write"&&g.jsx(Z3,{onClick:D=>{D.stopPropagation(),An.selectSong(L.id)},"data-test":"select-song-button",children:"SELECT"}),q?g.jsx(Z3,{"data-test":"remove-song-button",onClick:D=>{D.stopPropagation(),R(L.id)},children:"-"}):g.jsx(FN,{"data-test":"add-song-button",onClick:D=>{D.stopPropagation(),R(L.id)},children:"+"})]})]})}})]})}const ofe=W("div",{target:"emsrjbt9"})({name:"lrzqpm",styles:"display:flex;flex-direction:column;position:relative;flex:1 1 auto;min-height:calc(100vh - 6rem);max-height:calc(100vh - 6rem)"}),lfe=W("div",{target:"emsrjbt8"})(jt,";font-size:2.5rem;display:flex;flex-direction:column;"),cfe=W("div",{target:"emsrjbt7"})({name:"7whenc",styles:"display:flex;width:100%"}),f_=W("button",{target:"emsrjbt6"})("border:none;flex:1;display:flex;align-items:center;justify-content:center;min-width:4rem;height:4rem;background:rgba(0, 0, 0, 0.75);",jt,";font-size:2rem;position:relative;transition:300ms;&[data-active='true']{background:",$e.colors.text.active,";}&[data-active='false']{box-shadow:inset 0px 0px 0px 2px orange;}"),ufe=W("div",{target:"emsrjbt5"})({name:"16qu2op",styles:"background:rgba(0, 0, 0, 0.15);display:flex;align-items:center;height:7rem;padding:0 1rem;gap:1rem;border-bottom:1px solid black;overflow:hidden;position:relative;transition:100ms"}),dfe=W("div",{target:"emsrjbt4"})({name:"1xmi6sr",styles:"img{height:3rem;width:3rem;object-fit:cover;border-radius:3rem;border:0.1rem black solid;aspect-ratio:1;}"}),ffe=W("div",{target:"emsrjbt3"})({name:"tpuoeb",styles:"display:flex;flex-direction:column;justify-content:space-between;gap:1rem"}),hfe=W("span",{target:"emsrjbt2"})("color:",$e.colors.text.default,";font-size:1.25rem;white-space:nowrap;"),pfe=W("span",{target:"emsrjbt1"})("color:",$e.colors.text.active,";font-size:1.5rem;white-space:nowrap;"),gfe=W("div",{target:"emsrjbt0"})({name:"1m2flic",styles:"position:absolute;top:0;right:0;display:flex;height:7rem;align-items:center;justify-content:center;gap:1rem;padding-right:1rem"}),FN=En.button`transition-all duration-300 active:text-text-default active:bg-active typography p-[1rem] min-w-[4rem] h-[4rem] rounded-full text-center bg-black text-[1.5rem] border-none cursor-pointer transition-[300ms]`,Z3=En(FN)`text-active`,mfe=e=>{const{savedSongList:t}=BN();x.useEffect(()=>{e&&An.sendMySongList({added:t})},[e])},h_=new ore;function yfe(){const e=Mv("room"),[t]=Hs(me.remoteStyleChanged,!0)??["regular"];x.useLayoutEffect(()=>{YP(t)},[t]),Vl(!0,t);const[n,r]=x.useState("microphone"),[i,s]=Hs(me.karaokeConnectionStatusChange)??["uninitialised"],[l,c]=x.useState(!1);pi(me.micMonitoringStarted,()=>c(!0)),pi(me.micMonitoringStopped,()=>c(!1)),mfe(i==="connected");const[d,u]=x.useState(!1),p=async y=>{try{y&&!h_.isEnabled?await h_.enable():!y&&h_.isEnabled,u(y)}catch(v){console.warn("Couldn't set wakelock",v)}},h=()=>{p(!0)};return g.jsxs(Bl,{children:[g.jsx(Hce,{onConfirm:h}),g.jsx(Are,{size:10}),g.jsx(vfe,{id:"phone-ui-container",className:"pb-24 landscap:pb-0",children:g.jsxs(g.Fragment,{children:[n==="microphone"&&g.jsx(Lce,{roomId:e,monitoringStarted:l,setMonitoringStarted:c,connectionStatus:i,setIsKeepAwakeOn:u,isKeepAwakeOn:d,connectionError:s}),n==="song-list"&&g.jsx(afe,{roomId:e,monitoringStarted:l,setMonitoringStarted:c,connectionStatus:i,setIsKeepAwakeOn:u,isKeepAwakeOn:d,connectionError:s}),n==="settings"&&g.jsx(nue,{roomId:e,monitoringStarted:l,setMonitoringStarted:c,connectionStatus:i,setIsKeepAwakeOn:u,isKeepAwakeOn:d,connectionError:s}),g.jsx(jle,{setActiveTab:r,active:n})]})})]})}const vfe=W("div",{target:"e1ky75ep0"})({name:"1tjfysn",styles:"margin:0 auto;width:100%;max-width:400px;box-sizing:border-box;min-height:100vh;max-height:100vh;background:rgba(0, 0, 0, 0.5);display:flex;flex-direction:column;@media (max-height: 500px) and (min-aspect-ratio: 16/10){max-width:960px;}"});function Ll(e){x.useEffect(()=>{e?My.playing()||My.play(!1):My.stop()},[e])}var p_,eO;function Afe(){if(eO)return p_;eO=1;function e(c){return c&&typeof c=="object"&&"default"in c?c.default:c}var t=Zc(),n=e(t);function r(c,d,u){return d in c?Object.defineProperty(c,d,{value:u,enumerable:!0,configurable:!0,writable:!0}):c[d]=u,c}function i(c,d){c.prototype=Object.create(d.prototype),c.prototype.constructor=c,c.__proto__=d}var s=!!(typeof window<"u"&&window.document&&window.document.createElement);function l(c,d,u){if(typeof c!="function")throw new Error("Expected reducePropsToState to be a function.");if(typeof d!="function")throw new Error("Expected handleStateChangeOnClient to be a function.");if(typeof u<"u"&&typeof u!="function")throw new Error("Expected mapStateOnServer to either be undefined or a function.");function p(h){return h.displayName||h.name||"Component"}return function(y){if(typeof y!="function")throw new Error("Expected WrappedComponent to be a React component.");var v=[],b;function _(){b=c(v.map(function(T){return T.props})),w.canUseDOM?d(b):u&&(b=u(b))}var w=function(T){i(k,T);function k(){return T.apply(this,arguments)||this}k.peek=function(){return b},k.rewind=function(){if(k.canUseDOM)throw new Error("You may only call rewind() on the server. Call peek() to read the current state.");var E=b;return b=void 0,v=[],E};var R=k.prototype;return R.UNSAFE_componentWillMount=function(){v.push(this),_()},R.componentDidUpdate=function(){_()},R.componentWillUnmount=function(){var E=v.indexOf(this);v.splice(E,1),_()},R.render=function(){return n.createElement(y,this.props)},k}(t.PureComponent);return r(w,"displayName","SideEffect("+p(y)+")"),r(w,"canUseDOM",s),w}}return p_=l,p_}var bfe=Afe();const _fe=Pr(bfe);var g_,tO;function Sfe(){if(tO)return g_;tO=1;var e=typeof Element<"u",t=typeof Map=="function",n=typeof Set=="function",r=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function i(s,l){if(s===l)return!0;if(s&&l&&typeof s=="object"&&typeof l=="object"){if(s.constructor!==l.constructor)return!1;var c,d,u;if(Array.isArray(s)){if(c=s.length,c!=l.length)return!1;for(d=c;d--!==0;)if(!i(s[d],l[d]))return!1;return!0}var p;if(t&&s instanceof Map&&l instanceof Map){if(s.size!==l.size)return!1;for(p=s.entries();!(d=p.next()).done;)if(!l.has(d.value[0]))return!1;for(p=s.entries();!(d=p.next()).done;)if(!i(d.value[1],l.get(d.value[0])))return!1;return!0}if(n&&s instanceof Set&&l instanceof Set){if(s.size!==l.size)return!1;for(p=s.entries();!(d=p.next()).done;)if(!l.has(d.value[0]))return!1;return!0}if(r&&ArrayBuffer.isView(s)&&ArrayBuffer.isView(l)){if(c=s.length,c!=l.length)return!1;for(d=c;d--!==0;)if(s[d]!==l[d])return!1;return!0}if(s.constructor===RegExp)return s.source===l.source&&s.flags===l.flags;if(s.valueOf!==Object.prototype.valueOf&&typeof s.valueOf=="function"&&typeof l.valueOf=="function")return s.valueOf()===l.valueOf();if(s.toString!==Object.prototype.toString&&typeof s.toString=="function"&&typeof l.toString=="function")return s.toString()===l.toString();if(u=Object.keys(s),c=u.length,c!==Object.keys(l).length)return!1;for(d=c;d--!==0;)if(!Object.prototype.hasOwnProperty.call(l,u[d]))return!1;if(e&&s instanceof Element)return!1;for(d=c;d--!==0;)if(!((u[d]==="_owner"||u[d]==="__v"||u[d]==="__o")&&s.$$typeof)&&!i(s[u[d]],l[u[d]]))return!1;return!0}return s!==s&&l!==l}return g_=function(l,c){try{return i(l,c)}catch(d){if((d.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw d}},g_}var xfe=Sfe();const wfe=Pr(xfe);/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var m_,nO;function Efe(){if(nO)return m_;nO=1;var e=Object.getOwnPropertySymbols,t=Object.prototype.hasOwnProperty,n=Object.prototype.propertyIsEnumerable;function r(s){if(s==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(s)}function i(){try{if(!Object.assign)return!1;var s=new String("abc");if(s[5]="de",Object.getOwnPropertyNames(s)[0]==="5")return!1;for(var l={},c=0;c<10;c++)l["_"+String.fromCharCode(c)]=c;var d=Object.getOwnPropertyNames(l).map(function(p){return l[p]});if(d.join("")!=="0123456789")return!1;var u={};return"abcdefghijklmnopqrst".split("").forEach(function(p){u[p]=p}),Object.keys(Object.assign({},u)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}return m_=i()?Object.assign:function(s,l){for(var c,d=r(s),u,p=1;p<arguments.length;p++){c=Object(arguments[p]);for(var h in c)t.call(c,h)&&(d[h]=c[h]);if(e){u=e(c);for(var y=0;y<u.length;y++)n.call(c,u[y])&&(d[u[y]]=c[u[y]])}}return d},m_}var Tfe=Efe();const Cfe=Pr(Tfe);var Dc={BODY:"bodyAttributes",HTML:"htmlAttributes",TITLE:"titleAttributes"},_t={BASE:"base",BODY:"body",HEAD:"head",HTML:"html",LINK:"link",META:"meta",NOSCRIPT:"noscript",SCRIPT:"script",STYLE:"style",TITLE:"title"};Object.keys(_t).map(function(e){return _t[e]});var Un={CHARSET:"charset",CSS_TEXT:"cssText",HREF:"href",HTTPEQUIV:"http-equiv",INNER_HTML:"innerHTML",ITEM_PROP:"itemprop",NAME:"name",PROPERTY:"property",REL:"rel",SRC:"src",TARGET:"target"},F0={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},Vp={DEFAULT_TITLE:"defaultTitle",DEFER:"defer",ENCODE_SPECIAL_CHARACTERS:"encodeSpecialCharacters",ON_CHANGE_CLIENT_STATE:"onChangeClientState",TITLE_TEMPLATE:"titleTemplate"},kfe=Object.keys(F0).reduce(function(e,t){return e[F0[t]]=t,e},{}),Mfe=[_t.NOSCRIPT,_t.SCRIPT,_t.STYLE],la="data-react-helmet",Rfe=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ife=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},Ofe=function(){function e(t,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Bi=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},jfe=function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},rO=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n},Pfe=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e},Ux=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return n===!1?String(t):String(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")},Vfe=function(t){var n=jd(t,_t.TITLE),r=jd(t,Vp.TITLE_TEMPLATE);if(r&&n)return r.replace(/%s/g,function(){return Array.isArray(n)?n.join(""):n});var i=jd(t,Vp.DEFAULT_TITLE);return n||i||void 0},Dfe=function(t){return jd(t,Vp.ON_CHANGE_CLIENT_STATE)||function(){}},y_=function(t,n){return n.filter(function(r){return typeof r[t]<"u"}).map(function(r){return r[t]}).reduce(function(r,i){return Bi({},r,i)},{})},Bfe=function(t,n){return n.filter(function(r){return typeof r[_t.BASE]<"u"}).map(function(r){return r[_t.BASE]}).reverse().reduce(function(r,i){if(!r.length)for(var s=Object.keys(i),l=0;l<s.length;l++){var c=s[l],d=c.toLowerCase();if(t.indexOf(d)!==-1&&i[d])return r.concat(i)}return r},[])},jh=function(t,n,r){var i={};return r.filter(function(s){return Array.isArray(s[t])?!0:(typeof s[t]<"u"&&zfe("Helmet: "+t+' should be of type "Array". Instead found type "'+Rfe(s[t])+'"'),!1)}).map(function(s){return s[t]}).reverse().reduce(function(s,l){var c={};l.filter(function(y){for(var v=void 0,b=Object.keys(y),_=0;_<b.length;_++){var w=b[_],T=w.toLowerCase();n.indexOf(T)!==-1&&!(v===Un.REL&&y[v].toLowerCase()==="canonical")&&!(T===Un.REL&&y[T].toLowerCase()==="stylesheet")&&(v=T),n.indexOf(w)!==-1&&(w===Un.INNER_HTML||w===Un.CSS_TEXT||w===Un.ITEM_PROP)&&(v=w)}if(!v||!y[v])return!1;var k=y[v].toLowerCase();return i[v]||(i[v]={}),c[v]||(c[v]={}),i[v][k]?!1:(c[v][k]=!0,!0)}).reverse().forEach(function(y){return s.push(y)});for(var d=Object.keys(c),u=0;u<d.length;u++){var p=d[u],h=Cfe({},i[p],c[p]);i[p]=h}return s},[]).reverse()},jd=function(t,n){for(var r=t.length-1;r>=0;r--){var i=t[r];if(i.hasOwnProperty(n))return i[n]}return null},Nfe=function(t){return{baseTag:Bfe([Un.HREF,Un.TARGET],t),bodyAttributes:y_(Dc.BODY,t),defer:jd(t,Vp.DEFER),encode:jd(t,Vp.ENCODE_SPECIAL_CHARACTERS),htmlAttributes:y_(Dc.HTML,t),linkTags:jh(_t.LINK,[Un.REL,Un.HREF],t),metaTags:jh(_t.META,[Un.NAME,Un.CHARSET,Un.HTTPEQUIV,Un.PROPERTY,Un.ITEM_PROP],t),noscriptTags:jh(_t.NOSCRIPT,[Un.INNER_HTML],t),onChangeClientState:Dfe(t),scriptTags:jh(_t.SCRIPT,[Un.SRC,Un.INNER_HTML],t),styleTags:jh(_t.STYLE,[Un.CSS_TEXT],t),title:Vfe(t),titleAttributes:y_(Dc.TITLE,t)}},Hx=function(){var e=Date.now();return function(t){var n=Date.now();n-e>16?(e=n,t(n)):setTimeout(function(){Hx(t)},0)}}(),iO=function(t){return clearTimeout(t)},Lfe=typeof window<"u"?window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||Hx:global.requestAnimationFrame||Hx,Ffe=typeof window<"u"?window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||iO:global.cancelAnimationFrame||iO,zfe=function(t){return console&&typeof console.warn=="function"&&console.warn(t)},Ph=null,$fe=function(t){Ph&&Ffe(Ph),t.defer?Ph=Lfe(function(){sO(t,function(){Ph=null})}):(sO(t),Ph=null)},sO=function(t,n){var r=t.baseTag,i=t.bodyAttributes,s=t.htmlAttributes,l=t.linkTags,c=t.metaTags,d=t.noscriptTags,u=t.onChangeClientState,p=t.scriptTags,h=t.styleTags,y=t.title,v=t.titleAttributes;qx(_t.BODY,i),qx(_t.HTML,s),Ufe(y,v);var b={baseTag:rd(_t.BASE,r),linkTags:rd(_t.LINK,l),metaTags:rd(_t.META,c),noscriptTags:rd(_t.NOSCRIPT,d),scriptTags:rd(_t.SCRIPT,p),styleTags:rd(_t.STYLE,h)},_={},w={};Object.keys(b).forEach(function(T){var k=b[T],R=k.newTags,M=k.oldTags;R.length&&(_[T]=R),M.length&&(w[T]=b[T].oldTags)}),n&&n(),u(t,_,w)},zN=function(t){return Array.isArray(t)?t.join(""):t},Ufe=function(t,n){typeof t<"u"&&document.title!==t&&(document.title=zN(t)),qx(_t.TITLE,n)},qx=function(t,n){var r=document.getElementsByTagName(t)[0];if(r){for(var i=r.getAttribute(la),s=i?i.split(","):[],l=[].concat(s),c=Object.keys(n),d=0;d<c.length;d++){var u=c[d],p=n[u]||"";r.getAttribute(u)!==p&&r.setAttribute(u,p),s.indexOf(u)===-1&&s.push(u);var h=l.indexOf(u);h!==-1&&l.splice(h,1)}for(var y=l.length-1;y>=0;y--)r.removeAttribute(l[y]);s.length===l.length?r.removeAttribute(la):r.getAttribute(la)!==c.join(",")&&r.setAttribute(la,c.join(","))}},rd=function(t,n){var r=document.head||document.querySelector(_t.HEAD),i=r.querySelectorAll(t+"["+la+"]"),s=Array.prototype.slice.call(i),l=[],c=void 0;return n&&n.length&&n.forEach(function(d){var u=document.createElement(t);for(var p in d)if(d.hasOwnProperty(p))if(p===Un.INNER_HTML)u.innerHTML=d.innerHTML;else if(p===Un.CSS_TEXT)u.styleSheet?u.styleSheet.cssText=d.cssText:u.appendChild(document.createTextNode(d.cssText));else{var h=typeof d[p]>"u"?"":d[p];u.setAttribute(p,h)}u.setAttribute(la,"true"),s.some(function(y,v){return c=v,u.isEqualNode(y)})?s.splice(c,1):l.push(u)}),s.forEach(function(d){return d.parentNode.removeChild(d)}),l.forEach(function(d){return r.appendChild(d)}),{oldTags:s,newTags:l}},$N=function(t){return Object.keys(t).reduce(function(n,r){var i=typeof t[r]<"u"?r+'="'+t[r]+'"':""+r;return n?n+" "+i:i},"")},Hfe=function(t,n,r,i){var s=$N(r),l=zN(n);return s?"<"+t+" "+la+'="true" '+s+">"+Ux(l,i)+"</"+t+">":"<"+t+" "+la+'="true">'+Ux(l,i)+"</"+t+">"},qfe=function(t,n,r){return n.reduce(function(i,s){var l=Object.keys(s).filter(function(u){return!(u===Un.INNER_HTML||u===Un.CSS_TEXT)}).reduce(function(u,p){var h=typeof s[p]>"u"?p:p+'="'+Ux(s[p],r)+'"';return u?u+" "+h:h},""),c=s.innerHTML||s.cssText||"",d=Mfe.indexOf(t)===-1;return i+"<"+t+" "+la+'="true" '+l+(d?"/>":">"+c+"</"+t+">")},"")},UN=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.keys(t).reduce(function(r,i){return r[F0[i]||i]=t[i],r},n)},Gfe=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.keys(t).reduce(function(r,i){return r[kfe[i]||i]=t[i],r},n)},Yfe=function(t,n,r){var i,s=(i={key:n},i[la]=!0,i),l=UN(r,s);return[Xe.createElement(_t.TITLE,l,n)]},Kfe=function(t,n){return n.map(function(r,i){var s,l=(s={key:i},s[la]=!0,s);return Object.keys(r).forEach(function(c){var d=F0[c]||c;if(d===Un.INNER_HTML||d===Un.CSS_TEXT){var u=r.innerHTML||r.cssText;l.dangerouslySetInnerHTML={__html:u}}else l[d]=r[c]}),Xe.createElement(t,l)})},lo=function(t,n,r){switch(t){case _t.TITLE:return{toComponent:function(){return Yfe(t,n.title,n.titleAttributes)},toString:function(){return Hfe(t,n.title,n.titleAttributes,r)}};case Dc.BODY:case Dc.HTML:return{toComponent:function(){return UN(n)},toString:function(){return $N(n)}};default:return{toComponent:function(){return Kfe(t,n)},toString:function(){return qfe(t,n,r)}}}},HN=function(t){var n=t.baseTag,r=t.bodyAttributes,i=t.encode,s=t.htmlAttributes,l=t.linkTags,c=t.metaTags,d=t.noscriptTags,u=t.scriptTags,p=t.styleTags,h=t.title,y=h===void 0?"":h,v=t.titleAttributes;return{base:lo(_t.BASE,n,i),bodyAttributes:lo(Dc.BODY,r,i),htmlAttributes:lo(Dc.HTML,s,i),link:lo(_t.LINK,l,i),meta:lo(_t.META,c,i),noscript:lo(_t.NOSCRIPT,d,i),script:lo(_t.SCRIPT,u,i),style:lo(_t.STYLE,p,i),title:lo(_t.TITLE,{title:y,titleAttributes:v},i)}},Wfe=function(t){var n,r;return r=n=function(i){jfe(s,i);function s(){return Ife(this,s),Pfe(this,i.apply(this,arguments))}return s.prototype.shouldComponentUpdate=function(c){return!wfe(this.props,c)},s.prototype.mapNestedChildrenToProps=function(c,d){if(!d)return null;switch(c.type){case _t.SCRIPT:case _t.NOSCRIPT:return{innerHTML:d};case _t.STYLE:return{cssText:d}}throw new Error("<"+c.type+" /> elements are self-closing and can not contain children. Refer to our API for more information.")},s.prototype.flattenArrayTypeChildren=function(c){var d,u=c.child,p=c.arrayTypeChildren,h=c.newChildProps,y=c.nestedChildren;return Bi({},p,(d={},d[u.type]=[].concat(p[u.type]||[],[Bi({},h,this.mapNestedChildrenToProps(u,y))]),d))},s.prototype.mapObjectTypeChildren=function(c){var d,u,p=c.child,h=c.newProps,y=c.newChildProps,v=c.nestedChildren;switch(p.type){case _t.TITLE:return Bi({},h,(d={},d[p.type]=v,d.titleAttributes=Bi({},y),d));case _t.BODY:return Bi({},h,{bodyAttributes:Bi({},y)});case _t.HTML:return Bi({},h,{htmlAttributes:Bi({},y)})}return Bi({},h,(u={},u[p.type]=Bi({},y),u))},s.prototype.mapArrayTypeChildrenToProps=function(c,d){var u=Bi({},d);return Object.keys(c).forEach(function(p){var h;u=Bi({},u,(h={},h[p]=c[p],h))}),u},s.prototype.warnOnInvalidChildren=function(c,d){return!0},s.prototype.mapChildrenToProps=function(c,d){var u=this,p={};return Xe.Children.forEach(c,function(h){if(!(!h||!h.props)){var y=h.props,v=y.children,b=rO(y,["children"]),_=Gfe(b);switch(u.warnOnInvalidChildren(h,v),h.type){case _t.LINK:case _t.META:case _t.NOSCRIPT:case _t.SCRIPT:case _t.STYLE:p=u.flattenArrayTypeChildren({child:h,arrayTypeChildren:p,newChildProps:_,nestedChildren:v});break;default:d=u.mapObjectTypeChildren({child:h,newProps:d,newChildProps:_,nestedChildren:v});break}}}),d=this.mapArrayTypeChildrenToProps(p,d),d},s.prototype.render=function(){var c=this.props,d=c.children,u=rO(c,["children"]),p=Bi({},u);return d&&(p=this.mapChildrenToProps(d,p)),Xe.createElement(t,p)},Ofe(s,null,[{key:"canUseDOM",set:function(c){t.canUseDOM=c}}]),s}(Xe.Component),n.propTypes={base:Ot.object,bodyAttributes:Ot.object,children:Ot.oneOfType([Ot.arrayOf(Ot.node),Ot.node]),defaultTitle:Ot.string,defer:Ot.bool,encodeSpecialCharacters:Ot.bool,htmlAttributes:Ot.object,link:Ot.arrayOf(Ot.object),meta:Ot.arrayOf(Ot.object),noscript:Ot.arrayOf(Ot.object),onChangeClientState:Ot.func,script:Ot.arrayOf(Ot.object),style:Ot.arrayOf(Ot.object),title:Ot.string,titleAttributes:Ot.object,titleTemplate:Ot.string},n.defaultProps={defer:!0,encodeSpecialCharacters:!0},n.peek=t.peek,n.rewind=function(){var i=t.rewind();return i||(i=HN({baseTag:[],bodyAttributes:{},encodeSpecialCharacters:!0,htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}})),i},r},Qfe=function(){return null},Xfe=_fe(Nfe,$fe,HN)(Qfe),gs=Wfe(Xfe);gs.renderStatic=gs.rewind;function Jfe(){Ll(!1);const e=Oi(),t=()=>e("menu/"),{register:n}=dr({onBackspace:t}),[r,i]=St(Ps),[s,l]=St(Tc),[c,d]=St(ai),[u,p]=x.useState(Fi.getPermissionStatus());x.useEffect(()=>Fi.addListener(_=>{p(_)}),[]);const[h,y]=x.useState(!1),v=()=>{y(!0),Fi.requestPermissions().then(()=>y(!1))};let b="Disabled";return h?b=g.jsx(og,{size:"0.9em"}):u===null?b="Click to enable":u&&(b="Enabled"),g.jsxs(Do,{children:[g.jsx(gs,{children:g.jsx("title",{children:"Settings | AllKaraoke.Party - Free Online Karaoke Party Game"})}),g.jsx("h1",{children:"Settings"}),g.jsx(Ds,{...n("graphics-level",()=>i(Pc(lV,r))),label:"Graphics",value:r.toUpperCase()}),g.jsx(Ds,{...n("fps-count-level",()=>l(Pc(uV,s))),label:"FPS Count",value:s}),g.jsxs("div",{className:"flex flex-col",children:[g.jsx(Pt.Button,{...n("calibration-settings",()=>e("settings/calibration/")),size:"small",children:"Calibrate input lag"}),g.jsx(JE,{children:"If the sound is not synchronised with the lyrics, use this to compensate it."})]}),g.jsx("hr",{}),g.jsx(Ds,{...n("camera-access",()=>u?Fi.disable():v()),label:"Enable camera mode",value:b,info:"Record a timelapse video from singing. The recording is not sent nor stored anywhere."}),g.jsx("hr",{}),g.jsx(Ds,{...n("mobile-phone-mode",()=>d(!c)),label:"Mobile Phone Mode",value:c?"Yes":"No",info:"Adjust the game to a smaller screen. Disables option to sing in duets."}),g.jsx("hr",{}),g.jsx(mt,{...n("remote-mics-settings",()=>e("settings/remote-mics/")),size:"small",children:"Remote Microphones Settings"}),g.jsx(mt,{...n("setup-mics-button",()=>e("select-input/")),size:"small",children:"Setup Microphones"}),g.jsx(mt,{...n("manage-songs-button",()=>e("manage-songs/")),size:"small",children:"Manage Songs"}),g.jsx(mt,{...n("back-button",t),children:"Return To Main Menu"})]})}function Zfe(e){return mi("MuiPaper",e)}yi("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const ehe=e=>{const{square:t,elevation:n,variant:r,classes:i}=e,s={root:["root",r,!t&&"rounded",r==="elevation"&&`elevation${n}`]};return Ii(s,Zfe,i)},the=Bn("div",{name:"MuiPaper",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],!n.square&&t.rounded,n.variant==="elevation"&&t[`elevation${n.elevation}`]]}})(qs(({theme:e})=>({backgroundColor:(e.vars||e).palette.background.paper,color:(e.vars||e).palette.text.primary,transition:e.transitions.create("box-shadow"),variants:[{props:({ownerState:t})=>!t.square,style:{borderRadius:e.shape.borderRadius}},{props:{variant:"outlined"},style:{border:`1px solid ${(e.vars||e).palette.divider}`}},{props:{variant:"elevation"},style:{boxShadow:"var(--Paper-shadow)",backgroundImage:"var(--Paper-overlay)"}}]}))),Gv=x.forwardRef(function(t,n){var v;const r=vi({props:t,name:"MuiPaper"}),i=VE(),{className:s,component:l="div",elevation:c=1,square:d=!1,variant:u="elevation",...p}=r,h={...r,component:l,elevation:c,square:d,variant:u},y=ehe(h);return g.jsx(the,{as:l,ownerState:h,className:Nt(y.root,s),ref:n,...p,style:{...u==="elevation"&&{"--Paper-shadow":(i.vars||i).shadows[c],...i.vars&&{"--Paper-overlay":(v=i.vars.overlays)==null?void 0:v[c]},...!i.vars&&i.palette.mode==="dark"&&{"--Paper-overlay":`linear-gradient(${sa("#fff",Ex(c))}, ${sa("#fff",Ex(c))})`}},...p.style}})});function qN(e){const{theme:t}=x.useContext(Jp);return g.jsxs(nhe,{...e,children:[g.jsx(GN,{asChild:!0,children:g.jsx(_N,{christmas:t==="christmas"})}),g.jsx(rhe,{asChild:!0,children:g.jsx(Dx,{christmas:t==="christmas"})})]})}const nhe=En.div`relative transition-[300ms] [&_svg]:w-[15rem] [&_svg]:h-[15rem]`,GN=En.svg`w-[15rem] h-[15rem] transition-[300ms]`,rhe=En(GN)`absolute top-[1.6rem] left-[3.5rem] z-[100] scale-x-[-1]`;function YN(){const[e,t]=x.useState(!1);return x.useEffect(()=>{const n=setTimeout(()=>{t(!0)},500);return()=>{clearTimeout(n)}},[]),g.jsx(ihe,{visible:e,children:g.jsx(she,{})})}const ihe=W("div",{target:"e1ej0ve21"})("transition:500ms;opacity:",e=>e.visible?1:0,";position:fixed;inset:0;display:flex;align-items:center;justify-content:center;"),she=W(qN,{target:"e1ej0ve20"})({name:"1wwm3j4",styles:"transform:translate(-1.75rem, -0.8rem) scale(2);svg{animation:pulse 1.25s infinite;@keyframes pulse{0%{scale:1;}33%{scale:1.05;}66%{scale:1;}100%{scale:1;}}}svg:first-of-type{animation-delay:1s;}"}),KN=x.lazy(()=>df(()=>import("./SongManagement-D6zNsZeK.js"),[]).then(e=>({default:e.Convert}))),ahe=e=>g.jsxs(x.Suspense,{fallback:g.jsx(YN,{}),children:[g.jsx(gs,{children:g.jsx("title",{children:"Convert Song | AllKaraoke.Party - Free Online Karaoke Party Game"})}),g.jsx(Gv,{elevation:2,sx:{minHeight:"100vh",width:"1260px",margin:"0 auto",paddingTop:"30px"},children:g.jsx(KN,{...e})})]}),ohe=Wt(g.jsx("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zM19 4h-3.5l-1-1h-5l-1 1H5v2h14z"}),"Delete");var Ly={exports:{}},lhe=Ly.exports,aO;function che(){return aO||(aO=1,function(e,t){(function(n,r){e.exports=r()})(lhe,function(){return function(n,r,i){n=n||{};var s=r.prototype,l={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function c(u,p,h,y){return s.fromToBase(u,p,h,y)}i.en.relativeTime=l,s.fromToBase=function(u,p,h,y,v){for(var b,_,w,T=h.$locale().relativeTime||l,k=n.thresholds||[{l:"s",r:44,d:"second"},{l:"m",r:89},{l:"mm",r:44,d:"minute"},{l:"h",r:89},{l:"hh",r:21,d:"hour"},{l:"d",r:35},{l:"dd",r:25,d:"day"},{l:"M",r:45},{l:"MM",r:10,d:"month"},{l:"y",r:17},{l:"yy",d:"year"}],R=k.length,M=0;M<R;M+=1){var E=k[M];E.d&&(b=y?i(u).diff(h,E.d,!0):h.diff(u,E.d,!0));var O=(n.rounding||Math.round)(Math.abs(b));if(w=b>0,O<=E.r||!E.r){O<=1&&M>0&&(E=k[M-1]);var P=T[E.l];v&&(O=v(""+O)),_=typeof P=="string"?P.replace("%d",O):P(O,p,E.l,w);break}}if(p)return _;var j=w?T.future:T.past;return typeof j=="function"?j(_):j.replace("%s",_)},s.to=function(u,p){return c(u,p,this,!0)},s.from=function(u,p){return c(u,p,this)};var d=function(u){return u.$u?i.utc():i()};s.toNow=function(u){return this.to(d(this),u)},s.fromNow=function(u){return this.from(d(this),u)}}})}(Ly)),Ly.exports}var uhe=che();const dhe=Pr(uhe),WN=1e3,fhe=e=>e.map(t=>{if(t.notes.length===0)debugger;return{...t,start:t.notes[0].start}}),hhe=e=>{const t=e.notes.at(-1);return t.start+t.length},phe=(e,t=10)=>{let n=0;const r=[];return e.forEach(i=>{i.start-n>t&&(r.push({type:"pause",start:n,end:i.start-t}),n=i.start-t),r.push({...i,start:n}),n=hhe(i)}),r},oO=(e,t)=>({...e,sections:phe(fhe(e.sections.filter(un)),t)});function ghe(e){const t=ff(e),n=Math.round(WN/t);return{...e,tracks:e.tracks.map(r=>oO(r,n)),mergedTrack:oO(e.mergedTrack,n)}}const mhe=(e,t)=>e.map((n,r)=>un(n)?{...n,start:r===0?0:Math.max(0,n.start+t),notes:n.notes.map(i=>({...i,start:i.start+t}))}:{...n,start:Math.max(0,n.start+t),end:Math.max(0,n.end+t)}),lO=(e,t)=>({...e,sections:mhe(e.sections,t)});function yhe(e){const t=ff(e),n=Math.round(WN/t),r=Math.floor((e.gap-n*t<0?e.gap:n*t)/t),i=e.gap-r*t;return{...e,gap:i,tracks:e.tracks.map(s=>lO(s,r)),mergedTrack:lO(e.mergedTrack,r)}}function z0(e,t){return ff(t)*e}function Yv(e){const t=Math.min(...e.tracks.map(n=>"sections"in n?El(n.sections):n.start));return z0(t,e)+e.gap}function vhe(e){const t=Yv(e);return{...e,videoGap:Math.round(Math.max(0,Math.min(e.videoGap??0,t/1e3-15)))}}const Ahe=(e,t)=>e.map((n,r)=>un(n)?{...n,start:r===0?0:Math.max(0,n.start-t),notes:n.notes.map(i=>({...i,start:i.start-t}))}:{...n,start:Math.max(0,n.start-t),end:Math.max(0,n.end-t)}).filter(n=>un(n)||n.start-n.end>0),cO=(e,t)=>({...e,sections:Ahe(e.sections,t)});function bhe(e){const t=ff(e),n=e.tracks.reduce((l,c,d)=>{const u=El(e.tracks[l].sections),p=El(c.sections);return u>p?d:l},0),r=e.tracks[n].sections.find(un);if(!r)return console.error("There are no notes sections in the song, wat",e.tracks),e;const i=r.start+(r.notes[0].start-r.start),s=Math.floor(e.gap+i*t);return{...e,gap:s,tracks:e.tracks.map(l=>cO(l,i)),mergedTrack:cO(e.mergedTrack,i)}}const _he=e=>(e.forEach((t,n)=>{t.lyrics.startsWith(" ")&&(t.lyrics=t.lyrics.trimStart(),n>0&&(e[n-1].lyrics=e[n-1].lyrics.trimEnd()+" ")),n===e.length-1&&(t.lyrics=t.lyrics.trimEnd())}),e),uO=e=>({...e,sections:e.sections.map(t=>un(t)?{...t,notes:_he(t.notes)}:t)});function She(e){return{...e,tracks:e.tracks.map(uO),mergedTrack:uO(e.mergedTrack)}}const xhe=e=>{let t=bhe(e);return t=yhe(t),t=ghe(t),t=She(t),t=vhe(t),t};function QN(e){const[t,n]=x.useState(null);return x.useEffect(()=>{fs.get(e).then(r=>n(r&&xhe(r)))},[e]),{data:t}}function whe(e){return mi("MuiButton",e)}const id=yi("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","colorPrimary","colorSecondary","colorSuccess","colorError","colorInfo","colorWarning","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","icon","iconSizeSmall","iconSizeMedium","iconSizeLarge"]),Ehe=x.createContext({}),The=x.createContext(void 0),Che=e=>{const{color:t,disableElevation:n,fullWidth:r,size:i,variant:s,classes:l}=e,c={root:["root",s,`${s}${qt(t)}`,`size${qt(i)}`,`${s}Size${qt(i)}`,`color${qt(t)}`,n&&"disableElevation",r&&"fullWidth"],label:["label"],startIcon:["icon","startIcon",`iconSize${qt(i)}`],endIcon:["icon","endIcon",`iconSize${qt(i)}`]},d=Ii(c,whe,l);return{...l,...d}},XN=[{props:{size:"small"},style:{"& > *:nth-of-type(1)":{fontSize:18}}},{props:{size:"medium"},style:{"& > *:nth-of-type(1)":{fontSize:20}}},{props:{size:"large"},style:{"& > *:nth-of-type(1)":{fontSize:22}}}],khe=Bn(FB,{shouldForwardProp:e=>DE(e)||e==="classes",name:"MuiButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],t[`${n.variant}${qt(n.color)}`],t[`size${qt(n.size)}`],t[`${n.variant}Size${qt(n.size)}`],n.color==="inherit"&&t.colorInherit,n.disableElevation&&t.disableElevation,n.fullWidth&&t.fullWidth]}})(qs(({theme:e})=>{const t=e.palette.mode==="light"?e.palette.grey[300]:e.palette.grey[800],n=e.palette.mode==="light"?e.palette.grey.A100:e.palette.grey[700];return{...e.typography.button,minWidth:64,padding:"6px 16px",border:0,borderRadius:(e.vars||e).shape.borderRadius,transition:e.transitions.create(["background-color","box-shadow","border-color","color"],{duration:e.transitions.duration.short}),"&:hover":{textDecoration:"none"},[`&.${id.disabled}`]:{color:(e.vars||e).palette.action.disabled},variants:[{props:{variant:"contained"},style:{color:"var(--variant-containedColor)",backgroundColor:"var(--variant-containedBg)",boxShadow:(e.vars||e).shadows[2],"&:hover":{boxShadow:(e.vars||e).shadows[4],"@media (hover: none)":{boxShadow:(e.vars||e).shadows[2]}},"&:active":{boxShadow:(e.vars||e).shadows[8]},[`&.${id.focusVisible}`]:{boxShadow:(e.vars||e).shadows[6]},[`&.${id.disabled}`]:{color:(e.vars||e).palette.action.disabled,boxShadow:(e.vars||e).shadows[0],backgroundColor:(e.vars||e).palette.action.disabledBackground}}},{props:{variant:"outlined"},style:{padding:"5px 15px",border:"1px solid currentColor",borderColor:"var(--variant-outlinedBorder, currentColor)",backgroundColor:"var(--variant-outlinedBg)",color:"var(--variant-outlinedColor)",[`&.${id.disabled}`]:{border:`1px solid ${(e.vars||e).palette.action.disabledBackground}`}}},{props:{variant:"text"},style:{padding:"6px 8px",color:"var(--variant-textColor)",backgroundColor:"var(--variant-textBg)"}},...Object.entries(e.palette).filter(Rp()).map(([r])=>({props:{color:r},style:{"--variant-textColor":(e.vars||e).palette[r].main,"--variant-outlinedColor":(e.vars||e).palette[r].main,"--variant-outlinedBorder":e.vars?`rgba(${e.vars.palette[r].mainChannel} / 0.5)`:sa(e.palette[r].main,.5),"--variant-containedColor":(e.vars||e).palette[r].contrastText,"--variant-containedBg":(e.vars||e).palette[r].main,"@media (hover: hover)":{"&:hover":{"--variant-containedBg":(e.vars||e).palette[r].dark,"--variant-textBg":e.vars?`rgba(${e.vars.palette[r].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:sa(e.palette[r].main,e.palette.action.hoverOpacity),"--variant-outlinedBorder":(e.vars||e).palette[r].main,"--variant-outlinedBg":e.vars?`rgba(${e.vars.palette[r].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:sa(e.palette[r].main,e.palette.action.hoverOpacity)}}}})),{props:{color:"inherit"},style:{color:"inherit",borderColor:"currentColor","--variant-containedBg":e.vars?e.vars.palette.Button.inheritContainedBg:t,"@media (hover: hover)":{"&:hover":{"--variant-containedBg":e.vars?e.vars.palette.Button.inheritContainedHoverBg:n,"--variant-textBg":e.vars?`rgba(${e.vars.palette.text.primaryChannel} / ${e.vars.palette.action.hoverOpacity})`:sa(e.palette.text.primary,e.palette.action.hoverOpacity),"--variant-outlinedBg":e.vars?`rgba(${e.vars.palette.text.primaryChannel} / ${e.vars.palette.action.hoverOpacity})`:sa(e.palette.text.primary,e.palette.action.hoverOpacity)}}}},{props:{size:"small",variant:"text"},style:{padding:"4px 5px",fontSize:e.typography.pxToRem(13)}},{props:{size:"large",variant:"text"},style:{padding:"8px 11px",fontSize:e.typography.pxToRem(15)}},{props:{size:"small",variant:"outlined"},style:{padding:"3px 9px",fontSize:e.typography.pxToRem(13)}},{props:{size:"large",variant:"outlined"},style:{padding:"7px 21px",fontSize:e.typography.pxToRem(15)}},{props:{size:"small",variant:"contained"},style:{padding:"4px 10px",fontSize:e.typography.pxToRem(13)}},{props:{size:"large",variant:"contained"},style:{padding:"8px 22px",fontSize:e.typography.pxToRem(15)}},{props:{disableElevation:!0},style:{boxShadow:"none","&:hover":{boxShadow:"none"},[`&.${id.focusVisible}`]:{boxShadow:"none"},"&:active":{boxShadow:"none"},[`&.${id.disabled}`]:{boxShadow:"none"}}},{props:{fullWidth:!0},style:{width:"100%"}}]}})),Mhe=Bn("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.startIcon,t[`iconSize${qt(n.size)}`]]}})({display:"inherit",marginRight:8,marginLeft:-4,variants:[{props:{size:"small"},style:{marginLeft:-2}},...XN]}),Rhe=Bn("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.endIcon,t[`iconSize${qt(n.size)}`]]}})({display:"inherit",marginRight:-4,marginLeft:8,variants:[{props:{size:"small"},style:{marginRight:-2}},...XN]}),dO=x.forwardRef(function(t,n){const r=x.useContext(Ehe),i=x.useContext(The),s=k0(r,t),l=vi({props:s,name:"MuiButton"}),{children:c,color:d="primary",component:u="button",className:p,disabled:h=!1,disableElevation:y=!1,disableFocusRipple:v=!1,endIcon:b,focusVisibleClassName:_,fullWidth:w=!1,size:T="medium",startIcon:k,type:R,variant:M="text",...E}=l,O={...l,color:d,component:u,disabled:h,disableElevation:y,disableFocusRipple:v,fullWidth:w,size:T,type:R,variant:M},P=Che(O),j=k&&g.jsx(Mhe,{className:P.startIcon,ownerState:O,children:k}),V=b&&g.jsx(Rhe,{className:P.endIcon,ownerState:O,children:b}),C=i||"";return g.jsxs(khe,{ownerState:O,className:Nt(r.className,P.root,p,C),component:u,disabled:h,focusRipple:!v,focusVisibleClassName:Nt(P.focusVisible,_),ref:n,type:R,...E,classes:P,children:[j,c,V]})});function Ihe(e){const t=Kc(e);return t.body===e?C0(e).innerWidth>t.documentElement.clientWidth:e.scrollHeight>e.clientHeight}function lp(e,t){t?e.setAttribute("aria-hidden","true"):e.removeAttribute("aria-hidden")}function fO(e){return parseInt(C0(e).getComputedStyle(e).paddingRight,10)||0}function Ohe(e){const n=["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].includes(e.tagName),r=e.tagName==="INPUT"&&e.getAttribute("type")==="hidden";return n||r}function hO(e,t,n,r,i){const s=[t,n,...r];[].forEach.call(e.children,l=>{const c=!s.includes(l),d=!Ohe(l);c&&d&&lp(l,i)})}function v_(e,t){let n=-1;return e.some((r,i)=>t(r)?(n=i,!0):!1),n}function jhe(e,t){const n=[],r=e.container;if(!t.disableScrollLock){if(Ihe(r)){const l=Ire(C0(r));n.push({value:r.style.paddingRight,property:"padding-right",el:r}),r.style.paddingRight=`${fO(r)+l}px`;const c=Kc(r).querySelectorAll(".mui-fixed");[].forEach.call(c,d=>{n.push({value:d.style.paddingRight,property:"padding-right",el:d}),d.style.paddingRight=`${fO(d)+l}px`})}let s;if(r.parentNode instanceof DocumentFragment)s=Kc(r).body;else{const l=r.parentElement,c=C0(r);s=(l==null?void 0:l.nodeName)==="HTML"&&c.getComputedStyle(l).overflowY==="scroll"?l:r}n.push({value:s.style.overflow,property:"overflow",el:s},{value:s.style.overflowX,property:"overflow-x",el:s},{value:s.style.overflowY,property:"overflow-y",el:s}),s.style.overflow="hidden"}return()=>{n.forEach(({value:s,el:l,property:c})=>{s?l.style.setProperty(c,s):l.style.removeProperty(c)})}}function Phe(e){const t=[];return[].forEach.call(e.children,n=>{n.getAttribute("aria-hidden")==="true"&&t.push(n)}),t}class Vhe{constructor(){this.modals=[],this.containers=[]}add(t,n){let r=this.modals.indexOf(t);if(r!==-1)return r;r=this.modals.length,this.modals.push(t),t.modalRef&&lp(t.modalRef,!1);const i=Phe(n);hO(n,t.mount,t.modalRef,i,!0);const s=v_(this.containers,l=>l.container===n);return s!==-1?(this.containers[s].modals.push(t),r):(this.containers.push({modals:[t],container:n,restore:null,hiddenSiblings:i}),r)}mount(t,n){const r=v_(this.containers,s=>s.modals.includes(t)),i=this.containers[r];i.restore||(i.restore=jhe(i,n))}remove(t,n=!0){const r=this.modals.indexOf(t);if(r===-1)return r;const i=v_(this.containers,l=>l.modals.includes(t)),s=this.containers[i];if(s.modals.splice(s.modals.indexOf(t),1),this.modals.splice(r,1),s.modals.length===0)s.restore&&s.restore(),t.modalRef&&lp(t.modalRef,n),hO(s.container,t.mount,t.modalRef,s.hiddenSiblings,!1),this.containers.splice(i,1);else{const l=s.modals[s.modals.length-1];l.modalRef&&lp(l.modalRef,!1)}return r}isTopModal(t){return this.modals.length>0&&this.modals[this.modals.length-1]===t}}const Dhe=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function Bhe(e){const t=parseInt(e.getAttribute("tabindex")||"",10);return Number.isNaN(t)?e.contentEditable==="true"||(e.nodeName==="AUDIO"||e.nodeName==="VIDEO"||e.nodeName==="DETAILS")&&e.getAttribute("tabindex")===null?0:e.tabIndex:t}function Nhe(e){if(e.tagName!=="INPUT"||e.type!=="radio"||!e.name)return!1;const t=r=>e.ownerDocument.querySelector(`input[type="radio"]${r}`);let n=t(`[name="${e.name}"]:checked`);return n||(n=t(`[name="${e.name}"]`)),n!==e}function Lhe(e){return!(e.disabled||e.tagName==="INPUT"&&e.type==="hidden"||Nhe(e))}function Fhe(e){const t=[],n=[];return Array.from(e.querySelectorAll(Dhe)).forEach((r,i)=>{const s=Bhe(r);s===-1||!Lhe(r)||(s===0?t.push(r):n.push({documentOrder:i,tabIndex:s,node:r}))}),n.sort((r,i)=>r.tabIndex===i.tabIndex?r.documentOrder-i.documentOrder:r.tabIndex-i.tabIndex).map(r=>r.node).concat(t)}function zhe(){return!0}function $he(e){const{children:t,disableAutoFocus:n=!1,disableEnforceFocus:r=!1,disableRestoreFocus:i=!1,getTabbable:s=Fhe,isEnabled:l=zhe,open:c}=e,d=x.useRef(!1),u=x.useRef(null),p=x.useRef(null),h=x.useRef(null),y=x.useRef(null),v=x.useRef(!1),b=x.useRef(null),_=Cl(bE(t),b),w=x.useRef(null);x.useEffect(()=>{!c||!b.current||(v.current=!n)},[n,c]),x.useEffect(()=>{if(!c||!b.current)return;const R=Kc(b.current);return b.current.contains(R.activeElement)||(b.current.hasAttribute("tabIndex")||b.current.setAttribute("tabIndex","-1"),v.current&&b.current.focus()),()=>{i||(h.current&&h.current.focus&&(d.current=!0,h.current.focus()),h.current=null)}},[c]),x.useEffect(()=>{if(!c||!b.current)return;const R=Kc(b.current),M=P=>{w.current=P,!(r||!l()||P.key!=="Tab")&&R.activeElement===b.current&&P.shiftKey&&(d.current=!0,p.current&&p.current.focus())},E=()=>{var V,C;const P=b.current;if(P===null)return;if(!R.hasFocus()||!l()||d.current){d.current=!1;return}if(P.contains(R.activeElement)||r&&R.activeElement!==u.current&&R.activeElement!==p.current)return;if(R.activeElement!==y.current)y.current=null;else if(y.current!==null)return;if(!v.current)return;let j=[];if((R.activeElement===u.current||R.activeElement===p.current)&&(j=s(b.current)),j.length>0){const N=!!((V=w.current)!=null&&V.shiftKey&&((C=w.current)==null?void 0:C.key)==="Tab"),U=j[0],L=j[j.length-1];typeof U!="string"&&typeof L!="string"&&(N?L.focus():U.focus())}else P.focus()};R.addEventListener("focusin",E),R.addEventListener("keydown",M,!0);const O=setInterval(()=>{R.activeElement&&R.activeElement.tagName==="BODY"&&E()},50);return()=>{clearInterval(O),R.removeEventListener("focusin",E),R.removeEventListener("keydown",M,!0)}},[n,r,i,l,c,s]);const T=R=>{h.current===null&&(h.current=R.relatedTarget),v.current=!0,y.current=R.target;const M=t.props.onFocus;M&&M(R)},k=R=>{h.current===null&&(h.current=R.relatedTarget),v.current=!0};return g.jsxs(x.Fragment,{children:[g.jsx("div",{tabIndex:c?0:-1,onFocus:k,ref:u,"data-testid":"sentinelStart"}),x.cloneElement(t,{ref:_,onFocus:T}),g.jsx("div",{tabIndex:c?0:-1,onFocus:k,ref:p,"data-testid":"sentinelEnd"})]})}function Uhe(e){return typeof e=="function"?e():e}const Hhe=x.forwardRef(function(t,n){const{children:r,container:i,disablePortal:s=!1}=t,[l,c]=x.useState(null),d=Cl(x.isValidElement(r)?bE(r):null,n);if(_x(()=>{s||c(Uhe(i)||document.body)},[i,s]),_x(()=>{if(l&&!s)return bx(n,l),()=>{bx(n,null)}},[n,l,s]),s){if(x.isValidElement(r)){const u={ref:d};return x.cloneElement(r,u)}return r}return l&&yf.createPortal(r,l)});function $0(e,t){const{className:n,elementType:r,ownerState:i,externalForwardedProps:s,internalForwardedProps:l,...c}=t,{component:d,slots:u={[e]:void 0},slotProps:p={[e]:void 0},...h}=s,y=u[e]||r,v=Lre(p[e],i),{props:{component:b,..._},internalRef:w}=Nre({className:n,...c,externalForwardedProps:e==="root"?h:void 0,externalSlotProps:v}),T=Cl(w,v==null?void 0:v.ref,t.ref),k=e==="root"?b||d:b,R=Bre(y,{...e==="root"&&!d&&!u[e]&&l,...e!=="root"&&!u[e]&&l,..._,...k&&{as:k},ref:T},i);return[y,R]}const qhe=e=>e.scrollTop;function pO(e,t){const{timeout:n,easing:r,style:i={}}=e;return{duration:i.transitionDuration??(typeof n=="number"?n:n[t.mode]||0),easing:i.transitionTimingFunction??(typeof r=="object"?r[t.mode]:r),delay:i.transitionDelay}}const Ghe={entering:{opacity:1},entered:{opacity:1}},JN=x.forwardRef(function(t,n){const r=VE(),i={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},{addEndListener:s,appear:l=!0,children:c,easing:d,in:u,onEnter:p,onEntered:h,onEntering:y,onExit:v,onExited:b,onExiting:_,style:w,timeout:T=i,TransitionComponent:k=Po,...R}=t,M=x.useRef(null),E=Cl(M,bE(c),n),O=q=>H=>{if(q){const D=M.current;H===void 0?q(D):q(D,H)}},P=O(y),j=O((q,H)=>{qhe(q);const D=pO({style:w,timeout:T,easing:d},{mode:"enter"});q.style.webkitTransition=r.transitions.create("opacity",D),q.style.transition=r.transitions.create("opacity",D),p&&p(q,H)}),V=O(h),C=O(_),N=O(q=>{const H=pO({style:w,timeout:T,easing:d},{mode:"exit"});q.style.webkitTransition=r.transitions.create("opacity",H),q.style.transition=r.transitions.create("opacity",H),v&&v(q)}),U=O(b),L=q=>{s&&s(M.current,q)};return g.jsx(k,{appear:l,in:u,nodeRef:M,onEnter:j,onEntered:V,onEntering:P,onExit:N,onExited:U,onExiting:C,addEndListener:L,timeout:T,...R,children:(q,{ownerState:H,...D})=>x.cloneElement(c,{style:{opacity:0,visibility:q==="exited"&&!u?"hidden":void 0,...Ghe[q],...w,...c.props.style},ref:E,...D})})});function Yhe(e){return mi("MuiBackdrop",e)}yi("MuiBackdrop",["root","invisible"]);const Khe=e=>{const{classes:t,invisible:n}=e;return Ii({root:["root",n&&"invisible"]},Yhe,t)},Whe=Bn("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.invisible&&t.invisible]}})({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent",variants:[{props:{invisible:!0},style:{backgroundColor:"transparent"}}]}),ZN=x.forwardRef(function(t,n){const r=vi({props:t,name:"MuiBackdrop"}),{children:i,className:s,component:l="div",invisible:c=!1,open:d,components:u={},componentsProps:p={},slotProps:h={},slots:y={},TransitionComponent:v,transitionDuration:b,..._}=r,w={...r,component:l,invisible:c},T=Khe(w),k={transition:v,root:u.Root,...y},R={...p,...h},M={slots:k,slotProps:R},[E,O]=$0("root",{elementType:Whe,externalForwardedProps:M,className:Nt(T.root,s),ownerState:w}),[P,j]=$0("transition",{elementType:JN,externalForwardedProps:M,ownerState:w});return g.jsx(P,{in:d,timeout:b,..._,...j,children:g.jsx(E,{"aria-hidden":!0,...O,classes:T,ref:n,children:i})})});function Qhe(e){return typeof e=="function"?e():e}function Xhe(e){return e?e.props.hasOwnProperty("in"):!1}const gO=()=>{},Qm=new Vhe;function Jhe(e){const{container:t,disableEscapeKeyDown:n=!1,disableScrollLock:r=!1,closeAfterTransition:i=!1,onTransitionEnter:s,onTransitionExited:l,children:c,onClose:d,open:u,rootRef:p}=e,h=x.useRef({}),y=x.useRef(null),v=x.useRef(null),b=Cl(v,p),[_,w]=x.useState(!u),T=Xhe(c);let k=!0;(e["aria-hidden"]==="false"||e["aria-hidden"]===!1)&&(k=!1);const R=()=>Kc(y.current),M=()=>(h.current.modalRef=v.current,h.current.mount=y.current,h.current),E=()=>{Qm.mount(M(),{disableScrollLock:r}),v.current&&(v.current.scrollTop=0)},O=Rd(()=>{const H=Qhe(t)||R().body;Qm.add(M(),H),v.current&&E()}),P=()=>Qm.isTopModal(M()),j=Rd(H=>{y.current=H,H&&(u&&P()?E():v.current&&lp(v.current,k))}),V=x.useCallback(()=>{Qm.remove(M(),k)},[k]);x.useEffect(()=>()=>{V()},[V]),x.useEffect(()=>{u?O():(!T||!i)&&V()},[u,V,T,i,O]);const C=H=>D=>{var K;(K=H.onKeyDown)==null||K.call(H,D),!(D.key!=="Escape"||D.which===229||!P())&&(n||(D.stopPropagation(),d&&d(D,"escapeKeyDown")))},N=H=>D=>{var K;(K=H.onClick)==null||K.call(H,D),D.target===D.currentTarget&&d&&d(D,"backdropClick")};return{getRootProps:(H={})=>{const D=gB(e);delete D.onTransitionEnter,delete D.onTransitionExited;const K={...D,...H};return{role:"presentation",...K,onKeyDown:C(K),ref:b}},getBackdropProps:(H={})=>{const D=H;return{"aria-hidden":!0,...D,onClick:N(D),open:u}},getTransitionProps:()=>{const H=()=>{w(!1),s&&s()},D=()=>{w(!0),l&&l(),i&&V()};return{onEnter:FI(H,(c==null?void 0:c.props.onEnter)??gO),onExited:FI(D,(c==null?void 0:c.props.onExited)??gO)}},rootRef:b,portalRef:j,isTopModal:P,exited:_,hasTransition:T}}function Zhe(e){return mi("MuiModal",e)}yi("MuiModal",["root","hidden","backdrop"]);const epe=e=>{const{open:t,exited:n,classes:r}=e;return Ii({root:["root",!t&&n&&"hidden"],backdrop:["backdrop"]},Zhe,r)},tpe=Bn("div",{name:"MuiModal",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,!n.open&&n.exited&&t.hidden]}})(qs(({theme:e})=>({position:"fixed",zIndex:(e.vars||e).zIndex.modal,right:0,bottom:0,top:0,left:0,variants:[{props:({ownerState:t})=>!t.open&&t.exited,style:{visibility:"hidden"}}]}))),npe=Bn(ZN,{name:"MuiModal",slot:"Backdrop",overridesResolver:(e,t)=>t.backdrop})({zIndex:-1}),rpe=x.forwardRef(function(t,n){const r=vi({name:"MuiModal",props:t}),{BackdropComponent:i=npe,BackdropProps:s,classes:l,className:c,closeAfterTransition:d=!1,children:u,container:p,component:h,components:y={},componentsProps:v={},disableAutoFocus:b=!1,disableEnforceFocus:_=!1,disableEscapeKeyDown:w=!1,disablePortal:T=!1,disableRestoreFocus:k=!1,disableScrollLock:R=!1,hideBackdrop:M=!1,keepMounted:E=!1,onBackdropClick:O,onClose:P,onTransitionEnter:j,onTransitionExited:V,open:C,slotProps:N={},slots:U={},theme:L,...q}=r,H={...r,closeAfterTransition:d,disableAutoFocus:b,disableEnforceFocus:_,disableEscapeKeyDown:w,disablePortal:T,disableRestoreFocus:k,disableScrollLock:R,hideBackdrop:M,keepMounted:E},{getRootProps:D,getBackdropProps:K,getTransitionProps:Q,portalRef:J,isTopModal:B,exited:G,hasTransition:ee}=Jhe({...H,rootRef:n}),ue={...H,exited:G},F=epe(ue),ge={};if(u.props.tabIndex===void 0&&(ge.tabIndex="-1"),ee){const{onEnter:Ge,onExited:Fe}=Q();ge.onEnter=Ge,ge.onExited=Fe}const se={...q,slots:{root:y.Root,backdrop:y.Backdrop,...U},slotProps:{...v,...N}},[Se,Me]=$0("root",{elementType:tpe,externalForwardedProps:se,getSlotProps:D,additionalProps:{ref:n,as:h},ownerState:ue,className:Nt(c,F==null?void 0:F.root,!ue.open&&ue.exited&&(F==null?void 0:F.hidden))}),[Re,ye]=$0("backdrop",{elementType:i,externalForwardedProps:se,additionalProps:s,getSlotProps:Ge=>K({...Ge,onClick:Fe=>{O&&O(Fe),Ge!=null&&Ge.onClick&&Ge.onClick(Fe)}}),className:Nt(s==null?void 0:s.className,F==null?void 0:F.backdrop),ownerState:ue}),je=Cl(s==null?void 0:s.ref,ye.ref);return!E&&!C&&(!ee||G)?null:g.jsx(Hhe,{ref:J,container:p,disablePortal:T,children:g.jsxs(Se,{...Me,children:[!M&&i?g.jsx(Re,{...ye,ref:je}):null,g.jsx($he,{disableEnforceFocus:_,disableAutoFocus:b,disableRestoreFocus:k,isEnabled:B,open:C,children:x.cloneElement(u,ge)})]})})});function ipe(e){return mi("MuiDialog",e)}const A_=yi("MuiDialog",["root","scrollPaper","scrollBody","container","paper","paperScrollPaper","paperScrollBody","paperWidthFalse","paperWidthXs","paperWidthSm","paperWidthMd","paperWidthLg","paperWidthXl","paperFullWidth","paperFullScreen"]),eL=x.createContext({}),spe=Bn(ZN,{name:"MuiDialog",slot:"Backdrop",overrides:(e,t)=>t.backdrop})({zIndex:-1}),ape=e=>{const{classes:t,scroll:n,maxWidth:r,fullWidth:i,fullScreen:s}=e,l={root:["root"],container:["container",`scroll${qt(n)}`],paper:["paper",`paperScroll${qt(n)}`,`paperWidth${qt(String(r))}`,i&&"paperFullWidth",s&&"paperFullScreen"]};return Ii(l,ipe,t)},ope=Bn(rpe,{name:"MuiDialog",slot:"Root",overridesResolver:(e,t)=>t.root})({"@media print":{position:"absolute !important"}}),lpe=Bn("div",{name:"MuiDialog",slot:"Container",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.container,t[`scroll${qt(n.scroll)}`]]}})({height:"100%","@media print":{height:"auto"},outline:0,variants:[{props:{scroll:"paper"},style:{display:"flex",justifyContent:"center",alignItems:"center"}},{props:{scroll:"body"},style:{overflowY:"auto",overflowX:"hidden",textAlign:"center","&::after":{content:'""',display:"inline-block",verticalAlign:"middle",height:"100%",width:"0"}}}]}),cpe=Bn(Gv,{name:"MuiDialog",slot:"Paper",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.paper,t[`scrollPaper${qt(n.scroll)}`],t[`paperWidth${qt(String(n.maxWidth))}`],n.fullWidth&&t.paperFullWidth,n.fullScreen&&t.paperFullScreen]}})(qs(({theme:e})=>({margin:32,position:"relative",overflowY:"auto","@media print":{overflowY:"visible",boxShadow:"none"},variants:[{props:{scroll:"paper"},style:{display:"flex",flexDirection:"column",maxHeight:"calc(100% - 64px)"}},{props:{scroll:"body"},style:{display:"inline-block",verticalAlign:"middle",textAlign:"initial"}},{props:({ownerState:t})=>!t.maxWidth,style:{maxWidth:"calc(100% - 64px)"}},{props:{maxWidth:"xs"},style:{maxWidth:e.breakpoints.unit==="px"?Math.max(e.breakpoints.values.xs,444):`max(${e.breakpoints.values.xs}${e.breakpoints.unit}, 444px)`,[`&.${A_.paperScrollBody}`]:{[e.breakpoints.down(Math.max(e.breakpoints.values.xs,444)+32*2)]:{maxWidth:"calc(100% - 64px)"}}}},...Object.keys(e.breakpoints.values).filter(t=>t!=="xs").map(t=>({props:{maxWidth:t},style:{maxWidth:`${e.breakpoints.values[t]}${e.breakpoints.unit}`,[`&.${A_.paperScrollBody}`]:{[e.breakpoints.down(e.breakpoints.values[t]+32*2)]:{maxWidth:"calc(100% - 64px)"}}}})),{props:({ownerState:t})=>t.fullWidth,style:{width:"calc(100% - 64px)"}},{props:({ownerState:t})=>t.fullScreen,style:{margin:0,width:"100%",maxWidth:"100%",height:"100%",maxHeight:"none",borderRadius:0,[`&.${A_.paperScrollBody}`]:{margin:0,maxWidth:"100%"}}}]}))),upe=x.forwardRef(function(t,n){const r=vi({props:t,name:"MuiDialog"}),i=VE(),s={enter:i.transitions.duration.enteringScreen,exit:i.transitions.duration.leavingScreen},{"aria-describedby":l,"aria-labelledby":c,"aria-modal":d=!0,BackdropComponent:u,BackdropProps:p,children:h,className:y,disableEscapeKeyDown:v=!1,fullScreen:b=!1,fullWidth:_=!1,maxWidth:w="sm",onBackdropClick:T,onClick:k,onClose:R,open:M,PaperComponent:E=Gv,PaperProps:O={},scroll:P="paper",TransitionComponent:j=JN,transitionDuration:V=s,TransitionProps:C,...N}=r,U={...r,disableEscapeKeyDown:v,fullScreen:b,fullWidth:_,maxWidth:w,scroll:P},L=ape(U),q=x.useRef(),H=J=>{q.current=J.target===J.currentTarget},D=J=>{k&&k(J),q.current&&(q.current=null,T&&T(J),R&&R(J,"backdropClick"))},K=Cre(c),Q=x.useMemo(()=>({titleId:K}),[K]);return g.jsx(ope,{className:Nt(L.root,y),closeAfterTransition:!0,components:{Backdrop:spe},componentsProps:{backdrop:{transitionDuration:V,as:u,...p}},disableEscapeKeyDown:v,onClose:R,open:M,ref:n,onClick:D,ownerState:U,...N,children:g.jsx(j,{appear:!0,in:M,timeout:V,role:"presentation",...C,children:g.jsx(lpe,{className:Nt(L.container),onMouseDown:H,ownerState:U,children:g.jsx(cpe,{as:E,elevation:24,role:"dialog","aria-describedby":l,"aria-labelledby":K,"aria-modal":d,...O,className:Nt(L.paper,O.className),ownerState:U,children:g.jsx(eL.Provider,{value:Q,children:h})})})})})});function dpe(e){return mi("MuiDialogActions",e)}yi("MuiDialogActions",["root","spacing"]);const fpe=e=>{const{classes:t,disableSpacing:n}=e;return Ii({root:["root",!n&&"spacing"]},dpe,t)},hpe=Bn("div",{name:"MuiDialogActions",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,!n.disableSpacing&&t.spacing]}})({display:"flex",alignItems:"center",padding:8,justifyContent:"flex-end",flex:"0 0 auto",variants:[{props:({ownerState:e})=>!e.disableSpacing,style:{"& > :not(style) ~ :not(style)":{marginLeft:8}}}]}),ppe=x.forwardRef(function(t,n){const r=vi({props:t,name:"MuiDialogActions"}),{className:i,disableSpacing:s=!1,...l}=r,c={...r,disableSpacing:s},d=fpe(c);return g.jsx(hpe,{className:Nt(d.root,i),ownerState:c,ref:n,...l})});function gpe(e){return mi("MuiDialogContent",e)}yi("MuiDialogContent",["root","dividers"]);function mpe(e){return mi("MuiDialogTitle",e)}const ype=yi("MuiDialogTitle",["root"]),vpe=e=>{const{classes:t,dividers:n}=e;return Ii({root:["root",n&&"dividers"]},gpe,t)},Ape=Bn("div",{name:"MuiDialogContent",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.dividers&&t.dividers]}})(qs(({theme:e})=>({flex:"1 1 auto",WebkitOverflowScrolling:"touch",overflowY:"auto",padding:"20px 24px",variants:[{props:({ownerState:t})=>t.dividers,style:{padding:"16px 24px",borderTop:`1px solid ${(e.vars||e).palette.divider}`,borderBottom:`1px solid ${(e.vars||e).palette.divider}`}},{props:({ownerState:t})=>!t.dividers,style:{[`.${ype.root} + &`]:{paddingTop:0}}}]}))),bpe=x.forwardRef(function(t,n){const r=vi({props:t,name:"MuiDialogContent"}),{className:i,dividers:s=!1,...l}=r,c={...r,dividers:s},d=vpe(c);return g.jsx(Ape,{className:Nt(d.root,i),ownerState:c,ref:n,...l})});function _pe(e){return mi("MuiTypography",e)}const P1e=yi("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]),Spe={primary:!0,secondary:!0,error:!0,info:!0,success:!0,warning:!0,textPrimary:!0,textSecondary:!0,textDisabled:!0},xpe=eae(),wpe=e=>{const{align:t,gutterBottom:n,noWrap:r,paragraph:i,variant:s,classes:l}=e,c={root:["root",s,e.align!=="inherit"&&`align${qt(t)}`,n&&"gutterBottom",r&&"noWrap",i&&"paragraph"]};return Ii(c,_pe,l)},Epe=Bn("span",{name:"MuiTypography",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.variant&&t[n.variant],n.align!=="inherit"&&t[`align${qt(n.align)}`],n.noWrap&&t.noWrap,n.gutterBottom&&t.gutterBottom,n.paragraph&&t.paragraph]}})(qs(({theme:e})=>{var t;return{margin:0,variants:[{props:{variant:"inherit"},style:{font:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}},...Object.entries(e.typography).filter(([n,r])=>n!=="inherit"&&r&&typeof r=="object").map(([n,r])=>({props:{variant:n},style:r})),...Object.entries(e.palette).filter(Rp()).map(([n])=>({props:{color:n},style:{color:(e.vars||e).palette[n].main}})),...Object.entries(((t=e.palette)==null?void 0:t.text)||{}).filter(([,n])=>typeof n=="string").map(([n])=>({props:{color:`text${qt(n)}`},style:{color:(e.vars||e).palette.text[n]}})),{props:({ownerState:n})=>n.align!=="inherit",style:{textAlign:"var(--Typography-textAlign)"}},{props:({ownerState:n})=>n.noWrap,style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}},{props:({ownerState:n})=>n.gutterBottom,style:{marginBottom:"0.35em"}},{props:({ownerState:n})=>n.paragraph,style:{marginBottom:16}}]}})),mO={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},tL=x.forwardRef(function(t,n){const{color:r,...i}=vi({props:t,name:"MuiTypography"}),s=!Spe[r],l=xpe({...i,...s&&{color:r}}),{align:c="inherit",className:d,component:u,gutterBottom:p=!1,noWrap:h=!1,paragraph:y=!1,variant:v="body1",variantMapping:b=mO,..._}=l,w={...l,align:c,color:r,className:d,component:u,gutterBottom:p,noWrap:h,paragraph:y,variant:v,variantMapping:b},T=u||(y?"p":b[v]||mO[v])||"span",k=wpe(w);return g.jsx(Epe,{as:T,ref:n,className:Nt(k.root,d),..._,ownerState:w,style:{...c!=="inherit"&&{"--Typography-textAlign":c},..._.style}})});function Tpe(e){return mi("MuiDialogContentText",e)}yi("MuiDialogContentText",["root"]);const Cpe=e=>{const{classes:t}=e,r=Ii({root:["root"]},Tpe,t);return{...t,...r}},kpe=Bn(tL,{shouldForwardProp:e=>DE(e)||e==="classes",name:"MuiDialogContentText",slot:"Root",overridesResolver:(e,t)=>t.root})({}),Mpe=x.forwardRef(function(t,n){const r=vi({props:t,name:"MuiDialogContentText"}),{children:i,className:s,...l}=r,c=Cpe(l);return g.jsx(kpe,{component:"p",variant:"body1",color:"textSecondary",ref:n,ownerState:l,className:Nt(c.root,s),...r,classes:c})}),Rpe=e=>{const{classes:t}=e;return Ii({root:["root"]},mpe,t)},Ipe=Bn(tL,{name:"MuiDialogTitle",slot:"Root",overridesResolver:(e,t)=>t.root})({padding:"16px 24px",flex:"0 0 auto"}),Ope=x.forwardRef(function(t,n){const r=vi({props:t,name:"MuiDialogTitle"}),{className:i,id:s,...l}=r,c=r,d=Rpe(c),{titleId:u=s}=x.useContext(eL);return g.jsx(Ipe,{component:"h2",className:Nt(d.root,i),ownerState:c,ref:n,variant:"h6",id:s??u,...l})});function sr(e,t){if(t!==void 0)return`#${e}:${typeof t=="number"?t.toString(10).replace(".",","):Array.isArray(t)?t.map(n=>n.trim()).join(", "):t.trim()}`}const yO=e=>e.map(t=>`${qW[t.type]} ${t.start} ${t.length} ${t.pitch} ${t.lyrics}`).join(`
`),vO=e=>e.split(":")[0];function jpe(e){const t={artist:sr("ARTIST",e.artist),title:sr("TITLE",e.title),author:sr("CREATOR",e.author),bpm:sr("BPM",e.bpm),year:sr("YEAR",e.year),previewStart:sr("PREVIEWSTART",e.previewStart),video:sr("VIDEO",`v=${e.video}`),videoGap:sr("VIDEOGAP",e.videoGap),genre:sr("GENRE",e.genre),language:sr("LANGUAGE",e.language),gap:sr("GAP",e.gap),edition:sr("EDITION",e.edition),id:sr("ALLKARAOKE_ID",e.id),lastUpdate:sr("ALLKARAOKE_LASTUPDATE",e.lastUpdate),artistOrigin:sr("ALLKARAOKE_ARTISTORIGIN",e.artistOrigin),authorUrl:sr("ALLKARAOKE_CREATORURL",e.authorUrl),realBpm:sr("ALLKARAOKE_REALBPM",e.realBpm),sourceUrl:sr("ALLKARAOKE_SOURCEURL",e.sourceUrl),previewEnd:sr("ALLKARAOKE_PREVIEWEND",e.previewEnd),volume:sr("ALLKARAOKE_VOLUME",e.volume)},n=e.tracks.map(c=>c.name??null),r=[];e.tracks.map(c=>c.sections).forEach(([c,...d])=>{r.push(un(c)?yO(c.notes):`- ${c.start} ${c.end}`),d.forEach(u=>r.push(un(u)?`- ${u.start}
${yO(u.notes)}`:`- ${u.start} ${u.end}`))});const i=Object.values(t).concat(n[0]?sr("P1",n[0]):void 0).concat(n[1]?sr("P2",n[1]):void 0).filter(ZS),s=i.map(vO),l=(e.unsupportedProps??[]).filter(c=>!s.includes(vO(c)));return i.concat(...l).concat(r).concat("E").filter(ZS).join(`
`)}const nL="share-songs",rL=Nl(nL),Ppe=async e=>{try{if(!at.getItem(nL))return;const n=await fs.get(e);n&&er.capture("share-song",{song:jpe(n),isBuiltIn:fs.isBuiltIn(e)})}catch(t){console.error(t),ua(t)}};function V1e(e){const[t,n]=rL(null),[r,i]=x.useState(!!e.id&&t===null),s=()=>{i(!1)},l=c=>{n(c),c&&e.id&&Ppe(e.id),s()};return g.jsxs(upe,{open:r,onClose:()=>i(!1),fullWidth:!0,children:[g.jsx(Ope,{children:"Share songs?"}),g.jsx(bpe,{children:g.jsx(Mpe,{children:g.jsxs("p",{children:["Can you share songs you add? This would help tremendously as I will be able to add it for everyone to play ",g.jsx("br",{}),g.jsx("br",{}),"Shared songs appear for other players with a couple of days of delay."]})})}),g.jsxs(ppe,{children:[g.jsx(dO,{onClick:()=>l(!1),"data-test":"share-songs-disagree",children:"Disagree"}),g.jsx(dO,{onClick:()=>l(!0),autoFocus:!0,variant:"contained","data-test":"share-songs-agree",children:"Agree"})]})]})}oa.extend(dhe);function Vpe(){const{data:e}=_f(!0),[t]=rL(null),n=Mv("song");Ll(!1);const r=QN(n??"");return r.data?g.jsxs(Gv,{elevation:2,sx:{minHeight:"100vh",width:"1260px",margin:"0 auto",paddingTop:"30px"},children:[g.jsx(gs,{children:g.jsx("title",{children:"Edit Song | AllKaraoke.Party - Free Online Karaoke Party Game"})}),g.jsxs(Dpe,{children:[g.jsx(Uv,{to:"edit/list/",children:g.jsx("a",{children:"Return to the song list"})}),g.jsxs("span",{children:["Editing:"," ",g.jsxs("b",{children:[r.data.artist," - ",r.data.title]}),r.data.local&&g.jsx(Nv,{title:"Delete the song",onClick:async()=>{global.confirm("Are you sure you want to delete this song?")&&(await fs.deleteSong(r.data.id),t&&e.some(s=>s.id===r.data.id)&&er.capture("unshare-song",{songId:r.data.id}))},"data-test":"delete-song",children:g.jsx(ohe,{})})]}),g.jsxs("abbr",{title:r.data.lastUpdate,children:["Last updated: ",g.jsx("b",{children:r.data.lastUpdate?oa(r.data.lastUpdate).fromNow():"-"})]})]}),g.jsx(KN,{song:r.data})]}):g.jsx(g.Fragment,{children:"Loading"})}const Dpe=W("div",{target:"e104ojv10"})({name:"12zd36v",styles:"display:flex;justify-content:space-between;align-items:center;margin-bottom:20px;padding:0 8px"});var Bpe=Math.floor,Npe=Math.random;function Lpe(e,t){return e+Bpe(Npe()*(t-e+1))}function iL(e,t){var n=-1,r=e.length,i=r-1;for(t=t===void 0?r:t;++n<t;){var s=Lpe(n,i),l=e[s];e[s]=e[n],e[n]=l}return e.length=t,e}function Fpe(e){return iL(ND(e))}function zpe(e,t){return tE(t,function(n){return e[n]})}function $pe(e){return e==null?[]:zpe(e,Qp(e))}function Upe(e){return iL($pe(e))}function Hpe(e){var t=Us(e)?Fpe:Upe;return t(e)}var Vj;const sL=!((Vj=document.getElementById("root"))!=null&&Vj.hasChildNodes());function u2(e){return sL?null:e.children}function ki(e){const t=Oi(),n=r=>{e.onClick?e.onClick(r):(r.preventDefault(),t(e.to))};return g.jsx(Uv,{...e,onClick:n})}const cd=e=>new Promise(t=>setTimeout(t,e));function qpe(e,t){x.useEffect(()=>{var n,r;(r=(n=e.current)==null?void 0:n.getInternalPlayer())==null||r.setVolume(Math.round((t??.5)*100))},[e,t])}var b_,AO;function Gpe(){return AO||(AO=1,b_=function e(t,n){if(t===n)return!0;if(t&&n&&typeof t=="object"&&typeof n=="object"){if(t.constructor!==n.constructor)return!1;var r,i,s;if(Array.isArray(t)){if(r=t.length,r!=n.length)return!1;for(i=r;i--!==0;)if(!e(t[i],n[i]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if(s=Object.keys(t),r=s.length,r!==Object.keys(n).length)return!1;for(i=r;i--!==0;)if(!Object.prototype.hasOwnProperty.call(n,s[i]))return!1;for(i=r;i--!==0;){var l=s[i];if(!e(t[l],n[l]))return!1}return!0}return t!==t&&n!==n}),b_}var Ype=Gpe();const Kpe=Pr(Ype);var Xm={exports:{}},__,bO;function Wpe(){if(bO)return __;bO=1;var e;/**
* @link https://github.com/gajus/sister for the canonical source repository
* @license https://github.com/gajus/sister/blob/master/LICENSE BSD 3-Clause
*/return e=function(){var t={},n={};return t.on=function(r,i){var s={name:r,handler:i};return n[r]=n[r]||[],n[r].unshift(s),s},t.off=function(r){var i=n[r.name].indexOf(r);i!==-1&&n[r.name].splice(i,1)},t.trigger=function(r,i){var s=n[r],l;if(s)for(l=s.length;l--;)s[l].handler(i)},t},__=e,__}var Jm={exports:{}},S_,_O;function Qpe(){if(_O)return S_;_O=1,S_=function(i,s,l){var c=document.head||document.getElementsByTagName("head")[0],d=document.createElement("script");typeof s=="function"&&(l=s,s={}),s=s||{},l=l||function(){},d.type=s.type||"text/javascript",d.charset=s.charset||"utf8",d.async="async"in s?!!s.async:!0,d.src=i,s.attrs&&e(d,s.attrs),s.text&&(d.text=""+s.text);var u="onload"in d?t:n;u(d,l),d.onload||t(d,l),c.appendChild(d)};function e(r,i){for(var s in i)r.setAttribute(s,i[s])}function t(r,i){r.onload=function(){this.onerror=this.onload=null,i(null,r)},r.onerror=function(){this.onerror=this.onload=null,i(new Error("Failed to load "+this.src),r)}}function n(r,i){r.onreadystatechange=function(){this.readyState!="complete"&&this.readyState!="loaded"||(this.onreadystatechange=null,i(null,r))}}return S_}var SO;function Xpe(){return SO||(SO=1,function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=Qpe(),r=i(n);function i(s){return s&&s.__esModule?s:{default:s}}t.default=function(s){var l=new Promise(function(c){if(window.YT&&window.YT.Player&&window.YT.Player instanceof Function){c(window.YT);return}else{var d=window.location.protocol==="http:"?"http:":"https:";(0,r.default)(d+"//www.youtube.com/iframe_api",function(p){p&&s.trigger("error",p)})}var u=window.onYouTubeIframeAPIReady;window.onYouTubeIframeAPIReady=function(){u&&u(),c(window.YT)}});return l},e.exports=t.default}(Jm,Jm.exports)),Jm.exports}var Zm={exports:{}},ey={exports:{}},ty={exports:{}},x_,xO;function Jpe(){if(xO)return x_;xO=1;var e=1e3,t=e*60,n=t*60,r=n*24,i=r*365.25;x_=function(u,p){p=p||{};var h=typeof u;if(h==="string"&&u.length>0)return s(u);if(h==="number"&&isNaN(u)===!1)return p.long?c(u):l(u);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(u))};function s(u){if(u=String(u),!(u.length>100)){var p=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(u);if(p){var h=parseFloat(p[1]),y=(p[2]||"ms").toLowerCase();switch(y){case"years":case"year":case"yrs":case"yr":case"y":return h*i;case"days":case"day":case"d":return h*r;case"hours":case"hour":case"hrs":case"hr":case"h":return h*n;case"minutes":case"minute":case"mins":case"min":case"m":return h*t;case"seconds":case"second":case"secs":case"sec":case"s":return h*e;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return h;default:return}}}}function l(u){return u>=r?Math.round(u/r)+"d":u>=n?Math.round(u/n)+"h":u>=t?Math.round(u/t)+"m":u>=e?Math.round(u/e)+"s":u+"ms"}function c(u){return d(u,r,"day")||d(u,n,"hour")||d(u,t,"minute")||d(u,e,"second")||u+" ms"}function d(u,p,h){if(!(u<p))return u<p*1.5?Math.floor(u/p)+" "+h:Math.ceil(u/p)+" "+h+"s"}return x_}var wO;function Zpe(){return wO||(wO=1,function(e,t){t=e.exports=i.debug=i.default=i,t.coerce=d,t.disable=l,t.enable=s,t.enabled=c,t.humanize=Jpe(),t.names=[],t.skips=[],t.formatters={};var n;function r(u){var p=0,h;for(h in u)p=(p<<5)-p+u.charCodeAt(h),p|=0;return t.colors[Math.abs(p)%t.colors.length]}function i(u){function p(){if(p.enabled){var h=p,y=+new Date,v=y-(n||y);h.diff=v,h.prev=n,h.curr=y,n=y;for(var b=new Array(arguments.length),_=0;_<b.length;_++)b[_]=arguments[_];b[0]=t.coerce(b[0]),typeof b[0]!="string"&&b.unshift("%O");var w=0;b[0]=b[0].replace(/%([a-zA-Z%])/g,function(k,R){if(k==="%%")return k;w++;var M=t.formatters[R];if(typeof M=="function"){var E=b[w];k=M.call(h,E),b.splice(w,1),w--}return k}),t.formatArgs.call(h,b);var T=p.log||t.log||console.log.bind(console);T.apply(h,b)}}return p.namespace=u,p.enabled=t.enabled(u),p.useColors=t.useColors(),p.color=r(u),typeof t.init=="function"&&t.init(p),p}function s(u){t.save(u),t.names=[],t.skips=[];for(var p=(typeof u=="string"?u:"").split(/[\s,]+/),h=p.length,y=0;y<h;y++)p[y]&&(u=p[y].replace(/\*/g,".*?"),u[0]==="-"?t.skips.push(new RegExp("^"+u.substr(1)+"$")):t.names.push(new RegExp("^"+u+"$")))}function l(){t.enable("")}function c(u){var p,h;for(p=0,h=t.skips.length;p<h;p++)if(t.skips[p].test(u))return!1;for(p=0,h=t.names.length;p<h;p++)if(t.names[p].test(u))return!0;return!1}function d(u){return u instanceof Error?u.stack||u.message:u}}(ty,ty.exports)),ty.exports}var EO;function ege(){return EO||(EO=1,function(e,t){var n={};t=e.exports=Zpe(),t.log=s,t.formatArgs=i,t.save=l,t.load=c,t.useColors=r,t.storage=typeof chrome<"u"&&typeof chrome.storage<"u"?chrome.storage.local:d(),t.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"];function r(){return typeof window<"u"&&window.process&&window.process.type==="renderer"?!0:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}t.formatters.j=function(u){try{return JSON.stringify(u)}catch(p){return"[UnexpectedJSONParseError]: "+p.message}};function i(u){var p=this.useColors;if(u[0]=(p?"%c":"")+this.namespace+(p?" %c":" ")+u[0]+(p?"%c ":" ")+"+"+t.humanize(this.diff),!!p){var h="color: "+this.color;u.splice(1,0,h,"color: inherit");var y=0,v=0;u[0].replace(/%[a-zA-Z%]/g,function(b){b!=="%%"&&(y++,b==="%c"&&(v=y))}),u.splice(v,0,h)}}function s(){return typeof console=="object"&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function l(u){try{u==null?t.storage.removeItem("debug"):t.storage.debug=u}catch{}}function c(){var u;try{u=t.storage.debug}catch{}return!u&&typeof process<"u"&&"env"in process&&(u=n.DEBUG),u}t.enable(c());function d(){try{return window.localStorage}catch{}}}(ey,ey.exports)),ey.exports}var ny={exports:{}},TO;function tge(){return TO||(TO=1,function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=["cueVideoById","loadVideoById","cueVideoByUrl","loadVideoByUrl","playVideo","pauseVideo","stopVideo","getVideoLoadedFraction","cuePlaylist","loadPlaylist","nextVideo","previousVideo","playVideoAt","setShuffle","setLoop","getPlaylist","getPlaylistIndex","setOption","mute","unMute","isMuted","setVolume","getVolume","seekTo","getPlayerState","getPlaybackRate","setPlaybackRate","getAvailablePlaybackRates","getPlaybackQuality","setPlaybackQuality","getAvailableQualityLevels","getCurrentTime","getDuration","removeEventListener","getVideoUrl","getVideoEmbedCode","getOptions","getOption","addEventListener","destroy","setSize","getIframe"],e.exports=t.default}(ny,ny.exports)),ny.exports}var ry={exports:{}},CO;function nge(){return CO||(CO=1,function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=["ready","stateChange","playbackQualityChange","playbackRateChange","error","apiChange","volumeChange"],e.exports=t.default}(ry,ry.exports)),ry.exports}var iy={exports:{}},sy={exports:{}},kO;function rge(){return kO||(kO=1,function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default={BUFFERING:3,ENDED:0,PAUSED:2,PLAYING:1,UNSTARTED:-1,VIDEO_CUED:5},e.exports=t.default}(sy,sy.exports)),sy.exports}var MO;function ige(){return MO||(MO=1,function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=rge(),r=i(n);function i(s){return s&&s.__esModule?s:{default:s}}t.default={pauseVideo:{acceptableStates:[r.default.ENDED,r.default.PAUSED],stateChangeRequired:!1},playVideo:{acceptableStates:[r.default.ENDED,r.default.PLAYING],stateChangeRequired:!1},seekTo:{acceptableStates:[r.default.ENDED,r.default.PLAYING,r.default.PAUSED],stateChangeRequired:!0,timeout:3e3}},e.exports=t.default}(iy,iy.exports)),iy.exports}var RO;function sge(){return RO||(RO=1,function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=ege(),r=p(n),i=tge(),s=p(i),l=nge(),c=p(l),d=ige(),u=p(d);function p(v){return v&&v.__esModule?v:{default:v}}var h=(0,r.default)("youtube-player"),y={};y.proxyEvents=function(v){var b={},_=function(P){var j="on"+P.slice(0,1).toUpperCase()+P.slice(1);b[j]=function(V){h('event "%s"',j,V),v.trigger(P,V)}},w=!0,T=!1,k=void 0;try{for(var R=c.default[Symbol.iterator](),M;!(w=(M=R.next()).done);w=!0){var E=M.value;_(E)}}catch(O){T=!0,k=O}finally{try{!w&&R.return&&R.return()}finally{if(T)throw k}}return b},y.promisifyPlayer=function(v){var b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,_={},w=function(j){b&&u.default[j]?_[j]=function(){for(var V=arguments.length,C=Array(V),N=0;N<V;N++)C[N]=arguments[N];return v.then(function(U){var L=u.default[j],q=U.getPlayerState(),H=U[j].apply(U,C);return L.stateChangeRequired||Array.isArray(L.acceptableStates)&&L.acceptableStates.indexOf(q)===-1?new Promise(function(D){var K=function Q(){var J=U.getPlayerState(),B=void 0;typeof L.timeout=="number"&&(B=setTimeout(function(){U.removeEventListener("onStateChange",Q),D()},L.timeout)),Array.isArray(L.acceptableStates)&&L.acceptableStates.indexOf(J)!==-1&&(U.removeEventListener("onStateChange",Q),clearTimeout(B),D())};U.addEventListener("onStateChange",K)}).then(function(){return H}):H})}:_[j]=function(){for(var V=arguments.length,C=Array(V),N=0;N<V;N++)C[N]=arguments[N];return v.then(function(U){return U[j].apply(U,C)})}},T=!0,k=!1,R=void 0;try{for(var M=s.default[Symbol.iterator](),E;!(T=(E=M.next()).done);T=!0){var O=E.value;w(O)}}catch(P){k=!0,R=P}finally{try{!T&&M.return&&M.return()}finally{if(k)throw R}}return _},t.default=y,e.exports=t.default}(Zm,Zm.exports)),Zm.exports}var IO;function age(){return IO||(IO=1,function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(h){return typeof h}:function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h},r=Wpe(),i=u(r),s=Xpe(),l=u(s),c=sge(),d=u(c);function u(h){return h&&h.__esModule?h:{default:h}}var p=void 0;t.default=function(h){var y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,b=(0,i.default)();if(p||(p=(0,l.default)(b)),y.events)throw new Error("Event handlers cannot be overwritten.");if(typeof h=="string"&&!document.getElementById(h))throw new Error('Element "'+h+'" does not exist.');y.events=d.default.proxyEvents(b);var _=new Promise(function(T){if((typeof h>"u"?"undefined":n(h))==="object"&&h.playVideo instanceof Function){var k=h;T(k)}else p.then(function(R){var M=new R.Player(h,y);return b.on("ready",function(){T(M)}),null})}),w=d.default.promisifyPlayer(_,v);return w.on=b.on,w.off=b.off,w},e.exports=t.default}(Xm,Xm.exports)),Xm.exports}var oge=age();const lge=Pr(oge);var cge=Object.defineProperty,uge=Object.defineProperties,dge=Object.getOwnPropertyDescriptors,OO=Object.getOwnPropertySymbols,fge=Object.prototype.hasOwnProperty,hge=Object.prototype.propertyIsEnumerable,jO=(e,t,n)=>t in e?cge(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Gx=(e,t)=>{for(var n in t||(t={}))fge.call(t,n)&&jO(e,n,t[n]);if(OO)for(var n of OO(t))hge.call(t,n)&&jO(e,n,t[n]);return e},Yx=(e,t)=>uge(e,dge(t)),pge=(e,t,n)=>new Promise((r,i)=>{var s=d=>{try{c(n.next(d))}catch(u){i(u)}},l=d=>{try{c(n.throw(d))}catch(u){i(u)}},c=d=>d.done?r(d.value):Promise.resolve(d.value).then(s,l);c((n=n.apply(e,t)).next())});function gge(e,t){var n,r;if(e.videoId!==t.videoId)return!0;const i=((n=e.opts)==null?void 0:n.playerVars)||{},s=((r=t.opts)==null?void 0:r.playerVars)||{};return i.start!==s.start||i.end!==s.end}function PO(e={}){return Yx(Gx({},e),{height:0,width:0,playerVars:Yx(Gx({},e.playerVars),{autoplay:0,start:0,end:0})})}function mge(e,t){return e.videoId!==t.videoId||!Kpe(PO(e.opts),PO(t.opts))}function yge(e,t){var n,r,i,s;return e.id!==t.id||e.className!==t.className||((n=e.opts)==null?void 0:n.width)!==((r=t.opts)==null?void 0:r.width)||((i=e.opts)==null?void 0:i.height)!==((s=t.opts)==null?void 0:s.height)||e.iframeClassName!==t.iframeClassName||e.title!==t.title}var vge={videoId:"",id:"",className:"",iframeClassName:"",style:{},title:"",loading:void 0,opts:{},onReady:()=>{},onError:()=>{},onPlay:()=>{},onPause:()=>{},onEnd:()=>{},onStateChange:()=>{},onPlaybackRateChange:()=>{},onPlaybackQualityChange:()=>{}},Age={videoId:Ot.string,id:Ot.string,className:Ot.string,iframeClassName:Ot.string,style:Ot.object,title:Ot.string,loading:Ot.oneOf(["lazy","eager"]),opts:Ot.objectOf(Ot.any),onReady:Ot.func,onError:Ot.func,onPlay:Ot.func,onPause:Ot.func,onEnd:Ot.func,onStateChange:Ot.func,onPlaybackRateChange:Ot.func,onPlaybackQualityChange:Ot.func},Fy=class extends Xe.Component{constructor(e){super(e),this.destroyPlayerPromise=void 0,this.onPlayerReady=t=>{var n,r;return(r=(n=this.props).onReady)==null?void 0:r.call(n,t)},this.onPlayerError=t=>{var n,r;return(r=(n=this.props).onError)==null?void 0:r.call(n,t)},this.onPlayerStateChange=t=>{var n,r,i,s,l,c,d,u;switch((r=(n=this.props).onStateChange)==null||r.call(n,t),t.data){case Fy.PlayerState.ENDED:(s=(i=this.props).onEnd)==null||s.call(i,t);break;case Fy.PlayerState.PLAYING:(c=(l=this.props).onPlay)==null||c.call(l,t);break;case Fy.PlayerState.PAUSED:(u=(d=this.props).onPause)==null||u.call(d,t);break}},this.onPlayerPlaybackRateChange=t=>{var n,r;return(r=(n=this.props).onPlaybackRateChange)==null?void 0:r.call(n,t)},this.onPlayerPlaybackQualityChange=t=>{var n,r;return(r=(n=this.props).onPlaybackQualityChange)==null?void 0:r.call(n,t)},this.destroyPlayer=()=>this.internalPlayer?(this.destroyPlayerPromise=this.internalPlayer.destroy().then(()=>this.destroyPlayerPromise=void 0),this.destroyPlayerPromise):Promise.resolve(),this.createPlayer=()=>{if(typeof document>"u")return;if(this.destroyPlayerPromise){this.destroyPlayerPromise.then(this.createPlayer);return}const t=Yx(Gx({},this.props.opts),{videoId:this.props.videoId});this.internalPlayer=lge(this.container,t),this.internalPlayer.on("ready",this.onPlayerReady),this.internalPlayer.on("error",this.onPlayerError),this.internalPlayer.on("stateChange",this.onPlayerStateChange),this.internalPlayer.on("playbackRateChange",this.onPlayerPlaybackRateChange),this.internalPlayer.on("playbackQualityChange",this.onPlayerPlaybackQualityChange),(this.props.title||this.props.loading)&&this.internalPlayer.getIframe().then(n=>{this.props.title&&n.setAttribute("title",this.props.title),this.props.loading&&n.setAttribute("loading",this.props.loading)})},this.resetPlayer=()=>this.destroyPlayer().then(this.createPlayer),this.updatePlayer=()=>{var t;(t=this.internalPlayer)==null||t.getIframe().then(n=>{this.props.id?n.setAttribute("id",this.props.id):n.removeAttribute("id"),this.props.iframeClassName?n.setAttribute("class",this.props.iframeClassName):n.removeAttribute("class"),this.props.opts&&this.props.opts.width?n.setAttribute("width",this.props.opts.width.toString()):n.removeAttribute("width"),this.props.opts&&this.props.opts.height?n.setAttribute("height",this.props.opts.height.toString()):n.removeAttribute("height"),this.props.title?n.setAttribute("title",this.props.title):n.setAttribute("title","YouTube video player"),this.props.loading?n.setAttribute("loading",this.props.loading):n.removeAttribute("loading")})},this.getInternalPlayer=()=>this.internalPlayer,this.updateVideo=()=>{var t,n,r,i;if(typeof this.props.videoId>"u"||this.props.videoId===null){(t=this.internalPlayer)==null||t.stopVideo();return}let s=!1;const l={videoId:this.props.videoId};if((n=this.props.opts)!=null&&n.playerVars&&(s=this.props.opts.playerVars.autoplay===1,"start"in this.props.opts.playerVars&&(l.startSeconds=this.props.opts.playerVars.start),"end"in this.props.opts.playerVars&&(l.endSeconds=this.props.opts.playerVars.end)),s){(r=this.internalPlayer)==null||r.loadVideoById(l);return}(i=this.internalPlayer)==null||i.cueVideoById(l)},this.refContainer=t=>{this.container=t},this.container=null,this.internalPlayer=null}componentDidMount(){this.createPlayer()}componentDidUpdate(e){return pge(this,null,function*(){yge(e,this.props)&&this.updatePlayer(),mge(e,this.props)&&(yield this.resetPlayer()),gge(e,this.props)&&this.updateVideo()})}componentWillUnmount(){this.destroyPlayer()}render(){return Xe.createElement("div",{className:this.props.className,style:this.props.style},Xe.createElement("div",{id:this.props.id,className:this.props.iframeClassName,ref:this.refContainer}))}},Kv=Fy;Kv.propTypes=Age;Kv.defaultProps=vge;Kv.PlayerState={UNSTARTED:-1,ENDED:0,PLAYING:1,PAUSED:2,BUFFERING:3,CUED:5};var wa=Kv;function bge(e){const[t,n]=x.useState(1);return x.useEffect(()=>{if(e===wa.PlayerState.UNSTARTED){const r=setTimeout(()=>{n(i=>i+1)},5e3+t*2500);return()=>{clearTimeout(r)}}}),t}function _ge(e,t){x.useEffect(()=>{if(t===wa.PlayerState.BUFFERING){const n=setInterval(async()=>{var r,i,s;if(navigator.onLine){clearInterval(n);const l=await((r=e.current)==null?void 0:r.getInternalPlayer().getCurrentTime());(s=(i=e.current)==null?void 0:i.getInternalPlayer())==null||s.seekTo(Math.max(l-2,0),!0)}},500);return()=>{clearInterval(n)}}})}function Sge(e,t){return _ge(e,t),bge(t)}var qn=(e=>(e.UNSTARTED="UNSTARTED",e.ENDED="ENDED",e.PLAYING="PLAYING",e.PAUSED="PAUSED",e.BUFFERING="BUFFERING",e.CUED="CUED",e))(qn||{});const VO={[wa.PlayerState.UNSTARTED]:"UNSTARTED",[wa.PlayerState.ENDED]:"ENDED",[wa.PlayerState.PLAYING]:"PLAYING",[wa.PlayerState.PAUSED]:"PAUSED",[wa.PlayerState.BUFFERING]:"BUFFERING",[wa.PlayerState.CUED]:"CUED"},xge=x.forwardRef(function({video:t,autoplay:n,startAt:r,controls:i,disablekb:s,volume:l,width:c,height:d,onStateChange:u},p){const h=x.useRef(null),[y,v]=x.useState(wa.PlayerState.UNSTARTED),b=Sge(h,y);return qpe(h,l),x.useEffect(()=>{h.current&&h.current.getInternalPlayer().setSize(c,d)},[h,c,d,t,b]),x.useImperativeHandle(p,()=>({getStatus:()=>VO[y],setSize:(_,w)=>{var T;return(T=h.current)==null?void 0:T.getInternalPlayer().setSize(_,w)},seekTo:_=>{var w;return(w=h.current)==null?void 0:w.getInternalPlayer().seekTo(_,!0)},setPlaybackSpeed:_=>{var w;return(w=h.current)==null?void 0:w.getInternalPlayer().setPlaybackRate(_)},setVolume:_=>{var w;return(w=h.current)==null?void 0:w.getInternalPlayer().setVolume(_)},getCurrentTime:()=>{var _,w,T,k;return((k=(T=(w=(_=h.current)==null?void 0:_.getInternalPlayer)==null?void 0:w.call(_))==null?void 0:T.getCurrentTime)==null?void 0:k.call(T))??Promise.resolve(0)},loadVideoById:_=>{var w;return(w=h.current)==null?void 0:w.getInternalPlayer().loadVideoById(_)},playVideo:()=>{var _;(_=h.current)==null||_.getInternalPlayer().playVideo()},pauseVideo:()=>{var _;return(_=h.current)==null?void 0:_.getInternalPlayer().pauseVideo()},getDuration:()=>{var _,w,T,k;return((k=(T=(w=(_=h.current)==null?void 0:_.getInternalPlayer)==null?void 0:w.call(_))==null?void 0:T.getDuration)==null?void 0:k.call(T))??Promise.resolve(0)}})),g.jsx(wa,{title:" ",ref:h,videoId:t,opts:{width:"0",height:"0",playerVars:{autoplay:n?1:0,rel:0,fs:0,controls:i?1:0,start:r??0,end:0,disablekb:s?1:0,modestbranding:1}},onStateChange:_=>{v(_.data),u==null||u(VO[_.data])}},`${t}-${b}`)}),wge=x.forwardRef(function({video:t,autoplay:n=!0,startAt:r,controls:i,disablekb:s,volume:l,width:c,height:d,onStateChange:u},p){const h=x.useRef(null),[y,v]=x.useState({w:c,h:d}),[b,_]=x.useState(qn.UNSTARTED);x.useEffect(()=>{const k=P=>()=>_(P),R=h.current,M=k(qn.PLAYING),E=k(qn.PAUSED),O=k(qn.ENDED);return R==null||R.addEventListener("playing",M),R==null||R.addEventListener("pause",E),R==null||R.addEventListener("ended",O),()=>{R==null||R.removeEventListener("playing",M),R==null||R.removeEventListener("pause",E),R==null||R.removeEventListener("ended",O)}},[_]),x.useEffect(()=>{u==null||u(b)},[b,u]);const w=x.useRef(null),T=x.useMemo(()=>({getStatus:()=>b,setSize:(k,R)=>v({w:k,h:R}),seekTo:k=>(h.current&&(h.current.currentTime=k),k),setPlaybackSpeed:k=>{h.current&&(h.current.playbackRate=k)},setVolume:()=>{},getCurrentTime:()=>{var k;return Promise.resolve(((k=h.current)==null?void 0:k.currentTime)??0)},playVideo:async()=>{var k;return await cd(200),(k=h.current)==null?void 0:k.play()},pauseVideo:()=>{var k;return(k=h.current)==null?void 0:k.pause()},getDuration:()=>{var k;return Promise.resolve(((k=h.current)==null?void 0:k.duration)??0)},loadVideoById:()=>{var k;clearTimeout(w.current),(k=h.current)==null||k.pause(),_(qn.UNSTARTED),w.current=setTimeout(()=>{var R;(R=h.current)==null||R.play()},300)}}),[h]);return x.useEffect(()=>{T.setSize(c,d)},[c,d,T]),x.useEffect(()=>{r!==void 0&&T.seekTo(r)},[r,T]),x.useImperativeHandle(p,()=>T),g.jsx("video",{style:{width:y.w,height:y.h},autoPlay:n,controls:i,ref:h,children:g.jsx("source",{src:t})})}),Ege="/assets/dummy-video-long-C7qbKeYK.webm",Tge="/assets/dummy-video-9QP_sTy6.webm",Cge=x.forwardRef(function({video:t,controls:n,...r},i){return g.jsx(wge,{ref:i,video:t==="Vueyx9TBEqE"?Ege:Tge,controls:!0,...r})}),Wv=x.forwardRef((e,t)=>ds()?g.jsx(Cge,{...e,ref:t}):g.jsx(xge,{...e,ref:t}));function aL({songData:e,background:t,width:n,height:r,children:i,...s}){return g.jsxs(kge,{video:e.video,width:n,height:r,...s,children:[g.jsx(Rge,{video:e.video,blur:!0}),t&&g.jsx(oL,{children:t}),g.jsx(Ige,{children:g.jsxs(Oge,{children:[g.jsx(jge,{children:e.title}),g.jsx("br",{}),g.jsx(Pge,{children:e.artist}),g.jsx("br",{}),e.author&&g.jsxs(Vge,{children:["by",e.authorUrl?g.jsx("a",{href:e.authorUrl,children:e.author}):e.author]}),i]})})]})}const kge=W("div",{target:"e1kx27c8"})("width:",e=>e.width,"px;top:0;height:",e=>e.height,"px;overflow-y:hidden;background:black;position:relative;"),oL=W("div",{target:"e1kx27c7"})({name:"1vuuxha",styles:"z-index:1;top:0;left:0;position:absolute;width:100%;height:100%"}),Mge=W(oL,{target:"e1kx27c6"})("background-size:cover;background-position:center center;filter:",e=>e.blur?"blur(0.5rem)":"none",";"),Rge=e=>g.jsx(Mge,{style:{backgroundImage:`url('https://i3.ytimg.com/vi/${e.video}/hqdefault.jpg')`},...e}),Ige=W("div",{target:"e1kx27c5"})({name:"11t99gq",styles:"z-index:2;top:0;left:0;width:100%;height:100%;position:absolute;pointer-events:none"}),Oge=W("div",{target:"e1kx27c4"})({name:"14zbexy",styles:"position:relative;margin:0 auto;color:white;max-width:80vw;height:100%;pointer-events:none"}),Qv=W("span",{target:"e1kx27c3"})("background:rgba(0, 0, 0, 0.5);display:inline-block;backdrop-filter:blur(0.5rem);",jt,";padding:0.5rem 2rem;margin:0 0 1rem 0;"),jge=W(Qv,{target:"e1kx27c2"})("color:",$e.colors.text.active,";margin-top:2rem;font-size:4.5rem;"),Pge=W(Qv,{target:"e1kx27c1"})({name:"tic7nk",styles:"font-size:3.5rem"}),Vge=W(Qv,{target:"e1kx27c0"})({name:"a07gmx",styles:"font-size:2rem"});function Dge(){var h;Vl(!1),Ll(!1);const e=Oi(),{width:t,height:n}=mf(),[r,i]=x.useState(0),s=_f(),[l,c]=x.useState([]),{register:d}=dr({onBackspace:()=>e("menu/")});x.useEffect(()=>s.data&&c(Hpe(s.data)),[s.data]);const u=()=>s.data&&i(y=>(y+1)%s.data.length);if(!l.length||!t||!n)return null;const p=B0("game/",{song:l[r].id,playlist:"All"});return g.jsxs(Bl,{children:[g.jsx(gs,{children:g.jsx("title",{children:"Jukebox | AllKaraoke.Party - Free Online Karaoke Party Game"})}),g.jsx(u2,{children:g.jsxs(aL,{width:t,height:n,songData:l[r],"data-test":"jukebox-container","data-song":l[r].id,background:g.jsx(Wv,{autoplay:!0,controls:!0,width:t,height:n,volume:(h=l[r])==null?void 0:h.volume,video:l[r].video,startAt:l[r].videoGap,onStateChange:y=>{y===qn.ENDED&&u()}}),children:[g.jsx(Nge,{...d("skip-button",u),children:"Skip"}),g.jsx(ki,{to:p,children:g.jsx(Bge,{...d("sing-button",()=>e(p),void 0,!0),children:"Sing this song"})})]})})]})}const Bge=W(Ba,{target:"e1573hk21"})({name:"9gmhgo",styles:"bottom:7rem;right:2rem;width:50rem;position:absolute;font-size:1.9vw"}),Nge=W(Ba,{target:"e1573hk20"})({name:"1qbm012",styles:"bottom:15rem;right:2rem;width:30rem;position:absolute;font-size:1.9vw"}),Lge=W("svg",{target:"enucs170"})({name:"w3i2x3",styles:"--curve:cubic-bezier(0.65, 0, 0.45, 1);--green:#4caf50;margin-right:1rem;width:3.5rem;height:3.5rem;border-radius:50%;display:block;stroke-width:2;stroke:#fff;stroke-miterlimit:10;box-shadow:inset 0px 0px 0px var(--green);animation:fill 0.4s ease-in-out 0.4s forwards,scale 0.3s ease-in-out 0.9s both;.checkmark__circle{stroke-dasharray:166;stroke-dashoffset:166;stroke-width:2;stroke-miterlimit:10;stroke:var(--green);fill:none;animation:stroke 0.6s var(--curve) forwards;}.checkmark__check{transform-origin:50% 50%;stroke-dasharray:48;stroke-dashoffset:48;animation:stroke 0.3s var(--curve) 0.8s forwards;}@keyframes stroke{100%{stroke-dashoffset:0;}}@keyframes scale{0%,100%{transform:none;}50%{transform:scale3d(1.1, 1.1, 1);}}@keyframes fill{100%{box-shadow:inset 0px 0px 0px 3rem var(--green);}}"}),Fge=e=>g.jsx(Lge,{...e,children:g.jsxs("svg",{className:"checkmark",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 52 52",children:[g.jsx("circle",{className:"checkmark__circle",cx:"26",cy:"26",r:"25",fill:"none"}),g.jsx("path",{className:"checkmark__check",fill:"none",d:"M14.1 27.2l7.1 7.2 16.7-16.8"})]})}),zy=Wt([g.jsx("path",{fillRule:"evenodd",d:"M16.67 13.13C18.04 14.06 19 15.32 19 17v3h4v-3c0-2.18-3.57-3.47-6.33-3.87"},"0"),g.jsx("circle",{cx:"9",cy:"8",r:"4",fillRule:"evenodd"},"1"),g.jsx("path",{fillRule:"evenodd",d:"M15 12c2.21 0 4-1.79 4-4s-1.79-4-4-4c-.47 0-.91.1-1.33.24C14.5 5.27 15 6.58 15 8s-.5 2.73-1.33 3.76c.42.14.86.24 1.33.24m-6 1c-2.67 0-8 1.34-8 4v3h16v-3c0-2.66-5.33-4-8-4"},"2")],"PeopleAlt"),DO=Wt(g.jsx("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4m0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4"}),"Person"),w_=Wt(g.jsx("path",{d:"M15.5 1h-8C6.12 1 5 2.12 5 3.5v17C5 21.88 6.12 23 7.5 23h8c1.38 0 2.5-1.12 2.5-2.5v-17C18 2.12 16.88 1 15.5 1m-4 21c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5m4.5-4H7V4h9z"}),"PhoneIphone"),zge=Wt([g.jsx("circle",{cx:"12",cy:"12",r:"3.2"},"0"),g.jsx("path",{d:"M9 2 7.17 4H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2h-3.17L15 2zm3 15c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5"},"1")],"PhotoCamera"),$ge=Wt(g.jsx("path",{d:"M3 11h8V3H3zm2-6h4v4H5zM3 21h8v-8H3zm2-6h4v4H5zm8-12v8h8V3zm6 6h-4V5h4zm0 10h2v2h-2zm-6-6h2v2h-2zm2 2h2v2h-2zm-2 2h2v2h-2zm2 2h2v2h-2zm2-2h2v2h-2zm0-4h2v2h-2zm2 2h2v2h-2z"}),"QrCode");function Uge({onPreferenceSelected:e,previouslySelected:t,onBack:n,skipText:r}){const[i]=St(ai),{register:s}=dr({onBackspace:n});return g.jsxs(g.Fragment,{children:[g.jsxs(oy,{...s("remote-mics",()=>e("remoteMics"),void 0,t==="remoteMics"),children:[g.jsxs(Kh,{children:[g.jsx(wN,{}),g.jsx(w_,{})]}),g.jsxs("div",{children:[i?"Connect other phones":"Use Smartphones",g.jsxs(Yh,{children:["Use"," ",g.jsxs("strong",{children:[g.jsx(zge,{}),"Camera app"]})," ","to scan a"," ",g.jsxs("strong",{children:[g.jsx($ge,{})," QR code"]})," ","that will open Remote Mic website - no need to download an app!"]})]}),g.jsx(i2,{children:"Recommended"}),g.jsxs(ay,{children:[g.jsx(zy,{}),g.jsx("strong",{children:"1-4"})]})]}),g.jsxs(oy,{...s("built-in",()=>e("built-in"),void 0,t==="built-in"),children:[g.jsxs(Kh,{children:[g.jsx(DO,{}),i?g.jsx(w_,{}):g.jsx(xN,{})]}),g.jsxs("div",{children:["This ",i?"device's":"computer's"," microphone",g.jsxs(Yh,{children:["Great to ",g.jsx("strong",{children:"test"})," the app, ",g.jsx("strong",{children:"sing alone"})," or don't care about the rivalry at the party"]})]}),g.jsxs(ay,{children:[g.jsx(DO,{}),g.jsx("strong",{children:"1"})]})]}),g.jsx("hr",{}),!i&&g.jsxs(oy,{...s("multiple-mics",()=>e("multiple-mics"),void 0,t==="multiple-mics"),children:[g.jsxs(Kh,{children:[g.jsx(Dx,{}),g.jsx(_N,{})]}),g.jsxs("div",{children:["Multiple microphones",g.jsxs(Yh,{children:["Use either ",g.jsx("strong",{children:"SingStar"})," or ",g.jsx("strong",{children:"multiple microphones"})," connected to the device for each player"]})]}),g.jsxs(ay,{children:[g.jsx(zy,{}),g.jsx("strong",{children:"2"})]})]}),g.jsxs(oy,{...s("advanced",()=>e("advanced"),void 0,t==="advanced"),children:[g.jsxs(Kh,{children:[g.jsx(Dx,{}),g.jsx(w_,{})]}),g.jsxs("div",{children:["Advanced (manual) setup",g.jsx(Yh,{children:"Assign the specific device to a player manually, e.g. if you don't have regular SingStar microphones."})]}),g.jsxs(ay,{children:[g.jsx(zy,{}),g.jsx("strong",{children:"1-4"})]})]}),g.jsx("hr",{}),g.jsx(ki,{to:"menu/",onClick:l=>{l==null||l.preventDefault(),e("skip")},children:g.jsx(mt,{...s("skip",()=>e("skip"),void 0,t==="skip"),children:r||"Skip"})})]})}const ay=W("div",{target:"eb2r3ii3"})(jt,";position:absolute;inset:auto 0.5rem 0.5rem auto;svg{font-size:0.9em;}gap:0.5rem;display:flex;align-items:center;justify-content:flex-end;"),Yh=W("div",{target:"eb2r3ii2"})({name:"4vipg7",styles:"padding:0 3rem 0 6rem;font-size:1.6rem;max-height:0;overflow:clip;transition:300ms;svg{font-size:1.4rem;}opacity:0"}),Kh=W("div",{target:"eb2r3ii1"})("position:relative;margin:0rem 0.6rem 0 2.5rem;transition:300ms;svg{transition:300ms;width:3.6rem;height:3.6rem;color:",$e.colors.players[1].text,";}svg:first-of-type{top:0.6rem;left:1.25rem;position:absolute;color:",$e.colors.players[0].text,";z-index:100;transform:scaleX(-1);}"),oy=W(mt,{target:"eb2r3ii0"})("position:relative;display:flex;align-items:center;&:hover,&[data-focused='true']{height:16.5rem;background:black;",Wd,";",Yh,"{padding-top:1.6rem;max-height:10rem;opacity:1;opacity:1;}",Kh,"{transform:scale(1.75);}}");function lL(){var e,t;return((t=(e=navigator==null?void 0:navigator.userAgent)==null?void 0:e.includes)==null?void 0:t.call(e,"Win"))??!1}const d2=(e,t,n=!0,r=1e3/Tc.get())=>{x.useEffect(()=>{if(!n)return;const i=setInterval(()=>{const s=ur.getPlayerVolume(e)??0,l=ur.getPlayerFrequency(e)??0;t([s,Array.isArray(l)?l[0]:l])},r);return()=>{clearInterval(i)}},[e,r,t,n])},Hge=(e,t=1e3/Tc.get(),n)=>{const[r,i]=x.useState([0,0]);return d2(e,i,!0,t),x.useEffect(()=>{n&&n(r)},[r,n]),r},cL=e=>x.useMemo(()=>{if(!$e.colors.players[e])return"0, 0, 0";const t=ke($e.colors.players[e].text).toRgb();return`${t.r}, ${t.g}, ${t.b}`},[e]),uL=W("div",{target:"eq7cjwi0"})({name:"5jivz6",styles:"height:100%;width:100%;position:absolute;right:0;top:0;background-repeat:repeat-y;transform-origin:right;z-index:1;pointer-events:none"}),qge=x.forwardRef(({volume:e,playerNumber:t,...n},r)=>{const i=`${Math.min(1,e*20)}`,s=cL(t);return nt.getPlayer(t)?g.jsx(uL,{...n,style:{transform:`scaleX(${i})`,background:`linear-gradient(270deg, rgba(${s}, 1) 0%, rgba(${s}, 0) 100%)`},ref:r}):null}),f2=({playerNumber:e,...t})=>{const[n,r]=x.useState(),i=x.useCallback(([l])=>{if(n){const c=`${Math.min(1,l*20)}`;n.style.transform=`scaleX(${c})`}},[n]);d2(e,i);const s=cL(e);return g.jsx(uL,{...t,ref:r,style:{background:`linear-gradient(270deg, rgba(${s}, 1) 0%, rgba(${s}, 0) 100%)`}})};function Gge(e,t){const n=Object.keys(t),[r,i,s]=hs([me.playerInputChanged,me.inputListChanged],()=>{var u;const d=(u=nt.getPlayer(e))==null?void 0:u.input;return d?[d,ja.getInputForPlayerSelected(d),ja.isPlayerInputInitialised(d)]:[null,null,!0]});x.useEffect(()=>{var d;if(s&&i===null){const u=n[0],p=t[u].getDefault();p&&((d=nt.getPlayer(e))==null||d.changeInput(n[0],p.channel,p.deviceId))}});const l=d=>{var h;const u=Pc(n,(r==null?void 0:r.source)??n[0]),p=d!==void 0?t[u].list[d]:t[u].getDefault();(h=nt.getPlayer(e))==null||h.changeInput(u,p==null?void 0:p.channel,p==null?void 0:p.deviceId)},c=()=>{var h;if(!r)return;const d=t[r.source].list,u=i?d.findIndex(y=>y.id===i.id):0,p=ag(d,u);if(p===0)l(0);else{const y=d[p];(h=nt.getPlayer(e))==null||h.changeInput(r.source,y==null?void 0:y.channel,y==null?void 0:y.deviceId)}};return[(r==null?void 0:r.source)??null,l,i,c]}const dL=e=>{const t=e.player,[n,r,i,s]=Gge(t.number,e.inputs);return g.jsxs(g.Fragment,{children:[e.blockSourceChange?g.jsxs(Qge,{children:[g.jsxs("h3",{className:"ph-no-capture",children:[t.getName()," Input"]}),g.jsx("h4",{children:"(click to change)"})]}):g.jsx(Wge,{...e.readonly?{}:e.register(`player-${t.number}-source`,()=>r()),label:g.jsxs("span",{className:"ph-no-capture",children:[t.getName()," Source"]}),value:n,disabled:e.readonly}),g.jsx(Kge,{...e.readonly?{}:e.register(`player-${t.number}-input`,s),label:"Input",disabled:e.readonly,value:i==null?void 0:i.label,children:g.jsx(Yge,{playerNumber:t.number})})]})},Yge=W(f2,{target:"e6monco3"})({name:"1vx2200",styles:"opacity:0.75;width:50%;height:calc(100% - 0.5rem);margin:0.25rem"}),Kge=W(Ds,{target:"e6monco2"})({name:"bjn8wh",styles:"position:relative"}),Wge=W(Ds,{target:"e6monco1"})({name:"bigtx2",styles:"background:none"}),Qge=W("div",{target:"e6monco0"})({name:"1laz9o6",styles:"display:flex;justify-content:space-between;align-items:flex-end"});function Xv(e=!1,t){const n=hs(me.inputListChanged,()=>{const r={...ja.getInputList()};if(t)return{[t]:r[t]};for(const i in r)r[i].list.length===0&&delete r[i];return r});return x.useEffect(()=>{e&&ja.loadMics()},[e]),n}function lg(e,t=v0){x.useEffect(()=>{nt.setMinPlayerNumber(e);const n=nt.getPlayers();if(n.length>t)for(let r=n.length;r>t;r--)nt.removePlayer(n[r-1].number);else if(n.length<e){const r=nt.getPlayers().map(s=>s.number),i=Array.from(Array(v0).keys()).filter(s=>!r.includes(s));console.log(i,r);for(let s=n.length;s<e;s++)nt.addPlayer(i.shift())}},[])}function fL(){const e=x.useRef(0);pi(me.remoteMicConnected,({id:t})=>{var r;if(console.log("useRemoteMicAutoselect",t),nt.getInputs().some(i=>i.deviceId===t)){console.log(`Input ${t} already assigned to player`);return}const n=nt.getPlayer(e.current);n?n.changeInput(Mo.inputName,0,t):(r=nt.addPlayer(e.current))==null||r.changeInput(Mo.inputName,0,t),e.current=(e.current+1)%v0})}function Xge(e){lg(2);const t=Xv(!0),n=XE();x.useEffect(()=>{e.onSetupComplete(n==="accepted")},[n]),fL();const{register:r}=dr({onBackspace:e.onBack}),s=hs(me.playerInputChanged,()=>nt.getInputs()).filter(c=>c.source===xo.inputName),l=hs([me.inputListChanged,me.playerInputChanged,me.playerRemoved],()=>nt.getPlayers());return g.jsxs(g.Fragment,{children:[g.jsxs(sg,{fallback:g.jsx("h2",{children:"Please allow access to the microphone so we can show them."}),children:[g.jsx(WE,{}),l.map((c,d)=>g.jsx(dL,{inputs:t,player:c,register:r,readonly:d>1},c.number)),g.jsx("hr",{}),s.length>1&&a2()&&lL()&&g.jsxs("h3",{children:[g.jsx("strong",{children:"Chrome"})," is known for not handling SingStar mics well. If you notice any problems, try using an alternative browser (eg. ",g.jsx("strong",{children:"MS Edge"})," or ",g.jsx("strong",{children:"Firefox"}),")"]})]}),g.jsx(mt,{...r("back-button",e.onBack),children:"Change Input Type"}),g.jsx(mt,{...r("save-button",e.onSave),children:e.closeButtonText})]})}const Jge=Wt(g.jsx("path",{d:"M9 16.17 4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"}),"Check"),hL=Wt(g.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m1 15h-2v-2h2zm0-4h-2V7h2z"}),"Error");function h2({names:e}){return g.jsx(Zge,{children:nt.getPlayers().map(t=>g.jsxs(eme,{"data-test":`mic-check-p${t.number}`,children:[g.jsx(f2,{playerNumber:t.number}),g.jsx("span",{className:"ph-no-capture",children:(e==null?void 0:e[t.number])??t.getName()})]},t.number))})}const Zge=W("div",{target:"e1e3gceh1"})({name:"e7x0p4",styles:"display:flex;gap:1.25rem;div{flex:1;}"}),eme=W("div",{target:"e1e3gceh0"})({name:"186bnmk",styles:"position:relative;border:0.1rem solid white;padding:1rem 3rem;background:black;text-align:center;gap:1.25rem;font-size:2.3rem;color:white"});function tme(e){const[t,n]=x.useState(null),r=x.useRef([]),i=x.useRef(0),s=x.useCallback(([l])=>{if(r.current.push(l),r.current.length>35){const d=r.current.sort()[Math.floor(r.current.length/2)]>0;d||i.current>7?n(d):i.current++,r.current.length=0}},[e]);return d2(0,s,t!==!0),x.useEffect(()=>{r.current.length=0,i.current=0,n(null)},[e]),t}function nme(e){lg(1,1);const{register:t}=dr({onBackspace:e.onBack}),{Microphone:n}=Xv(!0,"Microphone"),r=hs([me.playerInputChanged,me.inputListChanged],()=>{var p;const d=nt.getInputs().find(h=>h.source==="Microphone"),u=ja.getInputList().Microphone.list;return d?((p=u.find(h=>h.id===qc(d)))==null?void 0:p.label)??"":""}),i=d=>{nt.getPlayers().forEach(u=>u.changeInput(xo.inputName,d.channel,d.deviceId))},s=()=>{if(r===""){const d=n.getDefault();d&&i(d)}};x.useEffect(s,[]),pi([me.inputListChanged,me.playerRemoved],s);const l=()=>{const d=n.list.findIndex(u=>u.label===r);if(d>-1){const u=n.list[ag(n.list,d)];i(u)}},c=tme(r);return x.useEffect(()=>{e.onSetupComplete(!!r&&!!c)},[r,c]),g.jsxs(g.Fragment,{children:[g.jsxs(sg,{fallback:g.jsx("h2",{children:"Please allow access to the microphone so the default one can be selected."}),children:[!r&&g.jsx("h3",{children:"The default device is being selected."}),r&&g.jsxs(g.Fragment,{children:[g.jsxs(rme,{children:[g.jsx("h3",{children:"You'll sing using"}),g.jsx("h4",{children:"(click to change)"})]}),g.jsx(Ds,{...t("selected-mic",l),label:"Mic",value:r}),g.jsxs(ime,{children:[c===!0&&g.jsxs(g.Fragment,{children:[g.jsx("h3",{children:"Microphone is audible"}),g.jsx(E_,{children:g.jsx(ame,{})})]}),c===!1&&g.jsxs(g.Fragment,{children:[g.jsx("h3",{children:"Microphone is not audible"}),g.jsx(E_,{children:g.jsx(sme,{})})]}),c===null&&g.jsxs(g.Fragment,{children:[g.jsx("h3",{children:"Make some noise to the microphone"}),g.jsx(E_,{children:g.jsx(og,{size:"1em"})})]})]}),c===!1&&g.jsx("h4",{children:"Make some noise to the microphone. If that doesn't work, try using another microphone."})]}),g.jsx(h2,{}),c===!0&&g.jsxs("h4",{children:["Built-in microphones can pick up music from the game. For more accurate scores, try using your"," ",g.jsx("button",{onClick:()=>e.changePreference("remoteMics"),children:"smartphone as a microphone"}),"."]})]}),g.jsx(mt,{...t("back-button",e.onBack),children:"Change Input Type"}),g.jsx(mt,{...t("save-button",e.onSave,void 0,!0,{disabled:!r}),disabled:!r,children:e.closeButtonText})]})}const rme=W("div",{target:"e19x30ho4"})({name:"1laz9o6",styles:"display:flex;justify-content:space-between;align-items:flex-end"}),ime=W("div",{target:"e19x30ho3"})({name:"19mh0x6",styles:"display:flex;align-items:center;justify-content:flex-end"}),E_=W("div",{target:"e19x30ho2"})({name:"1wxh51d",styles:"width:4rem;height:3rem;display:flex;align-items:center;justify-content:flex-end"}),sme=W(hL,{target:"e19x30ho1"})({name:"72zlrs",styles:"&&{width:2em;height:2em;}color:red"}),ame=W(Jge,{target:"e19x30ho0"})({name:"17t2lqr",styles:"&&{width:2em;height:2em;}color:white"});function ome(e){lg(2);const t=Xv(!0,"Microphone"),n=XE();x.useEffect(()=>{e.onSetupComplete(n==="accepted")},[n]),x.useEffect(()=>{nt.getPlayers().forEach(s=>{s.input.source!=="Microphone"&&s.changeInput("Microphone",0)})},[]);const{register:r}=dr({onBackspace:e.onBack}),i=hs([me.inputListChanged,me.playerInputChanged,me.playerRemoved],()=>nt.getPlayers());return g.jsxs(g.Fragment,{children:[g.jsxs(sg,{fallback:g.jsx("h2",{children:"Please allow access to the microphone so we can show them."}),children:[i.map((s,l)=>g.jsx(dL,{inputs:t,player:s,register:r,readonly:l>1,blockSourceChange:!0},s.number)),g.jsx("hr",{})]}),g.jsx(mt,{...r("back-button",e.onBack),children:"Change Input Type"}),g.jsx(mt,{...r("save-button",e.onSave),children:e.closeButtonText})]})}function lme(e){const{register:t}=dr({onBackspace:e.onBack});return g.jsxs(g.Fragment,{children:[g.jsx(mt,{...t("singstar-mics",()=>e.changePreference("singstar-mics")),children:"SingStar microphones"}),g.jsx(mt,{...t("different-mics-button",()=>e.changePreference("different-mics")),children:"Multiple different microphones"}),g.jsx("hr",{}),g.jsx(mt,{...t("back-button",e.onBack),children:"Change Input Type"})]})}function cme(e){var s,l;lg(2);const{register:t}=dr({onBackspace:e.onBack});fL();const n=hs([me.inputListChanged,me.playerInputChanged,me.playerRemoved],()=>nt.getInputs().map(c=>c.source==="Remote Microphone"?c:null).map(c=>c?ja.getInputForPlayerSelected(c):null)),r=()=>{e.onSave()},i=!!((s=n[0])!=null&&s.label)&&!!((l=n[1])!=null&&l.label);return x.useEffect(()=>{e.onSetupComplete(i)},[i]),g.jsxs(g.Fragment,{children:[g.jsx(WE,{}),g.jsx("h4",{children:"You can connect multiple phones in advance."}),g.jsx("h4",{children:"You will be able to connect phones later."}),g.jsx(h2,{}),g.jsx(mt,{...t("back-button",e.onBack),children:"Change Input Type"}),g.jsx(mt,{...t("save-button",r,void 0,!0),children:e.closeButtonText})]})}function ume(e){lg(2);const{register:t}=dr({onBackspace:e.onBack}),{Microphone:n}=Xv(!0,"Microphone"),[r,i]=x.useState(!1),s=hs([me.playerInputChanged,me.inputListChanged],()=>{const u=nt.getInputs(),p=[...new Set(u.map(v=>v.deviceId))].length===1,h=!u.find(v=>v.source!=="Microphone"),y=!u.find(v=>{var b;return((b=ja.getInputForPlayerSelected(v))==null?void 0:b.preferred)===void 0});return p&&h&&y});x.useEffect(()=>(s&&ur.startMonitoring(),()=>{ur.stopMonitoring()}),[s]);const l=()=>{e.onSave()},[c,d]=x.useState(!1);return pi(me.inputListChanged,u=>{const p=n.list.filter(h=>h.preferred!==void 0);p.length===2&&p[0].deviceId===p[1].deviceId&&p.forEach(h=>{var y;(y=nt.getPlayer(h.preferred))==null||y.changeInput(xo.inputName,h.channel,h.deviceId)}),u||d(!0)}),x.useEffect(()=>{e.onSetupComplete(s)},[s]),x.useEffect(()=>{if(s)i(!1);else{const u=setTimeout(()=>i(!0),2500);return()=>clearTimeout(u)}},[s]),g.jsxs(g.Fragment,{children:[g.jsxs(sg,{fallback:g.jsx("h2",{children:"Please allow access to the microphone so we can find SingStar ones."}),children:[!s&&g.jsxs(g.Fragment,{children:[g.jsxs("h3",{children:[g.jsx(og,{size:"0.85em"})," Connect your SingStar microphones."]}),g.jsx("h4",{"data-test":"setup-not-completed",children:"It can take a couple of seconds to detect after you connect them."}),c&&g.jsx("h4",{children:g.jsxs("h4",{"data-test":"list-change-info",children:["Available microphones list has changed, but no SingStar mics were found. Try"," ",g.jsx("button",{onClick:()=>e.changePreference("advanced"),children:"Advanced"})," setup."]})}),r&&g.jsxs(g.Fragment,{children:[!c&&g.jsxs(BO,{"data-test":"advanced-tip",children:["If they don't get detected, try"," ",g.jsx("button",{onClick:()=>e.changePreference("advanced"),children:"Advanced"})," section in the previous menu."]}),a2()&&lL()&&g.jsxs(BO,{children:[g.jsx("strong",{children:"Chrome"})," is known for not handling SingStar mics well. If you notice any problems, try using an alternative browser (eg. ",g.jsx("strong",{children:"MS Edge"})," or ",g.jsx("strong",{children:"Firefox"}),")"]})]})]}),s&&g.jsxs(g.Fragment,{children:[g.jsxs("h2",{"data-test":"setup-completed",children:[g.jsx("strong",{children:"SingStar"})," microphone connected!"]}),g.jsx(h2,{names:["Blue","Red"]})]})]}),g.jsx(mt,{...t("back-button",e.onBack),children:"Change Input Type"}),g.jsx(mt,{...t("save-button",l,void 0,!0,{disabled:!s}),"data-test":"save-button",children:e.closeButtonText})]})}const BO=W("h4",{target:"ejfctyg0"})({name:"3v8j4h",styles:"background:darkred;padding:1rem"});function dme(e){return x.useEffect(()=>{e.onSave()},[]),null}const pL="Previously selected input type",fme=at.local.getItem(pL);function p2({onFinish:e,closeButtonText:t,playerNames:n,onBack:r,skipText:i,smooth:s=!0}){const[l,c]=St(cV),[d,u]=x.useState(l==="skip"?null:l),[p,h]=x.useState(!1);x.useEffect(()=>{const _=ur.monitoringStarted();return ur.startMonitoring(),()=>{!_&&ur.stopMonitoring()}},[]);const y=(..._)=>{s?jp(()=>{yf.flushSync(()=>{u(..._)})}):u(..._)},v=_=>()=>{c(_==="skip"?l??"skip":_),_&&(at.local.setItem(pL,_),er.capture("sourcePreferenceSet",{source:_})),e==null||e(_)},b=()=>{jp(()=>{u(null),h(!1)})};return g.jsxs(g.Fragment,{children:[g.jsx(Pt.Header,{children:p?g.jsxs(g.Fragment,{children:[g.jsx(Fge,{})," Setup completed!"]}):"How do you want to sing?"}),(d===null||d==="skip")&&g.jsx(Uge,{onPreferenceSelected:y,previouslySelected:fme,onBack:r,skipText:i}),d==="remoteMics"&&g.jsx(cme,{onSetupComplete:h,onBack:b,onSave:v("remoteMics"),closeButtonText:t,changePreference:u}),d==="multiple-mics"&&g.jsx(lme,{onSetupComplete:h,onBack:b,closeButtonText:t,changePreference:u}),d==="singstar-mics"&&g.jsx(ume,{onSetupComplete:h,onBack:b,onSave:v("singstar-mics"),closeButtonText:t,changePreference:u}),d==="different-mics"&&g.jsx(ome,{onSetupComplete:h,onBack:b,onSave:v("singstar-mics"),closeButtonText:t,changePreference:u}),d==="built-in"&&g.jsx(nme,{onSetupComplete:h,onBack:b,onSave:v("built-in"),closeButtonText:t,changePreference:u}),d==="advanced"&&g.jsx(Xge,{onSave:v("advanced"),onSetupComplete:h,onBack:b,closeButtonText:t,changePreference:u}),d==="skip"&&g.jsx(dme,{onSetupComplete:h,onBack:b,onSave:v("skip"),closeButtonText:t,changePreference:u})]})}function hme(){const e=Oi();return g.jsxs(Do,{children:[g.jsx(gs,{children:g.jsx("title",{children:"Select Input | AllKaraoke.Party - Free Online Karaoke Party Game"})}),g.jsx(p2,{onFinish:()=>e("menu/"),closeButtonText:"Go to main menu"})]})}const pme=({error:e,resetError:t})=>g.jsxs(Do,{supportedBrowsers:!0,children:[g.jsxs("h1",{children:[g.jsx(bf,{fontSize:"large"})," An error occurred :("]}),"message"in e?g.jsxs(g.Fragment,{children:[g.jsx("h3",{children:"The game crashed with following error"}),g.jsx(gme,{children:e.message})]}):g.jsx("h3",{children:"The game crashed"}),g.jsxs("h3",{children:["Help fix it by reporting what exactly has happened at"," ",g.jsx("a",{href:"https://github.com/Asvarox/allkaraoke",target:"_blank",rel:"noreferrer",children:"GitHub"})," ","or"," ",g.jsx("a",{href:"https://www.facebook.com/allkaraoke.party",target:"_blank",rel:"noreferrer",children:"Facebook"})]}),g.jsx(mt,{onClick:t,children:"Reset Error"}),g.jsx("h4",{children:"If that doesn't help"}),g.jsx(mt,{onClick:()=>{var n;return global.location.href=(n=global.location)==null?void 0:n.origin},children:"Reload the game"}),g.jsx("h4",{children:"If that doesn't help"}),g.jsx(mt,{onClick:()=>{var n;global.confirm("Are you sure? It will delete all custom songs and scores. Before doing that, try opening the game in an private window or another browser to make sure it will actually help")&&(at.session.clear(),at.local.clear(),sp.clear(),global.location.href=(n=global.location)==null?void 0:n.origin)},children:"Clear all data"})]}),gme=W("span",{target:"e10ztnls0"})({name:"1jmtlcm",styles:"color:white;font-family:monospace"});function mme(){Ll(!1);const e=_f();return x.useEffect(()=>{if(e.data){const t={};(async()=>{for(const n of e.data){if(n.realBpm)continue;const r=[`lookup=song:${encodeURIComponent(n.title)}+artist:${encodeURIComponent(n.artist)}`,"type=both","api_key=undefined"].join("&"),s=await(await fetch(`https://api.getsongbpm.com/search/?${r}`)).json();t[n.id]=Array.isArray(s.search)&&s.search[0]||null}console.log(t)})()}},[e.data]),g.jsx(g.Fragment,{children:"Copy resulting object to `scripts/scraped-bpm-data.json` file and run fillMetadata script"})}function yme(){const e=Oi(),t=()=>e("menu/");return g.jsxs(g.Fragment,{children:[g.jsx(gs,{children:g.jsx("title",{children:"Select Languages | AllKaraoke.Party - Free Online Karaoke Party Game"})}),g.jsx(u2,{children:g.jsx(DN,{onClose:t,closeText:"Return to Main Menu"})})]})}function gL(){const[e]=St(mw);x.useEffect(()=>{try{e&&document.body.requestFullscreen().catch(console.info)}catch{}},[])}let T_=0;function mL(){x.useEffect(()=>(document.body.classList.add("blockOverflow"),document.documentElement.classList.add("blockOverflow"),T_++,()=>{T_--,T_===0&&(document.body.classList.remove("blockOverflow"),document.documentElement.classList.remove("blockOverflow"))}),[])}const vme=Wt(g.jsx("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2M7.5 18c-.83 0-1.5-.67-1.5-1.5S6.67 15 7.5 15s1.5.67 1.5 1.5S8.33 18 7.5 18m0-9C6.67 9 6 8.33 6 7.5S6.67 6 7.5 6 9 6.67 9 7.5 8.33 9 7.5 9m4.5 4.5c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5m4.5 4.5c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5m0-9c-.83 0-1.5-.67-1.5-1.5S15.67 6 16.5 6s1.5.67 1.5 1.5S17.33 9 16.5 9"}),"Casino");function Ame({setFilters:e,filters:t,keyboardControl:n,visible:r,setVisible:i}){const s=x.useRef(null),[l,c]=x.useState(!1),d=y=>{e(v=>({...v,search:y}))};ri("down",()=>{var y;(y=s.current)==null||y.blur()},{enabled:l,enableOnTags:["INPUT"]});const p=y=>{y.stopPropagation(),y.preventDefault(),d(y.key)};ri(vx,y=>{p(y),i(!0)},{enabled:!t.search&&n});const h=x.useCallback(y=>{n&&d(y)},[n]);return pi(me.remoteSongSearch,h),ri(vx,y=>{var v;p(y),(v=s.current)==null||v.focus()},{enabled:!l&&n},[t.search]),ri("Backspace",y=>{var v;(v=s.current)==null||v.focus()},{enabled:!l&&n},[t.search]),x.useEffect(()=>{l||i(!!t.search)},[l,t.search,i]),!t.search&&!r?null:g.jsx(bme,{"data-test":"song-list-search",children:g.jsx(_me,{large:!0,children:g.jsx("form",{"data-test":"filters-search-form",onSubmit:y=>{var v;y.preventDefault(),(v=s.current)==null||v.blur()},children:g.jsx(du,{onFocus:()=>c(!0),onBlur:()=>c(!1),onKeyDown:y=>{var v;y.key==="Backspace"&&((v=t.search)==null?void 0:v.length)===0&&i(!1)},focused:l,autoFocus:!0,label:"Search",value:t.search??"",onChange:d,ref:s,"data-test":"filters-search"})})})})}const bme=W("div",{target:"ektgxsz1"})({name:"t46wvs",styles:"background:rgba(0, 0, 0, 0.7);padding:2rem;font-size:3rem;box-sizing:border-box;display:flex;flex-direction:row;gap:2rem;position:fixed;z-index:200;top:4.5rem;left:30rem;right:30rem"}),_me=W("div",{target:"ektgxsz0"})("flex:",e=>e.large?1.5:1,";");function Sme({onRandom:e,setFilters:t,filters:n,keyboardControl:r}){const[i,s]=x.useState(!1),l=()=>{t(c=>({...c,search:""}))};return g.jsxs(g.Fragment,{children:[g.jsxs(xme,{children:[g.jsx(Zd,{title:"Search",place:"left",children:g.jsx(NO,{onClick:()=>i?l():s(!0),"data-test":"search-song-button",children:g.jsx(ZE,{})})}),g.jsx(Zd,{title:"Pick random",place:"left",children:g.jsx(NO,{onClick:e,"data-test":"random-song-button",children:g.jsx(vme,{})})})]}),g.jsx(Ame,{setFilters:t,filters:n,visible:i,setVisible:s,keyboardControl:r})]})}const NO=W(Ba,{target:"eie1eis1"})("box-shadow:inset 0 0 2px 2px ",$e.colors.text.active,";background:black;width:7.5rem;height:7.5rem;border-radius:50%;display:flex;align-items:center;justify-content:center;svg{width:4.5rem;height:4.5rem;}"),xme=W("div",{target:"eie1eis0"})({name:"1x0sh4s",styles:"pointer-events:none;position:fixed;display:flex;flex-direction:column;align-items:center;justify-content:center;bottom:2.5rem;right:2.5rem;z-index:100;gap:2rem"});function yL({videoId:e,...t}){return g.jsx(Cme,{src:`https://img.youtube.com/vi/${e}/default.jpg`,alt:`Thumbnail image for YouTube video ${e}`,...t})}function wme({videoId:e,...t}){const n=Gte(e)??e,[r,i]=x.useState(!0);x.useLayoutEffect(()=>{i(l=>!l)},[e]);const[s]=St(Ps);return s==="low"?null:g.jsxs(Eme,{...t,children:[g.jsx(LO,{videoId:r?e:n,visible:r}),g.jsx(LO,{videoId:r?n:e,visible:!r}),g.jsx(Tme,{videoId:n})]})}const Eme=W("div",{target:"e1lv5ws3"})({name:"k44s62",styles:"position:relative;overflow:hidden;background:black"}),Tme=W(yL,{target:"e1lv5ws2"})({name:"6dhm9o",styles:"visibility:hidden"}),LO=W(yL,{target:"e1lv5ws1"})("position:absolute;transition:opacity 300ms;opacity:",e=>e.visible?1:0,";"),Cme=W("img",{target:"e1lv5ws0"})({name:"4uwt2b",styles:"width:100%;height:100%;object-fit:cover"});function kme(e,t,n="mousedown",r={}){$te(n,i=>{const s=i.target;if(!s||!s.isConnected)return;(Array.isArray(e)?e.filter(c=>!!c.current).every(c=>c.current&&!c.current.contains(s)):e.current&&!e.current.contains(s))&&t(i)},void 0,r)}function Mme({active:e,closePlaylist:t,playlists:n,selectedPlaylist:r,setSelectedPlaylist:i}){const{register:s,focused:l,focusElement:c}=dr({enabled:e,additionalHelp:{vertical:void 0,"horizontal-vertical":null}}),d=x.useRef(null);return kme(d,()=>{t()}),gf({left:()=>t("left"),right:()=>t("right")},e),x.useEffect(()=>{c(`playlist-${r}`)},[r]),x.useEffect(()=>{if(l){const u=n.find(p=>`playlist-${p.name}`===l);u&&i(u.name)}},[l,n]),g.jsx(Rme,{"data-test":"song-list-playlists",active:e,ref:d,children:n.map(({Wrapper:u,...p})=>{const h=g.jsx(Ime,{className:"shadow-none rounded-none","data-selected":`playlist-${p.name}`===l,"data-active":e,...s(`playlist-${p.name}`,()=>c(`playlist-${p.name}`),void 0,p.name===r),children:p.display??p.name},p.name);return u?g.jsx(u,{active:e,focused:`playlist-${p.name}`===l,children:h},p.name):h})})}const Rme=W("div",{target:"emspgv91"})("background:rgba(0, 0, 0, ",e=>e.active?.75:.5,");width:100vh;height:var(--song-sidebar-weight);transform-origin:top right;transform:rotate(-90deg);position:absolute;z-index:200;left:-100vh;top:0;box-sizing:border-box;display:flex;flex-direction:row-reverse;gap:0;h2{",jt,";margin:0;}"),Ime=W(Ba,{target:"emspgv90"})("font-size:2.3rem;justify-self:stretch;flex-grow:1;&[data-focused='false'][data-active='true']{background-color:transparent;}&[data-selected='true']{",Ite,";}&[data-selected='false'][data-active='false']{opacity:0.75;}padding:1.5rem 1rem;"),g2=e=>{const[t,n]=x.useState(null),r=qd(e),i=async()=>{n(await fD(e))};return x.useEffect(()=>{i()},[r]),pi(me.songStatStored,i),t},Ome=e=>async(t,n,r,i)=>{const s=qd(e),l=await fD(e),c=l.scores.map(u=>{if(u.setup.id!==t)return u;const p=u.scores.map(h=>h.name!==r||h.score!==n?h:{name:i.trim(),score:n});return{...u,scores:p}}),d={...l,scores:c};await hD(e,d),me.songScoreUpdated.dispatch(s,d,i.trim())},jme=JSON.parse(`{
  "af": [
    "Persian Dari",
    "Pashto"
  ],
  "al": [
    "Albanian"
  ],
  "dz": [
    "Arabic",
    "Berber"
  ],
  "ad": [
    "Catalan"
  ],
  "ao": [
    "Portuguese"
  ],
  "ag": [
    "English"
  ],
  "ar": [
    "Spanish"
  ],
  "am": [
    "Armenian"
  ],
  "au": [
    "English"
  ],
  "at": [
    "German"
  ],
  "az": [
    "Azerbaijani"
  ],
  "bs": [
    "English"
  ],
  "bh": [
    "Arabic"
  ],
  "bd": [
    "Bengali"
  ],
  "bb": [
    "English"
  ],
  "by": [
    "Belarusian",
    "Russian"
  ],
  "be": [
    "Dutch",
    "French",
    "German"
  ],
  "bz": [
    "English"
  ],
  "dy": [
    "French"
  ],
  "bt": [
    "Dzongkha"
  ],
  "bo": [
    "Spanish",
    "Aymara",
    "Araona",
    "Baure",
    "Bsiro Chiquitano",
    "Canichana",
    "Cavinea",
    "Cayubaba",
    "Chcobo",
    "Chimn",
    "Ese Ejja",
    "Guaran",
    "Guarasuwe",
    "Guarayu",
    "Itonama",
    "Leco",
    "Machajuyai",
    "Machineri",
    "Maropa",
    "Mojeo",
    "Mojeo",
    "Mor",
    "Mosetn",
    "Movima",
    "Pacawara",
    "Puquina",
    "Quechua",
    "Sirion",
    "Tacana",
    "Tapiet",
    "Toromona",
    "Uru-Chipaya",
    "Weenhayek",
    "Yaminawa",
    "Yuki",
    "Yuracar",
    "Zamuco"
  ],
  "ba": [
    "Bosnian",
      "Croatian",
      "Serbian"
  ],
  "bw": [
    "English"
  ],
  "br": [
    "Portuguese"
  ],
  "bn": [
    "Malay"
  ],
  "bg": [
    "Bulgarian"
  ],
  "hv": [
    "French"
  ],
  "bi": [
    "French",
    "Kirundi",
    "English"
  ],
  "kh": [
    "Khmer"
  ],
  "cm": [
    "English",
    "French"
  ],
  "ca": [
    "English",
    "French"
  ],
  "cv": [
    "Portuguese"
  ],
  "cf": [
    "French",
    "Sango"
  ],
  "td": [
    "Arabic",
    "French"
  ],
  "cl": [
    "Spanish"
  ],
  "cn": [
    "Chinese"
  ],
  "cx": [
    "English",
    "Chinese",
    "Malay"
  ],
  "cc": [
    "English",
    "Cocos Malay"
  ],
  "co": [
    "Spanish"
  ],
  "km": [
    "Arabic",
    "Comorian",
    "French"
  ],
  "cd": [
    "French"
  ],
  "cg": [
    "French"
  ],
  "ck": [
    "English",
    "Cook Islands Mori"
  ],
  "cr": [
    "Spanish"
  ],
  "hr": [
    "Croatian"
  ],
  "cu": [
    "Spanish"
  ],
  "cy": [
    "Turkish"
  ],
  "cz": [
    "Czech",
    "Slovak"
  ],
  "dk": [
    "Danish"
  ],
  "dj": [
    "Arabic",
    "French"
  ],
  "dm": [
    "English"
  ],
  "do": [
    "Spanish"
  ],
  "tl": [
    "Portuguese",
    "Tetum"
  ],
  "ec": [
    "Spanish",
    "Quechua"
  ],
  "eg": [
    "Arabic"
  ],
  "sv": [
    "Spanish"
  ],
  "gq": [
    "French",
    "Portuguese",
    "Spanish"
  ],
  "er": [
    "Tigrinya"
  ],
  "ee": [
    "Estonian"
  ],
  "sz": [
    "English",
    "Swazi"
  ],
  "et": [
    "Afar",
    "Amharic",
    "Oromo",
    "Somali",
    "Tigrinya"
  ],
  "fj": [
    "English",
    "Fijian",
    "Fiji Hindi"
  ],
  "fi": [
    "Finnish",
    "Swedish"
  ],
  "fx": [
    "French"
  ],
  "ga": [
    "French"
  ],
  "gm": [
    "English"
  ],
  "ge": [
    "Ossetian",
    "Russian"
  ],
  "de": [
    "German"
  ],
  "gh": [
    "English"
  ],
  "gr": [
    "Greek"
  ],
  "gd": [
    "English"
  ],
  "gt": [
    "Spanish"
  ],
  "gn": [
    "French"
  ],
  "gw": [
    "Portuguese"
  ],
  "gy": [
    "English"
  ],
  "ht": [
    "French",
    "Creole"
  ],
  "hn": [
    "Spanish"
  ],
  "hu": [
    "Hungarian"
  ],
  "is": [
    "Icelandic"
  ],
  "in": [
    "Hindi",
    "English"
  ],
  "id": [
    "Indonesian"
  ],
  "ir": [
    "Persian"
  ],
  "iq": [
    "Arabic",
    "Kurdish"
  ],
  "ie": [
    "Irish",
    "English"
  ],
  "il": [
    "Hebrew"
  ],
  "it": [
    "Italian"
  ],
  "ci": [
    "French"
  ],
  "jm": [
    "English"
  ],
  "jp": [
    "Japanese"
  ],
  "jo": [
    "Arabic"
  ],
  "kz": [
    "Kazakh",
    "Russian"
  ],
  "ke": [
    "English",
    "Swahili"
  ],
  "ki": [
    "English",
    "Gilbertese"
  ],
  "kp": [
    "Korean"
  ],
  "kr": [
    "Korean"
  ],
  "xk": [
    "Albanian",
    "Serbian"
  ],
  "kw": [
    "Arabic"
  ],
  "kg": [
    "Kyrgyz",
    "Russian"
  ],
  "la": [
    "Lao"
  ],
  "lv": [
    "Latvian"
  ],
  "lb": [
    "Arabic"
  ],
  "ls": [
    "Sotho",
    "English"
  ],
  "lr": [
    "English"
  ],
  "ly": [
    "Arabic"
  ],
  "li": [
    "German"
  ],
  "lt": [
    "Lithuanian"
  ],
  "lu": [
    "French",
    "German",
    "Luxembourgish"
  ],
  "mg": [
    "French",
    "Malagasy"
  ],
  "mw": [
    "English",
    "Chichewa"
  ],
  "my": [
    "Malay"
  ],
  "mv": [
    "Dhivehi"
  ],
  "ml": [
    "Bambara",
    "Bobo",
    "Bozo",
    "Dogon",
    "Fula",
    "Hassaniya",
    "Kassonke",
    "Maninke",
    "Minyanka",
    "Senufo",
    "Songhay",
    "Soninke",
    "Tamasheq"
  ],
  "mt": [
    "Italian"
  ],
  "mh": [
    "English",
    "Marshallese"
  ],
  "mr": [
    "Arabic"
  ],
  "mu": [
    "English",
    "Morisien"
  ],
  "mx": [
    "Spanish"
  ],
  "fm": [
    "English"
  ],
  "md": [
    "Moldovan",
    "Russian",
    "Ukrainian"
  ],
  "mc": [
    "French"
  ],
  "mn": [
    "Mongolian"
  ],
  "me": [
    "Montenegrin"
  ],
  "ma": [
    "Arabic",
    "Berber"
  ],
  "mz": [
    "Portuguese"
  ],
  "mm": [
    "Burmese"
  ],
  "na": [
    "English"
  ],
  "nr": [
    "English",
    "Nauruan"
  ],
  "np": [
    "Nepali"
  ],
  "nl": [
    "Dutch"
  ],
  "nz": [
    "English",
    "Maori"
  ],
  "ni": [
    "Spanish"
  ],
  "ne": [
    "French"
  ],
  "ng": [
    "English"
  ],
  "nu": [
    "English",
    "Niuean"
  ],
  "nf": [
    "English",
    "Norfuk"
  ],
  "mk": [
    "Macedonian",
    "Albanian"
  ],
  "no": [
    "Norwegian",
    "Sami"
  ],
  "om": [
    "Arabic"
  ],
  "pk": [
    "Urdu",
    "English"
  ],
  "pw": [
    "English",
    "Palauan"
  ],
  "ps": [
    "Arabic"
  ],
  "pa": [
    "Spanish"
  ],
  "pg": [
    "English",
    "Hiri Motu",
    "Tok Pisin"
  ],
  "py": [
    "Spanish",
    "Guaran"
  ],
  "pe": [
    "Spanish",
    "Quechua",
    "Aymara",
    "Ashninka"
  ],
  "ph": [
    "Filipino",
    "English"
  ],
  "pl": [
    "Polish"
  ],
  "pt": [
    "Portuguese"
  ],
  "qa": [
    "Arabic"
  ],
  "ro": [
    "Romanian"
  ],
  "su": [
    "Russian"
  ],
  "rw": [
    "English",
    "French",
    "Kinyarwanda",
    "Swahili"
  ],
  "eh": [
    "Arabic"
  ],
  "kn": [
    "English"
  ],
  "lc": [
    "English"
  ],
  "vc": [
    "English"
  ],
  "ws": [
    "English",
    "Samoan"
  ],
  "sm": [
    "Italian"
  ],
  "st": [
    "Portuguese"
  ],
  "sa": [
    "Arabic"
  ],
  "sn": [
    "French"
  ],
  "yu": [
    "Serbian"
  ],
  "sc": [
    "English",
    "French",
    "Creole"
  ],
  "sl": [
    "English"
  ],
  "sg": [
    "English",
    "Malay",
    "Chinese",
    "Tamil"
  ],
  "sk": [
    "Slovak"
  ],
  "si": [
    "Slovene"
  ],
  "sb": [
    "English"
  ],
  "so": [
    "Arabic",
    "English",
    "Somali"
  ],
  "za": [
    "Afrikaans",
    "English",
    "Ndebele",
    "Sotho",
    "Swazi",
    "Tsonga",
    "Tswana",
    "Venda",
    "Xhosa",
    "Zulu"
  ],
  "ss": [
    "English"
  ],
  "es": [
    "Spanish"
  ],
  "lk": [
    "Sinhala",
    "Tamil"
  ],
  "sd": [
    "Arabic",
    "English"
  ],
  "sr": [
    "Dutch"
  ],
  "se": [
    "Swedish"
  ],
  "ch": [
    "French",
    "German",
    "Italian",
    "Romansh"
  ],
  "sy": [
    "Arabic"
  ],
  "tw": [
    "Chinese"
  ],
  "tj": [
    "Tajik"
  ],
  "tz": [
    "Swahili",
    "English"
  ],
  "th": [
    "Thai"
  ],
  "tg": [
    "French"
  ],
  "tk": [
    "English",
    "Tokelauan"
  ],
  "to": [
    "English",
    "Tongan"
  ],
  "tt": [
    "English"
  ],
  "tn": [
    "Arabic"
  ],
  "tr": [
    "Turkish"
  ],
  "tm": [
    "Turkmen"
  ],
  "tv": [
    "Tuvaluan",
    "English"
  ],
  "ug": [
    "English",
    "Swahili"
  ],
  "ua": [
    "Ukrainian"
  ],
  "ae": [
    "Arabic"
  ],
  "uk": [
    "English"
  ],
  "us": [
    "English"
  ],
  "uy": [
    "Spanish"
  ],
  "uz": [
    "Uzbek"
  ],
  "vu": [
    "English",
    "French",
    "Bislama"
  ],
  "va": [
    "Italian"
  ],
  "ve": [
    "Spanish"
  ],
  "vn": [
    "Vietnamese"
  ],
  "ye": [
    "Arabic"
  ],
  "zm": [
    "English"
  ],
  "zw": [
    "Chewa",
    "Chibarwe",
    "English",
    "Kalanga",
    "Khoisan",
    "Nambya",
    "Ndau",
    "Ndebele",
    "Shangani",
    "Shona",
    "Sotho",
    "Tonga",
    "Tswana",
    "Venda",
    "Xhosa"
  ]
}`),Pme=["US","GB"];function Vme({song:e,forceFlag:t,...n}){const r=e.language[0],i=x.useMemo(()=>{var s;return e.artistOrigin?((s=jme[e.artistOrigin.toLowerCase()])==null?void 0:s.includes(r))??t:!1},[e.artistOrigin,r,t]);return g.jsx(g.Fragment,{children:t&&e.artistOrigin?g.jsx(Vc,{isocode:e.artistOrigin,...n}):i&&!Pme.includes(e.artistOrigin)?g.jsx(Vc,{isocode:e.artistOrigin,...n}):e.language[0]!=="English"?g.jsx(Vc,{language:e.language,...n}):null})}const Dme=Wt(g.jsx("path",{d:"M7.25 12.5 4.75 9H3.5v6h1.25v-3.5L7.3 15h1.2V9H7.25zM9.5 15h4v-1.25H11v-1.11h2.5v-1.26H11v-1.12h2.5V9h-4zm9.75-6v4.5h-1.12V9.99h-1.25v3.52h-1.13V9H14.5v5c0 .55.45 1 1 1h4c.55 0 1-.45 1-1V9z"}),"FiberNewOutlined"),Bme=Wt(g.jsx("path",{d:"M12 17.27 18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"}),"Star"),Kx=e=>{var t,n,r;return((r=(n=(t=e.edition)==null?void 0:t.split(",").find(i=>i.toLowerCase().startsWith("esc ")))==null?void 0:n.replace("Esc ",""))==null?void 0:r.trim())??void 0};function Nme(e){return!!Kx(e)}const vL="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'?%3e%3csvg%20width='125.33'%20height='131.46'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:cc='http://creativecommons.org/ns%23'%20xmlns:dc='http://purl.org/dc/elements/1.1/'%20xmlns:rdf='http://www.w3.org/1999/02/22-rdf-syntax-ns%23'%3e%3cpath%20stroke='black'%20fill='white'%20d='m12.726%2058.556c0.31803-28.513%2015.157-37.437%2023.237-37.437%2011.285%200%2015.946%208.6151%2016.707%2012.429%200.76116%203.8111%205.0324%206.8595%206.4047%200.60798%201.3734-6.2515%2014.649-25.315%2030.966-25.315%2014.943%200%2020.119%2015.41%2019.671%2028.518-1.2228%2035.683-47.19%2064.158-53.239%2082.143-5.3875-10.891-44.126-26.634-43.746-60.946zm82.652-58.556c-13.42%200-29.29%209.9111-38.896%2026.382-2.592-5.9483-11.827-12.43-22.805-12.43-8.8462%200-33.676%2011.056-33.676%2046.74%200%2046.052%2046.593%2055.508%2056.011%2069.825%200.64721%200.98433%202.7319%201.728%203.5276-0.62388%207.5157-22.18%2065.791-47.242%2065.791-92.379-5.3e-4%20-25.314-16.536-37.513-29.955-37.513z'%20stroke-width='.53006'/%3e%3c/svg%3e",Lme=e=>g.jsxs(zme,{children:[e.song.tracksCount>1&&g.jsxs(Ume,{"data-test":"multitrack-indicator",children:[g.jsx(zy,{})," Duet"]}),g.jsx(Fme,{song:e.song,isPopular:e.isPopular,focused:!!e.video})]}),Fme=({song:e,isPopular:t,focused:n})=>{var d,u;const r=x.useMemo(()=>c2(e),[e]),i=Nme(e),s=g2(e),l=((u=(d=s==null?void 0:s.scores)==null?void 0:d.at(-1))==null?void 0:u.date)??!1,c=l&&oa(l).isAfter(oa().subtract(1,"days"));return s!=null&&s.plays?g.jsx(bL,{"data-test":"song-stat-indicator",children:c?"Played today":g.jsx(g.Fragment,{children:n?g.jsxs(g.Fragment,{children:["Played ",s.plays," time",s.plays>1&&"s"]}):s.plays})}):i?g.jsxs(k_,{white:!0,children:[g.jsx(C_,{children:n?`Eurovision ${Kx(e)}`:Kx(e)}),g.jsx($me,{src:vL,alt:e.edition})]}):r?g.jsx(k_,{white:!0,children:n?g.jsx(C_,{children:"Added recently"}):g.jsx(Dme,{})}):t&&e.language.includes("English")?g.jsx(g.Fragment,{children:g.jsxs(k_,{children:[n&&g.jsx(C_,{children:"Popular"}),g.jsx(Bme,{})]})}):null},C_=W("div",{target:"enamf7r6"})({name:"eh2bdr",styles:"padding:0 0.5rem;line-height:0;margin-top:0.2rem;&+svg{margin-left:-0.25rem;}"}),zme=W("div",{target:"enamf7r5"})({name:"67oilw",styles:"position:absolute;top:0.5rem;left:0;padding:0 0.5rem;box-sizing:border-box;display:flex;align-items:center;justify-content:flex-end;gap:0.5rem;width:100%"}),AL=W("div",{target:"enamf7r4"})({name:"1utw6sa",styles:"height:2.75rem;min-width:2.75rem;box-sizing:border-box;color:white;font-size:1.4rem;display:flex;align-items:center;justify-content:center;text-transform:uppercase;background:rgba(0, 0, 0, 0.75);border-radius:0.5rem"}),k_=W(AL,{target:"enamf7r3"})("overflow:hidden;display:flex;align-items:center;justify-content:center;svg,img{fill:",e=>e.white?"white":$e.colors.text.active,";width:2.5rem;height:2.5rem;}"),$me=W("img",{target:"enamf7r2"})({name:"1pr315k",styles:"padding:0.35rem;margin:0 0.15rem 0 -0.35rem;box-sizing:border-box"}),bL=W(AL,{target:"enamf7r1"})({name:"2ycp6t",styles:"padding:0 1rem"}),Ume=W(bL,{target:"enamf7r0"})({name:"1k65tge",styles:"margin-right:auto;svg{width:1.75rem;height:1.75rem;}"}),_L=({song:e,focused:t,video:n,children:r,songId:i,groupLetter:s,handleClick:l,isPopular:c,background:d=!0,forceFlag:u=!1,...p})=>{const h=p["data-expanded"]??!1,y=x.useCallback(()=>l?l(i,s):void 0,[l,i,s]),[v]=St(Ps);return g.jsxs(Gme,{...p,onClick:l?y:void 0,children:[d&&g.jsx(Yme,{style:{backgroundImage:`url('https://i3.ytimg.com/vi/${e.video}/hqdefault.jpg')`},"data-focused":h?!1:t,"data-expanded":p["data-expanded"],"data-graphic-setting":v}),g.jsxs(qme,{"data-expanded":h,children:[!h&&g.jsx(Lme,{song:e,isPopular:c,video:n}),g.jsx(m2,{"data-expanded":h,children:e.artist}),g.jsx(Jv,{"data-expanded":h,children:e.title}),g.jsxs(SL,{"data-expanded":h,children:[h&&g.jsxs(g.Fragment,{children:[e.author&&g.jsxs(wL,{expanded:h,children:["by",e.authorUrl?g.jsx("a",{href:e.authorUrl,target:"_blank",rel:"noreferrer",children:e.author}):e.author]}),g.jsx(Kme,{song:e})]}),!h&&g.jsx(Hme,{song:e,forceFlag:u})]})]}),r,n]})},Hme=W(Vme,{target:"e1ornw2x8"})({name:"1152n88",styles:"height:2.75rem;object-fit:cover;border-top-right-radius:1rem;border-bottom-left-radius:1rem;position:absolute;z-index:-1;left:0rem;bottom:0rem;opacity:0.95"}),SL=W("div",{target:"e1ornw2x7"})({name:"1dgv8bf",styles:"display:flex;flex-direction:column;align-items:flex-start;justify-content:flex-start"}),qme=W("div",{target:"e1ornw2x6"})({name:"cwmgde",styles:"width:100%;height:100%;display:flex;align-items:flex-end;justify-content:flex-end;z-index:1;box-sizing:border-box;flex-direction:column;&[data-expanded='true']{align-items:flex-start;justify-content:flex-start;}"}),Gme=W("div",{target:"e1ornw2x5"})({name:"1s4n252",styles:"font-size:4.5rem;display:flex;align-items:flex-end;justify-content:flex-end;flex-direction:column;box-sizing:border-box;position:relative;padding:0.5rem;border:0.1rem black solid;border-radius:1rem"}),Yme=W("div",{target:"e1ornw2x4"})({name:"10xrxr9",styles:"background-color:#2b2b2b;border-radius:1rem;&[data-expanded='true']{border-radius:0;}position:absolute;z-index:-1;inset:0;&[data-graphic-setting='high']{transition:300ms;&[data-focused='true']{background-size:100%;opacity:1;}&[data-focused='false']{background-size:110%;filter:grayscale(90%);opacity:0.8;}&[data-expanded='true']{filter:blur(10px);}}&[data-graphic-setting='low']{background-size:100%;opacity:0.6;&[data-focused='true']{opacity:1;}}background-position:center center"}),xL=W(cu,{target:"e1ornw2x3"})("background:rgba(0, 0, 0, 0.7);width:auto;display:inline-block;padding:0.5rem;",jt,";text-align:right;font-size:2.7rem;&[data-expanded='true']{font-size:6rem;}"),m2=W(xL,{target:"e1ornw2x2"})("color:",$e.colors.text.active,";"),Jv=W(xL,{target:"e1ornw2x1"})("margin-top:",e=>e.expanded?"1.5rem":"0.5rem",";color:white;"),wL=W(Jv,{target:"e1ornw2x0"})({name:"5twmqz",styles:"font-size:3rem;margin-top:3rem"}),Kme=({song:e})=>{const t=g2(e);return g.jsx(wL,{children:t!=null&&t.plays?`Played ${t.plays} time${t.plays>1?"s":""}`:"Never played yet"})};function Wme({groupedSongList:e,onScrollToGroup:t,container:n}){const[r,i]=x.useState([]);return x.useEffect(()=>{const s=new IntersectionObserver(c=>{c.forEach(d=>{const u=Number(d.target.getAttribute("data-virtualized-group"));d.isIntersecting?i(p=>[...p,u]):i(p=>p.filter(h=>h!==u))})}),l=new MutationObserver(()=>{const c=document.querySelectorAll("[data-virtualized-group]");s.disconnect(),i([]),c.forEach(d=>{s.observe(d)})});if(n)return l.observe(n,{childList:!0,subtree:!0}),()=>{l.disconnect(),i([]),s.disconnect()}},[e,n]),g.jsx(g.Fragment,{children:g.jsx(Qme,{children:e.map((s,l)=>{const c=r.includes(l);return g.jsx(Xme,{onClick:()=>t(s),"data-active":c,"data-test":`group-navigation-${s.name}`,children:s.displayShort??s.name},s.name)})})})}const Qme=W("div",{target:"e131hflw1"})({name:"191ly3l",styles:"position:fixed;display:flex;flex-direction:row;align-items:center;justify-content:flex-start;top:0;left:var(--song-sidebar-weight);padding:1rem 0 1.5rem 2rem;width:100%;z-index:100;gap:1rem;background:rgba(0, 0, 0, 0.75)"}),Xme=W(Ba,{target:"e131hflw0"})("border:none;cursor:pointer;",jt,";display:inline-flex;align-items:center;justify-content:center;height:3.3rem;padding:0.5rem 1.25rem;font-size:2.3rem;z-index:1;color:",$e.colors.text.default,";&[data-active='true']{background:",$e.colors.text.active,";}&[data-active='false']{background:rgba(0, 0, 0, 0.7);}");x.createContext({client:er});const FO={[Ci.DUEL]:"Duel",[Ci.PASS_THE_MIC]:"Pass The Mic",[Ci.CO_OP]:"Cooperation"},M_=["Hard","Medium","Easy"],Jme=Nl("song_settings-game_mode-v3"),Zme=Nl("song_settings-tolerance-v2");function eye({songPreview:e,onNextStep:t,keyboardControl:n,onExitKeyboardControl:r}){const[i,s]=Jme(null),l=i??(e.tracksCount>1?Ci.CO_OP:Ci.DUEL),[c,d]=Zme(1),u=()=>{const v={id:b0(),players:[],mode:l,tolerance:c+1};t(v)},p=()=>{s(Pc(Object.values(Ci),l))},h=()=>d(v=>ag(M_,v,-1)),{register:y}=dr({enabled:n,onBackspace:r,additionalHelp:{remote:["select-song"]}});return g.jsxs(g.Fragment,{children:[g.jsx(zO,{...y("difficulty-setting",h,"Change difficulty"),label:"Difficulty",value:M_[c],"data-test-value":M_[c]}),g.jsx(zO,{...y("game-mode-setting",p,"Change mode"),label:"Mode",value:FO[l],"data-test-value":FO[l]}),g.jsx(nye,{children:g.jsxs("h3",{children:[l===Ci.DUEL&&"Face off against each other - person that earns more points wins.",l===Ci.CO_OP&&"Join forces and sing together - your points will be added up to a single pool.",l===Ci.PASS_THE_MIC&&g.jsxs(g.Fragment,{children:["For more than 2 players - split into groups and pass the microphone within the group when prompted with"," ",g.jsx(t2,{})," symbol."]})]})}),g.jsx(tye,{...y("next-step-button",u,void 0,!0),children:"Next "})]})}const tye=W(Ba,{target:"ews4mmz2"})({name:"sr8dp2",styles:"padding:0.5rem 9rem;font-size:4.3rem;width:50rem"}),nye=W(cu,{target:"ews4mmz1"})({name:"rdh6te",styles:"max-width:50rem;margin:-1rem 0 1rem!important;padding:1.5rem;background:rgba(0, 0, 0, 0.7);box-sizing:border-box"}),zO=W(Ds,{target:"ews4mmz0"})({name:"1tcj19k",styles:"font-size:4.3rem;padding:1rem;min-width:50rem;box-sizing:border-box"});function rye(){const t=hs(me.playerInputChanged,()=>nt.getInputs()).some(l=>l.source==="Microphone"),n=x.useRef([]),r=x.useCallback(l=>{n.current.push(l)},[]);Hge(0,50,r);const[i,s]=x.useState(!1);return x.useEffect(()=>{const l=setInterval(()=>{const c=n.current.filter(([,y])=>y===0),d=n.current.filter(([,y])=>y>0),u=c.reduce((y,[v])=>y+v,0)/(c.length+1),p=d.reduce((y,[v])=>y+v,0)/(d.length+1),h=d.length>c.length*.1&&p>.01&&u>.01&&p-u<u/2;s(h),n.current.length=0},i?5e3:2500);return()=>clearInterval(l)},[i]),g.jsxs(iye,{visible:i,children:[g.jsxs("h2",{children:[g.jsx("strong",{children:g.jsx(bf,{})})," ","Noise detected"]}),g.jsx("hr",{}),g.jsxs("h4",{children:["This might make singing inaccurate. Make sure your microphone doesn't pick up the music."," ",t&&g.jsxs(g.Fragment,{children:["Alternatively, use your ",g.jsx("strong",{children:"smartphone as a microphone"})," instead."]})]})]})}const iye=W("div",{target:"e1liv9270"})("opacity:",e=>e.visible?1:0,";transition:300ms;background:rgba(0, 0, 0, 0.75);padding:1rem;max-width:50rem;position:relative;top:-1rem;left:-0.5rem;"),EL=(e,t=333,n)=>{const[r,i]=x.useState("ok");return x.useEffect(()=>{const s=setInterval(()=>{i(ur.getInputStatus(e))},t);return()=>{clearInterval(s)}},[e,t,n]),r},TL=e=>{const[t,n]=x.useState(null);return x.useEffect(()=>{const r=setInterval(()=>{const i=Dt.getRemoteMicById(e??"");n(i?i.getLatency():null)},1e3);return()=>{clearInterval(r)}},[e]),t};function CL({playerNumber:e,...t}){var r,i;const n=TL((i=(r=nt.getPlayer(e))==null?void 0:r.input)==null?void 0:i.deviceId);return g.jsx(g.Fragment,{children:n!==null?g.jsxs(sye,{...t,children:[n,"ms"]}):""})}const sye=W("span",{target:"e10sf0140"})({name:"1wwatg0",styles:"position:absolute;right:4rem;bottom:0.5rem;font-size:1.75rem"});function kL({status:e,tooltipPosition:t="end",...n}){return g.jsxs(aye,{...n,children:[e==="ok"?g.jsx(oye,{"data-test":"status-ok"}):e==="unavailable"?g.jsx(lye,{"data-test":"status-unavailable"}):g.jsx(cye,{"data-test":"status-unstable"}),e==="unavailable"?g.jsx($O,{position:t,children:g.jsxs("span",{children:["The device is ",g.jsx("strong",{children:"disconnected"}),". Reconnect it, please."]})}):e==="unstable"?g.jsx($O,{position:t,children:g.jsxs("span",{children:["The connection seems ",g.jsx("strong",{children:"unstable"}),". Connect to the same Wifi."]})}):null]})}const aye=W("span",{target:"etoberq4"})({name:"186aqlb",styles:"position:absolute;right:0.5rem;top:0.5rem;font-size:3rem;z-index:10;svg{width:3rem;height:3rem;text-shadow:black;}"}),oye=W("div",{target:"etoberq3"})({name:"1jjo9fl",styles:"margin:0.15rem;width:2.7rem;height:2.7rem;display:inline-block;background:#ffffff;border:1px solid black;border-radius:50%"}),lye=W(hL,{target:"etoberq2"})({name:"f0g68e",styles:"fill:#ff0000"}),cye=W(bf,{target:"etoberq1"})({name:"w492oh",styles:"fill:#f89400;stroke:black"}),$O=W("div",{target:"etoberq0"})(jt,";position:absolute;left:",e=>e.position==="end"?"100%":"auto",";right:",e=>e.position==="end"?"auto":"150%",";top:-0.5rem;font-size:1.5rem;height:100%;display:flex;align-items:center;width:25rem;background:rgba(0, 0, 0, 0.75);padding:0.5rem;margin-left:2rem;");function ML({player:e}){const t=EL(e.number);return g.jsxs(uye,{"data-test":`indicator-player-${e.number}`,children:[g.jsx(CL,{playerNumber:e.number}),g.jsx(kL,{status:t}),t!=="unavailable"&&g.jsx(f2,{playerNumber:e.number}),g.jsx(dye,{className:"ph-no-capture",children:e.getName()})]},e.number)}const uye=W("div",{target:"e17xkp2e1"})({name:"1gmoqr1",styles:"position:relative;border:0.1rem solid white;padding:1rem 3rem;background:black;width:80%;text-align:center;gap:1.25rem;font-size:2.3rem;color:white;-webkit-text-stroke:1px black"}),dye=W("span",{target:"e17xkp2e0"})({name:"179t5g5",styles:"position:relative;z-index:1"});function fye(e){Hs(me.playerNameChanged),x.useEffect(()=>{ur.startMonitoring()},[]);const n=hs(me.playerInputChanged,()=>nt.getInputs()).some(r=>r.source!=="Dummy");return g.jsxs(hye,{...e,children:[g.jsxs(pye,{children:["Microphone Check",n?nt.getPlayers().map(r=>g.jsx(ML,{player:r},r.number)):g.jsxs(g.Fragment,{children:[g.jsx(gye,{children:"Mic not setup"}),g.jsx("h4",{children:"Singing will be emulated"}),g.jsx("h5",{children:"You can setup in the Next step"})]})]}),g.jsx(rye,{})]})}const hye=W("div",{target:"egp8knc2"})("display:flex;font-size:3rem;",jt,";margin-bottom:8.6rem;gap:3.5rem;"),pye=W("div",{target:"egp8knc1"})({name:"fmwdml",styles:"gap:1.25rem;display:flex;flex-direction:column;align-items:center"}),gye=W("div",{target:"egp8knc0"})({name:"1x5xnlp",styles:"position:relative;border:0.1rem solid white;padding:1rem 3rem;background:black;width:80%;text-align:center;gap:1.25rem;font-size:2.3rem;color:white"});function RL({onClose:e,closeButtonText:t}){return g.jsx(Dl,{onClose:e,children:g.jsx(uu,{children:g.jsx(p2,{smooth:!1,onBack:e,onFinish:e,closeButtonText:t,skipText:"Back"})})})}const y2=x.forwardRef(({options:e,focused:t,label:n,value:r,onChange:i,disabled:s,placeholder:l,$keyboardNavigationChangeFocus:c,onBlur:d,className:u,...p},h)=>{const y=x.useRef(null);x.useImperativeHandle(h,()=>y.current);const v=x.useRef(null),[b,_]=x.useState(!1),[w,T]=x.useState(-1),k=x.useMemo(()=>e.filter(E=>E.toLowerCase().trim().includes(r.toLowerCase().trim())&&E!==r),[e,r]),R=E=>{var O,P,j;if(E.code==="ArrowUp"||E.code==="ArrowDown")if(k.length){E.preventDefault();const V=ag(k,w,E.code==="ArrowUp"?-1:1);T(V);const C=(O=v.current)==null?void 0:O.querySelector(`[data-index="${V}"]`);C==null||C.scrollIntoView({behavior:"smooth",block:"center"})}else(P=y.current)==null||P.blur(),c==null||c(E.code==="ArrowUp"?-1:1);else if(E.code==="Enter"){const V=k[w];V?(T(-1),i(V)):(j=y.current)==null||j.blur()}},M=()=>{setTimeout(()=>{_(!1),d==null||d()},300)};return g.jsxs(mye,{className:u,children:[g.jsx(du,{onFocus:()=>_(!0),onBlur:M,onKeyDown:R,onChange:i,value:r,focused:t,label:n,disabled:s,ref:y,placeholder:l,...p}),b&&!!k.length&&g.jsx(yye,{ref:v,role:"listbox",children:k.map((E,O)=>g.jsx(vye,{role:"listitem","data-index":O,"data-focused":O===w,"data-e2e-focused":O===w,focused:O===w,onClick:()=>{var P;i(E),T(-1),(P=y.current)==null||P.blur()},children:E},E))})]})});y2.displayName="Autocomplete";const mye=W("div",{target:"elw4n422"})({name:"bjn8wh",styles:"position:relative"}),yye=W("div",{target:"elw4n421"})("margin-top:0.1em;position:absolute;width:100%;background:black;max-height:",(1+2*.3)*4,"em;overflow-y:auto;z-index:2;"),vye=W("div",{target:"elw4n420"})(jt,";padding:0.3em;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;color:",e=>e.focused?$e.colors.text.active:"white",";cursor:pointer;"),Aye=(e,t)=>{var n;return((n=e[t])==null?void 0:n.name)??`Track ${t+1}`};function bye({multipleTracks:e,player:t,songPreview:n,playerNames:r,register:i,onChange:s,setup:l}){const[c,d]=x.useState(!1),u=x.useRef(null);if(Hs(me.playerNameChanged),t===void 0)return null;const p=()=>s({number:t.number,track:(l.track+1)%n.tracksCount}),h=b=>{d(!0),t.setName(b)},y=!c,v=t.getName();return g.jsxs(g.Fragment,{children:[g.jsx(_ye,{maxLength:Pw,className:"ph-no-capture",value:y?"":v,placeholder:y?v:void 0,options:r,onChange:h,label:"Name:",ref:u,...i(`player-${t.number}-name`,()=>{var b;return(b=u.current)==null?void 0:b.focus()})}),e&&g.jsx(Sye,{...i(`player-${t.number}-track-setting`,p,"Change track"),label:"Track",value:Aye(n.tracks,l.track),"data-test-value":l.track+1})]})}const _ye=W(y2,{target:"euluv3p1"})("input{font-size:4.5rem;}[role='listbox']{max-height:",6*(4.5+.3),"rem;}"),Sye=W(Ds,{target:"euluv3p0"})({name:"1bwrnjg",styles:"font-size:4.5rem;padding:1.1rem"});function xye({songPreview:e,onNextStep:t,keyboardControl:n,onExitKeyboardControl:r}){const[i]=St(ai),[s]=St(cV),l=nt.getPlayers(),c=!i&&l.length===2&&e.tracksCount>1,d=()=>l.map((M,E)=>({number:M.number,track:c?Math.min(E,e.tracksCount-1):0})),[u,p]=x.useState(d());pi([me.playerAdded,me.playerRemoved],()=>p(d()));const h=l.map((M,E)=>u.find(O=>O.number===M.number)??d()[E]),y=x.useMemo(()=>JSON.parse(at.session.getItem(Gd))??[],[]),v=M=>E=>{p(O=>O.map(P=>P.number===M?E:P))},[b,_]=x.useState(!1);x.useEffect(()=>{b||ur.startMonitoring()},[b]);const{register:w,focusElement:T}=dr({enabled:n&&!b,onBackspace:r,additionalHelp:{remote:["select-song"]}}),k=()=>{t(h)},R=!!s&&s!=="skip";return g.jsxs(g.Fragment,{children:[b&&g.jsx(RL,{closeButtonText:R?"Continue to the song":"Continue to player setup",onClose:()=>{_(!1),R&&T("play")}}),h.map((M,E)=>g.jsxs(wye,{children:[g.jsxs(Eye,{children:["Player ",E+1]}),g.jsx("div",{children:g.jsx(bye,{multipleTracks:c,player:nt.getPlayer(M.number),setup:M,onChange:v(M.number),playerNames:y,register:w,songPreview:e})})]},M.number)),R&&g.jsx(UO,{...w("play-song-button",k,void 0,!0),children:"Play"}),g.jsx(UO,{...w("select-inputs-button",()=>_(!0),void 0,!1),children:"Setup mics"})]})}const wye=W("div",{target:"e12y59822"})({name:"ho1qnd",styles:"display:flex;flex-direction:row"}),UO=W(Ba,{target:"e12y59821"})({name:"afgxf2",styles:"padding:0.5rem 9rem;font-size:4.3rem"}),Eye=W("span",{target:"e12y59820"})(jt,";padding:1.3rem;font-size:4.5rem;");function Tye({songPreview:e,onPlay:t,keyboardControl:n,onExitKeyboardControl:r}){const[i,s]=x.useState(null),[l,c]=x.useState("song"),d=p=>{s(p),c("players")},u=p=>{if(!i)return;const h={...i,players:p};me.songStarted.dispatch(e,h),t({song:e,...h})};return g.jsxs(Cye,{children:[g.jsx(fye,{style:l==="players"?{viewTransitionName:"player-mic-check-container"}:void 0}),g.jsxs(kye,{children:[l==="song"&&g.jsx(eye,{songPreview:e,onNextStep:d,keyboardControl:n,onExitKeyboardControl:r}),l==="players"&&g.jsx(xye,{songPreview:e,onNextStep:u,keyboardControl:n,onExitKeyboardControl:()=>c("song")})]})]})}const Cye=W("div",{target:"eu207dr1"})({name:"k6gb66",styles:"display:flex;flex-direction:row;align-items:flex-end;justify-content:space-between;width:100%;hr{margin:1rem;opacity:0.25;}"}),kye=W("div",{target:"eu207dr0"})({name:"115sh08",styles:"width:auto;display:flex;flex-direction:column;align-items:flex-end;gap:1.25rem"}),Mye=30;function Rye({songPreview:e,top:t,left:n,width:r,height:i,keyboardControl:s,onExitKeyboardControl:l,onPlay:c,isPopular:d,forceFlag:u}){const[p,h]=x.useState(!1),y=x.useRef(null),{width:v,height:b}=mf(),_=s,w=e.previewStart??(e.videoGap??0)+60,T=e.previewEnd??w+Mye,k=x.useMemo(()=>[e.video,w,T,e.volume],[e.video,w,T,e.volume]),[R,M,E,O]=e2(k,350);x.useLayoutEffect(()=>{var N;h(e.video===R&&((N=y.current)==null?void 0:N.getStatus())===qn.PLAYING)},[e.video,R]),x.useEffect(()=>{var N,U;(N=y.current)==null||N.loadVideoById({videoId:R,startSeconds:M,endSeconds:E}),(U=y.current)==null||U.playVideo()},[R,y,M,E]);const P=_?v:r,j=_?b:i,V=_?Math.min(v/20*9,b*(4/5)):i;x.useEffect(()=>{var N;(N=y.current)==null||N.setSize(P,j)},[P,j,s,R]);const C=x.useCallback(N=>{var U,L;N===qn.ENDED?((U=y.current)==null||U.seekTo(w),(L=y.current)==null||L.playVideo()):N===qn.PLAYING&&h(!0)},[w]);return g.jsxs(g.Fragment,{children:[_&&g.jsx(jye,{onClick:l}),!_&&p&&g.jsx(Bye,{width:P,height:j,left:n,top:t,song:e}),g.jsx(Oye,{forceFlag:u,isPopular:d,background:_||p,video:g.jsx(Pye,{"data-show":p,"data-expanded":_,height:V,id:"preview-video-container",children:g.jsx(Wv,{width:0,height:0,disablekb:!0,ref:y,video:"",volume:O,onStateChange:C})}),focused:!0,song:e,top:t,left:n,width:P,height:V,"data-show-video":p,"data-expanded":_,"data-song":e.id,"data-test":"song-preview",children:g.jsx(Vye,{"data-expanded":_,children:_&&g.jsx(Tye,{songPreview:e,onPlay:c,keyboardControl:s,onExitKeyboardControl:l})})})]})}const Iye=W(_L,{target:"e1vaewax4"})("--preview-padding:5rem;width:",e=>e.width,"px;height:",e=>e.height,"px;position:absolute;z-index:3;overflow:hidden;visibility:hidden;&[data-expanded='true'],&[data-show-video='true']{visibility:visible;}&[data-expanded='true']{z-index:201;border-radius:0;border:0;position:fixed;padding:var(--preview-padding);}&[data-expanded='false']{pointer-events:none;&[data-show-video='true']{animation:rhythmPulse 1s infinite;}}@keyframes rhythmPulse{0%{transform:scale(1.15);}15%{transform:scale(1.2);}100%{transform:scale(1.15);}}view-transition-name:song-preview;",m2,"{view-transition-name:song-preview-artist;}",Jv,"{view-transition-name:song-preview-title;}",SL,"{view-transition-name:song-preview-expanded-data;}"),Oye=e=>{const t=e.song.realBpm||(e.song.bpm>300?e.song.bpm/4:e.song.bpm/2),n=e["data-expanded"];return g.jsx(Iye,{...e,style:{...e.style,top:n?`calc(50vh - ${e.height}px / 2)`:e.top,left:n?0:e.left,animationDuration:`${60/t}s`}})},jye=W("div",{target:"e1vaewax3"})({name:"1iz7jdz",styles:"position:fixed;top:0;left:0;background:rgba(0, 0, 0, 0.8);width:100vw;height:100vh;z-index:201"}),Pye=W("div",{target:"e1vaewax2"})("&[data-expanded='true']{position:fixed;inset:0;clip-path:inset(calc((100vh - ",e=>e.height,"px) / 2) 0);}&[data-expanded='true'],&[data-show='true']{div{transition:1000ms;}}&[data-expanded='false']{position:absolute;top:0;left:0;background-image:none!important;border-radius:0.5rem;}&[data-show='false']{div{opacity:0;}}&[data-show='true']{div{opacity:1;}}"),Vye=W("div",{target:"e1vaewax1"})({name:"uljwlo",styles:"inset:auto var(--preview-padding);position:fixed;z-index:100;&[data-expanded='false']{transform:scale(0.1);}border-radius:0.5rem;view-transition-name:song-preview-content"}),Dye=W("div",{target:"e1vaewax0"})("background:white;width:",e=>e.width,"px;height:",e=>e.height,"px;z-index:2;top:0;left:0;position:absolute;animation:bpm 1s infinite;border-radius:0.5rem;pointer-events:none;@keyframes bpm{0%{transform:scale(1.15);opacity:1;}100%{transform:scale(1.45);opacity:0;}}"),Bye=e=>{const[t]=St(Ps);if(t==="low")return null;const n=e.song.realBpm||(e.song.bpm>300?e.song.bpm/4:e.song.bpm/2);return g.jsx(Dye,{width:e.width,height:e.height,style:{left:e.left,top:e.top,animationDuration:`${60/n}s`}})};function Nye(e){var t=ky(e),n=t%1;return t===t?n?t-n:t:0}var Lye=Math.ceil,Fye=Math.max;function IL(e,t,n){t===void 0?t=1:t=Fye(Nye(t),0);var r=e==null?0:e.length;if(!r||t<1)return[];for(var i=0,s=0,l=Array(Lye(r/t));i<r;)l[s++]=hE(e,i,i+=t);return l}const Bc=(e,t)=>`${e.song.id}${t.isNew?"-new-group":""}`;function zye(e){const t=x.useRef(null),n=x.useMemo(()=>e.groups.map(u=>({group:u,rows:IL(u.songs,e.perRow)})),[e.groups,e.perRow]),r=x.useMemo(()=>n.map(({rows:u})=>u.length),[n]),i=x.useMemo(()=>n.flatMap(({rows:u})=>u),[n]),{ListRowWrapper:s,GroupRowWrapper:l}=e,c=x.useCallback(u=>e.groups.findIndex(p=>p.songs.some(h=>Bc(h,p)===u)),[e.groups]),d=x.useCallback(u=>{const p=c(u);if(p===-1)return;const h=e.groups[p].songs.findIndex(y=>Bc(y,e.groups[p])===u);return n.slice(0,p).reduce((y,{rows:v})=>y+v.length,Math.floor(h/e.perRow))},[c,n,e.groups,e.perRow]);return x.useImperativeHandle(e.ref,()=>({getSongPosition:u=>{var b;const p=c(u);if(p===-1)return;const h=e.groups[p].songs.findIndex(_=>Bc(_,e.groups[p])===u),y=n.slice(0,p).reduce((_,{rows:w})=>_+w.length,Math.floor(h/e.perRow));return{y:((b=t.current)==null?void 0:b.getItemPositionY(y))??-1}},scrollToGroup:u=>{var h;const p=e.groups.findIndex(y=>y.name===u);p!==-1&&((h=t.current)==null||h.scrollToGroup(p,"smooth"))},scrollToSongInGroup:async(u,p="smooth")=>{var y;const h=d(u);h!==void 0&&((y=t.current)==null||y.scrollToIndex(h,ds()?"instant":p))}})),g.jsx(g.Fragment,{children:g.jsx(NN,{Footer:e.Footer,forceRenderItem:d(e.focusedSong)??-1,overScan:e.itemHeight*2,itemHeight:e.itemHeight,groupHeaderHeight:e.groupHeight,components:e.components,context:e.context,groupContent:(u,p)=>g.jsx(l,{group:n[u].group,...p,children:e.renderGroup(n[u].group)}),ref:t,groupSizes:r,itemContent:(u,p,h)=>g.jsxs(s,{"data-is-new":n[p].group.isNew,...h,children:[i[u].map(y=>e.renderItem(y,n[p].group)),e.placeholder&&i[u].length<e.perRow&&new Array(e.perRow-i[u].length).fill(null).map((y,v)=>g.jsx(x.Fragment,{children:e.placeholder},v))]})})})}const OL=(e,t)=>e+Math.random()*(t-e),ca=(e,t)=>Math.round(OL(e,t)),$ye=250,Uye=750;function Hye(e){const t=AI(async()=>(await fetch("/mostPopularSongs.json")).json(),[]),n=AI(async()=>sX(),[]),r=x.useMemo(()=>e.filter(c2).map(d=>d.id),[e]),[i]=St(J0),s=t.loading||n.loading||!e.length,l=x.useMemo(()=>{if(s)return;const d=Object.keys(n.value).filter(b=>n.value[b].scores.some(_=>(_.progress??0)>.8)),u=Object.keys(t.value).filter(b=>!(i!=null&&i.includes(b))),p=[...new Set([...u,...i??[]])],h=e.filter(b=>!p.some(_=>b.language.includes(_))||b.local).map(b=>b.id).concat(...d),y=Math.max($ye,Uye-Math.round(h.length/1.75)),v=u.map(b=>t.value[b].slice(0,y)).flat();return{popular:[...new Set([...d,...v,...h,...r])]}},[i,s,t.value,e,n.value]),c=x.useMemo(()=>({popular:[]}),[]);return{value:l??c,loading:s}}const qye=e=>{const t=/[^a-zA-Z]/;return{name:isFinite(+e.artist[0])||t.test(e.artist[0])?"0-9":e.artist[0].toUpperCase()}};function Gye(e){const t=_f(),{value:{popular:n},loading:r}=Hye(t.data),i=t.isLoading||r,{filters:s,filteredList:l,setFilters:c,selectedPlaylist:d,setSelectedPlaylist:u,playlists:p,playlist:h}=nfe(t.data,n,i,e);return{groupedSongList:x.useMemo(()=>{var b;const v=[];if(s.search)return v.push({name:"Search results",songs:l.map((_,w)=>({index:w,song:_,isPopular:n.includes(_.id)}))}),v;{if(l.length===0)return[];(h!=null&&h.sortingFn?[...l].sort(h.sortingFn):l).forEach(T=>{try{const{name:k,...R}=((h==null?void 0:h.groupData)??qye)(T);let M=v.find(E=>E.name===k);M||(M={name:k,songs:[],...R},v.push(M)),M.songs.push({index:l.indexOf(T),song:T,isPopular:n.includes(T.id)})}catch(k){console.error(k),ua(k)}});const w=((b=h==null?void 0:h.postGrouping)==null?void 0:b.call(h,v))??v;if(!(h!=null&&h.hideNew)){const T=l.filter(k=>k.isNew);T.length&&T.length<50&&w.unshift({name:"New",isNew:!0,songs:T.map(k=>({song:k,index:l.indexOf(k),isPopular:n.includes(k.id)}))})}return w}},[l,s.search,n,h]),songList:l,filters:s,setFilters:c,isLoading:i,selectedPlaylist:d,setSelectedPlaylist:u,playlists:p}}function Wx(e){const t=x.useRef(e);return x.useEffect(()=>{t.current=e},[e]),t.current}const Yye=30;function Kye(e,t,n=Yye){let r;if(t.length<e){const i=[...Array(e).keys()].filter(s=>!t.includes(s));r=i[ca(0,i.length-1)]}else r=ca(0,e-1),t.length=0;return t.length>=n&&t.shift(),t.push(r),r}const Wye=(e=[],t)=>{var v;const[n,r]=x.useState([0,0]),i=x.useMemo(()=>e.map(b=>IL(b.songs.map(_=>Bc(_,b)),t)).flat(),[e,t]),s=n[0]===((v=i[n[1]])==null?void 0:v.length)-1,l=x.useMemo(()=>{const[b,_]=n,w=i[_];if(!w)return"";const T=Math.min(b,w.length-1);return w[T]},[n,i]),c=x.useCallback(b=>{var T;const _=i.findIndex(k=>k.includes(b)),w=((T=i[_])==null?void 0:T.indexOf(b))??-1;r(w===-1||_===-1?[0,0]:[w,_])},[i]),[d,u]=x.useState(()=>l);d!==l&&u(l);const[p,h]=x.useState(()=>i);return p!==i&&h(i),p!==i&&d&&d!==l&&(h(i),c(d)),[l,n,(b,_)=>{xv.play(),r(([w,T])=>{var M;if(i.length===0)return[0,0];let k=w,R=T;if(b==="y")R=T+_;else{if(i[T]===void 0)debugger;const E=(((M=i[T])==null?void 0:M.length)??1)-1;k=Math.min(w,E)+_,k<0?(R=(i.length+T-1)%i.length,k=i[R].length-1):k>E&&(R=T+1,k=0)}return[k%t,(i.length+R)%i.length]})},c,s]},Qye=(e,t=[],n,r,i,s)=>{const l=Oi(),[c,d]=x.useState([!1,null]),u=Wx(c),[p,h]=c,[y,v,b,_,w]=Wye(t,s),T=v[0]===0,k=()=>{qw.play(),n()},[R,M]=x.useState(!1),E=Wx(i.search);x.useLayoutEffect(()=>{if(E&&!i.search){M(!0);const q=setTimeout(()=>M(!1),2e3);return()=>{clearTimeout(q),M(!1)}}},[i.search]);const O=()=>{!R&&!i.search&&(Gw.play(),l("menu/"))},P=x.useCallback(Td((q,H)=>{const D=(t.length+H+q)%t.length;_(t[D].songs[0].song.id),xv.play()},700,{trailing:!1}),[t]),j=(q,H)=>{if(!(q!=null&&q.repeat))b("y",H);else{const D=t.findIndex(K=>!!K.songs.find(Q=>Q.song.id===y));P(H,D)}},V=(q,H=!1)=>{!H&&q===-1&&T&&!p?d([!0,"left"]):b("x",q)},C=x.useRef([]),N=()=>{const q=Kye(r,C.current);for(const H of t)for(const D of H.songs)if(D.index===q){_(D.song.id);return}};gf({accept:k,down:q=>j(q,1),up:q=>j(q,-1),left:()=>V(-1),right:()=>V(1),back:O,random:N},e&&!p,[t,v,p,i,R]);const U=x.useMemo(()=>({"horizontal-vertical":null,accept:null,back:null,shiftR:null,alphanumeric:null,remote:["search","select-song"]}),[]);Af(U,e);const L=x.useCallback(q=>{d([!1,q??null])},[d,V,t,v]);return x.useLayoutEffect(()=>{const[q,H]=u;q&&!p&&H===h&&V(h==="right"?1:-1,!0)},[p,h,T,w,...v]),[y,_,p,L,N]};function Xye(e,t){const n=(e==null?void 0:e.replace("-new-group",""))??null,{songList:r,groupedSongList:i,setFilters:s,filters:l,isLoading:c,selectedPlaylist:d,setSelectedPlaylist:u,playlists:p}=Gye(n),[h,y]=x.useState(!0),v=(P,j)=>{jp(()=>{yf.flushSync(()=>{y(P),j==null||j()})}),Yw.play(!1)},[b,_,w,T,k]=Qye(h,i,()=>v(!1),r.length,l,t),R=b.replace("-new-group",""),[M,E]=x.useState(!1);if(!M&&r.length&&!c){let P="";const j=r.find(V=>V.isNew);e&&r.some(V=>V.id===n)?P=e:j?P=j.id:P=r[ca(0,r.length-1)].id,_(P),E(!0)}x.useEffect(()=>{e!==null&&E(!1)},[e]),x.useEffect(()=>{var P;if(M&&!c&&r.length&&r.some(j=>j.id===R)){const j=new URL((P=global.location)==null?void 0:P.href);j.searchParams.set("song",b),global.history.replaceState(null,"",j.toString())}},[M,b,r,c]);const O=r==null?void 0:r.find(P=>P.id===R);return{groupedSongList:i,focusedSong:b,moveToSong:_,setKeyboardControl:v,keyboardControl:h,songPreview:O,songList:r??[],filters:l,setFilters:s,showFilters:w,setShowFilters:T,isLoading:c||!M,randomSong:k,selectedPlaylist:d,setSelectedPlaylist:u,playlists:p}}const Jye=1.1,HO=4,jL=7,Qx=4.5,qO=jL+Qx,ly=3.5,Zye={Header:({context:e})=>g.jsxs(g.Fragment,{children:[g.jsx(a0e,{}),e&&e.songPreviewProps.songPreview&&g.jsx(Rye,{...e.songPreviewProps,songPreview:e.songPreviewProps.songPreview})]}),Footer:()=>g.jsxs(PL,{children:["Missing a song? Try"," ",g.jsx(Uv,{to:"convert/",children:g.jsx("a",{children:"adding one"})})," ","yourself!"]}),EmptyPlaceholder:()=>g.jsx(i0e,{children:"No songs found"})};function e0e({onSongSelected:e,preselectedSong:t}){const[n,r]=x.useState(t),[i]=St(ai),s=i?HO-1:HO;Ll(!1),Vl(!0),mL();const{focusedSong:l,moveToSong:c,groupedSongList:d,keyboardControl:u,songPreview:p,setKeyboardControl:h,setFilters:y,filters:v,setShowFilters:b,showFilters:_,isLoading:w,randomSong:T,selectedPlaylist:k,setSelectedPlaylist:R,playlists:M,songList:E}=Xye(n,s),O=x.useMemo(()=>d.map(F=>F.songs).flat().find(F=>F.song.id===(p==null?void 0:p.id)),[p,d]),P=x.useMemo(()=>M.find(F=>F.name===k),[M,k]),j=x.useRef(null),V=PN(),{width:C,handleResize:N}=mf(),L=(C-(qO+Qx)*V-(s-1)*ly*V)/s,q=L*(9/16),H=q/2,D=x.useCallback(()=>h(!1),[h]),K=w||!d||!C,Q=k==="Eurovision",J=x.useRef(null);x.useEffect(()=>(global.__songList={scrollToSong:F=>{var Me;const[ge]=F.split("-new-group"),se=F.endsWith("-new-group");return d.find(Re=>!!Re.isNew===se&&Re.songs.some(ye=>ye.song.id===ge))?((Me=j.current)==null||Me.scrollToSongInGroup(F,"instant"),!0):!1}},()=>{delete global.__songList}),[d]);const[{previewTop:B,previewLeft:G},ee]=x.useState(()=>({previewTop:0,previewLeft:0}));x.useEffect(()=>{var ge;const F=document.querySelector(`[data-song-id="${l}"]`);if(!w&&F){const se=(ge=j.current)==null?void 0:ge.getSongPosition(l);ee({previewTop:(se==null?void 0:se.y)??0,previewLeft:F.offsetLeft})}else w||console.warn(`!!!!!!!!!!!! Song not found "${l}" !!!!!!!!!!!!`,l,"focusedSong")},[l,w,C,E]),x.useEffect(()=>{var F;N(),w||(F=j.current)==null||F.scrollToSongInGroup(l)},[C,l,d,w,N]);const ue=Oi();return ri("Shift + E",()=>ue(B0("edit/song/",{playlist:null,step:"metadata"})),[ue]),pi(me.remoteSongSelected,async F=>{if(!E.some(se=>se.id===F))return h(!1,()=>{r(F)});l!==F?(c(F),u||h(!0),D()):u&&D()},[E,l,u,D,c]),u&&n&&n!==l&&!w&&r(null),g.jsx(Bl,{children:g.jsxs(t0e,{songsPerRow:s,style:{"--song-group-header-height":`${Math.floor(H)}px`,"--song-entry-width":`${Math.floor(L)}px`,"--song-entry-height":`${Math.floor(q)}px`,"--song-list-gap":`${Math.floor(ly*V)}px`,"--song-list-padding-left":`${Math.floor(qO*V)}px`,"--song-list-padding-right":`${Math.floor(Qx*V)}px`,"--song-sidebar-weight":`${Math.floor(jL*V)}px`},children:[K?g.jsxs(GO,{children:[g.jsx(KO,{children:g.jsx(QO,{children:g.jsx(Xx,{children:""})})}),new Array(4).fill(0).map((F,ge)=>g.jsx(WO,{children:new Array(4).fill(0).map((se,Se)=>g.jsx(YO,{},Se))},ge))]}):g.jsxs(g.Fragment,{children:[p&&g.jsx(n0e,{videoId:p.video}),g.jsx(Sme,{setFilters:y,filters:v,onRandom:T,keyboardControl:u}),g.jsx(Wme,{container:J.current,groupedSongList:d,onScrollToGroup:F=>{c(Bc(F.songs[0],F)),setTimeout(()=>{var ge;return(ge=j.current)==null?void 0:ge.scrollToGroup(F.name)},20)}}),g.jsx(GO,{active:u,dim:_,"data-test":"song-list-container",ref:J,children:g.jsx(zye,{focusedSong:l,ListRowWrapper:WO,GroupRowWrapper:KO,ref:j,groups:d,itemHeight:Math.floor(q)+Math.floor(ly*V),groupHeight:Math.floor(H)+Math.floor(ly*V),components:Zye,renderGroup:F=>g.jsx(QO,{"data-highlight":F.name==="New",children:g.jsx(Xx,{"data-group-name":F.name,className:"rounded-md",children:F.displayLong??F.name})},F.name),perRow:s,renderItem:(F,ge)=>{const se=Bc(F,ge),Se=se===l;return x.createElement(s0e,{..._||!u?{"data-unfocusable":!0}:{},isPopular:F.isPopular,key:F.song.id,song:F.song,handleClick:Se?D:c,focused:!_&&u&&Se,songId:se,groupLetter:ge.name,"data-song-index":F.index,"data-song-id":se,"data-focused":!_&&u&&Se,"data-test":`song-${Bc(F,ge)}`,"data-group":ge.name,forceFlag:Q})},placeholder:g.jsx(YO,{style:{visibility:"hidden"}}),context:{songPreviewProps:{forceFlag:Q,isPopular:!!(O!=null&&O.isPopular),keyboardControl:!u,onPlay:e,onExitKeyboardControl:()=>h(!0),songPreview:p,top:B,left:G,width:Math.floor(L),height:Math.floor(q)}},Footer:(P==null?void 0:P.footerComponent)??g.jsxs(PL,{children:["Missing a song? Try"," ",g.jsx(Uv,{to:"convert/",children:g.jsx("a",{children:"adding one"})})," ","yourself!"]})})})]}),g.jsx(Mme,{selectedPlaylist:k,setSelectedPlaylist:R,playlists:M,active:_,closePlaylist:b})]})})}const PL=W("div",{target:"e13s0pn12"})(jt,";text-align:center;font-size:5rem;padding:10rem 0;"),t0e=W("div",{target:"e13s0pn11"})({name:"usdvu5",styles:"display:flex;flex-direction:row;max-height:100vh"}),n0e=e=>{const{theme:t}=x.useContext(Jp);return t==="eurovision"?null:g.jsx(r0e,{...e})},r0e=W(wme,{target:"e13s0pn10"})({name:"ybgcp",styles:"position:fixed;inset:0;width:100%;height:100%;filter:blur(7px) grayscale(90%);opacity:0.25;object-fit:cover"}),i0e=W("div",{target:"e13s0pn9"})(jt,";display:flex;align-items:center;justify-content:center;flex:1;height:75vh;font-size:10rem;"),GO=W("div",{target:"e13s0pn8"})("position:relative;flex:1 1 auto;min-height:100vh;max-height:100vh;transition:opacity 500ms;opacity:",e=>e.dim?.5:1,";"),YO=W("div",{target:"e13s0pn7"})({name:"1mtg8xe",styles:"background:black;flex-basis:var(--song-entry-width);height:var(--song-entry-height);border-radius:1rem;animation:skeleton 1s ease-in-out infinite alternate;@keyframes skeleton{0%{opacity:0.65;}100%{opacity:0.75;}}"}),s0e=x.memo(W(_L,{target:"e13s0pn6"})("cursor:pointer;flex-basis:var(--song-entry-width);height:var(--song-entry-height);transition:300ms;transform:scale(1);&[data-focused='true']{transform:scale(",Jye,");z-index:2;",Wd,";}")),a0e=W("div",{target:"e13s0pn5"})(""),VL=W("div",{target:"e13s0pn4"})({name:"1apqsvn",styles:"display:flex;flex-wrap:nowrap;gap:var(--song-list-gap);padding:0 var(--song-list-padding-right) 0 var(--song-list-padding-left);margin-bottom:var(--song-list-gap)"}),KO=W(VL,{target:"e13s0pn3"})(""),WO=W(VL,{target:"e13s0pn2"})({name:"1xj3zav",styles:"position:relative;&[data-is-new='true']{background-color:rgba(0, 0, 0, 0.7);background-position-y:var(--song-list-gap);background-repeat:no-repeat;}"}),Xx=W("div",{target:"e13s0pn1"})(jt,";display:flex;padding:0.5rem 1rem;font-size:5.4rem;z-index:1;color:",$e.colors.text.active,";background:rgba(0, 0, 0, 0.7);align-items:center;gap:1rem;"),QO=W("div",{target:"e13s0pn0"})("display:flex;align-items:flex-end;height:var(--song-group-header-height);&[data-highlight='true']{",Xx,"{animation:new-song-group-header 600ms ease-in-out infinite both;background:#ffffff;@keyframes new-song-group-header{0%,100%{transform:scale(1);}50%{transform:scale(1.1);}}}}");function o0e(e){const[t,n]=St(J0),[r,i]=x.useState(t===null),s=()=>{n(t??[]),i(!1)};return r?g.jsx(DN,{onClose:s,closeText:"Continue to Song Selection"}):g.jsx(e0e,{...e})}function l0e({register:e,onExit:t}){const n=x.useRef(null),[r,i]=x.useState(!1),[s,l]=x.useState(!1),[c,d]=x.useState(!1);x.useEffect(()=>{var h;(h=n.current)==null||h.focus()},[n]);const u=()=>{const h=lt.getSong(),y={songId:h==null?void 0:h.id,songLastUpdated:h==null?void 0:h.lastUpdate},v=[];r&&v.push("not-in-sync"),s&&v.push("wrong-volume"),c&&v.push("bad-lyrics"),v.length&&er.capture("rate-song",{issues:v,...y}),t==null||t()},p=s||r||c;return g.jsx(g.Fragment,{children:g.jsxs(Pt,{"data-test":"rate-song-container",title:"Is the song OK?",children:[g.jsx("h4",{children:"If there's something wrong with the song, let me know so I can fix it"}),g.jsxs(R_,{...e("button-not-in-sync",()=>i(h=>!h)),size:"small",children:[g.jsx(I_,{children:r?g.jsx(By,{}):g.jsx(Ny,{})}),g.jsx("span",{children:"Lyrics are not in sync"})]}),g.jsxs(R_,{...e("button-bad-lyrics",()=>d(h=>!h)),size:"small",children:[g.jsx(I_,{children:c?g.jsx(By,{}):g.jsx(Ny,{})}),g.jsx("span",{children:"Wrong lyrics, missing spaces etc."})]}),g.jsxs(R_,{...e("button-wrong-volume",()=>l(h=>!h)),size:"small",children:[g.jsx(I_,{children:s?g.jsx(By,{}):g.jsx(Ny,{})}),g.jsx("span",{children:"Too loud/quiet"})]}),g.jsx("hr",{}),g.jsx(mt,{...e("button-song-ok",u,void 0,!0),ref:n,children:p?"Submit and exit":"All good, exit the song"})]})})}const R_=En(mt)`gap-4 justify-start pl-4`,I_=W("div",{target:"e1prcfby0"})({name:"224g68",styles:"svg{width:3rem;height:3rem;}display:flex;align-items:center;justify-content:center"}),c0e=x.forwardRef(({...e},t)=>{const n=x.useRef(null);x.useImperativeHandle(t,()=>n.current);const[r,i]=St(xd);return g.jsx(u0e,{className:"text-[2.7rem]",ref:n,label:"Input lag",value:String(r),onChange:s=>i(+s),type:"number",step:50,min:-2e3,max:2e3,adornment:"ms",onKeyDown:s=>{var l;s.code==="Enter"&&((l=n.current)==null||l.blur())},info:"If the sound is not synchronised with the lyrics, use this to compensate it.",...e})}),u0e=W(du,{target:"e1vs2glp0"})({name:"q54eim",styles:"input{text-align:right;}"});function d0e({onResume:e,onExit:t,onRestart:n}){const r=Oi(),i=x.useRef(null),s=x.useRef(null);x.useEffect(()=>{var y;(y=i.current)==null||y.focus()},[i]);const[l,c]=x.useState(!1),{register:d}=dr({enabled:!l}),[u,p]=x.useState(!1),h=async()=>{const y=lt.getSongCompletionProgress(),v=(await fs.getIndex()).find(b=>{var _;return b.id===((_=lt.getSong())==null?void 0:_.id)});!(v!=null&&v.local)&&y<.7?p(!0):t==null||t()};return g.jsxs(Dl,{onClose:e,children:[!u&&g.jsxs(g.Fragment,{children:[g.jsxs(Pt,{children:[g.jsx(mt,{...d("button-resume-song",e),ref:i,children:"Resume song"}),g.jsx(mt,{...d("button-restart-song",n),children:"Restart song"}),g.jsx(mt,{...d("button-exit-song",h),children:"Exit song"}),g.jsx(mt,{...d("input-settings",()=>c(!0)),children:"Microphones settings"}),g.jsx("hr",{}),g.jsx(c0e,{ref:s,...d("input-lag",()=>{var y;return(y=s.current)==null?void 0:y.focus()})}),g.jsx(mt,{...d("edit-song",()=>{var y;return r("edit/song/",{song:((y=lt.getSong())==null?void 0:y.id)??""})}),size:"small",children:"Edit song"})]}),l&&g.jsx(RL,{onClose:()=>c(!1),closeButtonText:"Back to Pause Menu"})]}),u&&g.jsx(l0e,{onExit:t,register:d})]})}const DL=ds()?1e3:8e3;function f0e(e){return Math.floor((Yv(e)-DL)/1e3)}const h0e=2e4;function p0e(e){return Yv(e)-(e.videoGap??0)*1e3>h0e}function g0e({playerRef:e,isEnabled:t}){const[n]=St(ai),r=lt.getSong(),i=x.useMemo(()=>p0e(r),[r]),s=x.useMemo(()=>Yv(r),[r]),l=lt.getCurrentTime(!1)<s-DL*1.2,c=t&&l&&i;gf({accept:()=>{e==null||e.seekTo(f0e(r));const{artist:p,title:h}=lt.getSong();er.capture("introSkipped",{name:`${p} - ${h}`,artist:p,title:h})}},c);const u=x.useMemo(()=>({accept:"Skip Intro",back:"Pause Menu"}),[]);return Af(u,c),!n&&c?g.jsxs(m0e,{visible:c,"data-test":"skip-intro-info",children:["Press ",g.jsx(y0e,{children:"Enter"})," to skip the intro"]}):null}const m0e=W("div",{target:"e167kngm1"})(jt,";pointer-events:none;position:fixed;bottom:29rem;transform:scale(",e=>e.visible?1:0,");opacity:",e=>e.visible?1:0,";text-align:center;font-size:5rem;text-shadow:0 0 3.5rem black;width:100%;z-index:4;padding:0.5rem;transition:ease 500ms;"),y0e=W("kbd",{target:"e167kngm0"})("margin:0.2rem;padding:0.2rem 2rem;border-radius:1.3rem;border:0.5rem solid rgb(204, 204, 204);border-bottom-color:rgb(150, 150, 150);border-right-color:rgb(150, 150, 150);line-height:1.4;display:inline-block;background-color:rgb(247, 247, 247);text-shadow:0 1rem 0 #fff;opacity:",e=>e.disabled?.25:1,";"),v0e=15e3;function A0e({onSongEnd:e,isEnabled:t}){const[n]=St(ai),r=lt.getDuration(),i=x.useMemo(()=>Math.max(...lt.getPlayers().map(v=>Ud(v.getLastNotesSection()))),[]),s=x.useMemo(()=>{var b;const v=z0(i,lt.getSong())+(((b=lt.getSong())==null?void 0:b.gap)??0);return t&&r*1e3>v+v0e},[r,i,t]),[l,c]=x.useState(0),[d,u]=x.useState(!1);QD(()=>c(lt.getCurrentBeat()),1e3);const p=e2(s&&l>i,5e3)&&!d;gf({accept:()=>{u(!0),e&&setTimeout(e,700);const{artist:v,title:b}=lt.getSong();er.capture("outroSkipped",{name:`${v} - ${b}`,artist:v,title:b})}},p);const y=x.useMemo(()=>({accept:"Skip Outro",back:"Pause Menu"}),[]);return Af(y,p),!n&&s?g.jsxs(b0e,{visible:p,"data-test":"skip-outro-info","data-visible":p,children:["Press ",g.jsx(_0e,{children:"Enter"})," to skip the outro"]}):null}const b0e=W("div",{target:"e1b01y1a1"})(jt,";pointer-events:none;position:fixed;bottom:29rem;transform:scale(",e=>e.visible?1:0,");opacity:",e=>e.visible?1:0,";text-align:center;font-size:5rem;text-shadow:0 0 3.5rem black;width:100%;z-index:4;padding:0.5rem;transition:ease 500ms;"),_0e=W("kbd",{target:"e1b01y1a0"})("margin:0.2rem;padding:0.2rem 2rem;border-radius:1.3rem;border:0.5rem solid rgb(204, 204, 204);border-bottom-color:rgb(150, 150, 150);border-right-color:rgb(150, 150, 150);line-height:1.4;display:inline-block;background-color:rgb(247, 247, 247);text-shadow:0 1rem 0 #fff;opacity:",e=>e.disabled?.25:1,";"),S0e=Xe.memo(A0e);function x0e({players:e}){const t=lt.getCurrentTime(!1),n=lt.getSongBeatLength(),r=lt.getDuration(),i=lt.getSong(),s=x.useMemo(()=>L0(i.tracks.filter((d,u)=>e.find(p=>p.track===u)).map(({sections:d})=>El(d)*n+i.gap)),[i,n,e]),l=x.useMemo(()=>L0(i.tracks.filter((d,u)=>e.find(p=>p.track===u)).map(({sections:d})=>xp(d)*n+i.gap)),[i,n,e]),c=r*1e3;return!t||!r?null:g.jsxs(v2,{children:[s.map(d=>g.jsx(XO,{position:d/c},d)),l.map(d=>g.jsx(XO,{position:d/c},d)),g.jsx(T0e,{fill:t/c})]})}const v2=W("div",{target:"e1pz3mwm2"})({name:"1q7pdku",styles:"position:absolute;height:0.6rem;width:100%;background:rgba(0, 0, 0, 0.5);left:0;top:calc(50% - 0.3rem)"}),w0e=W(v2,{target:"e1pz3mwm1"})("top:0;margin-left:-0.25rem;width:0.5rem;background:",$e.colors.text.active,";opacity:75%;"),XO=e=>g.jsx(w0e,{style:{left:`${Math.min(e.position*100,100)}%`}}),E0e=W(v2,{target:"e1pz3mwm0"})({name:"1ssqmyb",styles:"top:0;background:white;opacity:50%"}),T0e=e=>g.jsx(E0e,{style:{width:`${Math.round(e.fill*1e4)/100}%`}});function C0e({player:e,bottom:t=!1,...n}){const r=ur.getPlayerVolume(e.number),i=EL(e.number);return g.jsxs(k0e,{...n,children:[i!=="unavailable"&&g.jsx(qge,{playerNumber:e.number,volume:r}),g.jsx(M0e,{status:i,tooltipPosition:"start"}),g.jsx(R0e,{playerNumber:e.number})]})}const k0e=W("div",{target:"ea232322"})({name:"180gow0",styles:"width:20rem;position:relative"}),M0e=W(kL,{target:"ea232321"})({name:"14rk3pa",styles:"top:auto;right:1rem;bottom:-0.5rem"}),R0e=W(CL,{target:"ea232320"})({name:"ed8znk",styles:"z-index:2;font-size:2rem;margin-right:1rem;-webkit-text-stroke:0.1rem black"});function JO({player:e,bottom:t=!1,effectsEnabled:n,showStatusForAllPlayers:r}){var M;const i=lt.getPlayer(e.number),[s]=St(ai),l=$e.colors.players[e.number].text,c=((M=lt.getSingSetup())==null?void 0:M.mode)===Ci.PASS_THE_MIC?i.getTrack().changes:[],d=i.getCurrentSection(),u=i.getNextSection(),p=i.getNextSection(2),h=lt.getCurrentBeat(),y=lt.getSongBeatLength(),v=Math.max(0,...c.filter(E=>E<=((d==null?void 0:d.start)??-1/0))),b=c.find(E=>E>((d==null?void 0:d.start)??1/0))??1/0,_=(b-h)*y,w=(b-h)/(b-v),T=_<2500,k=un(d),R=k?El([d])-d.start:0;return g.jsxs(V0e,{shouldBlink:T,bottom:t,"data-test":`lyrics-container-player-${e.number}`,children:[!s&&n&&g.jsx(I0e,{children:r?lt.getPlayers().map(E=>g.jsx(ZO,{player:nt.getPlayer(E.getNumber())},E.getNumber())):g.jsx(ZO,{player:e})}),_<1/0&&g.jsx(z0e,{color:l,progress:w<=1?w*100:0}),k?g.jsx(g.Fragment,{children:g.jsxs(cy,{"data-test":`lyrics-current-player-${e.number}`,effectsEnabled:n,children:[g.jsx(O0e,{children:g.jsx(P0e,{color:l,percent:Math.min(2,(h-d.start)/R)})}),d==null?void 0:d.notes.map(E=>{const O=Math.max(0,Math.min(2,(h-E.start)/E.length));return g.jsxs(D0e,{type:E.type,children:[g.jsxs(B0e,{children:[g.jsx(L0e,{fill:O,color:l,children:E.lyrics.trim()}),E.lyrics.endsWith(" ")&&" "]}),E.lyrics]},E.start)}),(u==null?void 0:u.start)===b&&g.jsx(ej,{"data-should-shake":!0})]})}):g.jsx(cy,{effectsEnabled:n,children:""}),un(u)?g.jsxs(cy,{nextLine:!0,"data-test":`lyrics-next-player-${e.number}`,effectsEnabled:n,children:[u.notes.map(E=>g.jsx(x.Fragment,{children:E.lyrics},E.start)),(p==null?void 0:p.start)===b&&g.jsx(ej,{})]}):g.jsx(cy,{effectsEnabled:n,nextLine:!0,children:""})]})}const ZO=W(C0e,{target:"e1j3lo7n10"})({name:"82a6rk",styles:"flex:1"}),I0e=W("div",{target:"e1j3lo7n9"})({name:"zrovsy",styles:"position:absolute;top:0;right:0;display:flex;flex-direction:column;align-items:center;justify-content:center;height:100%"}),O0e=W("span",{target:"e1j3lo7n8"})({name:"1sngsgs",styles:"position:relative;height:0"}),j0e=W("span",{target:"e1j3lo7n7"})({name:"7drlms",styles:"position:absolute;width:15rem;height:3.1rem;margin:0.7rem 0;right:10rem"}),P0e=({percent:e,color:t})=>{const n=x.useMemo(()=>{const r=ke(t).toRgb();return`${r.r}, ${r.g}, ${r.b}`},[t]);return g.jsx(j0e,{style:{transformOrigin:"right",transform:`scaleX(${Math.min(1,2-e)})`,right:`${Math.max(0,1-e)*15}rem`,background:`linear-gradient(270deg, rgba(${n}, 1) 0%, rgba(${n}, 0.5) 25%, rgba(${n}, 0) 100%)`}})},V0e=W("div",{target:"e1j3lo7n6"})("@keyframes blink{100%{background-color:rgba(0, 0, 0, ",e=>e.bottom?"0.85":"0.5",");}30%{background-color:rgba(0, 0, 0, ",e=>e.bottom?"0.85":"0.5",");}50%{background-color:rgba(200, 200, 200, ",e=>e.bottom?"0.85":"0.5",");}30%{background-color:rgba(0, 0, 0, ",e=>e.bottom?"0.85":"0.5",");}0%{background-color:rgba(0, 0, 0, ",e=>e.bottom?"0.85":"0.5",");}}box-sizing:border-box;padding:1rem;background:rgba(0, 0, 0, ",e=>e.bottom?"0.9":"0.5",");width:100%;text-align:center;line-height:1;position:relative;",e=>e.shouldBlink?"animation: blink 350ms ease-in-out infinite both;":"",";"),D0e=W("span",{target:"e1j3lo7n5"})("font-style:",e=>e.type==="freestyle"?"italic":"normal",";"),B0e=W("span",{target:"e1j3lo7n4"})({name:"nffb2y",styles:"position:absolute;z-index:1"}),N0e=W("span",{target:"e1j3lo7n3"})(""),L0e=({fill:e,color:t,children:n})=>g.jsx(N0e,{style:{clipPath:`inset(0 ${(1-(e===0?0:e+.05))*100}% -5rem 0)`,color:`${t}`},children:n}),F0e=W("div",{target:"e1j3lo7n2"})({name:"d6fl9l",styles:"position:absolute;height:1rem;width:100%"}),z0e=e=>g.jsx(F0e,{"data-test":"pass-the-mic-progress",style:{background:e.color,transformOrigin:"left",transform:`scaleX(${e.progress/100})`}}),ej=W(t2,{target:"e1j3lo7n1"})("@keyframes shake{10%,90%{transform:translate3d(-0.1rem, 0, 0);}20%,80%{transform:translate3d(0.2rem, 0, 0);}30%,50%,70%{transform:translate3d(-0.4rem, 0, 0);}40%,60%{transform:translate3d(0.4rem, 0, 0);}}font-size:3rem;margin-left:2rem;&[data-should-shake='true']{animation:shake 0.92s cubic-bezier(0.36, 0.07, 0.19, 0.97) both infinite;fill:",$e.colors.text.active,";font-size:4rem;}"),cy=W("div",{target:"e1j3lo7n0"})("font-size:",({nextLine:e,effectsEnabled:t})=>t?3.5+(e?0:1):2,"rem;height:",({effectsEnabled:e})=>e?4.5:2,"rem;-webkit-text-stroke-width:",({effectsEnabled:e})=>e?"0.2rem":"1px",";color:",({nextLine:e})=>e?$e.colors.text.inactive:$e.colors.text.default,";font-family:'Comic Sans MS',Seravek,'Gill Sans Nova',Ubuntu,Calibri,'DejaVu Sans',source-sans-pro,sans-serif;z-index:10;"),BL=new Intl.NumberFormat(void 0,{maximumFractionDigits:0});function Jx({score:e}){return g.jsx(g.Fragment,{children:BL.format(e)})}var O_,tj;function $0e(){if(tj)return O_;tj=1;var e=4,t=.001,n=1e-7,r=10,i=11,s=1/(i-1),l=typeof Float32Array=="function";function c(_,w){return 1-3*w+3*_}function d(_,w){return 3*w-6*_}function u(_){return 3*_}function p(_,w,T){return((c(w,T)*_+d(w,T))*_+u(w))*_}function h(_,w,T){return 3*c(w,T)*_*_+2*d(w,T)*_+u(w)}function y(_,w,T,k,R){var M,E,O=0;do E=w+(T-w)/2,M=p(E,k,R)-_,M>0?T=E:w=E;while(Math.abs(M)>n&&++O<r);return E}function v(_,w,T,k){for(var R=0;R<e;++R){var M=h(w,T,k);if(M===0)return w;var E=p(w,T,k)-_;w-=E/M}return w}function b(_){return _}return O_=function(w,T,k,R){if(!(0<=w&&w<=1&&0<=k&&k<=1))throw new Error("bezier x values must be in [0, 1] range");if(w===T&&k===R)return b;for(var M=l?new Float32Array(i):new Array(i),E=0;E<i;++E)M[E]=p(E*s,w,k);function O(P){for(var j=0,V=1,C=i-1;V!==C&&M[V]<=P;++V)j+=s;--V;var N=(P-M[V])/(M[V+1]-M[V]),U=j+N*s,L=h(U,w,k);return L>=t?v(P,U,w,k):L===0?U:y(P,j,j+s,w,k)}return function(j){return j===0?0:j===1?1:p(O(j),T,R)}},O_}var U0e=$0e();const H0e=Pr(U0e),NL=6,Is=30,wr=Is+6,q0e=e=>{const t=e.canvas.width,n=e.canvas.height,r=Math.max(0,(t-n*(16/9))/2),i=10+(t-2*r)*.15+r,s=n-e.paddingVertical*2;return{width:t-i*2,height:s/e.playerCount,baseX:i,baseY:e.paddingVertical+e.playerIndex*s/e.playerCount}};function nj({canvas:e,currentSectionIndex:t,song:n,songBeatLength:r,minPitch:i,maxPitch:s,track:l,playerIndex:c,playerCount:d,paddingVertical:u}){var R;const p=l.sections,h=p[t],y=p[t+1],v=q0e({canvas:e,playerCount:d,playerIndex:c,paddingVertical:u}),b=un(h)?(R=h==null?void 0:h.notes)==null?void 0:R.at(-1):void 0,_=un(h)?(y==null?void 0:y.start)??b.start+b.length:h.end,w=h.start*r,T=(_-h.start)*r,k=(v.height-20-Is)/(s-i+NL*2);return{playerCanvas:v,currentSection:h,sectionEndBeat:_,timeSectionGap:w,maxTime:T,pitchStepHeight:k}}function LL(e,t,n,r,i){return i&&n?$e.colors.players[t].starPerfect:i?$e.colors.players[t].perfect:n&&r?$e.colors.players[t].star:r?$e.colors.players[t].hit:$e.colors.players[t].miss}function G0e(e,t,n,r){return LL(e,t,r.note.type==="star",n,r.isPerfect)}const $y={},Y0e=e=>{if(!$y[e]){const t=ke(e);$y[e]=[[t.setAlpha(.8).toRgbString(),t.setAlpha(.9).toRgbString(),t.setAlpha(1).toRgbString()],[t.setAlpha(0).toRgbString()],[t.setAlpha(.1).toRgbString(),t.setAlpha(.3).toRgbString(),t.setAlpha(.2).toRgbString()]]}return $y[e]};console.log("cachedColors",$y);function Zx(e,t,n,r,i,s,l,c=1){if(!(i<=0)){t.globalAlpha=1;try{const d=t.createRadialGradient(n,r,0,n,r,i/2),[u,p,h]=Y0e(l);d.addColorStop(0,u[ca(0,u.length-1)]),d.addColorStop(.05,u[ca(0,u.length-1)]),d.addColorStop(.15,h[ca(0,h.length-1)]),d.addColorStop(1,p[ca(0,p.length-1)]),t.beginPath(),t.arc(n,r,i/2,0,2*Math.PI),t.closePath(),t.fillStyle=d,t.fill(),t.fillStyle=l,t.globalAlpha=1}catch(d){throw console.log("error",d,n,r,0,n,r,i/2),d}}}function A2(e,t,n,r,i,s,l,c,d=1){i>0&&Zx(e,t,n,r,i,s,c,d)}const cp=(e,t)=>e-t+Math.random()*t*2,rj=(e=0)=>Math.sign(e+Math.random()-.5),K0e=500,W0e=100,uy=.2;class Q0e{constructor(t,n,r){this.x=t,this.y=n,this.color=r,this.finished=!1,this.tick=(i,s,l)=>{const c=1-this.ttl/this.startingTtl,d=this.startingTtl-this.ttl,u=this.width*c,p=this.width*this.heightModifier*c,h=this.x-u/2+d*this.velocityX,y=this.y+p/2+d*this.velocityY;A2(s,i,h,y,u,p,this.initialAngle+d,this.color,.5*c),this.ttl=this.ttl-l,this.finished=this.ttl<=0},this.startingTtl=this.ttl=cp(K0e,W0e),this.velocityX=uy*Math.random()-uy/2,this.velocityY=uy*Math.random()-uy/2,this.width=25,this.initialAngle=180-Math.random()*360,this.heightModifier=.5+Math.random()/2}}class X0e{constructor(t,n,r,i,s){this.finished=!0,this.tick=(u,p)=>{};const l=$e.colors.players[i].starPerfect.fill,c=ke(l).lighten(15).toRgbString(),d=ke(l).darken(15).toRgbString();if(Math.random()>.85){const u=ca(0,r/8),p=Math.random();let h=l;p>.66?h=c:p>.33&&(h=d);const y=n+20*(Math.random()-.5);s.add(new Q0e(t+u*8,y,h))}}}const J0e=300,Z0e=50,dy=1.3;class eve{constructor(t,n,r){this.x=t,this.y=n,this.color=r,this.finished=!1,this.tick=(i,s,l)=>{const c=1-this.ttl/this.startingTtl,d=this.ttl,u=this.width*c,p=this.width*this.heightModifier*c,h=this.x-u/2+d*this.velocityX,y=this.y+p/2+d*this.velocityY;A2(s,i,h,y,u,p,this.initialAngle+d,this.color,.7*c),this.ttl=this.ttl-l,this.finished=this.ttl<=0},this.startingTtl=this.ttl=cp(J0e,Z0e),this.velocityX=dy*Math.random()-dy/2,this.velocityY=dy*Math.random()-dy/2,this.width=25,this.initialAngle=180-Math.random()*360,this.heightModifier=.5+Math.random()/2}}const tve=`
precision mediump float;
`,Zv=tve.replace(/\n/g,""),nve=`
attribute vec3 aVertexPosition;
attribute vec2 aTextureCoord;
`,FL=nve.replace(/\n/g,""),rve=`
varying vec3 vVertexPosition;
varying vec2 vTextureCoord;
`,eA=rve.replace(/\n/g,""),ive=Zv+FL+eA+`
uniform mat4 uMVMatrix;
uniform mat4 uPMatrix;

void main() {
    vTextureCoord = aTextureCoord;
    vVertexPosition = aVertexPosition;
    
    gl_Position = uPMatrix * uMVMatrix * vec4(aVertexPosition, 1.0);
}
`;ive.replace(/\n/g,"");const sve=Zv+eA+`
void main() {
    gl_FragColor = vec4(0.0, 0.0, 0.0, 1.0);
}
`;sve.replace(/\n/g,"");const ave=Zv+FL+eA+`
void main() {
    vTextureCoord = aTextureCoord;
    vVertexPosition = aVertexPosition;
    
    gl_Position = vec4(aVertexPosition, 1.0);
}
`;ave.replace(/\n/g,"");const ove=Zv+eA+`
uniform sampler2D uRenderTexture;

void main() {
    gl_FragColor = texture2D(uRenderTexture, vTextureCoord);
}
`;ove.replace(/\n/g,"");function lve(e,t,n){var r=e.length;return n=n===void 0?r:n,!t&&n>=r?e:hE(e,t,n)}var cve="\\ud800-\\udfff",uve="\\u0300-\\u036f",dve="\\ufe20-\\ufe2f",fve="\\u20d0-\\u20ff",hve=uve+dve+fve,pve="\\ufe0e\\ufe0f",gve="\\u200d",mve=RegExp("["+gve+cve+hve+pve+"]");function zL(e){return mve.test(e)}function yve(e){return e.split("")}var $L="\\ud800-\\udfff",vve="\\u0300-\\u036f",Ave="\\ufe20-\\ufe2f",bve="\\u20d0-\\u20ff",_ve=vve+Ave+bve,Sve="\\ufe0e\\ufe0f",xve="["+$L+"]",ew="["+_ve+"]",tw="\\ud83c[\\udffb-\\udfff]",wve="(?:"+ew+"|"+tw+")",UL="[^"+$L+"]",HL="(?:\\ud83c[\\udde6-\\uddff]){2}",qL="[\\ud800-\\udbff][\\udc00-\\udfff]",Eve="\\u200d",GL=wve+"?",YL="["+Sve+"]?",Tve="(?:"+Eve+"(?:"+[UL,HL,qL].join("|")+")"+YL+GL+")*",Cve=YL+GL+Tve,kve="(?:"+[UL+ew+"?",ew,HL,qL,xve].join("|")+")",Mve=RegExp(tw+"(?="+tw+")|"+kve+Cve,"g");function Rve(e){return e.match(Mve)||[]}function Ive(e){return zL(e)?Rve(e):yve(e)}function Ove(e){return function(t){t=dE(t);var n=zL(t)?Ive(t):void 0,r=n?n[0]:t.charAt(0),i=n?lve(n,1).join(""):t.slice(1);return r[e]()+i}}var jve=Ove("toUpperCase");function Pve(e){return jve(dE(e).toLowerCase())}function ij(e,t,n,r,i,s,l,c){const d=Math.max(r,i/2),u=Math.min(d/2,i/2,s);e.beginPath(),e.moveTo(t+u,n),e.lineTo(t+d-u,n),e.quadraticCurveTo(t+d,n,t+d,n+u),e.lineTo(t+d,n+i-u),e.quadraticCurveTo(t+d,n+i,t+d-u,n+i),e.lineTo(t+u,n+i),e.quadraticCurveTo(t,n+i,t,n+i-u),e.lineTo(t,n+u),e.quadraticCurveTo(t,n,t+u,n),e.closePath(),l&&e.fill(),c&&e.stroke()}function b2(e,t,n,r,i,s,l,c,d=.1){ij(e,t,n,r,i,s,l,c),l&&d>0&&(e.save(),ij(e,t,n,r,i,s,!1,!1),e.clip(),e.fillStyle=`rgba(255,255,255,${d})`,e.fillRect(t,n,r,i/2.2),e.restore())}function Wh(e,t){e.fillStyle=t.fill,e.strokeStyle=t.stroke,e.lineWidth=t.lineWidth}function Qh(e,t,n,r,i,s,l){s==="star"?Wh(e,$e.colors.lines.star):s==="freestyle"||s==="rap"?Wh(e,$e.colors.lines.freestyle):s==="rapstar"?Wh(e,{...$e.colors.lines.star,fill:$e.colors.lines.freestyle.fill}):Wh(e,$e.colors.lines.normal),e.shadowBlur=10,e.shadowColor=l!==void 0?$e.colors.players[l].miss.stroke:"rgb(31,31,31)",e.shadowOffsetX=0,e.shadowOffsetY=0,b2(e,t,n,r,i,100,!0,!0,.075),e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0}function Vve(e,t,n,r,i,s,l,c,d){Wh(e,LL(e,s,d,l,c)),e.shadowBlur=5,e.shadowColor="rgba(31,31,31, .7)",e.shadowOffsetX=1,e.shadowOffsetY=1,b2(e,t,n,r,i,100,!0,!0,l?.15:0),e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0}const Tr=10,Dve={start:{x:0,y:0,w:Is/2+Tr,h:Is+Tr*2},middle:{x:Is/2+Tr,y:0,w:1,h:Is+Tr*2},end:{x:Is/2+1+Tr,y:0,w:Is/2+Tr,h:Is+Tr*2}},yd={start:{x:0,y:0,w:wr/2+Tr,h:wr+Tr*2},middle:{x:wr/2+Tr,y:0,w:1,h:wr+Tr*2},end:{x:wr/2+1+Tr,y:0,w:wr/2+Tr,h:wr+Tr*2}},sd=(e,t,n,r,i)=>({draw:(s,l,c,d,u)=>Vve(s,l,c,d,u,e,t,n,r),width:i?wr:Is+1,height:i?wr:Is,padding:Tr,fragments:i?yd:Dve}),fy=e=>({[`p${e}Normal`]:{draw:(t,n,r,i,s)=>Qh(t,n,r,i,s,"normal",e),width:wr+1,height:wr,padding:Tr,fragments:yd},[`p${e}Miss`]:sd(e,!1,!1,!1,!1),[`p${e}Hit`]:sd(e,!0,!1,!1,!0),[`p${e}Perfect`]:sd(e,!0,!0,!1,!0),[`p${e}StarMiss`]:sd(e,!1,!1,!0,!1),[`p${e}StarHit`]:sd(e,!0,!1,!0,!0),[`p${e}StarPerfect`]:sd(e,!0,!0,!0,!0)}),yo={...fy(0),...fy(1),...fy(2),...fy(3),noteStar:{draw:(e,t,n,r,i)=>Qh(e,t,n,r,i,"star"),width:wr+1,height:wr,padding:Tr,fragments:yd},noteFreestyle:{draw:(e,t,n,r,i)=>Qh(e,t,n,r,i,"freestyle"),width:wr+1,height:wr,padding:Tr,fragments:yd},noteRap:{draw:(e,t,n,r,i)=>Qh(e,t,n,r,i,"rap"),width:wr+1,height:wr,padding:Tr,fragments:yd},noteRapstar:{draw:(e,t,n,r,i)=>Qh(e,t,n,r,i,"rapstar"),width:wr+1,height:wr,padding:Tr,fragments:yd}};function Bve(e,t){const n=document.createElement("canvas");return n.width=e,n.height=t,n}const KL=Math.max(...Object.values(yo).map(e=>e.padding*2+e.width)),WL=Object.values(yo).map(e=>e.padding*2+e.height).reduce((e,t)=>e+t,0),QL=Bve(KL,WL),nw=QL.getContext("2d");let Ec=0;const sj=Object.entries(yo).map(([e,t])=>{const n=t.padding*2,r={name:e,x:0,y:Ec,w:t.width+n,h:t.height+n};return Ec=Ec+t.height+n,r}).reduce((e,t)=>({...e,[t.name]:t}),{}),XL=()=>{nw.clearRect(0,0,KL,WL),Ec=0,Object.entries(yo).forEach(([e,t])=>{t.draw(nw,t.padding,Ec+t.padding,t.width,t.height),Ec=Ec+t.padding*2+t.height})};XL();me.songStarted.subscribe(XL);const JL=(e,t)=>({canvas:QL,ctx:nw,x:sj[e].x+yo[e].fragments[t].x,y:sj[e].y+yo[e].fragments[t].y,w:yo[e].fragments[t].w,h:yo[e].fragments[t].h,padding:yo[e].padding}),j_=(e,t,n,r,i,s,l,c=1,d=1)=>{const u=JL(t,n),{canvas:p,w:h,h:y,y:v,x:b,padding:_}=u,w=_*c,T=_*d;return e.imageSmoothingEnabled=!1,e.drawImage(p,b,v,h,y,r-w,i-T,s??h,y),e.imageSmoothingEnabled=!0,u};function ZL(e,t,n,r,i){const s=JL(t,"start"),l=Math.max(i,(s.h-s.padding*2)/2),c=Math.min(1,l/2/(s.w-s.padding)),d=c*s.w,u=d-s.padding*c,p=l-2*u;j_(e,t,"start",n,r,d,void 0,c),p>0&&j_(e,t,"middle",n+d,r,p,void 0,c),j_(e,t,"end",n+p+d,r,d,void 0,c)}const Nve=(e,t)=>`${t!==void 0&&e==="normal"?`p${t}`:"note"}${Pve(e)}`;function e6(e,t,n,r,i,s){const l=Nve(i.type,s);ZL(e,l,t,n,r)}function Lve(e,t,n,r,i,s){e.save(),b2(e,t,n,r,i,100,!1,!1),e.clip(),e.beginPath(),e.strokeStyle="rgba(255,255,255, .35)",e.lineWidth=3,e.lineJoin="round",e.moveTo(t,n+i/2-s.frequencyRecords[0].preciseDistance*i/3);for(let l=1;l<s.frequencyRecords.length;l++)e.lineTo(t+l*(r/(s.frequencyRecords.length-1)),n+i/2-s.frequencyRecords[l].preciseDistance*i/3);e.stroke(),e.closePath(),e.restore(),e.lineJoin="miter"}const Fve=(e,t,n,r)=>{let i=`p${e}`;return n&&r?i=`${i}StarPerfect`:n?i=`${i}Perfect`:r&&t?i=`${i}StarHit`:t?i=`${i}Hit`:r&&!t?i=`${i}StarMiss`:i=`${i}Miss`,i},zve=["star","rapstar"];function $ve(e,t,n,r,i,s,l){const c=Fve(i,s,l.isPerfect,zve.includes(l.note.type));ZL(e,c,t,n,r)}class Uve{constructor(){this.particles=[],this.lastTick=Date.now(),this.getTimeDelta=t=>{const n=Date.now()-t,r=n-this.lastTick;return this.lastTick=n,r},this.tick=(t,n,r=0)=>{const i=this.getTimeDelta(r);this.particles.forEach(s=>s.tick(t,n,i)),this.particles=this.particles.filter(s=>!s.finished)},this.add=t=>this.particles.push(t),this.clearAll=()=>this.particles=[]}}const co=new Uve,Hve=50/60*1e3,qve=25/60*1e3,Gve=100,aj=.3;class Yve{constructor(t,n,r,i){this.x=t,this.y=n,this.color=r,this.delay=i,this.finished=!1,this.tick=(s,l,c)=>{if(this.delay-- >0)return;const d=this.ttl/this.startingTtl,u=this.startingTtl-this.ttl,p=this.width*d,h=this.width*this.heightModifier*d,y=this.x-p/2+u*this.velocityX,v=this.y-h/2+u*this.velocityY;A2(l,s,y,v,p,h,this.initialAngle+u,this.color,.8*d),this.velocityX=this.velocityX-.009,this.velocityY=this.velocityY*1.0075,this.ttl=this.ttl-c,this.finished=this.ttl<=0},this.startingTtl=this.ttl=cp(Hve,qve),this.velocityX=cp(.5,aj)*rj(.2),this.velocityY=cp(.4,aj)*rj(),this.width=Gve,this.initialAngle=180-Math.random()*360,this.heightModifier=.5+Math.random()/2}}class Kve{constructor(t,n,r,i,s,l){this.finished=!0,this.tick=(h,y)=>{};const c=s.type==="star"?$e.colors.players[i].star.fill:$e.colors.players[i].perfect.fill,d=ke(c).lighten(15).toRgbString(),u=ke(c).darken(15).toRgbString(),p=r/9;for(let h=0;h<p;h++){const y=Math.random();let v=c;y>.66?v=d:y>.33&&(v=u);const b=n+20*(Math.random()-.5);l.add(new Yve(t+h*9,b,v,(p-h)/10))}}}const oj=400;class Wve{constructor(t,n,r,i,s){this.x=t,this.y=n,this.width=r,this.note=i,this.playerNumber=s,this.finished=!1,this.ttl=oj,this.tick=(l,c,d)=>{const u=this.ttl/oj;l.save(),l.globalAlpha=u,l.translate(Math.round(c.width*(u-1)),0),e6(l,this.x,this.y,this.width,this.note,this.playerNumber),l.globalAlpha=1,l.restore(),this.ttl=this.ttl-d,this.finished=this.ttl<=0}}}const P_=50/60*1e3,hy=.05,Qve=200,lj=4,Xve=Math.pow;function cj(e){return 1-Xve(1-e,2)}function Jve(e){const t=Math.round(e*100),n=255,r=Math.min(255,Math.max(0,Math.round(255*(200-t*2)/100))),i=Math.max(0,Math.round(255*(100-t)/100));return`rgb(${n}, ${r}, ${i})`}class Zve{constructor(t,n,r,i){this.x=t,this.y=n,this.finished=!1,this.tick=(s,l,c)=>{const d=this.ttl/P_;let u=cj(1-Math.min(1,(1-d)*6));const p=this.maxWidth*u*3/4,h=this.maxWidth*u,y=Jve(1-d);Zx(l,s,this.x,this.y,p,h,"white",u*.35),u=cj(d);const v=u*this.maxWidth/2,b=u*this.maxWidth/2,_=this.x,w=this.y,T=P_-this.ttl;s.globalAlpha=u*.2,Zx(l,s,_+T*this.velocityX,w+T*this.velocityY,v,b,y,u*.2),this.ttl=this.ttl-c,this.finished=this.ttl<=0},this.ttl=P_,this.velocityX=hy*Math.random()-hy/2,this.velocityY=hy*Math.random()-hy/2,this.maxWidth=Math.min(.1+i,1)*(Math.sin(r/70)*lj+(Qve-lj))}}const uj=20;class eAe{constructor(t,n,r,i,s){this.x=t,this.y=n,this.w=r,this.h=i,this.seed=s,this.finished=!1,this.ttl=2/60*1e3,this.tick=(l,c,d)=>{l.strokeStyle="rgba(255,255,255,.25)",l.lineWidth=2,l.beginPath();for(let u=0;u<this.w;u++){const p=this.x+this.w-u,h=(this.h/2+2)*Math.sin(p/uj+this.seed/250);l.lineTo(p,this.y+this.h/2+h)}l.stroke(),l.beginPath();for(let u=0;u<this.w;u++){const p=this.x+this.w-u,h=-1*(this.h/2+2)*Math.sin(p/uj+this.seed/250);l.lineTo(p,this.y+this.h/2+h)}l.stroke(),this.ttl=this.ttl-d,this.finished=this.ttl<=0}}}const dj=20;function tAe(e,t){return e.find(n=>n.start<=t&&n.start+n.length>=t)}class nAe{constructor(t,n=0,r=1){this.canvas=t,this.verticalMargin=n,this.scaleFactor=r,this.loop=!1,this.pauseTime=0,this.pausedOn=0,this.shaders=null,this.start=()=>{me.sectionChange.subscribe(this.onSectionEnd),this.loop=!0,this.drawFrame()},this.pause=()=>{this.end(),this.pausedOn=Date.now()},this.resume=()=>{this.pauseTime+=Date.now()-this.pausedOn,this.start()},this.end=()=>{var i;this.loop=!1,(i=this.shaders)==null||i.cleanup(),me.sectionChange.unsubscribe(this.onSectionEnd)},this.isPlaying=()=>this.loop,this.drawFrame=()=>{const i=Date.now(),s=this.canvas.getContext("2d");if(s){if(lt.isPlaying()&&(s.clearRect(0,0,this.canvas.width,this.canvas.height),nt.getPlayers().forEach((c,d)=>{this.drawPlayer(c.number,s)}),co.tick(s,this.canvas,this.pauseTime)),Tc.get()===30){const l=Date.now(),c=1e3/30,d=l-i>c?c:c-(l-i);this.loop&&setTimeout(this.drawFrame,d,Tc.get())}Tc.get()!==30&&this.loop&&global.requestAnimationFrame(this.drawFrame)}},this.drawPlayer=(i,s)=>{const l=this.getDrawingData(i),{currentSection:c}=nj(l);if(Ps.get()==="high"&&this.setDistortionForce(l),!un(c))return;const d=this.calculateDisplacements(c,l);this.drawNotesToSing(s,l,d),this.drawSungNotes(s,l,d),Ps.get()==="high"&&(this.drawFlare(s,l,d),this.markGoldNotes(c,l))},this.setDistortionForce=i=>{var l,c,d;const s=i.currentSection;if(!un(s))(c=this.shaders)==null||c.updatePlayerForce(i.playerNumber,(((l=this.shaders)==null?void 0:l.getPlayerForce(i.playerNumber))??0)*.99);else{const u=Math.max(0,i.currentBeat-dj),p=i.currentPlayerNotes.filter(_=>_.note.start+_.note.length>=u).filter(_=>g0(_)===0).reduce((_,w)=>_+w.length-Math.max(0,u-w.start),0),h=i.currentPlayerNotes.at(-1),y=((h==null?void 0:h.start)??0)+((h==null?void 0:h.length)??0),v=i.currentBeat-y,b=Math.max(Math.min(Math.pow((p-v/1.5)/dj,3),.98),0);(d=this.shaders)==null||d.updatePlayerForce(i.playerNumber,b)}},this.drawNotesToSing=(i,s,l)=>{un(s.currentSection)&&s.currentSection.notes.forEach(c=>{const{x:d,y:u,w:p,h}=this.getNoteCoords(s,c,c.pitch,!0,l[c.start]);e6(i,d,u,p,c,s.playerNumber)})},this.drawSungNotes=(i,s,l)=>{un(s.currentSection)&&s.currentPlayerNotes.forEach(c=>{const d=g0(c),{x:u,y:p,w:h,h:y}=this.getNoteCoords(s,c,c.note.pitch+d,d===0,l[c.note.start]);(d>0||h>y/2.5)&&($ve(i,u,p,h,s.playerNumber,d===0,c),c.vibrato&&co.add(new eAe(u,p,h,y,s.currentTime)),d===0&&c.frequencyRecords.length>3&&!rp.includes(c.note.type)&&Lve(i,u,p,h,y,c))})},this.drawFlare=(i,s,l)=>{var d;if(!un(s.currentSection))return;const c=tAe(s.currentPlayerNotes,s.currentBeat-185/s.songBeatLength);if(c&&c.distance===0){const u=l[c.note.start]||[0,0],{x:p,y:h,w:y,h:v}=this.getNoteCoords(s,c,c.note.pitch,!0,u),b=rp.includes(c.note.type)?0:c.frequencyRecords.at(-1).preciseDistance,_=p+y,w=this.getPreciseY(h,v,b);co.add(new Zve(_,w,s.currentTime,1)),co.add(new eve(OL(Math.max(p,_-50),_),w,G0e(i,s.playerNumber,!0,c).fill)),(d=this.shaders)==null||d.updatePlayerCenter(s.playerNumber,_,w)}},this.onSectionEnd=i=>{if(lt.isPlaying()){const s=this.getDrawingData(i,-1);if(!un(s.currentSection))return;this.fadeoutNotes(s.currentSection,s),this.explodeNotes(s.currentSection,s)}},this.fadeoutNotes=(i,s)=>{Ps.get()==="high"&&i.notes.forEach(l=>{const{x:c,y:d,w:u,h:p}=this.getNoteCoords(s,l,l.pitch,!0);co.add(new Wve(c,d,u,l,s.playerNumber))})},this.explodeNotes=(i,s)=>{Ps.get()==="high"&&s.playerNotes.filter(c=>(c.distance===0||rp.includes(c.note.type))&&i.notes.includes(c.note)).forEach(c=>{const{x:d,y:u,w:p,h}=this.getNoteCoords(s,c,c.note.pitch,!0);co.add(new Kve(d,u+h/2,p,s.playerNumber,c.note,co))})},this.markGoldNotes=(i,s)=>{i.notes.filter(c=>c.type==="star"||c.type==="rapstar").forEach(c=>{const{x:d,y:u,w:p,h}=this.getNoteCoords(s,c,c.pitch,!0);co.add(new X0e(d,u+h/2,p,s.playerNumber,co))})},this.calculateDisplacements=(i,s)=>{const l={};return Ps.get()==="high"?i.notes.forEach(c=>{const d=s.playerNotes.filter(y=>y.note.start===c.start).filter(y=>y.note.start+y.note.length+30>=s.currentBeat&&y.distance===0).map(y=>y.start+30<s.currentBeat?y.length-(s.currentBeat-30-y.start):y.length).reduce((y,v)=>Math.min(y+v,30),0),u=Math.max(0,(d-5)/(c.type==="star"?3:5)),p=(Math.random()-.5)*u,h=(Math.random()-.5)*u;l[c.start]=[p,h]}):i.notes.forEach(c=>{l[c.start]=[0,0]}),l},this.getDrawingData=(i,s=0)=>{const l=nt.getPlayers(),c=l.findIndex(_=>_.number===i),d=l.length,u=lt.getPlayer(i),p=u.getCurrentSectionIndex()+s,h=lt.getSong(),y=u.getTrack(),v=y.sections[p],b=u.getPlayerNotes();return{playerNumber:i,playerIndex:c,playerCount:d,song:h,songBeatLength:lt.getSongBeatLength(),minPitch:u.getMinPitch(),maxPitch:u.getMaxPitch(),canvas:this.canvas,currentTime:lt.getCurrentTime(),frequencies:u.getPlayerFrequencies(),playerNotes:b,currentPlayerNotes:b.filter(_=>_.note.start>=((v==null?void 0:v.start)??1/0)),track:y,currentBeat:lt.getCurrentBeat(),currentSectionIndex:p,currentSection:v,paddingVertical:this.verticalMargin}},this.getNoteCoordsBase=(i,{start:s,length:l},c,d)=>{const{sectionEndBeat:u,currentSection:p,playerCanvas:h,pitchStepHeight:y}=nj(i),v=un(p)?p.notes[0].start:1,b=h.width/(u-v),_=y*(i.maxPitch-c+NL);return{x:h.baseX+b*(s-v),y:h.baseY+10+_-(d?3:0),w:b*l,h:d?wr:Is}},this.getNoteSlideInAnimationValue=(i,s)=>{const{song:l,currentBeat:c,currentSection:d}=s;if(!d)return i;const u=z0(un(d)?Ud(d)-d.start:d.end-d.start,l),p=z0(c-d.start,l),h=Math.min(1,p/Math.min(2e3,u)),y=Math.round(this.canvas.width*Math.pow(1-h,25)),v=u/30,b=rAe(Math.min(1,p/u)),_=Math.round(v*(.5-b));return{...i,x:i.x+y+_}},this.calculateNoteDisplacement=(i,s,l=[0,0])=>{const[c,d]=s?l:[0,0];return{...i,x:i.x+c,y:i.y+d}},this.getNoteCoords=(i,s,l,c,d=[0,0])=>{let u=this.getNoteCoordsBase(i,s,l,c);return u=this.getNoteSlideInAnimationValue(u,i),u=this.calculateNoteDisplacement(u,c,d),{x:Math.floor(u.x),y:Math.floor(u.y),w:Math.floor(u.w),h:Math.floor(u.h)}},this.getPreciseY=(i,s,l)=>i+s/2-l*s/3}}const rAe=H0e(.25,.5,.75,.5),iAe=`precision mediump float;

const float MAX_FORCE = 300.0;
const int SAMPLE_COUNT = 8; // 2^x
const float INTENSITY = 0.051;
// get our varyings
varying vec3 vVertexPosition;
varying vec2 vTextureCoord;
// the uniform we declared inside our javascript
uniform float uTime;
uniform sampler2D planeTexture;
uniform vec2 uResolution;

uniform vec2 uP0center;
uniform float uP0force;

uniform vec2 uP1center;
uniform float uP1force;

float rnd(float n) {
    return fract(sin(n) * 43758.5453);
}
float random (vec2 st) {
    return rnd(dot(st.xy, vec2(12.9898, 78.233)));
}

vec4 directionalBlur(in vec2 uv, in vec2 direction, in float intensity)
{
    vec4 color = vec4(0.0);

    for (int i=1; i<=SAMPLE_COUNT; i++)
    {
        color += texture2D(planeTexture,uv+float(i)*intensity/float(SAMPLE_COUNT)*direction);
    }

    return color/float(SAMPLE_COUNT);
}

float distort(vec2 center, float force, float comparedIntensity) {
    float actualForce = force * MAX_FORCE;
    vec2 centerAbs = center * uResolution;

    vec2 direction = gl_FragCoord.xy - centerAbs.xy;
    float dist = length(direction) / length(uResolution);


    float intensity = max(0.0, 0.50 - dist) * INTENSITY * pow(force, 1.5);
    if (intensity > comparedIntensity) {
        vec4 newColor = directionalBlur(gl_FragCoord.xy / uResolution, normalize(direction), intensity);
        gl_FragColor = newColor;
    }
    return intensity;
}

void main() {
    gl_FragColor = texture2D(planeTexture, vTextureCoord);
    float p1intensity = distort(uP0center, uP0force, 0.0);
    float p2intensity = distort(uP1center, uP1force, p1intensity);
}`,sAe=`
precision mediump float;

// default mandatory variables
attribute vec3 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat4 uMVMatrix;
uniform mat4 uPMatrix;

uniform mat4 planeTextureMatrix;

// custom varyings
varying vec3 vVertexPosition;
varying vec2 vTextureCoord;

void main() {
    gl_Position = uPMatrix * uMVMatrix * vec4(aVertexPosition, 1.0);

    // varyings
    vVertexPosition = aVertexPosition;
    vTextureCoord = (planeTextureMatrix * vec4(aTextureCoord, 0.0, 1.0)).xy;
}`;function aAe(e,t){e.sort((l,c)=>c[1]-l[1]);const n=e.find(([l])=>l===t)??[t,-1],r=e.findIndex(([l])=>l===t),s=!(e.filter(([,l])=>l===n[1]).length>1)&&r===0;return{score:n[1],isFirst:s}}const oAe=1920,lAe=x.forwardRef(function({currentStatus:e,width:t,height:n,playerSetups:r,onSongEnd:i,effectsEnabled:s,videoPlayerRef:l,isPauseMenuVisible:c},d){var R,M,E;const[u]=St(Ps),[p]=St(ai),h=x.useRef(null),y=x.useRef(null),v=x.useRef(null),b=oAe,_=b*(n/t),w=_/n;x.useImperativeHandle(d,()=>({pause:()=>{var O;return(O=y.current)==null?void 0:O.pause()},resume:()=>{var O;return(O=y.current)==null?void 0:O.resume()}}),[y.current,(R=v.current)==null?void 0:R.offsetHeight,w]),x.useEffect(()=>(lt.startInputMonitoring(),()=>{lt.stopInputMonitoring()}),[]),x.useEffect(()=>{if(!(!h.current||!v.current))return y.current=new nAe(h.current,v.current.offsetHeight*w),y.current.start(),()=>{var O;(O=y.current)==null||O.end()}},[(M=v.current)==null?void 0:M.offsetHeight,w]),x.useEffect(()=>{var O,P,j,V;c&&((O=y.current)!=null&&O.isPlaying())?(P=y.current)==null||P.pause():!c&&!((j=y.current)!=null&&j.isPlaying())&&((V=y.current)==null||V.resume())},[c]),x.useEffect(()=>{e===qn.ENDED&&i&&i()},[e,i]);const T=nt.getPlayers(),k=!p&&T.length>1;return g.jsxs(cAe,{children:[u==="high"&&g.jsxs(g.Fragment,{children:[g.jsx("script",{type:"x-shader/x-fragment",id:"plane-fs",children:iAe}),g.jsx("script",{id:"plane-vs",type:"x-shader/x-vertex",children:sAe}),g.jsx(dAe,{id:"canvas",style:{zIndex:1e4}})]}),g.jsx(uAe,{id:"plane",style:s?void 0:{opacity:0},children:g.jsx("canvas",{ref:h,width:b,height:_,"data-sampler":"planeTexture"})}),s&&g.jsxs(g.Fragment,{children:[g.jsx(g0e,{playerRef:l,isEnabled:!c}),g.jsx(S0e,{onSongEnd:i,isEnabled:!c})]}),g.jsx(x0e,{players:r}),g.jsx(fj,{children:k&&g.jsx(JO,{player:T[0],effectsEnabled:s,showStatusForAllPlayers:T.length>2})}),g.jsx(fAe,{children:s&&g.jsx(g.Fragment,{children:((E=lt.getSingSetup())==null?void 0:E.mode)===Ci.CO_OP?g.jsx(hj,{"data-test":"players-score","data-score":Math.floor(lt.getPlayerScore(0)),children:g.jsx(Jx,{score:lt.getPlayerScore(0)})}):nt.getPlayers().map(O=>{const P=nt.getPlayers().map(C=>[C.number,lt.getPlayerScore(C.number)]),{score:j,isFirst:V}=aAe(P,O.number);return g.jsxs(hj,{className:"relative","data-test":`player-${O.number}-score`,"data-score":Math.floor(j),children:[g.jsx(Jx,{score:j}),g.jsx("div",{className:`text-xl transition-all duration-200 absolute rotate-12 top-12 ${V?"-right-10":"-right-36"}`,children:V?g.jsx("div",{className:"motion-preset-pulse-sm opacity-75",children:""}):""})]},O.number)})})}),g.jsx(fj,{ref:v,children:g.jsx(JO,{showStatusForAllPlayers:T.length>2,player:T.length>2?T[0]:T.at(-1),bottom:!0,effectsEnabled:s})})]})}),fj=W("div",{target:"el0barv5"})({name:"14ci2tu",styles:"padding:2rem 0;box-sizing:border-box"}),cAe=W("div",{target:"el0barv4"})({name:"y3i90j",styles:"height:100%;color:white;-webkit-text-stroke:0.2rem black;font-weight:bold;position:relative;display:flex;flex-direction:column"}),uAe=W("div",{target:"el0barv3"})({name:"1x1omeb",styles:"position:absolute;top:0;left:0;width:100%;height:100%;canvas{width:100%;height:100%;}"}),dAe=W("div",{target:"el0barv2"})({name:"1b4920d",styles:"position:absolute;top:0;left:0;width:100%;height:100%"}),fAe=W("div",{target:"el0barv1"})({name:"od05bk",styles:"flex:1;height:100%;box-sizing:border-box;font-size:5.5rem;display:flex;justify-content:space-around;padding-right:4rem;flex-direction:column;text-align:right;z-index:1"}),hj=W("span",{target:"el0barv0"})("");function hAe(e,t){const[n,r]=x.useState(0);return x.useEffect(()=>{e.current&&t===qn.PLAYING&&n===0&&e.current.getDuration().then(i=>{r(i),lt.setDuration(i)})},[n,e,t]),n}const t6=(e,t)=>{const[n,r]=x.useState(0),[i,s]=x.useState(qn.UNSTARTED),[l]=St(xd);return x.useEffect(()=>{if(e.current&&i===qn.PLAYING){const c=setInterval(async()=>{if(!e.current)return;const d=Math.max(0,await e.current.getCurrentTime()*1e3-l);r(d),t==null||t(d)},1e3/Tc.get());return()=>clearInterval(c)}},[e,i,l]),[i,s,n]};function pAe({song:e,width:t,height:n,autoplay:r=!0,showControls:i=!1,onCurrentTimeUpdate:s,onSongEnd:l,onStatusChange:c,effectsEnabled:d=!0,singSetup:u,restartSong:p,pauseMenu:h=!1,ref:y,...v}){const b=x.useRef(null),[_,w]=x.useState(!1),T=x.useCallback(U=>{s==null||s(U),lt.setCurrentTime(U),lt.update()},[s]),[k,R]=t6(b,T);x.useEffect(()=>(lt.setSong(e),lt.setSingSetup(u),()=>{lt.resetSingSetup()}),[e,u]);const M=hAe(b,k);x.useImperativeHandle(y,()=>({seekTo:U=>b.current.seekTo(U),setPlaybackSpeed:U=>b.current.setPlaybackSpeed(U),play:()=>b.current.playVideo(),pause:()=>b.current.pauseVideo()}));const E=x.useCallback(U=>{R(U),c==null||c(U)},[R,c]),O=h,P=()=>{var U;w(!0),(U=b.current)==null||U.pauseVideo()},j=()=>{var U;w(!1),(U=b.current)==null||U.playVideo()},V=()=>{_?j():P()},C=Wx(k);x.useEffect(()=>{var L;if(!O)return;const U=C!==qn.PAUSED&&C!==qn.BUFFERING&&k===qn.PAUSED;k===qn.PLAYING&&_?(L=b.current)==null||L.pauseVideo():U&&!_&&w(!0)},[_,k,C,O]),gf({back:V},O,[_]);const N=x.useMemo(()=>({back:"Pause Menu"}),[]);return Af(N,d),g.jsxs(gAe,{...v,children:[_&&g.jsx(d0e,{onExit:l,onResume:j,onRestart:p}),k!==qn.UNSTARTED&&g.jsx(mAe,{style:{width:`${t}px`,height:`${n}px`},children:g.jsx(lAe,{isPauseMenuVisible:_,effectsEnabled:d,duration:M,currentStatus:k,song:e,width:t,height:n,onSongEnd:l,playerSetups:u.players,videoPlayerRef:b.current})}),g.jsxs(yAe,{children:[g.jsx(Wv,{ref:b,video:e.video,width:t,height:n,controls:i,autoplay:r,disablekb:!0,volume:e.volume,startAt:e.videoGap??0,onStateChange:E}),k===qn.PLAYING&&g.jsx(vAe,{"data-test":"make-song-go-fast",onClick:()=>{var U;(U=b.current)==null||U.setPlaybackSpeed(2)}})]})]})}const gAe=W("div",{target:"e1ggxuxd3"})({name:"bjn8wh",styles:"position:relative"}),mAe=W("div",{target:"e1ggxuxd2"})({name:"qkt6ng",styles:"position:absolute;z-index:1;background-color:rgba(0, 0, 0, 0.2);pointer-events:none;width:100%;height:100%;top:0;left:0"}),yAe=W("div",{target:"e1ggxuxd1"})({name:"j387f9",styles:"overflow:hidden;height:100%"}),vAe=W("div",{target:"e1ggxuxd0"})({name:"sp3f84",styles:"width:30px;height:30px;opacity:0.01;background:black;position:absolute;bottom:calc(100vh / 2 - 15px);left:0"}),AAe=()=>{const[e,{width:t}]=Kte(),n=x.useRef(null),[r,i,s]=t6(n),[l,c]=x.useState(250);return x.useEffect(()=>{l<s&&c(l+250)},[l,s]),x.useEffect(()=>{var d;r===qn.PLAYING&&((d=n.current)==null||d.setPlaybackSpeed(.25))},[r]),g.jsxs("div",{className:"flex flex-col items-center justify-center",ref:e,children:[r===qn.PLAYING?g.jsx("div",{className:"w-[150px] h-[150px] rounded-full bg-active animate-calibrationPulse scale-0 absolute pointer-events-none"},l):g.jsxs(ps,{className:"pointer-events-none absolute text-center",children:[g.jsx("strong",{children:"Click here"})," to start calibration"]}),g.jsx("div",{className:"opacity-0",children:g.jsx(Wv,{autoplay:!0,ref:n,video:"ivNFSVAYVZU",width:t,height:150,onStateChange:i})})]})},bAe={vertical:null,horizontal:"Adjust input lag"},_Ae=({onClick:e,focused:t,...n})=>{const[r,i]=St(xd);return Af(bAe,t),ri("left",()=>i(r-50),{enabled:t},[r]),ri("right",()=>i(r+50),{enabled:t},[r]),g.jsxs(Pt.ButtonGroup,{...n,children:[g.jsx(Pt.Button,{onClick:()=>i(r-50),className:"aspect-square",focused:t,children:""}),g.jsxs(Pt.Button,{readOnly:!0,className:"flex-1","data-test":"input-lag-value","data-value":r,children:[r," ms"]}),g.jsx(Pt.Button,{onClick:()=>i(r+50),className:"aspect-square",focused:t,children:""})]})},n6=({onClose:e,onSave:t})=>{const n=x.useRef(null),{register:r}=dr({onBackspace:e});return g.jsxs(g.Fragment,{children:[g.jsx(Pt.Header,{children:"Sync video with sound "}),g.jsxs(Pt.HelpText,{children:["Make sure the ",g.jsx("strong",{children:"circle"})," appears at the same time as the ",g.jsx("strong",{children:"click sound"}),"."]}),g.jsx(AAe,{}),g.jsxs(Pt.HelpText,{children:["Click ",g.jsx("strong",{children:""})," if you hear the click ",g.jsx("strong",{children:"before"})," the circle."]}),g.jsx(_Ae,{ref:n,...r("input-lag",()=>{var i;return(i=n.current)==null?void 0:i.focus()})}),g.jsxs(Pt.HelpText,{className:"text-right",children:["Click ",g.jsx("strong",{children:""})," if you hear the click ",g.jsx("strong",{children:"after"})," the circle."]}),g.jsx(Pt.Divider,{}),g.jsx(Pt.Button,{...r("save",t),children:"Looks good, play the song"})]})},SAe=({onContinue:e})=>{const{register:t}=dr({onBackspace:e});return g.jsxs(g.Fragment,{children:[g.jsx(Pt.Header,{children:"Calibration"}),g.jsx(Pt.HelpText,{children:"Before you sing, ensure the sound is synchronized with video."}),g.jsxs(Pt.HelpText,{children:["You can adjust the synchronization in ",g.jsx("strong",{children:"Pause Menu"})," later."]}),g.jsx(Pt.Button,{...t("continue",e),children:"Continue"})]})},xAe=Wt(g.jsx("path",{d:"M16.59 7.58 10 14.17l-3.59-3.58L5 12l5 5 8-8zM12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8"}),"CheckCircleOutline"),V_=15;function wAe({onFinish:e}){const[t,n]=x.useState(!1),[r,i]=x.useState([]);pi(me.readinessConfirmed,c=>{i(d=>[...d,c])});const s=hs([me.inputListChanged,me.readinessConfirmed],()=>nt.getPlayers().map((c,d)=>[c.input.deviceId,c.getName(),c]));x.useEffect(()=>{(async()=>{let c=!1;const d=nt.requestReadiness().then(()=>{c=!0,n(!0)}),u=cd(1500),p=cd(V_*1e3);await cd(250),c||await Ry.play(),await Promise.race([Promise.all([d,u]),p]),Ry.playing()&&pD.play(),await cd(500),Ry.stop(),await cd(1e3),e()})()},[]);const l=s.map(([c,d,u])=>({confirmed:r.includes(c),name:d,player:u}));return g.jsx(g.Fragment,{children:g.jsxs(EAe,{children:[!t&&g.jsxs("span",{children:["Waiting for all players to click ",g.jsx("strong",{children:'"Ready"'})]}),g.jsx(CAe,{children:l.map(({confirmed:c,name:d,player:u},p)=>g.jsxs(kAe,{className:"ph-no-capture","data-test":"player-confirm-status","data-name":d,"data-confirmed":c,children:[!t&&g.jsx(MAe,{children:c?g.jsx(xAe,{}):g.jsx(og,{color:"info",size:"1em"})})," ",g.jsx(ML,{player:u})]},p))}),!t&&g.jsxs(TAe,{children:["The song will start automatically in"," ",g.jsx("strong",{children:g.jsx(o2,{end:0,start:V_,duration:V_,useEasing:!1})})]})]})})}const EAe=W("div",{target:"e1wiz9j54"})("top:0;left:0;z-index:1000;display:flex;align-items:center;justify-content:center;flex-direction:column;position:absolute;width:100%;height:100%;gap:5rem;font-size:5rem;",jt,";"),TAe=W("span",{target:"e1wiz9j53"})({name:"1umnjfm",styles:"font-size:5rem"}),CAe=W("div",{target:"e1wiz9j52"})({name:"1uxgijs",styles:"display:flex;flex-direction:column;gap:5rem;width:50rem;view-transition-name:player-mic-check-container"}),kAe=W("div",{target:"e1wiz9j51"})({name:"174652e",styles:"display:flex;align-items:center;gap:2rem;transform:scale(1.5)"}),MAe=W("span",{target:"e1wiz9j50"})({name:"1l5xwqu",styles:"svg{width:5rem;height:5rem;stroke:black;}"}),pj=[g.jsxs(g.Fragment,{children:["You can follow the updates and give feedback on the game through the Facebook Page:"," ",g.jsx("a",{href:"https://www.facebook.com/allkaraoke.party",target:"_blank",rel:"noreferrer",children:g.jsx("strong",{children:"fb.com/AllKaraoke.Party"})})]}),g.jsxs(g.Fragment,{children:["Start typing a name of a song in ",g.jsx("strong",{children:"Song Selection"})," to active Search feature"]}),g.jsxs(g.Fragment,{children:["Narrow down songs through ",g.jsx("strong",{children:"playlists"})," on the right in Song Selection"]}),g.jsxs(g.Fragment,{children:["Select ",g.jsx("strong",{children:"Pass The Mic"})," Game Mode to share the microphones and sing in a team"]}),g.jsxs(g.Fragment,{children:["Your scores and ",g.jsx("strong",{children:"stats are saved"})," in this browser - they will be available for the next party!"]}),g.jsxs(g.Fragment,{children:["You can remove irrelevant songs from the Song Selection in ",g.jsx("strong",{children:"Edit Songs"})," page"]}),g.jsxs(g.Fragment,{children:["If the game feels a bit jaggy with low FPS, check out ",g.jsx("strong",{children:"Settings"})," page"]}),g.jsxs(g.Fragment,{children:["Party is only getting started? Play ",g.jsx("strong",{children:"Jukebox"})," for the music and to see what songs are available"]}),g.jsxs(g.Fragment,{children:["Research shows that ",g.jsx("strong",{children:"duet songs"})," are that bit more fun than simple one-track ones"]}),g.jsxs(g.Fragment,{children:["Want to sing a ",g.jsx("strong",{children:"new song"}),"? Find UltraStar version of it and import it with",g.jsx("br",{}),g.jsx("strong",{children:"Convert Ultrastar .txt"})]}),g.jsxs(g.Fragment,{children:["The ",g.jsx("strong",{children:"white pulse"})," around selected song in Song Selection tries to match song's tempo"]}),g.jsxs(g.Fragment,{children:["Entire game (besides add/edit song) is navigable with ",g.jsx("strong",{children:"Keyboard"})]}),g.jsxs(g.Fragment,{children:["You can hide or show keyboard navigation help with ",g.jsx("kbd",{children:"H"})," key"]}),g.jsxs(g.Fragment,{children:["In Song Selection, hold ",g.jsx("kbd",{children:""})," or ",g.jsx("kbd",{children:""})," to jump to the next letter"]}),g.jsxs(g.Fragment,{children:["Add ",g.jsx("strong",{children:"vibrato"})," to the notes you sing to get additional ",g.jsx("strong",{children:"bonus points"})]}),g.jsxs(g.Fragment,{children:["You can control the game with your phone - click on the"," ",g.jsxs("strong",{children:[g.jsx(R0,{}),"QR Code Icon"]})," ","on the top right and follow the instructions"]})],RAe=({as:e="h4",...t})=>{const n=x.useRef(ca(0,pj.length-1)),r=e;return g.jsx(r,{...t,children:pj[n.current]})};function IAe(){const[e,t]=x.useState(""),n=x.useRef(null);return x.useEffect(()=>{const r=setTimeout(()=>{t(Fi.getVideo())},1e3);return()=>{clearTimeout(r)}},[]),x.useEffect(()=>{try{n.current&&(n.current.playbackRate=16)}catch(r){ua(r)}},[e]),g.jsxs("div",{className:"flex flex-col",children:[g.jsx(OAe,{src:e,ref:n,loop:!0,autoPlay:!0,className:"ph-no-capture"}),g.jsxs(ps,{className:"text-center mt-4",children:["You can disable camera mode in ",g.jsx("strong",{children:"Settings"}),"."]})]})}const OAe=W("video",{target:"e1hckw6c0"})({name:"13oog92",styles:"object-fit:cover;width:100%;aspect-ratio:4/3;border-radius:1rem"}),jAe="/assets/timelapse-C72FPkyX.webm",PAe=({register:e,onConfirm:t,loading:n})=>{const r=x.useRef(null),i=Fi.getPermissionStatus();return x.useEffect(()=>{!n&&i&&Fi.getLiveCameraFeed().then(s=>{r.current&&s&&(r.current.srcObject=s)})},[n]),g.jsxs("div",{className:`aspect-[4/3] relative flex justify-center ${i?"items-end":"items-center"}`,children:[g.jsx("div",{className:"bg-black rounded-2xl",children:g.jsx("video",{autoPlay:!0,loop:!0,src:jAe,className:`rounded-2xl ${!i&&"opacity-25"}`,ref:r})}),g.jsx("div",{className:"absolute flex flex-col gap-4 p-4",children:i?g.jsx("h3",{children:"Adjust the camera position"}):g.jsxs(g.Fragment,{children:[g.jsxs("h2",{children:["Get a ",g.jsx("strong",{children:"timelapse"})," of you singing"]}),g.jsx(HE,{className:"w-full p-4 animate-focused",...e("enable-camera",t,void 0,!1,{disabled:n}),children:"Enable camera"}),g.jsx(ps,{className:"text-sm",children:"The recording is not sent nor stored anywhere."})]})}),!i&&g.jsxs(ps,{className:"absolute right-0 bottom-0 text-sm p-4",children:["Placeholder video from"," ",g.jsx("a",{href:"https://www.storyblocks.com/",target:"_blank",rel:"noreferrer",children:"Storyblocks.com"})]})]})};function VAe(e){return 1-Math.pow(1-e,3)}function DAe(e){return VAe(e)}function py({color:e,maxScore:t,score:n}){return g.jsx(BAe,{style:{border:n===0?0:void 0,width:`${DAe(n/t)*24}%`,backgroundColor:e}})}const BAe=W("div",{target:"e6b38g50"})({name:"1vc31u",styles:`background-image:linear-gradient(
    180deg,
    rgba(0, 0, 0, 0.17) 0%,
    rgba(0, 0, 0, 0.03) 50%,
    rgba(0, 0, 0, 0.18) 51%,
    rgba(0, 0, 0, 0.18) 100%
  );transition:1s;border-radius:0.5rem;height:100%;border:solid 0.1rem black;box-sizing:border-box`});var Uy={exports:{}},NAe=Uy.exports,gj;function LAe(){return gj||(gj=1,function(e,t){(function(n,r){e.exports=r(Zc())})(typeof self<"u"?self:NAe,n=>(()=>{var r={7403:(c,d,u)=>{u.d(d,{default:()=>Q});var p=u(4087),h=u.n(p);const y=function(J){return new RegExp(/<[a-z][\s\S]*>/i).test(J)},v=function(J,B){return Math.floor(Math.random()*(B-J+1))+J};var b="TYPE_CHARACTER",_="REMOVE_CHARACTER",w="REMOVE_ALL",T="REMOVE_LAST_VISIBLE_NODE",k="PAUSE_FOR",R="CALL_FUNCTION",M="ADD_HTML_TAG_ELEMENT",E="CHANGE_DELETE_SPEED",O="CHANGE_DELAY",P="CHANGE_CURSOR",j="PASTE_STRING",V="HTML_TAG";function C(J){return C=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(B){return typeof B}:function(B){return B&&typeof Symbol=="function"&&B.constructor===Symbol&&B!==Symbol.prototype?"symbol":typeof B},C(J)}function N(J,B){var G=Object.keys(J);if(Object.getOwnPropertySymbols){var ee=Object.getOwnPropertySymbols(J);B&&(ee=ee.filter(function(ue){return Object.getOwnPropertyDescriptor(J,ue).enumerable})),G.push.apply(G,ee)}return G}function U(J){for(var B=1;B<arguments.length;B++){var G=arguments[B]!=null?arguments[B]:{};B%2?N(Object(G),!0).forEach(function(ee){D(J,ee,G[ee])}):Object.getOwnPropertyDescriptors?Object.defineProperties(J,Object.getOwnPropertyDescriptors(G)):N(Object(G)).forEach(function(ee){Object.defineProperty(J,ee,Object.getOwnPropertyDescriptor(G,ee))})}return J}function L(J){return function(B){if(Array.isArray(B))return q(B)}(J)||function(B){if(typeof Symbol<"u"&&B[Symbol.iterator]!=null||B["@@iterator"]!=null)return Array.from(B)}(J)||function(B,G){if(B){if(typeof B=="string")return q(B,G);var ee=Object.prototype.toString.call(B).slice(8,-1);return ee==="Object"&&B.constructor&&(ee=B.constructor.name),ee==="Map"||ee==="Set"?Array.from(B):ee==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(ee)?q(B,G):void 0}}(J)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function q(J,B){(B==null||B>J.length)&&(B=J.length);for(var G=0,ee=new Array(B);G<B;G++)ee[G]=J[G];return ee}function H(J,B){for(var G=0;G<B.length;G++){var ee=B[G];ee.enumerable=ee.enumerable||!1,ee.configurable=!0,"value"in ee&&(ee.writable=!0),Object.defineProperty(J,K(ee.key),ee)}}function D(J,B,G){return(B=K(B))in J?Object.defineProperty(J,B,{value:G,enumerable:!0,configurable:!0,writable:!0}):J[B]=G,J}function K(J){var B=function(G,ee){if(C(G)!=="object"||G===null)return G;var ue=G[Symbol.toPrimitive];if(ue!==void 0){var F=ue.call(G,"string");if(C(F)!=="object")return F;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(G)}(J);return C(B)==="symbol"?B:String(B)}const Q=function(){function J(ee,ue){var F=this;if(function(se,Se){if(!(se instanceof Se))throw new TypeError("Cannot call a class as a function")}(this,J),D(this,"state",{cursorAnimation:null,lastFrameTime:null,pauseUntil:null,eventQueue:[],eventLoop:null,eventLoopPaused:!1,reverseCalledEvents:[],calledEvents:[],visibleNodes:[],initialOptions:null,elements:{container:null,wrapper:document.createElement("span"),cursor:document.createElement("span")}}),D(this,"options",{strings:null,cursor:"|",delay:"natural",pauseFor:1500,deleteSpeed:"natural",loop:!1,autoStart:!1,devMode:!1,skipAddStyles:!1,wrapperClassName:"Typewriter__wrapper",cursorClassName:"Typewriter__cursor",stringSplitter:null,onCreateTextNode:null,onRemoveNode:null}),D(this,"setupWrapperElement",function(){F.state.elements.container&&(F.state.elements.wrapper.className=F.options.wrapperClassName,F.state.elements.cursor.className=F.options.cursorClassName,F.state.elements.cursor.innerHTML=F.options.cursor,F.state.elements.container.innerHTML="",F.state.elements.container.appendChild(F.state.elements.wrapper),F.state.elements.container.appendChild(F.state.elements.cursor))}),D(this,"start",function(){return F.state.eventLoopPaused=!1,F.runEventLoop(),F}),D(this,"pause",function(){return F.state.eventLoopPaused=!0,F}),D(this,"stop",function(){return F.state.eventLoop&&((0,p.cancel)(F.state.eventLoop),F.state.eventLoop=null),F}),D(this,"pauseFor",function(se){return F.addEventToQueue(k,{ms:se}),F}),D(this,"typeOutAllStrings",function(){return typeof F.options.strings=="string"?(F.typeString(F.options.strings).pauseFor(F.options.pauseFor),F):(F.options.strings.forEach(function(se){F.typeString(se).pauseFor(F.options.pauseFor).deleteAll(F.options.deleteSpeed)}),F)}),D(this,"typeString",function(se){var Se=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(y(se))return F.typeOutHTMLString(se,Se);if(se){var Me=(F.options||{}).stringSplitter,Re=typeof Me=="function"?Me(se):se.split("");F.typeCharacters(Re,Se)}return F}),D(this,"pasteString",function(se){var Se=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;return y(se)?F.typeOutHTMLString(se,Se,!0):(se&&F.addEventToQueue(j,{character:se,node:Se}),F)}),D(this,"typeOutHTMLString",function(se){var Se=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,Me=arguments.length>2?arguments[2]:void 0,Re=function(Fe){var Ve=document.createElement("div");return Ve.innerHTML=Fe,Ve.childNodes}(se);if(Re.length>0)for(var ye=0;ye<Re.length;ye++){var je=Re[ye],Ge=je.innerHTML;je&&je.nodeType!==3?(je.innerHTML="",F.addEventToQueue(M,{node:je,parentNode:Se}),Me?F.pasteString(Ge,je):F.typeString(Ge,je)):je.textContent&&(Me?F.pasteString(je.textContent,Se):F.typeString(je.textContent,Se))}return F}),D(this,"deleteAll",function(){var se=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"natural";return F.addEventToQueue(w,{speed:se}),F}),D(this,"changeDeleteSpeed",function(se){if(!se)throw new Error("Must provide new delete speed");return F.addEventToQueue(E,{speed:se}),F}),D(this,"changeDelay",function(se){if(!se)throw new Error("Must provide new delay");return F.addEventToQueue(O,{delay:se}),F}),D(this,"changeCursor",function(se){if(!se)throw new Error("Must provide new cursor");return F.addEventToQueue(P,{cursor:se}),F}),D(this,"deleteChars",function(se){if(!se)throw new Error("Must provide amount of characters to delete");for(var Se=0;Se<se;Se++)F.addEventToQueue(_);return F}),D(this,"callFunction",function(se,Se){if(!se||typeof se!="function")throw new Error("Callback must be a function");return F.addEventToQueue(R,{cb:se,thisArg:Se}),F}),D(this,"typeCharacters",function(se){var Se=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(!se||!Array.isArray(se))throw new Error("Characters must be an array");return se.forEach(function(Me){F.addEventToQueue(b,{character:Me,node:Se})}),F}),D(this,"removeCharacters",function(se){if(!se||!Array.isArray(se))throw new Error("Characters must be an array");return se.forEach(function(){F.addEventToQueue(_)}),F}),D(this,"addEventToQueue",function(se,Se){var Me=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return F.addEventToStateProperty(se,Se,Me,"eventQueue")}),D(this,"addReverseCalledEvent",function(se,Se){var Me=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return F.options.loop?F.addEventToStateProperty(se,Se,Me,"reverseCalledEvents"):F}),D(this,"addEventToStateProperty",function(se,Se){var Me=arguments.length>2&&arguments[2]!==void 0&&arguments[2],Re=arguments.length>3?arguments[3]:void 0,ye={eventName:se,eventArgs:Se||{}};return F.state[Re]=Me?[ye].concat(L(F.state[Re])):[].concat(L(F.state[Re]),[ye]),F}),D(this,"runEventLoop",function(){F.state.lastFrameTime||(F.state.lastFrameTime=Date.now());var se=Date.now(),Se=se-F.state.lastFrameTime;if(!F.state.eventQueue.length){if(!F.options.loop)return;F.state.eventQueue=L(F.state.calledEvents),F.state.calledEvents=[],F.options=U({},F.state.initialOptions)}if(F.state.eventLoop=h()(F.runEventLoop),!F.state.eventLoopPaused){if(F.state.pauseUntil){if(se<F.state.pauseUntil)return;F.state.pauseUntil=null}var Me,Re=L(F.state.eventQueue),ye=Re.shift();if(!(Se<=(Me=ye.eventName===T||ye.eventName===_?F.options.deleteSpeed==="natural"?v(40,80):F.options.deleteSpeed:F.options.delay==="natural"?v(120,160):F.options.delay))){var je=ye.eventName,Ge=ye.eventArgs;switch(F.logInDevMode({currentEvent:ye,state:F.state,delay:Me}),je){case j:case b:var Fe=Ge.character,Ve=Ge.node,ze=document.createTextNode(Fe),ot=ze;F.options.onCreateTextNode&&typeof F.options.onCreateTextNode=="function"&&(ot=F.options.onCreateTextNode(Fe,ze)),ot&&(Ve?Ve.appendChild(ot):F.state.elements.wrapper.appendChild(ot)),F.state.visibleNodes=[].concat(L(F.state.visibleNodes),[{type:"TEXT_NODE",character:Fe,node:ot}]);break;case _:Re.unshift({eventName:T,eventArgs:{removingCharacterNode:!0}});break;case k:var Qe=ye.eventArgs.ms;F.state.pauseUntil=Date.now()+parseInt(Qe);break;case R:var Ue=ye.eventArgs,pt=Ue.cb,Jt=Ue.thisArg;pt.call(Jt,{elements:F.state.elements});break;case M:var hn=ye.eventArgs,He=hn.node,Nn=hn.parentNode;Nn?Nn.appendChild(He):F.state.elements.wrapper.appendChild(He),F.state.visibleNodes=[].concat(L(F.state.visibleNodes),[{type:V,node:He,parentNode:Nn||F.state.elements.wrapper}]);break;case w:var At=F.state.visibleNodes,pn=Ge.speed,gn=[];pn&&gn.push({eventName:E,eventArgs:{speed:pn,temp:!0}});for(var rt=0,yt=At.length;rt<yt;rt++)gn.push({eventName:T,eventArgs:{removingCharacterNode:!1}});pn&&gn.push({eventName:E,eventArgs:{speed:F.options.deleteSpeed,temp:!0}}),Re.unshift.apply(Re,gn);break;case T:var dt=ye.eventArgs.removingCharacterNode;if(F.state.visibleNodes.length){var xt=F.state.visibleNodes.pop(),Zt=xt.type,wt=xt.node,kt=xt.character;F.options.onRemoveNode&&typeof F.options.onRemoveNode=="function"&&F.options.onRemoveNode({node:wt,character:kt}),wt&&wt.parentNode.removeChild(wt),Zt===V&&dt&&Re.unshift({eventName:T,eventArgs:{}})}break;case E:F.options.deleteSpeed=ye.eventArgs.speed;break;case O:F.options.delay=ye.eventArgs.delay;break;case P:F.options.cursor=ye.eventArgs.cursor,F.state.elements.cursor.innerHTML=ye.eventArgs.cursor}F.options.loop&&(ye.eventName===T||ye.eventArgs&&ye.eventArgs.temp||(F.state.calledEvents=[].concat(L(F.state.calledEvents),[ye]))),F.state.eventQueue=Re,F.state.lastFrameTime=se}}}),ee)if(typeof ee=="string"){var ge=document.querySelector(ee);if(!ge)throw new Error("Could not find container element");this.state.elements.container=ge}else this.state.elements.container=ee;ue&&(this.options=U(U({},this.options),ue)),this.state.initialOptions=U({},this.options),this.init()}var B,G;return B=J,(G=[{key:"init",value:function(){var ee,ue;this.setupWrapperElement(),this.addEventToQueue(P,{cursor:this.options.cursor},!0),this.addEventToQueue(w,null,!0),!window||window.___TYPEWRITER_JS_STYLES_ADDED___||this.options.skipAddStyles||(ee=".Typewriter__cursor{-webkit-animation:Typewriter-cursor 1s infinite;animation:Typewriter-cursor 1s infinite;margin-left:1px}@-webkit-keyframes Typewriter-cursor{0%{opacity:0}50%{opacity:1}100%{opacity:0}}@keyframes Typewriter-cursor{0%{opacity:0}50%{opacity:1}100%{opacity:0}}",(ue=document.createElement("style")).appendChild(document.createTextNode(ee)),document.head.appendChild(ue),window.___TYPEWRITER_JS_STYLES_ADDED___=!0),this.options.autoStart===!0&&this.options.strings&&this.typeOutAllStrings().start()}},{key:"logInDevMode",value:function(ee){this.options.devMode&&console.log(ee)}}])&&H(B.prototype,G),Object.defineProperty(B,"prototype",{writable:!1}),J}()},8552:(c,d,u)=>{var p=u(852)(u(5639),"DataView");c.exports=p},1989:(c,d,u)=>{var p=u(1789),h=u(401),y=u(7667),v=u(1327),b=u(1866);function _(w){var T=-1,k=w==null?0:w.length;for(this.clear();++T<k;){var R=w[T];this.set(R[0],R[1])}}_.prototype.clear=p,_.prototype.delete=h,_.prototype.get=y,_.prototype.has=v,_.prototype.set=b,c.exports=_},8407:(c,d,u)=>{var p=u(7040),h=u(4125),y=u(2117),v=u(7518),b=u(4705);function _(w){var T=-1,k=w==null?0:w.length;for(this.clear();++T<k;){var R=w[T];this.set(R[0],R[1])}}_.prototype.clear=p,_.prototype.delete=h,_.prototype.get=y,_.prototype.has=v,_.prototype.set=b,c.exports=_},7071:(c,d,u)=>{var p=u(852)(u(5639),"Map");c.exports=p},3369:(c,d,u)=>{var p=u(4785),h=u(1285),y=u(6e3),v=u(9916),b=u(5265);function _(w){var T=-1,k=w==null?0:w.length;for(this.clear();++T<k;){var R=w[T];this.set(R[0],R[1])}}_.prototype.clear=p,_.prototype.delete=h,_.prototype.get=y,_.prototype.has=v,_.prototype.set=b,c.exports=_},3818:(c,d,u)=>{var p=u(852)(u(5639),"Promise");c.exports=p},8525:(c,d,u)=>{var p=u(852)(u(5639),"Set");c.exports=p},8668:(c,d,u)=>{var p=u(3369),h=u(619),y=u(2385);function v(b){var _=-1,w=b==null?0:b.length;for(this.__data__=new p;++_<w;)this.add(b[_])}v.prototype.add=v.prototype.push=h,v.prototype.has=y,c.exports=v},6384:(c,d,u)=>{var p=u(8407),h=u(7465),y=u(3779),v=u(7599),b=u(4758),_=u(4309);function w(T){var k=this.__data__=new p(T);this.size=k.size}w.prototype.clear=h,w.prototype.delete=y,w.prototype.get=v,w.prototype.has=b,w.prototype.set=_,c.exports=w},2705:(c,d,u)=>{var p=u(5639).Symbol;c.exports=p},1149:(c,d,u)=>{var p=u(5639).Uint8Array;c.exports=p},577:(c,d,u)=>{var p=u(852)(u(5639),"WeakMap");c.exports=p},4963:c=>{c.exports=function(d,u){for(var p=-1,h=d==null?0:d.length,y=0,v=[];++p<h;){var b=d[p];u(b,p,d)&&(v[y++]=b)}return v}},4636:(c,d,u)=>{var p=u(2545),h=u(5694),y=u(1469),v=u(4144),b=u(5776),_=u(6719),w=Object.prototype.hasOwnProperty;c.exports=function(T,k){var R=y(T),M=!R&&h(T),E=!R&&!M&&v(T),O=!R&&!M&&!E&&_(T),P=R||M||E||O,j=P?p(T.length,String):[],V=j.length;for(var C in T)!k&&!w.call(T,C)||P&&(C=="length"||E&&(C=="offset"||C=="parent")||O&&(C=="buffer"||C=="byteLength"||C=="byteOffset")||b(C,V))||j.push(C);return j}},2488:c=>{c.exports=function(d,u){for(var p=-1,h=u.length,y=d.length;++p<h;)d[y+p]=u[p];return d}},2908:c=>{c.exports=function(d,u){for(var p=-1,h=d==null?0:d.length;++p<h;)if(u(d[p],p,d))return!0;return!1}},8470:(c,d,u)=>{var p=u(7813);c.exports=function(h,y){for(var v=h.length;v--;)if(p(h[v][0],y))return v;return-1}},8866:(c,d,u)=>{var p=u(2488),h=u(1469);c.exports=function(y,v,b){var _=v(y);return h(y)?_:p(_,b(y))}},4239:(c,d,u)=>{var p=u(2705),h=u(9607),y=u(2333),v=p?p.toStringTag:void 0;c.exports=function(b){return b==null?b===void 0?"[object Undefined]":"[object Null]":v&&v in Object(b)?h(b):y(b)}},9454:(c,d,u)=>{var p=u(4239),h=u(7005);c.exports=function(y){return h(y)&&p(y)=="[object Arguments]"}},939:(c,d,u)=>{var p=u(2492),h=u(7005);c.exports=function y(v,b,_,w,T){return v===b||(v==null||b==null||!h(v)&&!h(b)?v!=v&&b!=b:p(v,b,_,w,y,T))}},2492:(c,d,u)=>{var p=u(6384),h=u(7114),y=u(8351),v=u(6096),b=u(4160),_=u(1469),w=u(4144),T=u(6719),k="[object Arguments]",R="[object Array]",M="[object Object]",E=Object.prototype.hasOwnProperty;c.exports=function(O,P,j,V,C,N){var U=_(O),L=_(P),q=U?R:b(O),H=L?R:b(P),D=(q=q==k?M:q)==M,K=(H=H==k?M:H)==M,Q=q==H;if(Q&&w(O)){if(!w(P))return!1;U=!0,D=!1}if(Q&&!D)return N||(N=new p),U||T(O)?h(O,P,j,V,C,N):y(O,P,q,j,V,C,N);if(!(1&j)){var J=D&&E.call(O,"__wrapped__"),B=K&&E.call(P,"__wrapped__");if(J||B){var G=J?O.value():O,ee=B?P.value():P;return N||(N=new p),C(G,ee,j,V,N)}}return!!Q&&(N||(N=new p),v(O,P,j,V,C,N))}},8458:(c,d,u)=>{var p=u(3560),h=u(5346),y=u(3218),v=u(346),b=/^\[object .+?Constructor\]$/,_=Function.prototype,w=Object.prototype,T=_.toString,k=w.hasOwnProperty,R=RegExp("^"+T.call(k).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");c.exports=function(M){return!(!y(M)||h(M))&&(p(M)?R:b).test(v(M))}},8749:(c,d,u)=>{var p=u(4239),h=u(1780),y=u(7005),v={};v["[object Float32Array]"]=v["[object Float64Array]"]=v["[object Int8Array]"]=v["[object Int16Array]"]=v["[object Int32Array]"]=v["[object Uint8Array]"]=v["[object Uint8ClampedArray]"]=v["[object Uint16Array]"]=v["[object Uint32Array]"]=!0,v["[object Arguments]"]=v["[object Array]"]=v["[object ArrayBuffer]"]=v["[object Boolean]"]=v["[object DataView]"]=v["[object Date]"]=v["[object Error]"]=v["[object Function]"]=v["[object Map]"]=v["[object Number]"]=v["[object Object]"]=v["[object RegExp]"]=v["[object Set]"]=v["[object String]"]=v["[object WeakMap]"]=!1,c.exports=function(b){return y(b)&&h(b.length)&&!!v[p(b)]}},280:(c,d,u)=>{var p=u(5726),h=u(6916),y=Object.prototype.hasOwnProperty;c.exports=function(v){if(!p(v))return h(v);var b=[];for(var _ in Object(v))y.call(v,_)&&_!="constructor"&&b.push(_);return b}},2545:c=>{c.exports=function(d,u){for(var p=-1,h=Array(d);++p<d;)h[p]=u(p);return h}},1717:c=>{c.exports=function(d){return function(u){return d(u)}}},4757:c=>{c.exports=function(d,u){return d.has(u)}},4429:(c,d,u)=>{var p=u(5639)["__core-js_shared__"];c.exports=p},7114:(c,d,u)=>{var p=u(8668),h=u(2908),y=u(4757);c.exports=function(v,b,_,w,T,k){var R=1&_,M=v.length,E=b.length;if(M!=E&&!(R&&E>M))return!1;var O=k.get(v),P=k.get(b);if(O&&P)return O==b&&P==v;var j=-1,V=!0,C=2&_?new p:void 0;for(k.set(v,b),k.set(b,v);++j<M;){var N=v[j],U=b[j];if(w)var L=R?w(U,N,j,b,v,k):w(N,U,j,v,b,k);if(L!==void 0){if(L)continue;V=!1;break}if(C){if(!h(b,function(q,H){if(!y(C,H)&&(N===q||T(N,q,_,w,k)))return C.push(H)})){V=!1;break}}else if(N!==U&&!T(N,U,_,w,k)){V=!1;break}}return k.delete(v),k.delete(b),V}},8351:(c,d,u)=>{var p=u(2705),h=u(1149),y=u(7813),v=u(7114),b=u(8776),_=u(1814),w=p?p.prototype:void 0,T=w?w.valueOf:void 0;c.exports=function(k,R,M,E,O,P,j){switch(M){case"[object DataView]":if(k.byteLength!=R.byteLength||k.byteOffset!=R.byteOffset)return!1;k=k.buffer,R=R.buffer;case"[object ArrayBuffer]":return!(k.byteLength!=R.byteLength||!P(new h(k),new h(R)));case"[object Boolean]":case"[object Date]":case"[object Number]":return y(+k,+R);case"[object Error]":return k.name==R.name&&k.message==R.message;case"[object RegExp]":case"[object String]":return k==R+"";case"[object Map]":var V=b;case"[object Set]":var C=1&E;if(V||(V=_),k.size!=R.size&&!C)return!1;var N=j.get(k);if(N)return N==R;E|=2,j.set(k,R);var U=v(V(k),V(R),E,O,P,j);return j.delete(k),U;case"[object Symbol]":if(T)return T.call(k)==T.call(R)}return!1}},6096:(c,d,u)=>{var p=u(8234),h=Object.prototype.hasOwnProperty;c.exports=function(y,v,b,_,w,T){var k=1&b,R=p(y),M=R.length;if(M!=p(v).length&&!k)return!1;for(var E=M;E--;){var O=R[E];if(!(k?O in v:h.call(v,O)))return!1}var P=T.get(y),j=T.get(v);if(P&&j)return P==v&&j==y;var V=!0;T.set(y,v),T.set(v,y);for(var C=k;++E<M;){var N=y[O=R[E]],U=v[O];if(_)var L=k?_(U,N,O,v,y,T):_(N,U,O,y,v,T);if(!(L===void 0?N===U||w(N,U,b,_,T):L)){V=!1;break}C||(C=O=="constructor")}if(V&&!C){var q=y.constructor,H=v.constructor;q==H||!("constructor"in y)||!("constructor"in v)||typeof q=="function"&&q instanceof q&&typeof H=="function"&&H instanceof H||(V=!1)}return T.delete(y),T.delete(v),V}},1957:(c,d,u)=>{var p=typeof u.g=="object"&&u.g&&u.g.Object===Object&&u.g;c.exports=p},8234:(c,d,u)=>{var p=u(8866),h=u(9551),y=u(3674);c.exports=function(v){return p(v,y,h)}},5050:(c,d,u)=>{var p=u(7019);c.exports=function(h,y){var v=h.__data__;return p(y)?v[typeof y=="string"?"string":"hash"]:v.map}},852:(c,d,u)=>{var p=u(8458),h=u(7801);c.exports=function(y,v){var b=h(y,v);return p(b)?b:void 0}},9607:(c,d,u)=>{var p=u(2705),h=Object.prototype,y=h.hasOwnProperty,v=h.toString,b=p?p.toStringTag:void 0;c.exports=function(_){var w=y.call(_,b),T=_[b];try{_[b]=void 0;var k=!0}catch{}var R=v.call(_);return k&&(w?_[b]=T:delete _[b]),R}},9551:(c,d,u)=>{var p=u(4963),h=u(479),y=Object.prototype.propertyIsEnumerable,v=Object.getOwnPropertySymbols,b=v?function(_){return _==null?[]:(_=Object(_),p(v(_),function(w){return y.call(_,w)}))}:h;c.exports=b},4160:(c,d,u)=>{var p=u(8552),h=u(7071),y=u(3818),v=u(8525),b=u(577),_=u(4239),w=u(346),T="[object Map]",k="[object Promise]",R="[object Set]",M="[object WeakMap]",E="[object DataView]",O=w(p),P=w(h),j=w(y),V=w(v),C=w(b),N=_;(p&&N(new p(new ArrayBuffer(1)))!=E||h&&N(new h)!=T||y&&N(y.resolve())!=k||v&&N(new v)!=R||b&&N(new b)!=M)&&(N=function(U){var L=_(U),q=L=="[object Object]"?U.constructor:void 0,H=q?w(q):"";if(H)switch(H){case O:return E;case P:return T;case j:return k;case V:return R;case C:return M}return L}),c.exports=N},7801:c=>{c.exports=function(d,u){return d==null?void 0:d[u]}},1789:(c,d,u)=>{var p=u(4536);c.exports=function(){this.__data__=p?p(null):{},this.size=0}},401:c=>{c.exports=function(d){var u=this.has(d)&&delete this.__data__[d];return this.size-=u?1:0,u}},7667:(c,d,u)=>{var p=u(4536),h=Object.prototype.hasOwnProperty;c.exports=function(y){var v=this.__data__;if(p){var b=v[y];return b==="__lodash_hash_undefined__"?void 0:b}return h.call(v,y)?v[y]:void 0}},1327:(c,d,u)=>{var p=u(4536),h=Object.prototype.hasOwnProperty;c.exports=function(y){var v=this.__data__;return p?v[y]!==void 0:h.call(v,y)}},1866:(c,d,u)=>{var p=u(4536);c.exports=function(h,y){var v=this.__data__;return this.size+=this.has(h)?0:1,v[h]=p&&y===void 0?"__lodash_hash_undefined__":y,this}},5776:c=>{var d=/^(?:0|[1-9]\d*)$/;c.exports=function(u,p){var h=typeof u;return!!(p=p??9007199254740991)&&(h=="number"||h!="symbol"&&d.test(u))&&u>-1&&u%1==0&&u<p}},7019:c=>{c.exports=function(d){var u=typeof d;return u=="string"||u=="number"||u=="symbol"||u=="boolean"?d!=="__proto__":d===null}},5346:(c,d,u)=>{var p,h=u(4429),y=(p=/[^.]+$/.exec(h&&h.keys&&h.keys.IE_PROTO||""))?"Symbol(src)_1."+p:"";c.exports=function(v){return!!y&&y in v}},5726:c=>{var d=Object.prototype;c.exports=function(u){var p=u&&u.constructor;return u===(typeof p=="function"&&p.prototype||d)}},7040:c=>{c.exports=function(){this.__data__=[],this.size=0}},4125:(c,d,u)=>{var p=u(8470),h=Array.prototype.splice;c.exports=function(y){var v=this.__data__,b=p(v,y);return!(b<0||(b==v.length-1?v.pop():h.call(v,b,1),--this.size,0))}},2117:(c,d,u)=>{var p=u(8470);c.exports=function(h){var y=this.__data__,v=p(y,h);return v<0?void 0:y[v][1]}},7518:(c,d,u)=>{var p=u(8470);c.exports=function(h){return p(this.__data__,h)>-1}},4705:(c,d,u)=>{var p=u(8470);c.exports=function(h,y){var v=this.__data__,b=p(v,h);return b<0?(++this.size,v.push([h,y])):v[b][1]=y,this}},4785:(c,d,u)=>{var p=u(1989),h=u(8407),y=u(7071);c.exports=function(){this.size=0,this.__data__={hash:new p,map:new(y||h),string:new p}}},1285:(c,d,u)=>{var p=u(5050);c.exports=function(h){var y=p(this,h).delete(h);return this.size-=y?1:0,y}},6e3:(c,d,u)=>{var p=u(5050);c.exports=function(h){return p(this,h).get(h)}},9916:(c,d,u)=>{var p=u(5050);c.exports=function(h){return p(this,h).has(h)}},5265:(c,d,u)=>{var p=u(5050);c.exports=function(h,y){var v=p(this,h),b=v.size;return v.set(h,y),this.size+=v.size==b?0:1,this}},8776:c=>{c.exports=function(d){var u=-1,p=Array(d.size);return d.forEach(function(h,y){p[++u]=[y,h]}),p}},4536:(c,d,u)=>{var p=u(852)(Object,"create");c.exports=p},6916:(c,d,u)=>{var p=u(5569)(Object.keys,Object);c.exports=p},1167:(c,d,u)=>{c=u.nmd(c);var p=u(1957),h=d&&!d.nodeType&&d,y=h&&c&&!c.nodeType&&c,v=y&&y.exports===h&&p.process,b=function(){try{return y&&y.require&&y.require("util").types||v&&v.binding&&v.binding("util")}catch{}}();c.exports=b},2333:c=>{var d=Object.prototype.toString;c.exports=function(u){return d.call(u)}},5569:c=>{c.exports=function(d,u){return function(p){return d(u(p))}}},5639:(c,d,u)=>{var p=u(1957),h=typeof self=="object"&&self&&self.Object===Object&&self,y=p||h||Function("return this")();c.exports=y},619:c=>{c.exports=function(d){return this.__data__.set(d,"__lodash_hash_undefined__"),this}},2385:c=>{c.exports=function(d){return this.__data__.has(d)}},1814:c=>{c.exports=function(d){var u=-1,p=Array(d.size);return d.forEach(function(h){p[++u]=h}),p}},7465:(c,d,u)=>{var p=u(8407);c.exports=function(){this.__data__=new p,this.size=0}},3779:c=>{c.exports=function(d){var u=this.__data__,p=u.delete(d);return this.size=u.size,p}},7599:c=>{c.exports=function(d){return this.__data__.get(d)}},4758:c=>{c.exports=function(d){return this.__data__.has(d)}},4309:(c,d,u)=>{var p=u(8407),h=u(7071),y=u(3369);c.exports=function(v,b){var _=this.__data__;if(_ instanceof p){var w=_.__data__;if(!h||w.length<199)return w.push([v,b]),this.size=++_.size,this;_=this.__data__=new y(w)}return _.set(v,b),this.size=_.size,this}},346:c=>{var d=Function.prototype.toString;c.exports=function(u){if(u!=null){try{return d.call(u)}catch{}try{return u+""}catch{}}return""}},7813:c=>{c.exports=function(d,u){return d===u||d!=d&&u!=u}},5694:(c,d,u)=>{var p=u(9454),h=u(7005),y=Object.prototype,v=y.hasOwnProperty,b=y.propertyIsEnumerable,_=p(function(){return arguments}())?p:function(w){return h(w)&&v.call(w,"callee")&&!b.call(w,"callee")};c.exports=_},1469:c=>{var d=Array.isArray;c.exports=d},8612:(c,d,u)=>{var p=u(3560),h=u(1780);c.exports=function(y){return y!=null&&h(y.length)&&!p(y)}},4144:(c,d,u)=>{c=u.nmd(c);var p=u(5639),h=u(5062),y=d&&!d.nodeType&&d,v=y&&c&&!c.nodeType&&c,b=v&&v.exports===y?p.Buffer:void 0,_=(b?b.isBuffer:void 0)||h;c.exports=_},8446:(c,d,u)=>{var p=u(939);c.exports=function(h,y){return p(h,y)}},3560:(c,d,u)=>{var p=u(4239),h=u(3218);c.exports=function(y){if(!h(y))return!1;var v=p(y);return v=="[object Function]"||v=="[object GeneratorFunction]"||v=="[object AsyncFunction]"||v=="[object Proxy]"}},1780:c=>{c.exports=function(d){return typeof d=="number"&&d>-1&&d%1==0&&d<=9007199254740991}},3218:c=>{c.exports=function(d){var u=typeof d;return d!=null&&(u=="object"||u=="function")}},7005:c=>{c.exports=function(d){return d!=null&&typeof d=="object"}},6719:(c,d,u)=>{var p=u(8749),h=u(1717),y=u(1167),v=y&&y.isTypedArray,b=v?h(v):p;c.exports=b},3674:(c,d,u)=>{var p=u(4636),h=u(280),y=u(8612);c.exports=function(v){return y(v)?p(v):h(v)}},479:c=>{c.exports=function(){return[]}},5062:c=>{c.exports=function(){return!1}},75:function(c){(function(){var d,u,p,h,y,v;typeof performance<"u"&&performance!==null&&performance.now?c.exports=function(){return performance.now()}:typeof process<"u"&&process!==null&&process.hrtime?(c.exports=function(){return(d()-y)/1e6},u=process.hrtime,h=(d=function(){var b;return 1e9*(b=u())[0]+b[1]})(),v=1e9*process.uptime(),y=h-v):Date.now?(c.exports=function(){return Date.now()-p},p=Date.now()):(c.exports=function(){return new Date().getTime()-p},p=new Date().getTime())}).call(this)},4087:(c,d,u)=>{for(var p=u(75),h=typeof window>"u"?u.g:window,y=["moz","webkit"],v="AnimationFrame",b=h["request"+v],_=h["cancel"+v]||h["cancelRequest"+v],w=0;!b&&w<y.length;w++)b=h[y[w]+"Request"+v],_=h[y[w]+"Cancel"+v]||h[y[w]+"CancelRequest"+v];if(!b||!_){var T=0,k=0,R=[];b=function(M){if(R.length===0){var E=p(),O=Math.max(0,16.666666666666668-(E-T));T=O+E,setTimeout(function(){var P=R.slice(0);R.length=0;for(var j=0;j<P.length;j++)if(!P[j].cancelled)try{P[j].callback(T)}catch(V){setTimeout(function(){throw V},0)}},Math.round(O))}return R.push({handle:++k,callback:M,cancelled:!1}),k},_=function(M){for(var E=0;E<R.length;E++)R[E].handle===M&&(R[E].cancelled=!0)}}c.exports=function(M){return b.call(h,M)},c.exports.cancel=function(){_.apply(h,arguments)},c.exports.polyfill=function(M){M||(M=h),M.requestAnimationFrame=b,M.cancelAnimationFrame=_}},8156:c=>{c.exports=n}},i={};function s(c){var d=i[c];if(d!==void 0)return d.exports;var u=i[c]={id:c,loaded:!1,exports:{}};return r[c].call(u.exports,u,u.exports,s),u.loaded=!0,u.exports}s.n=c=>{var d=c&&c.__esModule?()=>c.default:()=>c;return s.d(d,{a:d}),d},s.d=(c,d)=>{for(var u in d)s.o(d,u)&&!s.o(c,u)&&Object.defineProperty(c,u,{enumerable:!0,get:d[u]})},s.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}(),s.o=(c,d)=>Object.prototype.hasOwnProperty.call(c,d),s.nmd=c=>(c.paths=[],c.children||(c.children=[]),c);var l={};return(()=>{s.d(l,{default:()=>R});var c=s(8156),d=s.n(c),u=s(7403),p=s(8446),h=s.n(p);function y(M){return y=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(E){return typeof E}:function(E){return E&&typeof Symbol=="function"&&E.constructor===Symbol&&E!==Symbol.prototype?"symbol":typeof E},y(M)}function v(M,E){for(var O=0;O<E.length;O++){var P=E[O];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(M,T(P.key),P)}}function b(M,E){return b=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(O,P){return O.__proto__=P,O},b(M,E)}function _(M){if(M===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return M}function w(M){return w=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(E){return E.__proto__||Object.getPrototypeOf(E)},w(M)}function T(M){var E=function(O,P){if(y(O)!=="object"||O===null)return O;var j=O[Symbol.toPrimitive];if(j!==void 0){var V=j.call(O,"string");if(y(V)!=="object")return V;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(O)}(M);return y(E)==="symbol"?E:String(E)}var k=function(M){(function(N,U){if(typeof U!="function"&&U!==null)throw new TypeError("Super expression must either be null or a function");N.prototype=Object.create(U&&U.prototype,{constructor:{value:N,writable:!0,configurable:!0}}),Object.defineProperty(N,"prototype",{writable:!1}),U&&b(N,U)})(C,M);var E,O,P,j,V=(P=C,j=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var N,U=w(P);if(j){var L=w(this).constructor;N=Reflect.construct(U,arguments,L)}else N=U.apply(this,arguments);return function(q,H){if(H&&(y(H)==="object"||typeof H=="function"))return H;if(H!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _(q)}(this,N)});function C(){var N,U,L,q;(function(Q,J){if(!(Q instanceof J))throw new TypeError("Cannot call a class as a function")})(this,C);for(var H=arguments.length,D=new Array(H),K=0;K<H;K++)D[K]=arguments[K];return U=_(N=V.call.apply(V,[this].concat(D))),q={instance:null},(L=T(L="state"))in U?Object.defineProperty(U,L,{value:q,enumerable:!0,configurable:!0,writable:!0}):U[L]=q,N}return E=C,(O=[{key:"componentDidMount",value:function(){var N=this,U=new u.default(this.typewriter,this.props.options);this.setState({instance:U},function(){var L=N.props.onInit;L&&L(U)})}},{key:"componentDidUpdate",value:function(N){h()(this.props.options,N.options)||this.setState({instance:new u.default(this.typewriter,this.props.options)})}},{key:"componentWillUnmount",value:function(){this.state.instance&&this.state.instance.stop()}},{key:"render",value:function(){var N=this,U=this.props.component;return d().createElement(U,{ref:function(L){return N.typewriter=L},className:"Typewriter","data-testid":"typewriter-wrapper"})}}])&&v(E.prototype,O),Object.defineProperty(E,"prototype",{writable:!1}),C}(c.Component);k.defaultProps={component:"div"};const R=k})(),l.default})())}(Uy)),Uy.exports}var FAe=LAe();const r6=Pr(FAe);function zAe({playerNumber:e,player:t,segment:n}){const[r,i]=t.detailedScore;return g.jsxs($Ae,{children:[g.jsx(py,{score:n>-1?r.rap+r.freestyle+r.normal:0,maxScore:i.rap+i.freestyle+i.normal,color:$e.colors.players[e].perfect.fill}),g.jsx(py,{score:n>0?r.perfect:0,maxScore:i.perfect,color:$e.colors.players[e].stroke}),g.jsx(py,{score:n>1?r.star:0,maxScore:i.star,color:$e.colors.players[e].starPerfect.stroke}),g.jsx(py,{score:n>2?r.vibrato:0,maxScore:i.vibrato,color:$e.colors.players[e].perfect.stroke}),g.jsx(UAe,{children:n<5&&g.jsx(r6,{options:{strings:["Regular notes","Perfect notes","Star notes","Vibrato"],pauseFor:1e3,autoStart:!0,delay:15,deleteSpeed:15,cursor:""}})})]})}const $Ae=W("div",{target:"ejw0p7o1"})({name:"rtb9pf",styles:"position:relative;height:5rem;width:100%;display:flex;flex-direction:row;border-radius:1rem;gap:0.5rem;box-sizing:border-box;background:rgba(0, 0, 0, 0.5);padding:0.5rem"}),UAe=W("span",{target:"ejw0p7o0"})("position:absolute;",jt,";font-size:3rem;text-align:right;white-space:nowrap;top:6rem;left:1rem;display:block;");function HAe({playerNumber:e,player:t,highestScore:n,highScores:r,singSetup:i,useColors:s=!0,revealHighScore:l,segment:c}){const[d]=t.detailedScore;let u=0;c>-1&&(u=d.normal+d.rap+d.freestyle),c>0&&(u=u+d.perfect),c>1&&(u=u+d.star),c>2&&(u=u+d.vibrato);const p=h=>r.some(y=>y.singSetupId===i.id&&y.name===h);return g.jsxs(qAe,{children:[g.jsx(KAe,{children:g.jsxs(YAe,{"data-win":l&&u===n,"data-test":`player-${e}-score`,"data-score":Math.floor(u),children:[g.jsx(GAe,{color:s?$e.colors.players[e].text:"","data-test":`player-${e}-name`,className:"ph-no-capture",children:t.name}),g.jsx(o2,{preserveValue:!0,end:u,formattingFn:BL.format,duration:c<5?1:.5})]})}),g.jsx(zAe,{playerNumber:e,player:t,segment:c}),g.jsx(WAe,{"data-highscore":l&&p(t.name),children:"High score!"})]})}const qAe=W("div",{target:"e1vy0af44"})({name:"1kta8sk",styles:"background:rgba(0, 0, 0, 0.5);display:flex;flex-direction:column;align-items:center;border-radius:1rem;gap:1rem;padding:1rem 2rem;position:relative"}),GAe=W("span",{target:"e1vy0af43"})("color:",e=>e.color,";font-size:3.5rem;"),YAe=W(Qv,{target:"e1vy0af42"})("background:transparent;font-size:4.5rem;color:white;transition:400ms ease-in-out;position:relative;display:flex;align-items:center;justify-content:space-between;flex:1;margin:0;padding:0;&[data-win='true']{font-size:7.5rem;color:",$e.colors.text.active,";}"),KAe=W("div",{target:"e1vy0af41"})({name:"1vflmfg",styles:"display:flex;flex:1;width:100%;height:7.5rem"}),WAe=W(i2,{target:"e1vy0af40"})("font-size:3rem;opacity:0;z-index:2;&[data-highscore='true']{top:-2.5rem;right:-4rem;",tN,";opacity:1;}transition:400ms;");function QAe({onNextStep:e,players:t,highScores:n,singSetup:r}){const[i,s]=x.useState(-1);x.useEffect(()=>{if(i<0)s(0);else if(i<4){const k=setInterval(()=>{s(R=>R+1)},1500);return()=>{clearInterval(k)}}},[i]);const l=i>3,c=()=>{l?e():s(5)},{register:d}=dr(),u=r.mode===Ci.CO_OP,p=u?[{...t[0],name:t.map(k=>k.name).join(", ")}]:t,h=p.map(k=>Vw(k.detailedScore[0])),y=Math.max(...h),v=i>3,b=x.useMemo(()=>Fi.getPermissionStatus(),[]),[_,w]=x.useState(!1),T=()=>{er.capture("enable-camera"),w(!0),Fi.requestPermissions().then(()=>w(!1))};return g.jsxs(XAe,{children:[g.jsxs("div",{className:"flex flex-row gap-10",children:[g.jsx(JAe,{"data-collapse":v,children:p.map((k,R)=>g.jsx(HAe,{playerNumber:k.playerNumber,useColors:!u,revealHighScore:v,segment:i,player:k,highScores:n,highestScore:y,singSetup:r},R))}),g.jsx("div",{className:`duration-300 ${b&&v?"w-[43%]":"w-[28%]"}`,children:b?g.jsx(IAe,{}):g.jsx(PAe,{register:d,onConfirm:T,loading:_})})]}),g.jsx(ZAe,{...d("next-button",()=>c(),void 0,!0),"data-test":l?"highscores-button":"skip-animation-button",children:l?"Next":"Skip"})]})}const XAe=W("div",{target:"e1qmbv7g2"})({name:"z8ysa9",styles:"position:absolute;padding:20rem 5rem 15rem 5rem;top:0;height:100%;box-sizing:border-box;width:100%;display:flex;flex-direction:column"}),JAe=W("div",{target:"e1qmbv7g1"})({name:"1dtjdql",styles:"text-align:center;display:flex;flex-direction:column;gap:5rem;flex:1;&[data-collapse='true']{gap:2rem;}transition:gap 0.5s"}),ZAe=W(Ba,{target:"e1qmbv7g0"})({name:"vmr6vd",styles:"width:40rem;font-size:1.9vw;margin-left:auto;margin-top:auto"});function ebe(){return x.useMemo(()=>JSON.parse(at.session.getItem(Gd))??[],[])}function tbe({score:e,register:t,singSetupId:n,onSave:r,index:i}){const s=x.useRef(null),[l,c]=x.useState(""),d=ebe(),u=()=>{l.trim().length&&l.trim()!==e.name&&r(n,e.score,e.name,l)};return g.jsx(y2,{className:"ph-no-capture",options:d,onChange:c,onBlur:u,value:l,label:"",ref:s,...t(`highscore-rename-${i}`,()=>{var p;return(p=s.current)==null?void 0:p.focus()}),placeholder:e.name,"data-test":"input-edit-highscore","data-original-name":e.name})}function nbe({onNextStep:e,highScores:t,singSetup:n,song:r}){const{register:i}=dr(),s=Ome(r);return g.jsxs(g.Fragment,{children:[g.jsx(rbe,{"data-test":"highscores-container",children:t.map((l,c)=>g.jsxs(ibe,{isCurrentSing:l.singSetupId===n.id,children:[g.jsx(sbe,{children:c+1}),g.jsx(abe,{className:"ph-no-capture",children:l.singSetupId===n.id?g.jsx(tbe,{index:c,score:l,register:i,singSetupId:n.id,onSave:s}):l.name}),g.jsx(obe,{children:g.jsx(Jx,{score:l.score})}),g.jsx(lbe,{children:oa(l.date).format("MMMM D, YYYY")})]},c))}),g.jsx(cbe,{...i("play-next-song-button",e,void 0,!0),children:"Select song"})]})}const rbe=W("div",{target:"e1kq1u2t6"})({name:"9gtmjg",styles:"position:absolute;top:20rem;width:100%;text-align:center;padding:0 16rem;box-sizing:border-box"}),ibe=W("div",{target:"e1kq1u2t5"})("position:relative;",jt,";font-size:3.2rem;display:flex;background:",e=>e.isCurrentSing?"rgba(0,0,0,.9)":"rgba(0,0,0,.5)",";margin-bottom:2rem;padding:",e=>e.isCurrentSing?"0 1.5rem":"1rem 3.2rem",";align-items:center;"),sbe=W("div",{target:"e1kq1u2t4"})("padding:0 1.6rem;color:",$e.colors.text.active,";"),abe=W("div",{target:"e1kq1u2t3"})({name:"1mbe2e5",styles:"text-align:left;flex:1;padding:1.6rem"}),obe=W("div",{target:"e1kq1u2t2"})({name:"2ycp6t",styles:"padding:0 1rem"}),lbe=W("div",{target:"e1kq1u2t1"})({name:"1gbnj87",styles:"position:absolute;font-size:2rem;bottom:-1rem;right:-1.6rem;background:black;padding:0.5rem"}),cbe=W(Ba,{target:"e1kq1u2t0"})({name:"hdhnqu",styles:"position:absolute;bottom:13rem;right:2rem;padding:0 3rem;font-size:1.9vw"});function ube({song:e,width:t,height:n,onClickSongSelection:r,players:i,highScores:s,singSetup:l}){const[c]=St(Z0);Ll(!0);const[d,u]=x.useState("results");return g.jsxs(aL,{songData:e,width:t,height:n,children:[g.jsxs(dbe,{children:[d==="results"&&g.jsx(QAe,{onNextStep:()=>u("highscores"),players:i,singSetup:l,highScores:s}),d==="highscores"&&g.jsx(nbe,{onNextStep:r,singSetup:l,highScores:s,song:e}),g.jsx(fbe,{"data-active":"true"})]}),c==="christmas"&&g.jsxs(hbe,{children:["Credit to ",g.jsx("a",{href:"https://www.FesliyanStudios.com",children:"https://www.FesliyanStudios.com"})," for the background music."]})]})}const dbe=W("div",{target:"e1fxxvcx2"})({name:"1quw0ni",styles:"pointer-events:auto"}),fbe=W(RAe,{target:"e1fxxvcx1"})({name:"rlv4pm",styles:"transition:300ms;position:absolute;bottom:4rem;font-size:3.2rem;line-height:1.25;color:white;text-align:center;background:rgba(0, 0, 0, 0.75);width:100%;box-sizing:border-box;transform:scale(0);&[data-active='true']{transform:scale(1);}padding:2rem 10rem;kbd{padding:0.12rem 0.9rem;border-radius:1rem;border:0.5rem solid rgb(204, 204, 204);border-bottom-color:rgb(150, 150, 150);border-right-color:rgb(150, 150, 150);color:rgb(51, 51, 51);line-height:1.4;display:inline-block;box-shadow:0 0.1rem 0 rgba(0, 0, 0, 0.2),inset 0 0 0 0.2rem #ffffff;background-color:rgb(247, 247, 247);text-shadow:0 0.1rem 0 #fff;font-weight:normal;}"}),hbe=W("span",{target:"e1fxxvcx0"})("position:fixed;bottom:2rem;left:2rem;font-size:1.5rem;",jt,";");function pbe(e){const[t,n,r,i]=gbe(e);return mbe(t,n,r,i)()}function gbe(e){let t=1779033703,n=3144134277,r=1013904242,i=2773480762;for(let s=0,l;s<e.length;s++)l=e.charCodeAt(s),t=n^Math.imul(t^l,597399067),n=r^Math.imul(n^l,2869860233),r=i^Math.imul(r^l,951274213),i=t^Math.imul(i^l,2716044179);return t=Math.imul(r^t>>>18,597399067),n=Math.imul(i^n>>>22,2869860233),r=Math.imul(t^r>>>17,951274213),i=Math.imul(n^i>>>19,2716044179),t^=n^r^i,n^=t,r^=t,i^=t,[t>>>0,n>>>0,r>>>0,i>>>0]}function mbe(e,t,n,r){return function(){e|=0,t|=0,n|=0,r|=0;var i=(e+t|0)+r|0;return r=r+1|0,e=t^t>>>9,t=n+(n<<3)|0,n=n<<21|n>>>11,n=n+i|0,(i>>>0)/4294967296}}const ybe=["Lysa Arryn","Peter Parker","Zordon","Chad Khalimov","Dat Boi","Good Guy Greg","Scumbag Steve","Meme Man","Pepe","Wojak","Ebmarah","Shrek","Vad of ICE Beat","Krasnolud","May Aragorn","Morning Breeze","Auytjak Lorav","Smelly Cat","Stinky Foot"],mj=new Date("2016-01-01").getTime(),vbe=new Date("2024-01-07").getTime(),D_=5;function Abe(e,t){const n=g2(e);return x.useMemo(()=>{const i=[...ybe];return[...Array.from({length:D_},(l,c)=>{const d=pbe(e.id+c),u=6e5+14e5/(D_-1)*c,p=i.splice(Math.floor(d*i.length),1)[0];return{singSetupId:c.toString(),name:p,score:ds()?u/1e3:u,date:new Date((vbe-mj)*d+mj).toISOString()}}),...(n==null?void 0:n.scores.filter(({setup:l})=>l.mode===t.mode&&l.tolerance===t.tolerance).map(l=>l.scores.map(c=>({...c,date:l.date,singSetupId:l.setup.id}))).flat())??[]].sort((l,c)=>c.score-l.score).slice(0,D_)},[e.id,n,t])??[]}function bbe({song:e,width:t,height:n,onClickSongSelection:r,singSetup:i}){const s=Abe(e,i),l=x.useMemo(()=>nt.getPlayers().map(c=>({name:c.getName(),playerNumber:c.number,detailedScore:lt.getPlayerDetailedScore(c.number)})),[]);return g.jsx(Bl,{children:g.jsx(ube,{singSetup:i,song:e,width:t,height:n,onClickSongSelection:r,players:l,highScores:s})})}function _be({songPreview:e,singSetup:t,returnToSongSelection:n,restartSong:r}){gL(),mL();const i=x.useRef(null),s=QN(e.id),[l,c]=St(s7),{width:d,height:u}=mf(),[p,h]=x.useState(!1),[y,v]=x.useState(!0),[b,_]=x.useState(!0),[w,T]=x.useState(qn.UNSTARTED),[k,R]=x.useState(!1);Vl(!k);const M=!l&&!ds();return x.useEffect(()=>{!M&&y&&s.data&&(k||w!==qn.UNSTARTED)&&v(!1)},[s.data,k,w,y]),p&&s.data?g.jsx(bbe,{width:d,height:u,song:s.data,onClickSongSelection:n,singSetup:t}):g.jsx(Bl,{children:g.jsxs(Sbe,{children:[g.jsxs(xbe,{visible:y,"data-test":"background-container",children:[g.jsx(Ebe,{video:e.video,width:d,height:u}),g.jsx(Tbe,{"data-test":"song-artist",children:e.artist}),g.jsx(Cbe,{"data-test":"song-title",children:e.title}),M?g.jsx(Dl,{children:g.jsx(Pt,{children:b?g.jsx(SAe,{onContinue:()=>_(!1)}):g.jsx(n6,{onSave:()=>c(!0)})})}):g.jsx(wAe,{onFinish:()=>{var E;R(!0),(E=i.current)==null||E.play()}})]}),s.data&&!M&&g.jsx(pAe,{pauseMenu:!0,ref:i,onStatusChange:T,song:s.data,width:d,height:u,autoplay:!1,onSongEnd:()=>{var P;const E=((P=lt.getSingSetup())==null?void 0:P.mode)===Ci.CO_OP?[{name:nt.getPlayers().map(j=>j.getName()).join(", "),score:lt.getPlayerScore(0)}]:nt.getPlayers().map(j=>({name:j.getName(),score:lt.getPlayerScore(j.number)})),O=lt.getSongCompletionProgress();me.songEnded.dispatch(s.data,t,E,O),h(!0)},singSetup:t,restartSong:r})]})})}const Sbe=W("div",{target:"e9bbafl4"})({name:"bjn8wh",styles:"position:relative"}),xbe=W("div",{target:"e9bbafl3"})("position:fixed;top:0;left:0;z-index:10;pointer-events:none;background-color:black;view-transition-name:song-preview;opacity:",e=>e.visible?1:0,";transition:500ms;"),wbe=W("div",{target:"e9bbafl2"})({name:"oux8x1",styles:"background-size:cover;background-position:center center;filter:blur(10px)"}),Ebe=e=>g.jsx(wbe,{style:{backgroundImage:`url('https://i3.ytimg.com/vi/${e.video}/hqdefault.jpg')`,width:`${e.width}px`,height:`${e.height}px`}}),Tbe=W(m2,{target:"e9bbafl1"})({name:"oyknw4",styles:"view-transition-name:song-preview-artist;position:absolute;top:10rem;left:10rem;font-size:7rem"}),Cbe=W(Jv,{target:"e9bbafl0"})({name:"1l9juvo",styles:"view-transition-name:song-preview-title;position:absolute;font-size:8rem;top:19rem;left:10rem"});function kbe(){const e=Mv("song"),[t,n]=x.useState(null),[r,i]=x.useState(e??null),[s,l]=x.useState(0),c=d=>{document.getElementById("preview-video-container").style.viewTransitionName="song-preview-video",jp(()=>{document.getElementById("preview-video-container").style.viewTransitionName="",yf.flushSync(()=>{n(d)})}),Yw.play(!1)};return gL(),g.jsxs(g.Fragment,{children:[g.jsx(gs,{children:g.jsx("title",{children:"Game | AllKaraoke.Party - Free Online Karaoke Party Game"})}),g.jsx(u2,{children:t?g.jsx(_be,{restartSong:()=>{Fi.restartRecord(),l(d=>d+1)},songPreview:t.song,singSetup:t,returnToSongSelection:()=>{i(t.song.id),n(null)}},s):g.jsx(o0e,{onSongSelected:c,preselectedSong:r})})]})}const Mbe="/assets/screenshot1-DaCeVKxL.webp",Rbe="/assets/screenshot2-uopWyjAi.webp",Ibe=JSON.parse(`["101 Dalmatians","2NE1","3 Doors Down","3OH!3","3OH!3 feat. Katy Perry","3OH!3 feat. Ke$ha","4 Non Blondes","5 Seconds of Summer","50 Cent","A Day to Remember","A Day To Remember","A Flock Of Seagulls","A Great Big World","a-ha","A Perfect Circle","AaRON","ABBA","Abby Trott","AC/DC","Ace of Base","Adam Lambert","Adele","Aerosmith","Afroman","Against The Current","Air Supply","AJR","Akon","Akon feat. Eminem","Alan Jackson","Alan Walker","Alan Walker & Ava Max","Alanis Morisette","Alanis Morissette","Alannah Myles","Alec Benjamin","Alessandra","Alessia Cara","Alesso feat. Tove Lo","Alesso & Katy Perry","Alexander Rybak","Alexis Jordan","Alice Cooper","Alice In Chains","Alice in Chains","Alice Merton","Alicia Keys","ALIKA","All Time Low","Alphaville","Alter Bridge","Alvvays","Aly & AJ","Alyona Alyona & Jerry Heil","America","Amy Grant","Amy MacDonald","Amy Winehouse","Anastacia","Andrew Lambrou","Andy Williams","Anitta","Anna Kendrick","Anna Margaret","Apocalyptica ft. Adam Gontier","Aqua","Aram MP3","Arcade Fire","Arctic Monkeys","Ariana Grande","Ariana Grande feat. Future","Ariana Grande feat. Zedd","Ariana Grande & John Legend","Ariana Grande & Justin Bieber","Ariana Grande & Social House","Ariana Grande & The Weeknd","Army Of Lovers","Ashanti","Ashlee Simpson","Ashley Tisdale","Asking Alexandria","ATeens","Audioslave","AURORA","Ava Max","Avantasia","Avenged Sevenfold","Avicii feat. Sandro Cavazza","Avicii","Avril Lavigne","Awolnation","B52s","Baby Lasagna","Babymetal x Electric Callboy","Baccara","Backstreet Boys","Bad Lip Reading","Bad Omens","Bai Sha JAWS","Baldurs Gate 3","Bambie Thug","Banana minnions family","Band Aid","Barbie (Ryan Gosling)","Barei","Barry Manilow","Bastille","Beastie Boys","Bebe Rexha y David Guetta","Bee Gees","Bella Poarch","Bella Thorne","Bellamy Brothers","Ben Doli","Ben E. King","BENEE feat. Gus Dapperton","Benny Blanco, Halsey & Khalid","Benny Cristo","Benson Boone","Bette Midler","Beyonc","Beyonc feat. Jay-Z","Beyonc & Shakira","Big Time Rush","Bikini Kill","Bill Medley & Jennifer Warnes","Billie Eilish","Billie Eilish & Khalid","Billy Boyd","Billy Idol","Billy Joel","Billy Talent","Bing Crosby","Birdy","Bjrk","Bjrnzone","Black Eyed Peas, Shakira","Black Sabbath","Black Veil Brides","BLACKPINK & Selena Gomez","Blackstreet feat. Dr. Dre","Blanche","Blanka","Blind Guardian","blink-182","Blink 182","Blondie","Blu Cantrell","Blue","Blue yster Cult","Blur","Ba","B.o.B feat. Bruno Mars","B.o.B feat. Hayley Williams","Bob Marley & The Wailers","Bobby Helms","Bon Jovi","Boney M","Boney M.","Bonnie Tyler","Boston","Bowling For Soup","Boyz II Men","Bradley Cooper & Lady Gaga","Brandy & Monica","Breaking Benjamin","Brenda Lee","Bridgit Mendler","Bring Me The Horizon","Britney Spears","Britney Spears / Elton John","Britney Spears feat. Madonna","Britney Spears feat. Tinashe","Britney Spears & Iggy Azalea","Brotherhood Of Man","Bruno Mars & Cardi B","Bruno Mars","Bryan Adams","Bryce Pinkham","BTS","BTS feat. Desiigner","BTS featuring  Desiigner","BTS - J-Hope feat. Becky G","Bucks Fizz","Buggles","Bush","Busted","Calum Scott","Calvin Harris feat. Rihanna","Calvin Harris","Camila Cabello ft. Ed Sheeran","Camp Rock 2","Capital Cities","Cardi B","Cardi B & Bruno Mars","Carly Rae Jepsen","Carpenters","Carrie Underwood","Cascada","Cat Stevens","Cee Lo Green","Cline Dion","Chaka Khan","Chappell Roan","Charli XCX","Charli XCX & Troye Sivan","Charlie Puth","Charlie Puth & Selena Gomez","Chenoa","Cher","Cheryl Cole","Chevelle","Chicago","Childish Gambino","Chingiz","Chris Brown","Chris Brown feat. Rihanna","Chris Isaak","Chris Rea","Christina Aguilera","Christina Milian","Christina Perri","Chuck Berry","Chumbawamba","Cliff Richard","Colbie Caillat","Coldplay","Coldplay feat. Beyonc","Coldplay x BTS","Conchita Wurst","Coolio feat. L.V.","Corey Hart","Corinne Bailey Rae","Cornelia Jakobs","Counting Crows","Crazy Frog","Creed","Creedence Clearwater Revival","Crowded House","Crush 40","Crusher-P feat. GUMI","Culture Club","Cutting Crew","Cyndi Lauper","Cynthia Harrell","d4vd","Dai Freyr","Dai og Gagnamagni","Daft Punk","Daft Punk Feat. Todd Edwards","Daisuke Ishiwatari","Dami Im","Damien Rice","Dana International","Daniel Bedingfield","Daniel Caesar","Daniel Powter","Danzel","Darius Rucker","Daryl Hall & John Oates","Dashboard Confessional","Daughtry","Dave Rodgers","David Archuleta","David Bowie","David Cook","David Guetta feat. Akon","David Guetta feat. Kid Cudi","David Guetta feat. Rihanna","David Guetta feat. Usher","David Guetta & Sia","David Hasselhoff","David Kushner","Dead Or Alive","deadmau5 feat. Chris James","deadmau5 feat. Gerard Way","Deadmau5 & Kaskade","Dean Lewis","Dean Martin","Dear Evan Hansen","Deep Purple","Def Leppard","Deftones","Demi Lovato","Demi Lovato feat. Cher Lloyd","Deorro x Chris Brown","Depeche Mode","Destiny","Destinys Child","Diana Ross","Dido","Dimash Kudaibergen","Dio","Dire Straits","Disney's Aladin","Disneys Beauty and the Beast","Disneys Brother Bear","Disneys Descendants 2","Disneys Descendants 3","Disneys Descendants","Disneys Encanto","Disneys Frozen","Disneys Frozen II","Disneys Hercules","Disney's Moana","Disneys Mulan","Disney's Pocahontas","Disney's Tangled","Disneys Tarzan","Disneys Teen Beach Movie","Disneys The Jungle Book","Disneys The Lion King","Disturbed","DJ Sammy & Yanou feat. Do","DJ Snake feat. Justin Bieber","DNCE","Doja Cat feat. SZA","Doja Cat","Doki Doki Literature Club!","Dolly Parton","Don McLean","Donna Summer","Doris Day","Dove Cameron","DragonForce","Drake Bell","Drake feat. Rihanna","Drake feat. Wizkid & Kyla","Drake","Dream Theater","Drowning Pool","Dua Lipa","Dua Lipa & BLACKPINK","Duck Sauce","Duncan Laurence","Duran Duran","Dusty Springfield","Eagles","Earth, Wind & Fire","Echosmith","Ed Sheeran and Elton John","Ed Sheeran and Justin Bieber","Ed Sheeran","Ed Sheeran feat. Khalid","Ed Sheeran & Pokmon","Eddie Murphy","Edward Maya & Vika Jigulina","Electric Callboy","Electric Callboy feat. Sido","Electric Light Orchestra","Elena Siegman","Eleni Foureira","Ellie Goulding","Elton John","Elton John & Dua Lipa","Elton John & RuPaul","Elvis Presley","Eminem feat. Dido","Eminem feat. Juice WRLD","Eminem feat. Rihanna","Eminem","Emmelie de Forest","Empire Of The Sun","Enrique Iglesias","Enya","Eric Clapton","Eric Saade","Estelle feat. Kanye West","Europe","Eurythmics","Eva Rivas","Evanescence","Everlast","Extreme","Faith Hill","Faith No More","Fall Out Boy","Falling In Reverse","Fergie","Fetty Wap","FEX","Fifth Harmony feat. Kid Ink","Fifth Harmony","FIFTY FIFTY","Finger Eleven","Five Finger Death Punch","Five For Fighting","Fleetwood Mac","Flo Rida feat. David Guetta","Flo Rida feat. Ke$ha","Flo Rida feat. Sia","Flo Rida feat. T-Pain","Flo Rida","Florence + the Machine","Flyleaf","Foo Fighters","Fools Garden","Foreigner","Foster The People","Fountains Of Wayne","Frank Ocean","Frank Sinatra","Frankie Goes To Hollywood","Frankie Valli","Franz Ferdinand","Freddie Mercury","Fredi and Friends","Fugees","Fun. feat. Janelle Mone","Fun.","Gandalf","Gary Barlow & Elton John","Gayle","Genesis","George Ezra","George Michael","George Michael & Elton John","Getter Jaani","Ghost","Gina G","Ginuwine","girl in red","Girls Generation (SNSD)","Glee Cast","Gloria Gaynor","GloryHammer","Gnarls Barkley","Goo Goo Dolls","Good Charlotte","Gorillaz","Gorillaz feat. Shaun Ryder","Gotye & Kimbra","Grabbitz","Green Day","Grta Salme & Jnsi","Guns N' Roses","Guns N Roses","Gustaph","Gwen Stefani","Gwen Stefani & Eve","Gwen Stefani Feat Akon","Hailee Steinfeld feat. DNCE","Hailee Steinfeld","Hairspray (Movie)","Hamilton","Hanson","Harpo","Harry Styles","Hazbin Hotel","Heart","Heathers","Helena Paparizou","Hellogoodbye","Helloween","Henry Moodie","Hera Bjrk","High School Musical 2","High School Musical","Hilary Duff","Hillsong United","HIM","Himesh Patel","Hinder","Hole","Hollywood Undead","Hoobastank","Hootie & The Blowfish","Hooverphonic","Hozier","Huey Lewis & The News","Hunter Hayes","Ice Cube","Icon For Hire","Icona Pop feat. Charli XCX","Idina Menzel","Iggy Azalea feat. Charli XCX","Iggy Pop","Ike & Tina Turner","Imagine Dragons","Imagine Dragons x JID","Inna","Interpol","Into the Woods","INXS","Iron Maiden","ISAAK","Israel Kamakawiwoole","Jack Black","Jack Johnson","Jack White","Jagwar Twin","James Arthur","James Bay","James Blunt","Jamiroquai","Janet Jackson","Jason Derulo","Jason Derulo feat. 2 Chainz","Jason Derulo feat. Snoop Dogg","Jason Mraz","Jason Paige","Jay Sean feat. Lil Wayne","Jay Sean","Jay-Z feat. Alicia Keys","Jaymes Young","Jedward","Jelly Roll","Jennette McCurdy","Jennifer Lopez","Jennifer Lopez & Pitbull","Jesse McCartney","Jessica Simpson","Jessie J","Jet","Jethro Tull","Jewel","Jim Croce","Jimi Jamison","Jimmy Eat World","Joan Jett","Joan Jett & The Blackhearts","Joan Osborne","Joe Cocker","John Cougar Mellencamp","John Denver","John Farnham","John Legend","John Lennon","John Mayer","John Rzeznik","John Travolta (Grease)","John Waite","Johnny Cash","Johnny Logan","Johnny Rivers","Joji","JoJo","Jojo","Jon Bellion","Jonas Brothers","Jonathan Coulton","Josh Groban","Josh Turner","Journey","Joy Division","Julie and the Phantoms","Jung Kook, Usher","Justin Bieber","Justin Bieber & Benny Blanco","Justin Bieber feat. Big Sean","Justin Bieber feat. Usher","Justin Bieber & Ludacris","Justin Bieber & Nicki Minaj","Justin Timberlake","Kaiser Chiefs","Kaleen","Kaleo","Kane Brown","Kansas","Kanye West","Kanye West feat. Dwele","Kanye West feat. Pusha T","Kanye West feat. Young Jeezy","Kardinal Offishall feat. Akon","Kasabian","Kate Bush","Katrina And The Waves","KATSEYE","Katy Perry","Katy Perry feat. Kanye West","Katy Perry feat. Migos","Katy Perry feat. Nicki Minaj","Katy Perry feat. Snoop Dogg","Kay Starr","Keane","Keep Shelly in Athens","Keep Shelly In Athens","Ke$ha feat. 3OH!3","Ke$ha","KEiiNO","Kellie Pickler","Kelly Clarkson","Kendrick Lamar feat. Drake","Kendrick Lamar","Kendrick Lamar & SZA","Kenny Rogers & Dolly Parton","Kenya Grace","Khalid x Normani","Kid Cudi","Kid Cudi feat. MGMT & Ratatat","Kid Rock","Kid Rock feat. Sheryl Crow","Kim Petras","Kim Petras & Nicki Minaj","Kim Wilde","Kings Of Leon","Kings of Leon","KISS","Kodaline","KoRn","KT Tunstall","Kygo feat. Maty Noyes","Kygo & Selena Gomez","Kygo x Whitney Houston","Kyle Justin","Kylie Minogue","La Bouche","La Roux","Lady Antebellum","Lady Gaga","Lady Gaga & Ariana Grande","Lady Gaga & BLACKPINK","Lady Gaga, Bradley Cooper","Lady Gaga & Bruno Mars","Lady Gaga feat. Beyonc","Lady Gaga feat. Colby O'Donis","Lana Del Rey","Lana Del Rey feat. The Weeknd","Lauv feat. BTS","LazyTown","LE SSERAFIM","Lea Salonga and Brad Kane","League of Legends","LeAnn Rimes","Led Zeppelin","Lena","Lenny Kravitz","Leona Lewis","Leony","Les Fatals Picards","Les Misrables","Lewis Capaldi","Lifehouse","Lil Dicky","Lil Nas X feat. Miley Cyrus","Lil Nas X","Lil Wayne feat. Bruno Mars","Lil Wayne feat. Eminem","Lily Allen","Limp Bizkit","Linkin Park","Lionel Richie","Lipps, Inc.","Little Big","Little Mix feat. Jason Derulo","Little Mix feat. Stormzy","Little Mix","Lizzo","LMFAO","Loc Nottet","Lord Of The Lost","Lorde","Lordi","Loreen","Lou Reed","Loverboy","LP","LSD","Lucy Hale","Lulu","Lykke Li","Lyn","Lynyrd Skynyrd","M83 feat. Susanne Sundfr","Madcon feat. Ray Dalton","Madcon","Madness","Madonna","Mae Muller","Magic!","Malik Harris","Mamma Mia! (Movie)","Man With A Mission","Manchester Orchestra","Mandaryna","Mando Diao","Mandy Moore","Mneskin","Manfred Mann","Manowar","Mns Zelmerlw","Manuel","Marc Cohn","Marc DeMarco","Marcus & Martinus","Margaret Berger","Maria Yaremchuk","Mariah Carey","Mariah Carey & Boyz II Men","Mariah Carey feat. Jay-Z","Marillion","Marilyn Manson","Marina and the Diamonds","Marina & The Diamonds","Marina","Mark Ronson feat. Bruno Mars","Mark Ronson ft  Miley Cyrus","Maroon 5","Maroon 5 feat. Cardi B","Maroon 5 feat. Wiz Khalifa","Marshmello & Anne-Marie","Marshmello & Bastille","Marshmello & Kane Brown","Marshmello x Jonas Brothers","Martin Garrix & Bebe Rexha","Martin Garrix feat. Bonn","Martin Solveig & Dragonette","Martin Solveig & GTA","Martina McBride","Marvin Gaye & Tammi Terrell","Mary J. Blige","Matchbox Twenty","Matt Redman","Max Coveri","Meat Loaf","Meatloaf","Meghan Trainor","Melanie Martinez","Melanie Thornton","Melissa Etheridge","MELOVIN","Men at Work","Men At Work","Metallica","Metric","Metro Station","Metronomy","M.I.A.","Michael Bubl","Michael Jackson","Michael Schulte","Michelle Branch","Midnight Oil","Mika","Mika feat. Ariana Grande","Mika Kobayashi","Mike Oldfield","Mike Posner","Miley Cyrus","Miley Cyrus feat. Dua Lipa","Miley Cyrus & Jessie J","Mili","Milo Manheim & Meg Donnelly","Miracle Of Sound","Miranda Lambert","Mitski","Modern Talking","Modest Mouse","Montaigne","Morandi","Morgan Wallen","Mother Mother","Motionless In White","Mtley Cre","Moulin Rouge","Mr. Big","Mumford and Sons","Mumford & Sons","Muse","My Chemical Romance","My Little Pony","Myles Smith","N Sync","Nancy Sinatra","Natalia Kills","Natalie Imbruglia","Natasha Bedingfield","Natasha Farrow","Nathan Evans","Naughty Boy feat. Sam Smith","Nazareth","NCT 127","NCT DREAM","Ne-Yo","Neil Young","Nelly feat. Kelly Rowland","Nelly Furtado","Nelly Furtado feat. Timbaland","Nemo","Nena","Neon Genesis Evangelion","Neon Trees","Netflix","Netta","New Kids On The Block","New Order","NewJeans; League of Legends","NF","Niall Horan","Nick Cave & The Bad Seeds","Nick Jonas","Nickelback","Nicki Minaj feat. Rihanna","Nicki Minaj","Nicki Taylor","Nico Bruno","Nico & Vinz","Nightwish","NIKI","Nilsson","Nirvana","No Doubt","No Secrets","Noah Kahan","Nothing But Thieves","O.A.R.","Oasis","Ochman","OK Go","Olivia Newton-John","Olivia Rodrigo","Olly Murs","Olly Murs feat. Flo-Rida","Olsen Brothers","One Direction","OneRepublic","OutKast","Owl City & Carly Rae Jepsen","Owl City","Ozzy Osbourne","Panic! at the Disco","Papa Roach","Paramore","Paris Hilton","Passenger","Pat Benatar","Patrice Rushen","Paul Simon","Paula Abdul","Pearl Jam","Pet Shop Boys","Peter Cetera","Peter Gabriel","Peter Gabriel & Kate Bush","Petula Clark","Phantom Planet","Pharrell Williams","Phil Collins","Phoebe Bridgers","Pink Floyd","PinkPantheress & Ice Spice","Pitbull feat. Chris Brown","Pitbull feat. Marc Anthony","Pitbull feat. T-Pain","Pitch Perfect 2","Pixies","Placebo","Placebo feat. David Bowie","Plain White Ts","P!nk feat. Lily Allen","P!nk feat. Nate Ruess","P!nk","Poets Of The Fall","Poets of the Fall","Pointer Sisters","Poison","Portal","Post Malone","Post Malone feat. 21 Savage","Post Malone feat. Quavo","Post Malone & Swae Lee","Powerwolf","Pretenders","Prince and the Revolution","Psy feat. Suga of BTS","Psychostick","Queen","Queen & David Bowie","Queens Of The Stone Age","R. City feat. Adam Levine","R. Kelly","Radical Face","Radiohead","RAFA","Rage Against the Machine","Rage Against The Machine","RagnBone Man","Rag'n'Bone Man","Rainbow","Ramones","Rascal Flatts","Rasmussen","Ray Parker Jr.","Real Life","Red","Red Hot Chili Peppers","Rednex","R.E.M.","Remo Forrer","Ren","REO Speedwagon","Rhapsody","Richard Marx & Donna Lewis","Richard Marx","Rick Astley","Ricky Martin","Rihanna","Rihanna feat. Calvin Harris","Rihanna feat. Drake","Rihanna feat. Eminem","Rihanna feat. Jay-Z","Rihanna feat. Jeezy","Rihanna feat. Mikky Ekko","Rihanna & Ne-Yo","Rise Against","Rob Thomas","Rob Zombie","Robbie Williams","Rockwell","Rod Stewart","Roman Lob","Rosa Linn","Rosa Walton & Hallie Coggins","ROS & Bruno Mars","Roxette","Roy Orbison","Rufus Wainwright","Run DMC","RuPaul","Rupert Holmes","Ruslana","Rusted Root","S Club 7","Sabaton","Sabrina Carpenter","Sam Fender","Sam Ryder","Sam Smith","Sam The Sham And The Pharaohs","Sandie Shaw","Santana feat. Rob Thomas","Sara Bareilles","Sara Evans","Sarah McLachlan","Savage Garden","Savatage","SawanoHiroyuki[nZk] mizuki","Scars On Broadway","Scissor Sisters","Scorpions","Scott McKenzie","Sean Kingston","Sean Kingston / Justin Bieber","SEBalter","Secondhand Serenade","Seether","Selena Gomez","Selena Gomez feat. Gucci Mane","Selena Gomez & The Scene","Selena Gomez x Marshmello","Serj Tankian","Set It Off","Shaggy feat. RikRok","Shakin Stevens","Shakira","Shakira feat. Carlinhos Brown","Shakira feat. Dizzee Rascal","Shakira feat. Rihanna","Shakira feat. Wyclef Jean","Shakira ft. Freshlyground","Shania Twain","Shawn Mendes & Camila Cabello","Shawn Mendes, Camila Cabello","Shawn Mendes","Sheryl Crow","Shinedown","Shrek 2","Sia","Sia feat. Kendrick Lamar","SIAMS","Silia Kapsis","SiM","Simon & Garfunkel","Simple Minds","Simple Plan","Simply Red","Sinad OConnor","SING (Taron Egerton)","Sixpence None The Richer","Skid Row","Skillet","Skunk Anansie","Slade","SLANDER feat. Dylan Matthews","Slayyyter","Slipknot","Slowdive","Smash Into Pieces","Smash Mouth","SMiLE.dk","Smokie","Snow Patrol","Sophie Ellis-Bextor","Soul Asylum","Soundgarden","Spandau Ballet","Spice Girls","Spiderbait","Srbuk","Starship","Status Quo","Steindi","Stella Mwangi","Stephen Sanchez","Stereophonics","Steve Aoki feat. BTS","Steve Lacy","Steven Curtis Chapman","Stevie Wonder","Sting feat. Ray Chen","Sting","Stone Sour","Stone Temple Pilots","Sublime","Subwoolfer","Sudden Lights","Sugababes","Sum 41","Sunrise Ave","Sunrise Avenue","Supergrass","Supertramp","Surf Curse","Survivor","Sylver","Symphony X","System of a Down","System Of A Down","SZA","Taio Cruz","Taio Cruz feat. Flo Rida","Take That","Taking Back Sunday","Tal Bachman","Talking Heads","Tally Hall","Tate McRae","t.A.T.u.","Taylor Swift","Taylor Swift feat. Bon Iver","Teach-In","Tears For Fears","Technotronic feat. Felly","Teddy Swims","Tenacious D","Terence Trent DArby","Terri Clark","Texas","Teya & Salena","The 1975","The Animals","The Baseballs","The Beach Boys","The Beatles","The Beautiful South","The Black Eyed Peas","The Black Keys","The Bloodhound Gang","The Blues Brothers","The Boomtown Rats","The BossHoss","The Cab","The Calling","The Cardigans","The Chainsmokers & Coldplay","The Chainsmokers feat. Daya","The Chainsmokers feat. Halsey","The Champs","The Charlie Daniels Band","The Cinematic Orchestra","The Clash","The Common Linnets","The Corrs","The Cranberries","The Cure","The Darkness","The Doors","The Eagles","The Fray","The Greatest Showman","The Ink Spots","The Jackson 5","The Jacksons","The Jam","The Kelly Family","The Kid Laroi & Justin Bieber","The Kid Laroi & Miley Cyrus","The Killers","The Kooks","The Last Dinner Party","The Little Mermaid","The Living Tombstone","The Lonely Island feat. Akon","The Makemakes","The Mamas & The Papas","The Neighbourhood","The Offspring","The Phantom of the Opera","The Polar Express","The Police","The Postal Service","The Proclaimers","The Psychedelic Furs","The Pussycat Dolls","The Rasmus","The Rembrandts","The Rocky Horror Picture Show","The Rolling Stones","The Ronettes","The Script","The Script feat. will.i.am","The Smashing Pumpkins","The Smiths","The Specials","The Stone Roses","The Strokes","The Sweet","The Temptations","The Tony Rich Project","The Verve","The Village People","The Vines","The Weeknd","The Weeknd feat. Daft Punk","The White Stripes","The Who","The Witcher (Joey Batey)","The Zutons","TheFatRat feat. Laura Brehm","TheFatRat","Third Eye Blind","Thirty Seconds to Mars","Three Days Grace","Thundercats","Tiffany","Timbaland feat. Keri Hilson","Tina Turner","Tix","TLC","Tokio Hotel","Tom Dice","Tom Jones and Mousse T.","Tom Jones","Tom Odell","Tones And I","Toni Braxton","Tool","Toto","Tove Lo","Tracy Chapman","Train","Travie McCoy feat. Bruno Mars","Troye Sivan","Twenty One Pilots","twenty ne pilts","TWICE","Tyler, The Creator","U2","Ultravox","USA for Africa","Usher & Alicia Keys","Usher feat. Pitbull","Usher feat. will.i.am","Usher & Pitbull","Usher","Utada Hikaru","Vampire Weekend","Van Halen","Vance Joy","Vanessa Carlton","Vanessa Hudgens","Vanessa Williams","Vanilla Ice","Vengaboys","Verka Serduchka","Victoria Justice","Vitamin C","Volbeat","Volbeat feat. Sarah Blackwood","Voyager","Warren Zevon","We Are Domi","Ween","Weezer","Weird Al Yankovic","Westlife","Wham!","Wham","Wheatus","Whitesnake","Whitney Houston","Wicked","Wilbur Soot","Will Ferrell & Rachel McAdams","Will Smith","will.i.am & Britney Spears","will.i.am feat. Eva Simons","will.i.am feat. Justin Bieber","will.i.am","Wilson Phillips","Windows95man","Wiz Khalifa","Wiz Khalifa ft. Charlie Puth","Xavier Rudd","Yazoo","Ylvis","Yohanna","Young The Giant","Zara Larsson","Zara Larsson & MNEK","ZAYN feat. Sia","ZAYN","ZAYN & Taylor Swift","Zedd & Alessia Cara","Zedd feat. Selena Gomez","Zedd & Foxes","Zendaya & Bella Thorne","Zoe Wees","ZZ Top"]`),Obe=["English","Polish","Korean","Japanese","Spanish","Estonian","German","Swedish","Indonesian","Chinese","French","Ukrainian","Portuguese","Dutch","Italian","Catalan","Finnish","Czech","Norwegian","Croatian","Latin","Icelandic","Serbian","Slovenian","ENGL","Armenian","Romanian","Lithuanian","Latvian"],jbe=4066,Xh={artists:Ibe,languages:Obe,songs:jbe},Pbe=new Intl.NumberFormat(void 0,{maximumFractionDigits:0});function Vbe(){const e=Oi();Vl(!0);const t="menu/";ri("enter",()=>{e(t)},[t]);const[n,r]=x.useState(!1);return x.useEffect(()=>{const i=setTimeout(()=>{r(!0)},4e3);return()=>clearTimeout(i)},[]),g.jsxs(g.Fragment,{children:[g.jsx(gs,{children:g.jsx("title",{children:"AllKaraoke.Party - Free Online Karaoke Party Game"})}),g.jsx(VN,{}),g.jsxs("div",{className:"flex flex-col w-[110rem] items-stretch justify-center h-screen gap-12 mx-auto landscap:flex-row landscap:w-full mobile:w-full shadow-active [&_strong]:[text-shadow:_0_0_5rem_var(--tw-shadow-color)] [&_a]:[text-shadow:_0_0_5rem_var(--tw-shadow-color)]",children:[g.jsxs("div",{className:"flex justify-center gap-24 mobile:hidden",children:[g.jsx(qN,{}),g.jsx(s2,{})]}),g.jsx(ki,{to:t,children:g.jsx(B_,{"data-test":"enter-the-game",className:"mobile:hidden",children:"Enter the game"})}),g.jsxs(cu,{className:"gap-24 p-24 flex-row bg-black/75 landscap:flex-1 [&_hr]:my-12 mobile:flex-col",children:[g.jsxs(yj,{children:[g.jsxs("div",{className:"leading-normal text-justify",children:[g.jsx("strong",{children:"AllKaraoke"})," is a free online karaoke game inspired by PlayStation's"," ",g.jsx("strong",{children:"SingStar"}),". Sing along to your favorite songs and compete with your friends, all through the browser! Updated almost weekly with new songs and features."]}),g.jsx("hr",{}),g.jsxs(Vh,{children:[" ",g.jsx("strong",{children:Pbe.format(Xh.songs)})," songs in"," ",g.jsx("strong",{children:Xh.languages.length})," languages",g.jsxs(Dh,{children:["Artists such as"," ",g.jsx("strong",{children:n?g.jsx(r6,{options:{strings:Xh.artists,autoStart:!0,loop:!0,delay:100}}):Xh.artists.at(-1)})]})]}),g.jsxs(Vh,{children:[" Play ",g.jsx("strong",{children:"directly"})," in the browser",g.jsxs(Dh,{children:["No ",g.jsx("strong",{children:"download"})," needed"]})]}),g.jsxs(Vh,{children:[" Use ",g.jsx("strong",{children:"phones"})," as microphones",g.jsx(Dh,{children:"No need to download an app"})]}),g.jsxs(Vh,{children:[" Supports ",g.jsx("strong",{children:"1-4"})," players",g.jsx(Dh,{children:"When using phones as microphones"})]}),g.jsxs(Vh,{children:[" ",g.jsx("strong",{children:"100% Free"})," and open source",g.jsxs(Dh,{children:["Check the"," ",g.jsx("a",{href:"https://github.com/Asvarox/allkaraoke",target:"_blank",rel:"noreferrer",children:"GitHub repository"})]})]})]}),g.jsxs(yj,{className:"gap-16 mobile:flex-row landscap:hidden",children:[g.jsx(vj,{src:Mbe,alt:"Song list screen",className:"[box-shadow:_0_0_5rem_rgba(114,155,255,0.5)]"}),g.jsx(vj,{src:Rbe,alt:"In-game screen",className:"[box-shadow:_0_0_10rem_rgb(19,19,19)]"})]})]}),g.jsxs(ps,{className:"mobile:hidden text-md text-right !mt-[-2.5rem]",children:["Using this device as remote microphone?"," ",g.jsx(ki,{to:"remote-mic/",children:g.jsx("a",{"data-test":"join-existing-game",children:"Join existing game"})})]}),g.jsxs("div",{className:"flex flex-col gap-12 landscap:flex-1 [&&_a]:min-h-[30rem] justify-center",children:[g.jsx(ki,{to:"remote-mic/",children:g.jsx(B_,{"data-test":"join-existing-game",className:"hidden mobile:flex",children:g.jsxs("span",{children:["Join game (with ",g.jsx("strong",{children:"Game Code"}),")"]})})}),g.jsx(ki,{to:"quick-setup/",children:g.jsx(B_,{"data-test":"enter-the-game",className:"hidden mobile:flex",children:"Start new game"})})]})]})]})}const Vh=En.div``,Dh=En.div`pt-2 text-right text-[0.7em] [&_.Typewriter]:inline`,yj=En(ps)`flex flex-col flex-1 gap-4 typography text-[2.3rem] mobile:text-[8.5rem] landscap:text-[4.9rem]`,vj=En.img`w-full aspect-video object-cover shadow-5 border-1 border-black/50 rounded-2xl mobile:w-[calc(50%-2rem)] mobile:h-[50rem]`,B_=En(eN)`text-[9rem] bg-black w-full px-28 py-4 animate-focused`;function Dbe(){const e=Oi(),t=()=>e("menu/"),{register:n}=dr({onBackspace:t});return g.jsxs(Do,{children:[g.jsx(gs,{children:g.jsx("title",{children:"Manage Songs | AllKaraoke.Party - Free Online Karaoke Party Game"})}),g.jsx("h1",{children:"Manage Songs"}),g.jsx(ki,{to:"exclude-languages/",children:g.jsx(mt,{...n("exclude-languages",()=>e("exclude-languages/")),children:"Select Song Languages"})}),g.jsx(ki,{to:"edit/list/",children:g.jsx(mt,{...n("edit-songs",()=>e("edit/list/")),children:"Edit songs"})}),g.jsx(ki,{to:"convert/",children:g.jsx(mt,{...n("convert-song",()=>e("convert/")),children:"Convert UltraStar .txt"})}),g.jsx("hr",{}),g.jsx(ki,{to:"menu/",children:g.jsx(mt,{...n("back-button",t),children:"Return To Main Menu"})})]})}var Bh={exports:{}},Aj;function Bbe(){if(Aj)return Bh.exports;Aj=1,Bh.exports=r,Bh.exports.isMobile=r,Bh.exports.default=r;const e=/(android|bb\d+|meego).+mobile|armv7l|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series[46]0|samsungbrowser.*mobile|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i,t=/CrOS/,n=/android|ipad|playbook|silk/i;function r(i){i||(i={});let s=i.ua;if(!s&&typeof navigator<"u"&&(s=navigator.userAgent),s&&s.headers&&typeof s.headers["user-agent"]=="string"&&(s=s.headers["user-agent"]),typeof s!="string")return!1;let l=e.test(s)&&!t.test(s)||!!i.tablet&&n.test(s);return!l&&i.tablet&&i.featureDetect&&navigator&&navigator.maxTouchPoints>1&&s.indexOf("Macintosh")!==-1&&s.indexOf("Safari")!==-1&&(l=!0),l}return Bh.exports}var Nbe=Bbe();const Lbe=Pr(Nbe);function Fbe(){const[,e]=St(ai),t=async()=>{var n,r;try{e(!0),await document.body.requestFullscreen(),global.screen.orientation.unlock(),await((r=(n=global.screen.orientation).lock)==null?void 0:r.call(n,"landscape"))}catch(i){console.info(i)}};return g.jsx(Bl,{children:g.jsx(zbe,{children:g.jsxs($be,{children:[g.jsx("h1",{children:"Use Mobile Phone Mode?"}),g.jsx("h3",{children:"The regular version of the game isn't optimal for smaller screens. Enable the Mobile Phone Mode to adjust the UI and gameplay elements. Use this, or connect other mobiles to sing songs."}),g.jsxs("h3",{children:["You can always change the setting in the ",g.jsx("strong",{children:"Settings"})," menu."]}),g.jsx(bj,{focused:!0,onClick:t,"data-test":"enable-mobile-mode",children:"Enable Mobile Phone Mode"}),g.jsx(bj,{onClick:()=>e(!1),"data-test":"dismiss-mobile-mode",children:"Dismiss"})]})})})}const bj=W(mt,{target:"e6hg0672"})({name:"h427ha",styles:"font-size:calc(min(3vw, 4vh));height:auto;padding:calc(min(3vw, 4vh))"}),zbe=W("div",{target:"e6hg0671"})({name:"wkkrci",styles:"position:fixed;inset:0;display:flex;align-items:center;justify-content:center"}),$be=W(uu,{target:"e6hg0670"})({name:"x689zy",styles:"max-width:150rem;padding:calc(min(3vw, 4vh));margin:auto;h1{font-size:calc(min(4vw, 5vh));margin-bottom:0.75em;}h3{font-size:calc(min(3vw, 4vh));line-height:1.25;margin-bottom:1em;}"});function Ube(){const[e]=St(ai),t=x.useMemo(()=>Lbe(),[]),n=Oi(),r=async i=>{var s,l;if(n("menu/"),e&&document.fullscreenElement===null)try{await document.body.requestFullscreen(),global.screen.orientation.unlock(),await((l=(s=global.screen.orientation).lock)==null?void 0:l.call(s,"landscape"))}catch(c){console.info(c)}};return g.jsxs(g.Fragment,{children:[g.jsx(gs,{children:g.jsx("title",{children:"Select Input | AllKaraoke.Party - Free Online Karaoke Party Game"})}),e===null&&t?g.jsx(Fbe,{}):g.jsx(Do,{children:g.jsx(p2,{onFinish:r,closeButtonText:"Sing a song",smooth:!0})})]})}const wi={INDEX:"",QUICK_SETUP:"quick-setup",GAME:"game",MENU:"menu",JUKEBOX:"jukebox",SELECT_INPUT:"select-input",SETTINGS:"settings",SETTINGS_REMOTE_MICS:"settings/remote-mics",SETTINGS_CALIBRATION:"settings/calibration",REMOTE_MIC:"remote-mic",MANAGE_SONGS:"manage-songs",EXCLUDE_LANGUAGES:"exclude-languages",CONVERT:"convert",EDIT_SONGS_LIST:"edit/list",EDIT_SONG:"edit/song"},Hbe=()=>{const e=Oi();return g.jsx(Do,{children:g.jsx(n6,{onSave:()=>e("settings/")})})};function qbe(){Ll(!1);const e=Oi(),t=()=>e("settings/"),{register:n}=dr({onBackspace:t}),[r,i]=St(o0),[s,l]=St(hV),c=hs(me.inputListChanged,()=>Dt.getRemoteMics()),d=WD();return x.useEffect(()=>Dt.addListener(d),[d]),g.jsxs(Do,{children:[g.jsx("h1",{onClick:()=>{const u=prompt("Code");(u==null?void 0:u.length)===ip-1&&(nD(u),global.location.reload())},children:"Remote Microphone Settings"}),g.jsx(Ds,{...n("connection type",()=>i(Pc(i7,r))),label:"Connection type",value:r}),g.jsx("hr",{}),g.jsx(Ds,{...n("default-permission",()=>l(Pc(lR,s))),label:"Default permission",info:g.jsxs(g.Fragment,{children:[g.jsx("strong",{children:"WRITE"})," - player is able to navigate the menus remotely and assign themselves and other players to the game.",g.jsx("br",{}),g.jsx("br",{}),g.jsx("strong",{children:"READ"})," - player will only be able to use the device as a microphone and otherwise have no control over the game."]}),value:s.toUpperCase()}),g.jsx("hr",{}),g.jsx("h3",{children:"Connected devices permissions:"}),c.map(u=>{const p=Dt.getPermission(u.id);return g.jsx(Kbe,{...n(`mic-${u.id}`,()=>Dt.setPermission(u.id,Pc(lR,p)),"Change permissions"),"data-test":"remote-mic-entry","data-id":u.id,value:p,label:g.jsxs(Ybe,{children:[g.jsx(Qbe,{children:u.id.slice(-4)}),g.jsx(Xbe,{children:g.jsx(Gbe,{deviceId:u.id})}),g.jsx(Wbe,{className:"ph-no-capture",children:u.name})]})},u.id)}),c.length===0&&g.jsx("h4",{children:"No remote microphones connected"}),g.jsx("hr",{}),g.jsx(mt,{...n("back-button",t),children:"Return To Settings"})]})}const Gbe=({deviceId:e})=>{const t=TL(e);return t===null?null:g.jsxs(g.Fragment,{children:[t,"ms"]})},Ybe=W("span",{target:"expzhs34"})({name:"50zrmy",styles:"text-transform:uppercase"}),Kbe=W(Ds,{target:"expzhs33"})({name:"50zrmy",styles:"text-transform:uppercase"}),Wbe=W("span",{target:"expzhs32"})(""),Qbe=W("span",{target:"expzhs31"})({name:"1mrl9vb",styles:"font-size:1.5rem;padding-right:1rem"}),Xbe=W("span",{target:"expzhs30"})({name:"13smbnv",styles:"font-size:1.5rem;padding-right:2rem;text-transform:none"}),N_=2500,Jbe=()=>{const e=[0,...new Array(21).fill(0).map((n,r)=>Math.round(10*(1.2+Math.sin(r/2.5+1.5)))/10).map(n=>Math.round(n/28*N_)).reduce((n,r)=>[...n,(n.at(-1)??0)+r],[])],t=[{offset:"0%",color:et.eurovisionPink.text},{offset:"25%",color:et.eurovisionYellow.text},{offset:"50%",color:et.eurovisionPink.text},{offset:"75%",color:et.eurovisionOrange.text},{offset:"100%",color:et.eurovisionPink.text}];return g.jsxs("svg",{width:N_,height:N_,version:"1.1",xmlns:"http://www.w3.org/2000/svg",children:[g.jsx("defs",{children:Array.from({length:21},(n,r)=>g.jsx("linearGradient",{id:`grad${r}`,x1:"0%",x2:"0%",y1:`${r*2}%`,y2:`${r*2+100}%`,spreadMethod:"repeat",children:t.map((i,s)=>g.jsx("stop",{offset:i.offset,stopColor:i.color},s))},r))}),Array.from({length:22},(n,r)=>g.jsx("rect",{x:e[r],y:"0",width:(e[r+1]??501)-e[r]+10,height:"100%",fill:`url(#grad${r})`},r))]})},Zbe=`<?xml version="1.0" encoding="utf-8"?>
<svg viewBox="0 0 500 500" xmlns="http://www.w3.org/2000/svg">
  <g style="" transform="matrix(1.071942, 0, 0, 1.071942, 1.835104, 30.483427)">
    <path xmlns="http://www.w3.org/2000/svg" d="M 106.909 108.923 C 93.513 122.319 85.385 140.039 83.629 158.623 C 65.934 156.191 48.056 147.884 33.558 133.384 C 2.037 101.864 -1.61 54.425 25.407 27.42 C 52.402 0.403 99.839 4.05 131.36 35.571 C 145.859 50.07 154.167 67.957 156.598 85.654 C 138.025 87.387 120.305 95.527 106.909 108.923 Z M 277.592 279.606 C 284.12 273.076 293.486 270.217 302.56 271.951 L 335.161 304.574 C 344.167 313.579 344.167 328.169 335.161 337.175 C 326.155 346.181 311.566 346.181 302.56 337.175 L 269.937 304.574 C 268.203 295.502 271.062 286.135 277.592 279.606 Z M 172.111 108.923 C 154.167 106.357 136.043 112.402 123.209 125.224 C 110.377 138.057 104.342 156.181 106.909 174.137 L 258.318 295.253 C 259.219 286.383 262.957 277.94 269.441 271.455 C 275.925 264.971 284.368 261.234 293.239 260.333 L 172.111 108.923 Z" style="stroke: rgb(0, 0, 0); fill: rgb(255, 54, 54); stroke-width: 9.32886px; stroke-linejoin: round;"/>
    <path xmlns="http://www.w3.org/2000/svg" d="M 218.755 301.518 C 205.359 288.122 197.231 270.402 195.475 251.818 C 177.78 254.25 159.902 262.557 145.404 277.057 C 113.883 308.577 110.236 356.016 137.253 383.021 C 164.248 410.038 211.685 406.391 243.206 374.87 C 257.705 360.371 266.013 342.484 268.444 324.787 C 249.871 323.054 232.151 314.914 218.755 301.518 Z M 389.438 130.835 C 395.966 137.365 405.332 140.224 414.406 138.49 L 447.007 105.867 C 456.013 96.862 456.013 82.272 447.007 73.266 C 438.001 64.26 423.412 64.26 414.406 73.266 L 381.783 105.867 C 380.049 114.939 382.908 124.306 389.438 130.835 Z M 283.957 301.518 C 266.013 304.084 247.889 298.039 235.055 285.217 C 222.223 272.384 216.188 254.26 218.755 236.304 L 370.164 115.188 C 371.065 124.058 374.803 132.501 381.287 138.986 C 387.771 145.47 396.214 149.207 405.085 150.108 L 283.957 301.518 Z" style="fill: rgb(4, 153, 255); stroke: rgb(0, 0, 0); stroke-width: 9.32886px; stroke-linejoin: round;" transform="matrix(-1, 0, 0, -1, 572.91568, 467.631317)"/>
  </g>
</svg>`;function e1e(){return Vl(!1),g.jsxs(Bl,{children:[g.jsxs(t1e,{children:[g.jsx(n1e,{dangerouslySetInnerHTML:{__html:Zbe}}),g.jsx(i6,{children:g.jsx(DI,{})})]}),g.jsxs(i1e,{children:[g.jsx(r1e,{children:g.jsx(DI,{})}),g.jsx(s2,{}),g.jsx(s1e,{src:vL,alt:"Eurovision"})]}),g.jsx(Jbe,{})]})}const t1e=W("div",{target:"e1bt4f566"})({name:"yc537h",styles:"width:400px;aspect-ratio:1/1;position:relative;padding:30px"}),i6=W("div",{target:"e1bt4f565"})(`display:flex;position:absolute;inset:0;z-index:-1;div{background-image:linear-gradient(
      0deg,
      `,et.eurovisionViolet.text,`,
      `,et.eurovisionBlue.text,`,
      `,et.eurovisionYellow.text,`,
      `,et.eurovisionBlue.text,`,
      `,et.eurovisionViolet.text,`
    );}`),n1e=W("svg",{target:"e1bt4f564"})("width:400px;aspect-ratio:1/1;object-fit:contain;filter:drop-shadow(0 0 10px rgb(0 0 0 / 0.6));path:nth-of-type(1){fill:",et.red.text,"!important;}path:nth-of-type(2){fill:",et.blue.text,"!important;}"),r1e=W(i6,{target:"e1bt4f563"})(`div{background-image:linear-gradient(
      0deg,
      `,et.eurovisionPink.text,`,
      `,et.eurovisionOrange.text,`,
      `,et.eurovisionYellow.text,`,
      `,et.eurovisionPink.text,`
    );}`),i1e=W("div",{target:"e1bt4f562"})(`overflow:hidden;position:relative;height:calc(693px / 1);width:calc(2048px / 1);transform:scale(1);background-color:black;background-image:linear-gradient(
    120deg,
    `,et.red.stroke,`,
    `,et.red.hit.fill,` 49.9%,
    `,et.blue.hit.fill,` 50.1%,
    `,et.blue.stroke,`
  );display:flex;align-items:center;justify-content:center;div{}`),s1e=W("img",{target:"e1bt4f561"})({name:"1go3sm",styles:"margin-left:4rem;transform:scale(1.5)"}),a1e=(e,t)=>`
<iframe src="https://www.facebook.com/plugins/page.php?href=https%3A%2F%2Fwww.facebook.com%2Fallkaraoke.party&${Object.entries({show_posts:!0,width:e,height:t,small_header:!0,adapt_container_width:!0,hide_cover:!1,show_facepile:!1,appId:530120230391395}).map(([i,s])=>`${i}=${String(s)}`).join("&")}" width="${e}" height="${t}" style="border:none;overflow:hidden" scrolling="no" frameborder="0" allowfullscreen="true" allow="autoplay; clipboard-write; encrypted-media; picture-in-picture; web-share"></iframe>
`;function o1e(){const[e]=St(ai),[t,n]=x.useState(!1),[r,i]=x.useState(180),s=x.useCallback(l=>{i(Math.round(l==null?void 0:l.getBoundingClientRect().width)??200)},[]);return x.useEffect(()=>{const l=setTimeout(()=>{n(!0)},750);return()=>{clearTimeout(l)}},[]),g.jsxs(l1e,{"data-small":!!e,show:t,children:[g.jsx("div",{dangerouslySetInnerHTML:{__html:a1e(450,750)},style:{height:750*(r/350),width:"100%",transformOrigin:"left top",transform:`scale(${r/450})`}}),g.jsx("h5",{ref:s,children:"Get updates, and help by suggesting features and reporting bugs."})]})}const l1e=W(uu,{target:"e1zzmv40"})("transition:1000ms;opacity:",e=>e.show?1:0,";position:absolute;top:2rem;right:10rem;width:37rem;margin:0;text-decoration:none;text-align:justify;&[data-small='true'] &{width:25rem;right:1rem;h2{font-size:1.5rem;}h5{font-size:1.15rem;}}view-transition-name:fb-notification;");function c1e(){Vl(!0);const e=Oi();Ll(!1);const{register:t}=dr();return g.jsxs(Do,{children:[g.jsxs(gs,{children:[g.jsx("title",{children:"Main Menu | AllKaraoke.Party - Free Online Karaoke Party Game"}),g.jsx("link",{rel:"preload",href:"/songs/index.json",as:"fetch",type:"application/json",crossOrigin:"anonymous"}),g.jsx("link",{rel:"preload",href:"/mostPopularSongs.json",as:"fetch",type:"application/json",crossOrigin:"anonymous"})]}),g.jsxs(u1e,{children:[g.jsxs("span",{children:["Bpm data and release year provided by"," ",g.jsx("a",{target:"_blank",href:"https://getsongbpm.com/",rel:"noreferrer",children:"GetSongBPM"})]}),g.jsx("span",{children:"Song: Funk Cool Groove (Music Today 80)"}),g.jsx("span",{children:" Composed & Produced by : Anwar Amr"}),g.jsxs("span",{children:[" Video Link:"," ",g.jsx("a",{href:"https://youtu.be/FGzzBbYRjFY",target:"_blank",rel:"noreferrer",children:"https://youtu.be/FGzzBbYRjFY"})]})]}),g.jsx(o1e,{}),g.jsxs(g.Fragment,{children:[g.jsx(ki,{to:"game/",children:g.jsx(Pt.Button,{...t("sing-a-song",()=>e("game/")),children:"Sing a song"})}),g.jsx(ki,{to:"select-input/",children:g.jsx(Pt.Button,{...t("select-input",()=>e("select-input/")),children:"Setup Microphones"})}),g.jsx(ki,{to:"settings/",children:g.jsx(Pt.Button,{...t("settings",()=>e("settings/")),children:"Settings"})}),g.jsx(ki,{to:"jukebox/",children:g.jsx(Pt.Button,{...t("jukebox",()=>e("jukebox/")),children:"Jukebox"})}),g.jsx(ki,{to:"manage-songs/",children:g.jsx(Pt.Button,{...t("manage-songs",()=>e("manage-songs/")),children:"Manage Songs"})})]})]})}const u1e=W("div",{target:"e1g7uwpd0"})(jt,";text-decoration:none;flex-direction:column;display:flex;font-size:1.5rem;gap:1.25rem;opacity:0.85;position:absolute;bottom:4rem;left:1rem;view-transition-name:background-music-credit;"),d1e=x.lazy(()=>df(()=>import("./SongManagement-D6zNsZeK.js"),[]).then(e=>({default:e.SongList})));function f1e(){St(ai);const[e]=St(Ps),t=x.useMemo(()=>jE({graphicSetting:e}),[e]);return g.jsx(pde,{theme:t,children:g.jsx(jw,{fallback:pme,children:g.jsx(pre,{children:g.jsx(rre,{children:g.jsx(gle,{base:"/",children:g.jsxs(mle,{children:[g.jsx(Xr,{path:wi.QUICK_SETUP,component:Ube}),g.jsx(Xr,{path:wi.MENU,component:c1e}),g.jsx(Xr,{path:wi.EXCLUDE_LANGUAGES,component:yme}),g.jsx(Xr,{path:wi.JUKEBOX,component:Dge}),g.jsx(Xr,{path:wi.GAME,children:g.jsx(kbe,{})}),g.jsx(Xr,{path:wi.SELECT_INPUT,component:hme}),g.jsx(Xr,{path:wi.SETTINGS,component:Jfe}),g.jsx(Xr,{path:wi.SETTINGS_REMOTE_MICS,component:qbe}),g.jsx(Xr,{path:wi.SETTINGS_CALIBRATION,component:Hbe}),g.jsx(Xr,{path:wi.REMOTE_MIC,component:yfe}),g.jsx(Xr,{path:wi.MANAGE_SONGS,component:Dbe}),g.jsx(Xr,{path:"social-media-elements",component:e1e}),g.jsx(Xr,{path:wi.CONVERT,component:()=>g.jsx(ahe,{})}),g.jsx(Xr,{path:wi.EDIT_SONGS_LIST,component:()=>g.jsx(x.Suspense,{fallback:g.jsx(YN,{}),children:g.jsx(d1e,{})})}),g.jsx(Xr,{path:"edit/get-songs-bpms",component:mme}),g.jsx(Xr,{path:wi.EDIT_SONG,children:g.jsx(Vpe,{})}),g.jsx(Xr,{path:wi.INDEX,component:Vbe})]})})})})})})}const h1e=SY(f1e),p1e=["AbortError: Version change transaction was aborted in upgradeneeded event handler.","The object can not be found here.","Document is hidden.","Failed to register a ServiceWorker for scope ('https://allkaraoke.party/') with script","NotAllowedError: Permission denied by system","ResizeObserver loop limit exceeded","ResizeObserver loop completed with undelivered notifications.","NotAllowedError: Document is not focused.","Error: Socket was destroyed!",/TypeError: Failed to fetch/,"top.GLOBALS","originalCreateNotification","canvas.contentDocument","MyApp_RemoveAllHighlights","http://tt.epicplay.com","Can't find variable: ZiteReader","jigsaw is not defined","ComboSearch is not defined","http://loading.retry.widdit.com/","atomicFindClose","fb_xd_fragment","bmi_SafeAddOnload","EBCallBackMessageReceived","conduitPage"];var L_={exports:{}},Nh={},F_={exports:{}},z_={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _j;function g1e(){return _j||(_j=1,function(e){function t(D,K){var Q=D.length;D.push(K);e:for(;0<Q;){var J=Q-1>>>1,B=D[J];if(0<i(B,K))D[J]=K,D[Q]=B,Q=J;else break e}}function n(D){return D.length===0?null:D[0]}function r(D){if(D.length===0)return null;var K=D[0],Q=D.pop();if(Q!==K){D[0]=Q;e:for(var J=0,B=D.length,G=B>>>1;J<G;){var ee=2*(J+1)-1,ue=D[ee],F=ee+1,ge=D[F];if(0>i(ue,Q))F<B&&0>i(ge,ue)?(D[J]=ge,D[F]=Q,J=F):(D[J]=ue,D[ee]=Q,J=ee);else if(F<B&&0>i(ge,Q))D[J]=ge,D[F]=Q,J=F;else break e}}return K}function i(D,K){var Q=D.sortIndex-K.sortIndex;return Q!==0?Q:D.id-K.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var l=Date,c=l.now();e.unstable_now=function(){return l.now()-c}}var d=[],u=[],p=1,h=null,y=3,v=!1,b=!1,_=!1,w=typeof setTimeout=="function"?setTimeout:null,T=typeof clearTimeout=="function"?clearTimeout:null,k=typeof setImmediate<"u"?setImmediate:null;function R(D){for(var K=n(u);K!==null;){if(K.callback===null)r(u);else if(K.startTime<=D)r(u),K.sortIndex=K.expirationTime,t(d,K);else break;K=n(u)}}function M(D){if(_=!1,R(D),!b)if(n(d)!==null)b=!0,q();else{var K=n(u);K!==null&&H(M,K.startTime-D)}}var E=!1,O=-1,P=5,j=-1;function V(){return!(e.unstable_now()-j<P)}function C(){if(E){var D=e.unstable_now();j=D;var K=!0;try{e:{b=!1,_&&(_=!1,T(O),O=-1),v=!0;var Q=y;try{t:{for(R(D),h=n(d);h!==null&&!(h.expirationTime>D&&V());){var J=h.callback;if(typeof J=="function"){h.callback=null,y=h.priorityLevel;var B=J(h.expirationTime<=D);if(D=e.unstable_now(),typeof B=="function"){h.callback=B,R(D),K=!0;break t}h===n(d)&&r(d),R(D)}else r(d);h=n(d)}if(h!==null)K=!0;else{var G=n(u);G!==null&&H(M,G.startTime-D),K=!1}}break e}finally{h=null,y=Q,v=!1}K=void 0}}finally{K?N():E=!1}}}var N;if(typeof k=="function")N=function(){k(C)};else if(typeof MessageChannel<"u"){var U=new MessageChannel,L=U.port2;U.port1.onmessage=C,N=function(){L.postMessage(null)}}else N=function(){w(C,0)};function q(){E||(E=!0,N())}function H(D,K){O=w(function(){D(e.unstable_now())},K)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(D){D.callback=null},e.unstable_continueExecution=function(){b||v||(b=!0,q())},e.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<D?Math.floor(1e3/D):5},e.unstable_getCurrentPriorityLevel=function(){return y},e.unstable_getFirstCallbackNode=function(){return n(d)},e.unstable_next=function(D){switch(y){case 1:case 2:case 3:var K=3;break;default:K=y}var Q=y;y=K;try{return D()}finally{y=Q}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(D,K){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var Q=y;y=D;try{return K()}finally{y=Q}},e.unstable_scheduleCallback=function(D,K,Q){var J=e.unstable_now();switch(typeof Q=="object"&&Q!==null?(Q=Q.delay,Q=typeof Q=="number"&&0<Q?J+Q:J):Q=J,D){case 1:var B=-1;break;case 2:B=250;break;case 5:B=1073741823;break;case 4:B=1e4;break;default:B=5e3}return B=Q+B,D={id:p++,callback:K,priorityLevel:D,startTime:Q,expirationTime:B,sortIndex:-1},Q>J?(D.sortIndex=Q,t(u,D),n(d)===null&&D===n(u)&&(_?(T(O),O=-1):_=!0,H(M,Q-J))):(D.sortIndex=B,t(d,D),b||v||(b=!0,q())),D},e.unstable_shouldYield=V,e.unstable_wrapCallback=function(D){var K=y;return function(){var Q=y;y=K;try{return D.apply(this,arguments)}finally{y=Q}}}}(z_)),z_}var Sj;function m1e(){return Sj||(Sj=1,F_.exports=g1e()),F_.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xj;function y1e(){if(xj)return Nh;xj=1;var e=m1e(),t=Zc(),n=LB();function r(a){var o="https://react.dev/errors/"+a;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var f=2;f<arguments.length;f++)o+="&args[]="+encodeURIComponent(arguments[f])}return"Minified React error #"+a+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}var s=Symbol.for("react.element"),l=Symbol.for("react.transitional.element"),c=Symbol.for("react.portal"),d=Symbol.for("react.fragment"),u=Symbol.for("react.strict_mode"),p=Symbol.for("react.profiler"),h=Symbol.for("react.provider"),y=Symbol.for("react.consumer"),v=Symbol.for("react.context"),b=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),w=Symbol.for("react.suspense_list"),T=Symbol.for("react.memo"),k=Symbol.for("react.lazy"),R=Symbol.for("react.offscreen"),M=Symbol.for("react.memo_cache_sentinel"),E=Symbol.iterator;function O(a){return a===null||typeof a!="object"?null:(a=E&&a[E]||a["@@iterator"],typeof a=="function"?a:null)}var P=Symbol.for("react.client.reference");function j(a){if(a==null)return null;if(typeof a=="function")return a.$$typeof===P?null:a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case d:return"Fragment";case c:return"Portal";case p:return"Profiler";case u:return"StrictMode";case _:return"Suspense";case w:return"SuspenseList"}if(typeof a=="object")switch(a.$$typeof){case v:return(a.displayName||"Context")+".Provider";case y:return(a._context.displayName||"Context")+".Consumer";case b:var o=a.render;return a=a.displayName,a||(a=o.displayName||o.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case T:return o=a.displayName||null,o!==null?o:j(a.type)||"Memo";case k:o=a._payload,a=a._init;try{return j(a(o))}catch{}}return null}var V=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,C=Object.assign,N,U;function L(a){if(N===void 0)try{throw Error()}catch(f){var o=f.stack.trim().match(/\n( *(at )?)/);N=o&&o[1]||"",U=-1<f.stack.indexOf(`
    at`)?" (<anonymous>)":-1<f.stack.indexOf("@")?"@unknown:0:0":""}return`
`+N+a+U}var q=!1;function H(a,o){if(!a||q)return"";q=!0;var f=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var m={DetermineComponentFrameRoot:function(){try{if(o){var Te=function(){throw Error()};if(Object.defineProperty(Te.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Te,[])}catch(Ae){var he=Ae}Reflect.construct(a,[],Te)}else{try{Te.call()}catch(Ae){he=Ae}a.call(Te.prototype)}}else{try{throw Error()}catch(Ae){he=Ae}(Te=a())&&typeof Te.catch=="function"&&Te.catch(function(){})}}catch(Ae){if(Ae&&he&&typeof Ae.stack=="string")return[Ae.stack,he.stack]}return[null,null]}};m.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var A=Object.getOwnPropertyDescriptor(m.DetermineComponentFrameRoot,"name");A&&A.configurable&&Object.defineProperty(m.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var S=m.DetermineComponentFrameRoot(),I=S[0],z=S[1];if(I&&z){var X=I.split(`
`),ie=z.split(`
`);for(A=m=0;m<X.length&&!X[m].includes("DetermineComponentFrameRoot");)m++;for(;A<ie.length&&!ie[A].includes("DetermineComponentFrameRoot");)A++;if(m===X.length||A===ie.length)for(m=X.length-1,A=ie.length-1;1<=m&&0<=A&&X[m]!==ie[A];)A--;for(;1<=m&&0<=A;m--,A--)if(X[m]!==ie[A]){if(m!==1||A!==1)do if(m--,A--,0>A||X[m]!==ie[A]){var be=`
`+X[m].replace(" at new "," at ");return a.displayName&&be.includes("<anonymous>")&&(be=be.replace("<anonymous>",a.displayName)),be}while(1<=m&&0<=A);break}}}finally{q=!1,Error.prepareStackTrace=f}return(f=a?a.displayName||a.name:"")?L(f):""}function D(a){switch(a.tag){case 26:case 27:case 5:return L(a.type);case 16:return L("Lazy");case 13:return L("Suspense");case 19:return L("SuspenseList");case 0:case 15:return a=H(a.type,!1),a;case 11:return a=H(a.type.render,!1),a;case 1:return a=H(a.type,!0),a;default:return""}}function K(a){try{var o="";do o+=D(a),a=a.return;while(a);return o}catch(f){return`
Error generating stack: `+f.message+`
`+f.stack}}function Q(a){var o=a,f=a;if(a.alternate)for(;o.return;)o=o.return;else{a=o;do o=a,o.flags&4098&&(f=o.return),a=o.return;while(a)}return o.tag===3?f:null}function J(a){if(a.tag===13){var o=a.memoizedState;if(o===null&&(a=a.alternate,a!==null&&(o=a.memoizedState)),o!==null)return o.dehydrated}return null}function B(a){if(Q(a)!==a)throw Error(r(188))}function G(a){var o=a.alternate;if(!o){if(o=Q(a),o===null)throw Error(r(188));return o!==a?null:a}for(var f=a,m=o;;){var A=f.return;if(A===null)break;var S=A.alternate;if(S===null){if(m=A.return,m!==null){f=m;continue}break}if(A.child===S.child){for(S=A.child;S;){if(S===f)return B(A),a;if(S===m)return B(A),o;S=S.sibling}throw Error(r(188))}if(f.return!==m.return)f=A,m=S;else{for(var I=!1,z=A.child;z;){if(z===f){I=!0,f=A,m=S;break}if(z===m){I=!0,m=A,f=S;break}z=z.sibling}if(!I){for(z=S.child;z;){if(z===f){I=!0,f=S,m=A;break}if(z===m){I=!0,m=S,f=A;break}z=z.sibling}if(!I)throw Error(r(189))}}if(f.alternate!==m)throw Error(r(190))}if(f.tag!==3)throw Error(r(188));return f.stateNode.current===f?a:o}function ee(a){var o=a.tag;if(o===5||o===26||o===27||o===6)return a;for(a=a.child;a!==null;){if(o=ee(a),o!==null)return o;a=a.sibling}return null}var ue=Array.isArray,F=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ge={pending:!1,data:null,method:null,action:null},se=[],Se=-1;function Me(a){return{current:a}}function Re(a){0>Se||(a.current=se[Se],se[Se]=null,Se--)}function ye(a,o){Se++,se[Se]=a.current,a.current=o}var je=Me(null),Ge=Me(null),Fe=Me(null),Ve=Me(null);function ze(a,o){switch(ye(Fe,o),ye(Ge,a),ye(je,null),a=o.nodeType,a){case 9:case 11:o=(o=o.documentElement)&&(o=o.namespaceURI)?fk(o):0;break;default:if(a=a===8?o.parentNode:o,o=a.tagName,a=a.namespaceURI)a=fk(a),o=hk(a,o);else switch(o){case"svg":o=1;break;case"math":o=2;break;default:o=0}}Re(je),ye(je,o)}function ot(){Re(je),Re(Ge),Re(Fe)}function Qe(a){a.memoizedState!==null&&ye(Ve,a);var o=je.current,f=hk(o,a.type);o!==f&&(ye(Ge,a),ye(je,f))}function Ue(a){Ge.current===a&&(Re(je),Re(Ge)),Ve.current===a&&(Re(Ve),fh._currentValue=ge)}var pt=Object.prototype.hasOwnProperty,Jt=e.unstable_scheduleCallback,hn=e.unstable_cancelCallback,He=e.unstable_shouldYield,Nn=e.unstable_requestPaint,At=e.unstable_now,pn=e.unstable_getCurrentPriorityLevel,gn=e.unstable_ImmediatePriority,rt=e.unstable_UserBlockingPriority,yt=e.unstable_NormalPriority,dt=e.unstable_LowPriority,xt=e.unstable_IdlePriority,Zt=e.log,wt=e.unstable_setDisableYieldValue,kt=null,Lt=null;function Ln(a){if(Lt&&typeof Lt.onCommitFiberRoot=="function")try{Lt.onCommitFiberRoot(kt,a,void 0,(a.current.flags&128)===128)}catch{}}function en(a){if(typeof Zt=="function"&&wt(a),Lt&&typeof Lt.setStrictMode=="function")try{Lt.setStrictMode(kt,a)}catch{}}var gt=Math.clz32?Math.clz32:Gn,fr=Math.log,Vr=Math.LN2;function Gn(a){return a>>>=0,a===0?32:31-(fr(a)/Vr|0)|0}var qr=128,Dr=4194304;function Ft(a){var o=a&42;if(o!==0)return o;switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return a&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return a}}function Tn(a,o){var f=a.pendingLanes;if(f===0)return 0;var m=0,A=a.suspendedLanes,S=a.pingedLanes,I=a.warmLanes;a=a.finishedLanes!==0;var z=f&134217727;return z!==0?(f=z&~A,f!==0?m=Ft(f):(S&=z,S!==0?m=Ft(S):a||(I=z&~I,I!==0&&(m=Ft(I))))):(z=f&~A,z!==0?m=Ft(z):S!==0?m=Ft(S):a||(I=f&~I,I!==0&&(m=Ft(I)))),m===0?0:o!==0&&o!==m&&!(o&A)&&(A=m&-m,I=o&-o,A>=I||A===32&&(I&4194176)!==0)?o:m}function Je(a,o){return(a.pendingLanes&~(a.suspendedLanes&~a.pingedLanes)&o)===0}function Mt(a,o){switch(a){case 1:case 2:case 4:case 8:return o+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function hr(){var a=qr;return qr<<=1,!(qr&4194176)&&(qr=128),a}function oi(){var a=Dr;return Dr<<=1,!(Dr&62914560)&&(Dr=4194304),a}function De(a){for(var o=[],f=0;31>f;f++)o.push(a);return o}function st(a,o){a.pendingLanes|=o,o!==268435456&&(a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0)}function ft(a,o,f,m,A,S){var I=a.pendingLanes;a.pendingLanes=f,a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0,a.expiredLanes&=f,a.entangledLanes&=f,a.errorRecoveryDisabledLanes&=f,a.shellSuspendCounter=0;var z=a.entanglements,X=a.expirationTimes,ie=a.hiddenUpdates;for(f=I&~f;0<f;){var be=31-gt(f),Te=1<<be;z[be]=0,X[be]=-1;var he=ie[be];if(he!==null)for(ie[be]=null,be=0;be<he.length;be++){var Ae=he[be];Ae!==null&&(Ae.lane&=-536870913)}f&=~Te}m!==0&&Yn(a,m,0),S!==0&&A===0&&a.tag!==0&&(a.suspendedLanes|=S&~(I&~o))}function Yn(a,o,f){a.pendingLanes|=o,a.suspendedLanes&=~o;var m=31-gt(o);a.entangledLanes|=o,a.entanglements[m]=a.entanglements[m]|1073741824|f&4194218}function pr(a,o){var f=a.entangledLanes|=o;for(a=a.entanglements;f;){var m=31-gt(f),A=1<<m;A&o|a[m]&o&&(a[m]|=o),f&=~A}}function li(a){return a&=-a,2<a?8<a?a&134217727?32:268435456:8:2}function Ai(){var a=F.p;return a!==0?a:(a=window.event,a===void 0?32:Ik(a.type))}function Mr(a,o){var f=F.p;try{return F.p=a,o()}finally{F.p=f}}var Kn=Math.random().toString(36).slice(2),bt="__reactFiber$"+Kn,tr="__reactProps$"+Kn,pa="__reactContainer$"+Kn,Bo="__reactEvents$"+Kn,fu="__reactListeners$"+Kn,hu="__reactHandles$"+Kn,Fl="__reactResources$"+Kn,Qt="__reactMarker$"+Kn;function bi(a){delete a[bt],delete a[tr],delete a[Bo],delete a[fu],delete a[hu]}function Yi(a){var o=a[bt];if(o)return o;for(var f=a.parentNode;f;){if(o=f[pa]||f[bt]){if(f=o.alternate,o.child!==null||f!==null&&f.child!==null)for(a=mk(a);a!==null;){if(f=a[bt])return f;a=mk(a)}return o}a=f,f=a.parentNode}return null}function ji(a){if(a=a[bt]||a[pa]){var o=a.tag;if(o===5||o===6||o===13||o===26||o===27||o===3)return a}return null}function Na(a){var o=a.tag;if(o===5||o===26||o===27||o===6)return a.stateNode;throw Error(r(33))}function Ki(a){var o=a[Fl];return o||(o=a[Fl]={hoistableStyles:new Map,hoistableScripts:new Map}),o}function Fn(a){a[Qt]=!0}var Sf=new Set,La={};function Fa(a,o){Ks(a,o),Ks(a+"Capture",o)}function Ks(a,o){for(La[a]=o,a=0;a<o.length;a++)Sf.add(o[a])}var Wi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),tA=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),cg={},pu={};function nA(a){return pt.call(pu,a)?!0:pt.call(cg,a)?!1:tA.test(a)?pu[a]=!0:(cg[a]=!0,!1)}function gu(a,o,f){if(nA(o))if(f===null)a.removeAttribute(o);else{switch(typeof f){case"undefined":case"function":case"symbol":a.removeAttribute(o);return;case"boolean":var m=o.toLowerCase().slice(0,5);if(m!=="data-"&&m!=="aria-"){a.removeAttribute(o);return}}a.setAttribute(o,""+f)}}function $(a,o,f){if(f===null)a.removeAttribute(o);else{switch(typeof f){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(o);return}a.setAttribute(o,""+f)}}function Z(a,o,f,m){if(m===null)a.removeAttribute(f);else{switch(typeof m){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(f);return}a.setAttributeNS(o,f,""+m)}}function Y(a){switch(typeof a){case"bigint":case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function re(a){var o=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function le(a){var o=re(a)?"checked":"value",f=Object.getOwnPropertyDescriptor(a.constructor.prototype,o),m=""+a[o];if(!a.hasOwnProperty(o)&&typeof f<"u"&&typeof f.get=="function"&&typeof f.set=="function"){var A=f.get,S=f.set;return Object.defineProperty(a,o,{configurable:!0,get:function(){return A.call(this)},set:function(I){m=""+I,S.call(this,I)}}),Object.defineProperty(a,o,{enumerable:f.enumerable}),{getValue:function(){return m},setValue:function(I){m=""+I},stopTracking:function(){a._valueTracker=null,delete a[o]}}}}function te(a){a._valueTracker||(a._valueTracker=le(a))}function _e(a){if(!a)return!1;var o=a._valueTracker;if(!o)return!0;var f=o.getValue(),m="";return a&&(m=re(a)?a.checked?"true":"false":a.value),a=m,a!==f?(o.setValue(a),!0):!1}function Ee(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}var Ie=/[\n"\\]/g;function Ce(a){return a.replace(Ie,function(o){return"\\"+o.charCodeAt(0).toString(16)+" "})}function Pe(a,o,f,m,A,S,I,z){a.name="",I!=null&&typeof I!="function"&&typeof I!="symbol"&&typeof I!="boolean"?a.type=I:a.removeAttribute("type"),o!=null?I==="number"?(o===0&&a.value===""||a.value!=o)&&(a.value=""+Y(o)):a.value!==""+Y(o)&&(a.value=""+Y(o)):I!=="submit"&&I!=="reset"||a.removeAttribute("value"),o!=null?Et(a,I,Y(o)):f!=null?Et(a,I,Y(f)):m!=null&&a.removeAttribute("value"),A==null&&S!=null&&(a.defaultChecked=!!S),A!=null&&(a.checked=A&&typeof A!="function"&&typeof A!="symbol"),z!=null&&typeof z!="function"&&typeof z!="symbol"&&typeof z!="boolean"?a.name=""+Y(z):a.removeAttribute("name")}function We(a,o,f,m,A,S,I,z){if(S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"&&(a.type=S),o!=null||f!=null){if(!(S!=="submit"&&S!=="reset"||o!=null))return;f=f!=null?""+Y(f):"",o=o!=null?""+Y(o):f,z||o===a.value||(a.value=o),a.defaultValue=o}m=m??A,m=typeof m!="function"&&typeof m!="symbol"&&!!m,a.checked=z?a.checked:!!m,a.defaultChecked=!!m,I!=null&&typeof I!="function"&&typeof I!="symbol"&&typeof I!="boolean"&&(a.name=I)}function Et(a,o,f){o==="number"&&Ee(a.ownerDocument)===a||a.defaultValue===""+f||(a.defaultValue=""+f)}function zt(a,o,f,m){if(a=a.options,o){o={};for(var A=0;A<f.length;A++)o["$"+f[A]]=!0;for(f=0;f<a.length;f++)A=o.hasOwnProperty("$"+a[f].value),a[f].selected!==A&&(a[f].selected=A),A&&m&&(a[f].defaultSelected=!0)}else{for(f=""+Y(f),o=null,A=0;A<a.length;A++){if(a[A].value===f){a[A].selected=!0,m&&(a[A].defaultSelected=!0);return}o!==null||a[A].disabled||(o=a[A])}o!==null&&(o.selected=!0)}}function nn(a,o,f){if(o!=null&&(o=""+Y(o),o!==a.value&&(a.value=o),f==null)){a.defaultValue!==o&&(a.defaultValue=o);return}a.defaultValue=f!=null?""+Y(f):""}function Wn(a,o,f,m){if(o==null){if(m!=null){if(f!=null)throw Error(r(92));if(ue(m)){if(1<m.length)throw Error(r(93));m=m[0]}f=m}f==null&&(f=""),o=f}f=Y(o),a.defaultValue=f,m=a.textContent,m===f&&m!==""&&m!==null&&(a.value=m)}function mn(a,o){if(o){var f=a.firstChild;if(f&&f===a.lastChild&&f.nodeType===3){f.nodeValue=o;return}}a.textContent=o}var Pi=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function No(a,o,f){var m=o.indexOf("--")===0;f==null||typeof f=="boolean"||f===""?m?a.setProperty(o,""):o==="float"?a.cssFloat="":a[o]="":m?a.setProperty(o,f):typeof f!="number"||f===0||Pi.has(o)?o==="float"?a.cssFloat=f:a[o]=(""+f).trim():a[o]=f+"px"}function mu(a,o,f){if(o!=null&&typeof o!="object")throw Error(r(62));if(a=a.style,f!=null){for(var m in f)!f.hasOwnProperty(m)||o!=null&&o.hasOwnProperty(m)||(m.indexOf("--")===0?a.setProperty(m,""):m==="float"?a.cssFloat="":a[m]="");for(var A in o)m=o[A],o.hasOwnProperty(A)&&f[A]!==m&&No(a,A,m)}else for(var S in o)o.hasOwnProperty(S)&&No(a,S,o[S])}function xf(a){if(a.indexOf("-")===-1)return!1;switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wf=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),_2=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function yu(a){return _2.test(""+a)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":a}var Ef=null;function vu(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var Au=null,bu=null;function S2(a){var o=ji(a);if(o&&(a=o.stateNode)){var f=a[tr]||null;e:switch(a=o.stateNode,o.type){case"input":if(Pe(a,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name),o=f.name,f.type==="radio"&&o!=null){for(f=a;f.parentNode;)f=f.parentNode;for(f=f.querySelectorAll('input[name="'+Ce(""+o)+'"][type="radio"]'),o=0;o<f.length;o++){var m=f[o];if(m!==a&&m.form===a.form){var A=m[tr]||null;if(!A)throw Error(r(90));Pe(m,A.value,A.defaultValue,A.defaultValue,A.checked,A.defaultChecked,A.type,A.name)}}for(o=0;o<f.length;o++)m=f[o],m.form===a.form&&_e(m)}break e;case"textarea":nn(a,f.value,f.defaultValue);break e;case"select":o=f.value,o!=null&&zt(a,!!f.multiple,o,!1)}}}var rA=!1;function x2(a,o,f){if(rA)return a(o,f);rA=!0;try{var m=a(o);return m}finally{if(rA=!1,(Au!==null||bu!==null)&&(Gg(),Au&&(o=Au,a=bu,bu=Au=null,S2(o),a)))for(o=0;o<a.length;o++)S2(a[o])}}function Tf(a,o){var f=a.stateNode;if(f===null)return null;var m=f[tr]||null;if(m===null)return null;f=m[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(m=!m.disabled)||(a=a.type,m=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!m;break e;default:a=!1}if(a)return null;if(f&&typeof f!="function")throw Error(r(231,o,typeof f));return f}var iA=!1;if(Wi)try{var Cf={};Object.defineProperty(Cf,"passive",{get:function(){iA=!0}}),window.addEventListener("test",Cf,Cf),window.removeEventListener("test",Cf,Cf)}catch{iA=!1}var Lo=null,sA=null,ug=null;function w2(){if(ug)return ug;var a,o=sA,f=o.length,m,A="value"in Lo?Lo.value:Lo.textContent,S=A.length;for(a=0;a<f&&o[a]===A[a];a++);var I=f-a;for(m=1;m<=I&&o[f-m]===A[S-m];m++);return ug=A.slice(a,1<m?1-m:void 0)}function dg(a){var o=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&o===13&&(a=13)):a=o,a===10&&(a=13),32<=a||a===13?a:0}function fg(){return!0}function E2(){return!1}function Vi(a){function o(f,m,A,S,I){this._reactName=f,this._targetInst=A,this.type=m,this.nativeEvent=S,this.target=I,this.currentTarget=null;for(var z in a)a.hasOwnProperty(z)&&(f=a[z],this[z]=f?f(S):S[z]);return this.isDefaultPrevented=(S.defaultPrevented!=null?S.defaultPrevented:S.returnValue===!1)?fg:E2,this.isPropagationStopped=E2,this}return C(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var f=this.nativeEvent;f&&(f.preventDefault?f.preventDefault():typeof f.returnValue!="unknown"&&(f.returnValue=!1),this.isDefaultPrevented=fg)},stopPropagation:function(){var f=this.nativeEvent;f&&(f.stopPropagation?f.stopPropagation():typeof f.cancelBubble!="unknown"&&(f.cancelBubble=!0),this.isPropagationStopped=fg)},persist:function(){},isPersistent:fg}),o}var zl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},hg=Vi(zl),kf=C({},zl,{view:0,detail:0}),s6=Vi(kf),aA,oA,Mf,pg=C({},kf,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:cA,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==Mf&&(Mf&&a.type==="mousemove"?(aA=a.screenX-Mf.screenX,oA=a.screenY-Mf.screenY):oA=aA=0,Mf=a),aA)},movementY:function(a){return"movementY"in a?a.movementY:oA}}),T2=Vi(pg),a6=C({},pg,{dataTransfer:0}),o6=Vi(a6),l6=C({},kf,{relatedTarget:0}),lA=Vi(l6),c6=C({},zl,{animationName:0,elapsedTime:0,pseudoElement:0}),u6=Vi(c6),d6=C({},zl,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),f6=Vi(d6),h6=C({},zl,{data:0}),C2=Vi(h6),p6={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},g6={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},m6={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function y6(a){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(a):(a=m6[a])?!!o[a]:!1}function cA(){return y6}var v6=C({},kf,{key:function(a){if(a.key){var o=p6[a.key]||a.key;if(o!=="Unidentified")return o}return a.type==="keypress"?(a=dg(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?g6[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:cA,charCode:function(a){return a.type==="keypress"?dg(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?dg(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),A6=Vi(v6),b6=C({},pg,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),k2=Vi(b6),_6=C({},kf,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:cA}),S6=Vi(_6),x6=C({},zl,{propertyName:0,elapsedTime:0,pseudoElement:0}),w6=Vi(x6),E6=C({},pg,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),T6=Vi(E6),C6=C({},zl,{newState:0,oldState:0}),k6=Vi(C6),M6=[9,13,27,32],uA=Wi&&"CompositionEvent"in window,Rf=null;Wi&&"documentMode"in document&&(Rf=document.documentMode);var R6=Wi&&"TextEvent"in window&&!Rf,M2=Wi&&(!uA||Rf&&8<Rf&&11>=Rf),R2=" ",I2=!1;function O2(a,o){switch(a){case"keyup":return M6.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function j2(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var _u=!1;function I6(a,o){switch(a){case"compositionend":return j2(o);case"keypress":return o.which!==32?null:(I2=!0,R2);case"textInput":return a=o.data,a===R2&&I2?null:a;default:return null}}function O6(a,o){if(_u)return a==="compositionend"||!uA&&O2(a,o)?(a=w2(),ug=sA=Lo=null,_u=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return M2&&o.locale!=="ko"?null:o.data;default:return null}}var j6={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function P2(a){var o=a&&a.nodeName&&a.nodeName.toLowerCase();return o==="input"?!!j6[a.type]:o==="textarea"}function V2(a,o,f,m){Au?bu?bu.push(m):bu=[m]:Au=m,o=Xg(o,"onChange"),0<o.length&&(f=new hg("onChange","change",null,f,m),a.push({event:f,listeners:o}))}var If=null,Of=null;function P6(a){ok(a,0)}function gg(a){var o=Na(a);if(_e(o))return a}function D2(a,o){if(a==="change")return o}var B2=!1;if(Wi){var dA;if(Wi){var fA="oninput"in document;if(!fA){var N2=document.createElement("div");N2.setAttribute("oninput","return;"),fA=typeof N2.oninput=="function"}dA=fA}else dA=!1;B2=dA&&(!document.documentMode||9<document.documentMode)}function L2(){If&&(If.detachEvent("onpropertychange",F2),Of=If=null)}function F2(a){if(a.propertyName==="value"&&gg(Of)){var o=[];V2(o,Of,a,vu(a)),x2(P6,o)}}function V6(a,o,f){a==="focusin"?(L2(),If=o,Of=f,If.attachEvent("onpropertychange",F2)):a==="focusout"&&L2()}function D6(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return gg(Of)}function B6(a,o){if(a==="click")return gg(o)}function N6(a,o){if(a==="input"||a==="change")return gg(o)}function L6(a,o){return a===o&&(a!==0||1/a===1/o)||a!==a&&o!==o}var Qi=typeof Object.is=="function"?Object.is:L6;function jf(a,o){if(Qi(a,o))return!0;if(typeof a!="object"||a===null||typeof o!="object"||o===null)return!1;var f=Object.keys(a),m=Object.keys(o);if(f.length!==m.length)return!1;for(m=0;m<f.length;m++){var A=f[m];if(!pt.call(o,A)||!Qi(a[A],o[A]))return!1}return!0}function z2(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function $2(a,o){var f=z2(a);a=0;for(var m;f;){if(f.nodeType===3){if(m=a+f.textContent.length,a<=o&&m>=o)return{node:f,offset:o-a};a=m}e:{for(;f;){if(f.nextSibling){f=f.nextSibling;break e}f=f.parentNode}f=void 0}f=z2(f)}}function U2(a,o){return a&&o?a===o?!0:a&&a.nodeType===3?!1:o&&o.nodeType===3?U2(a,o.parentNode):"contains"in a?a.contains(o):a.compareDocumentPosition?!!(a.compareDocumentPosition(o)&16):!1:!1}function H2(a){a=a!=null&&a.ownerDocument!=null&&a.ownerDocument.defaultView!=null?a.ownerDocument.defaultView:window;for(var o=Ee(a.document);o instanceof a.HTMLIFrameElement;){try{var f=typeof o.contentWindow.location.href=="string"}catch{f=!1}if(f)a=o.contentWindow;else break;o=Ee(a.document)}return o}function hA(a){var o=a&&a.nodeName&&a.nodeName.toLowerCase();return o&&(o==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||o==="textarea"||a.contentEditable==="true")}function F6(a,o){var f=H2(o);o=a.focusedElem;var m=a.selectionRange;if(f!==o&&o&&o.ownerDocument&&U2(o.ownerDocument.documentElement,o)){if(m!==null&&hA(o)){if(a=m.start,f=m.end,f===void 0&&(f=a),"selectionStart"in o)o.selectionStart=a,o.selectionEnd=Math.min(f,o.value.length);else if(f=(a=o.ownerDocument||document)&&a.defaultView||window,f.getSelection){f=f.getSelection();var A=o.textContent.length,S=Math.min(m.start,A);m=m.end===void 0?S:Math.min(m.end,A),!f.extend&&S>m&&(A=m,m=S,S=A),A=$2(o,S);var I=$2(o,m);A&&I&&(f.rangeCount!==1||f.anchorNode!==A.node||f.anchorOffset!==A.offset||f.focusNode!==I.node||f.focusOffset!==I.offset)&&(a=a.createRange(),a.setStart(A.node,A.offset),f.removeAllRanges(),S>m?(f.addRange(a),f.extend(I.node,I.offset)):(a.setEnd(I.node,I.offset),f.addRange(a)))}}for(a=[],f=o;f=f.parentNode;)f.nodeType===1&&a.push({element:f,left:f.scrollLeft,top:f.scrollTop});for(typeof o.focus=="function"&&o.focus(),o=0;o<a.length;o++)f=a[o],f.element.scrollLeft=f.left,f.element.scrollTop=f.top}}var z6=Wi&&"documentMode"in document&&11>=document.documentMode,Su=null,pA=null,Pf=null,gA=!1;function q2(a,o,f){var m=f.window===f?f.document:f.nodeType===9?f:f.ownerDocument;gA||Su==null||Su!==Ee(m)||(m=Su,"selectionStart"in m&&hA(m)?m={start:m.selectionStart,end:m.selectionEnd}:(m=(m.ownerDocument&&m.ownerDocument.defaultView||window).getSelection(),m={anchorNode:m.anchorNode,anchorOffset:m.anchorOffset,focusNode:m.focusNode,focusOffset:m.focusOffset}),Pf&&jf(Pf,m)||(Pf=m,m=Xg(pA,"onSelect"),0<m.length&&(o=new hg("onSelect","select",null,o,f),a.push({event:o,listeners:m}),o.target=Su)))}function $l(a,o){var f={};return f[a.toLowerCase()]=o.toLowerCase(),f["Webkit"+a]="webkit"+o,f["Moz"+a]="moz"+o,f}var xu={animationend:$l("Animation","AnimationEnd"),animationiteration:$l("Animation","AnimationIteration"),animationstart:$l("Animation","AnimationStart"),transitionrun:$l("Transition","TransitionRun"),transitionstart:$l("Transition","TransitionStart"),transitioncancel:$l("Transition","TransitionCancel"),transitionend:$l("Transition","TransitionEnd")},mA={},G2={};Wi&&(G2=document.createElement("div").style,"AnimationEvent"in window||(delete xu.animationend.animation,delete xu.animationiteration.animation,delete xu.animationstart.animation),"TransitionEvent"in window||delete xu.transitionend.transition);function Ul(a){if(mA[a])return mA[a];if(!xu[a])return a;var o=xu[a],f;for(f in o)if(o.hasOwnProperty(f)&&f in G2)return mA[a]=o[f];return a}var Y2=Ul("animationend"),K2=Ul("animationiteration"),W2=Ul("animationstart"),$6=Ul("transitionrun"),U6=Ul("transitionstart"),H6=Ul("transitioncancel"),Q2=Ul("transitionend"),X2=new Map,J2="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function Ws(a,o){X2.set(a,o),Fa(o,[a])}var ys=[],wu=0,yA=0;function mg(){for(var a=wu,o=yA=wu=0;o<a;){var f=ys[o];ys[o++]=null;var m=ys[o];ys[o++]=null;var A=ys[o];ys[o++]=null;var S=ys[o];if(ys[o++]=null,m!==null&&A!==null){var I=m.pending;I===null?A.next=A:(A.next=I.next,I.next=A),m.pending=A}S!==0&&Z2(f,A,S)}}function yg(a,o,f,m){ys[wu++]=a,ys[wu++]=o,ys[wu++]=f,ys[wu++]=m,yA|=m,a.lanes|=m,a=a.alternate,a!==null&&(a.lanes|=m)}function vA(a,o,f,m){return yg(a,o,f,m),vg(a)}function Fo(a,o){return yg(a,null,null,o),vg(a)}function Z2(a,o,f){a.lanes|=f;var m=a.alternate;m!==null&&(m.lanes|=f);for(var A=!1,S=a.return;S!==null;)S.childLanes|=f,m=S.alternate,m!==null&&(m.childLanes|=f),S.tag===22&&(a=S.stateNode,a===null||a._visibility&1||(A=!0)),a=S,S=S.return;A&&o!==null&&a.tag===3&&(S=a.stateNode,A=31-gt(f),S=S.hiddenUpdates,a=S[A],a===null?S[A]=[o]:a.push(o),o.lane=f|536870912)}function vg(a){if(50<sh)throw sh=0,wb=null,Error(r(185));for(var o=a.return;o!==null;)a=o,o=a.return;return a.tag===3?a.stateNode:null}var Eu={},eT=new WeakMap;function vs(a,o){if(typeof a=="object"&&a!==null){var f=eT.get(a);return f!==void 0?f:(o={value:a,source:o,stack:K(o)},eT.set(a,o),o)}return{value:a,source:o,stack:K(o)}}var Tu=[],Cu=0,Ag=null,bg=0,As=[],bs=0,Hl=null,za=1,$a="";function ql(a,o){Tu[Cu++]=bg,Tu[Cu++]=Ag,Ag=a,bg=o}function tT(a,o,f){As[bs++]=za,As[bs++]=$a,As[bs++]=Hl,Hl=a;var m=za;a=$a;var A=32-gt(m)-1;m&=~(1<<A),f+=1;var S=32-gt(o)+A;if(30<S){var I=A-A%5;S=(m&(1<<I)-1).toString(32),m>>=I,A-=I,za=1<<32-gt(o)+A|f<<A|m,$a=S+a}else za=1<<S|f<<A|m,$a=a}function AA(a){a.return!==null&&(ql(a,1),tT(a,1,0))}function bA(a){for(;a===Ag;)Ag=Tu[--Cu],Tu[Cu]=null,bg=Tu[--Cu],Tu[Cu]=null;for(;a===Hl;)Hl=As[--bs],As[bs]=null,$a=As[--bs],As[bs]=null,za=As[--bs],As[bs]=null}var _i=null,Gr=null,rn=!1,Qs=null,ga=!1,_A=Error(r(519));function Gl(a){var o=Error(r(418,""));throw Bf(vs(o,a)),_A}function nT(a){var o=a.stateNode,f=a.type,m=a.memoizedProps;switch(o[bt]=a,o[tr]=m,f){case"dialog":Gt("cancel",o),Gt("close",o);break;case"iframe":case"object":case"embed":Gt("load",o);break;case"video":case"audio":for(f=0;f<oh.length;f++)Gt(oh[f],o);break;case"source":Gt("error",o);break;case"img":case"image":case"link":Gt("error",o),Gt("load",o);break;case"details":Gt("toggle",o);break;case"input":Gt("invalid",o),We(o,m.value,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name,!0),te(o);break;case"select":Gt("invalid",o);break;case"textarea":Gt("invalid",o),Wn(o,m.value,m.defaultValue,m.children),te(o)}f=m.children,typeof f!="string"&&typeof f!="number"&&typeof f!="bigint"||o.textContent===""+f||m.suppressHydrationWarning===!0||dk(o.textContent,f)?(m.popover!=null&&(Gt("beforetoggle",o),Gt("toggle",o)),m.onScroll!=null&&Gt("scroll",o),m.onScrollEnd!=null&&Gt("scrollend",o),m.onClick!=null&&(o.onclick=Jg),o=!0):o=!1,o||Gl(a)}function rT(a){for(_i=a.return;_i;)switch(_i.tag){case 3:case 27:ga=!0;return;case 5:case 13:ga=!1;return;default:_i=_i.return}}function Vf(a){if(a!==_i)return!1;if(!rn)return rT(a),rn=!0,!1;var o=!1,f;if((f=a.tag!==3&&a.tag!==27)&&((f=a.tag===5)&&(f=a.type,f=!(f!=="form"&&f!=="button")||zb(a.type,a.memoizedProps)),f=!f),f&&(o=!0),o&&Gr&&Gl(a),rT(a),a.tag===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(317));e:{for(a=a.nextSibling,o=0;a;){if(a.nodeType===8)if(f=a.data,f==="/$"){if(o===0){Gr=Js(a.nextSibling);break e}o--}else f!=="$"&&f!=="$!"&&f!=="$?"||o++;a=a.nextSibling}Gr=null}}else Gr=_i?Js(a.stateNode.nextSibling):null;return!0}function Df(){Gr=_i=null,rn=!1}function Bf(a){Qs===null?Qs=[a]:Qs.push(a)}var Nf=Error(r(460)),iT=Error(r(474)),SA={then:function(){}};function sT(a){return a=a.status,a==="fulfilled"||a==="rejected"}function _g(){}function aT(a,o,f){switch(f=a[f],f===void 0?a.push(o):f!==o&&(o.then(_g,_g),o=f),o.status){case"fulfilled":return o.value;case"rejected":throw a=o.reason,a===Nf?Error(r(483)):a;default:if(typeof o.status=="string")o.then(_g,_g);else{if(a=Cn,a!==null&&100<a.shellSuspendCounter)throw Error(r(482));a=o,a.status="pending",a.then(function(m){if(o.status==="pending"){var A=o;A.status="fulfilled",A.value=m}},function(m){if(o.status==="pending"){var A=o;A.status="rejected",A.reason=m}})}switch(o.status){case"fulfilled":return o.value;case"rejected":throw a=o.reason,a===Nf?Error(r(483)):a}throw Lf=o,Nf}}var Lf=null;function oT(){if(Lf===null)throw Error(r(459));var a=Lf;return Lf=null,a}var ku=null,Ff=0;function Sg(a){var o=Ff;return Ff+=1,ku===null&&(ku=[]),aT(ku,a,o)}function zf(a,o){o=o.props.ref,a.ref=o!==void 0?o:null}function xg(a,o){throw o.$$typeof===s?Error(r(525)):(a=Object.prototype.toString.call(o),Error(r(31,a==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":a)))}function lT(a){var o=a._init;return o(a._payload)}function cT(a){function o(ce,ne){if(a){var de=ce.deletions;de===null?(ce.deletions=[ne],ce.flags|=16):de.push(ne)}}function f(ce,ne){if(!a)return null;for(;ne!==null;)o(ce,ne),ne=ne.sibling;return null}function m(ce){for(var ne=new Map;ce!==null;)ce.key!==null?ne.set(ce.key,ce):ne.set(ce.index,ce),ce=ce.sibling;return ne}function A(ce,ne){return ce=Jo(ce,ne),ce.index=0,ce.sibling=null,ce}function S(ce,ne,de){return ce.index=de,a?(de=ce.alternate,de!==null?(de=de.index,de<ne?(ce.flags|=33554434,ne):de):(ce.flags|=33554434,ne)):(ce.flags|=1048576,ne)}function I(ce){return a&&ce.alternate===null&&(ce.flags|=33554434),ce}function z(ce,ne,de,we){return ne===null||ne.tag!==6?(ne=mb(de,ce.mode,we),ne.return=ce,ne):(ne=A(ne,de),ne.return=ce,ne)}function X(ce,ne,de,we){var Ye=de.type;return Ye===d?be(ce,ne,de.props.children,we,de.key):ne!==null&&(ne.elementType===Ye||typeof Ye=="object"&&Ye!==null&&Ye.$$typeof===k&&lT(Ye)===ne.type)?(ne=A(ne,de.props),zf(ne,de),ne.return=ce,ne):(ne=zg(de.type,de.key,de.props,null,ce.mode,we),zf(ne,de),ne.return=ce,ne)}function ie(ce,ne,de,we){return ne===null||ne.tag!==4||ne.stateNode.containerInfo!==de.containerInfo||ne.stateNode.implementation!==de.implementation?(ne=yb(de,ce.mode,we),ne.return=ce,ne):(ne=A(ne,de.children||[]),ne.return=ce,ne)}function be(ce,ne,de,we,Ye){return ne===null||ne.tag!==7?(ne=nc(de,ce.mode,we,Ye),ne.return=ce,ne):(ne=A(ne,de),ne.return=ce,ne)}function Te(ce,ne,de){if(typeof ne=="string"&&ne!==""||typeof ne=="number"||typeof ne=="bigint")return ne=mb(""+ne,ce.mode,de),ne.return=ce,ne;if(typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case l:return de=zg(ne.type,ne.key,ne.props,null,ce.mode,de),zf(de,ne),de.return=ce,de;case c:return ne=yb(ne,ce.mode,de),ne.return=ce,ne;case k:var we=ne._init;return ne=we(ne._payload),Te(ce,ne,de)}if(ue(ne)||O(ne))return ne=nc(ne,ce.mode,de,null),ne.return=ce,ne;if(typeof ne.then=="function")return Te(ce,Sg(ne),de);if(ne.$$typeof===v)return Te(ce,Ng(ce,ne),de);xg(ce,ne)}return null}function he(ce,ne,de,we){var Ye=ne!==null?ne.key:null;if(typeof de=="string"&&de!==""||typeof de=="number"||typeof de=="bigint")return Ye!==null?null:z(ce,ne,""+de,we);if(typeof de=="object"&&de!==null){switch(de.$$typeof){case l:return de.key===Ye?X(ce,ne,de,we):null;case c:return de.key===Ye?ie(ce,ne,de,we):null;case k:return Ye=de._init,de=Ye(de._payload),he(ce,ne,de,we)}if(ue(de)||O(de))return Ye!==null?null:be(ce,ne,de,we,null);if(typeof de.then=="function")return he(ce,ne,Sg(de),we);if(de.$$typeof===v)return he(ce,ne,Ng(ce,de),we);xg(ce,de)}return null}function Ae(ce,ne,de,we,Ye){if(typeof we=="string"&&we!==""||typeof we=="number"||typeof we=="bigint")return ce=ce.get(de)||null,z(ne,ce,""+we,Ye);if(typeof we=="object"&&we!==null){switch(we.$$typeof){case l:return ce=ce.get(we.key===null?de:we.key)||null,X(ne,ce,we,Ye);case c:return ce=ce.get(we.key===null?de:we.key)||null,ie(ne,ce,we,Ye);case k:var Bt=we._init;return we=Bt(we._payload),Ae(ce,ne,de,we,Ye)}if(ue(we)||O(we))return ce=ce.get(de)||null,be(ne,ce,we,Ye,null);if(typeof we.then=="function")return Ae(ce,ne,de,Sg(we),Ye);if(we.$$typeof===v)return Ae(ce,ne,de,Ng(ne,we),Ye);xg(ne,we)}return null}function Ze(ce,ne,de,we){for(var Ye=null,Bt=null,it=ne,ct=ne=0,Lr=null;it!==null&&ct<de.length;ct++){it.index>ct?(Lr=it,it=null):Lr=it.sibling;var sn=he(ce,it,de[ct],we);if(sn===null){it===null&&(it=Lr);break}a&&it&&sn.alternate===null&&o(ce,it),ne=S(sn,ne,ct),Bt===null?Ye=sn:Bt.sibling=sn,Bt=sn,it=Lr}if(ct===de.length)return f(ce,it),rn&&ql(ce,ct),Ye;if(it===null){for(;ct<de.length;ct++)it=Te(ce,de[ct],we),it!==null&&(ne=S(it,ne,ct),Bt===null?Ye=it:Bt.sibling=it,Bt=it);return rn&&ql(ce,ct),Ye}for(it=m(it);ct<de.length;ct++)Lr=Ae(it,ce,ct,de[ct],we),Lr!==null&&(a&&Lr.alternate!==null&&it.delete(Lr.key===null?ct:Lr.key),ne=S(Lr,ne,ct),Bt===null?Ye=Lr:Bt.sibling=Lr,Bt=Lr);return a&&it.forEach(function(sl){return o(ce,sl)}),rn&&ql(ce,ct),Ye}function vt(ce,ne,de,we){if(de==null)throw Error(r(151));for(var Ye=null,Bt=null,it=ne,ct=ne=0,Lr=null,sn=de.next();it!==null&&!sn.done;ct++,sn=de.next()){it.index>ct?(Lr=it,it=null):Lr=it.sibling;var sl=he(ce,it,sn.value,we);if(sl===null){it===null&&(it=Lr);break}a&&it&&sl.alternate===null&&o(ce,it),ne=S(sl,ne,ct),Bt===null?Ye=sl:Bt.sibling=sl,Bt=sl,it=Lr}if(sn.done)return f(ce,it),rn&&ql(ce,ct),Ye;if(it===null){for(;!sn.done;ct++,sn=de.next())sn=Te(ce,sn.value,we),sn!==null&&(ne=S(sn,ne,ct),Bt===null?Ye=sn:Bt.sibling=sn,Bt=sn);return rn&&ql(ce,ct),Ye}for(it=m(it);!sn.done;ct++,sn=de.next())sn=Ae(it,ce,ct,sn.value,we),sn!==null&&(a&&sn.alternate!==null&&it.delete(sn.key===null?ct:sn.key),ne=S(sn,ne,ct),Bt===null?Ye=sn:Bt.sibling=sn,Bt=sn);return a&&it.forEach(function(iF){return o(ce,iF)}),rn&&ql(ce,ct),Ye}function ir(ce,ne,de,we){if(typeof de=="object"&&de!==null&&de.type===d&&de.key===null&&(de=de.props.children),typeof de=="object"&&de!==null){switch(de.$$typeof){case l:e:{for(var Ye=de.key;ne!==null;){if(ne.key===Ye){if(Ye=de.type,Ye===d){if(ne.tag===7){f(ce,ne.sibling),we=A(ne,de.props.children),we.return=ce,ce=we;break e}}else if(ne.elementType===Ye||typeof Ye=="object"&&Ye!==null&&Ye.$$typeof===k&&lT(Ye)===ne.type){f(ce,ne.sibling),we=A(ne,de.props),zf(we,de),we.return=ce,ce=we;break e}f(ce,ne);break}else o(ce,ne);ne=ne.sibling}de.type===d?(we=nc(de.props.children,ce.mode,we,de.key),we.return=ce,ce=we):(we=zg(de.type,de.key,de.props,null,ce.mode,we),zf(we,de),we.return=ce,ce=we)}return I(ce);case c:e:{for(Ye=de.key;ne!==null;){if(ne.key===Ye)if(ne.tag===4&&ne.stateNode.containerInfo===de.containerInfo&&ne.stateNode.implementation===de.implementation){f(ce,ne.sibling),we=A(ne,de.children||[]),we.return=ce,ce=we;break e}else{f(ce,ne);break}else o(ce,ne);ne=ne.sibling}we=yb(de,ce.mode,we),we.return=ce,ce=we}return I(ce);case k:return Ye=de._init,de=Ye(de._payload),ir(ce,ne,de,we)}if(ue(de))return Ze(ce,ne,de,we);if(O(de)){if(Ye=O(de),typeof Ye!="function")throw Error(r(150));return de=Ye.call(de),vt(ce,ne,de,we)}if(typeof de.then=="function")return ir(ce,ne,Sg(de),we);if(de.$$typeof===v)return ir(ce,ne,Ng(ce,de),we);xg(ce,de)}return typeof de=="string"&&de!==""||typeof de=="number"||typeof de=="bigint"?(de=""+de,ne!==null&&ne.tag===6?(f(ce,ne.sibling),we=A(ne,de),we.return=ce,ce=we):(f(ce,ne),we=mb(de,ce.mode,we),we.return=ce,ce=we),I(ce)):f(ce,ne)}return function(ce,ne,de,we){try{Ff=0;var Ye=ir(ce,ne,de,we);return ku=null,Ye}catch(it){if(it===Nf)throw it;var Bt=ws(29,it,null,ce.mode);return Bt.lanes=we,Bt.return=ce,Bt}finally{}}}var Yl=cT(!0),uT=cT(!1),Mu=Me(null),wg=Me(0);function dT(a,o){a=Za,ye(wg,a),ye(Mu,o),Za=a|o.baseLanes}function xA(){ye(wg,Za),ye(Mu,Mu.current)}function wA(){Za=wg.current,Re(Mu),Re(wg)}var _s=Me(null),ma=null;function zo(a){var o=a.alternate;ye(Rr,Rr.current&1),ye(_s,a),ma===null&&(o===null||Mu.current!==null||o.memoizedState!==null)&&(ma=a)}function fT(a){if(a.tag===22){if(ye(Rr,Rr.current),ye(_s,a),ma===null){var o=a.alternate;o!==null&&o.memoizedState!==null&&(ma=a)}}else $o()}function $o(){ye(Rr,Rr.current),ye(_s,_s.current)}function Ua(a){Re(_s),ma===a&&(ma=null),Re(Rr)}var Rr=Me(0);function Eg(a){for(var o=a;o!==null;){if(o.tag===13){var f=o.memoizedState;if(f!==null&&(f=f.dehydrated,f===null||f.data==="$?"||f.data==="$!"))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if(o.flags&128)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===a)break;for(;o.sibling===null;){if(o.return===null||o.return===a)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var q6=typeof AbortController<"u"?AbortController:function(){var a=[],o=this.signal={aborted:!1,addEventListener:function(f,m){a.push(m)}};this.abort=function(){o.aborted=!0,a.forEach(function(f){return f()})}},G6=e.unstable_scheduleCallback,Y6=e.unstable_NormalPriority,Ir={$$typeof:v,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function EA(){return{controller:new q6,data:new Map,refCount:0}}function $f(a){a.refCount--,a.refCount===0&&G6(Y6,function(){a.controller.abort()})}var Uf=null,TA=0,Ru=0,Iu=null;function K6(a,o){if(Uf===null){var f=Uf=[];TA=0,Ru=Ob(),Iu={status:"pending",value:void 0,then:function(m){f.push(m)}}}return TA++,o.then(hT,hT),o}function hT(){if(--TA===0&&Uf!==null){Iu!==null&&(Iu.status="fulfilled");var a=Uf;Uf=null,Ru=0,Iu=null;for(var o=0;o<a.length;o++)(0,a[o])()}}function W6(a,o){var f=[],m={status:"pending",value:null,reason:null,then:function(A){f.push(A)}};return a.then(function(){m.status="fulfilled",m.value=o;for(var A=0;A<f.length;A++)(0,f[A])(o)},function(A){for(m.status="rejected",m.reason=A,A=0;A<f.length;A++)(0,f[A])(void 0)}),m}var pT=V.S;V.S=function(a,o){typeof o=="object"&&o!==null&&typeof o.then=="function"&&K6(a,o),pT!==null&&pT(a,o)};var Kl=Me(null);function CA(){var a=Kl.current;return a!==null?a:Cn.pooledCache}function Tg(a,o){o===null?ye(Kl,Kl.current):ye(Kl,o.pool)}function gT(){var a=CA();return a===null?null:{parent:Ir._currentValue,pool:a}}var Uo=0,Vt=null,yn=null,_r=null,Cg=!1,Ou=!1,Wl=!1,kg=0,Hf=0,ju=null,Q6=0;function gr(){throw Error(r(321))}function kA(a,o){if(o===null)return!1;for(var f=0;f<o.length&&f<a.length;f++)if(!Qi(a[f],o[f]))return!1;return!0}function MA(a,o,f,m,A,S){return Uo=S,Vt=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,V.H=a===null||a.memoizedState===null?Ql:Ho,Wl=!1,S=f(m,A),Wl=!1,Ou&&(S=yT(o,f,m,A)),mT(a),S}function mT(a){V.H=ya;var o=yn!==null&&yn.next!==null;if(Uo=0,_r=yn=Vt=null,Cg=!1,Hf=0,ju=null,o)throw Error(r(300));a===null||Br||(a=a.dependencies,a!==null&&Bg(a)&&(Br=!0))}function yT(a,o,f,m){Vt=a;var A=0;do{if(Ou&&(ju=null),Hf=0,Ou=!1,25<=A)throw Error(r(301));if(A+=1,_r=yn=null,a.updateQueue!=null){var S=a.updateQueue;S.lastEffect=null,S.events=null,S.stores=null,S.memoCache!=null&&(S.memoCache.index=0)}V.H=Xl,S=o(f,m)}while(Ou);return S}function X6(){var a=V.H,o=a.useState()[0];return o=typeof o.then=="function"?qf(o):o,a=a.useState()[0],(yn!==null?yn.memoizedState:null)!==a&&(Vt.flags|=1024),o}function RA(){var a=kg!==0;return kg=0,a}function IA(a,o,f){o.updateQueue=a.updateQueue,o.flags&=-2053,a.lanes&=~f}function OA(a){if(Cg){for(a=a.memoizedState;a!==null;){var o=a.queue;o!==null&&(o.pending=null),a=a.next}Cg=!1}Uo=0,_r=yn=Vt=null,Ou=!1,Hf=kg=0,ju=null}function Di(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return _r===null?Vt.memoizedState=_r=a:_r=_r.next=a,_r}function Sr(){if(yn===null){var a=Vt.alternate;a=a!==null?a.memoizedState:null}else a=yn.next;var o=_r===null?Vt.memoizedState:_r.next;if(o!==null)_r=o,yn=a;else{if(a===null)throw Vt.alternate===null?Error(r(467)):Error(r(310));yn=a,a={memoizedState:yn.memoizedState,baseState:yn.baseState,baseQueue:yn.baseQueue,queue:yn.queue,next:null},_r===null?Vt.memoizedState=_r=a:_r=_r.next=a}return _r}var Mg;Mg=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function qf(a){var o=Hf;return Hf+=1,ju===null&&(ju=[]),a=aT(ju,a,o),o=Vt,(_r===null?o.memoizedState:_r.next)===null&&(o=o.alternate,V.H=o===null||o.memoizedState===null?Ql:Ho),a}function Rg(a){if(a!==null&&typeof a=="object"){if(typeof a.then=="function")return qf(a);if(a.$$typeof===v)return ci(a)}throw Error(r(438,String(a)))}function jA(a){var o=null,f=Vt.updateQueue;if(f!==null&&(o=f.memoCache),o==null){var m=Vt.alternate;m!==null&&(m=m.updateQueue,m!==null&&(m=m.memoCache,m!=null&&(o={data:m.data.map(function(A){return A.slice()}),index:0})))}if(o==null&&(o={data:[],index:0}),f===null&&(f=Mg(),Vt.updateQueue=f),f.memoCache=o,f=o.data[o.index],f===void 0)for(f=o.data[o.index]=Array(a),m=0;m<a;m++)f[m]=M;return o.index++,f}function Ha(a,o){return typeof o=="function"?o(a):o}function Ig(a){var o=Sr();return PA(o,yn,a)}function PA(a,o,f){var m=a.queue;if(m===null)throw Error(r(311));m.lastRenderedReducer=f;var A=a.baseQueue,S=m.pending;if(S!==null){if(A!==null){var I=A.next;A.next=S.next,S.next=I}o.baseQueue=A=S,m.pending=null}if(S=a.baseState,A===null)a.memoizedState=S;else{o=A.next;var z=I=null,X=null,ie=o,be=!1;do{var Te=ie.lane&-536870913;if(Te!==ie.lane?(Xt&Te)===Te:(Uo&Te)===Te){var he=ie.revertLane;if(he===0)X!==null&&(X=X.next={lane:0,revertLane:0,action:ie.action,hasEagerState:ie.hasEagerState,eagerState:ie.eagerState,next:null}),Te===Ru&&(be=!0);else if((Uo&he)===he){ie=ie.next,he===Ru&&(be=!0);continue}else Te={lane:0,revertLane:ie.revertLane,action:ie.action,hasEagerState:ie.hasEagerState,eagerState:ie.eagerState,next:null},X===null?(z=X=Te,I=S):X=X.next=Te,Vt.lanes|=he,Zo|=he;Te=ie.action,Wl&&f(S,Te),S=ie.hasEagerState?ie.eagerState:f(S,Te)}else he={lane:Te,revertLane:ie.revertLane,action:ie.action,hasEagerState:ie.hasEagerState,eagerState:ie.eagerState,next:null},X===null?(z=X=he,I=S):X=X.next=he,Vt.lanes|=Te,Zo|=Te;ie=ie.next}while(ie!==null&&ie!==o);if(X===null?I=S:X.next=z,!Qi(S,a.memoizedState)&&(Br=!0,be&&(f=Iu,f!==null)))throw f;a.memoizedState=S,a.baseState=I,a.baseQueue=X,m.lastRenderedState=S}return A===null&&(m.lanes=0),[a.memoizedState,m.dispatch]}function VA(a){var o=Sr(),f=o.queue;if(f===null)throw Error(r(311));f.lastRenderedReducer=a;var m=f.dispatch,A=f.pending,S=o.memoizedState;if(A!==null){f.pending=null;var I=A=A.next;do S=a(S,I.action),I=I.next;while(I!==A);Qi(S,o.memoizedState)||(Br=!0),o.memoizedState=S,o.baseQueue===null&&(o.baseState=S),f.lastRenderedState=S}return[S,m]}function vT(a,o,f){var m=Vt,A=Sr(),S=rn;if(S){if(f===void 0)throw Error(r(407));f=f()}else f=o();var I=!Qi((yn||A).memoizedState,f);if(I&&(A.memoizedState=f,Br=!0),A=A.queue,NA(_T.bind(null,m,A,a),[a]),A.getSnapshot!==o||I||_r!==null&&_r.memoizedState.tag&1){if(m.flags|=2048,Pu(9,bT.bind(null,m,A,f,o),{destroy:void 0},null),Cn===null)throw Error(r(349));S||Uo&60||AT(m,o,f)}return f}function AT(a,o,f){a.flags|=16384,a={getSnapshot:o,value:f},o=Vt.updateQueue,o===null?(o=Mg(),Vt.updateQueue=o,o.stores=[a]):(f=o.stores,f===null?o.stores=[a]:f.push(a))}function bT(a,o,f,m){o.value=f,o.getSnapshot=m,ST(o)&&xT(a)}function _T(a,o,f){return f(function(){ST(o)&&xT(a)})}function ST(a){var o=a.getSnapshot;a=a.value;try{var f=o();return!Qi(a,f)}catch{return!0}}function xT(a){var o=Fo(a,2);o!==null&&Si(o,a,2)}function DA(a){var o=Di();if(typeof a=="function"){var f=a;if(a=f(),Wl){en(!0);try{f()}finally{en(!1)}}}return o.memoizedState=o.baseState=a,o.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ha,lastRenderedState:a},o}function wT(a,o,f,m){return a.baseState=f,PA(a,yn,typeof m=="function"?m:Ha)}function J6(a,o,f,m,A){if(Pg(a))throw Error(r(485));if(a=o.action,a!==null){var S={payload:A,action:a,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(I){S.listeners.push(I)}};V.T!==null?f(!0):S.isTransition=!1,m(S),f=o.pending,f===null?(S.next=o.pending=S,ET(o,S)):(S.next=f.next,o.pending=f.next=S)}}function ET(a,o){var f=o.action,m=o.payload,A=a.state;if(o.isTransition){var S=V.T,I={};V.T=I;try{var z=f(A,m),X=V.S;X!==null&&X(I,z),TT(a,o,z)}catch(ie){BA(a,o,ie)}finally{V.T=S}}else try{S=f(A,m),TT(a,o,S)}catch(ie){BA(a,o,ie)}}function TT(a,o,f){f!==null&&typeof f=="object"&&typeof f.then=="function"?f.then(function(m){CT(a,o,m)},function(m){return BA(a,o,m)}):CT(a,o,f)}function CT(a,o,f){o.status="fulfilled",o.value=f,kT(o),a.state=f,o=a.pending,o!==null&&(f=o.next,f===o?a.pending=null:(f=f.next,o.next=f,ET(a,f)))}function BA(a,o,f){var m=a.pending;if(a.pending=null,m!==null){m=m.next;do o.status="rejected",o.reason=f,kT(o),o=o.next;while(o!==m)}a.action=null}function kT(a){a=a.listeners;for(var o=0;o<a.length;o++)(0,a[o])()}function MT(a,o){return o}function RT(a,o){if(rn){var f=Cn.formState;if(f!==null){e:{var m=Vt;if(rn){if(Gr){t:{for(var A=Gr,S=ga;A.nodeType!==8;){if(!S){A=null;break t}if(A=Js(A.nextSibling),A===null){A=null;break t}}S=A.data,A=S==="F!"||S==="F"?A:null}if(A){Gr=Js(A.nextSibling),m=A.data==="F!";break e}}Gl(m)}m=!1}m&&(o=f[0])}}return f=Di(),f.memoizedState=f.baseState=o,m={pending:null,lanes:0,dispatch:null,lastRenderedReducer:MT,lastRenderedState:o},f.queue=m,f=KT.bind(null,Vt,m),m.dispatch=f,m=DA(!1),S=UA.bind(null,Vt,!1,m.queue),m=Di(),A={state:o,dispatch:null,action:a,pending:null},m.queue=A,f=J6.bind(null,Vt,A,S,f),A.dispatch=f,m.memoizedState=a,[o,f,!1]}function IT(a){var o=Sr();return OT(o,yn,a)}function OT(a,o,f){o=PA(a,o,MT)[0],a=Ig(Ha)[0],o=typeof o=="object"&&o!==null&&typeof o.then=="function"?qf(o):o;var m=Sr(),A=m.queue,S=A.dispatch;return f!==m.memoizedState&&(Vt.flags|=2048,Pu(9,Z6.bind(null,A,f),{destroy:void 0},null)),[o,S,a]}function Z6(a,o){a.action=o}function jT(a){var o=Sr(),f=yn;if(f!==null)return OT(o,f,a);Sr(),o=o.memoizedState,f=Sr();var m=f.queue.dispatch;return f.memoizedState=a,[o,m,!1]}function Pu(a,o,f,m){return a={tag:a,create:o,inst:f,deps:m,next:null},o=Vt.updateQueue,o===null&&(o=Mg(),Vt.updateQueue=o),f=o.lastEffect,f===null?o.lastEffect=a.next=a:(m=f.next,f.next=a,a.next=m,o.lastEffect=a),a}function PT(){return Sr().memoizedState}function Og(a,o,f,m){var A=Di();Vt.flags|=a,A.memoizedState=Pu(1|o,f,{destroy:void 0},m===void 0?null:m)}function jg(a,o,f,m){var A=Sr();m=m===void 0?null:m;var S=A.memoizedState.inst;yn!==null&&m!==null&&kA(m,yn.memoizedState.deps)?A.memoizedState=Pu(o,f,S,m):(Vt.flags|=a,A.memoizedState=Pu(1|o,f,S,m))}function VT(a,o){Og(8390656,8,a,o)}function NA(a,o){jg(2048,8,a,o)}function DT(a,o){return jg(4,2,a,o)}function BT(a,o){return jg(4,4,a,o)}function NT(a,o){if(typeof o=="function"){a=a();var f=o(a);return function(){typeof f=="function"?f():o(null)}}if(o!=null)return a=a(),o.current=a,function(){o.current=null}}function LT(a,o,f){f=f!=null?f.concat([a]):null,jg(4,4,NT.bind(null,o,a),f)}function LA(){}function FT(a,o){var f=Sr();o=o===void 0?null:o;var m=f.memoizedState;return o!==null&&kA(o,m[1])?m[0]:(f.memoizedState=[a,o],a)}function zT(a,o){var f=Sr();o=o===void 0?null:o;var m=f.memoizedState;if(o!==null&&kA(o,m[1]))return m[0];if(m=a(),Wl){en(!0);try{a()}finally{en(!1)}}return f.memoizedState=[m,o],m}function FA(a,o,f){return f===void 0||Uo&1073741824?a.memoizedState=o:(a.memoizedState=f,a=UC(),Vt.lanes|=a,Zo|=a,f)}function $T(a,o,f,m){return Qi(f,o)?f:Mu.current!==null?(a=FA(a,f,m),Qi(a,o)||(Br=!0),a):Uo&42?(a=UC(),Vt.lanes|=a,Zo|=a,o):(Br=!0,a.memoizedState=f)}function UT(a,o,f,m,A){var S=F.p;F.p=S!==0&&8>S?S:8;var I=V.T,z={};V.T=z,UA(a,!1,o,f);try{var X=A(),ie=V.S;if(ie!==null&&ie(z,X),X!==null&&typeof X=="object"&&typeof X.then=="function"){var be=W6(X,m);Gf(a,o,be,es(a))}else Gf(a,o,m,es(a))}catch(Te){Gf(a,o,{then:function(){},status:"rejected",reason:Te},es())}finally{F.p=S,V.T=I}}function e8(){}function zA(a,o,f,m){if(a.tag!==5)throw Error(r(476));var A=HT(a).queue;UT(a,A,o,ge,f===null?e8:function(){return qT(a),f(m)})}function HT(a){var o=a.memoizedState;if(o!==null)return o;o={memoizedState:ge,baseState:ge,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ha,lastRenderedState:ge},next:null};var f={};return o.next={memoizedState:f,baseState:f,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ha,lastRenderedState:f},next:null},a.memoizedState=o,a=a.alternate,a!==null&&(a.memoizedState=o),o}function qT(a){var o=HT(a).next.queue;Gf(a,o,{},es())}function $A(){return ci(fh)}function GT(){return Sr().memoizedState}function YT(){return Sr().memoizedState}function t8(a){for(var o=a.return;o!==null;){switch(o.tag){case 24:case 3:var f=es();a=Yo(f);var m=Ko(o,a,f);m!==null&&(Si(m,o,f),Wf(m,o,f)),o={cache:EA()},a.payload=o;return}o=o.return}}function n8(a,o,f){var m=es();f={lane:m,revertLane:0,action:f,hasEagerState:!1,eagerState:null,next:null},Pg(a)?WT(o,f):(f=vA(a,o,f,m),f!==null&&(Si(f,a,m),QT(f,o,m)))}function KT(a,o,f){var m=es();Gf(a,o,f,m)}function Gf(a,o,f,m){var A={lane:m,revertLane:0,action:f,hasEagerState:!1,eagerState:null,next:null};if(Pg(a))WT(o,A);else{var S=a.alternate;if(a.lanes===0&&(S===null||S.lanes===0)&&(S=o.lastRenderedReducer,S!==null))try{var I=o.lastRenderedState,z=S(I,f);if(A.hasEagerState=!0,A.eagerState=z,Qi(z,I))return yg(a,o,A,0),Cn===null&&mg(),!1}catch{}finally{}if(f=vA(a,o,A,m),f!==null)return Si(f,a,m),QT(f,o,m),!0}return!1}function UA(a,o,f,m){if(m={lane:2,revertLane:Ob(),action:m,hasEagerState:!1,eagerState:null,next:null},Pg(a)){if(o)throw Error(r(479))}else o=vA(a,f,m,2),o!==null&&Si(o,a,2)}function Pg(a){var o=a.alternate;return a===Vt||o!==null&&o===Vt}function WT(a,o){Ou=Cg=!0;var f=a.pending;f===null?o.next=o:(o.next=f.next,f.next=o),a.pending=o}function QT(a,o,f){if(f&4194176){var m=o.lanes;m&=a.pendingLanes,f|=m,o.lanes=f,pr(a,f)}}var ya={readContext:ci,use:Rg,useCallback:gr,useContext:gr,useEffect:gr,useImperativeHandle:gr,useLayoutEffect:gr,useInsertionEffect:gr,useMemo:gr,useReducer:gr,useRef:gr,useState:gr,useDebugValue:gr,useDeferredValue:gr,useTransition:gr,useSyncExternalStore:gr,useId:gr};ya.useCacheRefresh=gr,ya.useMemoCache=gr,ya.useHostTransitionStatus=gr,ya.useFormState=gr,ya.useActionState=gr,ya.useOptimistic=gr;var Ql={readContext:ci,use:Rg,useCallback:function(a,o){return Di().memoizedState=[a,o===void 0?null:o],a},useContext:ci,useEffect:VT,useImperativeHandle:function(a,o,f){f=f!=null?f.concat([a]):null,Og(4194308,4,NT.bind(null,o,a),f)},useLayoutEffect:function(a,o){return Og(4194308,4,a,o)},useInsertionEffect:function(a,o){Og(4,2,a,o)},useMemo:function(a,o){var f=Di();o=o===void 0?null:o;var m=a();if(Wl){en(!0);try{a()}finally{en(!1)}}return f.memoizedState=[m,o],m},useReducer:function(a,o,f){var m=Di();if(f!==void 0){var A=f(o);if(Wl){en(!0);try{f(o)}finally{en(!1)}}}else A=o;return m.memoizedState=m.baseState=A,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:A},m.queue=a,a=a.dispatch=n8.bind(null,Vt,a),[m.memoizedState,a]},useRef:function(a){var o=Di();return a={current:a},o.memoizedState=a},useState:function(a){a=DA(a);var o=a.queue,f=KT.bind(null,Vt,o);return o.dispatch=f,[a.memoizedState,f]},useDebugValue:LA,useDeferredValue:function(a,o){var f=Di();return FA(f,a,o)},useTransition:function(){var a=DA(!1);return a=UT.bind(null,Vt,a.queue,!0,!1),Di().memoizedState=a,[!1,a]},useSyncExternalStore:function(a,o,f){var m=Vt,A=Di();if(rn){if(f===void 0)throw Error(r(407));f=f()}else{if(f=o(),Cn===null)throw Error(r(349));Xt&60||AT(m,o,f)}A.memoizedState=f;var S={value:f,getSnapshot:o};return A.queue=S,VT(_T.bind(null,m,S,a),[a]),m.flags|=2048,Pu(9,bT.bind(null,m,S,f,o),{destroy:void 0},null),f},useId:function(){var a=Di(),o=Cn.identifierPrefix;if(rn){var f=$a,m=za;f=(m&~(1<<32-gt(m)-1)).toString(32)+f,o=":"+o+"R"+f,f=kg++,0<f&&(o+="H"+f.toString(32)),o+=":"}else f=Q6++,o=":"+o+"r"+f.toString(32)+":";return a.memoizedState=o},useCacheRefresh:function(){return Di().memoizedState=t8.bind(null,Vt)}};Ql.useMemoCache=jA,Ql.useHostTransitionStatus=$A,Ql.useFormState=RT,Ql.useActionState=RT,Ql.useOptimistic=function(a){var o=Di();o.memoizedState=o.baseState=a;var f={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return o.queue=f,o=UA.bind(null,Vt,!0,f),f.dispatch=o,[a,o]};var Ho={readContext:ci,use:Rg,useCallback:FT,useContext:ci,useEffect:NA,useImperativeHandle:LT,useInsertionEffect:DT,useLayoutEffect:BT,useMemo:zT,useReducer:Ig,useRef:PT,useState:function(){return Ig(Ha)},useDebugValue:LA,useDeferredValue:function(a,o){var f=Sr();return $T(f,yn.memoizedState,a,o)},useTransition:function(){var a=Ig(Ha)[0],o=Sr().memoizedState;return[typeof a=="boolean"?a:qf(a),o]},useSyncExternalStore:vT,useId:GT};Ho.useCacheRefresh=YT,Ho.useMemoCache=jA,Ho.useHostTransitionStatus=$A,Ho.useFormState=IT,Ho.useActionState=IT,Ho.useOptimistic=function(a,o){var f=Sr();return wT(f,yn,a,o)};var Xl={readContext:ci,use:Rg,useCallback:FT,useContext:ci,useEffect:NA,useImperativeHandle:LT,useInsertionEffect:DT,useLayoutEffect:BT,useMemo:zT,useReducer:VA,useRef:PT,useState:function(){return VA(Ha)},useDebugValue:LA,useDeferredValue:function(a,o){var f=Sr();return yn===null?FA(f,a,o):$T(f,yn.memoizedState,a,o)},useTransition:function(){var a=VA(Ha)[0],o=Sr().memoizedState;return[typeof a=="boolean"?a:qf(a),o]},useSyncExternalStore:vT,useId:GT};Xl.useCacheRefresh=YT,Xl.useMemoCache=jA,Xl.useHostTransitionStatus=$A,Xl.useFormState=jT,Xl.useActionState=jT,Xl.useOptimistic=function(a,o){var f=Sr();return yn!==null?wT(f,yn,a,o):(f.baseState=a,[a,f.queue.dispatch])};function HA(a,o,f,m){o=a.memoizedState,f=f(m,o),f=f==null?o:C({},o,f),a.memoizedState=f,a.lanes===0&&(a.updateQueue.baseState=f)}var qA={isMounted:function(a){return(a=a._reactInternals)?Q(a)===a:!1},enqueueSetState:function(a,o,f){a=a._reactInternals;var m=es(),A=Yo(m);A.payload=o,f!=null&&(A.callback=f),o=Ko(a,A,m),o!==null&&(Si(o,a,m),Wf(o,a,m))},enqueueReplaceState:function(a,o,f){a=a._reactInternals;var m=es(),A=Yo(m);A.tag=1,A.payload=o,f!=null&&(A.callback=f),o=Ko(a,A,m),o!==null&&(Si(o,a,m),Wf(o,a,m))},enqueueForceUpdate:function(a,o){a=a._reactInternals;var f=es(),m=Yo(f);m.tag=2,o!=null&&(m.callback=o),o=Ko(a,m,f),o!==null&&(Si(o,a,f),Wf(o,a,f))}};function XT(a,o,f,m,A,S,I){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(m,S,I):o.prototype&&o.prototype.isPureReactComponent?!jf(f,m)||!jf(A,S):!0}function JT(a,o,f,m){a=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(f,m),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(f,m),o.state!==a&&qA.enqueueReplaceState(o,o.state,null)}function Jl(a,o){var f=o;if("ref"in o){f={};for(var m in o)m!=="ref"&&(f[m]=o[m])}if(a=a.defaultProps){f===o&&(f=C({},f));for(var A in a)f[A]===void 0&&(f[A]=a[A])}return f}var Vg=typeof reportError=="function"?reportError:function(a){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var o=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof a=="object"&&a!==null&&typeof a.message=="string"?String(a.message):String(a),error:a});if(!window.dispatchEvent(o))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",a);return}console.error(a)};function ZT(a){Vg(a)}function eC(a){console.error(a)}function tC(a){Vg(a)}function Dg(a,o){try{var f=a.onUncaughtError;f(o.value,{componentStack:o.stack})}catch(m){setTimeout(function(){throw m})}}function nC(a,o,f){try{var m=a.onCaughtError;m(f.value,{componentStack:f.stack,errorBoundary:o.tag===1?o.stateNode:null})}catch(A){setTimeout(function(){throw A})}}function GA(a,o,f){return f=Yo(f),f.tag=3,f.payload={element:null},f.callback=function(){Dg(a,o)},f}function rC(a){return a=Yo(a),a.tag=3,a}function iC(a,o,f,m){var A=f.type.getDerivedStateFromError;if(typeof A=="function"){var S=m.value;a.payload=function(){return A(S)},a.callback=function(){nC(o,f,m)}}var I=f.stateNode;I!==null&&typeof I.componentDidCatch=="function"&&(a.callback=function(){nC(o,f,m),typeof A!="function"&&(el===null?el=new Set([this]):el.add(this));var z=m.stack;this.componentDidCatch(m.value,{componentStack:z!==null?z:""})})}function r8(a,o,f,m,A){if(f.flags|=32768,m!==null&&typeof m=="object"&&typeof m.then=="function"){if(o=f.alternate,o!==null&&Kf(o,f,A,!0),f=_s.current,f!==null){switch(f.tag){case 13:return ma===null?Cb():f.alternate===null&&rr===0&&(rr=3),f.flags&=-257,f.flags|=65536,f.lanes=A,m===SA?f.flags|=16384:(o=f.updateQueue,o===null?f.updateQueue=new Set([m]):o.add(m),Mb(a,m,A)),!1;case 22:return f.flags|=65536,m===SA?f.flags|=16384:(o=f.updateQueue,o===null?(o={transitions:null,markerInstances:null,retryQueue:new Set([m])},f.updateQueue=o):(f=o.retryQueue,f===null?o.retryQueue=new Set([m]):f.add(m)),Mb(a,m,A)),!1}throw Error(r(435,f.tag))}return Mb(a,m,A),Cb(),!1}if(rn)return o=_s.current,o!==null?(!(o.flags&65536)&&(o.flags|=256),o.flags|=65536,o.lanes=A,m!==_A&&(a=Error(r(422),{cause:m}),Bf(vs(a,f)))):(m!==_A&&(o=Error(r(423),{cause:m}),Bf(vs(o,f))),a=a.current.alternate,a.flags|=65536,A&=-A,a.lanes|=A,m=vs(m,f),A=GA(a.stateNode,m,A),ob(a,A),rr!==4&&(rr=2)),!1;var S=Error(r(520),{cause:m});if(S=vs(S,f),rh===null?rh=[S]:rh.push(S),rr!==4&&(rr=2),o===null)return!0;m=vs(m,f),f=o;do{switch(f.tag){case 3:return f.flags|=65536,a=A&-A,f.lanes|=a,a=GA(f.stateNode,m,a),ob(f,a),!1;case 1:if(o=f.type,S=f.stateNode,(f.flags&128)===0&&(typeof o.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(el===null||!el.has(S))))return f.flags|=65536,A&=-A,f.lanes|=A,A=rC(A),iC(A,a,f,m),ob(f,A),!1}f=f.return}while(f!==null);return!1}var sC=Error(r(461)),Br=!1;function Yr(a,o,f,m){o.child=a===null?uT(o,null,f,m):Yl(o,a.child,f,m)}function aC(a,o,f,m,A){f=f.render;var S=o.ref;if("ref"in m){var I={};for(var z in m)z!=="ref"&&(I[z]=m[z])}else I=m;return ec(o),m=MA(a,o,f,I,S,A),z=RA(),a!==null&&!Br?(IA(a,o,A),qa(a,o,A)):(rn&&z&&AA(o),o.flags|=1,Yr(a,o,m,A),o.child)}function oC(a,o,f,m,A){if(a===null){var S=f.type;return typeof S=="function"&&!gb(S)&&S.defaultProps===void 0&&f.compare===null?(o.tag=15,o.type=S,lC(a,o,S,m,A)):(a=zg(f.type,null,m,o,o.mode,A),a.ref=o.ref,a.return=o,o.child=a)}if(S=a.child,!tb(a,A)){var I=S.memoizedProps;if(f=f.compare,f=f!==null?f:jf,f(I,m)&&a.ref===o.ref)return qa(a,o,A)}return o.flags|=1,a=Jo(S,m),a.ref=o.ref,a.return=o,o.child=a}function lC(a,o,f,m,A){if(a!==null){var S=a.memoizedProps;if(jf(S,m)&&a.ref===o.ref)if(Br=!1,o.pendingProps=m=S,tb(a,A))a.flags&131072&&(Br=!0);else return o.lanes=a.lanes,qa(a,o,A)}return YA(a,o,f,m,A)}function cC(a,o,f){var m=o.pendingProps,A=m.children,S=(o.stateNode._pendingVisibility&2)!==0,I=a!==null?a.memoizedState:null;if(Yf(a,o),m.mode==="hidden"||S){if(o.flags&128){if(m=I!==null?I.baseLanes|f:f,a!==null){for(A=o.child=a.child,S=0;A!==null;)S=S|A.lanes|A.childLanes,A=A.sibling;o.childLanes=S&~m}else o.childLanes=0,o.child=null;return uC(a,o,m,f)}if(f&536870912)o.memoizedState={baseLanes:0,cachePool:null},a!==null&&Tg(o,I!==null?I.cachePool:null),I!==null?dT(o,I):xA(),fT(o);else return o.lanes=o.childLanes=536870912,uC(a,o,I!==null?I.baseLanes|f:f,f)}else I!==null?(Tg(o,I.cachePool),dT(o,I),$o(),o.memoizedState=null):(a!==null&&Tg(o,null),xA(),$o());return Yr(a,o,A,f),o.child}function uC(a,o,f,m){var A=CA();return A=A===null?null:{parent:Ir._currentValue,pool:A},o.memoizedState={baseLanes:f,cachePool:A},a!==null&&Tg(o,null),xA(),fT(o),a!==null&&Kf(a,o,m,!0),null}function Yf(a,o){var f=o.ref;if(f===null)a!==null&&a.ref!==null&&(o.flags|=2097664);else{if(typeof f!="function"&&typeof f!="object")throw Error(r(284));(a===null||a.ref!==f)&&(o.flags|=2097664)}}function YA(a,o,f,m,A){return ec(o),f=MA(a,o,f,m,void 0,A),m=RA(),a!==null&&!Br?(IA(a,o,A),qa(a,o,A)):(rn&&m&&AA(o),o.flags|=1,Yr(a,o,f,A),o.child)}function dC(a,o,f,m,A,S){return ec(o),o.updateQueue=null,f=yT(o,m,f,A),mT(a),m=RA(),a!==null&&!Br?(IA(a,o,S),qa(a,o,S)):(rn&&m&&AA(o),o.flags|=1,Yr(a,o,f,S),o.child)}function fC(a,o,f,m,A){if(ec(o),o.stateNode===null){var S=Eu,I=f.contextType;typeof I=="object"&&I!==null&&(S=ci(I)),S=new f(m,S),o.memoizedState=S.state!==null&&S.state!==void 0?S.state:null,S.updater=qA,o.stateNode=S,S._reactInternals=o,S=o.stateNode,S.props=m,S.state=o.memoizedState,S.refs={},sb(o),I=f.contextType,S.context=typeof I=="object"&&I!==null?ci(I):Eu,S.state=o.memoizedState,I=f.getDerivedStateFromProps,typeof I=="function"&&(HA(o,f,I,m),S.state=o.memoizedState),typeof f.getDerivedStateFromProps=="function"||typeof S.getSnapshotBeforeUpdate=="function"||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(I=S.state,typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount(),I!==S.state&&qA.enqueueReplaceState(S,S.state,null),Xf(o,m,S,A),Qf(),S.state=o.memoizedState),typeof S.componentDidMount=="function"&&(o.flags|=4194308),m=!0}else if(a===null){S=o.stateNode;var z=o.memoizedProps,X=Jl(f,z);S.props=X;var ie=S.context,be=f.contextType;I=Eu,typeof be=="object"&&be!==null&&(I=ci(be));var Te=f.getDerivedStateFromProps;be=typeof Te=="function"||typeof S.getSnapshotBeforeUpdate=="function",z=o.pendingProps!==z,be||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(z||ie!==I)&&JT(o,S,m,I),Go=!1;var he=o.memoizedState;S.state=he,Xf(o,m,S,A),Qf(),ie=o.memoizedState,z||he!==ie||Go?(typeof Te=="function"&&(HA(o,f,Te,m),ie=o.memoizedState),(X=Go||XT(o,f,X,m,he,ie,I))?(be||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount()),typeof S.componentDidMount=="function"&&(o.flags|=4194308)):(typeof S.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=m,o.memoizedState=ie),S.props=m,S.state=ie,S.context=I,m=X):(typeof S.componentDidMount=="function"&&(o.flags|=4194308),m=!1)}else{S=o.stateNode,ab(a,o),I=o.memoizedProps,be=Jl(f,I),S.props=be,Te=o.pendingProps,he=S.context,ie=f.contextType,X=Eu,typeof ie=="object"&&ie!==null&&(X=ci(ie)),z=f.getDerivedStateFromProps,(ie=typeof z=="function"||typeof S.getSnapshotBeforeUpdate=="function")||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(I!==Te||he!==X)&&JT(o,S,m,X),Go=!1,he=o.memoizedState,S.state=he,Xf(o,m,S,A),Qf();var Ae=o.memoizedState;I!==Te||he!==Ae||Go||a!==null&&a.dependencies!==null&&Bg(a.dependencies)?(typeof z=="function"&&(HA(o,f,z,m),Ae=o.memoizedState),(be=Go||XT(o,f,be,m,he,Ae,X)||a!==null&&a.dependencies!==null&&Bg(a.dependencies))?(ie||typeof S.UNSAFE_componentWillUpdate!="function"&&typeof S.componentWillUpdate!="function"||(typeof S.componentWillUpdate=="function"&&S.componentWillUpdate(m,Ae,X),typeof S.UNSAFE_componentWillUpdate=="function"&&S.UNSAFE_componentWillUpdate(m,Ae,X)),typeof S.componentDidUpdate=="function"&&(o.flags|=4),typeof S.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof S.componentDidUpdate!="function"||I===a.memoizedProps&&he===a.memoizedState||(o.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||I===a.memoizedProps&&he===a.memoizedState||(o.flags|=1024),o.memoizedProps=m,o.memoizedState=Ae),S.props=m,S.state=Ae,S.context=X,m=be):(typeof S.componentDidUpdate!="function"||I===a.memoizedProps&&he===a.memoizedState||(o.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||I===a.memoizedProps&&he===a.memoizedState||(o.flags|=1024),m=!1)}return S=m,Yf(a,o),m=(o.flags&128)!==0,S||m?(S=o.stateNode,f=m&&typeof f.getDerivedStateFromError!="function"?null:S.render(),o.flags|=1,a!==null&&m?(o.child=Yl(o,a.child,null,A),o.child=Yl(o,null,f,A)):Yr(a,o,f,A),o.memoizedState=S.state,a=o.child):a=qa(a,o,A),a}function hC(a,o,f,m){return Df(),o.flags|=256,Yr(a,o,f,m),o.child}var KA={dehydrated:null,treeContext:null,retryLane:0};function WA(a){return{baseLanes:a,cachePool:gT()}}function QA(a,o,f){return a=a!==null?a.childLanes&~f:0,o&&(a|=Es),a}function pC(a,o,f){var m=o.pendingProps,A=!1,S=(o.flags&128)!==0,I;if((I=S)||(I=a!==null&&a.memoizedState===null?!1:(Rr.current&2)!==0),I&&(A=!0,o.flags&=-129),I=(o.flags&32)!==0,o.flags&=-33,a===null){if(rn){if(A?zo(o):$o(),rn){var z=Gr,X;if(X=z){e:{for(X=z,z=ga;X.nodeType!==8;){if(!z){z=null;break e}if(X=Js(X.nextSibling),X===null){z=null;break e}}z=X}z!==null?(o.memoizedState={dehydrated:z,treeContext:Hl!==null?{id:za,overflow:$a}:null,retryLane:536870912},X=ws(18,null,null,0),X.stateNode=z,X.return=o,o.child=X,_i=o,Gr=null,X=!0):X=!1}X||Gl(o)}if(z=o.memoizedState,z!==null&&(z=z.dehydrated,z!==null))return z.data==="$!"?o.lanes=16:o.lanes=536870912,null;Ua(o)}return z=m.children,m=m.fallback,A?($o(),A=o.mode,z=JA({mode:"hidden",children:z},A),m=nc(m,A,f,null),z.return=o,m.return=o,z.sibling=m,o.child=z,A=o.child,A.memoizedState=WA(f),A.childLanes=QA(a,I,f),o.memoizedState=KA,m):(zo(o),XA(o,z))}if(X=a.memoizedState,X!==null&&(z=X.dehydrated,z!==null)){if(S)o.flags&256?(zo(o),o.flags&=-257,o=ZA(a,o,f)):o.memoizedState!==null?($o(),o.child=a.child,o.flags|=128,o=null):($o(),A=m.fallback,z=o.mode,m=JA({mode:"visible",children:m.children},z),A=nc(A,z,f,null),A.flags|=2,m.return=o,A.return=o,m.sibling=A,o.child=m,Yl(o,a.child,null,f),m=o.child,m.memoizedState=WA(f),m.childLanes=QA(a,I,f),o.memoizedState=KA,o=A);else if(zo(o),z.data==="$!"){if(I=z.nextSibling&&z.nextSibling.dataset,I)var ie=I.dgst;I=ie,m=Error(r(419)),m.stack="",m.digest=I,Bf({value:m,source:null,stack:null}),o=ZA(a,o,f)}else if(Br||Kf(a,o,f,!1),I=(f&a.childLanes)!==0,Br||I){if(I=Cn,I!==null){if(m=f&-f,m&42)m=1;else switch(m){case 2:m=1;break;case 8:m=4;break;case 32:m=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:m=64;break;case 268435456:m=134217728;break;default:m=0}if(m=m&(I.suspendedLanes|f)?0:m,m!==0&&m!==X.retryLane)throw X.retryLane=m,Fo(a,m),Si(I,a,m),sC}z.data==="$?"||Cb(),o=ZA(a,o,f)}else z.data==="$?"?(o.flags|=128,o.child=a.child,o=v8.bind(null,a),z._reactRetry=o,o=null):(a=X.treeContext,Gr=Js(z.nextSibling),_i=o,rn=!0,Qs=null,ga=!1,a!==null&&(As[bs++]=za,As[bs++]=$a,As[bs++]=Hl,za=a.id,$a=a.overflow,Hl=o),o=XA(o,m.children),o.flags|=4096);return o}return A?($o(),A=m.fallback,z=o.mode,X=a.child,ie=X.sibling,m=Jo(X,{mode:"hidden",children:m.children}),m.subtreeFlags=X.subtreeFlags&31457280,ie!==null?A=Jo(ie,A):(A=nc(A,z,f,null),A.flags|=2),A.return=o,m.return=o,m.sibling=A,o.child=m,m=A,A=o.child,z=a.child.memoizedState,z===null?z=WA(f):(X=z.cachePool,X!==null?(ie=Ir._currentValue,X=X.parent!==ie?{parent:ie,pool:ie}:X):X=gT(),z={baseLanes:z.baseLanes|f,cachePool:X}),A.memoizedState=z,A.childLanes=QA(a,I,f),o.memoizedState=KA,m):(zo(o),f=a.child,a=f.sibling,f=Jo(f,{mode:"visible",children:m.children}),f.return=o,f.sibling=null,a!==null&&(I=o.deletions,I===null?(o.deletions=[a],o.flags|=16):I.push(a)),o.child=f,o.memoizedState=null,f)}function XA(a,o){return o=JA({mode:"visible",children:o},a.mode),o.return=a,a.child=o}function JA(a,o){return FC(a,o,0,null)}function ZA(a,o,f){return Yl(o,a.child,null,f),a=XA(o,o.pendingProps.children),a.flags|=2,o.memoizedState=null,a}function gC(a,o,f){a.lanes|=o;var m=a.alternate;m!==null&&(m.lanes|=o),rb(a.return,o,f)}function eb(a,o,f,m,A){var S=a.memoizedState;S===null?a.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:m,tail:f,tailMode:A}:(S.isBackwards=o,S.rendering=null,S.renderingStartTime=0,S.last=m,S.tail=f,S.tailMode=A)}function mC(a,o,f){var m=o.pendingProps,A=m.revealOrder,S=m.tail;if(Yr(a,o,m.children,f),m=Rr.current,m&2)m=m&1|2,o.flags|=128;else{if(a!==null&&a.flags&128)e:for(a=o.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&gC(a,f,o);else if(a.tag===19)gC(a,f,o);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===o)break e;for(;a.sibling===null;){if(a.return===null||a.return===o)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}m&=1}switch(ye(Rr,m),A){case"forwards":for(f=o.child,A=null;f!==null;)a=f.alternate,a!==null&&Eg(a)===null&&(A=f),f=f.sibling;f=A,f===null?(A=o.child,o.child=null):(A=f.sibling,f.sibling=null),eb(o,!1,A,f,S);break;case"backwards":for(f=null,A=o.child,o.child=null;A!==null;){if(a=A.alternate,a!==null&&Eg(a)===null){o.child=A;break}a=A.sibling,A.sibling=f,f=A,A=a}eb(o,!0,f,null,S);break;case"together":eb(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function qa(a,o,f){if(a!==null&&(o.dependencies=a.dependencies),Zo|=o.lanes,!(f&o.childLanes))if(a!==null){if(Kf(a,o,f,!1),(f&o.childLanes)===0)return null}else return null;if(a!==null&&o.child!==a.child)throw Error(r(153));if(o.child!==null){for(a=o.child,f=Jo(a,a.pendingProps),o.child=f,f.return=o;a.sibling!==null;)a=a.sibling,f=f.sibling=Jo(a,a.pendingProps),f.return=o;f.sibling=null}return o.child}function tb(a,o){return a.lanes&o?!0:(a=a.dependencies,!!(a!==null&&Bg(a)))}function i8(a,o,f){switch(o.tag){case 3:ze(o,o.stateNode.containerInfo),qo(o,Ir,a.memoizedState.cache),Df();break;case 27:case 5:Qe(o);break;case 4:ze(o,o.stateNode.containerInfo);break;case 10:qo(o,o.type,o.memoizedProps.value);break;case 13:var m=o.memoizedState;if(m!==null)return m.dehydrated!==null?(zo(o),o.flags|=128,null):f&o.child.childLanes?pC(a,o,f):(zo(o),a=qa(a,o,f),a!==null?a.sibling:null);zo(o);break;case 19:var A=(a.flags&128)!==0;if(m=(f&o.childLanes)!==0,m||(Kf(a,o,f,!1),m=(f&o.childLanes)!==0),A){if(m)return mC(a,o,f);o.flags|=128}if(A=o.memoizedState,A!==null&&(A.rendering=null,A.tail=null,A.lastEffect=null),ye(Rr,Rr.current),m)break;return null;case 22:case 23:return o.lanes=0,cC(a,o,f);case 24:qo(o,Ir,a.memoizedState.cache)}return qa(a,o,f)}function yC(a,o,f){if(a!==null)if(a.memoizedProps!==o.pendingProps)Br=!0;else{if(!tb(a,f)&&!(o.flags&128))return Br=!1,i8(a,o,f);Br=!!(a.flags&131072)}else Br=!1,rn&&o.flags&1048576&&tT(o,bg,o.index);switch(o.lanes=0,o.tag){case 16:e:{a=o.pendingProps;var m=o.elementType,A=m._init;if(m=A(m._payload),o.type=m,typeof m=="function")gb(m)?(a=Jl(m,a),o.tag=1,o=fC(null,o,m,a,f)):(o.tag=0,o=YA(null,o,m,a,f));else{if(m!=null){if(A=m.$$typeof,A===b){o.tag=11,o=aC(null,o,m,a,f);break e}else if(A===T){o.tag=14,o=oC(null,o,m,a,f);break e}}throw o=j(m)||m,Error(r(306,o,""))}}return o;case 0:return YA(a,o,o.type,o.pendingProps,f);case 1:return m=o.type,A=Jl(m,o.pendingProps),fC(a,o,m,A,f);case 3:e:{if(ze(o,o.stateNode.containerInfo),a===null)throw Error(r(387));var S=o.pendingProps;A=o.memoizedState,m=A.element,ab(a,o),Xf(o,S,null,f);var I=o.memoizedState;if(S=I.cache,qo(o,Ir,S),S!==A.cache&&ib(o,[Ir],f,!0),Qf(),S=I.element,A.isDehydrated)if(A={element:S,isDehydrated:!1,cache:I.cache},o.updateQueue.baseState=A,o.memoizedState=A,o.flags&256){o=hC(a,o,S,f);break e}else if(S!==m){m=vs(Error(r(424)),o),Bf(m),o=hC(a,o,S,f);break e}else for(Gr=Js(o.stateNode.containerInfo.firstChild),_i=o,rn=!0,Qs=null,ga=!0,f=uT(o,null,S,f),o.child=f;f;)f.flags=f.flags&-3|4096,f=f.sibling;else{if(Df(),S===m){o=qa(a,o,f);break e}Yr(a,o,S,f)}o=o.child}return o;case 26:return Yf(a,o),a===null?(f=bk(o.type,null,o.pendingProps,null))?o.memoizedState=f:rn||(f=o.type,a=o.pendingProps,m=Zg(Fe.current).createElement(f),m[bt]=o,m[tr]=a,Kr(m,f,a),Fn(m),o.stateNode=m):o.memoizedState=bk(o.type,a.memoizedProps,o.pendingProps,a.memoizedState),null;case 27:return Qe(o),a===null&&rn&&(m=o.stateNode=yk(o.type,o.pendingProps,Fe.current),_i=o,ga=!0,Gr=Js(m.firstChild)),m=o.pendingProps.children,a!==null||rn?Yr(a,o,m,f):o.child=Yl(o,null,m,f),Yf(a,o),o.child;case 5:return a===null&&rn&&((A=m=Gr)&&(m=P8(m,o.type,o.pendingProps,ga),m!==null?(o.stateNode=m,_i=o,Gr=Js(m.firstChild),ga=!1,A=!0):A=!1),A||Gl(o)),Qe(o),A=o.type,S=o.pendingProps,I=a!==null?a.memoizedProps:null,m=S.children,zb(A,S)?m=null:I!==null&&zb(A,I)&&(o.flags|=32),o.memoizedState!==null&&(A=MA(a,o,X6,null,null,f),fh._currentValue=A),Yf(a,o),Yr(a,o,m,f),o.child;case 6:return a===null&&rn&&((a=f=Gr)&&(f=V8(f,o.pendingProps,ga),f!==null?(o.stateNode=f,_i=o,Gr=null,a=!0):a=!1),a||Gl(o)),null;case 13:return pC(a,o,f);case 4:return ze(o,o.stateNode.containerInfo),m=o.pendingProps,a===null?o.child=Yl(o,null,m,f):Yr(a,o,m,f),o.child;case 11:return aC(a,o,o.type,o.pendingProps,f);case 7:return Yr(a,o,o.pendingProps,f),o.child;case 8:return Yr(a,o,o.pendingProps.children,f),o.child;case 12:return Yr(a,o,o.pendingProps.children,f),o.child;case 10:return m=o.pendingProps,qo(o,o.type,m.value),Yr(a,o,m.children,f),o.child;case 9:return A=o.type._context,m=o.pendingProps.children,ec(o),A=ci(A),m=m(A),o.flags|=1,Yr(a,o,m,f),o.child;case 14:return oC(a,o,o.type,o.pendingProps,f);case 15:return lC(a,o,o.type,o.pendingProps,f);case 19:return mC(a,o,f);case 22:return cC(a,o,f);case 24:return ec(o),m=ci(Ir),a===null?(A=CA(),A===null&&(A=Cn,S=EA(),A.pooledCache=S,S.refCount++,S!==null&&(A.pooledCacheLanes|=f),A=S),o.memoizedState={parent:m,cache:A},sb(o),qo(o,Ir,A)):(a.lanes&f&&(ab(a,o),Xf(o,null,null,f),Qf()),A=a.memoizedState,S=o.memoizedState,A.parent!==m?(A={parent:m,cache:m},o.memoizedState=A,o.lanes===0&&(o.memoizedState=o.updateQueue.baseState=A),qo(o,Ir,m)):(m=S.cache,qo(o,Ir,m),m!==A.cache&&ib(o,[Ir],f,!0))),Yr(a,o,o.pendingProps.children,f),o.child;case 29:throw o.pendingProps}throw Error(r(156,o.tag))}var nb=Me(null),Zl=null,Ga=null;function qo(a,o,f){ye(nb,o._currentValue),o._currentValue=f}function Ya(a){a._currentValue=nb.current,Re(nb)}function rb(a,o,f){for(;a!==null;){var m=a.alternate;if((a.childLanes&o)!==o?(a.childLanes|=o,m!==null&&(m.childLanes|=o)):m!==null&&(m.childLanes&o)!==o&&(m.childLanes|=o),a===f)break;a=a.return}}function ib(a,o,f,m){var A=a.child;for(A!==null&&(A.return=a);A!==null;){var S=A.dependencies;if(S!==null){var I=A.child;S=S.firstContext;e:for(;S!==null;){var z=S;S=A;for(var X=0;X<o.length;X++)if(z.context===o[X]){S.lanes|=f,z=S.alternate,z!==null&&(z.lanes|=f),rb(S.return,f,a),m||(I=null);break e}S=z.next}}else if(A.tag===18){if(I=A.return,I===null)throw Error(r(341));I.lanes|=f,S=I.alternate,S!==null&&(S.lanes|=f),rb(I,f,a),I=null}else I=A.child;if(I!==null)I.return=A;else for(I=A;I!==null;){if(I===a){I=null;break}if(A=I.sibling,A!==null){A.return=I.return,I=A;break}I=I.return}A=I}}function Kf(a,o,f,m){a=null;for(var A=o,S=!1;A!==null;){if(!S){if(A.flags&524288)S=!0;else if(A.flags&262144)break}if(A.tag===10){var I=A.alternate;if(I===null)throw Error(r(387));if(I=I.memoizedProps,I!==null){var z=A.type;Qi(A.pendingProps.value,I.value)||(a!==null?a.push(z):a=[z])}}else if(A===Ve.current){if(I=A.alternate,I===null)throw Error(r(387));I.memoizedState.memoizedState!==A.memoizedState.memoizedState&&(a!==null?a.push(fh):a=[fh])}A=A.return}a!==null&&ib(o,a,f,m),o.flags|=262144}function Bg(a){for(a=a.firstContext;a!==null;){if(!Qi(a.context._currentValue,a.memoizedValue))return!0;a=a.next}return!1}function ec(a){Zl=a,Ga=null,a=a.dependencies,a!==null&&(a.firstContext=null)}function ci(a){return vC(Zl,a)}function Ng(a,o){return Zl===null&&ec(a),vC(a,o)}function vC(a,o){var f=o._currentValue;if(o={context:o,memoizedValue:f,next:null},Ga===null){if(a===null)throw Error(r(308));Ga=o,a.dependencies={lanes:0,firstContext:o},a.flags|=524288}else Ga=Ga.next=o;return f}var Go=!1;function sb(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ab(a,o){a=a.updateQueue,o.updateQueue===a&&(o.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,callbacks:null})}function Yo(a){return{lane:a,tag:0,payload:null,callback:null,next:null}}function Ko(a,o,f){var m=a.updateQueue;if(m===null)return null;if(m=m.shared,Xn&2){var A=m.pending;return A===null?o.next=o:(o.next=A.next,A.next=o),m.pending=o,o=vg(a),Z2(a,null,f),o}return yg(a,m,o,f),vg(a)}function Wf(a,o,f){if(o=o.updateQueue,o!==null&&(o=o.shared,(f&4194176)!==0)){var m=o.lanes;m&=a.pendingLanes,f|=m,o.lanes=f,pr(a,f)}}function ob(a,o){var f=a.updateQueue,m=a.alternate;if(m!==null&&(m=m.updateQueue,f===m)){var A=null,S=null;if(f=f.firstBaseUpdate,f!==null){do{var I={lane:f.lane,tag:f.tag,payload:f.payload,callback:null,next:null};S===null?A=S=I:S=S.next=I,f=f.next}while(f!==null);S===null?A=S=o:S=S.next=o}else A=S=o;f={baseState:m.baseState,firstBaseUpdate:A,lastBaseUpdate:S,shared:m.shared,callbacks:m.callbacks},a.updateQueue=f;return}a=f.lastBaseUpdate,a===null?f.firstBaseUpdate=o:a.next=o,f.lastBaseUpdate=o}var lb=!1;function Qf(){if(lb){var a=Iu;if(a!==null)throw a}}function Xf(a,o,f,m){lb=!1;var A=a.updateQueue;Go=!1;var S=A.firstBaseUpdate,I=A.lastBaseUpdate,z=A.shared.pending;if(z!==null){A.shared.pending=null;var X=z,ie=X.next;X.next=null,I===null?S=ie:I.next=ie,I=X;var be=a.alternate;be!==null&&(be=be.updateQueue,z=be.lastBaseUpdate,z!==I&&(z===null?be.firstBaseUpdate=ie:z.next=ie,be.lastBaseUpdate=X))}if(S!==null){var Te=A.baseState;I=0,be=ie=X=null,z=S;do{var he=z.lane&-536870913,Ae=he!==z.lane;if(Ae?(Xt&he)===he:(m&he)===he){he!==0&&he===Ru&&(lb=!0),be!==null&&(be=be.next={lane:0,tag:z.tag,payload:z.payload,callback:null,next:null});e:{var Ze=a,vt=z;he=o;var ir=f;switch(vt.tag){case 1:if(Ze=vt.payload,typeof Ze=="function"){Te=Ze.call(ir,Te,he);break e}Te=Ze;break e;case 3:Ze.flags=Ze.flags&-65537|128;case 0:if(Ze=vt.payload,he=typeof Ze=="function"?Ze.call(ir,Te,he):Ze,he==null)break e;Te=C({},Te,he);break e;case 2:Go=!0}}he=z.callback,he!==null&&(a.flags|=64,Ae&&(a.flags|=8192),Ae=A.callbacks,Ae===null?A.callbacks=[he]:Ae.push(he))}else Ae={lane:he,tag:z.tag,payload:z.payload,callback:z.callback,next:null},be===null?(ie=be=Ae,X=Te):be=be.next=Ae,I|=he;if(z=z.next,z===null){if(z=A.shared.pending,z===null)break;Ae=z,z=Ae.next,Ae.next=null,A.lastBaseUpdate=Ae,A.shared.pending=null}}while(!0);be===null&&(X=Te),A.baseState=X,A.firstBaseUpdate=ie,A.lastBaseUpdate=be,S===null&&(A.shared.lanes=0),Zo|=I,a.lanes=I,a.memoizedState=Te}}function AC(a,o){if(typeof a!="function")throw Error(r(191,a));a.call(o)}function bC(a,o){var f=a.callbacks;if(f!==null)for(a.callbacks=null,a=0;a<f.length;a++)AC(f[a],o)}function Jf(a,o){try{var f=o.updateQueue,m=f!==null?f.lastEffect:null;if(m!==null){var A=m.next;f=A;do{if((f.tag&a)===a){m=void 0;var S=f.create,I=f.inst;m=S(),I.destroy=m}f=f.next}while(f!==A)}}catch(z){bn(o,o.return,z)}}function Wo(a,o,f){try{var m=o.updateQueue,A=m!==null?m.lastEffect:null;if(A!==null){var S=A.next;m=S;do{if((m.tag&a)===a){var I=m.inst,z=I.destroy;if(z!==void 0){I.destroy=void 0,A=o;var X=f;try{z()}catch(ie){bn(A,X,ie)}}}m=m.next}while(m!==S)}}catch(ie){bn(o,o.return,ie)}}function _C(a){var o=a.updateQueue;if(o!==null){var f=a.stateNode;try{bC(o,f)}catch(m){bn(a,a.return,m)}}}function SC(a,o,f){f.props=Jl(a.type,a.memoizedProps),f.state=a.memoizedState;try{f.componentWillUnmount()}catch(m){bn(a,o,m)}}function tc(a,o){try{var f=a.ref;if(f!==null){var m=a.stateNode;switch(a.tag){case 26:case 27:case 5:var A=m;break;default:A=m}typeof f=="function"?a.refCleanup=f(A):f.current=A}}catch(S){bn(a,o,S)}}function Xi(a,o){var f=a.ref,m=a.refCleanup;if(f!==null)if(typeof m=="function")try{m()}catch(A){bn(a,o,A)}finally{a.refCleanup=null,a=a.alternate,a!=null&&(a.refCleanup=null)}else if(typeof f=="function")try{f(null)}catch(A){bn(a,o,A)}else f.current=null}function xC(a){var o=a.type,f=a.memoizedProps,m=a.stateNode;try{e:switch(o){case"button":case"input":case"select":case"textarea":f.autoFocus&&m.focus();break e;case"img":f.src?m.src=f.src:f.srcSet&&(m.srcset=f.srcSet)}}catch(A){bn(a,a.return,A)}}function wC(a,o,f){try{var m=a.stateNode;M8(m,a.type,f,o),m[tr]=o}catch(A){bn(a,a.return,A)}}function EC(a){return a.tag===5||a.tag===3||a.tag===26||a.tag===27||a.tag===4}function cb(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||EC(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==27&&a.tag!==18;){if(a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function ub(a,o,f){var m=a.tag;if(m===5||m===6)a=a.stateNode,o?f.nodeType===8?f.parentNode.insertBefore(a,o):f.insertBefore(a,o):(f.nodeType===8?(o=f.parentNode,o.insertBefore(a,f)):(o=f,o.appendChild(a)),f=f._reactRootContainer,f!=null||o.onclick!==null||(o.onclick=Jg));else if(m!==4&&m!==27&&(a=a.child,a!==null))for(ub(a,o,f),a=a.sibling;a!==null;)ub(a,o,f),a=a.sibling}function Lg(a,o,f){var m=a.tag;if(m===5||m===6)a=a.stateNode,o?f.insertBefore(a,o):f.appendChild(a);else if(m!==4&&m!==27&&(a=a.child,a!==null))for(Lg(a,o,f),a=a.sibling;a!==null;)Lg(a,o,f),a=a.sibling}var Ka=!1,nr=!1,db=!1,TC=typeof WeakSet=="function"?WeakSet:Set,Nr=null,CC=!1;function s8(a,o){if(a=a.containerInfo,Lb=sm,a=H2(a),hA(a)){if("selectionStart"in a)var f={start:a.selectionStart,end:a.selectionEnd};else e:{f=(f=a.ownerDocument)&&f.defaultView||window;var m=f.getSelection&&f.getSelection();if(m&&m.rangeCount!==0){f=m.anchorNode;var A=m.anchorOffset,S=m.focusNode;m=m.focusOffset;try{f.nodeType,S.nodeType}catch{f=null;break e}var I=0,z=-1,X=-1,ie=0,be=0,Te=a,he=null;t:for(;;){for(var Ae;Te!==f||A!==0&&Te.nodeType!==3||(z=I+A),Te!==S||m!==0&&Te.nodeType!==3||(X=I+m),Te.nodeType===3&&(I+=Te.nodeValue.length),(Ae=Te.firstChild)!==null;)he=Te,Te=Ae;for(;;){if(Te===a)break t;if(he===f&&++ie===A&&(z=I),he===S&&++be===m&&(X=I),(Ae=Te.nextSibling)!==null)break;Te=he,he=Te.parentNode}Te=Ae}f=z===-1||X===-1?null:{start:z,end:X}}else f=null}f=f||{start:0,end:0}}else f=null;for(Fb={focusedElem:a,selectionRange:f},sm=!1,Nr=o;Nr!==null;)if(o=Nr,a=o.child,(o.subtreeFlags&1028)!==0&&a!==null)a.return=o,Nr=a;else for(;Nr!==null;){switch(o=Nr,S=o.alternate,a=o.flags,o.tag){case 0:break;case 11:case 15:break;case 1:if(a&1024&&S!==null){a=void 0,f=o,A=S.memoizedProps,S=S.memoizedState,m=f.stateNode;try{var Ze=Jl(f.type,A,f.elementType===f.type);a=m.getSnapshotBeforeUpdate(Ze,S),m.__reactInternalSnapshotBeforeUpdate=a}catch(vt){bn(f,f.return,vt)}}break;case 3:if(a&1024){if(a=o.stateNode.containerInfo,f=a.nodeType,f===9)Hb(a);else if(f===1)switch(a.nodeName){case"HEAD":case"HTML":case"BODY":Hb(a);break;default:a.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(a&1024)throw Error(r(163))}if(a=o.sibling,a!==null){a.return=o.return,Nr=a;break}Nr=o.return}return Ze=CC,CC=!1,Ze}function kC(a,o,f){var m=f.flags;switch(f.tag){case 0:case 11:case 15:Qa(a,f),m&4&&Jf(5,f);break;case 1:if(Qa(a,f),m&4)if(a=f.stateNode,o===null)try{a.componentDidMount()}catch(z){bn(f,f.return,z)}else{var A=Jl(f.type,o.memoizedProps);o=o.memoizedState;try{a.componentDidUpdate(A,o,a.__reactInternalSnapshotBeforeUpdate)}catch(z){bn(f,f.return,z)}}m&64&&_C(f),m&512&&tc(f,f.return);break;case 3:if(Qa(a,f),m&64&&(m=f.updateQueue,m!==null)){if(a=null,f.child!==null)switch(f.child.tag){case 27:case 5:a=f.child.stateNode;break;case 1:a=f.child.stateNode}try{bC(m,a)}catch(z){bn(f,f.return,z)}}break;case 26:Qa(a,f),m&512&&tc(f,f.return);break;case 27:case 5:Qa(a,f),o===null&&m&4&&xC(f),m&512&&tc(f,f.return);break;case 12:Qa(a,f);break;case 13:Qa(a,f),m&4&&IC(a,f);break;case 22:if(A=f.memoizedState!==null||Ka,!A){o=o!==null&&o.memoizedState!==null||nr;var S=Ka,I=nr;Ka=A,(nr=o)&&!I?Qo(a,f,(f.subtreeFlags&8772)!==0):Qa(a,f),Ka=S,nr=I}m&512&&(f.memoizedProps.mode==="manual"?tc(f,f.return):Xi(f,f.return));break;default:Qa(a,f)}}function MC(a){var o=a.alternate;o!==null&&(a.alternate=null,MC(o)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(o=a.stateNode,o!==null&&bi(o)),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}var xr=null,Ji=!1;function Wa(a,o,f){for(f=f.child;f!==null;)RC(a,o,f),f=f.sibling}function RC(a,o,f){if(Lt&&typeof Lt.onCommitFiberUnmount=="function")try{Lt.onCommitFiberUnmount(kt,f)}catch{}switch(f.tag){case 26:nr||Xi(f,o),Wa(a,o,f),f.memoizedState?f.memoizedState.count--:f.stateNode&&(f=f.stateNode,f.parentNode.removeChild(f));break;case 27:nr||Xi(f,o);var m=xr,A=Ji;for(xr=f.stateNode,Wa(a,o,f),f=f.stateNode,o=f.attributes;o.length;)f.removeAttributeNode(o[0]);bi(f),xr=m,Ji=A;break;case 5:nr||Xi(f,o);case 6:A=xr;var S=Ji;if(xr=null,Wa(a,o,f),xr=A,Ji=S,xr!==null)if(Ji)try{a=xr,m=f.stateNode,a.nodeType===8?a.parentNode.removeChild(m):a.removeChild(m)}catch(I){bn(f,o,I)}else try{xr.removeChild(f.stateNode)}catch(I){bn(f,o,I)}break;case 18:xr!==null&&(Ji?(o=xr,f=f.stateNode,o.nodeType===8?Ub(o.parentNode,f):o.nodeType===1&&Ub(o,f),mh(o)):Ub(xr,f.stateNode));break;case 4:m=xr,A=Ji,xr=f.stateNode.containerInfo,Ji=!0,Wa(a,o,f),xr=m,Ji=A;break;case 0:case 11:case 14:case 15:nr||Wo(2,f,o),nr||Wo(4,f,o),Wa(a,o,f);break;case 1:nr||(Xi(f,o),m=f.stateNode,typeof m.componentWillUnmount=="function"&&SC(f,o,m)),Wa(a,o,f);break;case 21:Wa(a,o,f);break;case 22:nr||Xi(f,o),nr=(m=nr)||f.memoizedState!==null,Wa(a,o,f),nr=m;break;default:Wa(a,o,f)}}function IC(a,o){if(o.memoizedState===null&&(a=o.alternate,a!==null&&(a=a.memoizedState,a!==null&&(a=a.dehydrated,a!==null))))try{mh(a)}catch(f){bn(o,o.return,f)}}function a8(a){switch(a.tag){case 13:case 19:var o=a.stateNode;return o===null&&(o=a.stateNode=new TC),o;case 22:return a=a.stateNode,o=a._retryCache,o===null&&(o=a._retryCache=new TC),o;default:throw Error(r(435,a.tag))}}function fb(a,o){var f=a8(a);o.forEach(function(m){var A=A8.bind(null,a,m);f.has(m)||(f.add(m),m.then(A,A))})}function Ss(a,o){var f=o.deletions;if(f!==null)for(var m=0;m<f.length;m++){var A=f[m],S=a,I=o,z=I;e:for(;z!==null;){switch(z.tag){case 27:case 5:xr=z.stateNode,Ji=!1;break e;case 3:xr=z.stateNode.containerInfo,Ji=!0;break e;case 4:xr=z.stateNode.containerInfo,Ji=!0;break e}z=z.return}if(xr===null)throw Error(r(160));RC(S,I,A),xr=null,Ji=!1,S=A.alternate,S!==null&&(S.return=null),A.return=null}if(o.subtreeFlags&13878)for(o=o.child;o!==null;)OC(o,a),o=o.sibling}var Xs=null;function OC(a,o){var f=a.alternate,m=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:Ss(o,a),xs(a),m&4&&(Wo(3,a,a.return),Jf(3,a),Wo(5,a,a.return));break;case 1:Ss(o,a),xs(a),m&512&&(nr||f===null||Xi(f,f.return)),m&64&&Ka&&(a=a.updateQueue,a!==null&&(m=a.callbacks,m!==null&&(f=a.shared.hiddenCallbacks,a.shared.hiddenCallbacks=f===null?m:f.concat(m))));break;case 26:var A=Xs;if(Ss(o,a),xs(a),m&512&&(nr||f===null||Xi(f,f.return)),m&4){var S=f!==null?f.memoizedState:null;if(m=a.memoizedState,f===null)if(m===null)if(a.stateNode===null){e:{m=a.type,f=a.memoizedProps,A=A.ownerDocument||A;t:switch(m){case"title":S=A.getElementsByTagName("title")[0],(!S||S[Qt]||S[bt]||S.namespaceURI==="http://www.w3.org/2000/svg"||S.hasAttribute("itemprop"))&&(S=A.createElement(m),A.head.insertBefore(S,A.querySelector("head > title"))),Kr(S,m,f),S[bt]=a,Fn(S),m=S;break e;case"link":var I=xk("link","href",A).get(m+(f.href||""));if(I){for(var z=0;z<I.length;z++)if(S=I[z],S.getAttribute("href")===(f.href==null?null:f.href)&&S.getAttribute("rel")===(f.rel==null?null:f.rel)&&S.getAttribute("title")===(f.title==null?null:f.title)&&S.getAttribute("crossorigin")===(f.crossOrigin==null?null:f.crossOrigin)){I.splice(z,1);break t}}S=A.createElement(m),Kr(S,m,f),A.head.appendChild(S);break;case"meta":if(I=xk("meta","content",A).get(m+(f.content||""))){for(z=0;z<I.length;z++)if(S=I[z],S.getAttribute("content")===(f.content==null?null:""+f.content)&&S.getAttribute("name")===(f.name==null?null:f.name)&&S.getAttribute("property")===(f.property==null?null:f.property)&&S.getAttribute("http-equiv")===(f.httpEquiv==null?null:f.httpEquiv)&&S.getAttribute("charset")===(f.charSet==null?null:f.charSet)){I.splice(z,1);break t}}S=A.createElement(m),Kr(S,m,f),A.head.appendChild(S);break;default:throw Error(r(468,m))}S[bt]=a,Fn(S),m=S}a.stateNode=m}else wk(A,a.type,a.stateNode);else a.stateNode=Sk(A,m,a.memoizedProps);else S!==m?(S===null?f.stateNode!==null&&(f=f.stateNode,f.parentNode.removeChild(f)):S.count--,m===null?wk(A,a.type,a.stateNode):Sk(A,m,a.memoizedProps)):m===null&&a.stateNode!==null&&wC(a,a.memoizedProps,f.memoizedProps)}break;case 27:if(m&4&&a.alternate===null){A=a.stateNode,S=a.memoizedProps;try{for(var X=A.firstChild;X;){var ie=X.nextSibling,be=X.nodeName;X[Qt]||be==="HEAD"||be==="BODY"||be==="SCRIPT"||be==="STYLE"||be==="LINK"&&X.rel.toLowerCase()==="stylesheet"||A.removeChild(X),X=ie}for(var Te=a.type,he=A.attributes;he.length;)A.removeAttributeNode(he[0]);Kr(A,Te,S),A[bt]=a,A[tr]=S}catch(Ze){bn(a,a.return,Ze)}}case 5:if(Ss(o,a),xs(a),m&512&&(nr||f===null||Xi(f,f.return)),a.flags&32){A=a.stateNode;try{mn(A,"")}catch(Ze){bn(a,a.return,Ze)}}m&4&&a.stateNode!=null&&(A=a.memoizedProps,wC(a,A,f!==null?f.memoizedProps:A)),m&1024&&(db=!0);break;case 6:if(Ss(o,a),xs(a),m&4){if(a.stateNode===null)throw Error(r(162));m=a.memoizedProps,f=a.stateNode;try{f.nodeValue=m}catch(Ze){bn(a,a.return,Ze)}}break;case 3:if(nm=null,A=Xs,Xs=em(o.containerInfo),Ss(o,a),Xs=A,xs(a),m&4&&f!==null&&f.memoizedState.isDehydrated)try{mh(o.containerInfo)}catch(Ze){bn(a,a.return,Ze)}db&&(db=!1,jC(a));break;case 4:m=Xs,Xs=em(a.stateNode.containerInfo),Ss(o,a),xs(a),Xs=m;break;case 12:Ss(o,a),xs(a);break;case 13:Ss(o,a),xs(a),a.child.flags&8192&&a.memoizedState!==null!=(f!==null&&f.memoizedState!==null)&&(_b=At()),m&4&&(m=a.updateQueue,m!==null&&(a.updateQueue=null,fb(a,m)));break;case 22:if(m&512&&(nr||f===null||Xi(f,f.return)),X=a.memoizedState!==null,ie=f!==null&&f.memoizedState!==null,be=Ka,Te=nr,Ka=be||X,nr=Te||ie,Ss(o,a),nr=Te,Ka=be,xs(a),o=a.stateNode,o._current=a,o._visibility&=-3,o._visibility|=o._pendingVisibility&2,m&8192&&(o._visibility=X?o._visibility&-2:o._visibility|1,X&&(o=Ka||nr,f===null||ie||o||Vu(a)),a.memoizedProps===null||a.memoizedProps.mode!=="manual"))e:for(f=null,o=a;;){if(o.tag===5||o.tag===26||o.tag===27){if(f===null){ie=f=o;try{if(A=ie.stateNode,X)S=A.style,typeof S.setProperty=="function"?S.setProperty("display","none","important"):S.display="none";else{I=ie.stateNode,z=ie.memoizedProps.style;var Ae=z!=null&&z.hasOwnProperty("display")?z.display:null;I.style.display=Ae==null||typeof Ae=="boolean"?"":(""+Ae).trim()}}catch(Ze){bn(ie,ie.return,Ze)}}}else if(o.tag===6){if(f===null){ie=o;try{ie.stateNode.nodeValue=X?"":ie.memoizedProps}catch(Ze){bn(ie,ie.return,Ze)}}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===a)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===a)break e;for(;o.sibling===null;){if(o.return===null||o.return===a)break e;f===o&&(f=null),o=o.return}f===o&&(f=null),o.sibling.return=o.return,o=o.sibling}m&4&&(m=a.updateQueue,m!==null&&(f=m.retryQueue,f!==null&&(m.retryQueue=null,fb(a,f))));break;case 19:Ss(o,a),xs(a),m&4&&(m=a.updateQueue,m!==null&&(a.updateQueue=null,fb(a,m)));break;case 21:break;default:Ss(o,a),xs(a)}}function xs(a){var o=a.flags;if(o&2){try{if(a.tag!==27){e:{for(var f=a.return;f!==null;){if(EC(f)){var m=f;break e}f=f.return}throw Error(r(160))}switch(m.tag){case 27:var A=m.stateNode,S=cb(a);Lg(a,S,A);break;case 5:var I=m.stateNode;m.flags&32&&(mn(I,""),m.flags&=-33);var z=cb(a);Lg(a,z,I);break;case 3:case 4:var X=m.stateNode.containerInfo,ie=cb(a);ub(a,ie,X);break;default:throw Error(r(161))}}}catch(be){bn(a,a.return,be)}a.flags&=-3}o&4096&&(a.flags&=-4097)}function jC(a){if(a.subtreeFlags&1024)for(a=a.child;a!==null;){var o=a;jC(o),o.tag===5&&o.flags&1024&&o.stateNode.reset(),a=a.sibling}}function Qa(a,o){if(o.subtreeFlags&8772)for(o=o.child;o!==null;)kC(a,o.alternate,o),o=o.sibling}function Vu(a){for(a=a.child;a!==null;){var o=a;switch(o.tag){case 0:case 11:case 14:case 15:Wo(4,o,o.return),Vu(o);break;case 1:Xi(o,o.return);var f=o.stateNode;typeof f.componentWillUnmount=="function"&&SC(o,o.return,f),Vu(o);break;case 26:case 27:case 5:Xi(o,o.return),Vu(o);break;case 22:Xi(o,o.return),o.memoizedState===null&&Vu(o);break;default:Vu(o)}a=a.sibling}}function Qo(a,o,f){for(f=f&&(o.subtreeFlags&8772)!==0,o=o.child;o!==null;){var m=o.alternate,A=a,S=o,I=S.flags;switch(S.tag){case 0:case 11:case 15:Qo(A,S,f),Jf(4,S);break;case 1:if(Qo(A,S,f),m=S,A=m.stateNode,typeof A.componentDidMount=="function")try{A.componentDidMount()}catch(ie){bn(m,m.return,ie)}if(m=S,A=m.updateQueue,A!==null){var z=m.stateNode;try{var X=A.shared.hiddenCallbacks;if(X!==null)for(A.shared.hiddenCallbacks=null,A=0;A<X.length;A++)AC(X[A],z)}catch(ie){bn(m,m.return,ie)}}f&&I&64&&_C(S),tc(S,S.return);break;case 26:case 27:case 5:Qo(A,S,f),f&&m===null&&I&4&&xC(S),tc(S,S.return);break;case 12:Qo(A,S,f);break;case 13:Qo(A,S,f),f&&I&4&&IC(A,S);break;case 22:S.memoizedState===null&&Qo(A,S,f),tc(S,S.return);break;default:Qo(A,S,f)}o=o.sibling}}function hb(a,o){var f=null;a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(f=a.memoizedState.cachePool.pool),a=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(a=o.memoizedState.cachePool.pool),a!==f&&(a!=null&&a.refCount++,f!=null&&$f(f))}function pb(a,o){a=null,o.alternate!==null&&(a=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==a&&(o.refCount++,a!=null&&$f(a))}function Xo(a,o,f,m){if(o.subtreeFlags&10256)for(o=o.child;o!==null;)PC(a,o,f,m),o=o.sibling}function PC(a,o,f,m){var A=o.flags;switch(o.tag){case 0:case 11:case 15:Xo(a,o,f,m),A&2048&&Jf(9,o);break;case 3:Xo(a,o,f,m),A&2048&&(a=null,o.alternate!==null&&(a=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==a&&(o.refCount++,a!=null&&$f(a)));break;case 12:if(A&2048){Xo(a,o,f,m),a=o.stateNode;try{var S=o.memoizedProps,I=S.id,z=S.onPostCommit;typeof z=="function"&&z(I,o.alternate===null?"mount":"update",a.passiveEffectDuration,-0)}catch(X){bn(o,o.return,X)}}else Xo(a,o,f,m);break;case 23:break;case 22:S=o.stateNode,o.memoizedState!==null?S._visibility&4?Xo(a,o,f,m):Zf(a,o):S._visibility&4?Xo(a,o,f,m):(S._visibility|=4,Du(a,o,f,m,(o.subtreeFlags&10256)!==0)),A&2048&&hb(o.alternate,o);break;case 24:Xo(a,o,f,m),A&2048&&pb(o.alternate,o);break;default:Xo(a,o,f,m)}}function Du(a,o,f,m,A){for(A=A&&(o.subtreeFlags&10256)!==0,o=o.child;o!==null;){var S=a,I=o,z=f,X=m,ie=I.flags;switch(I.tag){case 0:case 11:case 15:Du(S,I,z,X,A),Jf(8,I);break;case 23:break;case 22:var be=I.stateNode;I.memoizedState!==null?be._visibility&4?Du(S,I,z,X,A):Zf(S,I):(be._visibility|=4,Du(S,I,z,X,A)),A&&ie&2048&&hb(I.alternate,I);break;case 24:Du(S,I,z,X,A),A&&ie&2048&&pb(I.alternate,I);break;default:Du(S,I,z,X,A)}o=o.sibling}}function Zf(a,o){if(o.subtreeFlags&10256)for(o=o.child;o!==null;){var f=a,m=o,A=m.flags;switch(m.tag){case 22:Zf(f,m),A&2048&&hb(m.alternate,m);break;case 24:Zf(f,m),A&2048&&pb(m.alternate,m);break;default:Zf(f,m)}o=o.sibling}}var eh=8192;function Bu(a){if(a.subtreeFlags&eh)for(a=a.child;a!==null;)VC(a),a=a.sibling}function VC(a){switch(a.tag){case 26:Bu(a),a.flags&eh&&a.memoizedState!==null&&K8(Xs,a.memoizedState,a.memoizedProps);break;case 5:Bu(a);break;case 3:case 4:var o=Xs;Xs=em(a.stateNode.containerInfo),Bu(a),Xs=o;break;case 22:a.memoizedState===null&&(o=a.alternate,o!==null&&o.memoizedState!==null?(o=eh,eh=16777216,Bu(a),eh=o):Bu(a));break;default:Bu(a)}}function DC(a){var o=a.alternate;if(o!==null&&(a=o.child,a!==null)){o.child=null;do o=a.sibling,a.sibling=null,a=o;while(a!==null)}}function th(a){var o=a.deletions;if(a.flags&16){if(o!==null)for(var f=0;f<o.length;f++){var m=o[f];Nr=m,NC(m,a)}DC(a)}if(a.subtreeFlags&10256)for(a=a.child;a!==null;)BC(a),a=a.sibling}function BC(a){switch(a.tag){case 0:case 11:case 15:th(a),a.flags&2048&&Wo(9,a,a.return);break;case 3:th(a);break;case 12:th(a);break;case 22:var o=a.stateNode;a.memoizedState!==null&&o._visibility&4&&(a.return===null||a.return.tag!==13)?(o._visibility&=-5,Fg(a)):th(a);break;default:th(a)}}function Fg(a){var o=a.deletions;if(a.flags&16){if(o!==null)for(var f=0;f<o.length;f++){var m=o[f];Nr=m,NC(m,a)}DC(a)}for(a=a.child;a!==null;){switch(o=a,o.tag){case 0:case 11:case 15:Wo(8,o,o.return),Fg(o);break;case 22:f=o.stateNode,f._visibility&4&&(f._visibility&=-5,Fg(o));break;default:Fg(o)}a=a.sibling}}function NC(a,o){for(;Nr!==null;){var f=Nr;switch(f.tag){case 0:case 11:case 15:Wo(8,f,o);break;case 23:case 22:if(f.memoizedState!==null&&f.memoizedState.cachePool!==null){var m=f.memoizedState.cachePool.pool;m!=null&&m.refCount++}break;case 24:$f(f.memoizedState.cache)}if(m=f.child,m!==null)m.return=f,Nr=m;else e:for(f=a;Nr!==null;){m=Nr;var A=m.sibling,S=m.return;if(MC(m),m===f){Nr=null;break e}if(A!==null){A.return=S,Nr=A;break e}Nr=S}}}function o8(a,o,f,m){this.tag=a,this.key=f,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=m,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ws(a,o,f,m){return new o8(a,o,f,m)}function gb(a){return a=a.prototype,!(!a||!a.isReactComponent)}function Jo(a,o){var f=a.alternate;return f===null?(f=ws(a.tag,o,a.key,a.mode),f.elementType=a.elementType,f.type=a.type,f.stateNode=a.stateNode,f.alternate=a,a.alternate=f):(f.pendingProps=o,f.type=a.type,f.flags=0,f.subtreeFlags=0,f.deletions=null),f.flags=a.flags&31457280,f.childLanes=a.childLanes,f.lanes=a.lanes,f.child=a.child,f.memoizedProps=a.memoizedProps,f.memoizedState=a.memoizedState,f.updateQueue=a.updateQueue,o=a.dependencies,f.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},f.sibling=a.sibling,f.index=a.index,f.ref=a.ref,f.refCleanup=a.refCleanup,f}function LC(a,o){a.flags&=31457282;var f=a.alternate;return f===null?(a.childLanes=0,a.lanes=o,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=f.childLanes,a.lanes=f.lanes,a.child=f.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=f.memoizedProps,a.memoizedState=f.memoizedState,a.updateQueue=f.updateQueue,a.type=f.type,o=f.dependencies,a.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),a}function zg(a,o,f,m,A,S){var I=0;if(m=a,typeof a=="function")gb(a)&&(I=1);else if(typeof a=="string")I=G8(a,f,je.current)?26:a==="html"||a==="head"||a==="body"?27:5;else e:switch(a){case d:return nc(f.children,A,S,o);case u:I=8,A|=24;break;case p:return a=ws(12,f,o,A|2),a.elementType=p,a.lanes=S,a;case _:return a=ws(13,f,o,A),a.elementType=_,a.lanes=S,a;case w:return a=ws(19,f,o,A),a.elementType=w,a.lanes=S,a;case R:return FC(f,A,S,o);default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case h:case v:I=10;break e;case y:I=9;break e;case b:I=11;break e;case T:I=14;break e;case k:I=16,m=null;break e}I=29,f=Error(r(130,a===null?"null":typeof a,"")),m=null}return o=ws(I,f,o,A),o.elementType=a,o.type=m,o.lanes=S,o}function nc(a,o,f,m){return a=ws(7,a,m,o),a.lanes=f,a}function FC(a,o,f,m){a=ws(22,a,m,o),a.elementType=R,a.lanes=f;var A={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var S=A._current;if(S===null)throw Error(r(456));if(!(A._pendingVisibility&2)){var I=Fo(S,2);I!==null&&(A._pendingVisibility|=2,Si(I,S,2))}},attach:function(){var S=A._current;if(S===null)throw Error(r(456));if(A._pendingVisibility&2){var I=Fo(S,2);I!==null&&(A._pendingVisibility&=-3,Si(I,S,2))}}};return a.stateNode=A,a}function mb(a,o,f){return a=ws(6,a,null,o),a.lanes=f,a}function yb(a,o,f){return o=ws(4,a.children!==null?a.children:[],a.key,o),o.lanes=f,o.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},o}function Xa(a){a.flags|=4}function zC(a,o){if(o.type!=="stylesheet"||o.state.loading&4)a.flags&=-16777217;else if(a.flags|=16777216,!Ek(o)){if(o=_s.current,o!==null&&((Xt&4194176)===Xt?ma!==null:(Xt&62914560)!==Xt&&!(Xt&536870912)||o!==ma))throw Lf=SA,iT;a.flags|=8192}}function $g(a,o){o!==null&&(a.flags|=4),a.flags&16384&&(o=a.tag!==22?oi():536870912,a.lanes|=o,Lu|=o)}function nh(a,o){if(!rn)switch(a.tailMode){case"hidden":o=a.tail;for(var f=null;o!==null;)o.alternate!==null&&(f=o),o=o.sibling;f===null?a.tail=null:f.sibling=null;break;case"collapsed":f=a.tail;for(var m=null;f!==null;)f.alternate!==null&&(m=f),f=f.sibling;m===null?o||a.tail===null?a.tail=null:a.tail.sibling=null:m.sibling=null}}function Qn(a){var o=a.alternate!==null&&a.alternate.child===a.child,f=0,m=0;if(o)for(var A=a.child;A!==null;)f|=A.lanes|A.childLanes,m|=A.subtreeFlags&31457280,m|=A.flags&31457280,A.return=a,A=A.sibling;else for(A=a.child;A!==null;)f|=A.lanes|A.childLanes,m|=A.subtreeFlags,m|=A.flags,A.return=a,A=A.sibling;return a.subtreeFlags|=m,a.childLanes=f,o}function l8(a,o,f){var m=o.pendingProps;switch(bA(o),o.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Qn(o),null;case 1:return Qn(o),null;case 3:return f=o.stateNode,m=null,a!==null&&(m=a.memoizedState.cache),o.memoizedState.cache!==m&&(o.flags|=2048),Ya(Ir),ot(),f.pendingContext&&(f.context=f.pendingContext,f.pendingContext=null),(a===null||a.child===null)&&(Vf(o)?Xa(o):a===null||a.memoizedState.isDehydrated&&!(o.flags&256)||(o.flags|=1024,Qs!==null&&(Eb(Qs),Qs=null))),Qn(o),null;case 26:return f=o.memoizedState,a===null?(Xa(o),f!==null?(Qn(o),zC(o,f)):(Qn(o),o.flags&=-16777217)):f?f!==a.memoizedState?(Xa(o),Qn(o),zC(o,f)):(Qn(o),o.flags&=-16777217):(a.memoizedProps!==m&&Xa(o),Qn(o),o.flags&=-16777217),null;case 27:Ue(o),f=Fe.current;var A=o.type;if(a!==null&&o.stateNode!=null)a.memoizedProps!==m&&Xa(o);else{if(!m){if(o.stateNode===null)throw Error(r(166));return Qn(o),null}a=je.current,Vf(o)?nT(o):(a=yk(A,m,f),o.stateNode=a,Xa(o))}return Qn(o),null;case 5:if(Ue(o),f=o.type,a!==null&&o.stateNode!=null)a.memoizedProps!==m&&Xa(o);else{if(!m){if(o.stateNode===null)throw Error(r(166));return Qn(o),null}if(a=je.current,Vf(o))nT(o);else{switch(A=Zg(Fe.current),a){case 1:a=A.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:a=A.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":a=A.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":a=A.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":a=A.createElement("div"),a.innerHTML="<script><\/script>",a=a.removeChild(a.firstChild);break;case"select":a=typeof m.is=="string"?A.createElement("select",{is:m.is}):A.createElement("select"),m.multiple?a.multiple=!0:m.size&&(a.size=m.size);break;default:a=typeof m.is=="string"?A.createElement(f,{is:m.is}):A.createElement(f)}}a[bt]=o,a[tr]=m;e:for(A=o.child;A!==null;){if(A.tag===5||A.tag===6)a.appendChild(A.stateNode);else if(A.tag!==4&&A.tag!==27&&A.child!==null){A.child.return=A,A=A.child;continue}if(A===o)break e;for(;A.sibling===null;){if(A.return===null||A.return===o)break e;A=A.return}A.sibling.return=A.return,A=A.sibling}o.stateNode=a;e:switch(Kr(a,f,m),f){case"button":case"input":case"select":case"textarea":a=!!m.autoFocus;break e;case"img":a=!0;break e;default:a=!1}a&&Xa(o)}}return Qn(o),o.flags&=-16777217,null;case 6:if(a&&o.stateNode!=null)a.memoizedProps!==m&&Xa(o);else{if(typeof m!="string"&&o.stateNode===null)throw Error(r(166));if(a=Fe.current,Vf(o)){if(a=o.stateNode,f=o.memoizedProps,m=null,A=_i,A!==null)switch(A.tag){case 27:case 5:m=A.memoizedProps}a[bt]=o,a=!!(a.nodeValue===f||m!==null&&m.suppressHydrationWarning===!0||dk(a.nodeValue,f)),a||Gl(o)}else a=Zg(a).createTextNode(m),a[bt]=o,o.stateNode=a}return Qn(o),null;case 13:if(m=o.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(A=Vf(o),m!==null&&m.dehydrated!==null){if(a===null){if(!A)throw Error(r(318));if(A=o.memoizedState,A=A!==null?A.dehydrated:null,!A)throw Error(r(317));A[bt]=o}else Df(),!(o.flags&128)&&(o.memoizedState=null),o.flags|=4;Qn(o),A=!1}else Qs!==null&&(Eb(Qs),Qs=null),A=!0;if(!A)return o.flags&256?(Ua(o),o):(Ua(o),null)}if(Ua(o),o.flags&128)return o.lanes=f,o;if(f=m!==null,a=a!==null&&a.memoizedState!==null,f){m=o.child,A=null,m.alternate!==null&&m.alternate.memoizedState!==null&&m.alternate.memoizedState.cachePool!==null&&(A=m.alternate.memoizedState.cachePool.pool);var S=null;m.memoizedState!==null&&m.memoizedState.cachePool!==null&&(S=m.memoizedState.cachePool.pool),S!==A&&(m.flags|=2048)}return f!==a&&f&&(o.child.flags|=8192),$g(o,o.updateQueue),Qn(o),null;case 4:return ot(),a===null&&Db(o.stateNode.containerInfo),Qn(o),null;case 10:return Ya(o.type),Qn(o),null;case 19:if(Re(Rr),A=o.memoizedState,A===null)return Qn(o),null;if(m=(o.flags&128)!==0,S=A.rendering,S===null)if(m)nh(A,!1);else{if(rr!==0||a!==null&&a.flags&128)for(a=o.child;a!==null;){if(S=Eg(a),S!==null){for(o.flags|=128,nh(A,!1),a=S.updateQueue,o.updateQueue=a,$g(o,a),o.subtreeFlags=0,a=f,f=o.child;f!==null;)LC(f,a),f=f.sibling;return ye(Rr,Rr.current&1|2),o.child}a=a.sibling}A.tail!==null&&At()>Ug&&(o.flags|=128,m=!0,nh(A,!1),o.lanes=4194304)}else{if(!m)if(a=Eg(S),a!==null){if(o.flags|=128,m=!0,a=a.updateQueue,o.updateQueue=a,$g(o,a),nh(A,!0),A.tail===null&&A.tailMode==="hidden"&&!S.alternate&&!rn)return Qn(o),null}else 2*At()-A.renderingStartTime>Ug&&f!==536870912&&(o.flags|=128,m=!0,nh(A,!1),o.lanes=4194304);A.isBackwards?(S.sibling=o.child,o.child=S):(a=A.last,a!==null?a.sibling=S:o.child=S,A.last=S)}return A.tail!==null?(o=A.tail,A.rendering=o,A.tail=o.sibling,A.renderingStartTime=At(),o.sibling=null,a=Rr.current,ye(Rr,m?a&1|2:a&1),o):(Qn(o),null);case 22:case 23:return Ua(o),wA(),m=o.memoizedState!==null,a!==null?a.memoizedState!==null!==m&&(o.flags|=8192):m&&(o.flags|=8192),m?f&536870912&&!(o.flags&128)&&(Qn(o),o.subtreeFlags&6&&(o.flags|=8192)):Qn(o),f=o.updateQueue,f!==null&&$g(o,f.retryQueue),f=null,a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(f=a.memoizedState.cachePool.pool),m=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(m=o.memoizedState.cachePool.pool),m!==f&&(o.flags|=2048),a!==null&&Re(Kl),null;case 24:return f=null,a!==null&&(f=a.memoizedState.cache),o.memoizedState.cache!==f&&(o.flags|=2048),Ya(Ir),Qn(o),null;case 25:return null}throw Error(r(156,o.tag))}function c8(a,o){switch(bA(o),o.tag){case 1:return a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 3:return Ya(Ir),ot(),a=o.flags,a&65536&&!(a&128)?(o.flags=a&-65537|128,o):null;case 26:case 27:case 5:return Ue(o),null;case 13:if(Ua(o),a=o.memoizedState,a!==null&&a.dehydrated!==null){if(o.alternate===null)throw Error(r(340));Df()}return a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 19:return Re(Rr),null;case 4:return ot(),null;case 10:return Ya(o.type),null;case 22:case 23:return Ua(o),wA(),a!==null&&Re(Kl),a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 24:return Ya(Ir),null;case 25:return null;default:return null}}function $C(a,o){switch(bA(o),o.tag){case 3:Ya(Ir),ot();break;case 26:case 27:case 5:Ue(o);break;case 4:ot();break;case 13:Ua(o);break;case 19:Re(Rr);break;case 10:Ya(o.type);break;case 22:case 23:Ua(o),wA(),a!==null&&Re(Kl);break;case 24:Ya(Ir)}}var u8={getCacheForType:function(a){var o=ci(Ir),f=o.data.get(a);return f===void 0&&(f=a(),o.data.set(a,f)),f}},d8=typeof WeakMap=="function"?WeakMap:Map,Xn=0,Cn=null,$t=null,Xt=0,kn=0,Zi=null,Ja=!1,Nu=!1,vb=!1,Za=0,rr=0,Zo=0,rc=0,Ab=0,Es=0,Lu=0,rh=null,va=null,bb=!1,_b=0,Ug=1/0,Hg=null,el=null,qg=!1,ic=null,ih=0,Sb=0,xb=null,sh=0,wb=null;function es(){if(Xn&2&&Xt!==0)return Xt&-Xt;if(V.T!==null){var a=Ru;return a!==0?a:Ob()}return Ai()}function UC(){Es===0&&(Es=!(Xt&536870912)||rn?hr():536870912);var a=_s.current;return a!==null&&(a.flags|=32),Es}function Si(a,o,f){(a===Cn&&kn===2||a.cancelPendingCommit!==null)&&(Fu(a,0),eo(a,Xt,Es,!1)),st(a,f),(!(Xn&2)||a!==Cn)&&(a===Cn&&(!(Xn&2)&&(rc|=f),rr===4&&eo(a,Xt,Es,!1)),Aa(a))}function HC(a,o,f){if(Xn&6)throw Error(r(327));var m=!f&&(o&60)===0&&(o&a.expiredLanes)===0||Je(a,o),A=m?p8(a,o):kb(a,o,!0),S=m;do{if(A===0){Nu&&!m&&eo(a,o,0,!1);break}else if(A===6)eo(a,o,0,!Ja);else{if(f=a.current.alternate,S&&!f8(f)){A=kb(a,o,!1),S=!1;continue}if(A===2){if(S=o,a.errorRecoveryDisabledLanes&S)var I=0;else I=a.pendingLanes&-536870913,I=I!==0?I:I&536870912?536870912:0;if(I!==0){o=I;e:{var z=a;A=rh;var X=z.current.memoizedState.isDehydrated;if(X&&(Fu(z,I).flags|=256),I=kb(z,I,!1),I!==2){if(vb&&!X){z.errorRecoveryDisabledLanes|=S,rc|=S,A=4;break e}S=va,va=A,S!==null&&Eb(S)}A=I}if(S=!1,A!==2)continue}}if(A===1){Fu(a,0),eo(a,o,0,!0);break}e:{switch(m=a,A){case 0:case 1:throw Error(r(345));case 4:if((o&4194176)===o){eo(m,o,Es,!Ja);break e}break;case 2:va=null;break;case 3:case 5:break;default:throw Error(r(329))}if(m.finishedWork=f,m.finishedLanes=o,(o&62914560)===o&&(S=_b+300-At(),10<S)){if(eo(m,o,Es,!Ja),Tn(m,0)!==0)break e;m.timeoutHandle=pk(qC.bind(null,m,f,va,Hg,bb,o,Es,rc,Lu,Ja,2,-0,0),S);break e}qC(m,f,va,Hg,bb,o,Es,rc,Lu,Ja,0,-0,0)}}break}while(!0);Aa(a)}function Eb(a){va===null?va=a:va.push.apply(va,a)}function qC(a,o,f,m,A,S,I,z,X,ie,be,Te,he){var Ae=o.subtreeFlags;if((Ae&8192||(Ae&16785408)===16785408)&&(dh={stylesheets:null,count:0,unsuspend:Y8},VC(o),o=W8(),o!==null)){a.cancelPendingCommit=o(JC.bind(null,a,f,m,A,I,z,X,1,Te,he)),eo(a,S,I,!ie);return}JC(a,f,m,A,I,z,X,be,Te,he)}function f8(a){for(var o=a;;){var f=o.tag;if((f===0||f===11||f===15)&&o.flags&16384&&(f=o.updateQueue,f!==null&&(f=f.stores,f!==null)))for(var m=0;m<f.length;m++){var A=f[m],S=A.getSnapshot;A=A.value;try{if(!Qi(S(),A))return!1}catch{return!1}}if(f=o.child,o.subtreeFlags&16384&&f!==null)f.return=o,o=f;else{if(o===a)break;for(;o.sibling===null;){if(o.return===null||o.return===a)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function eo(a,o,f,m){o&=~Ab,o&=~rc,a.suspendedLanes|=o,a.pingedLanes&=~o,m&&(a.warmLanes|=o),m=a.expirationTimes;for(var A=o;0<A;){var S=31-gt(A),I=1<<S;m[S]=-1,A&=~I}f!==0&&Yn(a,f,o)}function Gg(){return Xn&6?!0:(ah(0),!1)}function Tb(){if($t!==null){if(kn===0)var a=$t.return;else a=$t,Ga=Zl=null,OA(a),ku=null,Ff=0,a=$t;for(;a!==null;)$C(a.alternate,a),a=a.return;$t=null}}function Fu(a,o){a.finishedWork=null,a.finishedLanes=0;var f=a.timeoutHandle;f!==-1&&(a.timeoutHandle=-1,I8(f)),f=a.cancelPendingCommit,f!==null&&(a.cancelPendingCommit=null,f()),Tb(),Cn=a,$t=f=Jo(a.current,null),Xt=o,kn=0,Zi=null,Ja=!1,Nu=Je(a,o),vb=!1,Lu=Es=Ab=rc=Zo=rr=0,va=rh=null,bb=!1,o&8&&(o|=o&32);var m=a.entangledLanes;if(m!==0)for(a=a.entanglements,m&=o;0<m;){var A=31-gt(m),S=1<<A;o|=a[A],m&=~S}return Za=o,mg(),f}function GC(a,o){Vt=null,V.H=ya,o===Nf?(o=oT(),kn=3):o===iT?(o=oT(),kn=4):kn=o===sC?8:o!==null&&typeof o=="object"&&typeof o.then=="function"?6:1,Zi=o,$t===null&&(rr=1,Dg(a,vs(o,a.current)))}function YC(){var a=V.H;return V.H=ya,a===null?ya:a}function KC(){var a=V.A;return V.A=u8,a}function Cb(){rr=4,Ja||(Xt&4194176)!==Xt&&_s.current!==null||(Nu=!0),!(Zo&134217727)&&!(rc&134217727)||Cn===null||eo(Cn,Xt,Es,!1)}function kb(a,o,f){var m=Xn;Xn|=2;var A=YC(),S=KC();(Cn!==a||Xt!==o)&&(Hg=null,Fu(a,o)),o=!1;var I=rr;e:do try{if(kn!==0&&$t!==null){var z=$t,X=Zi;switch(kn){case 8:Tb(),I=6;break e;case 3:case 2:case 6:_s.current===null&&(o=!0);var ie=kn;if(kn=0,Zi=null,zu(a,z,X,ie),f&&Nu){I=0;break e}break;default:ie=kn,kn=0,Zi=null,zu(a,z,X,ie)}}h8(),I=rr;break}catch(be){GC(a,be)}while(!0);return o&&a.shellSuspendCounter++,Ga=Zl=null,Xn=m,V.H=A,V.A=S,$t===null&&(Cn=null,Xt=0,mg()),I}function h8(){for(;$t!==null;)WC($t)}function p8(a,o){var f=Xn;Xn|=2;var m=YC(),A=KC();Cn!==a||Xt!==o?(Hg=null,Ug=At()+500,Fu(a,o)):Nu=Je(a,o);e:do try{if(kn!==0&&$t!==null){o=$t;var S=Zi;t:switch(kn){case 1:kn=0,Zi=null,zu(a,o,S,1);break;case 2:if(sT(S)){kn=0,Zi=null,QC(o);break}o=function(){kn===2&&Cn===a&&(kn=7),Aa(a)},S.then(o,o);break e;case 3:kn=7;break e;case 4:kn=5;break e;case 7:sT(S)?(kn=0,Zi=null,QC(o)):(kn=0,Zi=null,zu(a,o,S,7));break;case 5:var I=null;switch($t.tag){case 26:I=$t.memoizedState;case 5:case 27:var z=$t;if(!I||Ek(I)){kn=0,Zi=null;var X=z.sibling;if(X!==null)$t=X;else{var ie=z.return;ie!==null?($t=ie,Yg(ie)):$t=null}break t}}kn=0,Zi=null,zu(a,o,S,5);break;case 6:kn=0,Zi=null,zu(a,o,S,6);break;case 8:Tb(),rr=6;break e;default:throw Error(r(462))}}g8();break}catch(be){GC(a,be)}while(!0);return Ga=Zl=null,V.H=m,V.A=A,Xn=f,$t!==null?0:(Cn=null,Xt=0,mg(),rr)}function g8(){for(;$t!==null&&!He();)WC($t)}function WC(a){var o=yC(a.alternate,a,Za);a.memoizedProps=a.pendingProps,o===null?Yg(a):$t=o}function QC(a){var o=a,f=o.alternate;switch(o.tag){case 15:case 0:o=dC(f,o,o.pendingProps,o.type,void 0,Xt);break;case 11:o=dC(f,o,o.pendingProps,o.type.render,o.ref,Xt);break;case 5:OA(o);default:$C(f,o),o=$t=LC(o,Za),o=yC(f,o,Za)}a.memoizedProps=a.pendingProps,o===null?Yg(a):$t=o}function zu(a,o,f,m){Ga=Zl=null,OA(o),ku=null,Ff=0;var A=o.return;try{if(r8(a,A,o,f,Xt)){rr=1,Dg(a,vs(f,a.current)),$t=null;return}}catch(S){if(A!==null)throw $t=A,S;rr=1,Dg(a,vs(f,a.current)),$t=null;return}o.flags&32768?(rn||m===1?a=!0:Nu||Xt&536870912?a=!1:(Ja=a=!0,(m===2||m===3||m===6)&&(m=_s.current,m!==null&&m.tag===13&&(m.flags|=16384))),XC(o,a)):Yg(o)}function Yg(a){var o=a;do{if(o.flags&32768){XC(o,Ja);return}a=o.return;var f=l8(o.alternate,o,Za);if(f!==null){$t=f;return}if(o=o.sibling,o!==null){$t=o;return}$t=o=a}while(o!==null);rr===0&&(rr=5)}function XC(a,o){do{var f=c8(a.alternate,a);if(f!==null){f.flags&=32767,$t=f;return}if(f=a.return,f!==null&&(f.flags|=32768,f.subtreeFlags=0,f.deletions=null),!o&&(a=a.sibling,a!==null)){$t=a;return}$t=a=f}while(a!==null);rr=6,$t=null}function JC(a,o,f,m,A,S,I,z,X,ie){var be=V.T,Te=F.p;try{F.p=2,V.T=null,m8(a,o,f,m,Te,A,S,I,z,X,ie)}finally{V.T=be,F.p=Te}}function m8(a,o,f,m,A,S,I,z){do $u();while(ic!==null);if(Xn&6)throw Error(r(327));var X=a.finishedWork;if(m=a.finishedLanes,X===null)return null;if(a.finishedWork=null,a.finishedLanes=0,X===a.current)throw Error(r(177));a.callbackNode=null,a.callbackPriority=0,a.cancelPendingCommit=null;var ie=X.lanes|X.childLanes;if(ie|=yA,ft(a,m,ie,S,I,z),a===Cn&&($t=Cn=null,Xt=0),!(X.subtreeFlags&10256)&&!(X.flags&10256)||qg||(qg=!0,Sb=ie,xb=f,b8(yt,function(){return $u(),null})),f=(X.flags&15990)!==0,X.subtreeFlags&15990||f?(f=V.T,V.T=null,S=F.p,F.p=2,I=Xn,Xn|=4,s8(a,X),OC(X,a),F6(Fb,a.containerInfo),sm=!!Lb,Fb=Lb=null,a.current=X,kC(a,X.alternate,X),Nn(),Xn=I,F.p=S,V.T=f):a.current=X,qg?(qg=!1,ic=a,ih=m):ZC(a,ie),ie=a.pendingLanes,ie===0&&(el=null),Ln(X.stateNode),Aa(a),o!==null)for(A=a.onRecoverableError,X=0;X<o.length;X++)ie=o[X],A(ie.value,{componentStack:ie.stack});return ih&3&&$u(),ie=a.pendingLanes,m&4194218&&ie&42?a===wb?sh++:(sh=0,wb=a):sh=0,ah(0),null}function ZC(a,o){(a.pooledCacheLanes&=o)===0&&(o=a.pooledCache,o!=null&&(a.pooledCache=null,$f(o)))}function $u(){if(ic!==null){var a=ic,o=Sb;Sb=0;var f=li(ih),m=V.T,A=F.p;try{if(F.p=32>f?32:f,V.T=null,ic===null)var S=!1;else{f=xb,xb=null;var I=ic,z=ih;if(ic=null,ih=0,Xn&6)throw Error(r(331));var X=Xn;if(Xn|=4,BC(I.current),PC(I,I.current,z,f),Xn=X,ah(0,!1),Lt&&typeof Lt.onPostCommitFiberRoot=="function")try{Lt.onPostCommitFiberRoot(kt,I)}catch{}S=!0}return S}finally{F.p=A,V.T=m,ZC(a,o)}}return!1}function ek(a,o,f){o=vs(f,o),o=GA(a.stateNode,o,2),a=Ko(a,o,2),a!==null&&(st(a,2),Aa(a))}function bn(a,o,f){if(a.tag===3)ek(a,a,f);else for(;o!==null;){if(o.tag===3){ek(o,a,f);break}else if(o.tag===1){var m=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof m.componentDidCatch=="function"&&(el===null||!el.has(m))){a=vs(f,a),f=rC(2),m=Ko(o,f,2),m!==null&&(iC(f,m,o,a),st(m,2),Aa(m));break}}o=o.return}}function Mb(a,o,f){var m=a.pingCache;if(m===null){m=a.pingCache=new d8;var A=new Set;m.set(o,A)}else A=m.get(o),A===void 0&&(A=new Set,m.set(o,A));A.has(f)||(vb=!0,A.add(f),a=y8.bind(null,a,o,f),o.then(a,a))}function y8(a,o,f){var m=a.pingCache;m!==null&&m.delete(o),a.pingedLanes|=a.suspendedLanes&f,a.warmLanes&=~f,Cn===a&&(Xt&f)===f&&(rr===4||rr===3&&(Xt&62914560)===Xt&&300>At()-_b?!(Xn&2)&&Fu(a,0):Ab|=f,Lu===Xt&&(Lu=0)),Aa(a)}function tk(a,o){o===0&&(o=oi()),a=Fo(a,o),a!==null&&(st(a,o),Aa(a))}function v8(a){var o=a.memoizedState,f=0;o!==null&&(f=o.retryLane),tk(a,f)}function A8(a,o){var f=0;switch(a.tag){case 13:var m=a.stateNode,A=a.memoizedState;A!==null&&(f=A.retryLane);break;case 19:m=a.stateNode;break;case 22:m=a.stateNode._retryCache;break;default:throw Error(r(314))}m!==null&&m.delete(o),tk(a,f)}function b8(a,o){return Jt(a,o)}var Kg=null,Uu=null,Rb=!1,Wg=!1,Ib=!1,sc=0;function Aa(a){a!==Uu&&a.next===null&&(Uu===null?Kg=Uu=a:Uu=Uu.next=a),Wg=!0,Rb||(Rb=!0,S8(_8))}function ah(a,o){if(!Ib&&Wg){Ib=!0;do for(var f=!1,m=Kg;m!==null;){if(a!==0){var A=m.pendingLanes;if(A===0)var S=0;else{var I=m.suspendedLanes,z=m.pingedLanes;S=(1<<31-gt(42|a)+1)-1,S&=A&~(I&~z),S=S&201326677?S&201326677|1:S?S|2:0}S!==0&&(f=!0,ik(m,S))}else S=Xt,S=Tn(m,m===Cn?S:0),!(S&3)||Je(m,S)||(f=!0,ik(m,S));m=m.next}while(f);Ib=!1}}function _8(){Wg=Rb=!1;var a=0;sc!==0&&(R8()&&(a=sc),sc=0);for(var o=At(),f=null,m=Kg;m!==null;){var A=m.next,S=nk(m,o);S===0?(m.next=null,f===null?Kg=A:f.next=A,A===null&&(Uu=f)):(f=m,(a!==0||S&3)&&(Wg=!0)),m=A}ah(a)}function nk(a,o){for(var f=a.suspendedLanes,m=a.pingedLanes,A=a.expirationTimes,S=a.pendingLanes&-62914561;0<S;){var I=31-gt(S),z=1<<I,X=A[I];X===-1?(!(z&f)||z&m)&&(A[I]=Mt(z,o)):X<=o&&(a.expiredLanes|=z),S&=~z}if(o=Cn,f=Xt,f=Tn(a,a===o?f:0),m=a.callbackNode,f===0||a===o&&kn===2||a.cancelPendingCommit!==null)return m!==null&&m!==null&&hn(m),a.callbackNode=null,a.callbackPriority=0;if(!(f&3)||Je(a,f)){if(o=f&-f,o===a.callbackPriority)return o;switch(m!==null&&hn(m),li(f)){case 2:case 8:f=rt;break;case 32:f=yt;break;case 268435456:f=xt;break;default:f=yt}return m=rk.bind(null,a),f=Jt(f,m),a.callbackPriority=o,a.callbackNode=f,o}return m!==null&&m!==null&&hn(m),a.callbackPriority=2,a.callbackNode=null,2}function rk(a,o){var f=a.callbackNode;if($u()&&a.callbackNode!==f)return null;var m=Xt;return m=Tn(a,a===Cn?m:0),m===0?null:(HC(a,m,o),nk(a,At()),a.callbackNode!=null&&a.callbackNode===f?rk.bind(null,a):null)}function ik(a,o){if($u())return null;HC(a,o,!0)}function S8(a){O8(function(){Xn&6?Jt(gn,a):a()})}function Ob(){return sc===0&&(sc=hr()),sc}function sk(a){return a==null||typeof a=="symbol"||typeof a=="boolean"?null:typeof a=="function"?a:yu(""+a)}function ak(a,o){var f=o.ownerDocument.createElement("input");return f.name=o.name,f.value=o.value,a.id&&f.setAttribute("form",a.id),o.parentNode.insertBefore(f,o),a=new FormData(a),f.parentNode.removeChild(f),a}function x8(a,o,f,m,A){if(o==="submit"&&f&&f.stateNode===A){var S=sk((A[tr]||null).action),I=m.submitter;I&&(o=(o=I[tr]||null)?sk(o.formAction):I.getAttribute("formAction"),o!==null&&(S=o,I=null));var z=new hg("action","action",null,m,A);a.push({event:z,listeners:[{instance:null,listener:function(){if(m.defaultPrevented){if(sc!==0){var X=I?ak(A,I):new FormData(A);zA(f,{pending:!0,data:X,method:A.method,action:S},null,X)}}else typeof S=="function"&&(z.preventDefault(),X=I?ak(A,I):new FormData(A),zA(f,{pending:!0,data:X,method:A.method,action:S},S,X))},currentTarget:A}]})}}for(var jb=0;jb<J2.length;jb++){var Pb=J2[jb],w8=Pb.toLowerCase(),E8=Pb[0].toUpperCase()+Pb.slice(1);Ws(w8,"on"+E8)}Ws(Y2,"onAnimationEnd"),Ws(K2,"onAnimationIteration"),Ws(W2,"onAnimationStart"),Ws("dblclick","onDoubleClick"),Ws("focusin","onFocus"),Ws("focusout","onBlur"),Ws($6,"onTransitionRun"),Ws(U6,"onTransitionStart"),Ws(H6,"onTransitionCancel"),Ws(Q2,"onTransitionEnd"),Ks("onMouseEnter",["mouseout","mouseover"]),Ks("onMouseLeave",["mouseout","mouseover"]),Ks("onPointerEnter",["pointerout","pointerover"]),Ks("onPointerLeave",["pointerout","pointerover"]),Fa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Fa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Fa("onBeforeInput",["compositionend","keypress","textInput","paste"]),Fa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Fa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Fa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var oh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),T8=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(oh));function ok(a,o){o=(o&4)!==0;for(var f=0;f<a.length;f++){var m=a[f],A=m.event;m=m.listeners;e:{var S=void 0;if(o)for(var I=m.length-1;0<=I;I--){var z=m[I],X=z.instance,ie=z.currentTarget;if(z=z.listener,X!==S&&A.isPropagationStopped())break e;S=z,A.currentTarget=ie;try{S(A)}catch(be){Vg(be)}A.currentTarget=null,S=X}else for(I=0;I<m.length;I++){if(z=m[I],X=z.instance,ie=z.currentTarget,z=z.listener,X!==S&&A.isPropagationStopped())break e;S=z,A.currentTarget=ie;try{S(A)}catch(be){Vg(be)}A.currentTarget=null,S=X}}}}function Gt(a,o){var f=o[Bo];f===void 0&&(f=o[Bo]=new Set);var m=a+"__bubble";f.has(m)||(lk(o,a,2,!1),f.add(m))}function Vb(a,o,f){var m=0;o&&(m|=4),lk(f,a,m,o)}var Qg="_reactListening"+Math.random().toString(36).slice(2);function Db(a){if(!a[Qg]){a[Qg]=!0,Sf.forEach(function(f){f!=="selectionchange"&&(T8.has(f)||Vb(f,!1,a),Vb(f,!0,a))});var o=a.nodeType===9?a:a.ownerDocument;o===null||o[Qg]||(o[Qg]=!0,Vb("selectionchange",!1,o))}}function lk(a,o,f,m){switch(Ik(o)){case 2:var A=J8;break;case 8:A=Z8;break;default:A=Wb}f=A.bind(null,o,f,a),A=void 0,!iA||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(A=!0),m?A!==void 0?a.addEventListener(o,f,{capture:!0,passive:A}):a.addEventListener(o,f,!0):A!==void 0?a.addEventListener(o,f,{passive:A}):a.addEventListener(o,f,!1)}function Bb(a,o,f,m,A){var S=m;if(!(o&1)&&!(o&2)&&m!==null)e:for(;;){if(m===null)return;var I=m.tag;if(I===3||I===4){var z=m.stateNode.containerInfo;if(z===A||z.nodeType===8&&z.parentNode===A)break;if(I===4)for(I=m.return;I!==null;){var X=I.tag;if((X===3||X===4)&&(X=I.stateNode.containerInfo,X===A||X.nodeType===8&&X.parentNode===A))return;I=I.return}for(;z!==null;){if(I=Yi(z),I===null)return;if(X=I.tag,X===5||X===6||X===26||X===27){m=S=I;continue e}z=z.parentNode}}m=m.return}x2(function(){var ie=S,be=vu(f),Te=[];e:{var he=X2.get(a);if(he!==void 0){var Ae=hg,Ze=a;switch(a){case"keypress":if(dg(f)===0)break e;case"keydown":case"keyup":Ae=A6;break;case"focusin":Ze="focus",Ae=lA;break;case"focusout":Ze="blur",Ae=lA;break;case"beforeblur":case"afterblur":Ae=lA;break;case"click":if(f.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ae=T2;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ae=o6;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ae=S6;break;case Y2:case K2:case W2:Ae=u6;break;case Q2:Ae=w6;break;case"scroll":case"scrollend":Ae=s6;break;case"wheel":Ae=T6;break;case"copy":case"cut":case"paste":Ae=f6;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ae=k2;break;case"toggle":case"beforetoggle":Ae=k6}var vt=(o&4)!==0,ir=!vt&&(a==="scroll"||a==="scrollend"),ce=vt?he!==null?he+"Capture":null:he;vt=[];for(var ne=ie,de;ne!==null;){var we=ne;if(de=we.stateNode,we=we.tag,we!==5&&we!==26&&we!==27||de===null||ce===null||(we=Tf(ne,ce),we!=null&&vt.push(lh(ne,we,de))),ir)break;ne=ne.return}0<vt.length&&(he=new Ae(he,Ze,null,f,be),Te.push({event:he,listeners:vt}))}}if(!(o&7)){e:{if(he=a==="mouseover"||a==="pointerover",Ae=a==="mouseout"||a==="pointerout",he&&f!==Ef&&(Ze=f.relatedTarget||f.fromElement)&&(Yi(Ze)||Ze[pa]))break e;if((Ae||he)&&(he=be.window===be?be:(he=be.ownerDocument)?he.defaultView||he.parentWindow:window,Ae?(Ze=f.relatedTarget||f.toElement,Ae=ie,Ze=Ze?Yi(Ze):null,Ze!==null&&(ir=Q(Ze),vt=Ze.tag,Ze!==ir||vt!==5&&vt!==27&&vt!==6)&&(Ze=null)):(Ae=null,Ze=ie),Ae!==Ze)){if(vt=T2,we="onMouseLeave",ce="onMouseEnter",ne="mouse",(a==="pointerout"||a==="pointerover")&&(vt=k2,we="onPointerLeave",ce="onPointerEnter",ne="pointer"),ir=Ae==null?he:Na(Ae),de=Ze==null?he:Na(Ze),he=new vt(we,ne+"leave",Ae,f,be),he.target=ir,he.relatedTarget=de,we=null,Yi(be)===ie&&(vt=new vt(ce,ne+"enter",Ze,f,be),vt.target=de,vt.relatedTarget=ir,we=vt),ir=we,Ae&&Ze)t:{for(vt=Ae,ce=Ze,ne=0,de=vt;de;de=Hu(de))ne++;for(de=0,we=ce;we;we=Hu(we))de++;for(;0<ne-de;)vt=Hu(vt),ne--;for(;0<de-ne;)ce=Hu(ce),de--;for(;ne--;){if(vt===ce||ce!==null&&vt===ce.alternate)break t;vt=Hu(vt),ce=Hu(ce)}vt=null}else vt=null;Ae!==null&&ck(Te,he,Ae,vt,!1),Ze!==null&&ir!==null&&ck(Te,ir,Ze,vt,!0)}}e:{if(he=ie?Na(ie):window,Ae=he.nodeName&&he.nodeName.toLowerCase(),Ae==="select"||Ae==="input"&&he.type==="file")var Ye=D2;else if(P2(he))if(B2)Ye=N6;else{Ye=D6;var Bt=V6}else Ae=he.nodeName,!Ae||Ae.toLowerCase()!=="input"||he.type!=="checkbox"&&he.type!=="radio"?ie&&xf(ie.elementType)&&(Ye=D2):Ye=B6;if(Ye&&(Ye=Ye(a,ie))){V2(Te,Ye,f,be);break e}Bt&&Bt(a,he,ie),a==="focusout"&&ie&&he.type==="number"&&ie.memoizedProps.value!=null&&Et(he,"number",he.value)}switch(Bt=ie?Na(ie):window,a){case"focusin":(P2(Bt)||Bt.contentEditable==="true")&&(Su=Bt,pA=ie,Pf=null);break;case"focusout":Pf=pA=Su=null;break;case"mousedown":gA=!0;break;case"contextmenu":case"mouseup":case"dragend":gA=!1,q2(Te,f,be);break;case"selectionchange":if(z6)break;case"keydown":case"keyup":q2(Te,f,be)}var it;if(uA)e:{switch(a){case"compositionstart":var ct="onCompositionStart";break e;case"compositionend":ct="onCompositionEnd";break e;case"compositionupdate":ct="onCompositionUpdate";break e}ct=void 0}else _u?O2(a,f)&&(ct="onCompositionEnd"):a==="keydown"&&f.keyCode===229&&(ct="onCompositionStart");ct&&(M2&&f.locale!=="ko"&&(_u||ct!=="onCompositionStart"?ct==="onCompositionEnd"&&_u&&(it=w2()):(Lo=be,sA="value"in Lo?Lo.value:Lo.textContent,_u=!0)),Bt=Xg(ie,ct),0<Bt.length&&(ct=new C2(ct,a,null,f,be),Te.push({event:ct,listeners:Bt}),it?ct.data=it:(it=j2(f),it!==null&&(ct.data=it)))),(it=R6?I6(a,f):O6(a,f))&&(ct=Xg(ie,"onBeforeInput"),0<ct.length&&(Bt=new C2("onBeforeInput","beforeinput",null,f,be),Te.push({event:Bt,listeners:ct}),Bt.data=it)),x8(Te,a,ie,f,be)}ok(Te,o)})}function lh(a,o,f){return{instance:a,listener:o,currentTarget:f}}function Xg(a,o){for(var f=o+"Capture",m=[];a!==null;){var A=a,S=A.stateNode;A=A.tag,A!==5&&A!==26&&A!==27||S===null||(A=Tf(a,f),A!=null&&m.unshift(lh(a,A,S)),A=Tf(a,o),A!=null&&m.push(lh(a,A,S))),a=a.return}return m}function Hu(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5&&a.tag!==27);return a||null}function ck(a,o,f,m,A){for(var S=o._reactName,I=[];f!==null&&f!==m;){var z=f,X=z.alternate,ie=z.stateNode;if(z=z.tag,X!==null&&X===m)break;z!==5&&z!==26&&z!==27||ie===null||(X=ie,A?(ie=Tf(f,S),ie!=null&&I.unshift(lh(f,ie,X))):A||(ie=Tf(f,S),ie!=null&&I.push(lh(f,ie,X)))),f=f.return}I.length!==0&&a.push({event:o,listeners:I})}var C8=/\r\n?/g,k8=/\u0000|\uFFFD/g;function uk(a){return(typeof a=="string"?a:""+a).replace(C8,`
`).replace(k8,"")}function dk(a,o){return o=uk(o),uk(a)===o}function Jg(){}function vn(a,o,f,m,A,S){switch(f){case"children":typeof m=="string"?o==="body"||o==="textarea"&&m===""||mn(a,m):(typeof m=="number"||typeof m=="bigint")&&o!=="body"&&mn(a,""+m);break;case"className":$(a,"class",m);break;case"tabIndex":$(a,"tabindex",m);break;case"dir":case"role":case"viewBox":case"width":case"height":$(a,f,m);break;case"style":mu(a,m,S);break;case"data":if(o!=="object"){$(a,"data",m);break}case"src":case"href":if(m===""&&(o!=="a"||f!=="href")){a.removeAttribute(f);break}if(m==null||typeof m=="function"||typeof m=="symbol"||typeof m=="boolean"){a.removeAttribute(f);break}m=yu(""+m),a.setAttribute(f,m);break;case"action":case"formAction":if(typeof m=="function"){a.setAttribute(f,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof S=="function"&&(f==="formAction"?(o!=="input"&&vn(a,o,"name",A.name,A,null),vn(a,o,"formEncType",A.formEncType,A,null),vn(a,o,"formMethod",A.formMethod,A,null),vn(a,o,"formTarget",A.formTarget,A,null)):(vn(a,o,"encType",A.encType,A,null),vn(a,o,"method",A.method,A,null),vn(a,o,"target",A.target,A,null)));if(m==null||typeof m=="symbol"||typeof m=="boolean"){a.removeAttribute(f);break}m=yu(""+m),a.setAttribute(f,m);break;case"onClick":m!=null&&(a.onclick=Jg);break;case"onScroll":m!=null&&Gt("scroll",a);break;case"onScrollEnd":m!=null&&Gt("scrollend",a);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(r(61));if(f=m.__html,f!=null){if(A.children!=null)throw Error(r(60));a.innerHTML=f}}break;case"multiple":a.multiple=m&&typeof m!="function"&&typeof m!="symbol";break;case"muted":a.muted=m&&typeof m!="function"&&typeof m!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(m==null||typeof m=="function"||typeof m=="boolean"||typeof m=="symbol"){a.removeAttribute("xlink:href");break}f=yu(""+m),a.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",f);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":m!=null&&typeof m!="function"&&typeof m!="symbol"?a.setAttribute(f,""+m):a.removeAttribute(f);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":m&&typeof m!="function"&&typeof m!="symbol"?a.setAttribute(f,""):a.removeAttribute(f);break;case"capture":case"download":m===!0?a.setAttribute(f,""):m!==!1&&m!=null&&typeof m!="function"&&typeof m!="symbol"?a.setAttribute(f,m):a.removeAttribute(f);break;case"cols":case"rows":case"size":case"span":m!=null&&typeof m!="function"&&typeof m!="symbol"&&!isNaN(m)&&1<=m?a.setAttribute(f,m):a.removeAttribute(f);break;case"rowSpan":case"start":m==null||typeof m=="function"||typeof m=="symbol"||isNaN(m)?a.removeAttribute(f):a.setAttribute(f,m);break;case"popover":Gt("beforetoggle",a),Gt("toggle",a),gu(a,"popover",m);break;case"xlinkActuate":Z(a,"http://www.w3.org/1999/xlink","xlink:actuate",m);break;case"xlinkArcrole":Z(a,"http://www.w3.org/1999/xlink","xlink:arcrole",m);break;case"xlinkRole":Z(a,"http://www.w3.org/1999/xlink","xlink:role",m);break;case"xlinkShow":Z(a,"http://www.w3.org/1999/xlink","xlink:show",m);break;case"xlinkTitle":Z(a,"http://www.w3.org/1999/xlink","xlink:title",m);break;case"xlinkType":Z(a,"http://www.w3.org/1999/xlink","xlink:type",m);break;case"xmlBase":Z(a,"http://www.w3.org/XML/1998/namespace","xml:base",m);break;case"xmlLang":Z(a,"http://www.w3.org/XML/1998/namespace","xml:lang",m);break;case"xmlSpace":Z(a,"http://www.w3.org/XML/1998/namespace","xml:space",m);break;case"is":gu(a,"is",m);break;case"innerText":case"textContent":break;default:(!(2<f.length)||f[0]!=="o"&&f[0]!=="O"||f[1]!=="n"&&f[1]!=="N")&&(f=wf.get(f)||f,gu(a,f,m))}}function Nb(a,o,f,m,A,S){switch(f){case"style":mu(a,m,S);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(r(61));if(f=m.__html,f!=null){if(A.children!=null)throw Error(r(60));a.innerHTML=f}}break;case"children":typeof m=="string"?mn(a,m):(typeof m=="number"||typeof m=="bigint")&&mn(a,""+m);break;case"onScroll":m!=null&&Gt("scroll",a);break;case"onScrollEnd":m!=null&&Gt("scrollend",a);break;case"onClick":m!=null&&(a.onclick=Jg);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!La.hasOwnProperty(f))e:{if(f[0]==="o"&&f[1]==="n"&&(A=f.endsWith("Capture"),o=f.slice(2,A?f.length-7:void 0),S=a[tr]||null,S=S!=null?S[f]:null,typeof S=="function"&&a.removeEventListener(o,S,A),typeof m=="function")){typeof S!="function"&&S!==null&&(f in a?a[f]=null:a.hasAttribute(f)&&a.removeAttribute(f)),a.addEventListener(o,m,A);break e}f in a?a[f]=m:m===!0?a.setAttribute(f,""):gu(a,f,m)}}}function Kr(a,o,f){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Gt("error",a),Gt("load",a);var m=!1,A=!1,S;for(S in f)if(f.hasOwnProperty(S)){var I=f[S];if(I!=null)switch(S){case"src":m=!0;break;case"srcSet":A=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,o));default:vn(a,o,S,I,f,null)}}A&&vn(a,o,"srcSet",f.srcSet,f,null),m&&vn(a,o,"src",f.src,f,null);return;case"input":Gt("invalid",a);var z=S=I=A=null,X=null,ie=null;for(m in f)if(f.hasOwnProperty(m)){var be=f[m];if(be!=null)switch(m){case"name":A=be;break;case"type":I=be;break;case"checked":X=be;break;case"defaultChecked":ie=be;break;case"value":S=be;break;case"defaultValue":z=be;break;case"children":case"dangerouslySetInnerHTML":if(be!=null)throw Error(r(137,o));break;default:vn(a,o,m,be,f,null)}}We(a,S,z,X,ie,I,A,!1),te(a);return;case"select":Gt("invalid",a),m=I=S=null;for(A in f)if(f.hasOwnProperty(A)&&(z=f[A],z!=null))switch(A){case"value":S=z;break;case"defaultValue":I=z;break;case"multiple":m=z;default:vn(a,o,A,z,f,null)}o=S,f=I,a.multiple=!!m,o!=null?zt(a,!!m,o,!1):f!=null&&zt(a,!!m,f,!0);return;case"textarea":Gt("invalid",a),S=A=m=null;for(I in f)if(f.hasOwnProperty(I)&&(z=f[I],z!=null))switch(I){case"value":m=z;break;case"defaultValue":A=z;break;case"children":S=z;break;case"dangerouslySetInnerHTML":if(z!=null)throw Error(r(91));break;default:vn(a,o,I,z,f,null)}Wn(a,m,A,S),te(a);return;case"option":for(X in f)if(f.hasOwnProperty(X)&&(m=f[X],m!=null))switch(X){case"selected":a.selected=m&&typeof m!="function"&&typeof m!="symbol";break;default:vn(a,o,X,m,f,null)}return;case"dialog":Gt("cancel",a),Gt("close",a);break;case"iframe":case"object":Gt("load",a);break;case"video":case"audio":for(m=0;m<oh.length;m++)Gt(oh[m],a);break;case"image":Gt("error",a),Gt("load",a);break;case"details":Gt("toggle",a);break;case"embed":case"source":case"link":Gt("error",a),Gt("load",a);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ie in f)if(f.hasOwnProperty(ie)&&(m=f[ie],m!=null))switch(ie){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,o));default:vn(a,o,ie,m,f,null)}return;default:if(xf(o)){for(be in f)f.hasOwnProperty(be)&&(m=f[be],m!==void 0&&Nb(a,o,be,m,f,void 0));return}}for(z in f)f.hasOwnProperty(z)&&(m=f[z],m!=null&&vn(a,o,z,m,f,null))}function M8(a,o,f,m){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var A=null,S=null,I=null,z=null,X=null,ie=null,be=null;for(Ae in f){var Te=f[Ae];if(f.hasOwnProperty(Ae)&&Te!=null)switch(Ae){case"checked":break;case"value":break;case"defaultValue":X=Te;default:m.hasOwnProperty(Ae)||vn(a,o,Ae,null,m,Te)}}for(var he in m){var Ae=m[he];if(Te=f[he],m.hasOwnProperty(he)&&(Ae!=null||Te!=null))switch(he){case"type":S=Ae;break;case"name":A=Ae;break;case"checked":ie=Ae;break;case"defaultChecked":be=Ae;break;case"value":I=Ae;break;case"defaultValue":z=Ae;break;case"children":case"dangerouslySetInnerHTML":if(Ae!=null)throw Error(r(137,o));break;default:Ae!==Te&&vn(a,o,he,Ae,m,Te)}}Pe(a,I,z,X,ie,be,S,A);return;case"select":Ae=I=z=he=null;for(S in f)if(X=f[S],f.hasOwnProperty(S)&&X!=null)switch(S){case"value":break;case"multiple":Ae=X;default:m.hasOwnProperty(S)||vn(a,o,S,null,m,X)}for(A in m)if(S=m[A],X=f[A],m.hasOwnProperty(A)&&(S!=null||X!=null))switch(A){case"value":he=S;break;case"defaultValue":z=S;break;case"multiple":I=S;default:S!==X&&vn(a,o,A,S,m,X)}o=z,f=I,m=Ae,he!=null?zt(a,!!f,he,!1):!!m!=!!f&&(o!=null?zt(a,!!f,o,!0):zt(a,!!f,f?[]:"",!1));return;case"textarea":Ae=he=null;for(z in f)if(A=f[z],f.hasOwnProperty(z)&&A!=null&&!m.hasOwnProperty(z))switch(z){case"value":break;case"children":break;default:vn(a,o,z,null,m,A)}for(I in m)if(A=m[I],S=f[I],m.hasOwnProperty(I)&&(A!=null||S!=null))switch(I){case"value":he=A;break;case"defaultValue":Ae=A;break;case"children":break;case"dangerouslySetInnerHTML":if(A!=null)throw Error(r(91));break;default:A!==S&&vn(a,o,I,A,m,S)}nn(a,he,Ae);return;case"option":for(var Ze in f)if(he=f[Ze],f.hasOwnProperty(Ze)&&he!=null&&!m.hasOwnProperty(Ze))switch(Ze){case"selected":a.selected=!1;break;default:vn(a,o,Ze,null,m,he)}for(X in m)if(he=m[X],Ae=f[X],m.hasOwnProperty(X)&&he!==Ae&&(he!=null||Ae!=null))switch(X){case"selected":a.selected=he&&typeof he!="function"&&typeof he!="symbol";break;default:vn(a,o,X,he,m,Ae)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var vt in f)he=f[vt],f.hasOwnProperty(vt)&&he!=null&&!m.hasOwnProperty(vt)&&vn(a,o,vt,null,m,he);for(ie in m)if(he=m[ie],Ae=f[ie],m.hasOwnProperty(ie)&&he!==Ae&&(he!=null||Ae!=null))switch(ie){case"children":case"dangerouslySetInnerHTML":if(he!=null)throw Error(r(137,o));break;default:vn(a,o,ie,he,m,Ae)}return;default:if(xf(o)){for(var ir in f)he=f[ir],f.hasOwnProperty(ir)&&he!==void 0&&!m.hasOwnProperty(ir)&&Nb(a,o,ir,void 0,m,he);for(be in m)he=m[be],Ae=f[be],!m.hasOwnProperty(be)||he===Ae||he===void 0&&Ae===void 0||Nb(a,o,be,he,m,Ae);return}}for(var ce in f)he=f[ce],f.hasOwnProperty(ce)&&he!=null&&!m.hasOwnProperty(ce)&&vn(a,o,ce,null,m,he);for(Te in m)he=m[Te],Ae=f[Te],!m.hasOwnProperty(Te)||he===Ae||he==null&&Ae==null||vn(a,o,Te,he,m,Ae)}var Lb=null,Fb=null;function Zg(a){return a.nodeType===9?a:a.ownerDocument}function fk(a){switch(a){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function hk(a,o){if(a===0)switch(o){case"svg":return 1;case"math":return 2;default:return 0}return a===1&&o==="foreignObject"?0:a}function zb(a,o){return a==="textarea"||a==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.children=="bigint"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var $b=null;function R8(){var a=window.event;return a&&a.type==="popstate"?a===$b?!1:($b=a,!0):($b=null,!1)}var pk=typeof setTimeout=="function"?setTimeout:void 0,I8=typeof clearTimeout=="function"?clearTimeout:void 0,gk=typeof Promise=="function"?Promise:void 0,O8=typeof queueMicrotask=="function"?queueMicrotask:typeof gk<"u"?function(a){return gk.resolve(null).then(a).catch(j8)}:pk;function j8(a){setTimeout(function(){throw a})}function Ub(a,o){var f=o,m=0;do{var A=f.nextSibling;if(a.removeChild(f),A&&A.nodeType===8)if(f=A.data,f==="/$"){if(m===0){a.removeChild(A),mh(o);return}m--}else f!=="$"&&f!=="$?"&&f!=="$!"||m++;f=A}while(f);mh(o)}function Hb(a){var o=a.firstChild;for(o&&o.nodeType===10&&(o=o.nextSibling);o;){var f=o;switch(o=o.nextSibling,f.nodeName){case"HTML":case"HEAD":case"BODY":Hb(f),bi(f);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(f.rel.toLowerCase()==="stylesheet")continue}a.removeChild(f)}}function P8(a,o,f,m){for(;a.nodeType===1;){var A=f;if(a.nodeName.toLowerCase()!==o.toLowerCase()){if(!m&&(a.nodeName!=="INPUT"||a.type!=="hidden"))break}else if(m){if(!a[Qt])switch(o){case"meta":if(!a.hasAttribute("itemprop"))break;return a;case"link":if(S=a.getAttribute("rel"),S==="stylesheet"&&a.hasAttribute("data-precedence"))break;if(S!==A.rel||a.getAttribute("href")!==(A.href==null?null:A.href)||a.getAttribute("crossorigin")!==(A.crossOrigin==null?null:A.crossOrigin)||a.getAttribute("title")!==(A.title==null?null:A.title))break;return a;case"style":if(a.hasAttribute("data-precedence"))break;return a;case"script":if(S=a.getAttribute("src"),(S!==(A.src==null?null:A.src)||a.getAttribute("type")!==(A.type==null?null:A.type)||a.getAttribute("crossorigin")!==(A.crossOrigin==null?null:A.crossOrigin))&&S&&a.hasAttribute("async")&&!a.hasAttribute("itemprop"))break;return a;default:return a}}else if(o==="input"&&a.type==="hidden"){var S=A.name==null?null:""+A.name;if(A.type==="hidden"&&a.getAttribute("name")===S)return a}else return a;if(a=Js(a.nextSibling),a===null)break}return null}function V8(a,o,f){if(o==="")return null;for(;a.nodeType!==3;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!f||(a=Js(a.nextSibling),a===null))return null;return a}function Js(a){for(;a!=null;a=a.nextSibling){var o=a.nodeType;if(o===1||o===3)break;if(o===8){if(o=a.data,o==="$"||o==="$!"||o==="$?"||o==="F!"||o==="F")break;if(o==="/$")return null}}return a}function mk(a){a=a.previousSibling;for(var o=0;a;){if(a.nodeType===8){var f=a.data;if(f==="$"||f==="$!"||f==="$?"){if(o===0)return a;o--}else f==="/$"&&o++}a=a.previousSibling}return null}function yk(a,o,f){switch(o=Zg(f),a){case"html":if(a=o.documentElement,!a)throw Error(r(452));return a;case"head":if(a=o.head,!a)throw Error(r(453));return a;case"body":if(a=o.body,!a)throw Error(r(454));return a;default:throw Error(r(451))}}var Ts=new Map,vk=new Set;function em(a){return typeof a.getRootNode=="function"?a.getRootNode():a.ownerDocument}var to=F.d;F.d={f:D8,r:B8,D:N8,C:L8,L:F8,m:z8,X:U8,S:$8,M:H8};function D8(){var a=to.f(),o=Gg();return a||o}function B8(a){var o=ji(a);o!==null&&o.tag===5&&o.type==="form"?qT(o):to.r(a)}var qu=typeof document>"u"?null:document;function Ak(a,o,f){var m=qu;if(m&&typeof o=="string"&&o){var A=Ce(o);A='link[rel="'+a+'"][href="'+A+'"]',typeof f=="string"&&(A+='[crossorigin="'+f+'"]'),vk.has(A)||(vk.add(A),a={rel:a,crossOrigin:f,href:o},m.querySelector(A)===null&&(o=m.createElement("link"),Kr(o,"link",a),Fn(o),m.head.appendChild(o)))}}function N8(a){to.D(a),Ak("dns-prefetch",a,null)}function L8(a,o){to.C(a,o),Ak("preconnect",a,o)}function F8(a,o,f){to.L(a,o,f);var m=qu;if(m&&a&&o){var A='link[rel="preload"][as="'+Ce(o)+'"]';o==="image"&&f&&f.imageSrcSet?(A+='[imagesrcset="'+Ce(f.imageSrcSet)+'"]',typeof f.imageSizes=="string"&&(A+='[imagesizes="'+Ce(f.imageSizes)+'"]')):A+='[href="'+Ce(a)+'"]';var S=A;switch(o){case"style":S=Gu(a);break;case"script":S=Yu(a)}Ts.has(S)||(a=C({rel:"preload",href:o==="image"&&f&&f.imageSrcSet?void 0:a,as:o},f),Ts.set(S,a),m.querySelector(A)!==null||o==="style"&&m.querySelector(ch(S))||o==="script"&&m.querySelector(uh(S))||(o=m.createElement("link"),Kr(o,"link",a),Fn(o),m.head.appendChild(o)))}}function z8(a,o){to.m(a,o);var f=qu;if(f&&a){var m=o&&typeof o.as=="string"?o.as:"script",A='link[rel="modulepreload"][as="'+Ce(m)+'"][href="'+Ce(a)+'"]',S=A;switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":S=Yu(a)}if(!Ts.has(S)&&(a=C({rel:"modulepreload",href:a},o),Ts.set(S,a),f.querySelector(A)===null)){switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(f.querySelector(uh(S)))return}m=f.createElement("link"),Kr(m,"link",a),Fn(m),f.head.appendChild(m)}}}function $8(a,o,f){to.S(a,o,f);var m=qu;if(m&&a){var A=Ki(m).hoistableStyles,S=Gu(a);o=o||"default";var I=A.get(S);if(!I){var z={loading:0,preload:null};if(I=m.querySelector(ch(S)))z.loading=5;else{a=C({rel:"stylesheet",href:a,"data-precedence":o},f),(f=Ts.get(S))&&qb(a,f);var X=I=m.createElement("link");Fn(X),Kr(X,"link",a),X._p=new Promise(function(ie,be){X.onload=ie,X.onerror=be}),X.addEventListener("load",function(){z.loading|=1}),X.addEventListener("error",function(){z.loading|=2}),z.loading|=4,tm(I,o,m)}I={type:"stylesheet",instance:I,count:1,state:z},A.set(S,I)}}}function U8(a,o){to.X(a,o);var f=qu;if(f&&a){var m=Ki(f).hoistableScripts,A=Yu(a),S=m.get(A);S||(S=f.querySelector(uh(A)),S||(a=C({src:a,async:!0},o),(o=Ts.get(A))&&Gb(a,o),S=f.createElement("script"),Fn(S),Kr(S,"link",a),f.head.appendChild(S)),S={type:"script",instance:S,count:1,state:null},m.set(A,S))}}function H8(a,o){to.M(a,o);var f=qu;if(f&&a){var m=Ki(f).hoistableScripts,A=Yu(a),S=m.get(A);S||(S=f.querySelector(uh(A)),S||(a=C({src:a,async:!0,type:"module"},o),(o=Ts.get(A))&&Gb(a,o),S=f.createElement("script"),Fn(S),Kr(S,"link",a),f.head.appendChild(S)),S={type:"script",instance:S,count:1,state:null},m.set(A,S))}}function bk(a,o,f,m){var A=(A=Fe.current)?em(A):null;if(!A)throw Error(r(446));switch(a){case"meta":case"title":return null;case"style":return typeof f.precedence=="string"&&typeof f.href=="string"?(o=Gu(f.href),f=Ki(A).hoistableStyles,m=f.get(o),m||(m={type:"style",instance:null,count:0,state:null},f.set(o,m)),m):{type:"void",instance:null,count:0,state:null};case"link":if(f.rel==="stylesheet"&&typeof f.href=="string"&&typeof f.precedence=="string"){a=Gu(f.href);var S=Ki(A).hoistableStyles,I=S.get(a);if(I||(A=A.ownerDocument||A,I={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},S.set(a,I),(S=A.querySelector(ch(a)))&&!S._p&&(I.instance=S,I.state.loading=5),Ts.has(a)||(f={rel:"preload",as:"style",href:f.href,crossOrigin:f.crossOrigin,integrity:f.integrity,media:f.media,hrefLang:f.hrefLang,referrerPolicy:f.referrerPolicy},Ts.set(a,f),S||q8(A,a,f,I.state))),o&&m===null)throw Error(r(528,""));return I}if(o&&m!==null)throw Error(r(529,""));return null;case"script":return o=f.async,f=f.src,typeof f=="string"&&o&&typeof o!="function"&&typeof o!="symbol"?(o=Yu(f),f=Ki(A).hoistableScripts,m=f.get(o),m||(m={type:"script",instance:null,count:0,state:null},f.set(o,m)),m):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,a))}}function Gu(a){return'href="'+Ce(a)+'"'}function ch(a){return'link[rel="stylesheet"]['+a+"]"}function _k(a){return C({},a,{"data-precedence":a.precedence,precedence:null})}function q8(a,o,f,m){a.querySelector('link[rel="preload"][as="style"]['+o+"]")?m.loading=1:(o=a.createElement("link"),m.preload=o,o.addEventListener("load",function(){return m.loading|=1}),o.addEventListener("error",function(){return m.loading|=2}),Kr(o,"link",f),Fn(o),a.head.appendChild(o))}function Yu(a){return'[src="'+Ce(a)+'"]'}function uh(a){return"script[async]"+a}function Sk(a,o,f){if(o.count++,o.instance===null)switch(o.type){case"style":var m=a.querySelector('style[data-href~="'+Ce(f.href)+'"]');if(m)return o.instance=m,Fn(m),m;var A=C({},f,{"data-href":f.href,"data-precedence":f.precedence,href:null,precedence:null});return m=(a.ownerDocument||a).createElement("style"),Fn(m),Kr(m,"style",A),tm(m,f.precedence,a),o.instance=m;case"stylesheet":A=Gu(f.href);var S=a.querySelector(ch(A));if(S)return o.state.loading|=4,o.instance=S,Fn(S),S;m=_k(f),(A=Ts.get(A))&&qb(m,A),S=(a.ownerDocument||a).createElement("link"),Fn(S);var I=S;return I._p=new Promise(function(z,X){I.onload=z,I.onerror=X}),Kr(S,"link",m),o.state.loading|=4,tm(S,f.precedence,a),o.instance=S;case"script":return S=Yu(f.src),(A=a.querySelector(uh(S)))?(o.instance=A,Fn(A),A):(m=f,(A=Ts.get(S))&&(m=C({},f),Gb(m,A)),a=a.ownerDocument||a,A=a.createElement("script"),Fn(A),Kr(A,"link",m),a.head.appendChild(A),o.instance=A);case"void":return null;default:throw Error(r(443,o.type))}else o.type==="stylesheet"&&!(o.state.loading&4)&&(m=o.instance,o.state.loading|=4,tm(m,f.precedence,a));return o.instance}function tm(a,o,f){for(var m=f.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),A=m.length?m[m.length-1]:null,S=A,I=0;I<m.length;I++){var z=m[I];if(z.dataset.precedence===o)S=z;else if(S!==A)break}S?S.parentNode.insertBefore(a,S.nextSibling):(o=f.nodeType===9?f.head:f,o.insertBefore(a,o.firstChild))}function qb(a,o){a.crossOrigin==null&&(a.crossOrigin=o.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=o.referrerPolicy),a.title==null&&(a.title=o.title)}function Gb(a,o){a.crossOrigin==null&&(a.crossOrigin=o.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=o.referrerPolicy),a.integrity==null&&(a.integrity=o.integrity)}var nm=null;function xk(a,o,f){if(nm===null){var m=new Map,A=nm=new Map;A.set(f,m)}else A=nm,m=A.get(f),m||(m=new Map,A.set(f,m));if(m.has(a))return m;for(m.set(a,null),f=f.getElementsByTagName(a),A=0;A<f.length;A++){var S=f[A];if(!(S[Qt]||S[bt]||a==="link"&&S.getAttribute("rel")==="stylesheet")&&S.namespaceURI!=="http://www.w3.org/2000/svg"){var I=S.getAttribute(o)||"";I=a+I;var z=m.get(I);z?z.push(S):m.set(I,[S])}}return m}function wk(a,o,f){a=a.ownerDocument||a,a.head.insertBefore(f,o==="title"?a.querySelector("head > title"):null)}function G8(a,o,f){if(f===1||o.itemProp!=null)return!1;switch(a){case"meta":case"title":return!0;case"style":if(typeof o.precedence!="string"||typeof o.href!="string"||o.href==="")break;return!0;case"link":if(typeof o.rel!="string"||typeof o.href!="string"||o.href===""||o.onLoad||o.onError)break;switch(o.rel){case"stylesheet":return a=o.disabled,typeof o.precedence=="string"&&a==null;default:return!0}case"script":if(o.async&&typeof o.async!="function"&&typeof o.async!="symbol"&&!o.onLoad&&!o.onError&&o.src&&typeof o.src=="string")return!0}return!1}function Ek(a){return!(a.type==="stylesheet"&&!(a.state.loading&3))}var dh=null;function Y8(){}function K8(a,o,f){if(dh===null)throw Error(r(475));var m=dh;if(o.type==="stylesheet"&&(typeof f.media!="string"||matchMedia(f.media).matches!==!1)&&!(o.state.loading&4)){if(o.instance===null){var A=Gu(f.href),S=a.querySelector(ch(A));if(S){a=S._p,a!==null&&typeof a=="object"&&typeof a.then=="function"&&(m.count++,m=rm.bind(m),a.then(m,m)),o.state.loading|=4,o.instance=S,Fn(S);return}S=a.ownerDocument||a,f=_k(f),(A=Ts.get(A))&&qb(f,A),S=S.createElement("link"),Fn(S);var I=S;I._p=new Promise(function(z,X){I.onload=z,I.onerror=X}),Kr(S,"link",f),o.instance=S}m.stylesheets===null&&(m.stylesheets=new Map),m.stylesheets.set(o,a),(a=o.state.preload)&&!(o.state.loading&3)&&(m.count++,o=rm.bind(m),a.addEventListener("load",o),a.addEventListener("error",o))}}function W8(){if(dh===null)throw Error(r(475));var a=dh;return a.stylesheets&&a.count===0&&Yb(a,a.stylesheets),0<a.count?function(o){var f=setTimeout(function(){if(a.stylesheets&&Yb(a,a.stylesheets),a.unsuspend){var m=a.unsuspend;a.unsuspend=null,m()}},6e4);return a.unsuspend=o,function(){a.unsuspend=null,clearTimeout(f)}}:null}function rm(){if(this.count--,this.count===0){if(this.stylesheets)Yb(this,this.stylesheets);else if(this.unsuspend){var a=this.unsuspend;this.unsuspend=null,a()}}}var im=null;function Yb(a,o){a.stylesheets=null,a.unsuspend!==null&&(a.count++,im=new Map,o.forEach(Q8,a),im=null,rm.call(a))}function Q8(a,o){if(!(o.state.loading&4)){var f=im.get(a);if(f)var m=f.get(null);else{f=new Map,im.set(a,f);for(var A=a.querySelectorAll("link[data-precedence],style[data-precedence]"),S=0;S<A.length;S++){var I=A[S];(I.nodeName==="LINK"||I.getAttribute("media")!=="not all")&&(f.set(I.dataset.precedence,I),m=I)}m&&f.set(null,m)}A=o.instance,I=A.getAttribute("data-precedence"),S=f.get(I)||m,S===m&&f.set(null,A),f.set(I,A),this.count++,m=rm.bind(this),A.addEventListener("load",m),A.addEventListener("error",m),S?S.parentNode.insertBefore(A,S.nextSibling):(a=a.nodeType===9?a.head:a,a.insertBefore(A,a.firstChild)),o.state.loading|=4}}var fh={$$typeof:v,Provider:null,Consumer:null,_currentValue:ge,_currentValue2:ge,_threadCount:0};function X8(a,o,f,m,A,S,I,z){this.tag=1,this.containerInfo=a,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=De(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=De(0),this.hiddenUpdates=De(null),this.identifierPrefix=m,this.onUncaughtError=A,this.onCaughtError=S,this.onRecoverableError=I,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=z,this.incompleteTransitions=new Map}function Tk(a,o,f,m,A,S,I,z,X,ie,be,Te){return a=new X8(a,o,f,I,z,X,ie,Te),o=1,S===!0&&(o|=24),S=ws(3,null,null,o),a.current=S,S.stateNode=a,o=EA(),o.refCount++,a.pooledCache=o,o.refCount++,S.memoizedState={element:m,isDehydrated:f,cache:o},sb(S),a}function Ck(a){return a?(a=Eu,a):Eu}function kk(a,o,f,m,A,S){A=Ck(A),m.context===null?m.context=A:m.pendingContext=A,m=Yo(o),m.payload={element:f},S=S===void 0?null:S,S!==null&&(m.callback=S),f=Ko(a,m,o),f!==null&&(Si(f,a,o),Wf(f,a,o))}function Mk(a,o){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var f=a.retryLane;a.retryLane=f!==0&&f<o?f:o}}function Kb(a,o){Mk(a,o),(a=a.alternate)&&Mk(a,o)}function Rk(a){if(a.tag===13){var o=Fo(a,67108864);o!==null&&Si(o,a,67108864),Kb(a,67108864)}}var sm=!0;function J8(a,o,f,m){var A=V.T;V.T=null;var S=F.p;try{F.p=2,Wb(a,o,f,m)}finally{F.p=S,V.T=A}}function Z8(a,o,f,m){var A=V.T;V.T=null;var S=F.p;try{F.p=8,Wb(a,o,f,m)}finally{F.p=S,V.T=A}}function Wb(a,o,f,m){if(sm){var A=Qb(m);if(A===null)Bb(a,o,m,am,f),Ok(a,m);else if(tF(A,a,o,f,m))m.stopPropagation();else if(Ok(a,m),o&4&&-1<eF.indexOf(a)){for(;A!==null;){var S=ji(A);if(S!==null)switch(S.tag){case 3:if(S=S.stateNode,S.current.memoizedState.isDehydrated){var I=Ft(S.pendingLanes);if(I!==0){var z=S;for(z.pendingLanes|=2,z.entangledLanes|=2;I;){var X=1<<31-gt(I);z.entanglements[1]|=X,I&=~X}Aa(S),!(Xn&6)&&(Ug=At()+500,ah(0))}}break;case 13:z=Fo(S,2),z!==null&&Si(z,S,2),Gg(),Kb(S,2)}if(S=Qb(m),S===null&&Bb(a,o,m,am,f),S===A)break;A=S}A!==null&&m.stopPropagation()}else Bb(a,o,m,null,f)}}function Qb(a){return a=vu(a),Xb(a)}var am=null;function Xb(a){if(am=null,a=Yi(a),a!==null){var o=Q(a);if(o===null)a=null;else{var f=o.tag;if(f===13){if(a=J(o),a!==null)return a;a=null}else if(f===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;a=null}else o!==a&&(a=null)}}return am=a,null}function Ik(a){switch(a){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(pn()){case gn:return 2;case rt:return 8;case yt:case dt:return 32;case xt:return 268435456;default:return 32}default:return 32}}var Jb=!1,tl=null,nl=null,rl=null,hh=new Map,ph=new Map,il=[],eF="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Ok(a,o){switch(a){case"focusin":case"focusout":tl=null;break;case"dragenter":case"dragleave":nl=null;break;case"mouseover":case"mouseout":rl=null;break;case"pointerover":case"pointerout":hh.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":ph.delete(o.pointerId)}}function gh(a,o,f,m,A,S){return a===null||a.nativeEvent!==S?(a={blockedOn:o,domEventName:f,eventSystemFlags:m,nativeEvent:S,targetContainers:[A]},o!==null&&(o=ji(o),o!==null&&Rk(o)),a):(a.eventSystemFlags|=m,o=a.targetContainers,A!==null&&o.indexOf(A)===-1&&o.push(A),a)}function tF(a,o,f,m,A){switch(o){case"focusin":return tl=gh(tl,a,o,f,m,A),!0;case"dragenter":return nl=gh(nl,a,o,f,m,A),!0;case"mouseover":return rl=gh(rl,a,o,f,m,A),!0;case"pointerover":var S=A.pointerId;return hh.set(S,gh(hh.get(S)||null,a,o,f,m,A)),!0;case"gotpointercapture":return S=A.pointerId,ph.set(S,gh(ph.get(S)||null,a,o,f,m,A)),!0}return!1}function jk(a){var o=Yi(a.target);if(o!==null){var f=Q(o);if(f!==null){if(o=f.tag,o===13){if(o=J(f),o!==null){a.blockedOn=o,Mr(a.priority,function(){if(f.tag===13){var m=es(),A=Fo(f,m);A!==null&&Si(A,f,m),Kb(f,m)}});return}}else if(o===3&&f.stateNode.current.memoizedState.isDehydrated){a.blockedOn=f.tag===3?f.stateNode.containerInfo:null;return}}}a.blockedOn=null}function om(a){if(a.blockedOn!==null)return!1;for(var o=a.targetContainers;0<o.length;){var f=Qb(a.nativeEvent);if(f===null){f=a.nativeEvent;var m=new f.constructor(f.type,f);Ef=m,f.target.dispatchEvent(m),Ef=null}else return o=ji(f),o!==null&&Rk(o),a.blockedOn=f,!1;o.shift()}return!0}function Pk(a,o,f){om(a)&&f.delete(o)}function nF(){Jb=!1,tl!==null&&om(tl)&&(tl=null),nl!==null&&om(nl)&&(nl=null),rl!==null&&om(rl)&&(rl=null),hh.forEach(Pk),ph.forEach(Pk)}function lm(a,o){a.blockedOn===o&&(a.blockedOn=null,Jb||(Jb=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,nF)))}var cm=null;function Vk(a){cm!==a&&(cm=a,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){cm===a&&(cm=null);for(var o=0;o<a.length;o+=3){var f=a[o],m=a[o+1],A=a[o+2];if(typeof m!="function"){if(Xb(m||f)===null)continue;break}var S=ji(f);S!==null&&(a.splice(o,3),o-=3,zA(S,{pending:!0,data:A,method:f.method,action:m},m,A))}}))}function mh(a){function o(X){return lm(X,a)}tl!==null&&lm(tl,a),nl!==null&&lm(nl,a),rl!==null&&lm(rl,a),hh.forEach(o),ph.forEach(o);for(var f=0;f<il.length;f++){var m=il[f];m.blockedOn===a&&(m.blockedOn=null)}for(;0<il.length&&(f=il[0],f.blockedOn===null);)jk(f),f.blockedOn===null&&il.shift();if(f=(a.ownerDocument||a).$$reactFormReplay,f!=null)for(m=0;m<f.length;m+=3){var A=f[m],S=f[m+1],I=A[tr]||null;if(typeof S=="function")I||Vk(f);else if(I){var z=null;if(S&&S.hasAttribute("formAction")){if(A=S,I=S[tr]||null)z=I.formAction;else if(Xb(A)!==null)continue}else z=I.action;typeof z=="function"?f[m+1]=z:(f.splice(m,3),m-=3),Vk(f)}}}function Zb(a){this._internalRoot=a}um.prototype.render=Zb.prototype.render=function(a){var o=this._internalRoot;if(o===null)throw Error(r(409));var f=o.current,m=es();kk(f,m,a,o,null,null)},um.prototype.unmount=Zb.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var o=a.containerInfo;a.tag===0&&$u(),kk(a.current,2,null,a,null,null),Gg(),o[pa]=null}};function um(a){this._internalRoot=a}um.prototype.unstable_scheduleHydration=function(a){if(a){var o=Ai();a={blockedOn:null,target:a,priority:o};for(var f=0;f<il.length&&o!==0&&o<il[f].priority;f++);il.splice(f,0,a),f===0&&jk(a)}};var Dk=t.version;if(Dk!=="19.0.0")throw Error(r(527,Dk,"19.0.0"));F.findDOMNode=function(a){var o=a._reactInternals;if(o===void 0)throw typeof a.render=="function"?Error(r(188)):(a=Object.keys(a).join(","),Error(r(268,a)));return a=G(o),a=a!==null?ee(a):null,a=a===null?null:a.stateNode,a};var rF={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:V,findFiberByHostInstance:Yi,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var dm=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!dm.isDisabled&&dm.supportsFiber)try{kt=dm.inject(rF),Lt=dm}catch{}}return Nh.createRoot=function(a,o){if(!i(a))throw Error(r(299));var f=!1,m="",A=ZT,S=eC,I=tC,z=null;return o!=null&&(o.unstable_strictMode===!0&&(f=!0),o.identifierPrefix!==void 0&&(m=o.identifierPrefix),o.onUncaughtError!==void 0&&(A=o.onUncaughtError),o.onCaughtError!==void 0&&(S=o.onCaughtError),o.onRecoverableError!==void 0&&(I=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(z=o.unstable_transitionCallbacks)),o=Tk(a,1,!1,null,null,f,m,A,S,I,z,null),a[pa]=o.current,Db(a.nodeType===8?a.parentNode:a),new Zb(o)},Nh.hydrateRoot=function(a,o,f){if(!i(a))throw Error(r(299));var m=!1,A="",S=ZT,I=eC,z=tC,X=null,ie=null;return f!=null&&(f.unstable_strictMode===!0&&(m=!0),f.identifierPrefix!==void 0&&(A=f.identifierPrefix),f.onUncaughtError!==void 0&&(S=f.onUncaughtError),f.onCaughtError!==void 0&&(I=f.onCaughtError),f.onRecoverableError!==void 0&&(z=f.onRecoverableError),f.unstable_transitionCallbacks!==void 0&&(X=f.unstable_transitionCallbacks),f.formState!==void 0&&(ie=f.formState)),o=Tk(a,1,!0,o,f??null,m,A,S,I,z,X,ie),o.context=Ck(null),f=o.current,m=es(),A=Yo(m),A.callback=null,Ko(f,A,m),o.current.lanes=m,st(o,m),Aa(o),a[pa]=o.current,Db(a),new um(o)},Nh.version="19.0.0",Nh}var wj;function v1e(){if(wj)return L_.exports;wj=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),L_.exports=y1e(),L_.exports}var A1e=v1e();cY({integrations:[sY({enableInp:!0}),dH({filterKeys:["allkaraoke-party-sentry-key"],behaviour:"apply-tag-if-contains-third-party-frames"})],dsn:"https://66c6e940d24b4096a277f350571921bb@o366978.ingest.sentry.io/6174734",ignoreErrors:p1e,tracesSampleRate:ds()?0:.01,environment:ds()?"e2e":"production",tunnel:"/stry-tunnel"});ds()||er.init("phc_bw7XLoONmtGVezmMKTvcwk3lj37jzxTfisqzjlJ0Jik",{api_host:"/ph-data",loaded:e=>{let t=at.local.getItem("posthog-user-id");t||(t=b0(),at.local.setItem("posthog-user-id",t)),e.identify(t);let n=at.local.getItem("posthog-user-name");if(!n){const r=[...new Set(Xh.artists.flatMap(i=>W4(i).split("-")))].filter(i=>i.length<=10);n=new Array(ca(3,5)).fill(0).map(()=>r[ca(0,r.length-1)]).join("-"),at.local.setItem("posthog-user-name",n),e.alias(n,t)}a9({id:t})}});const b1e=xD({key:"ec",speedy:!sL}),_1e=document.getElementById("root"),S1e=A1e.createRoot(_1e);S1e.render(g.jsxs(mJ,{value:b1e,children:[g.jsx(h1e,{}),g.jsx(nX,{position:"bottom-left",theme:"colored",limit:3})]}));export{tL as $,Ii as A,mi as B,mJ as C,eg as D,dae as E,BB as F,Xe as G,S0 as H,PE as I,wo as J,yi as K,Wt as L,Bn as M,Gv as N,qt as O,Ot as P,qs as Q,a0 as R,fs as S,Po as T,vi as U,$0 as V,Nv as W,CE as X,kE as Y,Rp as Z,NB as _,Lre as a,ppe as a$,VE as a0,Tx as a1,FB as a2,jE as a3,jre as a4,C0 as a5,I1e as a6,Yc as a7,DE as a8,Ire as a9,_f as aA,Vc as aB,Py as aC,Ehe as aD,The as aE,$K as aF,El as aG,xp as aH,z0 as aI,bhe as aJ,yhe as aK,ghe as aL,She as aM,Ci as aN,ff as aO,pAe as aP,Vl as aQ,Oi as aR,Ll as aS,Mv as aT,Are as aU,Uv as aV,Ppe as aW,yf as aX,Nse as aY,JN as aZ,$he as a_,Kc as aa,Rre as ab,bE as ac,qhe as ad,pO as ae,rpe as af,R1e as ag,Zse as ah,Cre as ai,Hhe as aj,sa as ak,Rd as al,AE as am,HI as an,W as ao,dO as ap,ZE as aq,j5 as ar,wa as as,un as at,bx as au,P1e as av,Vre as aw,gB as ax,lt as ay,xX as az,Bre as b,U1 as b0,NE as b1,upe as b2,A_ as b3,bpe as b4,FI as b5,lu as b6,ou as b7,bde as b8,ice as b9,Ope as ba,Ooe as bb,Ioe as bc,rL as bd,B0 as be,oa as bf,gs as bg,u2 as bh,V1e as bi,jpe as bj,er as bk,ohe as bl,JW as c,xD as d,BX as e,Vie as f,zw as g,Wc as h,SB as i,g as j,Oie as k,Nt as l,Nre as m,Yie as n,k0 as o,_B as p,_x as q,x as r,at as s,EE as t,Cl as u,Io as v,M1e as w,xE as x,Ui as y,k1e as z};
//# sourceMappingURL=index-CMup_3Ma.js.map
