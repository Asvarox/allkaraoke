var yD=Object.defineProperty;var vD=(e,t,n)=>t in e?yD(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var ve=(e,t,n)=>vD(e,typeof t!="symbol"?t+"":t,n);function AD(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(e,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var ha=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ar(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function bD(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var i=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return e[r]}})}),n}var EM={exports:{}},N0={},CM={exports:{}},ct={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rh=Symbol.for("react.element"),_D=Symbol.for("react.portal"),SD=Symbol.for("react.fragment"),xD=Symbol.for("react.strict_mode"),wD=Symbol.for("react.profiler"),ED=Symbol.for("react.provider"),CD=Symbol.for("react.context"),kD=Symbol.for("react.forward_ref"),TD=Symbol.for("react.suspense"),ID=Symbol.for("react.memo"),PD=Symbol.for("react.lazy"),QE=Symbol.iterator;function RD(e){return e===null||typeof e!="object"?null:(e=QE&&e[QE]||e["@@iterator"],typeof e=="function"?e:null)}var kM={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},TM=Object.assign,IM={};function Zu(e,t,n){this.props=e,this.context=t,this.refs=IM,this.updater=n||kM}Zu.prototype.isReactComponent={};Zu.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Zu.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function PM(){}PM.prototype=Zu.prototype;function kS(e,t,n){this.props=e,this.context=t,this.refs=IM,this.updater=n||kM}var TS=kS.prototype=new PM;TS.constructor=kS;TM(TS,Zu.prototype);TS.isPureReactComponent=!0;var JE=Array.isArray,RM=Object.prototype.hasOwnProperty,IS={current:null},MM={key:!0,ref:!0,__self:!0,__source:!0};function jM(e,t,n){var r,i={},s=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(s=""+t.key),t)RM.call(t,r)&&!MM.hasOwnProperty(r)&&(i[r]=t[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Rh,type:e,key:s,ref:o,props:i,_owner:IS.current}}function MD(e,t){return{$$typeof:Rh,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function PS(e){return typeof e=="object"&&e!==null&&e.$$typeof===Rh}function jD(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var XE=/\/+/g;function Cv(e,t){return typeof e=="object"&&e!==null&&e.key!=null?jD(""+e.key):t.toString(36)}function wg(e,t,n,r,i){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Rh:case _D:o=!0}}if(o)return o=e,i=i(o),e=r===""?"."+Cv(o,0):r,JE(i)?(n="",e!=null&&(n=e.replace(XE,"$&/")+"/"),wg(i,t,n,"",function(c){return c})):i!=null&&(PS(i)&&(i=MD(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(XE,"$&/")+"/")+e)),t.push(i)),1;if(o=0,r=r===""?".":r+":",JE(e))for(var a=0;a<e.length;a++){s=e[a];var l=r+Cv(s,a);o+=wg(s,t,n,l,i)}else if(l=RD(e),typeof l=="function")for(e=l.call(e),a=0;!(s=e.next()).done;)s=s.value,l=r+Cv(s,a++),o+=wg(s,t,n,l,i);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function fp(e,t,n){if(e==null)return e;var r=[],i=0;return wg(e,r,"","",function(s){return t.call(n,s,i++)}),r}function OD(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Gr={current:null},Eg={transition:null},VD={ReactCurrentDispatcher:Gr,ReactCurrentBatchConfig:Eg,ReactCurrentOwner:IS};ct.Children={map:fp,forEach:function(e,t,n){fp(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return fp(e,function(){t++}),t},toArray:function(e){return fp(e,function(t){return t})||[]},only:function(e){if(!PS(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ct.Component=Zu;ct.Fragment=SD;ct.Profiler=wD;ct.PureComponent=kS;ct.StrictMode=xD;ct.Suspense=TD;ct.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=VD;ct.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=TM({},e.props),i=e.key,s=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,o=IS.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(l in t)RM.call(t,l)&&!MM.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&a!==void 0?a[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:Rh,type:e.type,key:i,ref:s,props:r,_owner:o}};ct.createContext=function(e){return e={$$typeof:CD,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:ED,_context:e},e.Consumer=e};ct.createElement=jM;ct.createFactory=function(e){var t=jM.bind(null,e);return t.type=e,t};ct.createRef=function(){return{current:null}};ct.forwardRef=function(e){return{$$typeof:kD,render:e}};ct.isValidElement=PS;ct.lazy=function(e){return{$$typeof:PD,_payload:{_status:-1,_result:e},_init:OD}};ct.memo=function(e,t){return{$$typeof:ID,type:e,compare:t===void 0?null:t}};ct.startTransition=function(e){var t=Eg.transition;Eg.transition={};try{e()}finally{Eg.transition=t}};ct.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};ct.useCallback=function(e,t){return Gr.current.useCallback(e,t)};ct.useContext=function(e){return Gr.current.useContext(e)};ct.useDebugValue=function(){};ct.useDeferredValue=function(e){return Gr.current.useDeferredValue(e)};ct.useEffect=function(e,t){return Gr.current.useEffect(e,t)};ct.useId=function(){return Gr.current.useId()};ct.useImperativeHandle=function(e,t,n){return Gr.current.useImperativeHandle(e,t,n)};ct.useInsertionEffect=function(e,t){return Gr.current.useInsertionEffect(e,t)};ct.useLayoutEffect=function(e,t){return Gr.current.useLayoutEffect(e,t)};ct.useMemo=function(e,t){return Gr.current.useMemo(e,t)};ct.useReducer=function(e,t,n){return Gr.current.useReducer(e,t,n)};ct.useRef=function(e){return Gr.current.useRef(e)};ct.useState=function(e){return Gr.current.useState(e)};ct.useSyncExternalStore=function(e,t,n){return Gr.current.useSyncExternalStore(e,t,n)};ct.useTransition=function(){return Gr.current.useTransition()};ct.version="18.2.0";CM.exports=ct;var A=CM.exports;const Ie=Ar(A),lm=AD({__proto__:null,default:Ie},[A]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var LD=A,ND=Symbol.for("react.element"),BD=Symbol.for("react.fragment"),DD=Object.prototype.hasOwnProperty,$D=LD.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,FD={key:!0,ref:!0,__self:!0,__source:!0};function OM(e,t,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)DD.call(t,r)&&!FD.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:ND,type:e,key:s,ref:o,props:i,_owner:$D.current}}N0.Fragment=BD;N0.jsx=OM;N0.jsxs=OM;EM.exports=N0;var f=EM.exports;class zs{constructor(){this.listeners=[],this.onUpdate=(...t)=>{this.listeners.forEach(n=>n(...t))},this.addListener=t=>(this.listeners.push(t),()=>{this.removeListener(t)}),this.removeListener=t=>{this.listeners=this.listeners.filter(n=>n!==t)},this.clearAllListeners=()=>{console.log("clearing all listeners"),this.listeners=[]}}}const v1=e=>({setItem:(t,n)=>{e.setItem(t,JSON.stringify(n))},getItem:t=>{const n=e.getItem(t);if(n===null)return null;try{return JSON.parse(n)}catch{return n}},removeItem:t=>{e.removeItem(t)},clear:()=>{e.clear()},keys:()=>{const t=[];for(let n=0,r=e.length;n<r;++n)t.push(e.key(n));return t}});class A1{constructor(){this.store={}}setItem(t,n){this.store[t]=n}getItem(t){const n=this.store[t];return n===void 0?null:n}removeItem(t){delete this.store[t]}get length(){return Object.keys(this.store).length}keys(){return Object.keys(this.store)}key(t){return Object.keys(this.store)[t]}clear(){this.store={}}}const ZE=v1((global==null?void 0:global.localStorage)??new A1),Le={...ZE,local:ZE,session:v1((global==null?void 0:global.sessionStorage)??new A1),memory:v1(new A1)},b1="CAMERA_GRANT_KEY",eC=Le.local.getItem(b1);class zD extends zs{constructor(){super(),this.stream=null,this.recorder=null,this.videoData=[],this.permissionGranted=eC!==null?JSON.parse(eC):null,this.requestPermissions=async()=>{try{this.stream=await navigator.mediaDevices.getUserMedia({video:!0}),this.permissionGranted=!0,await this.stopRecord()}catch{this.permissionGranted=!1}return Le.local.setItem(b1,JSON.stringify(this.permissionGranted)),this.onUpdate(this.permissionGranted),this.permissionGranted},this.disable=()=>{this.permissionGranted=!1,Le.local.setItem(b1,JSON.stringify(this.permissionGranted)),this.onUpdate(this.permissionGranted)},this.startRecord=async()=>{if(this.permissionGranted)try{this.stream=await navigator.mediaDevices.getUserMedia({video:{frameRate:2}});const t=this.stream.getVideoTracks()[0].getSettings();this.video.width=t.width??this.video.width,this.video.height=t.height??this.video.height,this.canvas.width=this.video.width,this.canvas.height=this.video.height,this.video.srcObject=this.stream,await this.video.play(),this.recorder=new MediaRecorder(this.stream,{mimeType:"video/webm"}),this.recorder.ondataavailable=n=>{this.videoData.push(n.data)},this.recorder.start()}catch(t){console.warn(t)}},this.getVideo=()=>{const t=new Blob(this.videoData,{type:"video/webm"});return URL.createObjectURL(t)},this.stopRecord=async()=>{var t,n;this.permissionGranted&&((t=this.recorder)==null||t.stop(),(n=this.stream)==null||n.getTracks().forEach(r=>r.stop()))},this.clearData=()=>{this.videoData.length=0},this.restartRecord=async()=>{await this.stopRecord(),await this.clearData(),await this.startRecord()},this.getPermissionStatus=()=>this.permissionGranted,this.video=document.createElement("video"),this.video.width=480,this.video.height=this.video.width*(9/16),this.canvas=document.createElement("canvas"),this.canvas.width=this.video.width,this.canvas.height=this.video.height}}const Is=new zD,J=typeof window<"u"?window:void 0,ei=typeof globalThis<"u"?globalThis:J,VM=Array.prototype,tC=VM.forEach,nC=VM.indexOf,bi=ei==null?void 0:ei.navigator,we=ei==null?void 0:ei.document,Xr=ei==null?void 0:ei.location,RS=ei==null?void 0:ei.fetch,MS=ei!=null&&ei.XMLHttpRequest&&"withCredentials"in new ei.XMLHttpRequest?ei.XMLHttpRequest:void 0,rC=ei==null?void 0:ei.AbortController,er=bi==null?void 0:bi.userAgent,tt=J??{},ra={DEBUG:!1,LIB_VERSION:"1.180.1"},UD=Array.isArray,LM=Object.prototype,NM=LM.hasOwnProperty,B0=LM.toString,Wn=UD||function(e){return B0.call(e)==="[object Array]"},Xi=function(e){return typeof e=="function"},Rn=function(e){return e===Object(e)&&!Wn(e)},pf=function(e){if(Rn(e)){for(const t in e)if(NM.call(e,t))return!1;return!0}return!1},je=function(e){return e===void 0},kr=function(e){return B0.call(e)=="[object String]"},iC=function(e){return kr(e)&&e.trim().length===0},Ua=function(e){return e===null},Sn=function(e){return je(e)||Ua(e)},vi=function(e){return B0.call(e)=="[object Number]"},pa=function(e){return B0.call(e)==="[object Boolean]"},HD=e=>e instanceof FormData,sC="[PostHog.js]",ie={_log:function(e){if(J&&(ra.DEBUG||tt.POSTHOG_DEBUG)&&!je(J.console)&&J.console){const i="__rrweb_original__"in J.console[e]?J.console[e].__rrweb_original__:J.console[e];for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];i(sC,...n)}},info:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];ie._log("log",...t)},warn:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];ie._log("warn",...t)},error:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];ie._log("error",...t)},critical:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];console.error(sC,...t)},uninitializedWarning:e=>{ie.error(`You must initialize PostHog before calling ${e}`)}},oC=(e,t,n)=>{if(e.config.disable_external_dependency_loading)return ie.warn(`${t} was requested but loading of external scripts is disabled.`),n("Loading of external scripts is disabled");const r=()=>{if(!we)return n("document not found");const i=we.createElement("script");i.type="text/javascript",i.crossOrigin="anonymous",i.src=t,i.onload=a=>n(void 0,a),i.onerror=a=>n(a);const s=we.querySelectorAll("body > script");var o;s.length>0?(o=s[0].parentNode)===null||o===void 0||o.insertBefore(i,s[0]):we.body.appendChild(i)};we!=null&&we.body?r():we==null||we.addEventListener("DOMContentLoaded",r)};tt.__PosthogExtensions__=tt.__PosthogExtensions__||{},tt.__PosthogExtensions__.loadExternalDependency=(e,t,n)=>{let r=`/static/${t}.js?v=${e.version}`;t==="toolbar"&&(r=`${r}&t=${Math.floor(Date.now()/3e5)*3e5}`);const i=e.requestRouter.endpointFor("assets",r);oC(e,i,n)},tt.__PosthogExtensions__.loadSiteApp=(e,t,n)=>{const r=e.requestRouter.endpointFor("api",t);oC(e,r,n)};const cm={},D0=function(e){return e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")};function ou(e,t,n){if(Wn(e)){if(tC&&e.forEach===tC)e.forEach(t,n);else if("length"in e&&e.length===+e.length){for(let r=0,i=e.length;r<i;r++)if(r in e&&t.call(n,e[r],r)===cm)return}}}function Dt(e,t,n){if(!Sn(e)){if(Wn(e))return ou(e,t,n);if(HD(e)){for(const r of e.entries())if(t.call(n,r[1],r[0])===cm)return}else for(const r in e)if(NM.call(e,r)&&t.call(n,e[r],r)===cm)return}}const $r=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return ou(n,function(i){for(const s in i)i[s]!==void 0&&(e[s]=i[s])}),e};function ft(e,t){return e.indexOf(t)!==-1}function Cg(e){const t=Object.keys(e);let n=t.length;const r=new Array(n);for(;n--;)r[n]=[t[n],e[t[n]]];return r}const aC=function(e){try{return e()}catch{return}},GD=function(e){return function(){try{for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(this,n)}catch(i){ie.critical("Implementation error. Please turn on debug mode and open a ticket on https://app.posthog.com/home#panel=support%3Asupport%3A."),ie.critical(i)}}},um=function(e){const t={};return Dt(e,function(n,r){kr(n)&&n.length>0&&(t[r]=n)}),t},_1=function(e){return e.replace(/^\$/,"")};function qD(e,t){return function(n,r){const i=new Set;return function s(o,a){if(o!==Object(o))return r?r(o,a):o;if(i.has(o))return;let l;return i.add(o),Wn(o)?(l=[],ou(o,c=>{l.push(s(c))})):(l={},Dt(o,(c,u)=>{i.has(c)||(l[u]=s(c,u))})),l}(n)}(e,n=>kr(n)&&!Ua(t)?n.slice(0,t):n)}const WD=function(e){let t,n,r,i="",s=0;for(t=n=0,s=(e=(e+"").replace(/\r\n/g,`
`).replace(/\r/g,`
`)).length,r=0;r<s;r++){const o=e.charCodeAt(r);let a=null;o<128?n++:a=o>127&&o<2048?String.fromCharCode(o>>6|192,63&o|128):String.fromCharCode(o>>12|224,o>>6&63|128,63&o|128),Ua(a)||(n>t&&(i+=e.substring(t,n)),i+=a,t=n=r+1)}return n>t&&(i+=e.substring(t,e.length)),i},Eo=function(){function e(t){return t&&(t.preventDefault=e.preventDefault,t.stopPropagation=e.stopPropagation),t}return e.preventDefault=function(){this.returnValue=!1},e.stopPropagation=function(){this.cancelBubble=!0},function(t,n,r,i,s){if(t)if(t.addEventListener&&!i)t.addEventListener(n,r,!!s);else{const o="on"+n,a=t[o];t[o]=function(l,c,u){return function(d){if(!(d=d||e(J==null?void 0:J.event)))return;let h,p=!0;Xi(u)&&(h=u(d));const g=c.call(l,d);return h!==!1&&g!==!1||(p=!1),p}}(t,r,a)}else ie.error("No valid element provided to register_event")}}();function KD(e){const t=e==null?void 0:e.hostname;return!!kr(t)&&t.split(".").slice(-2).join(".")!=="herokuapp.com"}function BM(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return e[n]}let ks;(function(e){e.GZipJS="gzip-js",e.Base64="base64"})(ks||(ks={}));const DM="$people_distinct_id",Yd="__alias",Qd="__timers",lC="$autocapture_disabled_server_side",S1="$heatmaps_enabled_server_side",cC="$exception_capture_enabled_server_side",uC="$exception_capture_endpoint_suffix",dC="$web_vitals_enabled_server_side",fC="$dead_clicks_enabled_server_side",hC="$web_vitals_allowed_metrics",x1="$session_recording_enabled_server_side",pC="$console_log_recording_enabled_server_side",gC="$session_recording_network_payload_capture",mC="$session_recording_canvas_recording",yC="$replay_sample_rate",vC="$replay_minimum_duration",dm="$sesid",Jd="$session_is_sampled",hp="$session_recording_url_trigger_activated_session",pp="$session_recording_url_trigger_status",$c="$enabled_feature_flags",w1="$early_access_features",Fc="$stored_person_properties",ia="$stored_group_properties",E1="$surveys",gp="$surveys_activated",fm="$flag_call_reported",Ao="$user_state",C1="$client_session_props",k1="$capture_rate_limit",T1="$initial_campaign_params",I1="$initial_referrer_info",AC="$initial_person_info",hm="$epp",P1="__POSTHOG_TOOLBAR__",YD=[DM,Yd,"__cmpns",Qd,x1,S1,dm,$c,Ao,w1,ia,Fc,E1,fm,C1,k1,T1,I1,hm],kv="$active_feature_flags",mp="$override_feature_flags",bC="$feature_flag_payloads",_C=e=>{const t={};for(const[n,r]of Cg(e||{}))r&&(t[n]=r);return t};let QD=class{constructor(t){this.instance=t,this._override_warning=!1,this.featureFlagEventHandlers=[],this.reloadFeatureFlagsQueued=!1,this.reloadFeatureFlagsInAction=!1}getFlags(){return Object.keys(this.getFlagVariants())}getFlagVariants(){const t=this.instance.get_property($c),n=this.instance.get_property(mp);if(!n)return t||{};const r=$r({},t),i=Object.keys(n);for(let s=0;s<i.length;s++)r[i[s]]=n[i[s]];return this._override_warning||(ie.warn(" Overriding feature flags!",{enabledFlags:t,overriddenFlags:n,finalFlags:r}),this._override_warning=!0),r}getFlagPayloads(){return this.instance.get_property(bC)||{}}reloadFeatureFlags(){this.reloadFeatureFlagsQueued||(this.reloadFeatureFlagsQueued=!0,this._startReloadTimer())}setAnonymousDistinctId(t){this.$anon_distinct_id=t}setReloadingPaused(t){this.reloadFeatureFlagsInAction=t}resetRequestQueue(){this.reloadFeatureFlagsQueued=!1}_startReloadTimer(){this.reloadFeatureFlagsQueued&&!this.reloadFeatureFlagsInAction&&setTimeout(()=>{!this.reloadFeatureFlagsInAction&&this.reloadFeatureFlagsQueued&&(this.reloadFeatureFlagsQueued=!1,this._reloadFeatureFlagsRequest())},5)}_reloadFeatureFlagsRequest(){if(this.instance.config.advanced_disable_feature_flags)return;this.setReloadingPaused(!0);const t=this.instance.config.token,n=this.instance.get_property(Fc),r=this.instance.get_property(ia),i={token:t,distinct_id:this.instance.get_distinct_id(),groups:this.instance.getGroups(),$anon_distinct_id:this.$anon_distinct_id,person_properties:n,group_properties:r,disable_flags:this.instance.config.advanced_disable_feature_flags||void 0};this.instance._send_request({method:"POST",url:this.instance.requestRouter.endpointFor("api","/decide/?v=3"),data:i,compression:this.instance.config.disable_compression?void 0:ks.Base64,timeout:this.instance.config.feature_flag_request_timeout_ms,callback:s=>{var o;this.setReloadingPaused(!1);let a=!0;s.statusCode===200&&(this.$anon_distinct_id=void 0,a=!1),this.receivedFeatureFlags((o=s.json)!==null&&o!==void 0?o:{},a),this._startReloadTimer()}})}getFeatureFlag(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!(this.instance.decideEndpointWasHit||this.getFlags()&&this.getFlags().length>0))return void ie.warn('getFeatureFlag for key "'+t+`" failed. Feature flags didn't load in time.`);const r=this.getFlagVariants()[t],i=`${r}`,s=this.instance.get_property(fm)||{};var o;return!n.send_event&&"send_event"in n||t in s&&s[t].includes(i)||(Wn(s[t])?s[t].push(i):s[t]=[i],(o=this.instance.persistence)===null||o===void 0||o.register({[fm]:s}),this.instance.capture("$feature_flag_called",{$feature_flag:t,$feature_flag_response:r})),r}getFeatureFlagPayload(t){return this.getFlagPayloads()[t]}isFeatureEnabled(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.instance.decideEndpointWasHit||this.getFlags()&&this.getFlags().length>0)return!!this.getFeatureFlag(t,n);ie.warn('isFeatureEnabled for key "'+t+`" failed. Feature flags didn't load in time.`)}addFeatureFlagsHandler(t){this.featureFlagEventHandlers.push(t)}removeFeatureFlagsHandler(t){this.featureFlagEventHandlers=this.featureFlagEventHandlers.filter(n=>n!==t)}receivedFeatureFlags(t,n){if(!this.instance.persistence)return;this.instance.decideEndpointWasHit=!0;const r=this.getFlagVariants(),i=this.getFlagPayloads();(function(s,o){let a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},l=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const c=s.featureFlags,u=s.featureFlagPayloads;if(!c)return;if(Wn(c)){const p={};if(c)for(let g=0;g<c.length;g++)p[c[g]]=!0;return void(o&&o.register({[kv]:c,[$c]:p}))}let d=c,h=u;s.errorsWhileComputingFlags&&(d={...a,...d},h={...l,...h}),o&&o.register({[kv]:Object.keys(_C(d)),[$c]:d||{},[bC]:h||{}})})(t,this.instance.persistence,r,i),this._fireFeatureFlagsCallbacks(n)}override(t){let n=arguments.length>1&&arguments[1]!==void 0&&arguments[1];if(!this.instance.__loaded||!this.instance.persistence)return ie.uninitializedWarning("posthog.feature_flags.override");if(this._override_warning=n,t===!1)this.instance.persistence.unregister(mp);else if(Wn(t)){const r={};for(let i=0;i<t.length;i++)r[t[i]]=!0;this.instance.persistence.register({[mp]:r})}else this.instance.persistence.register({[mp]:t})}onFeatureFlags(t){if(this.addFeatureFlagsHandler(t),this.instance.decideEndpointWasHit){const{flags:n,flagVariants:r}=this._prepareFeatureFlagsForCallbacks();t(n,r)}return()=>this.removeFeatureFlagsHandler(t)}updateEarlyAccessFeatureEnrollment(t,n){var r;const i={[`$feature_enrollment/${t}`]:n};this.instance.capture("$feature_enrollment_update",{$feature_flag:t,$feature_enrollment:n,$set:i}),this.setPersonPropertiesForFlags(i,!1);const s={...this.getFlagVariants(),[t]:n};(r=this.instance.persistence)===null||r===void 0||r.register({[kv]:Object.keys(_C(s)),[$c]:s}),this._fireFeatureFlagsCallbacks()}getEarlyAccessFeatures(t){let n=arguments.length>1&&arguments[1]!==void 0&&arguments[1];const r=this.instance.get_property(w1);if(r&&!n)return t(r);this.instance._send_request({transport:"XHR",url:this.instance.requestRouter.endpointFor("api",`/api/early_access_features/?token=${this.instance.config.token}`),method:"GET",callback:i=>{var s;if(!i.json)return;const o=i.json.earlyAccessFeatures;return(s=this.instance.persistence)===null||s===void 0||s.register({[w1]:o}),t(o)}})}_prepareFeatureFlagsForCallbacks(){const t=this.getFlags(),n=this.getFlagVariants();return{flags:t.filter(r=>n[r]),flagVariants:Object.keys(n).filter(r=>n[r]).reduce((r,i)=>(r[i]=n[i],r),{})}}_fireFeatureFlagsCallbacks(t){const{flags:n,flagVariants:r}=this._prepareFeatureFlagsForCallbacks();this.featureFlagEventHandlers.forEach(i=>i(n,r,{errorsLoading:t}))}setPersonPropertiesForFlags(t){let n=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];const r=this.instance.get_property(Fc)||{};this.instance.register({[Fc]:{...r,...t}}),n&&this.instance.reloadFeatureFlags()}resetPersonPropertiesForFlags(){this.instance.unregister(Fc)}setGroupPropertiesForFlags(t){let n=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];const r=this.instance.get_property(ia)||{};Object.keys(r).length!==0&&Object.keys(r).forEach(i=>{r[i]={...r[i],...t[i]},delete t[i]}),this.instance.register({[ia]:{...r,...t}}),n&&this.instance.reloadFeatureFlags()}resetGroupPropertiesForFlags(t){if(t){const n=this.instance.get_property(ia)||{};this.instance.register({[ia]:{...n,[t]:{}}})}else this.instance.unregister(ia)}};/**
 * uuidv7: An experimental implementation of the proposed UUID Version 7
 *
 * @license Apache-2.0
 * @copyright 2021-2023 LiosK
 * @packageDocumentation
 *
 * from https://github.com/LiosK/uuidv7/blob/e501462ea3d23241de13192ceae726956f9b3b7d/src/index.ts
 */Math.trunc||(Math.trunc=function(e){return e<0?Math.ceil(e):Math.floor(e)}),Number.isInteger||(Number.isInteger=function(e){return vi(e)&&isFinite(e)&&Math.floor(e)===e});const SC="0123456789abcdef";let JD=class R1{constructor(t){if(this.bytes=t,t.length!==16)throw new TypeError("not 128-bit length")}static fromFieldsV7(t,n,r,i){if(!Number.isInteger(t)||!Number.isInteger(n)||!Number.isInteger(r)||!Number.isInteger(i)||t<0||n<0||r<0||i<0||t>0xffffffffffff||n>4095||r>1073741823||i>4294967295)throw new RangeError("invalid field value");const s=new Uint8Array(16);return s[0]=t/2**40,s[1]=t/2**32,s[2]=t/2**24,s[3]=t/65536,s[4]=t/256,s[5]=t,s[6]=112|n>>>8,s[7]=n,s[8]=128|r>>>24,s[9]=r>>>16,s[10]=r>>>8,s[11]=r,s[12]=i>>>24,s[13]=i>>>16,s[14]=i>>>8,s[15]=i,new R1(s)}toString(){let t="";for(let n=0;n<this.bytes.length;n++)t=t+SC.charAt(this.bytes[n]>>>4)+SC.charAt(15&this.bytes[n]),n!==3&&n!==5&&n!==7&&n!==9||(t+="-");if(t.length!==36)throw new Error("Invalid UUIDv7 was generated");return t}clone(){return new R1(this.bytes.slice(0))}equals(t){return this.compareTo(t)===0}compareTo(t){for(let n=0;n<16;n++){const r=this.bytes[n]-t.bytes[n];if(r!==0)return Math.sign(r)}return 0}},XD=class{constructor(){ve(this,"timestamp",0);ve(this,"counter",0);ve(this,"random",new ZD)}generate(){const t=this.generateOrAbort();if(je(t)){this.timestamp=0;const n=this.generateOrAbort();if(je(n))throw new Error("Could not generate UUID after timestamp reset");return n}return t}generateOrAbort(){const t=Date.now();if(t>this.timestamp)this.timestamp=t,this.resetCounter();else{if(!(t+1e4>this.timestamp))return;this.counter++,this.counter>4398046511103&&(this.timestamp++,this.resetCounter())}return JD.fromFieldsV7(this.timestamp,Math.trunc(this.counter/2**30),this.counter&2**30-1,this.random.nextUint32())}resetCounter(){this.counter=1024*this.random.nextUint32()+(1023&this.random.nextUint32())}},xC,$M=e=>{if(typeof UUIDV7_DENY_WEAK_RNG<"u"&&UUIDV7_DENY_WEAK_RNG)throw new Error("no cryptographically strong RNG available");for(let t=0;t<e.length;t++)e[t]=65536*Math.trunc(65536*Math.random())+Math.trunc(65536*Math.random());return e};J&&!je(J.crypto)&&crypto.getRandomValues&&($M=e=>crypto.getRandomValues(e));let ZD=class{constructor(){ve(this,"buffer",new Uint32Array(8));ve(this,"cursor",1/0)}nextUint32(){return this.cursor>=this.buffer.length&&($M(this.buffer),this.cursor=0),this.buffer[this.cursor++]}};const ga=()=>e$().toString(),e$=()=>(xC||(xC=new XD)).generate(),t$="Thu, 01 Jan 1970 00:00:00 GMT";let xd="";const n$=/[a-z0-9][a-z0-9-]+\.[a-z]{2,}$/i;function r$(e,t){if(t){let n=function(r){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:we;if(xd)return xd;if(!i||["localhost","127.0.0.1"].includes(r))return"";const s=r.split(".");let o=Math.min(s.length,8);const a="dmn_chk_"+ga(),l=new RegExp("(^|;)\\s*"+a+"=1");for(;!xd&&o--;){const c=s.slice(o).join("."),u=a+"=1;domain=."+c;i.cookie=u,l.test(i.cookie)&&(i.cookie=u+";expires="+t$,xd=c)}return xd}(e);if(!n){const r=(i=>{const s=i.match(n$);return s?s[0]:""})(e);r!==n&&ie.info("Warning: cookie subdomain discovery mismatch",r,n),n=r}return n?"; domain=."+n:""}return""}const Ro={is_supported:()=>!!we,error:function(e){ie.error("cookieStore error: "+e)},get:function(e){if(we){try{const t=e+"=",n=we.cookie.split(";").filter(r=>r.length);for(let r=0;r<n.length;r++){let i=n[r];for(;i.charAt(0)==" ";)i=i.substring(1,i.length);if(i.indexOf(t)===0)return decodeURIComponent(i.substring(t.length,i.length))}}catch{}return null}},parse:function(e){let t;try{t=JSON.parse(Ro.get(e))||{}}catch{}return t},set:function(e,t,n,r,i){if(we)try{let s="",o="";const a=r$(we.location.hostname,r);if(n){const c=new Date;c.setTime(c.getTime()+24*n*60*60*1e3),s="; expires="+c.toUTCString()}i&&(o="; secure");const l=e+"="+encodeURIComponent(JSON.stringify(t))+s+"; SameSite=Lax; path=/"+a+o;return l.length>3686.4&&ie.warn("cookieStore warning: large cookie, len="+l.length),we.cookie=l,l}catch{return}},remove:function(e,t){try{Ro.set(e,"",-1,t)}catch{return}}};let Tv=null;const qn={is_supported:function(){if(!Ua(Tv))return Tv;let e=!0;if(je(J))e=!1;else try{const t="__mplssupport__";qn.set(t,"xyz"),qn.get(t)!=='"xyz"'&&(e=!1),qn.remove(t)}catch{e=!1}return e||ie.error("localStorage unsupported; falling back to cookie store"),Tv=e,e},error:function(e){ie.error("localStorage error: "+e)},get:function(e){try{return J==null?void 0:J.localStorage.getItem(e)}catch(t){qn.error(t)}return null},parse:function(e){try{return JSON.parse(qn.get(e))||{}}catch{}return null},set:function(e,t){try{J==null||J.localStorage.setItem(e,JSON.stringify(t))}catch(n){qn.error(n)}},remove:function(e){try{J==null||J.localStorage.removeItem(e)}catch(t){qn.error(t)}}},i$=["distinct_id",dm,Jd,hm],yp={...qn,parse:function(e){try{let t={};try{t=Ro.parse(e)||{}}catch{}const n=$r(t,JSON.parse(qn.get(e)||"{}"));return qn.set(e,n),n}catch{}return null},set:function(e,t,n,r,i,s){try{qn.set(e,t,void 0,void 0,s);const o={};i$.forEach(a=>{t[a]&&(o[a]=t[a])}),Object.keys(o).length&&Ro.set(e,o,n,r,i,s)}catch(o){qn.error(o)}},remove:function(e,t){try{J==null||J.localStorage.removeItem(e),Ro.remove(e,t)}catch(n){qn.error(n)}}},vp={},s$={is_supported:function(){return!0},error:function(e){ie.error("memoryStorage error: "+e)},get:function(e){return vp[e]||null},parse:function(e){return vp[e]||null},set:function(e,t){vp[e]=t},remove:function(e){delete vp[e]}};let rl=null;const dr={is_supported:function(){if(!Ua(rl))return rl;if(rl=!0,je(J))rl=!1;else try{const e="__support__";dr.set(e,"xyz"),dr.get(e)!=='"xyz"'&&(rl=!1),dr.remove(e)}catch{rl=!1}return rl},error:function(e){ie.error("sessionStorage error: ",e)},get:function(e){try{return J==null?void 0:J.sessionStorage.getItem(e)}catch(t){dr.error(t)}return null},parse:function(e){try{return JSON.parse(dr.get(e))||null}catch{}return null},set:function(e,t){try{J==null||J.sessionStorage.setItem(e,JSON.stringify(t))}catch(n){dr.error(n)}},remove:function(e){try{J==null||J.sessionStorage.removeItem(e)}catch(t){dr.error(t)}}},o$=["localhost","127.0.0.1"],gf=e=>{const t=we==null?void 0:we.createElement("a");return je(t)?null:(t.href=e,t)},Eu=function(e,t){return!!function(n){try{new RegExp(n)}catch{return!1}return!0}(t)&&new RegExp(t).test(e)},a$=function(e){let t,n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"&";const i=[];return Dt(e,function(s,o){je(s)||je(o)||o==="undefined"||(t=encodeURIComponent((a=>a instanceof File)(s)?s.name:s.toString()),n=encodeURIComponent(o),i[i.length]=n+"="+t)}),i.join(r)},pm=function(e,t){const n=((e.split("#")[0]||"").split("?")[1]||"").split("&");let r;for(let i=0;i<n.length;i++){const s=n[i].split("=");if(s[0]===t){r=s;break}}if(!Wn(r)||r.length<2)return"";{let i=r[1];try{i=decodeURIComponent(i)}catch{ie.error("Skipping decoding for malformed query param: "+i)}return i.replace(/\+/g," ")}},gm=function(e,t){const n=e.match(new RegExp(t+"=([^&]*)"));return n?n[1]:null},ts="Mobile",mm="iOS",ro="Android",$f="Tablet",FM=ro+" "+$f,zM="iPad",UM="Apple",HM=UM+" Watch",Ff="Safari",Cu="BlackBerry",GM="Samsung",qM=GM+"Browser",WM=GM+" Internet",Sa="Chrome",l$=Sa+" OS",KM=Sa+" "+mm,jS="Internet Explorer",YM=jS+" "+ts,OS="Opera",c$=OS+" Mini",VS="Edge",QM="Microsoft "+VS,au="Firefox",JM=au+" "+mm,zf="Nintendo",Uf="PlayStation",lu="Xbox",XM=ro+" "+ts,ZM=ts+" "+Ff,Xd="Windows",M1=Xd+" Phone",wC="Nokia",j1="Ouya",e5="Generic",u$=e5+" "+ts.toLowerCase(),t5=e5+" "+$f.toLowerCase(),O1="Konqueror",Nr="(\\d+(\\.\\d+)?)",Iv=new RegExp("Version/"+Nr),d$=new RegExp(lu,"i"),f$=new RegExp(Uf+" \\w+","i"),h$=new RegExp(zf+" \\w+","i"),LS=new RegExp(Cu+"|PlayBook|BB10","i"),p$={"NT3.51":"NT 3.11","NT4.0":"NT 4.0","5.0":"2000",5.1:"XP",5.2:"XP","6.0":"Vista",6.1:"7",6.2:"8",6.3:"8.1",6.4:"10","10.0":"10"},g$=(e,t)=>t&&ft(t,UM)||function(n){return ft(n,Ff)&&!ft(n,Sa)&&!ft(n,ro)}(e),EC=function(e,t){return t=t||"",ft(e," OPR/")&&ft(e,"Mini")?c$:ft(e," OPR/")?OS:LS.test(e)?Cu:ft(e,"IE"+ts)||ft(e,"WPDesktop")?YM:ft(e,qM)?WM:ft(e,VS)||ft(e,"Edg/")?QM:ft(e,"FBIOS")?"Facebook "+ts:ft(e,"UCWEB")||ft(e,"UCBrowser")?"UC Browser":ft(e,"CriOS")?KM:ft(e,"CrMo")?Sa:ft(e,ro)&&ft(e,Ff)?XM:ft(e,Sa)?Sa:ft(e,"FxiOS")?JM:ft(e.toLowerCase(),O1.toLowerCase())?O1:g$(e,t)?ft(e,ts)?ZM:Ff:ft(e,au)?au:ft(e,"MSIE")||ft(e,"Trident/")?jS:ft(e,"Gecko")?au:""},m$={[YM]:[new RegExp("rv:"+Nr)],[QM]:[new RegExp(VS+"?\\/"+Nr)],[Sa]:[new RegExp("("+Sa+"|CrMo)\\/"+Nr)],[KM]:[new RegExp("CriOS\\/"+Nr)],"UC Browser":[new RegExp("(UCBrowser|UCWEB)\\/"+Nr)],[Ff]:[Iv],[ZM]:[Iv],[OS]:[new RegExp("(Opera|OPR)\\/"+Nr)],[au]:[new RegExp(au+"\\/"+Nr)],[JM]:[new RegExp("FxiOS\\/"+Nr)],[O1]:[new RegExp("Konqueror[:/]?"+Nr,"i")],[Cu]:[new RegExp(Cu+" "+Nr),Iv],[XM]:[new RegExp("android\\s"+Nr,"i")],[WM]:[new RegExp(qM+"\\/"+Nr)],[jS]:[new RegExp("(rv:|MSIE )"+Nr)],Mozilla:[new RegExp("rv:"+Nr)]},CC=[[new RegExp(lu+"; "+lu+" (.*?)[);]","i"),e=>[lu,e&&e[1]||""]],[new RegExp(zf,"i"),[zf,""]],[new RegExp(Uf,"i"),[Uf,""]],[LS,[Cu,""]],[new RegExp(Xd,"i"),(e,t)=>{if(/Phone/.test(t)||/WPDesktop/.test(t))return[M1,""];if(new RegExp(ts).test(t)&&!/IEMobile\b/.test(t))return[Xd+" "+ts,""];const n=/Windows NT ([0-9.]+)/i.exec(t);if(n&&n[1]){const r=n[1];let i=p$[r]||"";return/arm/i.test(t)&&(i="RT"),[Xd,i]}return[Xd,""]}],[/((iPhone|iPad|iPod).*?OS (\d+)_(\d+)_?(\d+)?|iPhone)/,e=>{if(e&&e[3]){const t=[e[3],e[4],e[5]||"0"];return[mm,t.join(".")]}return[mm,""]}],[/(watch.*\/(\d+\.\d+\.\d+)|watch os,(\d+\.\d+),)/i,e=>{let t="";return e&&e.length>=3&&(t=je(e[2])?e[3]:e[2]),["watchOS",t]}],[new RegExp("("+ro+" (\\d+)\\.(\\d+)\\.?(\\d+)?|"+ro+")","i"),e=>{if(e&&e[2]){const t=[e[2],e[3],e[4]||"0"];return[ro,t.join(".")]}return[ro,""]}],[/Mac OS X (\d+)[_.](\d+)[_.]?(\d+)?/i,e=>{const t=["Mac OS X",""];if(e&&e[1]){const n=[e[1],e[2],e[3]||"0"];t[1]=n.join(".")}return t}],[/Mac/i,["Mac OS X",""]],[/CrOS/,[l$,""]],[/Linux|debian/i,["Linux",""]]],kC=function(e){return h$.test(e)?zf:f$.test(e)?Uf:d$.test(e)?lu:new RegExp(j1,"i").test(e)?j1:new RegExp("("+M1+"|WPDesktop)","i").test(e)?M1:/iPad/.test(e)?zM:/iPod/.test(e)?"iPod Touch":/iPhone/.test(e)?"iPhone":/(watch)(?: ?os[,/]|\d,\d\/)[\d.]+/i.test(e)?HM:LS.test(e)?Cu:/(kobo)\s(ereader|touch)/i.test(e)?"Kobo":new RegExp(wC,"i").test(e)?wC:/(kf[a-z]{2}wi|aeo[c-r]{2})( bui|\))/i.test(e)||/(kf[a-z]+)( bui|\)).+silk\//i.test(e)?"Kindle Fire":/(Android|ZTE)/i.test(e)?!new RegExp(ts).test(e)||/(9138B|TB782B|Nexus [97]|pixel c|HUAWEISHT|BTV|noble nook|smart ultra 6)/i.test(e)?/pixel[\daxl ]{1,6}/i.test(e)&&!/pixel c/i.test(e)||/(huaweimed-al00|tah-|APA|SM-G92|i980|zte|U304AA)/i.test(e)||/lmy47v/i.test(e)&&!/QTAQZ3/i.test(e)?ro:FM:ro:new RegExp("(pda|"+ts+")","i").test(e)?u$:new RegExp($f,"i").test(e)&&!new RegExp($f+" pc","i").test(e)?t5:""},Ap="https?://(.*)",y$=["utm_source","utm_medium","utm_campaign","utm_content","utm_term","gclid","gad_source","gclsrc","dclid","gbraid","wbraid","fbclid","msclkid","twclid","li_fat_id","mc_cid","igshid","ttclid","rdt_cid"],Tn={campaignParams:function(e){return we?this._campaignParamsFromUrl(we.URL,e):{}},_campaignParamsFromUrl:function(e,t){const n=y$.concat(t||[]),r={};return Dt(n,function(i){const s=pm(e,i);r[i]=s||null}),r},_searchEngine:function(e){return e?e.search(Ap+"google.([^/?]*)")===0?"google":e.search(Ap+"bing.com")===0?"bing":e.search(Ap+"yahoo.com")===0?"yahoo":e.search(Ap+"duckduckgo.com")===0?"duckduckgo":null:null},_searchInfoFromReferrer:function(e){const t=Tn._searchEngine(e),n=t!="yahoo"?"q":"p",r={};if(!Ua(t)){r.$search_engine=t;const i=we?pm(we.referrer,n):"";i.length&&(r.ph_keyword=i)}return r},searchInfo:function(){const e=we==null?void 0:we.referrer;return e?this._searchInfoFromReferrer(e):{}},browser:EC,browserVersion:function(e,t){const n=EC(e,t),r=m$[n];if(je(r))return null;for(let i=0;i<r.length;i++){const s=r[i],o=e.match(s);if(o)return parseFloat(o[o.length-2])}return null},browserLanguage:function(){return navigator.language||navigator.userLanguage},os:function(e){for(let t=0;t<CC.length;t++){const[n,r]=CC[t],i=n.exec(e),s=i&&(Xi(r)?r(i,e):r);if(s)return s}return["",""]},device:kC,deviceType:function(e){const t=kC(e);return t===zM||t===FM||t==="Kobo"||t==="Kindle Fire"||t===t5?$f:t===zf||t===lu||t===Uf||t===j1?"Console":t===HM?"Wearable":t?ts:"Desktop"},referrer:function(){return(we==null?void 0:we.referrer)||"$direct"},referringDomain:function(){var e;return we!=null&&we.referrer&&((e=gf(we.referrer))===null||e===void 0?void 0:e.host)||"$direct"},referrerInfo:function(){return{$referrer:this.referrer(),$referring_domain:this.referringDomain()}},initialPersonInfo:function(){return{r:this.referrer(),u:Xr==null?void 0:Xr.href}},initialPersonPropsFromInfo:function(e){var t;const{r:n,u:r}=e,i={$initial_referrer:n,$initial_referring_domain:n==null?void 0:n=="$direct"?"$direct":(t=gf(n))===null||t===void 0?void 0:t.host};if(r){i.$initial_current_url=r;const s=gf(r);i.$initial_host=s==null?void 0:s.host,i.$initial_pathname=s==null?void 0:s.pathname,Dt(this._campaignParamsFromUrl(r),function(o,a){i["$initial_"+_1(a)]=o})}return n&&Dt(this._searchInfoFromReferrer(n),function(s,o){i["$initial_"+_1(o)]=s}),i},timezone:function(){try{return Intl.DateTimeFormat().resolvedOptions().timeZone}catch{return}},properties:function(){if(!er)return{};const[e,t]=Tn.os(er);return $r(um({$os:e,$os_version:t,$browser:Tn.browser(er,navigator.vendor),$device:Tn.device(er),$device_type:Tn.deviceType(er),$timezone:Tn.timezone()}),{$current_url:Xr==null?void 0:Xr.href,$host:Xr==null?void 0:Xr.host,$pathname:Xr==null?void 0:Xr.pathname,$raw_user_agent:er.length>1e3?er.substring(0,997)+"...":er,$browser_version:Tn.browserVersion(er,navigator.vendor),$browser_language:Tn.browserLanguage(),$screen_height:J==null?void 0:J.screen.height,$screen_width:J==null?void 0:J.screen.width,$viewport_height:J==null?void 0:J.innerHeight,$viewport_width:J==null?void 0:J.innerWidth,$lib:"web",$lib_version:ra.LIB_VERSION,$insert_id:Math.random().toString(36).substring(2,10)+Math.random().toString(36).substring(2,10),$time:Date.now()/1e3})},people_properties:function(){if(!er)return{};const[e,t]=Tn.os(er);return $r(um({$os:e,$os_version:t,$browser:Tn.browser(er,navigator.vendor)}),{$browser_version:Tn.browserVersion(er,navigator.vendor)})}},v$=["cookie","localstorage","localstorage+cookie","sessionstorage","memory"];let Pv=class{constructor(t){this.config=t,this.props={},this.campaign_params_saved=!1,this.name=(n=>{let r="";return n.token&&(r=n.token.replace(/\+/g,"PL").replace(/\//g,"SL").replace(/=/g,"EQ")),n.persistence_name?"ph_"+n.persistence_name:"ph_"+r+"_posthog"})(t),this.storage=this.buildStorage(t),this.load(),t.debug&&ie.info("Persistence loaded",t.persistence,{...this.props}),this.update_config(t,t),this.save()}buildStorage(t){let n;v$.indexOf(t.persistence.toLowerCase())===-1&&(ie.critical("Unknown persistence type "+t.persistence+"; falling back to localStorage+cookie"),t.persistence="localStorage+cookie");const r=t.persistence.toLowerCase();return n=r==="localstorage"&&qn.is_supported()?qn:r==="localstorage+cookie"&&yp.is_supported()?yp:r==="sessionstorage"&&dr.is_supported()?dr:r==="memory"?s$:r==="cookie"?Ro:yp.is_supported()?yp:Ro,n}properties(){const t={};return Dt(this.props,function(n,r){if(r===$c&&Rn(n)){const i=Object.keys(n);for(let s=0;s<i.length;s++)t[`$feature/${i[s]}`]=n[i[s]]}else(function(i,s){let o=!1;return Ua(i)?o:nC&&i.indexOf===nC?i.indexOf(s)!=-1:(Dt(i,function(a){if(o||(o=a===s))return cm}),o)})(YD,r)||(t[r]=n)}),t}load(){if(this.disabled)return;const t=this.storage.parse(this.name);t&&(this.props=$r({},t))}save(){this.disabled||this.storage.set(this.name,this.props,this.expire_days,this.cross_subdomain,this.secure,this.config.debug)}remove(){this.storage.remove(this.name,!1),this.storage.remove(this.name,!0)}clear(){this.remove(),this.props={}}register_once(t,n,r){if(Rn(t)){je(n)&&(n="None"),this.expire_days=je(r)?this.default_expiry:r;let i=!1;if(Dt(t,(s,o)=>{this.props.hasOwnProperty(o)&&this.props[o]!==n||(this.props[o]=s,i=!0)}),i)return this.save(),!0}return!1}register(t,n){if(Rn(t)){this.expire_days=je(n)?this.default_expiry:n;let r=!1;if(Dt(t,(i,s)=>{t.hasOwnProperty(s)&&this.props[s]!==i&&(this.props[s]=i,r=!0)}),r)return this.save(),!0}return!1}unregister(t){t in this.props&&(delete this.props[t],this.save())}update_campaign_params(){if(!this.campaign_params_saved){const t=Tn.campaignParams(this.config.custom_campaign_params);pf(um(t))||this.register(Tn.campaignParams(this.config.custom_campaign_params)),this.campaign_params_saved=!0}}update_search_keyword(){this.register(Tn.searchInfo())}update_referrer_info(){this.register_once(Tn.referrerInfo(),void 0)}set_initial_person_info(){this.props[T1]||this.props[I1]||this.register_once({[AC]:Tn.initialPersonInfo()},void 0)}get_referrer_info(){return um({$referrer:this.props.$referrer,$referring_domain:this.props.$referring_domain})}get_initial_props(){const t={};Dt([I1,T1],r=>{const i=this.props[r];i&&Dt(i,function(s,o){t["$initial_"+_1(o)]=s})});const n=this.props[AC];if(n){const r=Tn.initialPersonPropsFromInfo(n);$r(t,r)}return t}safe_merge(t){return Dt(this.props,function(n,r){r in t||(t[r]=n)}),t}update_config(t,n){if(this.default_expiry=this.expire_days=t.cookie_expiration,this.set_disabled(t.disable_persistence),this.set_cross_subdomain(t.cross_subdomain_cookie),this.set_secure(t.secure_cookie),t.persistence!==n.persistence){const r=this.buildStorage(t),i=this.props;this.clear(),this.storage=r,this.props=i,this.save()}}set_disabled(t){this.disabled=t,this.disabled?this.remove():this.save()}set_cross_subdomain(t){t!==this.cross_subdomain&&(this.cross_subdomain=t,this.remove(),this.save())}get_cross_subdomain(){return!!this.cross_subdomain}set_secure(t){t!==this.secure&&(this.secure=t,this.remove(),this.save())}set_event_timer(t,n){const r=this.props[Qd]||{};r[t]=n,this.props[Qd]=r,this.save()}remove_event_timer(t){const n=(this.props[Qd]||{})[t];return je(n)||(delete this.props[Qd][t],this.save()),n}get_property(t){return this.props[t]}set_property(t,n){this.props[t]=n,this.save()}};function ym(e){var t;return((t=JSON.stringify(e,function(){const n=[];return function(r,i){if(Rn(i)){for(;n.length>0&&n.at(-1)!==this;)n.pop();return n.includes(i)?"[Circular]":(n.push(i),i)}return i}}()))===null||t===void 0?void 0:t.length)||0}function V1(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:66060288e-1;if(e.size>=t&&e.data.length>1){const n=Math.floor(e.data.length/2),r=e.data.slice(0,n),i=e.data.slice(n);return[V1({size:ym(r),data:r,sessionId:e.sessionId,windowId:e.windowId}),V1({size:ym(i),data:i,sessionId:e.sessionId,windowId:e.windowId})].flatMap(s=>s)}return[e]}var sa=(e=>(e[e.DomContentLoaded=0]="DomContentLoaded",e[e.Load=1]="Load",e[e.FullSnapshot=2]="FullSnapshot",e[e.IncrementalSnapshot=3]="IncrementalSnapshot",e[e.Meta=4]="Meta",e[e.Custom=5]="Custom",e[e.Plugin=6]="Plugin",e))(sa||{}),bs=(e=>(e[e.Mutation=0]="Mutation",e[e.MouseMove=1]="MouseMove",e[e.MouseInteraction=2]="MouseInteraction",e[e.Scroll=3]="Scroll",e[e.ViewportResize=4]="ViewportResize",e[e.Input=5]="Input",e[e.TouchMove=6]="TouchMove",e[e.MediaInteraction=7]="MediaInteraction",e[e.StyleSheetRule=8]="StyleSheetRule",e[e.CanvasMutation=9]="CanvasMutation",e[e.Font=10]="Font",e[e.Log=11]="Log",e[e.Drag=12]="Drag",e[e.StyleDeclaration=13]="StyleDeclaration",e[e.Selection=14]="Selection",e[e.AdoptedStyleSheet=15]="AdoptedStyleSheet",e[e.CustomElement=16]="CustomElement",e))(bs||{});function TC(e){var t;return e.id===P1||!((t=e.closest)===null||t===void 0||!t.call(e,"#"+P1))}function $0(e){return!!e&&e.nodeType===1}function xa(e,t){return!!e&&!!e.tagName&&e.tagName.toLowerCase()===t.toLowerCase()}function n5(e){return!!e&&e.nodeType===3}function r5(e){return!!e&&e.nodeType===11}function NS(e){return e?D0(e).split(/\s+/):[]}function IC(e){const t=J==null?void 0:J.location.href;return!!(t&&e&&e.some(n=>t.match(n)))}function vm(e){let t="";switch(typeof e.className){case"string":t=e.className;break;case"object":t=(e.className&&"baseVal"in e.className?e.className.baseVal:null)||e.getAttribute("class")||"";break;default:t=""}return NS(t)}function i5(e){return Sn(e)?null:D0(e).split(/(\s+)/).filter(t=>ku(t)).join("").replace(/[\r\n]/g," ").replace(/[ ]+/g," ").substring(0,255)}function F0(e){let t="";return N1(e)&&!a5(e)&&e.childNodes&&e.childNodes.length&&Dt(e.childNodes,function(n){var r;n5(n)&&n.textContent&&(t+=(r=i5(n.textContent))!==null&&r!==void 0?r:"")}),D0(t)}function s5(e){return je(e.target)?e.srcElement||null:(t=e.target)!==null&&t!==void 0&&t.shadowRoot?e.composedPath()[0]||null:e.target||null;var t}const L1=["a","button","form","input","select","textarea","label"];function o5(e){const t=e.parentNode;return!(!t||!$0(t))&&t}function A$(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0,i=arguments.length>4?arguments[4]:void 0;if(!J||!e||xa(e,"html")||!$0(e)||n!=null&&n.url_allowlist&&!IC(n.url_allowlist)||n!=null&&n.url_ignorelist&&IC(n.url_ignorelist))return!1;if(n!=null&&n.dom_event_allowlist){const d=n.dom_event_allowlist;if(d&&!d.some(h=>t.type===h))return!1}let s=!1;const o=[e];let a=!0,l=e;for(;l.parentNode&&!xa(l,"body");)if(r5(l.parentNode))o.push(l.parentNode.host),l=l.parentNode.host;else{if(a=o5(l),!a)break;if(r||L1.indexOf(a.tagName.toLowerCase())>-1)s=!0;else{const d=J.getComputedStyle(a);d&&d.getPropertyValue("cursor")==="pointer"&&(s=!0)}o.push(a),l=a}if(!function(d,h){const p=h==null?void 0:h.element_allowlist;if(je(p))return!0;for(const g of d)if(p.some(m=>g.tagName.toLowerCase()===m))return!0;return!1}(o,n)||!function(d,h){const p=h==null?void 0:h.css_selector_allowlist;if(je(p))return!0;for(const g of d)if(p.some(m=>g.matches(m)))return!0;return!1}(o,n))return!1;const c=J.getComputedStyle(e);if(c&&c.getPropertyValue("cursor")==="pointer"&&t.type==="click")return!0;const u=e.tagName.toLowerCase();switch(u){case"html":return!1;case"form":return(i||["submit"]).indexOf(t.type)>=0;case"input":case"select":case"textarea":return(i||["change","click"]).indexOf(t.type)>=0;default:return s?(i||["click"]).indexOf(t.type)>=0:(i||["click"]).indexOf(t.type)>=0&&(L1.indexOf(u)>-1||e.getAttribute("contenteditable")==="true")}}function N1(e){for(let r=e;r.parentNode&&!xa(r,"body");r=r.parentNode){const i=vm(r);if(ft(i,"ph-sensitive")||ft(i,"ph-no-capture"))return!1}if(ft(vm(e),"ph-include"))return!0;const t=e.type||"";if(kr(t))switch(t.toLowerCase()){case"hidden":case"password":return!1}const n=e.name||e.id||"";return!(kr(n)&&/^cc|cardnum|ccnum|creditcard|csc|cvc|cvv|exp|pass|pwd|routing|seccode|securitycode|securitynum|socialsec|socsec|ssn/i.test(n.replace(/[^a-zA-Z0-9]/g,"")))}function a5(e){return!!(xa(e,"input")&&!["button","checkbox","submit","reset"].includes(e.type)||xa(e,"select")||xa(e,"textarea")||e.getAttribute("contenteditable")==="true")}const l5="(4[0-9]{12}(?:[0-9]{3})?)|(5[1-5][0-9]{14})|(6(?:011|5[0-9]{2})[0-9]{12})|(3[47][0-9]{13})|(3(?:0[0-5]|[68][0-9])[0-9]{11})|((?:2131|1800|35[0-9]{3})[0-9]{11})",b$=new RegExp(`^(?:${l5})$`),_$=new RegExp(l5),c5="\\d{3}-?\\d{2}-?\\d{4}",S$=new RegExp(`^(${c5})$`),x$=new RegExp(`(${c5})`);function ku(e){let t=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];return!(Sn(e)||kr(e)&&(e=D0(e),(t?b$:_$).test((e||"").replace(/[- ]/g,""))||(t?S$:x$).test(e)))}function u5(e){let t=F0(e);return t=`${t} ${d5(e)}`.trim(),ku(t)?t:""}function d5(e){let t="";return e&&e.childNodes&&e.childNodes.length&&Dt(e.childNodes,function(n){var r;if(n&&((r=n.tagName)===null||r===void 0?void 0:r.toLowerCase())==="span")try{const i=F0(n);t=`${t} ${i}`.trim(),n.childNodes&&n.childNodes.length&&(t=`${t} ${d5(n)}`.trim())}catch(i){ie.error(i)}}),t}function w$(e){return function(t){return t.map(r=>{var i,s;let o="";if(r.tag_name&&(o+=r.tag_name),r.attr_class){r.attr_class.sort();for(const c of r.attr_class)o+=`.${c.replace(/"/g,"")}`}const a={...r.text?{text:r.text}:{},"nth-child":(i=r.nth_child)!==null&&i!==void 0?i:0,"nth-of-type":(s=r.nth_of_type)!==null&&s!==void 0?s:0,...r.href?{href:r.href}:{},...r.attr_id?{attr_id:r.attr_id}:{},...r.attributes},l={};return Cg(a).sort((c,u)=>{let[d]=c,[h]=u;return d.localeCompare(h)}).forEach(c=>{let[u,d]=c;return l[PC(u.toString())]=PC(d.toString())}),o+=":",o+=Cg(a).map(c=>{let[u,d]=c;return`${u}="${d}"`}).join(""),o}).join(";")}(function(t){return t.map(n=>{var r,i;const s={text:(r=n.$el_text)===null||r===void 0?void 0:r.slice(0,400),tag_name:n.tag_name,href:(i=n.attr__href)===null||i===void 0?void 0:i.slice(0,2048),attr_class:E$(n),attr_id:n.attr__id,nth_child:n.nth_child,nth_of_type:n.nth_of_type,attributes:{}};return Cg(n).filter(o=>{let[a]=o;return a.indexOf("attr__")===0}).forEach(o=>{let[a,l]=o;return s.attributes[a]=l}),s})}(e))}function PC(e){return e.replace(/"|\\"/g,'\\"')}function E$(e){const t=e.attr__class;return t?Wn(t)?t:NS(t):void 0}const B1="[SessionRecording]",D1="redacted",bp={initiatorTypes:["audio","beacon","body","css","early-hint","embed","fetch","frame","iframe","icon","image","img","input","link","navigation","object","ping","script","track","video","xmlhttprequest"],maskRequestFn:e=>e,recordHeaders:!1,recordBody:!1,recordInitialRequests:!1,recordPerformance:!1,performanceEntryTypeToObserve:["first-input","navigation","paint","resource"],payloadSizeLimitBytes:1e6,payloadHostDenyList:[".lr-ingest.io",".ingest.sentry.io"]},C$=["authorization","x-forwarded-for","authorization","cookie","set-cookie","x-api-key","x-real-ip","remote-addr","forwarded","proxy-authorization","x-csrf-token","x-csrftoken","x-xsrf-token"],k$=["password","secret","passwd","api_key","apikey","auth","credentials","mysql_pwd","privatekey","private_key","token"],T$=["/s/","/e/","/i/"];function RC(e,t,n,r){if(Sn(e))return e;let i=(t==null?void 0:t["content-length"])||function(s){return new Blob([s]).size}(e);return kr(i)&&(i=parseInt(i)),i>n?B1+` ${r} body too large to record (${i} bytes)`:e}function MC(e,t){if(Sn(e))return e;let n=e;return ku(n,!1)||(n=B1+" "+t+" body "+D1),Dt(k$,r=>{var i,s;(i=n)!==null&&i!==void 0&&i.length&&((s=n)===null||s===void 0?void 0:s.indexOf(r))!==-1&&(n=B1+" "+t+" body "+D1+" as might contain: "+r)}),n}const I$=(e,t)=>{const n={payloadSizeLimitBytes:bp.payloadSizeLimitBytes,performanceEntryTypeToObserve:[...bp.performanceEntryTypeToObserve],payloadHostDenyList:[...t.payloadHostDenyList||[],...bp.payloadHostDenyList]},r=e.session_recording.recordHeaders!==!1&&t.recordHeaders,i=e.session_recording.recordBody!==!1&&t.recordBody,s=e.capture_performance!==!1&&t.recordPerformance,o=(c=>{var u;const d=Math.min(1e6,(u=c.payloadSizeLimitBytes)!==null&&u!==void 0?u:1e6);return h=>(h!=null&&h.requestBody&&(h.requestBody=RC(h.requestBody,h.requestHeaders,d,"Request")),h!=null&&h.responseBody&&(h.responseBody=RC(h.responseBody,h.responseHeaders,d,"Response")),h)})(n),a=c=>o((u=>{const d=gf(u.name);if(!(d&&d.pathname&&T$.some(h=>d.pathname.indexOf(h)===0)))return u})((u=>{const d=u.requestHeaders;return Sn(d)||Dt(Object.keys(d??{}),h=>{C$.includes(h.toLowerCase())&&(d[h]=D1)}),u})(c))),l=Xi(e.session_recording.maskNetworkRequestFn);return l&&Xi(e.session_recording.maskCapturedNetworkRequestFn)&&ie.warn("Both `maskNetworkRequestFn` and `maskCapturedNetworkRequestFn` are defined. `maskNetworkRequestFn` will be ignored."),l&&(e.session_recording.maskCapturedNetworkRequestFn=c=>{const u=e.session_recording.maskNetworkRequestFn({url:c.name});return{...c,name:u==null?void 0:u.url}}),n.maskRequestFn=Xi(e.session_recording.maskCapturedNetworkRequestFn)?c=>{var u,d,h;const p=a(c);return p&&(u=(d=(h=e.session_recording).maskCapturedNetworkRequestFn)===null||d===void 0?void 0:d.call(h,p))!==null&&u!==void 0?u:void 0}:c=>function(u){if(!je(u))return u.requestBody=MC(u.requestBody,"Request"),u.responseBody=MC(u.responseBody,"Response"),u}(a(c)),{...bp,...n,recordHeaders:r,recordBody:i,recordPerformance:s,recordInitialRequests:s}};function To(e,t,n,r){return t>n&&(ie.warn("min cannot be greater than max."),t=n),vi(e)?e>n?(r&&ie.warn(r+" cannot be  greater than max: "+n+". Using max value instead."),n):e<t?(r&&ie.warn(r+" cannot be less than min: "+t+". Using min value instead."),t):e:(r&&ie.warn(r+" must be a number. Defaulting to max value:"+n),n)}let P$=class{constructor(t){ve(this,"bucketSize",100);ve(this,"refillRate",10);ve(this,"mutationBuckets",{});ve(this,"loggedTracker",{});ve(this,"refillBuckets",()=>{Object.keys(this.mutationBuckets).forEach(t=>{this.mutationBuckets[t]=this.mutationBuckets[t]+this.refillRate,this.mutationBuckets[t]>=this.bucketSize&&delete this.mutationBuckets[t]})});ve(this,"getNodeOrRelevantParent",t=>{const n=this.rrweb.mirror.getNode(t);if((n==null?void 0:n.nodeName)!=="svg"&&n instanceof Element){const r=n.closest("svg");if(r)return[this.rrweb.mirror.getId(r),r]}return[t,n]});ve(this,"numberOfChanges",t=>{var n,r,i,s,o,a,l,c;return((n=(r=t.removes)===null||r===void 0?void 0:r.length)!==null&&n!==void 0?n:0)+((i=(s=t.attributes)===null||s===void 0?void 0:s.length)!==null&&i!==void 0?i:0)+((o=(a=t.texts)===null||a===void 0?void 0:a.length)!==null&&o!==void 0?o:0)+((l=(c=t.adds)===null||c===void 0?void 0:c.length)!==null&&l!==void 0?l:0)});ve(this,"throttleMutations",t=>{if(t.type!==3||t.data.source!==0)return t;const n=t.data,r=this.numberOfChanges(n);n.attributes&&(n.attributes=n.attributes.filter(s=>{var o;const[a,l]=this.getNodeOrRelevantParent(s.id);if(this.mutationBuckets[a]===0)return!1;var c,u;return this.mutationBuckets[a]=(o=this.mutationBuckets[a])!==null&&o!==void 0?o:this.bucketSize,this.mutationBuckets[a]=Math.max(this.mutationBuckets[a]-1,0),this.mutationBuckets[a]===0&&(this.loggedTracker[a]||(this.loggedTracker[a]=!0,(c=(u=this.options).onBlockedNode)===null||c===void 0||c.call(u,a,l))),s}));const i=this.numberOfChanges(n);return i!==0||r===i?t:void 0});var n,r;let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.rrweb=t,this.options=i,this.refillRate=To((n=this.options.refillRate)!==null&&n!==void 0?n:this.refillRate,0,100,"mutation throttling refill rate"),this.bucketSize=To((r=this.options.bucketSize)!==null&&r!==void 0?r:this.bucketSize,0,100,"mutation throttling bucket size"),setInterval(()=>{this.refillBuckets()},1e3)}};var ns=Uint8Array,ti=Uint16Array,Tu=Uint32Array,BS=new ns([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),DS=new ns([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),jC=new ns([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),f5=function(e,t){for(var n=new ti(31),r=0;r<31;++r)n[r]=t+=1<<e[r-1];var i=new Tu(n[30]);for(r=1;r<30;++r)for(var s=n[r];s<n[r+1];++s)i[s]=s-n[r]<<5|r;return[n,i]},h5=f5(BS,2),R$=h5[0],$1=h5[1];R$[28]=258,$1[258]=28;for(var OC=f5(DS,0)[1],p5=new ti(32768),Qt=0;Qt<32768;++Qt){var il=(43690&Qt)>>>1|(21845&Qt)<<1;il=(61680&(il=(52428&il)>>>2|(13107&il)<<2))>>>4|(3855&il)<<4,p5[Qt]=((65280&il)>>>8|(255&il)<<8)>>>1}var mf=function(e,t,n){for(var r=e.length,i=0,s=new ti(t);i<r;++i)++s[e[i]-1];var o,a=new ti(t);for(i=0;i<t;++i)a[i]=a[i-1]+s[i-1]<<1;for(o=new ti(r),i=0;i<r;++i)o[i]=p5[a[e[i]-1]++]>>>15-e[i];return o},Fl=new ns(288);for(Qt=0;Qt<144;++Qt)Fl[Qt]=8;for(Qt=144;Qt<256;++Qt)Fl[Qt]=9;for(Qt=256;Qt<280;++Qt)Fl[Qt]=7;for(Qt=280;Qt<288;++Qt)Fl[Qt]=8;var Am=new ns(32);for(Qt=0;Qt<32;++Qt)Am[Qt]=5;var M$=mf(Fl,9),j$=mf(Am,5),g5=function(e){return(e/8>>0)+(7&e&&1)},m5=function(e,t,n){(n==null||n>e.length)&&(n=e.length);var r=new(e instanceof ti?ti:e instanceof Tu?Tu:ns)(n-t);return r.set(e.subarray(t,n)),r},ho=function(e,t,n){n<<=7&t;var r=t/8>>0;e[r]|=n,e[r+1]|=n>>>8},wd=function(e,t,n){n<<=7&t;var r=t/8>>0;e[r]|=n,e[r+1]|=n>>>8,e[r+2]|=n>>>16},Rv=function(e,t){for(var n=[],r=0;r<e.length;++r)e[r]&&n.push({s:r,f:e[r]});var i=n.length,s=n.slice();if(!i)return[new ns(0),0];if(i==1){var o=new ns(n[0].s+1);return o[n[0].s]=1,[o,1]}n.sort(function(S,E){return S.f-E.f}),n.push({s:-1,f:25001});var a=n[0],l=n[1],c=0,u=1,d=2;for(n[0]={s:-1,f:a.f+l.f,l:a,r:l};u!=i-1;)a=n[n[c].f<n[d].f?c++:d++],l=n[c!=u&&n[c].f<n[d].f?c++:d++],n[u++]={s:-1,f:a.f+l.f,l:a,r:l};var h=s[0].s;for(r=1;r<i;++r)s[r].s>h&&(h=s[r].s);var p=new ti(h+1),g=F1(n[u-1],p,0);if(g>t){r=0;var m=0,b=g-t,y=1<<b;for(s.sort(function(S,E){return p[E.s]-p[S.s]||S.f-E.f});r<i;++r){var v=s[r].s;if(!(p[v]>t))break;m+=y-(1<<g-p[v]),p[v]=t}for(m>>>=b;m>0;){var _=s[r].s;p[_]<t?m-=1<<t-p[_]++-1:++r}for(;r>=0&&m;--r){var x=s[r].s;p[x]==t&&(--p[x],++m)}g=t}return[new ns(p),g]},F1=function(e,t,n){return e.s==-1?Math.max(F1(e.l,t,n+1),F1(e.r,t,n+1)):t[e.s]=n},VC=function(e){for(var t=e.length;t&&!e[--t];);for(var n=new ti(++t),r=0,i=e[0],s=1,o=function(l){n[r++]=l},a=1;a<=t;++a)if(e[a]==i&&a!=t)++s;else{if(!i&&s>2){for(;s>138;s-=138)o(32754);s>2&&(o(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(o(i),--s;s>6;s-=6)o(8304);s>2&&(o(s-3<<5|8208),s=0)}for(;s--;)o(i);s=1,i=e[a]}return[n.subarray(0,r),t]},Ed=function(e,t){for(var n=0,r=0;r<t.length;++r)n+=e[r]*t[r];return n},z1=function(e,t,n){var r=n.length,i=g5(t+2);e[i]=255&r,e[i+1]=r>>>8,e[i+2]=255^e[i],e[i+3]=255^e[i+1];for(var s=0;s<r;++s)e[i+s+4]=n[s];return 8*(i+4+r)},LC=function(e,t,n,r,i,s,o,a,l,c,u){ho(t,u++,n),++i[256];for(var d=Rv(i,15),h=d[0],p=d[1],g=Rv(s,15),m=g[0],b=g[1],y=VC(h),v=y[0],_=y[1],x=VC(m),S=x[0],E=x[1],C=new ti(19),k=0;k<v.length;++k)C[31&v[k]]++;for(k=0;k<S.length;++k)C[31&S[k]]++;for(var O=Rv(C,7),w=O[0],M=O[1],N=19;N>4&&!w[jC[N-1]];--N);var R,V,P,T,z=c+5<<3,B=Ed(i,Fl)+Ed(s,Am)+o,D=Ed(i,h)+Ed(s,m)+o+14+3*N+Ed(C,w)+(2*C[16]+3*C[17]+7*C[18]);if(z<=B&&z<=D)return z1(t,u,e.subarray(l,l+c));if(ho(t,u,1+(D<B)),u+=2,D<B){R=mf(h,p),V=h,P=mf(m,b),T=m;var F=mf(w,M);for(ho(t,u,_-257),ho(t,u+5,E-1),ho(t,u+10,N-4),u+=14,k=0;k<N;++k)ho(t,u+3*k,w[jC[k]]);u+=3*N;for(var G=[v,S],U=0;U<2;++U){var ne=G[U];for(k=0;k<ne.length;++k){var $=31&ne[k];ho(t,u,F[$]),u+=w[$],$>15&&(ho(t,u,ne[k]>>>5&127),u+=ne[k]>>>12)}}}else R=M$,V=Fl,P=j$,T=Am;for(k=0;k<a;++k)if(r[k]>255){$=r[k]>>>18&31,wd(t,u,R[$+257]),u+=V[$+257],$>7&&(ho(t,u,r[k]>>>23&31),u+=BS[$]);var fe=31&r[k];wd(t,u,P[fe]),u+=T[fe],fe>3&&(wd(t,u,r[k]>>>5&8191),u+=DS[fe])}else wd(t,u,R[r[k]]),u+=V[r[k]];return wd(t,u,R[256]),u+V[256]},O$=new Tu([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),V$=function(){for(var e=new Tu(256),t=0;t<256;++t){for(var n=t,r=9;--r;)n=(1&n&&3988292384)^n>>>1;e[t]=n}return e}(),L$=function(){var e=4294967295;return{p:function(t){for(var n=e,r=0;r<t.length;++r)n=V$[255&n^t[r]]^n>>>8;e=n},d:function(){return 4294967295^e}}},N$=function(e,t,n,r,i){return function(s,o,a,l,c,u){var d=s.length,h=new ns(l+d+5*(1+Math.floor(d/7e3))+c),p=h.subarray(l,h.length-c),g=0;if(!o||d<8)for(var m=0;m<=d;m+=65535){var b=m+65535;b<d?g=z1(p,g,s.subarray(m,b)):(p[m]=u,g=z1(p,g,s.subarray(m,d)))}else{for(var y=O$[o-1],v=y>>>13,_=8191&y,x=(1<<a)-1,S=new ti(32768),E=new ti(x+1),C=Math.ceil(a/3),k=2*C,O=function(Be){return(s[Be]^s[Be+1]<<C^s[Be+2]<<k)&x},w=new Tu(25e3),M=new ti(288),N=new ti(32),R=0,V=0,P=(m=0,0),T=0,z=0;m<d;++m){var B=O(m),D=32767&m,F=E[B];if(S[D]=F,E[B]=D,T<=m){var G=d-m;if((R>7e3||P>24576)&&G>423){g=LC(s,p,0,w,M,N,V,P,z,m-z,g),P=R=V=0,z=m;for(var U=0;U<286;++U)M[U]=0;for(U=0;U<30;++U)N[U]=0}var ne=2,$=0,fe=_,Z=D-F&32767;if(G>2&&B==O(m-Z))for(var oe=Math.min(v,G)-1,Re=Math.min(32767,m),Ee=Math.min(258,G);Z<=Re&&--fe&&D!=F;){if(s[m+ne]==s[m+ne-Z]){for(var ae=0;ae<Ee&&s[m+ae]==s[m+ae-Z];++ae);if(ae>ne){if(ne=ae,$=Z,ae>oe)break;var be=Math.min(Z,ae-2),Ve=0;for(U=0;U<be;++U){var Ne=m-Z+U+32768&32767,ye=Ne-S[Ne]+32768&32767;ye>Ve&&(Ve=ye,F=Ne)}}}Z+=(D=F)-(F=S[D])+32768&32767}if($){w[P++]=268435456|$1[ne]<<18|OC[$];var Se=31&$1[ne],We=31&OC[$];V+=BS[Se]+DS[We],++M[257+Se],++N[We],T=m+ne,++R}else w[P++]=s[m],++M[s[m]]}}g=LC(s,p,u,w,M,N,V,P,z,m-z,g)}return m5(h,0,l+g5(g)+c)}(e,t.level==null?6:t.level,t.mem==null?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(e.length)))):12+t.mem,n,r,!i)},U1=function(e,t,n){for(;n;++t)e[t]=n,n>>>=8},B$=function(e,t){var n=t.filename;if(e[0]=31,e[1]=139,e[2]=8,e[8]=t.level<2?4:t.level==9?2:0,e[9]=3,t.mtime!=0&&U1(e,4,Math.floor(new Date(t.mtime||Date.now())/1e3)),n){e[3]=8;for(var r=0;r<=n.length;++r)e[r+10]=n.charCodeAt(r)}},D$=function(e){return 10+(e.filename&&e.filename.length+1||0)};function y5(e,t){t===void 0&&(t={});var n=L$(),r=e.length;n.p(e);var i=N$(e,t,D$(t),8),s=i.length;return B$(i,t),U1(i,s-8,n.d()),U1(i,s-4,r),i}function v5(e,t){var n=e.length;if(typeof TextEncoder<"u")return new TextEncoder().encode(e);for(var r=new ns(e.length+(e.length>>>1)),i=0,s=function(c){r[i++]=c},o=0;o<n;++o){if(i+5>r.length){var a=new ns(i+8+(n-o<<1));a.set(r),r=a}var l=e.charCodeAt(o);l<128||t?s(l):l<2048?(s(192|l>>>6),s(128|63&l)):l>55295&&l<57344?(s(240|(l=65536+(1047552&l)|1023&e.charCodeAt(++o))>>>18),s(128|l>>>12&63),s(128|l>>>6&63),s(128|63&l)):(s(224|l>>>12),s(128|l>>>6&63),s(128|63&l))}return m5(r,0,i)}const $$=3e5,F$=[bs.MouseMove,bs.MouseInteraction,bs.Scroll,bs.ViewportResize,bs.Input,bs.TouchMove,bs.MediaInteraction,bs.Drag],z$=["trigger_activated","trigger_pending","trigger_disabled"],NC=e=>({rrwebMethod:e,enqueuedAt:Date.now(),attempt:1}),Or="[SessionRecording]";function sl(e){return function(t,n){for(var r="",i=0;i<t.length;){var s=t[i++];s<128||n?r+=String.fromCharCode(s):s<224?r+=String.fromCharCode((31&s)<<6|63&t[i++]):s<240?r+=String.fromCharCode((15&s)<<12|(63&t[i++])<<6|63&t[i++]):(s=((15&s)<<18|(63&t[i++])<<12|(63&t[i++])<<6|63&t[i++])-65536,r+=String.fromCharCode(55296|s>>10,56320|1023&s))}return r}(y5(v5(JSON.stringify(e))),!0)}function BC(e){return e.type===sa.Custom&&e.data.tag==="sessionIdle"}class U${constructor(t){ve(this,"queuedRRWebEvents",[]);ve(this,"isIdle",!1);ve(this,"_linkedFlagSeen",!1);ve(this,"_lastActivityTimestamp",Date.now());ve(this,"_linkedFlag",null);ve(this,"_removePageViewCaptureHook");ve(this,"_onSessionIdListener");ve(this,"_persistDecideOnSessionListener");ve(this,"_samplingSessionListener");ve(this,"_urlTriggers",[]);ve(this,"_forceAllowLocalhostNetworkCapture",!1);ve(this,"_onBeforeUnload",()=>{this._flushBuffer()});ve(this,"_onOffline",()=>{this._tryAddCustomEvent("browser offline",{})});ve(this,"_onOnline",()=>{this._tryAddCustomEvent("browser online",{})});ve(this,"_onVisibilityChange",()=>{if(we!=null&&we.visibilityState){const t="window "+we.visibilityState;this._tryAddCustomEvent(t,{})}});if(this.instance=t,this._captureStarted=!1,this._endpoint="/s/",this.stopRrweb=void 0,this.receivedDecide=!1,!this.instance.sessionManager)throw ie.error(Or+" started without valid sessionManager"),new Error(Or+" started without valid sessionManager. This is a bug.");const{sessionId:n,windowId:r}=this.sessionManager.checkAndGetSessionAndWindowId();this.sessionId=n,this.windowId=r,this.buffer=this.clearBuffer(),this.sessionIdleThresholdMilliseconds>=this.sessionManager.sessionTimeoutMs&&ie.warn(Or+` session_idle_threshold_ms (${this.sessionIdleThresholdMilliseconds}) is greater than the session timeout (${this.sessionManager.sessionTimeoutMs}). Session will never be detected as idle`)}get sessionIdleThresholdMilliseconds(){return this.instance.config.session_recording.session_idle_threshold_ms||3e5}get rrwebRecord(){var t,n;return tt==null||(t=tt.__PosthogExtensions__)===null||t===void 0||(n=t.rrweb)===null||n===void 0?void 0:n.record}get started(){return this._captureStarted}get sessionManager(){if(!this.instance.sessionManager)throw new Error(Or+" must be started with a valid sessionManager.");return this.instance.sessionManager}get fullSnapshotIntervalMillis(){var t,n;return this.urlTriggerStatus==="trigger_pending"?6e4:(t=(n=this.instance.config.session_recording)===null||n===void 0?void 0:n.full_snapshot_interval_millis)!==null&&t!==void 0?t:$$}get isSampled(){const t=this.instance.get_property(Jd);return pa(t)?t:null}get sessionDuration(){var t,n;const r=(t=this.buffer)===null||t===void 0?void 0:t.data[((n=this.buffer)===null||n===void 0?void 0:n.data.length)-1],{sessionStartTimestamp:i}=this.sessionManager.checkAndGetSessionAndWindowId(!0);return r?r.timestamp-i:null}get isRecordingEnabled(){const t=!!this.instance.get_property(x1),n=!this.instance.config.disable_session_recording;return J&&t&&n}get isConsoleLogCaptureEnabled(){const t=!!this.instance.get_property(pC),n=this.instance.config.enable_recording_console_log;return n??t}get canvasRecording(){var t,n,r,i,s,o;const a=this.instance.config.session_recording.captureCanvas,l=this.instance.get_property(mC),c=(t=(n=a==null?void 0:a.recordCanvas)!==null&&n!==void 0?n:l==null?void 0:l.enabled)!==null&&t!==void 0&&t,u=(r=(i=a==null?void 0:a.canvasFps)!==null&&i!==void 0?i:l==null?void 0:l.fps)!==null&&r!==void 0?r:0,d=(s=(o=a==null?void 0:a.canvasQuality)!==null&&o!==void 0?o:l==null?void 0:l.quality)!==null&&s!==void 0?s:0;return{enabled:c,fps:To(u,0,12,"canvas recording fps"),quality:To(d,0,1,"canvas recording quality")}}get networkPayloadCapture(){var t,n;const r=this.instance.get_property(gC),i={recordHeaders:(t=this.instance.config.session_recording)===null||t===void 0?void 0:t.recordHeaders,recordBody:(n=this.instance.config.session_recording)===null||n===void 0?void 0:n.recordBody},s=(i==null?void 0:i.recordHeaders)||(r==null?void 0:r.recordHeaders),o=(i==null?void 0:i.recordBody)||(r==null?void 0:r.recordBody),a=Rn(this.instance.config.capture_performance)?this.instance.config.capture_performance.network_timing:this.instance.config.capture_performance,l=!!(pa(a)?a:r!=null&&r.capturePerformance);return s||o||l?{recordHeaders:s,recordBody:o,recordPerformance:l}:void 0}get sampleRate(){const t=this.instance.get_property(yC);return vi(t)?t:null}get minimumDuration(){const t=this.instance.get_property(vC);return vi(t)?t:null}get status(){return this.receivedDecide?this.isRecordingEnabled?Sn(this._linkedFlag)||this._linkedFlagSeen?this.urlTriggerStatus==="trigger_pending"?"buffering":pa(this.isSampled)?this.isSampled?"sampled":"disabled":"active":"buffering":"disabled":"buffering"}get urlTriggerStatus(){var t,n;if(this.receivedDecide&&this._urlTriggers.length===0)return"trigger_disabled";const r=(t=this.instance)===null||t===void 0?void 0:t.get_property(pp);var i,s,o,a;return((n=this.instance)===null||n===void 0?void 0:n.get_property(hp))!==this.sessionId?((i=this.instance)===null||i===void 0||(s=i.persistence)===null||s===void 0||s.unregister(hp),(o=this.instance)===null||o===void 0||(a=o.persistence)===null||a===void 0||a.unregister(pp),"trigger_pending"):z$.includes(r)?r:"trigger_pending"}set urlTriggerStatus(t){var n,r;(n=this.instance)===null||n===void 0||(r=n.persistence)===null||r===void 0||r.register({[hp]:this.sessionId,[pp]:t})}startIfEnabledOrStop(t){this.isRecordingEnabled?(this._startCapture(t),J==null||J.addEventListener("beforeunload",this._onBeforeUnload),J==null||J.addEventListener("offline",this._onOffline),J==null||J.addEventListener("online",this._onOnline),J==null||J.addEventListener("visibilitychange",this._onVisibilityChange),this._setupSampling(),Sn(this._removePageViewCaptureHook)&&(this._removePageViewCaptureHook=this.instance._addCaptureHook(n=>{try{if(n==="$pageview"){const r=J?this._maskUrl(J.location.href):"";if(!r)return;this._tryAddCustomEvent("$pageview",{href:r})}}catch(r){ie.error("Could not add $pageview to rrweb session",r)}})),this._onSessionIdListener||(this._onSessionIdListener=this.sessionManager.onSessionId((n,r,i)=>{var s,o,a,l;i&&(this._tryAddCustomEvent("$session_id_change",{sessionId:n,windowId:r,changeReason:i}),(s=this.instance)===null||s===void 0||(o=s.persistence)===null||o===void 0||o.unregister(hp),(a=this.instance)===null||a===void 0||(l=a.persistence)===null||l===void 0||l.unregister(pp))}))):this.stopRecording()}stopRecording(){var t,n,r;this._captureStarted&&this.stopRrweb&&(this.stopRrweb(),this.stopRrweb=void 0,this._captureStarted=!1,J==null||J.removeEventListener("beforeunload",this._onBeforeUnload),J==null||J.removeEventListener("offline",this._onOffline),J==null||J.removeEventListener("online",this._onOnline),J==null||J.removeEventListener("visibilitychange",this._onVisibilityChange),this.clearBuffer(),clearInterval(this._fullSnapshotTimer),(t=this._removePageViewCaptureHook)===null||t===void 0||t.call(this),this._removePageViewCaptureHook=void 0,(n=this._onSessionIdListener)===null||n===void 0||n.call(this),this._onSessionIdListener=void 0,(r=this._samplingSessionListener)===null||r===void 0||r.call(this),this._samplingSessionListener=void 0,ie.info(Or+" stopped"))}makeSamplingDecision(t){var n;const r=this.sessionId!==t,i=this.sampleRate;var s;if(!vi(i))return void((s=this.instance.persistence)===null||s===void 0||s.register({[Jd]:null}));const o=this.isSampled;let a;const l=r||!pa(o);l?a=Math.random()<i:a=o,l&&(a?this._reportStarted("sampling"):ie.warn(Or+` Sample rate (${i}) has determined that this sessionId (${t}) will not be sent to the server.`),this._tryAddCustomEvent("samplingDecisionMade",{sampleRate:i,isSampled:a})),(n=this.instance.persistence)===null||n===void 0||n.register({[Jd]:a})}afterDecideResponse(t){var n,r,i,s;if(this._persistDecideResponse(t),this._linkedFlag=((n=t.sessionRecording)===null||n===void 0?void 0:n.linkedFlag)||null,(r=t.sessionRecording)!==null&&r!==void 0&&r.endpoint&&(this._endpoint=(s=t.sessionRecording)===null||s===void 0?void 0:s.endpoint),this._setupSampling(),!Sn(this._linkedFlag)&&!this._linkedFlagSeen){const o=kr(this._linkedFlag)?this._linkedFlag:this._linkedFlag.flag,a=kr(this._linkedFlag)?null:this._linkedFlag.variant;this.instance.onFeatureFlags((l,c)=>{const u=Rn(c)&&o in c,d=a?c[o]===a:u;if(d){const h={linkedFlag:o,linkedVariant:a},p="linked flag matched";ie.info(Or+" "+p,h),this._tryAddCustomEvent(p,h),this._reportStarted("linked_flag_match")}this._linkedFlagSeen=d})}(i=t.sessionRecording)!==null&&i!==void 0&&i.urlTriggers&&(this._urlTriggers=t.sessionRecording.urlTriggers),this.receivedDecide=!0,this.startIfEnabledOrStop()}_setupSampling(){vi(this.sampleRate)&&Sn(this._samplingSessionListener)&&(this._samplingSessionListener=this.sessionManager.onSessionId(t=>{this.makeSamplingDecision(t)}))}_persistDecideResponse(t){if(this.instance.persistence){var n;const r=this.instance.persistence,i=()=>{var s,o,a,l,c,u,d;const h=(s=t.sessionRecording)===null||s===void 0?void 0:s.sampleRate,p=Sn(h)?null:parseFloat(h),g=(o=t.sessionRecording)===null||o===void 0?void 0:o.minimumDurationMilliseconds;r.register({[x1]:!!t.sessionRecording,[pC]:(a=t.sessionRecording)===null||a===void 0?void 0:a.consoleLogRecordingEnabled,[gC]:{capturePerformance:t.capturePerformance,...(l=t.sessionRecording)===null||l===void 0?void 0:l.networkPayloadCapture},[mC]:{enabled:(c=t.sessionRecording)===null||c===void 0?void 0:c.recordCanvas,fps:(u=t.sessionRecording)===null||u===void 0?void 0:u.canvasFps,quality:(d=t.sessionRecording)===null||d===void 0?void 0:d.canvasQuality},[yC]:p,[vC]:je(g)?null:g})};i(),(n=this._persistDecideOnSessionListener)===null||n===void 0||n.call(this),this._persistDecideOnSessionListener=this.sessionManager.onSessionId(i)}}log(t){var n;let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"log";(n=this.instance.sessionRecording)===null||n===void 0||n.onRRwebEmit({type:6,data:{plugin:"rrweb/console@1",payload:{level:r,trace:[],payload:[JSON.stringify(t)]}},timestamp:Date.now()})}_startCapture(t){if(!je(Object.assign)&&!je(Array.from)&&!(this._captureStarted||this.instance.config.disable_session_recording||this.instance.consent.isOptedOut())){var n,r;this._captureStarted=!0,this.sessionManager.checkAndGetSessionAndWindowId(),this.rrwebRecord?this._onScriptLoaded():(n=tt.__PosthogExtensions__)===null||n===void 0||(r=n.loadExternalDependency)===null||r===void 0||r.call(n,this.instance,"recorder",i=>{if(i)return ie.error(Or+" could not load recorder",i);this._onScriptLoaded()}),ie.info(Or+" starting"),this.status==="active"&&this._reportStarted(t||"recording_initialized")}}isInteractiveEvent(t){var n;return t.type===3&&F$.indexOf((n=t.data)===null||n===void 0?void 0:n.source)!==-1}_updateWindowAndSessionIds(t){const n=this.isInteractiveEvent(t);!n&&!this.isIdle&&t.timestamp-this._lastActivityTimestamp>this.sessionIdleThresholdMilliseconds&&(this.isIdle=!0,clearInterval(this._fullSnapshotTimer),this._tryAddCustomEvent("sessionIdle",{eventTimestamp:t.timestamp,lastActivityTimestamp:this._lastActivityTimestamp,threshold:this.sessionIdleThresholdMilliseconds,bufferLength:this.buffer.data.length,bufferSize:this.buffer.size}),this._flushBuffer());let r=!1;if(n&&(this._lastActivityTimestamp=t.timestamp,this.isIdle&&(this.isIdle=!1,this._tryAddCustomEvent("sessionNoLongerIdle",{reason:"user activity",type:t.type}),r=!0)),this.isIdle)return;const{windowId:i,sessionId:s}=this.sessionManager.checkAndGetSessionAndWindowId(!n,t.timestamp),o=this.sessionId!==s,a=this.windowId!==i;this.windowId=i,this.sessionId=s,o||a?(this.stopRecording(),this.startIfEnabledOrStop("session_id_changed")):r&&this._scheduleFullSnapshot()}_tryRRWebMethod(t){try{return t.rrwebMethod(),!0}catch(n){return this.queuedRRWebEvents.length<10?this.queuedRRWebEvents.push({enqueuedAt:t.enqueuedAt||Date.now(),attempt:t.attempt++,rrwebMethod:t.rrwebMethod}):ie.warn(Or+" could not emit queued rrweb event.",n,t),!1}}_tryAddCustomEvent(t,n){return this._tryRRWebMethod(NC(()=>this.rrwebRecord.addCustomEvent(t,n)))}_tryTakeFullSnapshot(){return this._tryRRWebMethod(NC(()=>this.rrwebRecord.takeFullSnapshot()))}_onScriptLoaded(){var t;const n={blockClass:"ph-no-capture",blockSelector:void 0,ignoreClass:"ph-ignore-input",maskTextClass:"ph-mask",maskTextSelector:void 0,maskTextFn:void 0,maskAllInputs:!0,maskInputOptions:{password:!0},maskInputFn:void 0,slimDOMOptions:{},collectFonts:!1,inlineStylesheet:!0,recordCrossOriginIframes:!1},r=this.instance.config.session_recording;for(const[s,o]of Object.entries(r||{}))s in n&&(s==="maskInputOptions"?n.maskInputOptions={password:!0,...o}:n[s]=o);if(this.canvasRecording&&this.canvasRecording.enabled&&(n.recordCanvas=!0,n.sampling={canvas:this.canvasRecording.fps},n.dataURLOptions={type:"image/webp",quality:this.canvasRecording.quality}),!this.rrwebRecord)return void ie.error(Or+"onScriptLoaded was called but rrwebRecord is not available. This indicates something has gone wrong.");this.mutationRateLimiter=(t=this.mutationRateLimiter)!==null&&t!==void 0?t:new P$(this.rrwebRecord,{refillRate:this.instance.config.session_recording.__mutationRateLimiterRefillRate,bucketSize:this.instance.config.session_recording.__mutationRateLimiterBucketSize,onBlockedNode:(s,o)=>{const a=`Too many mutations on node '${s}'. Rate limiting. This could be due to SVG animations or something similar`;ie.info(a,{node:o}),this.log(Or+" "+a,"warn")}});const i=this._gatherRRWebPlugins();this.stopRrweb=this.rrwebRecord({emit:s=>{this.onRRwebEmit(s)},plugins:i,...n}),this._lastActivityTimestamp=Date.now(),this.isIdle=!1,this._tryAddCustomEvent("$session_options",{sessionRecordingOptions:n,activePlugins:i.map(s=>s==null?void 0:s.name)}),this._tryAddCustomEvent("$posthog_config",{config:this.instance.config})}_scheduleFullSnapshot(){if(this._fullSnapshotTimer&&clearInterval(this._fullSnapshotTimer),this.isIdle)return;const t=this.fullSnapshotIntervalMillis;t&&(this._fullSnapshotTimer=setInterval(()=>{this._tryTakeFullSnapshot()},t))}_gatherRRWebPlugins(){var t,n,r,i;const s=[],o=(t=tt.__PosthogExtensions__)===null||t===void 0||(n=t.rrwebPlugins)===null||n===void 0?void 0:n.getRecordConsolePlugin;o&&this.isConsoleLogCaptureEnabled&&s.push(o());const a=(r=tt.__PosthogExtensions__)===null||r===void 0||(i=r.rrwebPlugins)===null||i===void 0?void 0:i.getRecordNetworkPlugin;return this.networkPayloadCapture&&Xi(a)&&(!o$.includes(location.hostname)||this._forceAllowLocalhostNetworkCapture?s.push(a(I$(this.instance.config,this.networkPayloadCapture))):ie.info(Or+" NetworkCapture not started because we are on localhost.")),s}onRRwebEmit(t){var n;if(this._processQueuedEvents(),!t||!Rn(t))return;if(t.type===sa.Meta){const a=this._maskUrl(t.data.href);if(this._lastHref=a,!a)return;t.data.href=a}else this._pageViewFallBack();this._checkUrlTrigger(),t.type===sa.FullSnapshot&&this._scheduleFullSnapshot(),t.type===sa.FullSnapshot&&this.urlTriggerStatus==="trigger_pending"&&this.clearBuffer();const r=this.mutationRateLimiter?this.mutationRateLimiter.throttleMutations(t):t;if(!r)return;const i=function(a){const l=a;if(l&&Rn(l)&&l.type===6&&Rn(l.data)&&l.data.plugin==="rrweb/console@1"){l.data.payload.payload.length>10&&(l.data.payload.payload=l.data.payload.payload.slice(0,10),l.data.payload.payload.push("...[truncated]"));const c=[];for(let u=0;u<l.data.payload.payload.length;u++)l.data.payload.payload[u]&&l.data.payload.payload[u].length>2e3?c.push(l.data.payload.payload[u].slice(0,2e3)+"...[truncated]"):c.push(l.data.payload.payload[u]);return l.data.payload.payload=c,a}return a}(r);if(this._updateWindowAndSessionIds(i),this.isIdle&&!BC(i))return;if(BC(i)){const a=i.data.payload;if(a){const l=a.lastActivityTimestamp,c=a.threshold;i.timestamp=l+c}}const s=(n=this.instance.config.session_recording.compress_events)===null||n===void 0||n?function(a){if(ym(a)<1024)return a;try{if(a.type===sa.FullSnapshot)return{...a,data:sl(a.data),cv:"2024-10"};if(a.type===sa.IncrementalSnapshot&&a.data.source===bs.Mutation)return{...a,cv:"2024-10",data:{...a.data,texts:sl(a.data.texts),attributes:sl(a.data.attributes),removes:sl(a.data.removes),adds:sl(a.data.adds)}};if(a.type===sa.IncrementalSnapshot&&a.data.source===bs.StyleSheetRule)return{...a,cv:"2024-10",data:{...a.data,adds:sl(a.data.adds),removes:sl(a.data.removes)}}}catch(l){ie.error(Or+" could not compress event - will use uncompressed event",l)}return a}(i):i,o={$snapshot_bytes:ym(s),$snapshot_data:s,$session_id:this.sessionId,$window_id:this.windowId};this.status!=="disabled"?this._captureSnapshotBuffered(o):this.clearBuffer()}_pageViewFallBack(){if(this.instance.config.capture_pageview||!J)return;const t=this._maskUrl(J.location.href);this._lastHref!==t&&(this._tryAddCustomEvent("$url_changed",{href:t}),this._lastHref=t)}_processQueuedEvents(){if(this.queuedRRWebEvents.length){const t=[...this.queuedRRWebEvents];this.queuedRRWebEvents=[],t.forEach(n=>{Date.now()-n.enqueuedAt<=2e3&&this._tryRRWebMethod(n)})}}_maskUrl(t){const n=this.instance.config.session_recording;if(n.maskNetworkRequestFn){var r;let i={url:t};return i=n.maskNetworkRequestFn(i),(r=i)===null||r===void 0?void 0:r.url}return t}clearBuffer(){return this.buffer={size:0,data:[],sessionId:this.sessionId,windowId:this.windowId},this.buffer}_flushBuffer(){this.flushBufferTimer&&(clearTimeout(this.flushBufferTimer),this.flushBufferTimer=void 0);const t=this.minimumDuration,n=this.sessionDuration,r=vi(n)&&n>=0,i=vi(t)&&r&&n<t;return this.status==="buffering"||i?(this.flushBufferTimer=setTimeout(()=>{this._flushBuffer()},2e3),this.buffer):(this.buffer.data.length>0&&V1(this.buffer).forEach(s=>{this._captureSnapshot({$snapshot_bytes:s.size,$snapshot_data:s.data,$session_id:s.sessionId,$window_id:s.windowId})}),this.clearBuffer())}_captureSnapshotBuffered(t){var n;const r=2+(((n=this.buffer)===null||n===void 0?void 0:n.data.length)||0);!this.isIdle&&(this.buffer.size+t.$snapshot_bytes+r>943718.4||this.buffer.sessionId!==this.sessionId)&&(this.buffer=this._flushBuffer()),this.buffer.size+=t.$snapshot_bytes,this.buffer.data.push(t.$snapshot_data),this.flushBufferTimer||this.isIdle||(this.flushBufferTimer=setTimeout(()=>{this._flushBuffer()},2e3))}_captureSnapshot(t){this.instance.capture("$snapshot",t,{_url:this.instance.requestRouter.endpointFor("api",this._endpoint),_noTruncate:!0,_batchKey:"recordings",skip_client_rate_limiting:!0})}_checkUrlTrigger(){if(J===void 0||!J.location.href)return;const t=J.location.href;this._urlTriggers.some(n=>n.matching==="regex"&&new RegExp(n.url).test(t))&&this._activateUrlTrigger()}_activateUrlTrigger(){this.urlTriggerStatus==="trigger_pending"&&(this.urlTriggerStatus="trigger_activated",this._tryAddCustomEvent("url trigger activated",{}),this._flushBuffer(),ie.info(Or+" recording triggered by URL pattern match"))}overrideLinkedFlag(){this._linkedFlagSeen=!0,this._reportStarted("linked_flag_override")}overrideSampling(){var t;(t=this.instance.persistence)===null||t===void 0||t.register({[Jd]:!0}),this._reportStarted("sampling_override")}_reportStarted(t){(arguments.length>1&&arguments[1]!==void 0?arguments[1]:()=>!0)()&&this.instance.register_for_session({$session_recording_start_reason:t})}}class H${constructor(t){this.instance=t,this.instance.decideEndpointWasHit=this.instance._hasBootstrappedFeatureFlags()}call(){const t={token:this.instance.config.token,distinct_id:this.instance.get_distinct_id(),groups:this.instance.getGroups(),person_properties:this.instance.get_property(Fc),group_properties:this.instance.get_property(ia),disable_flags:this.instance.config.advanced_disable_feature_flags||this.instance.config.advanced_disable_feature_flags_on_first_load||void 0};this.instance._send_request({method:"POST",url:this.instance.requestRouter.endpointFor("api","/decide/?v=3"),data:t,compression:this.instance.config.disable_compression?void 0:ks.Base64,timeout:this.instance.config.feature_flag_request_timeout_ms,callback:n=>this.parseDecideResponse(n.json)})}parseDecideResponse(t){this.instance.featureFlags.setReloadingPaused(!1),this.instance.featureFlags._startReloadTimer();const n=!t;if(this.instance.config.advanced_disable_feature_flags_on_first_load||this.instance.config.advanced_disable_feature_flags||this.instance.featureFlags.receivedFeatureFlags(t??{},n),n)ie.error("Failed to fetch feature flags from PostHog.");else{if(!we||!we.body)return ie.info("document not ready yet, trying again in 500 milliseconds..."),void setTimeout(()=>{this.parseDecideResponse(t)},500);if(this.instance._afterDecideResponse(t),t.siteApps)if(this.instance.config.opt_in_site_apps)for(const{id:o,url:a}of t.siteApps){var r,i,s;tt[`__$$ph_site_app_${o}`]=this.instance,(r=tt.__PosthogExtensions__)===null||r===void 0||(i=(s=r).loadSiteApp)===null||i===void 0||i.call(s,this.instance,a,l=>{if(l)return ie.error(`Error while initializing PostHog app with config id ${o}`,l)})}else t.siteApps.length>0&&ie.error('PostHog site apps are disabled. Enable the "opt_in_site_apps" config to proceed.')}}}const G$=J!=null&&J.location?gm(J.location.hash,"__posthog")||gm(location.hash,"state"):null,DC="_postHogToolbarParams";var bo;(function(e){e[e.UNINITIALIZED=0]="UNINITIALIZED",e[e.LOADING=1]="LOADING",e[e.LOADED=2]="LOADED"})(bo||(bo={}));class q${constructor(t){this.instance=t}setToolbarState(t){tt.ph_toolbar_state=t}getToolbarState(){var t;return(t=tt.ph_toolbar_state)!==null&&t!==void 0?t:bo.UNINITIALIZED}maybeLoadToolbar(){var t,n;let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:void 0,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:void 0,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;if(!J||!we)return!1;r=(t=r)!==null&&t!==void 0?t:J.location,s=(n=s)!==null&&n!==void 0?n:J.history;try{if(!i){try{J.localStorage.setItem("test","test"),J.localStorage.removeItem("test")}catch{return!1}i=J==null?void 0:J.localStorage}const o=G$||gm(r.hash,"__posthog")||gm(r.hash,"state");let a;const l=o?aC(()=>JSON.parse(atob(decodeURIComponent(o))))||aC(()=>JSON.parse(decodeURIComponent(o))):null;return l&&l.action==="ph_authorize"?(a=l,a.source="url",a&&Object.keys(a).length>0&&(l.desiredHash?r.hash=l.desiredHash:s?s.replaceState(s.state,"",r.pathname+r.search):r.hash="")):(a=JSON.parse(i.getItem(DC)||"{}"),a.source="localstorage",delete a.userIntent),!(!a.token||this.instance.config.token!==a.token)&&(this.loadToolbar(a),!0)}catch{return!1}}_callLoadToolbar(t){(tt.ph_load_toolbar||tt.ph_load_editor)(t,this.instance)}loadToolbar(t){const n=!(we==null||!we.getElementById(P1));if(!J||n)return!1;const r=this.instance.requestRouter.region==="custom"&&this.instance.config.advanced_disable_toolbar_metrics,i={token:this.instance.config.token,...t,apiURL:this.instance.requestRouter.endpointFor("ui"),...r?{instrument:!1}:{}};if(J.localStorage.setItem(DC,JSON.stringify({...i,source:void 0})),this.getToolbarState()===bo.LOADED)this._callLoadToolbar(i);else if(this.getToolbarState()===bo.UNINITIALIZED){var s,o;this.setToolbarState(bo.LOADING),(s=tt.__PosthogExtensions__)===null||s===void 0||(o=s.loadExternalDependency)===null||o===void 0||o.call(s,this.instance,"toolbar",a=>{if(a)return ie.error("Failed to load toolbar",a),void this.setToolbarState(bo.UNINITIALIZED);this.setToolbarState(bo.LOADED),this._callLoadToolbar(i)}),Eo(J,"turbolinks:load",()=>{this.setToolbarState(bo.UNINITIALIZED),this.loadToolbar(i)})}return!0}_loadEditor(t){return this.loadToolbar(t)}maybeLoadEditor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:void 0,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:void 0,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;return this.maybeLoadToolbar(t,n,r)}}class W${constructor(t){ve(this,"isPaused",!0);ve(this,"queue",[]);ve(this,"flushTimeoutMs",3e3);this.sendRequest=t}enqueue(t){this.queue.push(t),this.flushTimeout||this.setFlushTimeout()}unload(){this.clearFlushTimeout();const t=this.queue.length>0?this.formatQueue():{},n=Object.values(t);[...n.filter(i=>i.url.indexOf("/e")===0),...n.filter(i=>i.url.indexOf("/e")!==0)].map(i=>{this.sendRequest({...i,transport:"sendBeacon"})})}enable(){this.isPaused=!1,this.setFlushTimeout()}setFlushTimeout(){this.isPaused||(this.flushTimeout=setTimeout(()=>{if(this.clearFlushTimeout(),this.queue.length>0){const t=this.formatQueue();for(const n in t){const r=t[n],i=new Date().getTime();r.data&&Wn(r.data)&&Dt(r.data,s=>{s.offset=Math.abs(s.timestamp-i),delete s.timestamp}),this.sendRequest(r)}}},this.flushTimeoutMs))}clearFlushTimeout(){clearTimeout(this.flushTimeout),this.flushTimeout=void 0}formatQueue(){const t={};return Dt(this.queue,n=>{var r;const i=n,s=(i?i.batchKey:null)||i.url;je(t[s])&&(t[s]={...i,data:[]}),(r=t[s].data)===null||r===void 0||r.push(i.data)}),this.queue=[],t}}const K$=!!MS||!!RS,$C="text/plain",bm=(e,t)=>{const[n,r]=e.split("?"),i={...t};r==null||r.split("&").forEach(o=>{const[a]=o.split("=");delete i[a]});let s=a$(i);return s=s?(r?r+"&":"")+s:r,`${n}?${s}`},$S=e=>{let{data:t,compression:n}=e;if(!t)return;if(n===ks.GZipJS){const i=y5(v5(JSON.stringify(t)),{mtime:0}),s=new Blob([i],{type:$C});return{contentType:$C,body:s,estimatedSize:s.size}}if(n===ks.Base64){const i=function(o){const a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let l,c,u,d,h,p,g,m,b=0,y=0,v="";const _=[];if(!o)return o;o=WD(o);do l=o.charCodeAt(b++),c=o.charCodeAt(b++),u=o.charCodeAt(b++),m=l<<16|c<<8|u,d=m>>18&63,h=m>>12&63,p=m>>6&63,g=63&m,_[y++]=a.charAt(d)+a.charAt(h)+a.charAt(p)+a.charAt(g);while(b<o.length);switch(v=_.join(""),o.length%3){case 1:v=v.slice(0,-2)+"==";break;case 2:v=v.slice(0,-1)+"="}return v}(JSON.stringify(t)),s=(o=>"data="+encodeURIComponent(typeof o=="string"?o:JSON.stringify(o)))(i);return{contentType:"application/x-www-form-urlencoded",body:s,estimatedSize:new Blob([s]).size}}const r=JSON.stringify(t);return{contentType:"application/json",body:r,estimatedSize:new Blob([r]).size}},Y$=e=>{var t;const n=new MS;n.open(e.method||"GET",e.url,!0);const{contentType:r,body:i}=(t=$S(e))!==null&&t!==void 0?t:{};Dt(e.headers,function(s,o){n.setRequestHeader(o,s)}),r&&n.setRequestHeader("Content-Type",r),e.timeout&&(n.timeout=e.timeout),n.withCredentials=!0,n.onreadystatechange=()=>{if(n.readyState===4){var s;const o={statusCode:n.status,text:n.responseText};if(n.status===200)try{o.json=JSON.parse(n.responseText)}catch{}(s=e.callback)===null||s===void 0||s.call(e,o)}},n.send(i)},Q$=e=>{var t,n;const{contentType:r,body:i,estimatedSize:s}=(t=$S(e))!==null&&t!==void 0?t:{},o=new Headers;Dt(e.headers,function(c,u){o.append(u,c)}),r&&o.append("Content-Type",r);const a=e.url;let l=null;if(rC){const c=new rC;l={signal:c.signal,timeout:setTimeout(()=>c.abort(),e.timeout)}}RS(a,{method:(e==null?void 0:e.method)||"GET",headers:o,keepalive:e.method==="POST"&&(s||0)<52428.8,body:i,signal:(n=l)===null||n===void 0?void 0:n.signal}).then(c=>c.text().then(u=>{var d;const h={statusCode:c.status,text:u};if(c.status===200)try{h.json=JSON.parse(u)}catch(p){ie.error(p)}(d=e.callback)===null||d===void 0||d.call(e,h)})).catch(c=>{var u;ie.error(c),(u=e.callback)===null||u===void 0||u.call(e,{statusCode:0,text:c})}).finally(()=>l?clearTimeout(l.timeout):null)},J$=e=>{const t=bm(e.url,{beacon:"1"});try{var n;const{contentType:r,body:i}=(n=$S(e))!==null&&n!==void 0?n:{},s=typeof i=="string"?new Blob([i],{type:r}):i;bi.sendBeacon(t,s)}catch{}},yf=[];MS&&yf.push({transport:"XHR",method:Y$}),RS&&yf.push({transport:"fetch",method:Q$}),bi!=null&&bi.sendBeacon&&yf.push({transport:"sendBeacon",method:J$});class X${constructor(t){ve(this,"isPolling",!1);ve(this,"pollIntervalMs",3e3);ve(this,"queue",[]);this.instance=t,this.queue=[],this.areWeOnline=!0,!je(J)&&"onLine"in J.navigator&&(this.areWeOnline=J.navigator.onLine,J.addEventListener("online",()=>{this.areWeOnline=!0,this.flush()}),J.addEventListener("offline",()=>{this.areWeOnline=!1}))}retriableRequest(t){let{retriesPerformedSoFar:n,...r}=t;vi(n)&&n>0&&(r.url=bm(r.url,{retry_count:n})),this.instance._send_request({...r,callback:i=>{var s;i.statusCode!==200&&(i.statusCode<400||i.statusCode>=500)&&(n??0)<10?this.enqueue({retriesPerformedSoFar:n,...r}):(s=r.callback)===null||s===void 0||s.call(r,i)}})}enqueue(t){const n=t.retriesPerformedSoFar||0;t.retriesPerformedSoFar=n+1;const r=function(o){const a=3e3*2**o,l=a/2,c=Math.min(18e5,a),u=(Math.random()-.5)*(c-l);return Math.ceil(c+u)}(n),i=Date.now()+r;this.queue.push({retryAt:i,requestOptions:t});let s=`Enqueued failed request for retry in ${r}`;navigator.onLine||(s+=" (Browser is offline)"),ie.warn(s),this.isPolling||(this.isPolling=!0,this.poll())}poll(){this.poller&&clearTimeout(this.poller),this.poller=setTimeout(()=>{this.areWeOnline&&this.queue.length>0&&this.flush(),this.poll()},this.pollIntervalMs)}flush(){const t=Date.now(),n=[],r=this.queue.filter(i=>i.retryAt<t||(n.push(i),!1));if(this.queue=n,r.length>0)for(const{requestOptions:i}of r)this.retriableRequest(i)}unload(){this.poller&&(clearTimeout(this.poller),this.poller=void 0);for(const{requestOptions:t}of this.queue)try{this.instance._send_request({...t,transport:"sendBeacon"})}catch(n){ie.error(n)}this.queue=[]}}class Z${constructor(t,n,r,i){ve(this,"_sessionIdChangedHandlers",[]);var s;this.config=t,this.persistence=n,this._windowId=void 0,this._sessionId=void 0,this._sessionStartTimestamp=null,this._sessionActivityTimestamp=null,this._sessionIdGenerator=r||ga,this._windowIdGenerator=i||ga;const o=t.persistence_name||t.token,a=t.session_idle_timeout_seconds||1800;if(this._sessionTimeoutMs=1e3*To(a,60,1800,"session_idle_timeout_seconds"),this._window_id_storage_key="ph_"+o+"_window_id",this._primary_window_exists_storage_key="ph_"+o+"_primary_window_exists",this._canUseSessionStorage()){const l=dr.parse(this._window_id_storage_key),c=dr.parse(this._primary_window_exists_storage_key);l&&!c?this._windowId=l:dr.remove(this._window_id_storage_key),dr.set(this._primary_window_exists_storage_key,!0)}if((s=this.config.bootstrap)!==null&&s!==void 0&&s.sessionID)try{const l=(c=>{const u=c.replace(/-/g,"");if(u.length!==32)throw new Error("Not a valid UUID");if(u[12]!=="7")throw new Error("Not a UUIDv7");return parseInt(u.substring(0,12),16)})(this.config.bootstrap.sessionID);this._setSessionId(this.config.bootstrap.sessionID,new Date().getTime(),l)}catch(l){ie.error("Invalid sessionID in bootstrap",l)}this._listenToReloadWindow()}get sessionTimeoutMs(){return this._sessionTimeoutMs}onSessionId(t){return je(this._sessionIdChangedHandlers)&&(this._sessionIdChangedHandlers=[]),this._sessionIdChangedHandlers.push(t),this._sessionId&&t(this._sessionId,this._windowId),()=>{this._sessionIdChangedHandlers=this._sessionIdChangedHandlers.filter(n=>n!==t)}}_canUseSessionStorage(){return this.config.persistence!=="memory"&&!this.persistence.disabled&&dr.is_supported()}_setWindowId(t){t!==this._windowId&&(this._windowId=t,this._canUseSessionStorage()&&dr.set(this._window_id_storage_key,t))}_getWindowId(){return this._windowId?this._windowId:this._canUseSessionStorage()?dr.parse(this._window_id_storage_key):null}_setSessionId(t,n,r){t===this._sessionId&&n===this._sessionActivityTimestamp&&r===this._sessionStartTimestamp||(this._sessionStartTimestamp=r,this._sessionActivityTimestamp=n,this._sessionId=t,this.persistence.register({[dm]:[n,t,r]}))}_getSessionId(){if(this._sessionId&&this._sessionActivityTimestamp&&this._sessionStartTimestamp)return[this._sessionActivityTimestamp,this._sessionId,this._sessionStartTimestamp];const t=this.persistence.props[dm];return Wn(t)&&t.length===2&&t.push(t[0]),t||[0,null,0]}resetSessionId(){this._setSessionId(null,null,null)}_listenToReloadWindow(){J==null||J.addEventListener("beforeunload",()=>{this._canUseSessionStorage()&&dr.remove(this._primary_window_exists_storage_key)})}checkAndGetSessionAndWindowId(){let t=arguments.length>0&&arguments[0]!==void 0&&arguments[0];const n=(arguments.length>1&&arguments[1]!==void 0?arguments[1]:null)||new Date().getTime();let[r,i,s]=this._getSessionId(),o=this._getWindowId();const a=vi(s)&&s>0&&Math.abs(n-s)>864e5;let l=!1;const c=!i,u=!t&&Math.abs(n-r)>this.sessionTimeoutMs;c||u||a?(i=this._sessionIdGenerator(),o=this._windowIdGenerator(),ie.info("[SessionId] new session ID generated",{sessionId:i,windowId:o,changeReason:{noSessionId:c,activityTimeout:u,sessionPastMaximumLength:a}}),s=n,l=!0):o||(o=this._windowIdGenerator(),l=!0);const d=r===0||!t||a?n:r,h=s===0?new Date().getTime():s;return this._setWindowId(o),this._setSessionId(i,d,h),l&&this._sessionIdChangedHandlers.forEach(p=>p(i,o,l?{noSessionId:c,activityTimeout:u,sessionPastMaximumLength:a}:void 0)),{sessionId:i,windowId:o,sessionStartTimestamp:h,changeReason:l?{noSessionId:c,activityTimeout:u,sessionPastMaximumLength:a}:void 0,lastActivityTimestamp:r}}}let Sl;(function(e){e.US="us",e.EU="eu",e.CUSTOM="custom"})(Sl||(Sl={}));const FC="i.posthog.com";class eF{constructor(t){ve(this,"_regionCache",{});this.instance=t}get apiHost(){const t=this.instance.config.api_host.trim().replace(/\/$/,"");return t==="https://app.posthog.com"?"https://us.i.posthog.com":t}get uiHost(){var t;let n=(t=this.instance.config.ui_host)===null||t===void 0?void 0:t.replace(/\/$/,"");return n||(n=this.apiHost.replace(`.${FC}`,".posthog.com")),n==="https://app.posthog.com"?"https://us.posthog.com":n}get region(){return this._regionCache[this.apiHost]||(/https:\/\/(app|us|us-assets)(\.i)?\.posthog\.com/i.test(this.apiHost)?this._regionCache[this.apiHost]=Sl.US:/https:\/\/(eu|eu-assets)(\.i)?\.posthog\.com/i.test(this.apiHost)?this._regionCache[this.apiHost]=Sl.EU:this._regionCache[this.apiHost]=Sl.CUSTOM),this._regionCache[this.apiHost]}endpointFor(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";if(n&&(n=n[0]==="/"?n:`/${n}`),t==="ui")return this.uiHost+n;if(this.region===Sl.CUSTOM)return this.apiHost+n;const r=FC+n;switch(t){case"assets":return`https://${this.region}-assets.${r}`;case"api":return`https://${this.region}.${r}`}}}const A5="posthog-js";function b5(e){let{organization:t,projectId:n,prefix:r,severityAllowList:i=["error"]}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return s=>{var o,a,l,c,u;if(!(i==="*"||i.includes(s.level))||!e.__loaded)return s;s.tags||(s.tags={});const d=e.requestRouter.endpointFor("ui",`/project/${e.config.token}/person/${e.get_distinct_id()}`);s.tags["PostHog Person URL"]=d,e.sessionRecordingStarted()&&(s.tags["PostHog Recording URL"]=e.get_session_replay_url({withTimestamp:!0}));const h=((o=s.exception)===null||o===void 0?void 0:o.values)||[],p={$exception_message:((a=h[0])===null||a===void 0?void 0:a.value)||s.message,$exception_type:(l=h[0])===null||l===void 0?void 0:l.type,$exception_personURL:d,$exception_level:s.level,$exception_list:h,$sentry_event_id:s.event_id,$sentry_exception:s.exception,$sentry_exception_message:((c=h[0])===null||c===void 0?void 0:c.value)||s.message,$sentry_exception_type:(u=h[0])===null||u===void 0?void 0:u.type,$sentry_tags:s.tags,$level:s.level};return t&&n&&(p.$sentry_url=(r||"https://sentry.io/organizations/")+t+"/issues/?project="+n+"&query="+s.event_id),e.exceptions.sendExceptionEvent(p),s}}class tF{constructor(t,n,r,i,s){this.name=A5,this.setupOnce=function(o){o(b5(t,{organization:n,projectId:r,prefix:i,severityAllowList:s}))}}}function nF(e,t){const n=e.config.segment;if(!n)return t();(function(r,i){const s=r.config.segment;if(!s)return i();const o=l=>{const c=()=>l.anonymousId()||ga();r.config.get_device_id=c,l.id()&&(r.register({distinct_id:l.id(),$device_id:c()}),r.persistence.set_property(Ao,"identified")),i()},a=s.user();"then"in a&&Xi(a.then)?a.then(l=>o(l)):o(a)})(e,()=>{n.register((r=>{Promise&&Promise.resolve||ie.warn("This browser does not have Promise support, and can not use the segment integration");const i=(s,o)=>{var a;if(!o)return s;s.event.userId||s.event.anonymousId===r.get_distinct_id()||(ie.info("Segment integration does not have a userId set, resetting PostHog"),r.reset()),s.event.userId&&s.event.userId!==r.get_distinct_id()&&(ie.info("Segment integration has a userId set, identifying with PostHog"),r.identify(s.event.userId));const l=r._calculate_event_properties(o,(a=s.event.properties)!==null&&a!==void 0?a:{},new Date);return s.event.properties=Object.assign({},l,s.event.properties),s};return{name:"PostHog JS",type:"enrichment",version:"1.0.0",isLoaded:()=>!0,load:()=>Promise.resolve(),track:s=>i(s,s.event.event),page:s=>i(s,"$pageview"),identify:s=>i(s,"$identify"),screen:s=>i(s,"$screen")}})(e)).then(()=>{t()})})}class rF{constructor(t){this._instance=t}doPageView(t){var n;const r=this._previousPageViewProperties(t);return this._currentPath=(n=J==null?void 0:J.location.pathname)!==null&&n!==void 0?n:"",this._instance.scrollManager.resetContext(),this._prevPageviewTimestamp=t,r}doPageLeave(t){return this._previousPageViewProperties(t)}_previousPageViewProperties(t){const n=this._currentPath,r=this._prevPageviewTimestamp,i=this._instance.scrollManager.getContext();if(!r)return{};let s={};if(i){let{maxScrollHeight:o,lastScrollY:a,maxScrollY:l,maxContentHeight:c,lastContentY:u,maxContentY:d}=i;je(o)||je(a)||je(l)||je(c)||je(u)||je(d)||(o=Math.ceil(o),a=Math.ceil(a),l=Math.ceil(l),c=Math.ceil(c),u=Math.ceil(u),d=Math.ceil(d),s={$prev_pageview_last_scroll:a,$prev_pageview_last_scroll_percentage:o<=1?1:To(a/o,0,1),$prev_pageview_max_scroll:l,$prev_pageview_max_scroll_percentage:o<=1?1:To(l/o,0,1),$prev_pageview_last_content:u,$prev_pageview_last_content_percentage:c<=1?1:To(u/c,0,1),$prev_pageview_max_content:d,$prev_pageview_max_content_percentage:c<=1?1:To(d/c,0,1)})}return n&&(s.$prev_pageview_pathname=n),r&&(s.$prev_pageview_duration=(t.getTime()-r.getTime())/1e3),s}}let zC,_m,As;(function(e){e.Popover="popover",e.API="api",e.Widget="widget"})(zC||(zC={})),function(e){e.Open="open",e.MultipleChoice="multiple_choice",e.SingleChoice="single_choice",e.Rating="rating",e.Link="link"}(_m||(_m={})),function(e){e.NextQuestion="next_question",e.End="end",e.ResponseBased="response_based",e.SpecificQuestion="specific_question"}(As||(As={}));class _5{constructor(){ve(this,"events",{});this.events={}}on(t,n){return this.events[t]||(this.events[t]=[]),this.events[t].push(n),()=>{this.events[t]=this.events[t].filter(r=>r!==n)}}emit(t,n){for(const r of this.events[t]||[])r(n);for(const r of this.events["*"]||[])r(t,n)}}class yl{constructor(t){ve(this,"_debugEventEmitter",new _5);ve(this,"checkStep",(t,n)=>this.checkStepEvent(t,n)&&this.checkStepUrl(t,n)&&this.checkStepElement(t,n));ve(this,"checkStepEvent",(t,n)=>n==null||!n.event||(t==null?void 0:t.event)===(n==null?void 0:n.event));this.instance=t,this.actionEvents=new Set,this.actionRegistry=new Set}init(){var t;if(!je((t=this.instance)===null||t===void 0?void 0:t._addCaptureHook)){var n;const r=(i,s)=>{this.on(i,s)};(n=this.instance)===null||n===void 0||n._addCaptureHook(r)}}register(t){var n,r;if(!je((n=this.instance)===null||n===void 0?void 0:n._addCaptureHook)&&(t.forEach(s=>{var o,a;(o=this.actionRegistry)===null||o===void 0||o.add(s),(a=s.steps)===null||a===void 0||a.forEach(l=>{var c;(c=this.actionEvents)===null||c===void 0||c.add((l==null?void 0:l.event)||"")})}),(r=this.instance)!==null&&r!==void 0&&r.autocapture)){var i;const s=new Set;t.forEach(o=>{var a;(a=o.steps)===null||a===void 0||a.forEach(l=>{l!=null&&l.selector&&s.add(l==null?void 0:l.selector)})}),(i=this.instance)===null||i===void 0||i.autocapture.setElementSelectors(s)}}on(t,n){var r;n!=null&&t.length!=0&&(this.actionEvents.has(t)||this.actionEvents.has(n==null?void 0:n.event))&&this.actionRegistry&&((r=this.actionRegistry)===null||r===void 0?void 0:r.size)>0&&this.actionRegistry.forEach(i=>{this.checkAction(n,i)&&this._debugEventEmitter.emit("actionCaptured",i.name)})}_addActionHook(t){this.onAction("actionCaptured",n=>t(n))}checkAction(t,n){if((n==null?void 0:n.steps)==null)return!1;for(const r of n.steps)if(this.checkStep(t,r))return!0;return!1}onAction(t,n){return this._debugEventEmitter.on(t,n)}checkStepUrl(t,n){if(n!=null&&n.url){var r;const i=t==null||(r=t.properties)===null||r===void 0?void 0:r.$current_url;if(!i||typeof i!="string"||!yl.matchString(i,n==null?void 0:n.url,(n==null?void 0:n.url_matching)||"contains"))return!1}return!0}static matchString(t,n,r){switch(r){case"regex":return!!J&&Eu(t,n);case"exact":return n===t;case"contains":const i=yl.escapeStringRegexp(n).replace(/_/g,".").replace(/%/g,".*");return Eu(t,i);default:return!1}}static escapeStringRegexp(t){return t.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}checkStepElement(t,n){if((n!=null&&n.href||n!=null&&n.tag_name||n!=null&&n.text)&&!this.getElementsList(t).some(i=>!(n!=null&&n.href&&!yl.matchString(i.href||"",n==null?void 0:n.href,(n==null?void 0:n.href_matching)||"exact"))&&(n==null||!n.tag_name||i.tag_name===(n==null?void 0:n.tag_name))&&!(n!=null&&n.text&&!yl.matchString(i.text||"",n==null?void 0:n.text,(n==null?void 0:n.text_matching)||"exact")&&!yl.matchString(i.$el_text||"",n==null?void 0:n.text,(n==null?void 0:n.text_matching)||"exact"))))return!1;if(n!=null&&n.selector){var r;const i=t==null||(r=t.properties)===null||r===void 0?void 0:r.$element_selectors;if(!i||!i.includes(n==null?void 0:n.selector))return!1}return!0}getElementsList(t){return(t==null?void 0:t.properties.$elements)==null?[]:t==null?void 0:t.properties.$elements}}const V0=class V0{constructor(t){this.instance=t,this.eventToSurveys=new Map,this.actionToSurveys=new Map}register(t){var n;je((n=this.instance)===null||n===void 0?void 0:n._addCaptureHook)||(this.setupEventBasedSurveys(t),this.setupActionBasedSurveys(t))}setupActionBasedSurveys(t){const n=t.filter(r=>{var i,s,o,a;return((i=r.conditions)===null||i===void 0?void 0:i.actions)&&((s=r.conditions)===null||s===void 0||(o=s.actions)===null||o===void 0||(a=o.values)===null||a===void 0?void 0:a.length)>0});if(n.length!==0){if(this.actionMatcher==null){this.actionMatcher=new yl(this.instance),this.actionMatcher.init();const r=i=>{this.onAction(i)};this.actionMatcher._addActionHook(r)}n.forEach(r=>{var i,s,o,a,l,c,u,d,h,p;r.conditions&&(i=r.conditions)!==null&&i!==void 0&&i.actions&&(s=r.conditions)!==null&&s!==void 0&&(o=s.actions)!==null&&o!==void 0&&o.values&&((a=r.conditions)===null||a===void 0||(l=a.actions)===null||l===void 0||(c=l.values)===null||c===void 0?void 0:c.length)>0&&((u=this.actionMatcher)===null||u===void 0||u.register(r.conditions.actions.values),(d=r.conditions)===null||d===void 0||(h=d.actions)===null||h===void 0||(p=h.values)===null||p===void 0||p.forEach(g=>{if(g&&g.name){const m=this.actionToSurveys.get(g.name);m&&m.push(r.id),this.actionToSurveys.set(g.name,m||[r.id])}}))})}}setupEventBasedSurveys(t){var n;t.filter(r=>{var i,s,o,a;return((i=r.conditions)===null||i===void 0?void 0:i.events)&&((s=r.conditions)===null||s===void 0||(o=s.events)===null||o===void 0||(a=o.values)===null||a===void 0?void 0:a.length)>0}).length!==0&&((n=this.instance)===null||n===void 0||n._addCaptureHook((r,i)=>{this.onEvent(r,i)}),t.forEach(r=>{var i,s,o;(i=r.conditions)===null||i===void 0||(s=i.events)===null||s===void 0||(o=s.values)===null||o===void 0||o.forEach(a=>{if(a&&a.name){const l=this.eventToSurveys.get(a.name);l&&l.push(r.id),this.eventToSurveys.set(a.name,l||[r.id])}})}))}onEvent(t,n){var r,i;const s=((r=this.instance)===null||r===void 0||(i=r.persistence)===null||i===void 0?void 0:i.props[gp])||[];if(V0.SURVEY_SHOWN_EVENT_NAME==t&&n&&s.length>0){var o;const a=n==null||(o=n.properties)===null||o===void 0?void 0:o.$survey_id;if(a){const l=s.indexOf(a);l>=0&&(s.splice(l,1),this._updateActivatedSurveys(s))}}else this.eventToSurveys.has(t)&&this._updateActivatedSurveys(s.concat(this.eventToSurveys.get(t)||[]))}onAction(t){var n,r;const i=((n=this.instance)===null||n===void 0||(r=n.persistence)===null||r===void 0?void 0:r.props[gp])||[];this.actionToSurveys.has(t)&&this._updateActivatedSurveys(i.concat(this.actionToSurveys.get(t)||[]))}_updateActivatedSurveys(t){var n,r;(n=this.instance)===null||n===void 0||(r=n.persistence)===null||r===void 0||r.register({[gp]:[...new Set(t)]})}getSurveys(){var t,n;return((t=this.instance)===null||t===void 0||(n=t.persistence)===null||n===void 0?void 0:n.props[gp])||[]}getEventToSurveys(){return this.eventToSurveys}_getActionMatcher(){return this.actionMatcher}};ve(V0,"SURVEY_SHOWN_EVENT_NAME","survey shown");let Sm=V0;var S5,xn,x5,vl,UC,w5,H1,E5,G1={},C5=[],iF=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,FS=Array.isArray;function ma(e,t){for(var n in t)e[n]=t[n];return e}function k5(e){var t=e.parentNode;t&&t.removeChild(e)}function Mv(e,t,n,r,i){var s={type:e,props:t,key:n,ref:r,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:i??++x5,__i:-1,__u:0};return i==null&&xn.vnode!=null&&xn.vnode(s),s}function zS(e){return e.children}function kg(e,t){this.props=e,this.context=t}function Iu(e,t){if(t==null)return e.__?Iu(e.__,e.__i+1):null;for(var n;t<e.__k.length;t++)if((n=e.__k[t])!=null&&n.__e!=null)return n.__e;return typeof e.type=="function"?Iu(e):null}function T5(e){var t,n;if((e=e.__)!=null&&e.__c!=null){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if((n=e.__k[t])!=null&&n.__e!=null){e.__e=e.__c.base=n.__e;break}return T5(e)}}function q1(e){(!e.__d&&(e.__d=!0)&&vl.push(e)&&!xm.__r++||UC!==xn.debounceRendering)&&((UC=xn.debounceRendering)||w5)(xm)}function xm(){var e,t,n,r,i,s,o,a,l;for(vl.sort(H1);e=vl.shift();)e.__d&&(t=vl.length,r=void 0,s=(i=(n=e).__v).__e,a=[],l=[],(o=n.__P)&&((r=ma({},i)).__v=i.__v+1,xn.vnode&&xn.vnode(r),R5(o,r,i,n.__n,o.ownerSVGElement!==void 0,32&i.__u?[s]:null,a,s??Iu(i),!!(32&i.__u),l),r.__.__k[r.__i]=r,aF(a,r,l),r.__e!=s&&T5(r)),vl.length>t&&vl.sort(H1));xm.__r=0}function I5(e,t,n,r,i,s,o,a,l,c,u){var d,h,p,g,m,b=r&&r.__k||C5,y=t.length;for(n.__d=l,sF(n,t,b),l=n.__d,d=0;d<y;d++)(p=n.__k[d])!=null&&typeof p!="boolean"&&typeof p!="function"&&(h=p.__i===-1?G1:b[p.__i]||G1,p.__i=d,R5(e,p,h,i,s,o,a,l,c,u),g=p.__e,p.ref&&h.ref!=p.ref&&(h.ref&&US(h.ref,null,p),u.push(p.ref,p.__c||g,p)),m==null&&g!=null&&(m=g),65536&p.__u||h.__k===p.__k?l=P5(p,l,e):typeof p.type=="function"&&p.__d!==void 0?l=p.__d:g&&(l=g.nextSibling),p.__d=void 0,p.__u&=-196609);n.__d=l,n.__e=m}function sF(e,t,n){var r,i,s,o,a,l=t.length,c=n.length,u=c,d=0;for(e.__k=[],r=0;r<l;r++)(i=e.__k[r]=(i=t[r])==null||typeof i=="boolean"||typeof i=="function"?null:typeof i=="string"||typeof i=="number"||typeof i=="bigint"||i.constructor==String?Mv(null,i,null,null,i):FS(i)?Mv(zS,{children:i},null,null,null):i.constructor===void 0&&i.__b>0?Mv(i.type,i.props,i.key,i.ref?i.ref:null,i.__v):i)!=null?(i.__=e,i.__b=e.__b+1,a=oF(i,n,o=r+d,u),i.__i=a,s=null,a!==-1&&(u--,(s=n[a])&&(s.__u|=131072)),s==null||s.__v===null?(a==-1&&d--,typeof i.type!="function"&&(i.__u|=65536)):a!==o&&(a===o+1?d++:a>o?u>l-o?d+=a-o:d--:d=a<o&&a==o-1?a-o:0,a!==r+d&&(i.__u|=65536))):(s=n[r])&&s.key==null&&s.__e&&(s.__e==e.__d&&(e.__d=Iu(s)),W1(s,s,!1),n[r]=null,u--);if(u)for(r=0;r<c;r++)(s=n[r])!=null&&!(131072&s.__u)&&(s.__e==e.__d&&(e.__d=Iu(s)),W1(s,s))}function P5(e,t,n){var r,i;if(typeof e.type=="function"){for(r=e.__k,i=0;r&&i<r.length;i++)r[i]&&(r[i].__=e,t=P5(r[i],t,n));return t}return e.__e!=t&&(n.insertBefore(e.__e,t||null),t=e.__e),t&&t.nextSibling}function oF(e,t,n,r){var i=e.key,s=e.type,o=n-1,a=n+1,l=t[n];if(l===null||l&&i==l.key&&s===l.type)return n;if(r>(l!=null&&!(131072&l.__u)?1:0))for(;o>=0||a<t.length;){if(o>=0){if((l=t[o])&&!(131072&l.__u)&&i==l.key&&s===l.type)return o;o--}if(a<t.length){if((l=t[a])&&!(131072&l.__u)&&i==l.key&&s===l.type)return a;a++}}return-1}function HC(e,t,n){t[0]==="-"?e.setProperty(t,n??""):e[t]=n==null?"":typeof n!="number"||iF.test(t)?n:n+"px"}function _p(e,t,n,r,i){var s;e:if(t==="style")if(typeof n=="string")e.style.cssText=n;else{if(typeof r=="string"&&(e.style.cssText=r=""),r)for(t in r)n&&t in n||HC(e.style,t,"");if(n)for(t in n)r&&n[t]===r[t]||HC(e.style,t,n[t])}else if(t[0]==="o"&&t[1]==="n")s=t!==(t=t.replace(/(PointerCapture)$|Capture$/,"$1")),t=t.toLowerCase()in e?t.toLowerCase().slice(2):t.slice(2),e.l||(e.l={}),e.l[t+s]=n,n?r?n.u=r.u:(n.u=Date.now(),e.addEventListener(t,s?qC:GC,s)):e.removeEventListener(t,s?qC:GC,s);else{if(i)t=t.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(t!=="width"&&t!=="height"&&t!=="href"&&t!=="list"&&t!=="form"&&t!=="tabIndex"&&t!=="download"&&t!=="rowSpan"&&t!=="colSpan"&&t!=="role"&&t in e)try{e[t]=n??"";break e}catch{}typeof n=="function"||(n==null||n===!1&&t[4]!=="-"?e.removeAttribute(t):e.setAttribute(t,n))}}function GC(e){var t=this.l[e.type+!1];if(e.t){if(e.t<=t.u)return}else e.t=Date.now();return t(xn.event?xn.event(e):e)}function qC(e){return this.l[e.type+!0](xn.event?xn.event(e):e)}function R5(e,t,n,r,i,s,o,a,l,c){var u,d,h,p,g,m,b,y,v,_,x,S,E,C,k,O=t.type;if(t.constructor!==void 0)return null;128&n.__u&&(l=!!(32&n.__u),s=[a=t.__e=n.__e]),(u=xn.__b)&&u(t);e:if(typeof O=="function")try{if(y=t.props,v=(u=O.contextType)&&r[u.__c],_=u?v?v.props.value:u.__:r,n.__c?b=(d=t.__c=n.__c).__=d.__E:("prototype"in O&&O.prototype.render?t.__c=d=new O(y,_):(t.__c=d=new kg(y,_),d.constructor=O,d.render=cF),v&&v.sub(d),d.props=y,d.state||(d.state={}),d.context=_,d.__n=r,h=d.__d=!0,d.__h=[],d._sb=[]),d.__s==null&&(d.__s=d.state),O.getDerivedStateFromProps!=null&&(d.__s==d.state&&(d.__s=ma({},d.__s)),ma(d.__s,O.getDerivedStateFromProps(y,d.__s))),p=d.props,g=d.state,d.__v=t,h)O.getDerivedStateFromProps==null&&d.componentWillMount!=null&&d.componentWillMount(),d.componentDidMount!=null&&d.__h.push(d.componentDidMount);else{if(O.getDerivedStateFromProps==null&&y!==p&&d.componentWillReceiveProps!=null&&d.componentWillReceiveProps(y,_),!d.__e&&(d.shouldComponentUpdate!=null&&d.shouldComponentUpdate(y,d.__s,_)===!1||t.__v===n.__v)){for(t.__v!==n.__v&&(d.props=y,d.state=d.__s,d.__d=!1),t.__e=n.__e,t.__k=n.__k,t.__k.forEach(function(w){w&&(w.__=t)}),x=0;x<d._sb.length;x++)d.__h.push(d._sb[x]);d._sb=[],d.__h.length&&o.push(d);break e}d.componentWillUpdate!=null&&d.componentWillUpdate(y,d.__s,_),d.componentDidUpdate!=null&&d.__h.push(function(){d.componentDidUpdate(p,g,m)})}if(d.context=_,d.props=y,d.__P=e,d.__e=!1,S=xn.__r,E=0,"prototype"in O&&O.prototype.render){for(d.state=d.__s,d.__d=!1,S&&S(t),u=d.render(d.props,d.state,d.context),C=0;C<d._sb.length;C++)d.__h.push(d._sb[C]);d._sb=[]}else do d.__d=!1,S&&S(t),u=d.render(d.props,d.state,d.context),d.state=d.__s;while(d.__d&&++E<25);d.state=d.__s,d.getChildContext!=null&&(r=ma(ma({},r),d.getChildContext())),h||d.getSnapshotBeforeUpdate==null||(m=d.getSnapshotBeforeUpdate(p,g)),I5(e,FS(k=u!=null&&u.type===zS&&u.key==null?u.props.children:u)?k:[k],t,n,r,i,s,o,a,l,c),d.base=t.__e,t.__u&=-161,d.__h.length&&o.push(d),b&&(d.__E=d.__=null)}catch(w){t.__v=null,l||s!=null?(t.__e=a,t.__u|=l?160:32,s[s.indexOf(a)]=null):(t.__e=n.__e,t.__k=n.__k),xn.__e(w,t,n)}else s==null&&t.__v===n.__v?(t.__k=n.__k,t.__e=n.__e):t.__e=lF(n.__e,t,n,r,i,s,o,l,c);(u=xn.diffed)&&u(t)}function aF(e,t,n){t.__d=void 0;for(var r=0;r<n.length;r++)US(n[r],n[++r],n[++r]);xn.__c&&xn.__c(t,e),e.some(function(i){try{e=i.__h,i.__h=[],e.some(function(s){s.call(i)})}catch(s){xn.__e(s,i.__v)}})}function lF(e,t,n,r,i,s,o,a,l){var c,u,d,h,p,g,m,b=n.props,y=t.props,v=t.type;if(v==="svg"&&(i=!0),s!=null){for(c=0;c<s.length;c++)if((p=s[c])&&"setAttribute"in p==!!v&&(v?p.localName===v:p.nodeType===3)){e=p,s[c]=null;break}}if(e==null){if(v===null)return document.createTextNode(y);e=i?document.createElementNS("http://www.w3.org/2000/svg",v):document.createElement(v,y.is&&y),s=null,a=!1}if(v===null)b===y||a&&e.data===y||(e.data=y);else{if(s=s&&S5.call(e.childNodes),b=n.props||G1,!a&&s!=null)for(b={},c=0;c<e.attributes.length;c++)b[(p=e.attributes[c]).name]=p.value;for(c in b)p=b[c],c=="children"||(c=="dangerouslySetInnerHTML"?d=p:c==="key"||c in y||_p(e,c,null,p,i));for(c in y)p=y[c],c=="children"?h=p:c=="dangerouslySetInnerHTML"?u=p:c=="value"?g=p:c=="checked"?m=p:c==="key"||a&&typeof p!="function"||b[c]===p||_p(e,c,p,b[c],i);if(u)a||d&&(u.__html===d.__html||u.__html===e.innerHTML)||(e.innerHTML=u.__html),t.__k=[];else if(d&&(e.innerHTML=""),I5(e,FS(h)?h:[h],t,n,r,i&&v!=="foreignObject",s,o,s?s[0]:n.__k&&Iu(n,0),a,l),s!=null)for(c=s.length;c--;)s[c]!=null&&k5(s[c]);a||(c="value",g!==void 0&&(g!==e[c]||v==="progress"&&!g||v==="option"&&g!==b[c])&&_p(e,c,g,b[c],!1),c="checked",m!==void 0&&m!==e[c]&&_p(e,c,m,b[c],!1))}return e}function US(e,t,n){try{typeof e=="function"?e(t):e.current=t}catch(r){xn.__e(r,n)}}function W1(e,t,n){var r,i;if(xn.unmount&&xn.unmount(e),(r=e.ref)&&(r.current&&r.current!==e.__e||US(r,null,t)),(r=e.__c)!=null){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(s){xn.__e(s,t)}r.base=r.__P=null,e.__c=void 0}if(r=e.__k)for(i=0;i<r.length;i++)r[i]&&W1(r[i],t,n||typeof e.type!="function");n||e.__e==null||k5(e.__e),e.__=e.__e=e.__d=void 0}function cF(e,t,n){return this.constructor(e,n)}S5=C5.slice,xn={__e:function(e,t,n,r){for(var i,s,o;t=t.__;)if((i=t.__c)&&!i.__)try{if((s=i.constructor)&&s.getDerivedStateFromError!=null&&(i.setState(s.getDerivedStateFromError(e)),o=i.__d),i.componentDidCatch!=null&&(i.componentDidCatch(e,r||{}),o=i.__d),o)return i.__E=i}catch(a){e=a}throw e}},x5=0,kg.prototype.setState=function(e,t){var n;n=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=ma({},this.state),typeof e=="function"&&(e=e(ma({},n),this.props)),e&&ma(n,e),e!=null&&this.__v&&(t&&this._sb.push(t),q1(this))},kg.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),q1(this))},kg.prototype.render=zS,vl=[],w5=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,H1=function(e,t){return e.__v.__b-t.__v.__b},xm.__r=0,E5=0;(function(e,t){var n={__c:t="__cC"+E5++,__:e,Consumer:function(r,i){return r.children(i)},Provider:function(r){var i,s;return this.getChildContext||(i=[],(s={})[t]=this,this.getChildContext=function(){return s},this.shouldComponentUpdate=function(o){this.props.value!==o.value&&i.some(function(a){a.__e=!0,q1(a)})},this.sub=function(o){i.push(o);var a=o.componentWillUnmount;o.componentWillUnmount=function(){i.splice(i.indexOf(o),1),a&&a.call(o)}}),r.children}};n.Provider.__=n.Consumer.contextType=n})({isPreviewMode:!1,previewPageIndex:0,handleCloseSurveyPopup:()=>{},isPopup:!0});const Cd="[Surveys]",uF={icontains:e=>!!J&&J.location.href.toLowerCase().indexOf(e.toLowerCase())>-1,not_icontains:e=>!!J&&J.location.href.toLowerCase().indexOf(e.toLowerCase())===-1,regex:e=>!!J&&Eu(J.location.href,e),not_regex:e=>!!J&&!Eu(J.location.href,e),exact:e=>(J==null?void 0:J.location.href)===e,is_not:e=>(J==null?void 0:J.location.href)!==e};class dF{constructor(t){this.instance=t,this._surveyEventReceiver=null}afterDecideResponse(t){this._decideServerResponse=!!t.surveys,this.loadIfEnabled()}reset(){localStorage.removeItem("lastSeenSurveyDate"),(()=>{const n=[];for(let r=0;r<localStorage.length;r++){const i=localStorage.key(r);i!=null&&i.startsWith("seenSurvey_")&&n.push(i)}return n})().forEach(n=>localStorage.removeItem(n))}loadIfEnabled(){var t;const n=tt==null||(t=tt.__PosthogExtensions__)===null||t===void 0?void 0:t.generateSurveys;var r,i;this.instance.config.disable_surveys||!this._decideServerResponse||n||(this._surveyEventReceiver==null&&(this._surveyEventReceiver=new Sm(this.instance)),(r=tt.__PosthogExtensions__)===null||r===void 0||(i=r.loadExternalDependency)===null||i===void 0||i.call(r,this.instance,"surveys",s=>{var o,a;if(s)return ie.error(Cd,"Could not load surveys script",s);this._surveyManager=(o=tt.__PosthogExtensions__)===null||o===void 0||(a=o.generateSurveys)===null||a===void 0?void 0:a.call(o,this.instance)}))}getSurveys(t){let n=arguments.length>1&&arguments[1]!==void 0&&arguments[1];if(this.instance.config.disable_surveys)return t([]);this._surveyEventReceiver==null&&(this._surveyEventReceiver=new Sm(this.instance));const r=this.instance.get_property(E1);if(r&&!n)return t(r);this.instance._send_request({url:this.instance.requestRouter.endpointFor("api",`/api/surveys/?token=${this.instance.config.token}`),method:"GET",transport:"XHR",callback:i=>{var s;if(i.statusCode!==200||!i.json)return t([]);const o=i.json.surveys||[],a=o.filter(c=>{var u,d,h,p,g,m,b,y,v,_,x,S;return((u=c.conditions)===null||u===void 0?void 0:u.events)&&((d=c.conditions)===null||d===void 0||(h=d.events)===null||h===void 0?void 0:h.values)&&((p=c.conditions)===null||p===void 0||(g=p.events)===null||g===void 0||(m=g.values)===null||m===void 0?void 0:m.length)>0||((b=c.conditions)===null||b===void 0?void 0:b.actions)&&((y=c.conditions)===null||y===void 0||(v=y.actions)===null||v===void 0?void 0:v.values)&&((_=c.conditions)===null||_===void 0||(x=_.actions)===null||x===void 0||(S=x.values)===null||S===void 0?void 0:S.length)>0});var l;return a.length>0&&((l=this._surveyEventReceiver)===null||l===void 0||l.register(a)),(s=this.instance.persistence)===null||s===void 0||s.register({[E1]:o}),t(o)}})}getActiveMatchingSurveys(t){let n=arguments.length>1&&arguments[1]!==void 0&&arguments[1];this.getSurveys(r=>{var i;const s=r.filter(l=>!(!l.start_date||l.end_date)).filter(l=>{var c,u,d,h;if(!l.conditions)return!0;const p=(c=l.conditions)===null||c===void 0||!c.url||uF[(u=(d=l.conditions)===null||d===void 0?void 0:d.urlMatchType)!==null&&u!==void 0?u:"icontains"](l.conditions.url),g=(h=l.conditions)===null||h===void 0||!h.selector||(we==null?void 0:we.querySelector(l.conditions.selector));return p&&g}),o=(i=this._surveyEventReceiver)===null||i===void 0?void 0:i.getSurveys(),a=s.filter(l=>{var c,u,d,h,p,g,m,b,y,v;if(!l.linked_flag_key&&!l.targeting_flag_key&&!l.internal_targeting_flag_key)return!0;const _=!l.linked_flag_key||this.instance.featureFlags.isFeatureEnabled(l.linked_flag_key),x=!l.targeting_flag_key||this.instance.featureFlags.isFeatureEnabled(l.targeting_flag_key),S=((c=l.conditions)===null||c===void 0?void 0:c.events)&&((u=l.conditions)===null||u===void 0||(d=u.events)===null||d===void 0?void 0:d.values)&&((h=l.conditions)===null||h===void 0||(p=h.events)===null||p===void 0?void 0:p.values.length)>0,E=((g=l.conditions)===null||g===void 0?void 0:g.actions)&&((m=l.conditions)===null||m===void 0||(b=m.actions)===null||b===void 0?void 0:b.values)&&((y=l.conditions)===null||y===void 0||(v=y.actions)===null||v===void 0?void 0:v.values.length)>0,C=!S&&!E||(o==null?void 0:o.includes(l.id)),k=this._canActivateRepeatedly(l),O=!(l.internal_targeting_flag_key&&!k)||this.instance.featureFlags.isFeatureEnabled(l.internal_targeting_flag_key);return _&&x&&O&&C});return t(a)},n)}getNextSurveyStep(t,n,r){var i;const s=t.questions[n],o=n+1;if((i=s.branching)===null||i===void 0||!i.type)return n===t.questions.length-1?As.End:o;if(s.branching.type===As.End)return As.End;if(s.branching.type===As.SpecificQuestion){if(Number.isInteger(s.branching.index))return s.branching.index}else if(s.branching.type===As.ResponseBased){if(s.type===_m.SingleChoice){var a,l;const d=s.choices.indexOf(`${r}`);if((a=s.branching)!==null&&a!==void 0&&(l=a.responseValues)!==null&&l!==void 0&&l.hasOwnProperty(d)){const h=s.branching.responseValues[d];return Number.isInteger(h)?h:h===As.End?As.End:o}}else if(s.type===_m.Rating){var c,u;if(typeof r!="number"||!Number.isInteger(r))throw new Error("The response type must be an integer");const d=function(h,p){if(p===3){if(h<1||h>3)throw new Error("The response must be in range 1-3");return h===1?"negative":h===2?"neutral":"positive"}if(p===5){if(h<1||h>5)throw new Error("The response must be in range 1-5");return h<=2?"negative":h===3?"neutral":"positive"}if(p===7){if(h<1||h>7)throw new Error("The response must be in range 1-7");return h<=3?"negative":h===4?"neutral":"positive"}if(p===10){if(h<0||h>10)throw new Error("The response must be in range 0-10");return h<=6?"detractors":h<=8?"passives":"promoters"}throw new Error("The scale must be one of: 3, 5, 7, 10")}(r,s.scale);if((c=s.branching)!==null&&c!==void 0&&(u=c.responseValues)!==null&&u!==void 0&&u.hasOwnProperty(d)){const h=s.branching.responseValues[d];return Number.isInteger(h)?h:h===As.End?As.End:o}}return o}return ie.warn(Cd,"Falling back to next question index due to unexpected branching type"),o}_canActivateRepeatedly(t){var n;return Sn((n=tt.__PosthogExtensions__)===null||n===void 0?void 0:n.canActivateRepeatedly)?(ie.warn(Cd,"canActivateRepeatedly is not defined, must init before calling"),!1):tt.__PosthogExtensions__.canActivateRepeatedly(t)}canRenderSurvey(t){Sn(this._surveyManager)?ie.warn(Cd,"canActivateRepeatedly is not defined, must init before calling"):this.getSurveys(n=>{const r=n.filter(i=>i.id===t)[0];this._surveyManager.canRenderSurvey(r)})}renderSurvey(t,n){Sn(this._surveyManager)?ie.warn(Cd,"canActivateRepeatedly is not defined, must init before calling"):this.getSurveys(r=>{const i=r.filter(s=>s.id===t)[0];this._surveyManager.renderSurvey(i,we==null?void 0:we.querySelector(n))})}}class fF{constructor(t){ve(this,"serverLimits",{});ve(this,"lastEventRateLimited",!1);ve(this,"checkForLimiting",t=>{const n=t.text;if(n&&n.length)try{(JSON.parse(n).quota_limited||[]).forEach(i=>{ie.info(`[RateLimiter] ${i||"events"} is quota limited.`),this.serverLimits[i]=new Date().getTime()+6e4})}catch(r){return void ie.warn(`[RateLimiter] could not rate limit - continuing. Error: "${r==null?void 0:r.message}"`,{text:n})}});var n,r;this.instance=t,this.captureEventsPerSecond=((n=t.config.rate_limiting)===null||n===void 0?void 0:n.events_per_second)||10,this.captureEventsBurstLimit=Math.max(((r=t.config.rate_limiting)===null||r===void 0?void 0:r.events_burst_limit)||10*this.captureEventsPerSecond,this.captureEventsPerSecond),this.lastEventRateLimited=this.clientRateLimitContext(!0).isRateLimited}clientRateLimitContext(){var t,n,r;let i=arguments.length>0&&arguments[0]!==void 0&&arguments[0];const s=new Date().getTime(),o=(t=(n=this.instance.persistence)===null||n===void 0?void 0:n.get_property(k1))!==null&&t!==void 0?t:{tokens:this.captureEventsBurstLimit,last:s};o.tokens+=(s-o.last)/1e3*this.captureEventsPerSecond,o.last=s,o.tokens>this.captureEventsBurstLimit&&(o.tokens=this.captureEventsBurstLimit);const a=o.tokens<1;return a||i||(o.tokens=Math.max(0,o.tokens-1)),!a||this.lastEventRateLimited||i||this.instance.capture("$$client_ingestion_warning",{$$client_ingestion_warning_message:`posthog-js client rate limited. Config is set to ${this.captureEventsPerSecond} events per second and ${this.captureEventsBurstLimit} events burst limit.`},{skip_client_rate_limiting:!0}),this.lastEventRateLimited=a,(r=this.instance.persistence)===null||r===void 0||r.set_property(k1,o),{isRateLimited:a,remainingTokens:o.tokens}}isServerRateLimited(t){const n=this.serverLimits[t||"events"]||!1;return n!==!1&&new Date().getTime()<n}}const hF=()=>({initialPathName:(Xr==null?void 0:Xr.pathname)||"",referringDomain:Tn.referringDomain(),...Tn.campaignParams()});class pF{constructor(t,n,r){ve(this,"_onSessionIdCallback",t=>{const n=this._getStoredProps();if(n&&n.sessionId===t)return;const r={sessionId:t,props:this._sessionSourceParamGenerator()};this._persistence.register({[C1]:r})});this._sessionIdManager=t,this._persistence=n,this._sessionSourceParamGenerator=r||hF,this._sessionIdManager.onSessionId(this._onSessionIdCallback)}_getStoredProps(){return this._persistence.props[C1]}getSessionProps(){var t;const n=(t=this._getStoredProps())===null||t===void 0?void 0:t.props;return n?{$client_session_initial_referring_host:n.referringDomain,$client_session_initial_pathname:n.initialPathName,$client_session_initial_utm_source:n.utm_source,$client_session_initial_utm_campaign:n.utm_campaign,$client_session_initial_utm_medium:n.utm_medium,$client_session_initial_utm_content:n.utm_content,$client_session_initial_utm_term:n.utm_term}:{}}}const gF=["ahrefsbot","ahrefssiteaudit","applebot","baiduspider","bingbot","bingpreview","bot.htm","bot.php","crawler","deepscan","duckduckbot","facebookexternal","facebookcatalog","gptbot","http://yandex.com/bots","hubspot","ia_archiver","linkedinbot","mj12bot","msnbot","nessus","petalbot","pinterest","prerender","rogerbot","screaming frog","semrushbot","sitebulb","slurp","turnitin","twitterbot","vercelbot","yahoo! slurp","yandexbot","headlesschrome","cypress","Google-HotelAdsVerifier","adsbot-google","apis-google","duplexweb-google","feedfetcher-google","google favicon","google web preview","google-read-aloud","googlebot","googleweblight","mediapartners-google","storebot-google","Bytespider;"],WC=function(e,t){if(!e)return!1;const n=e.toLowerCase();return gF.concat(t||[]).some(r=>{const i=r.toLowerCase();return n.indexOf(i)!==-1})},M5=function(e,t){if(!e)return!1;const n=e.userAgent;if(n&&WC(n,t))return!0;try{const r=e==null?void 0:e.userAgentData;if(r!=null&&r.brands&&r.brands.some(i=>WC(i==null?void 0:i.brand,t)))return!0}catch{}return!!e.webdriver};class j5{constructor(){this.clicks=[]}isRageClick(t,n,r){const i=this.clicks[this.clicks.length-1];if(i&&Math.abs(t-i.x)+Math.abs(n-i.y)<30&&r-i.timestamp<1e3){if(this.clicks.push({x:t,y:n,timestamp:r}),this.clicks.length===3)return!0}else this.clicks=[{x:t,y:n,timestamp:r}];return!1}}class mF{constructor(t){ve(this,"rageclicks",new j5);ve(this,"_enabledServerSide",!1);ve(this,"_initialized",!1);ve(this,"_flushInterval",null);var n;this.instance=t,this._enabledServerSide=!((n=this.instance.persistence)===null||n===void 0||!n.props[S1]),J==null||J.addEventListener("beforeunload",()=>{this.flush()})}get flushIntervalMilliseconds(){let t=5e3;return Rn(this.instance.config.capture_heatmaps)&&this.instance.config.capture_heatmaps.flush_interval_milliseconds&&(t=this.instance.config.capture_heatmaps.flush_interval_milliseconds),t}get isEnabled(){return je(this.instance.config.capture_heatmaps)?je(this.instance.config.enable_heatmaps)?this._enabledServerSide:this.instance.config.enable_heatmaps:this.instance.config.capture_heatmaps!==!1}startIfEnabled(){if(this.isEnabled){if(this._initialized)return;ie.info("[heatmaps] starting..."),this._setupListeners(),this._flushInterval=setInterval(this.flush.bind(this),this.flushIntervalMilliseconds)}else{var t;clearInterval((t=this._flushInterval)!==null&&t!==void 0?t:void 0),this.getAndClearBuffer()}}afterDecideResponse(t){const n=!!t.heatmaps;this.instance.persistence&&this.instance.persistence.register({[S1]:n}),this._enabledServerSide=n,this.startIfEnabled()}getAndClearBuffer(){const t=this.buffer;return this.buffer=void 0,t}_setupListeners(){J&&we&&(Eo(we,"click",t=>this._onClick(t||(J==null?void 0:J.event)),!1,!0),Eo(we,"mousemove",t=>this._onMouseMove(t||(J==null?void 0:J.event)),!1,!0),this._initialized=!0)}_getProperties(t,n){const r=this.instance.scrollManager.scrollY(),i=this.instance.scrollManager.scrollX(),s=this.instance.scrollManager.scrollElement(),o=function(a,l,c){let u=a;for(;u&&$0(u)&&!xa(u,"body");){if(u===c)return!1;if(ft(l,J==null?void 0:J.getComputedStyle(u).position))return!0;u=o5(u)}return!1}(s5(t),["fixed","sticky"],s);return{x:t.clientX+(o?0:i),y:t.clientY+(o?0:r),target_fixed:o,type:n}}_onClick(t){var n;if(TC(t.target))return;const r=this._getProperties(t,"click");(n=this.rageclicks)!==null&&n!==void 0&&n.isRageClick(t.clientX,t.clientY,new Date().getTime())&&this._capture({...r,type:"rageclick"}),this._capture(r)}_onMouseMove(t){TC(t.target)||(clearTimeout(this._mouseMoveTimeout),this._mouseMoveTimeout=setTimeout(()=>{this._capture(this._getProperties(t,"mousemove"))},500))}_capture(t){if(!J)return;const n=J.location.href;this.buffer=this.buffer||{},this.buffer[n]||(this.buffer[n]=[]),this.buffer[n].push(t)}flush(){this.buffer&&!pf(this.buffer)&&this.instance.capture("$$heatmap",{$heatmap_data:this.getAndClearBuffer()})}}class yF{constructor(t){ve(this,"_updateScrollData",()=>{var t,n,r,i;this.context||(this.context={});const s=this.scrollElement(),o=this.scrollY(),a=s?Math.max(0,s.scrollHeight-s.clientHeight):0,l=o+((s==null?void 0:s.clientHeight)||0),c=(s==null?void 0:s.scrollHeight)||0;this.context.lastScrollY=Math.ceil(o),this.context.maxScrollY=Math.max(o,(t=this.context.maxScrollY)!==null&&t!==void 0?t:0),this.context.maxScrollHeight=Math.max(a,(n=this.context.maxScrollHeight)!==null&&n!==void 0?n:0),this.context.lastContentY=l,this.context.maxContentY=Math.max(l,(r=this.context.maxContentY)!==null&&r!==void 0?r:0),this.context.maxContentHeight=Math.max(c,(i=this.context.maxContentHeight)!==null&&i!==void 0?i:0)});this.instance=t}getContext(){return this.context}resetContext(){const t=this.context;return setTimeout(this._updateScrollData,0),t}startMeasuringScrollPosition(){J==null||J.addEventListener("scroll",this._updateScrollData,!0),J==null||J.addEventListener("scrollend",this._updateScrollData,!0),J==null||J.addEventListener("resize",this._updateScrollData)}scrollElement(){if(!this.instance.config.scroll_root_selector)return J==null?void 0:J.document.documentElement;{const t=Wn(this.instance.config.scroll_root_selector)?this.instance.config.scroll_root_selector:[this.instance.config.scroll_root_selector];for(const n of t){const r=J==null?void 0:J.document.querySelector(n);if(r)return r}}}scrollY(){if(this.instance.config.scroll_root_selector){const t=this.scrollElement();return t&&t.scrollTop||0}return J&&(J.scrollY||J.pageYOffset||J.document.documentElement.scrollTop)||0}scrollX(){if(this.instance.config.scroll_root_selector){const t=this.scrollElement();return t&&t.scrollLeft||0}return J&&(J.scrollX||J.pageXOffset||J.document.documentElement.scrollLeft)||0}}const jv="$copy_autocapture";function Ov(e,t){return t.length>e?t.slice(0,e)+"...":t}function vF(e){if(e.previousElementSibling)return e.previousElementSibling;let t=e;do t=t.previousSibling;while(t&&!$0(t));return t}function AF(e,t,n,r){const i=e.tagName.toLowerCase(),s={tag_name:i};L1.indexOf(i)>-1&&!n&&(i.toLowerCase()==="a"||i.toLowerCase()==="button"?s.$el_text=Ov(1024,u5(e)):s.$el_text=Ov(1024,F0(e)));const o=vm(e);o.length>0&&(s.classes=o.filter(function(u){return u!==""})),Dt(e.attributes,function(u){var d;if((!a5(e)||["name","id","class","aria-label"].indexOf(u.name)!==-1)&&(r==null||!r.includes(u.name))&&!t&&ku(u.value)&&(d=u.name,!kr(d)||d.substring(0,10)!=="_ngcontent"&&d.substring(0,7)!=="_nghost")){let h=u.value;u.name==="class"&&(h=NS(h).join(" ")),s["attr__"+u.name]=Ov(1024,h)}});let a=1,l=1,c=e;for(;c=vF(c);)a++,c.tagName===e.tagName&&l++;return s.nth_child=a,s.nth_of_type=l,s}function bF(e,t){var n,r;let{e:i,maskAllElementAttributes:s,maskAllText:o,elementAttributeIgnoreList:a,elementsChainAsString:l}=t;const c=[e];let u=e;for(;u.parentNode&&!xa(u,"body");)r5(u.parentNode)?(c.push(u.parentNode.host),u=u.parentNode.host):(c.push(u.parentNode),u=u.parentNode);const d=[],h={};let p,g=!1,m=!1;if(Dt(c,v=>{const _=N1(v);v.tagName.toLowerCase()==="a"&&(g=v.getAttribute("href"),g=_&&g&&ku(g)&&g),ft(vm(v),"ph-no-capture")&&(m=!0),d.push(AF(v,s,o,a));const x=function(S){if(!N1(S))return{};const E={};return Dt(S.attributes,function(C){if(C.name&&C.name.indexOf("data-ph-capture-attribute")===0){const k=C.name.replace("data-ph-capture-attribute-",""),O=C.value;k&&O&&ku(O)&&(E[k]=O)}}),E}(v);$r(h,x)}),m)return{props:{},explicitNoCapture:m};if(o||(e.tagName.toLowerCase()==="a"||e.tagName.toLowerCase()==="button"?d[0].$el_text=u5(e):d[0].$el_text=F0(e)),g){var b,y;d[0].attr__href=g;const v=(b=gf(g))===null||b===void 0?void 0:b.host,_=J==null||(y=J.location)===null||y===void 0?void 0:y.host;v&&_&&v!==_&&(p=g)}return{props:$r({$event_type:i.type,$ce_version:1},l?{$elements_chain:w$(d)}:{$elements:d},(n=d[0])!==null&&n!==void 0&&n.$el_text?{$el_text:(r=d[0])===null||r===void 0?void 0:r.$el_text}:{},p&&i.type==="click"?{$external_click_url:p}:{},h)}}class _F{constructor(t){ve(this,"_initialized",!1);ve(this,"_isDisabledServerSide",null);ve(this,"rageclicks",new j5);ve(this,"_elementsChainAsString",!1);this.instance=t,this._elementSelectors=null}get config(){var t,n;const r=Rn(this.instance.config.autocapture)?this.instance.config.autocapture:{};return r.url_allowlist=(t=r.url_allowlist)===null||t===void 0?void 0:t.map(i=>new RegExp(i)),r.url_ignorelist=(n=r.url_ignorelist)===null||n===void 0?void 0:n.map(i=>new RegExp(i)),r}_addDomEventHandlers(){if(!this.isBrowserSupported())return void ie.info("Disabling Automatic Event Collection because this browser is not supported");if(!J||!we)return;const t=r=>{r=r||(J==null?void 0:J.event);try{this._captureEvent(r)}catch(i){ie.error("Failed to capture event",i)}},n=r=>{r=r||(J==null?void 0:J.event),this._captureEvent(r,jv)};Eo(we,"submit",t,!1,!0),Eo(we,"change",t,!1,!0),Eo(we,"click",t,!1,!0),this.config.capture_copied_text&&(Eo(we,"copy",n,!1,!0),Eo(we,"cut",n,!1,!0))}startIfEnabled(){this.isEnabled&&!this._initialized&&(this._addDomEventHandlers(),this._initialized=!0)}afterDecideResponse(t){t.elementsChainAsString&&(this._elementsChainAsString=t.elementsChainAsString),this.instance.persistence&&this.instance.persistence.register({[lC]:!!t.autocapture_opt_out}),this._isDisabledServerSide=!!t.autocapture_opt_out,this.startIfEnabled()}setElementSelectors(t){this._elementSelectors=t}getElementSelectors(t){var n;const r=[];return(n=this._elementSelectors)===null||n===void 0||n.forEach(i=>{const s=we==null?void 0:we.querySelectorAll(i);s==null||s.forEach(o=>{t===o&&r.push(i)})}),r}get isEnabled(){var t,n;const r=(t=this.instance.persistence)===null||t===void 0?void 0:t.props[lC],i=this._isDisabledServerSide;if(Ua(i)&&!pa(r)&&!this.instance.config.advanced_disable_decide)return!1;const s=(n=this._isDisabledServerSide)!==null&&n!==void 0?n:!!r;return!!this.instance.config.autocapture&&!s}_captureEvent(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"$autocapture";if(!this.isEnabled)return;let r=s5(t);var i;n5(r)&&(r=r.parentNode||null),n==="$autocapture"&&t.type==="click"&&t instanceof MouseEvent&&this.instance.config.rageclick&&(i=this.rageclicks)!==null&&i!==void 0&&i.isRageClick(t.clientX,t.clientY,new Date().getTime())&&this._captureEvent(t,"$rageclick");const s=n===jv;if(r&&A$(r,t,this.config,s,s?["copy","cut"]:void 0)){const{props:a,explicitNoCapture:l}=bF(r,{e:t,maskAllElementAttributes:this.instance.config.mask_all_element_attributes,maskAllText:this.instance.config.mask_all_text,elementAttributeIgnoreList:this.config.element_attribute_ignorelist,elementsChainAsString:this._elementsChainAsString});if(l)return!1;const c=this.getElementSelectors(r);if(c&&c.length>0&&(a.$element_selectors=c),n===jv){var o;const u=i5(J==null||(o=J.getSelection())===null||o===void 0?void 0:o.toString()),d=t.type||"clipboard";if(!u)return!1;a.$selected_content=u,a.$copy_type=d}return this.instance.capture(n,a),!0}}isBrowserSupported(){return Xi(we==null?void 0:we.querySelectorAll)}}class SF{constructor(t){ve(this,"_restoreXHRPatch");ve(this,"_restoreFetchPatch");ve(this,"_startCapturing",()=>{var t,n,r,i;je(this._restoreXHRPatch)&&((t=tt.__PosthogExtensions__)===null||t===void 0||(n=t.tracingHeadersPatchFns)===null||n===void 0||n._patchXHR(this.instance.sessionManager)),je(this._restoreFetchPatch)&&((r=tt.__PosthogExtensions__)===null||r===void 0||(i=r.tracingHeadersPatchFns)===null||i===void 0||i._patchFetch(this.instance.sessionManager))});this.instance=t}_loadScript(t){var n,r,i;(n=tt.__PosthogExtensions__)!==null&&n!==void 0&&n.tracingHeadersPatchFns&&t(),(r=tt.__PosthogExtensions__)===null||r===void 0||(i=r.loadExternalDependency)===null||i===void 0||i.call(r,this.instance,"tracing-headers",s=>{if(s)return ie.error("[TRACING-HEADERS] failed to load script",s);t()})}startIfEnabledOrStop(){var t,n;this.instance.config.__add_tracing_headers?this._loadScript(this._startCapturing):((t=this._restoreXHRPatch)===null||t===void 0||t.call(this),(n=this._restoreFetchPatch)===null||n===void 0||n.call(this),this._restoreXHRPatch=void 0,this._restoreFetchPatch=void 0)}}let oa;(function(e){e[e.PENDING=-1]="PENDING",e[e.DENIED=0]="DENIED",e[e.GRANTED=1]="GRANTED"})(oa||(oa={}));class xF{constructor(t){this.instance=t}get config(){return this.instance.config}get consent(){return this.getDnt()?oa.DENIED:this.storedConsent}isOptedOut(){return this.consent===oa.DENIED||this.consent===oa.PENDING&&this.config.opt_out_capturing_by_default}isOptedIn(){return!this.isOptedOut()}optInOut(t){this.storage.set(this.storageKey,t?1:0,this.config.cookie_expiration,this.config.cross_subdomain_cookie,this.config.secure_cookie)}reset(){this.storage.remove(this.storageKey,this.config.cross_subdomain_cookie)}get storageKey(){const{token:t,opt_out_capturing_cookie_prefix:n}=this.instance.config;return(n||"__ph_opt_in_out_")+t}get storedConsent(){const t=this.storage.get(this.storageKey);return t==="1"?oa.GRANTED:t==="0"?oa.DENIED:oa.PENDING}get storage(){if(!this._storage){const t=this.config.opt_out_capturing_persistence_type;this._storage=t==="localStorage"?qn:Ro;const n=t==="localStorage"?Ro:qn;n.get(this.storageKey)&&(this._storage.get(this.storageKey)||this.optInOut(n.get(this.storageKey)==="1"),n.remove(this.storageKey,this.config.cross_subdomain_cookie))}return this._storage}getDnt(){return!!this.config.respect_dnt&&!!BM([bi==null?void 0:bi.doNotTrack,bi==null?void 0:bi.msDoNotTrack,tt.doNotTrack],t=>ft([!0,1,"1","yes"],t))}}const Sp="[Exception Autocapture]";class wF{constructor(t){ve(this,"originalOnUnhandledRejectionHandler");ve(this,"startCapturing",()=>{var t,n,r,i;if(!J||!this.isEnabled||this.hasHandlers||this.isCapturing)return;const s=(t=tt.__PosthogExtensions__)===null||t===void 0||(n=t.errorWrappingFunctions)===null||n===void 0?void 0:n.wrapOnError,o=(r=tt.__PosthogExtensions__)===null||r===void 0||(i=r.errorWrappingFunctions)===null||i===void 0?void 0:i.wrapUnhandledRejection;if(s&&o)try{this.unwrapOnError=s(this.captureException.bind(this)),this.unwrapUnhandledRejection=o(this.captureException.bind(this))}catch(a){ie.error(Sp+" failed to start",a),this.stopCapturing()}else ie.error(Sp+" failed to load error wrapping functions - cannot start")});var n;this.instance=t,this.remoteEnabled=!((n=this.instance.persistence)===null||n===void 0||!n.props[cC]),this.startIfEnabled()}get isEnabled(){var t;return(t=this.remoteEnabled)!==null&&t!==void 0&&t}get isCapturing(){var t;return!(J==null||(t=J.onerror)===null||t===void 0||!t.__POSTHOG_INSTRUMENTED__)}get hasHandlers(){return this.originalOnUnhandledRejectionHandler||this.unwrapOnError}startIfEnabled(){this.isEnabled&&!this.isCapturing&&(ie.info(Sp+" enabled, starting..."),this.loadScript(this.startCapturing))}loadScript(t){var n,r;this.hasHandlers&&t(),(n=tt.__PosthogExtensions__)===null||n===void 0||(r=n.loadExternalDependency)===null||r===void 0||r.call(n,this.instance,"exception-autocapture",i=>{if(i)return ie.error(Sp+" failed to load script",i);t()})}stopCapturing(){var t,n;(t=this.unwrapOnError)===null||t===void 0||t.call(this),(n=this.unwrapUnhandledRejection)===null||n===void 0||n.call(this)}afterDecideResponse(t){const n=t.autocaptureExceptions;this.remoteEnabled=!!n||!1,this.instance.persistence&&this.instance.persistence.register({[cC]:this.remoteEnabled}),this.startIfEnabled()}captureException(t){const n=this.instance.requestRouter.endpointFor("ui");t.$exception_personURL=`${n}/project/${this.instance.config.token}/person/${this.instance.get_distinct_id()}`,this.instance.exceptions.sendExceptionEvent(t)}}const KC=9e5,ol="[Web Vitals]";class EF{constructor(t){ve(this,"_enabledServerSide",!1);ve(this,"_initialized",!1);ve(this,"buffer",{url:void 0,metrics:[],firstMetricTimestamp:void 0});ve(this,"_flushToCapture",()=>{clearTimeout(this._delayedFlushTimer),this.buffer.metrics.length!==0&&(this.instance.capture("$web_vitals",this.buffer.metrics.reduce((t,n)=>({...t,[`$web_vitals_${n.name}_event`]:{...n},[`$web_vitals_${n.name}_value`]:n.value}),{})),this.buffer={url:void 0,metrics:[],firstMetricTimestamp:void 0})});ve(this,"_addToBuffer",t=>{var n;const r=(n=this.instance.sessionManager)===null||n===void 0?void 0:n.checkAndGetSessionAndWindowId(!0);if(je(r))return void ie.error(ol+"Could not read session ID. Dropping metrics!");this.buffer=this.buffer||{url:void 0,metrics:[],firstMetricTimestamp:void 0};const i=this._currentURL();if(!je(i)){if(Sn(t==null?void 0:t.name)||Sn(t==null?void 0:t.value))return void ie.error(ol+"Invalid metric received",t);if(this._maxAllowedValue&&t.value>=this._maxAllowedValue)return void ie.error(ol+"Ignoring metric with value >= "+this._maxAllowedValue,t);this.buffer.url!==i&&(this._flushToCapture(),this._delayedFlushTimer=setTimeout(this._flushToCapture,this.flushToCaptureTimeoutMs)),je(this.buffer.url)&&(this.buffer.url=i),this.buffer.firstMetricTimestamp=je(this.buffer.firstMetricTimestamp)?Date.now():this.buffer.firstMetricTimestamp,t.attribution&&t.attribution.interactionTargetElement&&(t.attribution.interactionTargetElement=void 0),this.buffer.metrics.push({...t,$current_url:i,$session_id:r.sessionId,$window_id:r.windowId,timestamp:Date.now()}),this.buffer.metrics.length===this.allowedMetrics.length&&this._flushToCapture()}});ve(this,"_startCapturing",()=>{let t,n,r,i;const s=tt.__PosthogExtensions__;je(s)||je(s.postHogWebVitalsCallbacks)||({onLCP:t,onCLS:n,onFCP:r,onINP:i}=s.postHogWebVitalsCallbacks),t&&n&&r&&i?(this.allowedMetrics.indexOf("LCP")>-1&&t(this._addToBuffer.bind(this)),this.allowedMetrics.indexOf("CLS")>-1&&n(this._addToBuffer.bind(this)),this.allowedMetrics.indexOf("FCP")>-1&&r(this._addToBuffer.bind(this)),this.allowedMetrics.indexOf("INP")>-1&&i(this._addToBuffer.bind(this)),this._initialized=!0):ie.error(ol+"web vitals callbacks not loaded - not starting")});var n;this.instance=t,this._enabledServerSide=!((n=this.instance.persistence)===null||n===void 0||!n.props[dC]),this.startIfEnabled()}get allowedMetrics(){var t,n;const r=Rn(this.instance.config.capture_performance)?(t=this.instance.config.capture_performance)===null||t===void 0?void 0:t.web_vitals_allowed_metrics:void 0;return je(r)?((n=this.instance.persistence)===null||n===void 0?void 0:n.props[hC])||["CLS","FCP","INP","LCP"]:r}get flushToCaptureTimeoutMs(){return(Rn(this.instance.config.capture_performance)?this.instance.config.capture_performance.web_vitals_delayed_flush_ms:void 0)||5e3}get _maxAllowedValue(){const t=Rn(this.instance.config.capture_performance)&&vi(this.instance.config.capture_performance.__web_vitals_max_value)?this.instance.config.capture_performance.__web_vitals_max_value:KC;return 0<t&&t<=6e4?KC:t}get isEnabled(){const t=Rn(this.instance.config.capture_performance)?this.instance.config.capture_performance.web_vitals:void 0;return pa(t)?t:this._enabledServerSide}startIfEnabled(){this.isEnabled&&!this._initialized&&(ie.info(ol+" enabled, starting..."),this.loadScript(this._startCapturing))}afterDecideResponse(t){const n=Rn(t.capturePerformance)&&!!t.capturePerformance.web_vitals,r=Rn(t.capturePerformance)?t.capturePerformance.web_vitals_allowed_metrics:void 0;this.instance.persistence&&(this.instance.persistence.register({[dC]:n}),this.instance.persistence.register({[hC]:r})),this._enabledServerSide=n,this.startIfEnabled()}loadScript(t){var n,r,i;(n=tt.__PosthogExtensions__)!==null&&n!==void 0&&n.postHogWebVitalsCallbacks&&t(),(r=tt.__PosthogExtensions__)===null||r===void 0||(i=r.loadExternalDependency)===null||i===void 0||i.call(r,this.instance,"web-vitals",s=>{s?ie.error(ol+" failed to load script",s):t()})}_currentURL(){const t=J?J.location.href:void 0;return t||ie.error(ol+"Could not determine current URL"),t}}const CF={icontains:(e,t)=>!!J&&t.href.toLowerCase().indexOf(e.toLowerCase())>-1,not_icontains:(e,t)=>!!J&&t.href.toLowerCase().indexOf(e.toLowerCase())===-1,regex:(e,t)=>!!J&&Eu(t.href,e),not_regex:(e,t)=>!!J&&!Eu(t.href,e),exact:(e,t)=>t.href===e,is_not:(e,t)=>t.href!==e};class Xn{constructor(t){ve(this,"getWebExperimentsAndEvaluateDisplayLogic",(()=>{var t=this;return function(){let n=arguments.length>0&&arguments[0]!==void 0&&arguments[0];t.getWebExperiments(r=>{Xn.logInfo("retrieved web experiments from the server"),t._flagToExperiments=new Map,r.forEach(i=>{if(i.feature_flag_key&&t._featureFlags&&t._featureFlags[i.feature_flag_key]){var s;t._flagToExperiments&&(Xn.logInfo("setting flag key ",i.feature_flag_key," to web experiment ",i),(s=t._flagToExperiments)===null||s===void 0||s.set(i.feature_flag_key,i));const o=t._featureFlags[i.feature_flag_key];o&&i.variants[o]&&t.applyTransforms(i.name,o,i.variants[o].transforms)}else if(i.variants)for(const o in i.variants){const a=i.variants[o];Xn.matchesTestVariant(a)&&t.applyTransforms(i.name,o,a.transforms)}})},n)}})());this.instance=t;const n=r=>{this.applyFeatureFlagChanges(r)};this.instance.onFeatureFlags&&this.instance.onFeatureFlags(n),this._flagToExperiments=new Map}applyFeatureFlagChanges(t){Sn(this._flagToExperiments)||this.instance.config.disable_web_experiments||(Xn.logInfo("applying feature flags",t),t.forEach(n=>{var r;if(this._flagToExperiments&&(r=this._flagToExperiments)!==null&&r!==void 0&&r.has(n)){var i;const s=this.instance.getFeatureFlag(n),o=(i=this._flagToExperiments)===null||i===void 0?void 0:i.get(n);s&&o!=null&&o.variants[s]&&this.applyTransforms(o.name,s,o.variants[s].transforms)}}))}afterDecideResponse(t){this._is_bot()?Xn.logInfo("Refusing to render web experiment since the viewer is a likely bot"):(this._featureFlags=t.featureFlags,this.loadIfEnabled(),this.previewWebExperiment())}previewWebExperiment(){const t=Xn.getWindowLocation();if(t!=null&&t.search){const n=pm(t==null?void 0:t.search,"__experiment_id"),r=pm(t==null?void 0:t.search,"__experiment_variant");n&&r&&(Xn.logInfo(`previewing web experiments ${n} && ${r}`),this.getWebExperiments(i=>{this.showPreviewWebExperiment(parseInt(n),r,i)},!1,!0))}}loadIfEnabled(){this.instance.config.disable_web_experiments||this.getWebExperimentsAndEvaluateDisplayLogic()}getWebExperiments(t,n,r){if(this.instance.config.disable_web_experiments&&!r)return t([]);const i=this.instance.get_property("$web_experiments");if(i&&!n)return t(i);this.instance._send_request({url:this.instance.requestRouter.endpointFor("api",`/api/web_experiments/?token=${this.instance.config.token}`),method:"GET",transport:"XHR",callback:s=>{if(s.statusCode!==200||!s.json)return t([]);const o=s.json.experiments||[];return t(o)}})}showPreviewWebExperiment(t,n,r){const i=r.filter(s=>s.id===t);i&&i.length>0&&(Xn.logInfo(`Previewing web experiment [${i[0].name}] with variant [${n}]`),this.applyTransforms(i[0].name,n,i[0].variants[n].transforms,!0))}static matchesTestVariant(t){return!Sn(t.conditions)&&Xn.matchUrlConditions(t)&&Xn.matchUTMConditions(t)}static matchUrlConditions(t){var n;if(Sn(t.conditions)||Sn((n=t.conditions)===null||n===void 0?void 0:n.url))return!0;const r=Xn.getWindowLocation();if(r){var i,s,o;return(i=t.conditions)===null||i===void 0||!i.url||CF[(s=(o=t.conditions)===null||o===void 0?void 0:o.urlMatchType)!==null&&s!==void 0?s:"icontains"](t.conditions.url,r)}return!1}static getWindowLocation(){return J==null?void 0:J.location}static matchUTMConditions(t){var n;if(Sn(t.conditions)||Sn((n=t.conditions)===null||n===void 0?void 0:n.utm))return!0;const r=Tn.campaignParams();if(r.utm_source){var i,s,o,a,l,c,u,d,h,p,g,m,b,y,v,_;const x=(i=t.conditions)===null||i===void 0||(s=i.utm)===null||s===void 0||!s.utm_campaign||((o=t.conditions)===null||o===void 0||(a=o.utm)===null||a===void 0?void 0:a.utm_campaign)==r.utm_campaign,S=(l=t.conditions)===null||l===void 0||(c=l.utm)===null||c===void 0||!c.utm_source||((u=t.conditions)===null||u===void 0||(d=u.utm)===null||d===void 0?void 0:d.utm_source)==r.utm_source,E=(h=t.conditions)===null||h===void 0||(p=h.utm)===null||p===void 0||!p.utm_medium||((g=t.conditions)===null||g===void 0||(m=g.utm)===null||m===void 0?void 0:m.utm_medium)==r.utm_medium,C=(b=t.conditions)===null||b===void 0||(y=b.utm)===null||y===void 0||!y.utm_term||((v=t.conditions)===null||v===void 0||(_=v.utm)===null||_===void 0?void 0:_.utm_term)==r.utm_term;return x&&E&&C&&S}return!1}static logInfo(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];ie.info(`[WebExperiments] ${t}`,r)}applyTransforms(t,n,r,i){var s;this._is_bot()?Xn.logInfo("Refusing to render web experiment since the viewer is a likely bot"):n!=="control"?r.forEach(o=>{if(o.selector){var a;Xn.logInfo(`applying transform of variant ${n} for experiment ${t} `,o);let c=0;const u=(a=document)===null||a===void 0?void 0:a.querySelectorAll(o.selector);var l;u==null||u.forEach(d=>{const h=d;c+=1,o.attributes&&o.attributes.forEach(p=>{switch(p.name){case"text":h.innerText=p.value;break;case"html":h.innerHTML=p.value;break;case"cssClass":h.className=p.value;break;default:h.setAttribute(p.name,p.value)}}),o.text&&(h.innerText=o.text),o.html&&(h.parentElement?h.parentElement.innerHTML=o.html:h.innerHTML=o.html),o.css&&h.setAttribute("style",o.css)}),this.instance&&this.instance.capture&&this.instance.capture("$web_experiment_applied",{$web_experiment_name:t,$web_experiment_variant:n,$web_experiment_preview:i,$web_experiment_document_url:(l=Xn.getWindowLocation())===null||l===void 0?void 0:l.href,$web_experiment_elements_modified:c})}}):(Xn.logInfo("Control variants leave the page unmodified."),this.instance&&this.instance.capture&&this.instance.capture("$web_experiment_applied",{$web_experiment_name:t,$web_experiment_preview:i,$web_experiment_variant:n,$web_experiment_document_url:(s=Xn.getWindowLocation())===null||s===void 0?void 0:s.href,$web_experiment_elements_modified:0}))}_is_bot(){return bi&&this.instance?M5(bi,this.instance.config.custom_blocked_useragents):void 0}}const YC="/e/";class kF{constructor(t){var n;this.instance=t,this._endpointSuffix=((n=this.instance.persistence)===null||n===void 0?void 0:n.props[uC])||YC}get endpoint(){return this.instance.requestRouter.endpointFor("api",this._endpointSuffix)}afterDecideResponse(t){const n=t.autocaptureExceptions;this._endpointSuffix=Rn(n)&&n.endpoint||YC,this.instance.persistence&&this.instance.persistence.register({[uC]:this._endpointSuffix})}sendExceptionEvent(t){this.instance.capture("$exception",t,{_noTruncate:!0,_batchKey:"exceptionEvent",_url:this.endpoint})}}const xp="[Dead Clicks]";class TF{get lazyLoadedDeadClicksAutocapture(){return this._lazyLoadedDeadClicksAutocapture}constructor(t){this.instance=t,this.startIfEnabled()}get isRemoteEnabled(){var t;return!((t=this.instance.persistence)===null||t===void 0||!t.get_property(fC))}get isEnabled(){const t=this.instance.config.capture_dead_clicks;return pa(t)?t:this.isRemoteEnabled}afterDecideResponse(t){this.instance.persistence&&this.instance.persistence.register({[fC]:t==null?void 0:t.captureDeadClicks}),this.startIfEnabled()}startIfEnabled(){this.isEnabled&&this.loadScript(this.start.bind(this))}loadScript(t){var n,r,i;(n=tt.__PosthogExtensions__)!==null&&n!==void 0&&n.initDeadClicksAutocapture&&t(),(r=tt.__PosthogExtensions__)===null||r===void 0||(i=r.loadExternalDependency)===null||i===void 0||i.call(r,this.instance,"dead-clicks-autocapture",s=>{s?ie.error(xp+" failed to load script",s):t()})}start(){var t;we?!this._lazyLoadedDeadClicksAutocapture&&(t=tt.__PosthogExtensions__)!==null&&t!==void 0&&t.initDeadClicksAutocapture&&(this._lazyLoadedDeadClicksAutocapture=tt.__PosthogExtensions__.initDeadClicksAutocapture(this.instance,Rn(this.instance.config.capture_dead_clicks)?this.instance.config.capture_dead_clicks:void 0),this._lazyLoadedDeadClicksAutocapture.start(we),ie.info(`${xp} starting...`)):ie.error(xp+" `document` not found. Cannot start.")}stop(){this._lazyLoadedDeadClicksAutocapture&&(this._lazyLoadedDeadClicksAutocapture.stop(),this._lazyLoadedDeadClicksAutocapture=void 0,ie.info(`${xp} stopping...`))}}const vf={},QC=()=>{},Vc="posthog";let O5=!K$&&(er==null?void 0:er.indexOf("MSIE"))===-1&&(er==null?void 0:er.indexOf("Mozilla"))===-1;const JC=()=>{var e;return{api_host:"https://us.i.posthog.com",ui_host:null,token:"",autocapture:!0,rageclick:!0,cross_subdomain_cookie:KD(we==null?void 0:we.location),persistence:"localStorage+cookie",persistence_name:"",loaded:QC,store_google:!0,custom_campaign_params:[],custom_blocked_useragents:[],save_referrer:!0,capture_pageview:!0,capture_pageleave:"if_capture_pageview",debug:Xr&&kr(Xr==null?void 0:Xr.search)&&Xr.search.indexOf("__posthog_debug=true")!==-1||!1,verbose:!1,cookie_expiration:365,upgrade:!1,disable_session_recording:!1,disable_persistence:!1,disable_web_experiments:!0,disable_surveys:!1,enable_recording_console_log:void 0,secure_cookie:(J==null||(e=J.location)===null||e===void 0?void 0:e.protocol)==="https:",ip:!0,opt_out_capturing_by_default:!1,opt_out_persistence_by_default:!1,opt_out_useragent_filter:!1,opt_out_capturing_persistence_type:"localStorage",opt_out_capturing_cookie_prefix:null,opt_in_site_apps:!1,property_denylist:[],respect_dnt:!1,sanitize_properties:null,request_headers:{},inapp_protocol:"//",inapp_link_new_window:!1,request_batching:!0,properties_string_max_length:65535,session_recording:{},mask_all_element_attributes:!1,mask_all_text:!1,advanced_disable_decide:!1,advanced_disable_feature_flags:!1,advanced_disable_feature_flags_on_first_load:!1,advanced_disable_toolbar_metrics:!1,feature_flag_request_timeout_ms:3e3,on_request_error:t=>{const n="Bad HTTP status: "+t.statusCode+" "+t.text;ie.error(n)},get_device_id:t=>t,_onCapture:QC,capture_performance:void 0,name:"posthog",bootstrap:{},disable_compression:!1,session_idle_timeout_seconds:1800,person_profiles:"identified_only",__add_tracing_headers:!1}},XC=e=>{const t={};je(e.process_person)||(t.person_profiles=e.process_person),je(e.xhr_headers)||(t.request_headers=e.xhr_headers),je(e.cookie_name)||(t.persistence_name=e.cookie_name),je(e.disable_cookie)||(t.disable_persistence=e.disable_cookie);const n=$r({},t,e);return Wn(e.property_blacklist)&&(je(e.property_denylist)?n.property_denylist=e.property_blacklist:Wn(e.property_denylist)?n.property_denylist=[...e.property_blacklist,...e.property_denylist]:ie.error("Invalid value for property_denylist config: "+e.property_denylist)),n};class IF{constructor(){ve(this,"__forceAllowLocalhost",!1)}get _forceAllowLocalhost(){return this.__forceAllowLocalhost}set _forceAllowLocalhost(t){ie.error("WebPerformanceObserver is deprecated and has no impact on network capture. Use `_forceAllowLocalhostNetworkCapture` on `posthog.sessionRecording`"),this.__forceAllowLocalhost=t}}class z0{constructor(){ve(this,"webPerformance",new IF);ve(this,"version",ra.LIB_VERSION);ve(this,"_internalEventEmitter",new _5);this.config=JC(),this.decideEndpointWasHit=!1,this.SentryIntegration=tF,this.sentryIntegration=t=>function(n,r){const i=b5(n,r);return{name:A5,processEvent:s=>i(s)}}(this,t),this.__request_queue=[],this.__loaded=!1,this.analyticsDefaultEndpoint="/e/",this._initialPageviewCaptured=!1,this._initialPersonProfilesConfig=null,this.featureFlags=new QD(this),this.toolbar=new q$(this),this.scrollManager=new yF(this),this.pageViewManager=new rF(this),this.surveys=new dF(this),this.experiments=new Xn(this),this.exceptions=new kF(this),this.rateLimiter=new fF(this),this.requestRouter=new eF(this),this.consent=new xF(this),this.people={set:(t,n,r)=>{const i=kr(t)?{[t]:n}:t;this.setPersonProperties(i),r==null||r({})},set_once:(t,n,r)=>{const i=kr(t)?{[t]:n}:t;this.setPersonProperties(void 0,i),r==null||r({})}},this.on("eventCaptured",t=>ie.info(`send "${t==null?void 0:t.event}"`,t))}init(t,n,r){if(r&&r!==Vc){var i;const s=(i=vf[r])!==null&&i!==void 0?i:new z0;return s._init(t,n,r),vf[r]=s,vf[Vc][r]=s,s}return this._init(t,n,r)}_init(t){var n,r;let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=arguments.length>2?arguments[2]:void 0;if(je(t)||iC(t))return ie.critical("PostHog was initialized without a token. This likely indicates a misconfiguration. Please check the first argument passed to posthog.init()"),this;if(this.__loaded)return ie.warn("You have already initialized PostHog! Re-initializing is a no-op"),this;this.__loaded=!0,this.config={},this._triggered_notifs=[],i.person_profiles&&(this._initialPersonProfilesConfig=i.person_profiles),this.set_config($r({},JC(),XC(i),{name:s,token:t})),this.config.on_xhr_error&&ie.error("[posthog] on_xhr_error is deprecated. Use on_request_error instead"),this.compression=i.disable_compression?void 0:ks.GZipJS,this.persistence=new Pv(this.config),this.sessionPersistence=this.config.persistence==="sessionStorage"?this.persistence:new Pv({...this.config,persistence:"sessionStorage"});const o={...this.persistence.props},a={...this.sessionPersistence.props};if(this._requestQueue=new W$(h=>this._send_retriable_request(h)),this._retryQueue=new X$(this),this.__request_queue=[],this.sessionManager=new Z$(this.config,this.persistence),this.sessionPropsManager=new pF(this.sessionManager,this.persistence),new SF(this).startIfEnabledOrStop(),this.sessionRecording=new U$(this),this.sessionRecording.startIfEnabledOrStop(),this.config.disable_scroll_properties||this.scrollManager.startMeasuringScrollPosition(),this.autocapture=new _F(this),this.autocapture.startIfEnabled(),this.surveys.loadIfEnabled(),this.heatmaps=new mF(this),this.heatmaps.startIfEnabled(),this.webVitalsAutocapture=new EF(this),this.exceptionObserver=new wF(this),this.exceptionObserver.startIfEnabled(),this.deadClicksAutocapture=new TF(this),this.deadClicksAutocapture.startIfEnabled(),ra.DEBUG=ra.DEBUG||this.config.debug,ra.DEBUG&&ie.info("Starting in debug mode",{this:this,config:i,thisC:{...this.config},p:o,s:a}),this._sync_opt_out_with_persistence(),((n=i.bootstrap)===null||n===void 0?void 0:n.distinctID)!==void 0){var l,c;const h=this.config.get_device_id(ga()),p=(l=i.bootstrap)!==null&&l!==void 0&&l.isIdentifiedID?h:i.bootstrap.distinctID;this.persistence.set_property(Ao,(c=i.bootstrap)!==null&&c!==void 0&&c.isIdentifiedID?"identified":"anonymous"),this.register({distinct_id:i.bootstrap.distinctID,$device_id:p})}if(this._hasBootstrappedFeatureFlags()){var u,d;const h=Object.keys(((u=i.bootstrap)===null||u===void 0?void 0:u.featureFlags)||{}).filter(g=>{var m,b;return!((m=i.bootstrap)===null||m===void 0||(b=m.featureFlags)===null||b===void 0||!b[g])}).reduce((g,m)=>{var b,y;return g[m]=((b=i.bootstrap)===null||b===void 0||(y=b.featureFlags)===null||y===void 0?void 0:y[m])||!1,g},{}),p=Object.keys(((d=i.bootstrap)===null||d===void 0?void 0:d.featureFlagPayloads)||{}).filter(g=>h[g]).reduce((g,m)=>{var b,y,v,_;return(b=i.bootstrap)!==null&&b!==void 0&&(y=b.featureFlagPayloads)!==null&&y!==void 0&&y[m]&&(g[m]=(v=i.bootstrap)===null||v===void 0||(_=v.featureFlagPayloads)===null||_===void 0?void 0:_[m]),g},{});this.featureFlags.receivedFeatureFlags({featureFlags:h,featureFlagPayloads:p})}if(!this.get_distinct_id()){const h=this.config.get_device_id(ga());this.register_once({distinct_id:h,$device_id:h},""),this.persistence.set_property(Ao,"anonymous")}return J==null||(r=J.addEventListener)===null||r===void 0||r.call(J,"onpagehide"in self?"pagehide":"unload",this._handle_unload.bind(this)),this.toolbar.maybeLoadToolbar(),i.segment?nF(this,()=>this._loaded()):this._loaded(),Xi(this.config._onCapture)&&this.on("eventCaptured",h=>this.config._onCapture(h.event,h)),this}_afterDecideResponse(t){var n,r,i,s,o,a,l,c,u,d;this.compression=void 0,t.supportedCompression&&!this.config.disable_compression&&(this.compression=ft(t.supportedCompression,ks.GZipJS)?ks.GZipJS:ft(t.supportedCompression,ks.Base64)?ks.Base64:void 0),(n=t.analytics)!==null&&n!==void 0&&n.endpoint&&(this.analyticsDefaultEndpoint=t.analytics.endpoint),this.set_config({person_profiles:this._initialPersonProfilesConfig?this._initialPersonProfilesConfig:t.defaultIdentifiedOnly?"identified_only":"always"}),(r=this.sessionRecording)===null||r===void 0||r.afterDecideResponse(t),(i=this.autocapture)===null||i===void 0||i.afterDecideResponse(t),(s=this.heatmaps)===null||s===void 0||s.afterDecideResponse(t),(o=this.experiments)===null||o===void 0||o.afterDecideResponse(t),(a=this.surveys)===null||a===void 0||a.afterDecideResponse(t),(l=this.webVitalsAutocapture)===null||l===void 0||l.afterDecideResponse(t),(c=this.exceptions)===null||c===void 0||c.afterDecideResponse(t),(u=this.exceptionObserver)===null||u===void 0||u.afterDecideResponse(t),(d=this.deadClicksAutocapture)===null||d===void 0||d.afterDecideResponse(t)}_loaded(){const t=this.config.advanced_disable_decide;t||this.featureFlags.setReloadingPaused(!0);try{this.config.loaded(this)}catch(n){ie.critical("`loaded` function failed",n)}this._start_queue_if_opted_in(),this.config.capture_pageview&&setTimeout(()=>{this.consent.isOptedIn()&&this._captureInitialPageview()},1),t||(new H$(this).call(),this.featureFlags.resetRequestQueue())}_start_queue_if_opted_in(){var t;this.has_opted_out_capturing()||this.config.request_batching&&((t=this._requestQueue)===null||t===void 0||t.enable())}_dom_loaded(){this.has_opted_out_capturing()||ou(this.__request_queue,t=>this._send_retriable_request(t)),this.__request_queue=[],this._start_queue_if_opted_in()}_handle_unload(){var t,n;this.config.request_batching?(this._shouldCapturePageleave()&&this.capture("$pageleave"),(t=this._requestQueue)===null||t===void 0||t.unload(),(n=this._retryQueue)===null||n===void 0||n.unload()):this._shouldCapturePageleave()&&this.capture("$pageleave",null,{transport:"sendBeacon"})}_send_request(t){this.__loaded&&(O5?this.__request_queue.push(t):this.rateLimiter.isServerRateLimited(t.batchKey)||(t.transport=t.transport||this.config.api_transport,t.url=bm(t.url,{ip:this.config.ip?1:0}),t.headers={...this.config.request_headers},t.compression=t.compression==="best-available"?this.compression:t.compression,(n=>{var r,i,s;const o={...n};o.timeout=o.timeout||6e4,o.url=bm(o.url,{_:new Date().getTime().toString(),ver:ra.LIB_VERSION,compression:o.compression});const a=(r=o.transport)!==null&&r!==void 0?r:"XHR",l=(i=(s=BM(yf,c=>c.transport===a))===null||s===void 0?void 0:s.method)!==null&&i!==void 0?i:yf[0].method;if(!l)throw new Error("No available transport method");l(o)})({...t,callback:n=>{var r,i,s;this.rateLimiter.checkForLimiting(n),n.statusCode>=400&&((i=(s=this.config).on_request_error)===null||i===void 0||i.call(s,n)),(r=t.callback)===null||r===void 0||r.call(t,n)}})))}_send_retriable_request(t){this._retryQueue?this._retryQueue.retriableRequest(t):this._send_request(t)}_execute_array(t){let n;const r=[],i=[],s=[];ou(t,a=>{a&&(n=a[0],Wn(n)?s.push(a):Xi(a)?a.call(this):Wn(a)&&n==="alias"?r.push(a):Wn(a)&&n.indexOf("capture")!==-1&&Xi(this[n])?s.push(a):i.push(a))});const o=function(a,l){ou(a,function(c){if(Wn(c[0])){let u=l;Dt(c,function(d){u=u[d[0]].apply(u,d.slice(1))})}else this[c[0]].apply(this,c.slice(1))},l)};o(r,this),o(i,this),o(s,this)}_hasBootstrappedFeatureFlags(){var t,n;return((t=this.config.bootstrap)===null||t===void 0?void 0:t.featureFlags)&&Object.keys((n=this.config.bootstrap)===null||n===void 0?void 0:n.featureFlags).length>0||!1}push(t){this._execute_array([t])}capture(t,n,r){var i;if(!(this.__loaded&&this.persistence&&this.sessionPersistence&&this._requestQueue))return void ie.uninitializedWarning("posthog.capture");if(this.consent.isOptedOut())return;if(je(t)||!kr(t))return void ie.error("No event name provided to posthog.capture");if(!this.config.opt_out_useragent_filter&&this._is_bot())return;const s=r!=null&&r.skip_client_rate_limiting?void 0:this.rateLimiter.clientRateLimitContext();if(s!=null&&s.isRateLimited)return void ie.critical("This capture call is ignored due to client rate limiting.");this.sessionPersistence.update_search_keyword(),this.config.store_google&&this.sessionPersistence.update_campaign_params(),this.config.save_referrer&&this.sessionPersistence.update_referrer_info(),(this.config.store_google||this.config.save_referrer)&&this.persistence.set_initial_person_info();const o=new Date,a=(r==null?void 0:r.timestamp)||o;let l={uuid:ga(),event:t,properties:this._calculate_event_properties(t,n||{},a)};s&&(l.properties.$lib_rate_limit_remaining_tokens=s.remainingTokens),r!=null&&r.$set&&(l.$set=r==null?void 0:r.$set);const c=this._calculate_set_once_properties(r==null?void 0:r.$set_once);c&&(l.$set_once=c),l=qD(l,r!=null&&r._noTruncate?null:this.config.properties_string_max_length),l.timestamp=a,je(r==null?void 0:r.timestamp)||(l.properties.$event_time_override_provided=!0,l.properties.$event_time_override_system_time=o);const u={...l.properties.$set,...l.$set};pf(u)||this.setPersonPropertiesForFlags(u),this._internalEventEmitter.emit("eventCaptured",l);const d={method:"POST",url:(i=r==null?void 0:r._url)!==null&&i!==void 0?i:this.requestRouter.endpointFor("api",this.analyticsDefaultEndpoint),data:l,compression:"best-available",batchKey:r==null?void 0:r._batchKey};return!this.config.request_batching||r&&(r==null||!r._batchKey)||r!=null&&r.send_instantly?this._send_retriable_request(d):this._requestQueue.enqueue(d),l}_addCaptureHook(t){return this.on("eventCaptured",n=>t(n.event,n))}_calculate_event_properties(t,n,r){if(r=r||new Date,!this.persistence||!this.sessionPersistence)return n;const i=this.persistence.remove_event_timer(t);let s={...n};if(s.token=this.config.token,t==="$snapshot"){const c={...this.persistence.properties(),...this.sessionPersistence.properties()};return s.distinct_id=c.distinct_id,(!kr(s.distinct_id)&&!vi(s.distinct_id)||iC(s.distinct_id))&&ie.error("Invalid distinct_id for replay event. This indicates a bug in your implementation"),s}const o=Tn.properties();if(this.sessionManager){const{sessionId:c,windowId:u}=this.sessionManager.checkAndGetSessionAndWindowId();s.$session_id=c,s.$window_id=u}if(this.requestRouter.region===Sl.CUSTOM&&(s.$lib_custom_api_host=this.config.api_host),this.sessionPropsManager&&this.config.__preview_send_client_session_params&&(t==="$pageview"||t==="$pageleave"||t==="$autocapture")){const c=this.sessionPropsManager.getSessionProps();s=$r(s,c)}if(!this.config.disable_scroll_properties){let c={};t==="$pageview"?c=this.pageViewManager.doPageView(r):t==="$pageleave"&&(c=this.pageViewManager.doPageLeave(r)),s=$r(s,c)}if(t==="$pageview"&&we&&(s.title=we.title),!je(i)){const c=r.getTime()-i;s.$duration=parseFloat((c/1e3).toFixed(3))}er&&this.config.opt_out_useragent_filter&&(s.$browser_type=this._is_bot()?"bot":"browser"),s=$r({},o,this.persistence.properties(),this.sessionPersistence.properties(),s),s.$is_identified=this._isIdentified(),Wn(this.config.property_denylist)?Dt(this.config.property_denylist,function(c){delete s[c]}):ie.error("Invalid value for property_denylist config: "+this.config.property_denylist+" or property_blacklist config: "+this.config.property_blacklist);const a=this.config.sanitize_properties;a&&(s=a(s,t));const l=this._hasPersonProcessing();return s.$process_person_profile=l,l&&this._requirePersonProcessing("_calculate_event_properties"),s}_calculate_set_once_properties(t){if(!this.persistence||!this._hasPersonProcessing())return t;let n=$r({},this.persistence.get_initial_props(),t||{});const r=this.config.sanitize_properties;return r&&(n=r(n,"$set_once")),pf(n)?void 0:n}register(t,n){var r;(r=this.persistence)===null||r===void 0||r.register(t,n)}register_once(t,n,r){var i;(i=this.persistence)===null||i===void 0||i.register_once(t,n,r)}register_for_session(t){var n;(n=this.sessionPersistence)===null||n===void 0||n.register(t)}unregister(t){var n;(n=this.persistence)===null||n===void 0||n.unregister(t)}unregister_for_session(t){var n;(n=this.sessionPersistence)===null||n===void 0||n.unregister(t)}_register_single(t,n){this.register({[t]:n})}getFeatureFlag(t,n){return this.featureFlags.getFeatureFlag(t,n)}getFeatureFlagPayload(t){const n=this.featureFlags.getFeatureFlagPayload(t);try{return JSON.parse(n)}catch{return n}}isFeatureEnabled(t,n){return this.featureFlags.isFeatureEnabled(t,n)}reloadFeatureFlags(){this.featureFlags.reloadFeatureFlags()}updateEarlyAccessFeatureEnrollment(t,n){this.featureFlags.updateEarlyAccessFeatureEnrollment(t,n)}getEarlyAccessFeatures(t){let n=arguments.length>1&&arguments[1]!==void 0&&arguments[1];return this.featureFlags.getEarlyAccessFeatures(t,n)}on(t,n){return this._internalEventEmitter.on(t,n)}onFeatureFlags(t){return this.featureFlags.onFeatureFlags(t)}onSessionId(t){var n,r;return(n=(r=this.sessionManager)===null||r===void 0?void 0:r.onSessionId(t))!==null&&n!==void 0?n:()=>{}}getSurveys(t){let n=arguments.length>1&&arguments[1]!==void 0&&arguments[1];this.surveys.getSurveys(t,n)}getActiveMatchingSurveys(t){let n=arguments.length>1&&arguments[1]!==void 0&&arguments[1];this.surveys.getActiveMatchingSurveys(t,n)}renderSurvey(t,n){this.surveys.renderSurvey(t,n)}canRenderSurvey(t){this.surveys.canRenderSurvey(t)}getNextSurveyStep(t,n,r){return this.surveys.getNextSurveyStep(t,n,r)}identify(t,n,r){if(!this.__loaded||!this.persistence)return ie.uninitializedWarning("posthog.identify");if(vi(t)&&(t=t.toString(),ie.warn("The first argument to posthog.identify was a number, but it should be a string. It has been converted to a string.")),!t)return void ie.error("Unique user id has not been set in posthog.identify");if(["distinct_id","distinctid"].includes(t.toLowerCase()))return void ie.critical(`The string "${t}" was set in posthog.identify which indicates an error. This ID should be unique to the user and not a hardcoded string.`);if(!this._requirePersonProcessing("posthog.identify"))return;const i=this.get_distinct_id();if(this.register({$user_id:t}),!this.get_property("$device_id")){const o=i;this.register_once({$had_persisted_distinct_id:!0,$device_id:o},"")}t!==i&&t!==this.get_property(Yd)&&(this.unregister(Yd),this.register({distinct_id:t}));const s=(this.persistence.get_property(Ao)||"anonymous")==="anonymous";t!==i&&s?(this.persistence.set_property(Ao,"identified"),this.setPersonPropertiesForFlags(n||{},!1),this.capture("$identify",{distinct_id:t,$anon_distinct_id:i},{$set:n||{},$set_once:r||{}}),this.featureFlags.setAnonymousDistinctId(i)):(n||r)&&this.setPersonProperties(n,r),t!==i&&(this.reloadFeatureFlags(),this.unregister(fm))}setPersonProperties(t,n){(t||n)&&this._requirePersonProcessing("posthog.setPersonProperties")&&(this.setPersonPropertiesForFlags(t||{}),this.capture("$set",{$set:t||{},$set_once:n||{}}))}group(t,n,r){if(!t||!n)return void ie.error("posthog.group requires a group type and group key");if(!this._requirePersonProcessing("posthog.group"))return;const i=this.getGroups();i[t]!==n&&this.resetGroupPropertiesForFlags(t),this.register({$groups:{...i,[t]:n}}),r&&(this.capture("$groupidentify",{$group_type:t,$group_key:n,$group_set:r}),this.setGroupPropertiesForFlags({[t]:r})),i[t]===n||r||this.reloadFeatureFlags()}resetGroups(){this.register({$groups:{}}),this.resetGroupPropertiesForFlags(),this.reloadFeatureFlags()}setPersonPropertiesForFlags(t){let n=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];this._requirePersonProcessing("posthog.setPersonPropertiesForFlags")&&this.featureFlags.setPersonPropertiesForFlags(t,n)}resetPersonPropertiesForFlags(){this.featureFlags.resetPersonPropertiesForFlags()}setGroupPropertiesForFlags(t){let n=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];this._requirePersonProcessing("posthog.setGroupPropertiesForFlags")&&this.featureFlags.setGroupPropertiesForFlags(t,n)}resetGroupPropertiesForFlags(t){this.featureFlags.resetGroupPropertiesForFlags(t)}reset(t){var n,r,i,s,o;if(ie.info("reset"),!this.__loaded)return ie.uninitializedWarning("posthog.reset");const a=this.get_property("$device_id");this.consent.reset(),(n=this.persistence)===null||n===void 0||n.clear(),(r=this.sessionPersistence)===null||r===void 0||r.clear(),(i=this.surveys)===null||i===void 0||i.reset(),(s=this.persistence)===null||s===void 0||s.set_property(Ao,"anonymous"),(o=this.sessionManager)===null||o===void 0||o.resetSessionId();const l=this.config.get_device_id(ga());this.register_once({distinct_id:l,$device_id:t?l:a},"")}get_distinct_id(){return this.get_property("distinct_id")}getGroups(){return this.get_property("$groups")||{}}get_session_id(){var t,n;return(t=(n=this.sessionManager)===null||n===void 0?void 0:n.checkAndGetSessionAndWindowId(!0).sessionId)!==null&&t!==void 0?t:""}get_session_replay_url(t){if(!this.sessionManager)return"";const{sessionId:n,sessionStartTimestamp:r}=this.sessionManager.checkAndGetSessionAndWindowId(!0);let i=this.requestRouter.endpointFor("ui",`/project/${this.config.token}/replay/${n}`);if(t!=null&&t.withTimestamp&&r){var s;const o=(s=t.timestampLookBack)!==null&&s!==void 0?s:10;if(!r)return i;i+=`?t=${Math.max(Math.floor((new Date().getTime()-r)/1e3)-o,0)}`}return i}alias(t,n){return t===this.get_property(DM)?(ie.critical("Attempting to create alias for existing People user - aborting."),-2):this._requirePersonProcessing("posthog.alias")?(je(n)&&(n=this.get_distinct_id()),t!==n?(this._register_single(Yd,t),this.capture("$create_alias",{alias:t,distinct_id:n})):(ie.warn("alias matches current distinct_id - skipping api call."),this.identify(t),-1)):void 0}set_config(t){const n={...this.config};var r,i,s,o;Rn(t)&&($r(this.config,XC(t)),(r=this.persistence)===null||r===void 0||r.update_config(this.config,n),this.sessionPersistence=this.config.persistence==="sessionStorage"?this.persistence:new Pv({...this.config,persistence:"sessionStorage"}),qn.is_supported()&&qn.get("ph_debug")==="true"&&(this.config.debug=!0),this.config.debug&&(ra.DEBUG=!0,ie.info("set_config",{config:t,oldConfig:n,newConfig:{...this.config}})),(i=this.sessionRecording)===null||i===void 0||i.startIfEnabledOrStop(),(s=this.autocapture)===null||s===void 0||s.startIfEnabled(),(o=this.heatmaps)===null||o===void 0||o.startIfEnabled(),this.surveys.loadIfEnabled(),this._sync_opt_out_with_persistence())}startSessionRecording(t){const n=pa(t)&&t;if(n||t!=null&&t.sampling||t!=null&&t.linked_flag){var r;const o=(r=this.sessionManager)===null||r===void 0?void 0:r.checkAndGetSessionAndWindowId();var i,s;(n||t!=null&&t.sampling)&&((i=this.sessionRecording)===null||i===void 0||i.overrideSampling(),ie.info("Session recording started with sampling override for session: ",o==null?void 0:o.sessionId)),(n||t!=null&&t.linked_flag)&&((s=this.sessionRecording)===null||s===void 0||s.overrideLinkedFlag(),ie.info("Session recording started with linked_flags override"))}this.set_config({disable_session_recording:!1})}stopSessionRecording(){this.set_config({disable_session_recording:!0})}sessionRecordingStarted(){var t;return!((t=this.sessionRecording)===null||t===void 0||!t.started)}captureException(t,n){var r;const i=new Error("PostHog syntheticException"),s=Xi((r=tt.__PosthogExtensions__)===null||r===void 0?void 0:r.parseErrorAsProperties)?tt.__PosthogExtensions__.parseErrorAsProperties([t.message,void 0,void 0,void 0,t],{syntheticException:i}):{$exception_level:"error",$exception_list:[{type:t.name,value:t.message,mechanism:{handled:!0,synthetic:!1}}],...n};this.exceptions.sendExceptionEvent(s)}loadToolbar(t){return this.toolbar.loadToolbar(t)}get_property(t){var n;return(n=this.persistence)===null||n===void 0?void 0:n.props[t]}getSessionProperty(t){var n;return(n=this.sessionPersistence)===null||n===void 0?void 0:n.props[t]}toString(){var t;let n=(t=this.config.name)!==null&&t!==void 0?t:Vc;return n!==Vc&&(n=Vc+"."+n),n}_isIdentified(){var t,n;return((t=this.persistence)===null||t===void 0?void 0:t.get_property(Ao))==="identified"||((n=this.sessionPersistence)===null||n===void 0?void 0:n.get_property(Ao))==="identified"}_hasPersonProcessing(){var t,n,r,i;return!(this.config.person_profiles==="never"||this.config.person_profiles==="identified_only"&&!this._isIdentified()&&pf(this.getGroups())&&((t=this.persistence)===null||t===void 0||(n=t.props)===null||n===void 0||!n[Yd])&&((r=this.persistence)===null||r===void 0||(i=r.props)===null||i===void 0||!i[hm]))}_shouldCapturePageleave(){return this.config.capture_pageleave===!0||this.config.capture_pageleave==="if_capture_pageview"&&this.config.capture_pageview}createPersonProfile(){this._hasPersonProcessing()||this._requirePersonProcessing("posthog.createPersonProfile")&&this.setPersonProperties({},{})}_requirePersonProcessing(t){return this.config.person_profiles==="never"?(ie.error(t+' was called, but process_person is set to "never". This call will be ignored.'),!1):(this._register_single(hm,!0),!0)}_sync_opt_out_with_persistence(){var t,n;const r=this.consent.isOptedOut(),i=this.config.opt_out_persistence_by_default,s=this.config.disable_persistence||r&&!!i;var o,a;((t=this.persistence)===null||t===void 0?void 0:t.disabled)!==s&&((o=this.persistence)===null||o===void 0||o.set_disabled(s)),((n=this.sessionPersistence)===null||n===void 0?void 0:n.disabled)!==s&&((a=this.sessionPersistence)===null||a===void 0||a.set_disabled(s))}opt_in_capturing(t){var n;this.consent.optInOut(!0),this._sync_opt_out_with_persistence(),(je(t==null?void 0:t.captureEventName)||t!=null&&t.captureEventName)&&this.capture((n=t==null?void 0:t.captureEventName)!==null&&n!==void 0?n:"$opt_in",t==null?void 0:t.captureProperties,{send_instantly:!0}),this.config.capture_pageview&&this._captureInitialPageview()}opt_out_capturing(){this.consent.optInOut(!1),this._sync_opt_out_with_persistence()}has_opted_in_capturing(){return this.consent.isOptedIn()}has_opted_out_capturing(){return this.consent.isOptedOut()}clear_opt_in_out_capturing(){this.consent.reset(),this._sync_opt_out_with_persistence()}_is_bot(){return bi?M5(bi,this.config.custom_blocked_useragents):void 0}_captureInitialPageview(){we&&!this._initialPageviewCaptured&&(this._initialPageviewCaptured=!0,this.capture("$pageview",{title:we.title},{send_instantly:!0}))}debug(t){t===!1?(J==null||J.console.log("You've disabled debug mode."),localStorage&&localStorage.removeItem("ph_debug"),this.set_config({debug:!1})):(J==null||J.console.log("You're now in debug mode. All calls to PostHog will be logged in your console.\nYou can disable this with `posthog.debug(false)`."),localStorage&&localStorage.setItem("ph_debug","true"),this.set_config({debug:!0}))}}(function(e,t){for(let n=0;n<t.length;n++)e.prototype[t[n]]=GD(e.prototype[t[n]])})(z0,["identify"]);const On=function(){const e=vf[Vc]=new z0;return function(){function t(){t.done||(t.done=!0,O5=!1,Dt(vf,function(n){n._dom_loaded()}))}we!=null&&we.addEventListener&&(we.readyState==="complete"?t():we.addEventListener("DOMContentLoaded",t,!1)),J&&Eo(J,"load",t,!0)}(),e}();class yt{constructor(t,n=!1,r=!0){this.name=t,this.track=n,this.log=r,this.subscribers=[],this.lastParams=null,this.subscribe=(i,s=!1)=>{this.unsubscribe(i),this.subscribers.push(i),s&&this.lastParams!==null&&i(...this.lastParams)},this.unsubscribe=i=>{this.subscribers=this.subscribers.filter(s=>s!==i)},this.dispatch=(...i)=>{this.log&&console.log("dispatch",this.name,...i),this.subscribers.forEach(s=>s(...i)),this.lastParams=i,this.track&&On.capture(this.name,this.track instanceof Function?this.track(...i):i)}}}const te={sectionChange:new yt("sectionChange",!1,!1),playerAdded:new yt("playerAdded",!1),playerRemoved:new yt("playerRemoved",!1),songStarted:new yt("songStarted",!1),songEnded:new yt("songEnded",!1),remoteMicConnected:new yt("remoteMicConnected"),remoteMicDisconnected:new yt("remoteMicDisconnected"),playerNameChanged:new yt("playerNameChanged"),playerInputChanged:new yt("playerInputChanged"),inputListChanged:new yt("inputListChanged"),karaokeConnectionStatusChange:new yt("karaokeConnectionStatusChange"),remoteMicPlayerSet:new yt("remoteMicPlayerSet"),remoteMicMonitoringStarted:new yt("remoteMicMonitoringStarted"),remoteMicMonitoringStopped:new yt("remoteMicMonitoringStopped"),micMonitoringStarted:new yt("micMonitoringStarted"),micMonitoringStopped:new yt("micMonitoringStopped"),playerChangeRequested:new yt("playerChangeRequested",!0),songStatStored:new yt("songStatStored"),songScoreUpdated:new yt("songScoreUpdated",()=>{}),remoteMicSubscribed:new yt("remoteMicSubscribed"),remoteKeyboardPressed:new yt("remoteKeyboardPressed"),remoteSongSearch:new yt("remoteSongSearch"),remoteSongSelected:new yt("remoteSongSelected",!0),remoteMicListUpdated:new yt("remoteMicListUpdated"),remoteKeyboardLayout:new yt("remoteKeyboardLayout"),remoteReadinessRequested:new yt("remoteReadinessRequested"),remoteStyleChanged:new yt("remoteStyleChanged"),remoteMicPermissionsSet:new yt("remoteMicPermissionsSet"),readinessConfirmed:new yt("remoteReadinessConfirmed"),minPlayerNumberChanged:new yt("minPlayerNumberChanged"),micServerStarted:new yt("micServerStarted"),micServerStopped:new yt("micServerStopped")};te.songStarted.subscribe(()=>{Is.clearData(),Is.startRecord()});te.songEnded.subscribe(()=>{Is.stopRecord()});function wm(e){"@babel/helpers - typeof";return wm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wm(e)}var PF=/^\s+/,RF=/\s+$/;function le(e,t){if(e=e||"",t=t||{},e instanceof le)return e;if(!(this instanceof le))return new le(e,t);var n=MF(e);this._originalInput=e,this._r=n.r,this._g=n.g,this._b=n.b,this._a=n.a,this._roundA=Math.round(100*this._a)/100,this._format=t.format||n.format,this._gradientType=t.gradientType,this._r<1&&(this._r=Math.round(this._r)),this._g<1&&(this._g=Math.round(this._g)),this._b<1&&(this._b=Math.round(this._b)),this._ok=n.ok}le.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var t=this.toRgb();return(t.r*299+t.g*587+t.b*114)/1e3},getLuminance:function(){var t=this.toRgb(),n,r,i,s,o,a;return n=t.r/255,r=t.g/255,i=t.b/255,n<=.03928?s=n/12.92:s=Math.pow((n+.055)/1.055,2.4),r<=.03928?o=r/12.92:o=Math.pow((r+.055)/1.055,2.4),i<=.03928?a=i/12.92:a=Math.pow((i+.055)/1.055,2.4),.2126*s+.7152*o+.0722*a},setAlpha:function(t){return this._a=V5(t),this._roundA=Math.round(100*this._a)/100,this},toHsv:function(){var t=e2(this._r,this._g,this._b);return{h:t.h*360,s:t.s,v:t.v,a:this._a}},toHsvString:function(){var t=e2(this._r,this._g,this._b),n=Math.round(t.h*360),r=Math.round(t.s*100),i=Math.round(t.v*100);return this._a==1?"hsv("+n+", "+r+"%, "+i+"%)":"hsva("+n+", "+r+"%, "+i+"%, "+this._roundA+")"},toHsl:function(){var t=ZC(this._r,this._g,this._b);return{h:t.h*360,s:t.s,l:t.l,a:this._a}},toHslString:function(){var t=ZC(this._r,this._g,this._b),n=Math.round(t.h*360),r=Math.round(t.s*100),i=Math.round(t.l*100);return this._a==1?"hsl("+n+", "+r+"%, "+i+"%)":"hsla("+n+", "+r+"%, "+i+"%, "+this._roundA+")"},toHex:function(t){return t2(this._r,this._g,this._b,t)},toHexString:function(t){return"#"+this.toHex(t)},toHex8:function(t){return LF(this._r,this._g,this._b,this._a,t)},toHex8String:function(t){return"#"+this.toHex8(t)},toRgb:function(){return{r:Math.round(this._r),g:Math.round(this._g),b:Math.round(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+")":"rgba("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:Math.round(sn(this._r,255)*100)+"%",g:Math.round(sn(this._g,255)*100)+"%",b:Math.round(sn(this._b,255)*100)+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+Math.round(sn(this._r,255)*100)+"%, "+Math.round(sn(this._g,255)*100)+"%, "+Math.round(sn(this._b,255)*100)+"%)":"rgba("+Math.round(sn(this._r,255)*100)+"%, "+Math.round(sn(this._g,255)*100)+"%, "+Math.round(sn(this._b,255)*100)+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":this._a<1?!1:KF[t2(this._r,this._g,this._b,!0)]||!1},toFilter:function(t){var n="#"+n2(this._r,this._g,this._b,this._a),r=n,i=this._gradientType?"GradientType = 1, ":"";if(t){var s=le(t);r="#"+n2(s._r,s._g,s._b,s._a)}return"progid:DXImageTransform.Microsoft.gradient("+i+"startColorstr="+n+",endColorstr="+r+")"},toString:function(t){var n=!!t;t=t||this._format;var r=!1,i=this._a<1&&this._a>=0,s=!n&&i&&(t==="hex"||t==="hex6"||t==="hex3"||t==="hex4"||t==="hex8"||t==="name");return s?t==="name"&&this._a===0?this.toName():this.toRgbString():(t==="rgb"&&(r=this.toRgbString()),t==="prgb"&&(r=this.toPercentageRgbString()),(t==="hex"||t==="hex6")&&(r=this.toHexString()),t==="hex3"&&(r=this.toHexString(!0)),t==="hex4"&&(r=this.toHex8String(!0)),t==="hex8"&&(r=this.toHex8String()),t==="name"&&(r=this.toName()),t==="hsl"&&(r=this.toHslString()),t==="hsv"&&(r=this.toHsvString()),r||this.toHexString())},clone:function(){return le(this.toString())},_applyModification:function(t,n){var r=t.apply(null,[this].concat([].slice.call(n)));return this._r=r._r,this._g=r._g,this._b=r._b,this.setAlpha(r._a),this},lighten:function(){return this._applyModification($F,arguments)},brighten:function(){return this._applyModification(FF,arguments)},darken:function(){return this._applyModification(zF,arguments)},desaturate:function(){return this._applyModification(NF,arguments)},saturate:function(){return this._applyModification(BF,arguments)},greyscale:function(){return this._applyModification(DF,arguments)},spin:function(){return this._applyModification(UF,arguments)},_applyCombination:function(t,n){return t.apply(null,[this].concat([].slice.call(n)))},analogous:function(){return this._applyCombination(qF,arguments)},complement:function(){return this._applyCombination(HF,arguments)},monochromatic:function(){return this._applyCombination(WF,arguments)},splitcomplement:function(){return this._applyCombination(GF,arguments)},triad:function(){return this._applyCombination(r2,[3])},tetrad:function(){return this._applyCombination(r2,[4])}};le.fromRatio=function(e,t){if(wm(e)=="object"){var n={};for(var r in e)e.hasOwnProperty(r)&&(r==="a"?n[r]=e[r]:n[r]=Zd(e[r]));e=n}return le(e,t)};function MF(e){var t={r:0,g:0,b:0},n=1,r=null,i=null,s=null,o=!1,a=!1;return typeof e=="string"&&(e=XF(e)),wm(e)=="object"&&(po(e.r)&&po(e.g)&&po(e.b)?(t=jF(e.r,e.g,e.b),o=!0,a=String(e.r).substr(-1)==="%"?"prgb":"rgb"):po(e.h)&&po(e.s)&&po(e.v)?(r=Zd(e.s),i=Zd(e.v),t=VF(e.h,r,i),o=!0,a="hsv"):po(e.h)&&po(e.s)&&po(e.l)&&(r=Zd(e.s),s=Zd(e.l),t=OF(e.h,r,s),o=!0,a="hsl"),e.hasOwnProperty("a")&&(n=e.a)),n=V5(n),{ok:o,format:e.format||a,r:Math.min(255,Math.max(t.r,0)),g:Math.min(255,Math.max(t.g,0)),b:Math.min(255,Math.max(t.b,0)),a:n}}function jF(e,t,n){return{r:sn(e,255)*255,g:sn(t,255)*255,b:sn(n,255)*255}}function ZC(e,t,n){e=sn(e,255),t=sn(t,255),n=sn(n,255);var r=Math.max(e,t,n),i=Math.min(e,t,n),s,o,a=(r+i)/2;if(r==i)s=o=0;else{var l=r-i;switch(o=a>.5?l/(2-r-i):l/(r+i),r){case e:s=(t-n)/l+(t<n?6:0);break;case t:s=(n-e)/l+2;break;case n:s=(e-t)/l+4;break}s/=6}return{h:s,s:o,l:a}}function OF(e,t,n){var r,i,s;e=sn(e,360),t=sn(t,100),n=sn(n,100);function o(c,u,d){return d<0&&(d+=1),d>1&&(d-=1),d<1/6?c+(u-c)*6*d:d<1/2?u:d<2/3?c+(u-c)*(2/3-d)*6:c}if(t===0)r=i=s=n;else{var a=n<.5?n*(1+t):n+t-n*t,l=2*n-a;r=o(l,a,e+1/3),i=o(l,a,e),s=o(l,a,e-1/3)}return{r:r*255,g:i*255,b:s*255}}function e2(e,t,n){e=sn(e,255),t=sn(t,255),n=sn(n,255);var r=Math.max(e,t,n),i=Math.min(e,t,n),s,o,a=r,l=r-i;if(o=r===0?0:l/r,r==i)s=0;else{switch(r){case e:s=(t-n)/l+(t<n?6:0);break;case t:s=(n-e)/l+2;break;case n:s=(e-t)/l+4;break}s/=6}return{h:s,s:o,v:a}}function VF(e,t,n){e=sn(e,360)*6,t=sn(t,100),n=sn(n,100);var r=Math.floor(e),i=e-r,s=n*(1-t),o=n*(1-i*t),a=n*(1-(1-i)*t),l=r%6,c=[n,o,s,s,a,n][l],u=[a,n,n,o,s,s][l],d=[s,s,a,n,n,o][l];return{r:c*255,g:u*255,b:d*255}}function t2(e,t,n,r){var i=[Ps(Math.round(e).toString(16)),Ps(Math.round(t).toString(16)),Ps(Math.round(n).toString(16))];return r&&i[0].charAt(0)==i[0].charAt(1)&&i[1].charAt(0)==i[1].charAt(1)&&i[2].charAt(0)==i[2].charAt(1)?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0):i.join("")}function LF(e,t,n,r,i){var s=[Ps(Math.round(e).toString(16)),Ps(Math.round(t).toString(16)),Ps(Math.round(n).toString(16)),Ps(L5(r))];return i&&s[0].charAt(0)==s[0].charAt(1)&&s[1].charAt(0)==s[1].charAt(1)&&s[2].charAt(0)==s[2].charAt(1)&&s[3].charAt(0)==s[3].charAt(1)?s[0].charAt(0)+s[1].charAt(0)+s[2].charAt(0)+s[3].charAt(0):s.join("")}function n2(e,t,n,r){var i=[Ps(L5(r)),Ps(Math.round(e).toString(16)),Ps(Math.round(t).toString(16)),Ps(Math.round(n).toString(16))];return i.join("")}le.equals=function(e,t){return!e||!t?!1:le(e).toRgbString()==le(t).toRgbString()};le.random=function(){return le.fromRatio({r:Math.random(),g:Math.random(),b:Math.random()})};function NF(e,t){t=t===0?0:t||10;var n=le(e).toHsl();return n.s-=t/100,n.s=U0(n.s),le(n)}function BF(e,t){t=t===0?0:t||10;var n=le(e).toHsl();return n.s+=t/100,n.s=U0(n.s),le(n)}function DF(e){return le(e).desaturate(100)}function $F(e,t){t=t===0?0:t||10;var n=le(e).toHsl();return n.l+=t/100,n.l=U0(n.l),le(n)}function FF(e,t){t=t===0?0:t||10;var n=le(e).toRgb();return n.r=Math.max(0,Math.min(255,n.r-Math.round(255*-(t/100)))),n.g=Math.max(0,Math.min(255,n.g-Math.round(255*-(t/100)))),n.b=Math.max(0,Math.min(255,n.b-Math.round(255*-(t/100)))),le(n)}function zF(e,t){t=t===0?0:t||10;var n=le(e).toHsl();return n.l-=t/100,n.l=U0(n.l),le(n)}function UF(e,t){var n=le(e).toHsl(),r=(n.h+t)%360;return n.h=r<0?360+r:r,le(n)}function HF(e){var t=le(e).toHsl();return t.h=(t.h+180)%360,le(t)}function r2(e,t){if(isNaN(t)||t<=0)throw new Error("Argument to polyad must be a positive number");for(var n=le(e).toHsl(),r=[le(e)],i=360/t,s=1;s<t;s++)r.push(le({h:(n.h+s*i)%360,s:n.s,l:n.l}));return r}function GF(e){var t=le(e).toHsl(),n=t.h;return[le(e),le({h:(n+72)%360,s:t.s,l:t.l}),le({h:(n+216)%360,s:t.s,l:t.l})]}function qF(e,t,n){t=t||6,n=n||30;var r=le(e).toHsl(),i=360/n,s=[le(e)];for(r.h=(r.h-(i*t>>1)+720)%360;--t;)r.h=(r.h+i)%360,s.push(le(r));return s}function WF(e,t){t=t||6;for(var n=le(e).toHsv(),r=n.h,i=n.s,s=n.v,o=[],a=1/t;t--;)o.push(le({h:r,s:i,v:s})),s=(s+a)%1;return o}le.mix=function(e,t,n){n=n===0?0:n||50;var r=le(e).toRgb(),i=le(t).toRgb(),s=n/100,o={r:(i.r-r.r)*s+r.r,g:(i.g-r.g)*s+r.g,b:(i.b-r.b)*s+r.b,a:(i.a-r.a)*s+r.a};return le(o)};le.readability=function(e,t){var n=le(e),r=le(t);return(Math.max(n.getLuminance(),r.getLuminance())+.05)/(Math.min(n.getLuminance(),r.getLuminance())+.05)};le.isReadable=function(e,t,n){var r=le.readability(e,t),i,s;switch(s=!1,i=ZF(n),i.level+i.size){case"AAsmall":case"AAAlarge":s=r>=4.5;break;case"AAlarge":s=r>=3;break;case"AAAsmall":s=r>=7;break}return s};le.mostReadable=function(e,t,n){var r=null,i=0,s,o,a,l;n=n||{},o=n.includeFallbackColors,a=n.level,l=n.size;for(var c=0;c<t.length;c++)s=le.readability(e,t[c]),s>i&&(i=s,r=le(t[c]));return le.isReadable(e,r,{level:a,size:l})||!o?r:(n.includeFallbackColors=!1,le.mostReadable(e,["#fff","#000"],n))};var K1=le.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},KF=le.hexNames=YF(K1);function YF(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[e[n]]=n);return t}function V5(e){return e=parseFloat(e),(isNaN(e)||e<0||e>1)&&(e=1),e}function sn(e,t){QF(e)&&(e="100%");var n=JF(e);return e=Math.min(t,Math.max(0,parseFloat(e))),n&&(e=parseInt(e*t,10)/100),Math.abs(e-t)<1e-6?1:e%t/parseFloat(t)}function U0(e){return Math.min(1,Math.max(0,e))}function mi(e){return parseInt(e,16)}function QF(e){return typeof e=="string"&&e.indexOf(".")!=-1&&parseFloat(e)===1}function JF(e){return typeof e=="string"&&e.indexOf("%")!=-1}function Ps(e){return e.length==1?"0"+e:""+e}function Zd(e){return e<=1&&(e=e*100+"%"),e}function L5(e){return Math.round(parseFloat(e)*255).toString(16)}function i2(e){return mi(e)/255}var vs=function(){var e="[-\\+]?\\d+%?",t="[-\\+]?\\d*\\.\\d+%?",n="(?:"+t+")|(?:"+e+")",r="[\\s|\\(]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")\\s*\\)?",i="[\\s|\\(]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")\\s*\\)?";return{CSS_UNIT:new RegExp(n),rgb:new RegExp("rgb"+r),rgba:new RegExp("rgba"+i),hsl:new RegExp("hsl"+r),hsla:new RegExp("hsla"+i),hsv:new RegExp("hsv"+r),hsva:new RegExp("hsva"+i),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function po(e){return!!vs.CSS_UNIT.exec(e)}function XF(e){e=e.replace(PF,"").replace(RF,"").toLowerCase();var t=!1;if(K1[e])e=K1[e],t=!0;else if(e=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var n;return(n=vs.rgb.exec(e))?{r:n[1],g:n[2],b:n[3]}:(n=vs.rgba.exec(e))?{r:n[1],g:n[2],b:n[3],a:n[4]}:(n=vs.hsl.exec(e))?{h:n[1],s:n[2],l:n[3]}:(n=vs.hsla.exec(e))?{h:n[1],s:n[2],l:n[3],a:n[4]}:(n=vs.hsv.exec(e))?{h:n[1],s:n[2],v:n[3]}:(n=vs.hsva.exec(e))?{h:n[1],s:n[2],v:n[3],a:n[4]}:(n=vs.hex8.exec(e))?{r:mi(n[1]),g:mi(n[2]),b:mi(n[3]),a:i2(n[4]),format:t?"name":"hex8"}:(n=vs.hex6.exec(e))?{r:mi(n[1]),g:mi(n[2]),b:mi(n[3]),format:t?"name":"hex"}:(n=vs.hex4.exec(e))?{r:mi(n[1]+""+n[1]),g:mi(n[2]+""+n[2]),b:mi(n[3]+""+n[3]),a:i2(n[4]+""+n[4]),format:t?"name":"hex8"}:(n=vs.hex3.exec(e))?{r:mi(n[1]+""+n[1]),g:mi(n[2]+""+n[2]),b:mi(n[3]+""+n[3]),format:t?"name":"hex"}:!1}function ZF(e){var t,n;return e=e||{level:"AA",size:"small"},t=(e.level||"AA").toUpperCase(),n=(e.size||"small").toLowerCase(),t!=="AA"&&t!=="AAA"&&(t="AA"),n!=="small"&&n!=="large"&&(n="small"),{level:t,size:n}}const e6=le("rgb(52, 166, 95)"),t6=le("rgb(15, 138, 95)"),n6=le("rgb(245, 98, 77)"),r6=le("rgb(204, 35, 30)"),N5=le("rgb(245, 220, 21)"),i6=le(N5.toRgbString()).darken(15),B5=le("rgb(255, 70, 223)"),s6=le(B5.toRgbString()).darken(15),D5=le("rgb(255, 119, 20)"),o6=le(D5.toRgbString()).darken(15),$5=le("rgb(31, 192, 223)"),a6=le($5.toRgbString()).darken(15),F5=le("rgb(102, 44, 182)"),l6=le(F5.toRgbString()).darken(15),c6=le("rgb(0, 153, 255)"),u6=le("rgb(0, 77, 128)"),s2=le("rgb(255, 54, 54)"),o2=le("rgb(117, 25, 25)"),d6=le("rgb(255, 213, 0)"),Tg=le("rgb(255, 183, 0)"),$i=(e,t)=>e.setAlpha(t).toRgbString(),Vr=(e,t)=>({text:$i(e,1),stroke:$i(t,1),star:{fill:$i(Tg,.5),stroke:$i(Tg,0),lineWidth:1},perfect:{fill:$i(e,1),stroke:"white",lineWidth:1},starPerfect:{fill:$i(d6,1),stroke:$i(Tg,1),lineWidth:2},hit:{fill:$i(e,.9),stroke:$i(t,0),lineWidth:1},miss:{fill:$i(e,.25),stroke:$i(t,1),lineWidth:1}}),Te={blue:Vr(c6,u6),red:Vr(s2,o2),green:Vr(le("rgb(0,183,0)"),le("rgb(0,84,0)")),yellow:Vr(le("rgb(239,209,0)"),le("rgb(114,84,0)")),christmasGreen:Vr(e6,t6),christmasRed:Vr(n6,r6),halloweenOrange:Vr(le("#fd9702"),le("#ff7100")),halloweenViolet:Vr(le("#e102ff"),le("#ae03ff")),halloweenRed:Vr(s2,o2),halloweenGreen:Vr(le("rgb(0,183,0)"),le("rgb(0,84,0)")),eurovisionYellow:Vr(N5,i6),eurovisionPink:Vr(B5,s6),eurovisionOrange:Vr(D5,o6),eurovisionBlue:Vr($5,a6),eurovisionViolet:Vr(F5,l6)};let Ig=[Te.blue,Te.red,Te.green,Te.yellow];const ge={colors:{players:Ig,lines:{normal:{fill:"rgba(127, 127, 127, .7)",stroke:"black",lineWidth:1},star:{fill:"rgba(158, 144, 106, 1)",stroke:$i(Tg,1),lineWidth:1},freestyle:{fill:"rgba(255, 255, 255, 0.1)",stroke:"black",lineWidth:2}},text:{active:"rgb(255, 165, 0)",default:"white",inactive:"grey"}}},a2={christmas:[Te.christmasGreen,Te.christmasRed],eurovision:[Te.eurovisionBlue,Te.eurovisionViolet,Te.eurovisionYellow,Te.eurovisionPink],halloween:[Te.halloweenOrange,Te.halloweenViolet,Te.halloweenRed,Te.halloweenGreen],regular:[Te.blue,Te.red,Te.green,Te.yellow]},z5=e=>{Ig[0]!==a2[e][0]&&(Ig=a2[e],ge.colors.players=Ig)};function cu(e,t,n){e==null||e.send({t,...n})}var Y1;try{Y1=new TextDecoder}catch{}var me,Qi,K=0,Ht={},ht,ya,zi=0,Zs=0,ir,Mo,ci=[],at,l2={useRecords:!1,mapsAsObjects:!0};class U5{}const H5=new U5;H5.name="MessagePack 0xC1";var wa=!1,G5=2,c2;try{new Function("")}catch{G5=1/0}class Hf{constructor(t){t&&(t.useRecords===!1&&t.mapsAsObjects===void 0&&(t.mapsAsObjects=!0),t.sequential&&t.trusted!==!1&&(t.trusted=!0,!t.structures&&t.useRecords!=!1&&(t.structures=[],t.maxSharedStructures||(t.maxSharedStructures=0))),t.structures?t.structures.sharedLength=t.structures.length:t.getStructures&&((t.structures=[]).uninitialized=!0,t.structures.sharedLength=0),t.int64AsNumber&&(t.int64AsType="number")),Object.assign(this,t)}unpack(t,n){if(me)return J5(()=>(J1(),this?this.unpack(t,n):Hf.prototype.unpack.call(l2,t,n)));!t.buffer&&t.constructor===ArrayBuffer&&(t=typeof Buffer<"u"?Buffer.from(t):new Uint8Array(t)),typeof n=="object"?(Qi=n.end||t.length,K=n.start||0):(K=0,Qi=n>-1?n:t.length),Zs=0,ya=null,ir=null,me=t;try{at=t.dataView||(t.dataView=new DataView(t.buffer,t.byteOffset,t.byteLength))}catch(r){throw me=null,t instanceof Uint8Array?r:new Error("Source must be a Uint8Array or Buffer but was a "+(t&&typeof t=="object"?t.constructor.name:typeof t))}if(this instanceof Hf){if(Ht=this,this.structures)return ht=this.structures,wp(n);(!ht||ht.length>0)&&(ht=[])}else Ht=l2,(!ht||ht.length>0)&&(ht=[]);return wp(n)}unpackMultiple(t,n){let r,i=0;try{wa=!0;let s=t.length,o=this?this.unpack(t,s):H0.unpack(t,s);if(n){if(n(o,i,K)===!1)return;for(;K<s;)if(i=K,n(wp(),i,K)===!1)return}else{for(r=[o];K<s;)i=K,r.push(wp());return r}}catch(s){throw s.lastPosition=i,s.values=r,s}finally{wa=!1,J1()}}_mergeStructures(t,n){t=t||[],Object.isFrozen(t)&&(t=t.map(r=>r.slice(0)));for(let r=0,i=t.length;r<i;r++){let s=t[r];s&&(s.isShared=!0,r>=32&&(s.highByte=r-32>>5))}t.sharedLength=t.length;for(let r in n||[])if(r>=0){let i=t[r],s=n[r];s&&(i&&((t.restoreStructures||(t.restoreStructures=[]))[r]=i),t[r]=s)}return this.structures=t}decode(t,n){return this.unpack(t,n)}}function wp(e){try{if(!Ht.trusted&&!wa){let n=ht.sharedLength||0;n<ht.length&&(ht.length=n)}let t;if(Ht.randomAccessStructure&&me[K]<64&&me[K]>=32&&c2?(t=c2(me,K,Qi,Ht),me=null,!(e&&e.lazy)&&t&&(t=t.toJSON()),K=Qi):t=Mn(),ir&&(K=ir.postBundlePosition,ir=null),wa&&(ht.restoreStructures=null),K==Qi)ht&&ht.restoreStructures&&u2(),ht=null,me=null,Mo&&(Mo=null);else{if(K>Qi)throw new Error("Unexpected end of MessagePack data");if(!wa){let n;try{n=JSON.stringify(t,(r,i)=>typeof i=="bigint"?`${i}n`:i).slice(0,100)}catch(r){n="(JSON view not available "+r+")"}throw new Error("Data read, but end of buffer not reached "+n)}}return t}catch(t){throw ht&&ht.restoreStructures&&u2(),J1(),(t instanceof RangeError||t.message.startsWith("Unexpected end of buffer")||K>Qi)&&(t.incomplete=!0),t}}function u2(){for(let e in ht.restoreStructures)ht[e]=ht.restoreStructures[e];ht.restoreStructures=null}function Mn(){let e=me[K++];if(e<160)if(e<128){if(e<64)return e;{let t=ht[e&63]||Ht.getStructures&&q5()[e&63];return t?(t.read||(t.read=HS(t,e&63)),t.read()):e}}else if(e<144)if(e-=128,Ht.mapsAsObjects){let t={};for(let n=0;n<e;n++){let r=K5();r==="__proto__"&&(r="__proto_"),t[r]=Mn()}return t}else{let t=new Map;for(let n=0;n<e;n++)t.set(Mn(),Mn());return t}else{e-=144;let t=new Array(e);for(let n=0;n<e;n++)t[n]=Mn();return Ht.freezeData?Object.freeze(t):t}else if(e<192){let t=e-160;if(Zs>=K)return ya.slice(K-zi,(K+=t)-zi);if(Zs==0&&Qi<140){let n=t<16?GS(t):W5(t);if(n!=null)return n}return Q1(t)}else{let t;switch(e){case 192:return null;case 193:return ir?(t=Mn(),t>0?ir[1].slice(ir.position1,ir.position1+=t):ir[0].slice(ir.position0,ir.position0-=t)):H5;case 194:return!1;case 195:return!0;case 196:if(t=me[K++],t===void 0)throw new Error("Unexpected end of buffer");return Vv(t);case 197:return t=at.getUint16(K),K+=2,Vv(t);case 198:return t=at.getUint32(K),K+=4,Vv(t);case 199:return al(me[K++]);case 200:return t=at.getUint16(K),K+=2,al(t);case 201:return t=at.getUint32(K),K+=4,al(t);case 202:if(t=at.getFloat32(K),Ht.useFloat32>2){let n=qS[(me[K]&127)<<1|me[K+1]>>7];return K+=4,(n*t+(t>0?.5:-.5)>>0)/n}return K+=4,t;case 203:return t=at.getFloat64(K),K+=8,t;case 204:return me[K++];case 205:return t=at.getUint16(K),K+=2,t;case 206:return t=at.getUint32(K),K+=4,t;case 207:return Ht.int64AsType==="number"?(t=at.getUint32(K)*4294967296,t+=at.getUint32(K+4)):Ht.int64AsType==="string"?t=at.getBigUint64(K).toString():Ht.int64AsType==="auto"?(t=at.getBigUint64(K),t<=BigInt(2)<<BigInt(52)&&(t=Number(t))):t=at.getBigUint64(K),K+=8,t;case 208:return at.getInt8(K++);case 209:return t=at.getInt16(K),K+=2,t;case 210:return t=at.getInt32(K),K+=4,t;case 211:return Ht.int64AsType==="number"?(t=at.getInt32(K)*4294967296,t+=at.getUint32(K+4)):Ht.int64AsType==="string"?t=at.getBigInt64(K).toString():Ht.int64AsType==="auto"?(t=at.getBigInt64(K),t>=BigInt(-2)<<BigInt(52)&&t<=BigInt(2)<<BigInt(52)&&(t=Number(t))):t=at.getBigInt64(K),K+=8,t;case 212:if(t=me[K++],t==114)return m2(me[K++]&63);{let n=ci[t];if(n)return n.read?(K++,n.read(Mn())):n.noBuffer?(K++,n()):n(me.subarray(K,++K));throw new Error("Unknown extension "+t)}case 213:return t=me[K],t==114?(K++,m2(me[K++]&63,me[K++])):al(2);case 214:return al(4);case 215:return al(8);case 216:return al(16);case 217:return t=me[K++],Zs>=K?ya.slice(K-zi,(K+=t)-zi):h6(t);case 218:return t=at.getUint16(K),K+=2,Zs>=K?ya.slice(K-zi,(K+=t)-zi):p6(t);case 219:return t=at.getUint32(K),K+=4,Zs>=K?ya.slice(K-zi,(K+=t)-zi):g6(t);case 220:return t=at.getUint16(K),K+=2,f2(t);case 221:return t=at.getUint32(K),K+=4,f2(t);case 222:return t=at.getUint16(K),K+=2,h2(t);case 223:return t=at.getUint32(K),K+=4,h2(t);default:if(e>=224)return e-256;if(e===void 0){let n=new Error("Unexpected end of MessagePack data");throw n.incomplete=!0,n}throw new Error("Unknown MessagePack token "+e)}}}const f6=/^[a-zA-Z_$][a-zA-Z\d_$]*$/;function HS(e,t){function n(){if(n.count++>G5){let i=e.read=new Function("r","return function(){return "+(Ht.freezeData?"Object.freeze":"")+"({"+e.map(s=>s==="__proto__"?"__proto_:r()":f6.test(s)?s+":r()":"["+JSON.stringify(s)+"]:r()").join(",")+"})}")(Mn);return e.highByte===0&&(e.read=d2(t,e.read)),i()}let r={};for(let i=0,s=e.length;i<s;i++){let o=e[i];o==="__proto__"&&(o="__proto_"),r[o]=Mn()}return Ht.freezeData?Object.freeze(r):r}return n.count=0,e.highByte===0?d2(t,n):n}const d2=(e,t)=>function(){let n=me[K++];if(n===0)return t();let r=e<32?-(e+(n<<5)):e+(n<<5),i=ht[r]||q5()[r];if(!i)throw new Error("Record id is not defined for "+r);return i.read||(i.read=HS(i,e)),i.read()};function q5(){let e=J5(()=>(me=null,Ht.getStructures()));return ht=Ht._mergeStructures(e,ht)}var Q1=Mh,h6=Mh,p6=Mh,g6=Mh;function Mh(e){let t;if(e<16&&(t=GS(e)))return t;if(e>64&&Y1)return Y1.decode(me.subarray(K,K+=e));const n=K+e,r=[];for(t="";K<n;){const i=me[K++];if(!(i&128))r.push(i);else if((i&224)===192){const s=me[K++]&63;r.push((i&31)<<6|s)}else if((i&240)===224){const s=me[K++]&63,o=me[K++]&63;r.push((i&31)<<12|s<<6|o)}else if((i&248)===240){const s=me[K++]&63,o=me[K++]&63,a=me[K++]&63;let l=(i&7)<<18|s<<12|o<<6|a;l>65535&&(l-=65536,r.push(l>>>10&1023|55296),l=56320|l&1023),r.push(l)}else r.push(i);r.length>=4096&&(t+=Zn.apply(String,r),r.length=0)}return r.length>0&&(t+=Zn.apply(String,r)),t}function f2(e){let t=new Array(e);for(let n=0;n<e;n++)t[n]=Mn();return Ht.freezeData?Object.freeze(t):t}function h2(e){if(Ht.mapsAsObjects){let t={};for(let n=0;n<e;n++){let r=K5();r==="__proto__"&&(r="__proto_"),t[r]=Mn()}return t}else{let t=new Map;for(let n=0;n<e;n++)t.set(Mn(),Mn());return t}}var Zn=String.fromCharCode;function W5(e){let t=K,n=new Array(e);for(let r=0;r<e;r++){const i=me[K++];if((i&128)>0){K=t;return}n[r]=i}return Zn.apply(String,n)}function GS(e){if(e<4)if(e<2){if(e===0)return"";{let t=me[K++];if((t&128)>1){K-=1;return}return Zn(t)}}else{let t=me[K++],n=me[K++];if((t&128)>0||(n&128)>0){K-=2;return}if(e<3)return Zn(t,n);let r=me[K++];if((r&128)>0){K-=3;return}return Zn(t,n,r)}else{let t=me[K++],n=me[K++],r=me[K++],i=me[K++];if((t&128)>0||(n&128)>0||(r&128)>0||(i&128)>0){K-=4;return}if(e<6){if(e===4)return Zn(t,n,r,i);{let s=me[K++];if((s&128)>0){K-=5;return}return Zn(t,n,r,i,s)}}else if(e<8){let s=me[K++],o=me[K++];if((s&128)>0||(o&128)>0){K-=6;return}if(e<7)return Zn(t,n,r,i,s,o);let a=me[K++];if((a&128)>0){K-=7;return}return Zn(t,n,r,i,s,o,a)}else{let s=me[K++],o=me[K++],a=me[K++],l=me[K++];if((s&128)>0||(o&128)>0||(a&128)>0||(l&128)>0){K-=8;return}if(e<10){if(e===8)return Zn(t,n,r,i,s,o,a,l);{let c=me[K++];if((c&128)>0){K-=9;return}return Zn(t,n,r,i,s,o,a,l,c)}}else if(e<12){let c=me[K++],u=me[K++];if((c&128)>0||(u&128)>0){K-=10;return}if(e<11)return Zn(t,n,r,i,s,o,a,l,c,u);let d=me[K++];if((d&128)>0){K-=11;return}return Zn(t,n,r,i,s,o,a,l,c,u,d)}else{let c=me[K++],u=me[K++],d=me[K++],h=me[K++];if((c&128)>0||(u&128)>0||(d&128)>0||(h&128)>0){K-=12;return}if(e<14){if(e===12)return Zn(t,n,r,i,s,o,a,l,c,u,d,h);{let p=me[K++];if((p&128)>0){K-=13;return}return Zn(t,n,r,i,s,o,a,l,c,u,d,h,p)}}else{let p=me[K++],g=me[K++];if((p&128)>0||(g&128)>0){K-=14;return}if(e<15)return Zn(t,n,r,i,s,o,a,l,c,u,d,h,p,g);let m=me[K++];if((m&128)>0){K-=15;return}return Zn(t,n,r,i,s,o,a,l,c,u,d,h,p,g,m)}}}}}function p2(){let e=me[K++],t;if(e<192)t=e-160;else switch(e){case 217:t=me[K++];break;case 218:t=at.getUint16(K),K+=2;break;case 219:t=at.getUint32(K),K+=4;break;default:throw new Error("Expected string")}return Mh(t)}function Vv(e){return Ht.copyBuffers?Uint8Array.prototype.slice.call(me,K,K+=e):me.subarray(K,K+=e)}function al(e){let t=me[K++];if(ci[t]){let n;return ci[t](me.subarray(K,n=K+=e),r=>{K=r;try{return Mn()}finally{K=n}})}else throw new Error("Unknown extension type "+t)}var g2=new Array(4096);function K5(){let e=me[K++];if(e>=160&&e<192){if(e=e-160,Zs>=K)return ya.slice(K-zi,(K+=e)-zi);if(!(Zs==0&&Qi<180))return Q1(e)}else return K--,Y5(Mn());let t=(e<<5^(e>1?at.getUint16(K):e>0?me[K]:0))&4095,n=g2[t],r=K,i=K+e-3,s,o=0;if(n&&n.bytes==e){for(;r<i;){if(s=at.getUint32(r),s!=n[o++]){r=1879048192;break}r+=4}for(i+=3;r<i;)if(s=me[r++],s!=n[o++]){r=1879048192;break}if(r===i)return K=r,n.string;i-=3,r=K}for(n=[],g2[t]=n,n.bytes=e;r<i;)s=at.getUint32(r),n.push(s),r+=4;for(i+=3;r<i;)s=me[r++],n.push(s);let a=e<16?GS(e):W5(e);return a!=null?n.string=a:n.string=Q1(e)}function Y5(e){if(typeof e=="string")return e;if(typeof e=="number")return e.toString();throw new Error("Invalid property type for record",typeof e)}const m2=(e,t)=>{let n=Mn().map(Y5),r=e;t!==void 0&&(e=e<32?-((t<<5)+e):(t<<5)+e,n.highByte=t);let i=ht[e];return i&&(i.isShared||wa)&&((ht.restoreStructures||(ht.restoreStructures=[]))[e]=i),ht[e]=n,n.read=HS(n,r),n.read()};ci[0]=()=>{};ci[0].noBuffer=!0;ci[66]=e=>{let t=e.length,n=BigInt(e[0]&128?e[0]-256:e[0]);for(let r=1;r<t;r++)n<<=8n,n+=BigInt(e[r]);return n};let m6={Error,TypeError,ReferenceError};ci[101]=()=>{let e=Mn();return(m6[e[0]]||Error)(e[1])};ci[105]=e=>{if(Ht.structuredClone===!1)throw new Error("Structured clone extension is disabled");let t=at.getUint32(K-4);Mo||(Mo=new Map);let n=me[K],r;n>=144&&n<160||n==220||n==221?r=[]:r={};let i={target:r};Mo.set(t,i);let s=Mn();return i.used?Object.assign(r,s):(i.target=s,s)};ci[112]=e=>{if(Ht.structuredClone===!1)throw new Error("Structured clone extension is disabled");let t=at.getUint32(K-4),n=Mo.get(t);return n.used=!0,n.target};ci[115]=()=>new Set(Mn());const Q5=["Int8","Uint8","Uint8Clamped","Int16","Uint16","Int32","Uint32","Float32","Float64","BigInt64","BigUint64"].map(e=>e+"Array");let y6=typeof globalThis=="object"?globalThis:window;ci[116]=e=>{let t=e[0],n=Q5[t];if(!n)throw new Error("Could not find typed array for code "+t);return new y6[n](Uint8Array.prototype.slice.call(e,1).buffer)};ci[120]=()=>{let e=Mn();return new RegExp(e[0],e[1])};const v6=[];ci[98]=e=>{let t=(e[0]<<24)+(e[1]<<16)+(e[2]<<8)+e[3],n=K;return K+=t-e.length,ir=v6,ir=[p2(),p2()],ir.position0=0,ir.position1=0,ir.postBundlePosition=K,K=n,Mn()};ci[255]=e=>e.length==4?new Date((e[0]*16777216+(e[1]<<16)+(e[2]<<8)+e[3])*1e3):e.length==8?new Date(((e[0]<<22)+(e[1]<<14)+(e[2]<<6)+(e[3]>>2))/1e6+((e[3]&3)*4294967296+e[4]*16777216+(e[5]<<16)+(e[6]<<8)+e[7])*1e3):e.length==12?new Date(((e[0]<<24)+(e[1]<<16)+(e[2]<<8)+e[3])/1e6+((e[4]&128?-281474976710656:0)+e[6]*1099511627776+e[7]*4294967296+e[8]*16777216+(e[9]<<16)+(e[10]<<8)+e[11])*1e3):new Date("invalid");function J5(e){let t=Qi,n=K,r=zi,i=Zs,s=ya,o=Mo,a=ir,l=new Uint8Array(me.slice(0,Qi)),c=ht,u=ht.slice(0,ht.length),d=Ht,h=wa,p=e();return Qi=t,K=n,zi=r,Zs=i,ya=s,Mo=o,ir=a,me=l,wa=h,ht=c,ht.splice(0,ht.length,...u),Ht=d,at=new DataView(me.buffer,me.byteOffset,me.byteLength),p}function J1(){me=null,Mo=null,ht=null}const qS=new Array(147);for(let e=0;e<256;e++)qS[e]=+("1e"+Math.floor(45.15-e*.30103));var H0=new Hf({useRecords:!1});const A6=H0.unpack;H0.unpackMultiple;H0.unpack;let b6=new Float32Array(1);new Uint8Array(b6.buffer,0,4);let Pg;try{Pg=new TextEncoder}catch{}let X1,X5;const G0=typeof Buffer<"u",Ep=G0?function(e){return Buffer.allocUnsafeSlow(e)}:Uint8Array,Z5=G0?Buffer:Uint8Array,y2=G0?4294967296:2144337920;let X,kd,Bt,Y=0,Lr,un=null,_6;const S6=21760,x6=/[\u0080-\uFFFF]/,xc=Symbol("record-id");class w6 extends Hf{constructor(t){super(t),this.offset=0;let n,r,i,s,o=Z5.prototype.utf8Write?function(R,V){return X.utf8Write(R,V,4294967295)}:Pg&&Pg.encodeInto?function(R,V){return Pg.encodeInto(R,X.subarray(V)).written}:!1,a=this;t||(t={});let l=t&&t.sequential,c=t.structures||t.saveStructures,u=t.maxSharedStructures;if(u==null&&(u=c?32:0),u>8160)throw new Error("Maximum maxSharedStructure is 8160");t.structuredClone&&t.moreTypes==null&&(this.moreTypes=!0);let d=t.maxOwnStructures;d==null&&(d=c?32:64),!this.structures&&t.useRecords!=!1&&(this.structures=[]);let h=u>32||d+u>64,p=u+64,g=u+d+64;if(g>8256)throw new Error("Maximum maxSharedStructure + maxOwnStructure is 8192");let m=[],b=0,y=0;this.pack=this.encode=function(R,V){if(X||(X=new Ep(8192),Bt=X.dataView||(X.dataView=new DataView(X.buffer,0,8192)),Y=0),Lr=X.length-10,Lr-Y<2048?(X=new Ep(X.length),Bt=X.dataView||(X.dataView=new DataView(X.buffer,0,X.length)),Lr=X.length-10,Y=0):Y=Y+7&2147483640,n=Y,V&P6&&(Y+=V&255),s=a.structuredClone?new Map:null,a.bundleStrings&&typeof R!="string"?(un=[],un.size=1/0):un=null,i=a.structures,i){i.uninitialized&&(i=a._mergeStructures(a.getStructures()));let T=i.sharedLength||0;if(T>u)throw new Error("Shared structures is larger than maximum shared structures, try increasing maxSharedStructures to "+i.sharedLength);if(!i.transitions){i.transitions=Object.create(null);for(let z=0;z<T;z++){let B=i[z];if(!B)continue;let D,F=i.transitions;for(let G=0,U=B.length;G<U;G++){let ne=B[G];D=F[ne],D||(D=F[ne]=Object.create(null)),F=D}F[xc]=z+64}this.lastNamedStructuresLength=T}l||(i.nextId=T+64)}r&&(r=!1);let P;try{a.randomAccessStructure&&R&&R.constructor&&R.constructor===Object?N(R):x(R);let T=un;if(un&&b2(n,x,0),s&&s.idsToInsert){let z=s.idsToInsert.sort((G,U)=>G.offset>U.offset?1:-1),B=z.length,D=-1;for(;T&&B>0;){let G=z[--B].offset+n;G<T.stringsPosition+n&&D===-1&&(D=0),G>T.position+n?D>=0&&(D+=6):(D>=0&&(Bt.setUint32(T.position+n,Bt.getUint32(T.position+n)+D),D=-1),T=T.previous,B++)}D>=0&&T&&Bt.setUint32(T.position+n,Bt.getUint32(T.position+n)+D),Y+=z.length*6,Y>Lr&&O(Y),a.offset=Y;let F=C6(X.subarray(n,Y),z);return s=null,F}return a.offset=Y,V&T6?(X.start=n,X.end=Y,X):X.subarray(n,Y)}catch(T){throw P=T,T}finally{if(i&&(v(),r&&a.saveStructures)){let T=i.sharedLength||0,z=X.subarray(n,Y),B=k6(i,a);if(!P)return a.saveStructures(B,B.isCompatible)===!1?a.pack(R,V):(a.lastNamedStructuresLength=T,z)}V&I6&&(Y=n)}};const v=()=>{y<10&&y++;let R=i.sharedLength||0;if(i.length>R&&!l&&(i.length=R),b>1e4)i.transitions=null,y=0,b=0,m.length>0&&(m=[]);else if(m.length>0&&!l){for(let V=0,P=m.length;V<P;V++)m[V][xc]=0;m=[]}},_=R=>{var V=R.length;V<16?X[Y++]=144|V:V<65536?(X[Y++]=220,X[Y++]=V>>8,X[Y++]=V&255):(X[Y++]=221,Bt.setUint32(Y,V),Y+=4);for(let P=0;P<V;P++)x(R[P])},x=R=>{Y>Lr&&(X=O(Y));var V=typeof R,P;if(V==="string"){let T=R.length;if(un&&T>=4&&T<4096){if((un.size+=T)>S6){let F,G=(un[0]?un[0].length*3+un[1].length:0)+10;Y+G>Lr&&(X=O(Y+G));let U;un.position?(U=un,X[Y]=200,Y+=3,X[Y++]=98,F=Y-n,Y+=4,b2(n,x,0),Bt.setUint16(F+n-3,Y-n-F)):(X[Y++]=214,X[Y++]=98,F=Y-n,Y+=4),un=["",""],un.previous=U,un.size=0,un.position=F}let D=x6.test(R);un[D?0:1]+=R,X[Y++]=193,x(D?-T:T);return}let z;T<32?z=1:T<256?z=2:T<65536?z=3:z=5;let B=T*3;if(Y+B>Lr&&(X=O(Y+B)),T<64||!o){let D,F,G,U=Y+z;for(D=0;D<T;D++)F=R.charCodeAt(D),F<128?X[U++]=F:F<2048?(X[U++]=F>>6|192,X[U++]=F&63|128):(F&64512)===55296&&((G=R.charCodeAt(D+1))&64512)===56320?(F=65536+((F&1023)<<10)+(G&1023),D++,X[U++]=F>>18|240,X[U++]=F>>12&63|128,X[U++]=F>>6&63|128,X[U++]=F&63|128):(X[U++]=F>>12|224,X[U++]=F>>6&63|128,X[U++]=F&63|128);P=U-Y-z}else P=o(R,Y+z);P<32?X[Y++]=160|P:P<256?(z<2&&X.copyWithin(Y+2,Y+1,Y+1+P),X[Y++]=217,X[Y++]=P):P<65536?(z<3&&X.copyWithin(Y+3,Y+2,Y+2+P),X[Y++]=218,X[Y++]=P>>8,X[Y++]=P&255):(z<5&&X.copyWithin(Y+5,Y+3,Y+3+P),X[Y++]=219,Bt.setUint32(Y,P),Y+=4),Y+=P}else if(V==="number")if(R>>>0===R)R<32||R<128&&this.useRecords===!1||R<64&&!this.randomAccessStructure?X[Y++]=R:R<256?(X[Y++]=204,X[Y++]=R):R<65536?(X[Y++]=205,X[Y++]=R>>8,X[Y++]=R&255):(X[Y++]=206,Bt.setUint32(Y,R),Y+=4);else if(R>>0===R)R>=-32?X[Y++]=256+R:R>=-128?(X[Y++]=208,X[Y++]=R+256):R>=-32768?(X[Y++]=209,Bt.setInt16(Y,R),Y+=2):(X[Y++]=210,Bt.setInt32(Y,R),Y+=4);else{let T;if((T=this.useFloat32)>0&&R<4294967296&&R>=-2147483648){X[Y++]=202,Bt.setFloat32(Y,R);let z;if(T<4||(z=R*qS[(X[Y]&127)<<1|X[Y+1]>>7])>>0===z){Y+=4;return}else Y--}X[Y++]=203,Bt.setFloat64(Y,R),Y+=8}else if(V==="object"||V==="function")if(!R)X[Y++]=192;else{if(s){let z=s.get(R);if(z){if(!z.id){let B=s.idsToInsert||(s.idsToInsert=[]);z.id=B.push(z)}X[Y++]=214,X[Y++]=112,Bt.setUint32(Y,z.id),Y+=4;return}else s.set(R,{offset:Y-n})}let T=R.constructor;if(T===Object)k(R,!0);else if(T===Array)_(R);else if(T===Map)if(this.mapAsEmptyObject)X[Y++]=128;else{P=R.size,P<16?X[Y++]=128|P:P<65536?(X[Y++]=222,X[Y++]=P>>8,X[Y++]=P&255):(X[Y++]=223,Bt.setUint32(Y,P),Y+=4);for(let[z,B]of R)x(z),x(B)}else{for(let z=0,B=X1.length;z<B;z++){let D=X5[z];if(R instanceof D){let F=X1[z];if(F.write){F.type&&(X[Y++]=212,X[Y++]=F.type,X[Y++]=0);let fe=F.write.call(this,R);fe===R?Array.isArray(R)?_(R):k(R):x(fe);return}let G=X,U=Bt,ne=Y;X=null;let $;try{$=F.pack.call(this,R,fe=>(X=G,G=null,Y+=fe,Y>Lr&&O(Y),{target:X,targetView:Bt,position:Y-fe}),x)}finally{G&&(X=G,Bt=U,Y=ne,Lr=X.length-10)}$&&($.length+Y>Lr&&O($.length+Y),Y=E6($,X,Y,F.type));return}}if(Array.isArray(R))_(R);else{if(R.toJSON){const z=R.toJSON();if(z!==R)return x(z)}if(V==="function")return x(this.writeFunction&&this.writeFunction(R));k(R,!R.hasOwnProperty)}}}else if(V==="boolean")X[Y++]=R?195:194;else if(V==="bigint"){if(R<BigInt(1)<<BigInt(63)&&R>=-(BigInt(1)<<BigInt(63)))X[Y++]=211,Bt.setBigInt64(Y,R);else if(R<BigInt(1)<<BigInt(64)&&R>0)X[Y++]=207,Bt.setBigUint64(Y,R);else if(this.largeBigIntToFloat)X[Y++]=203,Bt.setFloat64(Y,Number(R));else if(this.useBigIntExtension&&R<2n**1023n&&R>-(2n**1023n)){X[Y++]=199,Y++,X[Y++]=66;let T=[],z;do{let B=R&0xffn;z=(B&0x80n)===(R<0n?0x80n:0n),T.push(B),R>>=8n}while(!((R===0n||R===-1n)&&z));X[Y-2]=T.length;for(let B=T.length;B>0;)X[Y++]=Number(T[--B]);return}else throw new RangeError(R+" was too large to fit in MessagePack 64-bit integer format, use useBigIntExtension or set largeBigIntToFloat to convert to float-64");Y+=8}else if(V==="undefined")this.encodeUndefinedAsNil?X[Y++]=192:(X[Y++]=212,X[Y++]=0,X[Y++]=0);else throw new Error("Unknown type: "+V)},S=this.variableMapSize||this.coercibleKeyAsNumber?R=>{let V=Object.keys(R),P=V.length;P<16?X[Y++]=128|P:P<65536?(X[Y++]=222,X[Y++]=P>>8,X[Y++]=P&255):(X[Y++]=223,Bt.setUint32(Y,P),Y+=4);let T;if(this.coercibleKeyAsNumber)for(let z=0;z<P;z++){T=V[z];let B=Number(T);x(isNaN(B)?T:B),x(R[T])}else for(let z=0;z<P;z++)x(T=V[z]),x(R[T])}:(R,V)=>{X[Y++]=222;let P=Y-n;Y+=2;let T=0;for(let z in R)(V||R.hasOwnProperty(z))&&(x(z),x(R[z]),T++);X[P+++n]=T>>8,X[P+n]=T&255},E=this.useRecords===!1?S:t.progressiveRecords&&!h?(R,V)=>{let P,T=i.transitions||(i.transitions=Object.create(null)),z=Y++-n,B;for(let D in R)if(V||R.hasOwnProperty(D)){if(P=T[D],P)T=P;else{let F=Object.keys(R),G=T;T=i.transitions;let U=0;for(let ne=0,$=F.length;ne<$;ne++){let fe=F[ne];P=T[fe],P||(P=T[fe]=Object.create(null),U++),T=P}z+n+1==Y?(Y--,w(T,F,U)):M(T,F,z,U),B=!0,T=G[D]}x(R[D])}if(!B){let D=T[xc];D?X[z+n]=D:M(T,Object.keys(R),z,0)}}:(R,V)=>{let P,T=i.transitions||(i.transitions=Object.create(null)),z=0;for(let D in R)(V||R.hasOwnProperty(D))&&(P=T[D],P||(P=T[D]=Object.create(null),z++),T=P);let B=T[xc];B?B>=96&&h?(X[Y++]=((B-=96)&31)+96,X[Y++]=B>>5):X[Y++]=B:w(T,T.__keys__||Object.keys(R),z);for(let D in R)(V||R.hasOwnProperty(D))&&x(R[D])},C=typeof this.useRecords=="function"&&this.useRecords,k=C?(R,V)=>{C(R)?E(R,V):S(R,V)}:E,O=R=>{let V;if(R>16777216){if(R-n>y2)throw new Error("Packed buffer would be larger than maximum buffer size");V=Math.min(y2,Math.round(Math.max((R-n)*(R>67108864?1.25:2),4194304)/4096)*4096)}else V=(Math.max(R-n<<2,X.length-1)>>12)+1<<12;let P=new Ep(V);return Bt=P.dataView||(P.dataView=new DataView(P.buffer,0,V)),R=Math.min(R,X.length),X.copy?X.copy(P,0,n,R):P.set(X.slice(n,R)),Y-=n,n=0,Lr=P.length-10,X=P},w=(R,V,P)=>{let T=i.nextId;T||(T=64),T<p&&this.shouldShareStructure&&!this.shouldShareStructure(V)?(T=i.nextOwnId,T<g||(T=p),i.nextOwnId=T+1):(T>=g&&(T=p),i.nextId=T+1);let z=V.highByte=T>=96&&h?T-96>>5:-1;R[xc]=T,R.__keys__=V,i[T-64]=V,T<p?(V.isShared=!0,i.sharedLength=T-63,r=!0,z>=0?(X[Y++]=(T&31)+96,X[Y++]=z):X[Y++]=T):(z>=0?(X[Y++]=213,X[Y++]=114,X[Y++]=(T&31)+96,X[Y++]=z):(X[Y++]=212,X[Y++]=114,X[Y++]=T),P&&(b+=y*P),m.length>=d&&(m.shift()[xc]=0),m.push(R),x(V))},M=(R,V,P,T)=>{let z=X,B=Y,D=Lr,F=n;X=kd,Y=0,n=0,X||(kd=X=new Ep(8192)),Lr=X.length-10,w(R,V,T),kd=X;let G=Y;if(X=z,Y=B,Lr=D,n=F,G>1){let U=Y+G-1;U>Lr&&O(U);let ne=P+n;X.copyWithin(ne+G,ne+1,Y),X.set(kd.slice(0,G),ne),Y=U}else X[P+n]=kd[0]},N=(R,V)=>{let P=_6(R,X,n,Y,i,O,(T,z,B)=>{if(B)return r=!0;Y=z;let D=X;return x(T),v(),D!==X?{position:Y,targetView:Bt,target:X}:Y},this);if(P===0)return k(R,!0);Y=P}}useBuffer(t){X=t,Bt=new DataView(X.buffer,X.byteOffset,X.byteLength),Y=0}clearSharedData(){this.structures&&(this.structures=[]),this.typedStructs&&(this.typedStructs=[])}}X5=[Date,Set,Error,RegExp,ArrayBuffer,Object.getPrototypeOf(Uint8Array.prototype).constructor,U5];X1=[{pack(e,t,n){let r=e.getTime()/1e3;if((this.useTimestamp32||e.getMilliseconds()===0)&&r>=0&&r<4294967296){let{target:i,targetView:s,position:o}=t(6);i[o++]=214,i[o++]=255,s.setUint32(o,r)}else if(r>0&&r<4294967296){let{target:i,targetView:s,position:o}=t(10);i[o++]=215,i[o++]=255,s.setUint32(o,e.getMilliseconds()*4e6+(r/1e3/4294967296>>0)),s.setUint32(o+4,r)}else if(isNaN(r)){if(this.onInvalidDate)return t(0),n(this.onInvalidDate());let{target:i,targetView:s,position:o}=t(3);i[o++]=212,i[o++]=255,i[o++]=255}else{let{target:i,targetView:s,position:o}=t(15);i[o++]=199,i[o++]=12,i[o++]=255,s.setUint32(o,e.getMilliseconds()*1e6),s.setBigInt64(o+4,BigInt(Math.floor(r)))}}},{pack(e,t,n){if(this.setAsEmptyObject)return t(0),n({});let r=Array.from(e),{target:i,position:s}=t(this.moreTypes?3:0);this.moreTypes&&(i[s++]=212,i[s++]=115,i[s++]=0),n(r)}},{pack(e,t,n){let{target:r,position:i}=t(this.moreTypes?3:0);this.moreTypes&&(r[i++]=212,r[i++]=101,r[i++]=0),n([e.name,e.message])}},{pack(e,t,n){let{target:r,position:i}=t(this.moreTypes?3:0);this.moreTypes&&(r[i++]=212,r[i++]=120,r[i++]=0),n([e.source,e.flags])}},{pack(e,t){this.moreTypes?v2(e,16,t):A2(G0?Buffer.from(e):new Uint8Array(e),t)}},{pack(e,t){let n=e.constructor;n!==Z5&&this.moreTypes?v2(e,Q5.indexOf(n.name),t):A2(e,t)}},{pack(e,t){let{target:n,position:r}=t(1);n[r]=193}}];function v2(e,t,n,r){let i=e.byteLength;if(i+1<256){var{target:s,position:o}=n(4+i);s[o++]=199,s[o++]=i+1}else if(i+1<65536){var{target:s,position:o}=n(5+i);s[o++]=200,s[o++]=i+1>>8,s[o++]=i+1&255}else{var{target:s,position:o,targetView:a}=n(7+i);s[o++]=201,a.setUint32(o,i+1),o+=4}s[o++]=116,s[o++]=t,s.set(new Uint8Array(e.buffer,e.byteOffset,e.byteLength),o)}function A2(e,t){let n=e.byteLength;var r,i;if(n<256){var{target:r,position:i}=t(n+2);r[i++]=196,r[i++]=n}else if(n<65536){var{target:r,position:i}=t(n+3);r[i++]=197,r[i++]=n>>8,r[i++]=n&255}else{var{target:r,position:i,targetView:s}=t(n+5);r[i++]=198,s.setUint32(i,n),i+=4}r.set(e,i)}function E6(e,t,n,r){let i=e.length;switch(i){case 1:t[n++]=212;break;case 2:t[n++]=213;break;case 4:t[n++]=214;break;case 8:t[n++]=215;break;case 16:t[n++]=216;break;default:i<256?(t[n++]=199,t[n++]=i):i<65536?(t[n++]=200,t[n++]=i>>8,t[n++]=i&255):(t[n++]=201,t[n++]=i>>24,t[n++]=i>>16&255,t[n++]=i>>8&255,t[n++]=i&255)}return t[n++]=r,t.set(e,n),n+=i,n}function C6(e,t){let n,r=t.length*6,i=e.length-r;for(;n=t.pop();){let s=n.offset,o=n.id;e.copyWithin(s+r,s,i),r-=6;let a=s+r;e[a++]=214,e[a++]=105,e[a++]=o>>24,e[a++]=o>>16&255,e[a++]=o>>8&255,e[a++]=o&255,i=s}return e}function b2(e,t,n){if(un.length>0){Bt.setUint32(un.position+e,Y+n-un.position-e),un.stringsPosition=Y-e;let r=un;un=null,t(r[0]),t(r[1])}}function k6(e,t){return e.isCompatible=n=>{let r=!n||(t.lastNamedStructuresLength||0)===n.length;return r||t._mergeStructures(n),r},e}let e3=new w6({useRecords:!1});const t3=e3.pack;e3.pack;const T6=512,I6=1024,P6=2048;function Ur(){return Date.now()}const rs=e=>t3(e),ed=e=>A6(e);let R6=class{constructor(t,n){this.connection=t,this.inputLag=n,this.frequencies=[0],this.volumes=[0],this.requestReadinessPromise=null,this.getFrequencies=()=>this.frequencies,this.clearFrequencies=()=>{Array.isArray(this.frequencies[0])&&(this.frequencies=[this.frequencies[0].at(-1)])},this.getVolumes=()=>this.volumes,this.getInputLag=()=>this.inputLag,this.setInputLag=r=>{this.inputLag=r},this.requestReadiness=()=>(console.log("requestReadiness"),this.requestReadinessPromise||(this.requestReadinessPromise=new Promise(r=>{const i=s=>{s.t==="confirm-readiness"&&(r(!0),this.connection.off("data",i),this.requestReadinessPromise=null)};this.connection.on("data",i),cu(this.connection,"request-readiness")})),this.requestReadinessPromise),this.startMonitoring=async()=>{var r,i;(r=this.connection)==null||r.off("data",this.handleRTCData),cu(this.connection,"start-monitor"),(i=this.connection)==null||i.on("data",this.handleRTCData)},this.stopMonitoring=async()=>{var r;cu(this.connection,"stop-monitor"),(r=this.connection)==null||r.off("data",this.handleRTCData)},this.handleRTCData=r=>{r.t==="freq"&&(this.frequencies=[r[0],r[0]],this.volumes=[r[1],r[1]])}}},M6=class{constructor(t,n,r,i){this.id=t,this.name=n,this.connection=r,this.pingTime=9999,this.pingInterval=null,this.getInput=()=>this.input,this.setPlayerNumber=s=>{cu(this.connection,"set-player-number",{playerNumber:s})},this.onDisconnect=()=>{this.pingInterval!==null&&clearInterval(this.pingInterval)},this.setPermission=s=>{cu(this.connection,"set-permissions",{level:s})},this.isPinging=!1,this.latency=9999,this.onPong=()=>{this.latency=Ur()-this.pingTime,this.isPinging=!1,this.pingClient()},this.pingClient=()=>{this.pingInterval=setTimeout(()=>{this.pingTime=Ur(),this.isPinging=!0,cu(this.connection,"ping")},1e3)},this.getLatency=()=>this.isPinging?Ur()-this.pingTime:this.latency,this.getPingTime=()=>this.pingTime,this.input=new R6(r,i),this.pingClient()}};const WS={RemoteMicConnectionType:"remote_mics_connection_type",InitialInputLag:"initial_input_lag",Eurovision:"eurovision",Halloween:"halloween",SkipInitialSetup:"skip_initial_setup"};class fs extends zs{constructor(t,n,r="local"){super(),this.name=t,this.defaultValue=n,this.driver=r,this.value=void 0,this.get=()=>(this.value===void 0&&(this.value=Le[this.driver].getItem(`settings-${this.name}`)??this.defaultValue),this.value),this.set=i=>{this.value=i,Le[this.driver].setItem(`settings-${this.name}`,i),this.onUpdate(i)}}}const n3=["high","low"],j6="graphics-level",Ji=new fs(j6,n3[0]),O6=[null,"skip","remoteMics","singstar-mics","different-mics","advanced","built-in"],V6="mic-setup-preference",KS=new fs(V6,O6[0],"session"),r3=[60,30],Tl=new fs("fps-count",r3[0]),q0=new fs("EXCLUDED_LANGUAGES_KEY_V2",null),br=new fs("MOBILE_PHONE_MODE_KEY",null),i3=new fs("keyboard-help-visibility",!0);var dM;const _2=(dM=On.getFeatureFlagPayload)==null?void 0:dM.call(On,WS.InitialInputLag),Af=new fs("INPUT_LAG_V2",typeof _2=="number"?_2:0),s3=new fs("REMOTE_MIC_INPUT_LAG",0,"session"),S2=["write","read"],o3=new fs("DefaultRemoteMicPermission","write"),W0=new fs("BackgroundThemeSetting","regular","memory"),YS=new fs("AutoEnableFullscreenSetting",!0,"session"),L6=["WebSockets","PeerJS","PartyKit"],Em=new fs("RemoteMicConnectionType","WebSockets","session");var fM;(fM=On.onFeatureFlags)==null||fM.call(On,()=>{Em.set(On.getFeatureFlagPayload(WS.RemoteMicConnectionType)??"WebSockets")});function Qe(e){const[t,n]=A.useState(e.get());return A.useLayoutEffect(()=>e.addListener(n),[e]),[t,e.set]}const x2="RememberedAccessesKey",Lv="rememberedSubscriptionsKey";class N6 extends zs{constructor(){var t,n;super(...arguments),this.remoteMics=[],this.micAccessMap=((t=Le.local)==null?void 0:t.getItem(x2))??{},this.subscriptions=((n=Le.session)==null?void 0:n.getItem(Lv))??{"remote-mics":[]},this.addRemoteMic=(r,i,s,o,a)=>{this.remoteMics=this.remoteMics.filter(l=>l.id!==r),this.remoteMics=[...this.remoteMics,new M6(r,i,s,a)],this.setPermission(r,this.getPermission(r)),te.remoteMicConnected.dispatch({id:r,name:i,silent:o})},this.removeRemoteMic=(r,i=!1)=>{const s=this.remoteMics.find(o=>o.id===r);this.remoteMics=this.remoteMics.filter(o=>o.id!==r),s&&(s.onDisconnect(),te.remoteMicDisconnected.dispatch(s,i))},this.getRemoteMics=()=>this.remoteMics,this.getRemoteMicById=r=>this.remoteMics.find(i=>i.id===r),this.broadcast=r=>{this.getRemoteMics().forEach(i=>i.connection.send(r))},this.broadcastToChannel=(r,i)=>{this.subscriptions[r].forEach(s=>{var o;return(o=this.getRemoteMicById(s))==null?void 0:o.connection.send(i)})},this.getPermission=r=>this.micAccessMap[r]??o3.get(),this.setPermission=(r,i)=>{var s;(s=this.getRemoteMicById(r))==null||s.setPermission(i),this.micAccessMap[r]=i,Le==null||Le.setItem(x2,this.micAccessMap),this.onUpdate(r,i)},this.addSubscription=(r,i)=>{var s;this.subscriptions[i]=[...new Set([...this.subscriptions[i],r])],(s=Le.session)==null||s.setItem(Lv,this.subscriptions),te.remoteMicSubscribed.dispatch(r,i)},this.removeSubscription=(r,i)=>{var s,o;this.subscriptions[i]=((s=this.subscriptions[i])==null?void 0:s.filter(a=>a!==r))??[],(o=Le.session)==null||o.setItem(Lv,this.subscriptions)}}}const rt=new N6;W0.addListener(e=>{z5(e),rt.broadcast({t:"style-change",style:e})});te.remoteMicConnected.subscribe(e=>{var t;(t=rt.getRemoteMicById(e.id))==null||t.connection.send({t:"style-change",style:W0.get()})});class B6{constructor(){this.frequencies=[440,410],this.volumes=[1,1],this.startMonitoring=async()=>{},this.getFrequencies=t=>this.frequencies,this.getVolumes=t=>this.volumes,this.clearFrequencies=t=>{},this.stopMonitoring=async t=>{},this.getInputLag=()=>0,this.setFrequency=(t,n)=>this.frequencies[t]=n,this.requestReadiness=()=>Promise.resolve(!0),this.getStatus=()=>"ok"}}const D6=new B6;class $6{constructor(){this.frequencies=[410,210],this.volumes=[1,1],this.timestamp=0,this.interval=null,this.isMonitoring=!1,this.startMonitoring=async()=>{this.isMonitoring||(this.isMonitoring=!0,this.interval=global.setInterval(()=>{this.timestamp=this.timestamp+32,this.frequencies[0]=Math.sin(this.timestamp/1e3)*50+100,this.frequencies[1]=Math.cos(this.timestamp/1e3)*50+200},32))},this.getFrequencies=()=>this.frequencies,this.getVolumes=()=>this.volumes,this.clearFrequencies=t=>{},this.stopMonitoring=async()=>{this.isMonitoring&&(this.isMonitoring=!1,this.interval&&global.clearInterval(this.interval))},this.getInputLag=()=>150,this.requestReadiness=()=>Promise.resolve(!0),this.getStatus=()=>"ok"}}const F6=new $6,a3=Object.prototype.toString;function K0(e){switch(a3.call(e)){case"[object Error]":case"[object Exception]":case"[object DOMException]":case"[object WebAssembly.Exception]":return!0;default:return No(e,Error)}}function td(e,t){return a3.call(e)===`[object ${t}]`}function l3(e){return td(e,"ErrorEvent")}function w2(e){return td(e,"DOMError")}function z6(e){return td(e,"DOMException")}function jo(e){return td(e,"String")}function QS(e){return typeof e=="object"&&e!==null&&"__sentry_template_string__"in e&&"__sentry_template_values__"in e}function JS(e){return e===null||QS(e)||typeof e!="object"&&typeof e!="function"}function Pu(e){return td(e,"Object")}function Y0(e){return typeof Event<"u"&&No(e,Event)}function U6(e){return typeof Element<"u"&&No(e,Element)}function H6(e){return td(e,"RegExp")}function Q0(e){return!!(e&&e.then&&typeof e.then=="function")}function G6(e){return Pu(e)&&"nativeEvent"in e&&"preventDefault"in e&&"stopPropagation"in e}function No(e,t){try{return e instanceof t}catch{return!1}}function c3(e){return!!(typeof e=="object"&&e!==null&&(e.__isVue||e._isVue))}function uu(e,t=0){return typeof e!="string"||t===0||e.length<=t?e:`${e.slice(0,t)}...`}function E2(e,t){if(!Array.isArray(e))return"";const n=[];for(let r=0;r<e.length;r++){const i=e[r];try{c3(i)?n.push("[VueViewModel]"):n.push(String(i))}catch{n.push("[value cannot be serialized]")}}return n.join(t)}function q6(e,t,n=!1){return jo(e)?H6(t)?t.test(e):jo(t)?n?e===t:e.includes(t):!1:!1}function Il(e,t=[],n=!1){return t.some(r=>q6(e,r,n))}function W6(e,t,n=250,r,i,s,o){if(!s.exception||!s.exception.values||!o||!No(o.originalException,Error))return;const a=s.exception.values.length>0?s.exception.values[s.exception.values.length-1]:void 0;a&&(s.exception.values=K6(Z1(e,t,i,o.originalException,r,s.exception.values,a,0),n))}function Z1(e,t,n,r,i,s,o,a){if(s.length>=n+1)return s;let l=[...s];if(No(r[i],Error)){C2(o,a);const c=e(t,r[i]),u=l.length;k2(c,i,u,a),l=Z1(e,t,n,r[i],i,[c,...l],c,u)}return Array.isArray(r.errors)&&r.errors.forEach((c,u)=>{if(No(c,Error)){C2(o,a);const d=e(t,c),h=l.length;k2(d,`errors[${u}]`,h,a),l=Z1(e,t,n,c,i,[d,...l],d,h)}}),l}function C2(e,t){e.mechanism=e.mechanism||{type:"generic",handled:!0},e.mechanism={...e.mechanism,...e.type==="AggregateError"&&{is_exception_group:!0},exception_id:t}}function k2(e,t,n,r){e.mechanism=e.mechanism||{type:"generic",handled:!0},e.mechanism={...e.mechanism,type:"chained",source:t,exception_id:n,parent_id:r}}function K6(e,t){return e.map(n=>(n.value&&(n.value=uu(n.value,t)),n))}function u3(e){if(e!==void 0)return e>=400&&e<500?"warning":e>=500?"error":void 0}const Pl="8.36.0",At=globalThis;function J0(e,t,n){const r=At,i=r.__SENTRY__=r.__SENTRY__||{},s=i[Pl]=i[Pl]||{};return s[e]||(s[e]=t())}const du=At,Y6=80;function zl(e,t={}){if(!e)return"<unknown>";try{let n=e;const r=5,i=[];let s=0,o=0;const a=" > ",l=a.length;let c;const u=Array.isArray(t)?t:t.keyAttrs,d=!Array.isArray(t)&&t.maxStringLength||Y6;for(;n&&s++<r&&(c=Q6(n,u),!(c==="html"||s>1&&o+i.length*l+c.length>=d));)i.push(c),o+=c.length,n=n.parentNode;return i.reverse().join(a)}catch{return"<unknown>"}}function Q6(e,t){const n=e,r=[];if(!n||!n.tagName)return"";if(du.HTMLElement&&n instanceof HTMLElement&&n.dataset){if(n.dataset.sentryComponent)return n.dataset.sentryComponent;if(n.dataset.sentryElement)return n.dataset.sentryElement}r.push(n.tagName.toLowerCase());const i=t&&t.length?t.filter(o=>n.getAttribute(o)).map(o=>[o,n.getAttribute(o)]):null;if(i&&i.length)i.forEach(o=>{r.push(`[${o[0]}="${o[1]}"]`)});else{n.id&&r.push(`#${n.id}`);const o=n.className;if(o&&jo(o)){const a=o.split(/\s+/);for(const l of a)r.push(`.${l}`)}}const s=["aria-label","type","name","title","alt"];for(const o of s){const a=n.getAttribute(o);a&&r.push(`[${o}="${a}"]`)}return r.join("")}function J6(){try{return du.document.location.href}catch{return""}}function X6(e){return du.document&&du.document.querySelector?du.document.querySelector(e):null}function d3(e){if(!du.HTMLElement)return null;let t=e;const n=5;for(let r=0;r<n;r++){if(!t)return null;if(t instanceof HTMLElement){if(t.dataset.sentryComponent)return t.dataset.sentryComponent;if(t.dataset.sentryElement)return t.dataset.sentryElement}t=t.parentNode}return null}const nd=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,Z6="Sentry Logger ",eb=["debug","info","warn","error","log","assert","trace"],Cm={};function jh(e){if(!("console"in At))return e();const t=At.console,n={},r=Object.keys(Cm);r.forEach(i=>{const s=Cm[i];n[i]=t[i],t[i]=s});try{return e()}finally{r.forEach(i=>{t[i]=n[i]})}}function e8(){let e=!1;const t={enable:()=>{e=!0},disable:()=>{e=!1},isEnabled:()=>e};return nd?eb.forEach(n=>{t[n]=(...r)=>{e&&jh(()=>{At.console[n](`${Z6}[${n}]:`,...r)})}}):eb.forEach(n=>{t[n]=()=>{}}),t}const pe=J0("logger",e8),t8=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+)?)?@)([\w.-]+)(?::(\d+))?\/(.+)/;function n8(e){return e==="http"||e==="https"}function rd(e,t=!1){const{host:n,path:r,pass:i,port:s,projectId:o,protocol:a,publicKey:l}=e;return`${a}://${l}${t&&i?`:${i}`:""}@${n}${s?`:${s}`:""}/${r&&`${r}/`}${o}`}function r8(e){const t=t8.exec(e);if(!t){jh(()=>{console.error(`Invalid Sentry Dsn: ${e}`)});return}const[n,r,i="",s="",o="",a=""]=t.slice(1);let l="",c=a;const u=c.split("/");if(u.length>1&&(l=u.slice(0,-1).join("/"),c=u.pop()),c){const d=c.match(/^\d+/);d&&(c=d[0])}return f3({host:s,pass:i,path:l,projectId:c,port:o,protocol:n,publicKey:r})}function f3(e){return{protocol:e.protocol,publicKey:e.publicKey||"",pass:e.pass||"",host:e.host,port:e.port||"",path:e.path||"",projectId:e.projectId}}function i8(e){if(!nd)return!0;const{port:t,projectId:n,protocol:r}=e;return["protocol","publicKey","host","projectId"].find(o=>e[o]?!1:(pe.error(`Invalid Sentry Dsn: ${o} missing`),!0))?!1:n.match(/^\d+$/)?n8(r)?t&&isNaN(parseInt(t,10))?(pe.error(`Invalid Sentry Dsn: Invalid port ${t}`),!1):!0:(pe.error(`Invalid Sentry Dsn: Invalid protocol ${r}`),!1):(pe.error(`Invalid Sentry Dsn: Invalid projectId ${n}`),!1)}function h3(e){const t=typeof e=="string"?r8(e):f3(e);if(!(!t||!i8(t)))return t}class eo extends Error{constructor(t,n="warn"){super(t),this.message=t,this.name=new.target.prototype.constructor.name,Object.setPrototypeOf(this,new.target.prototype),this.logLevel=n}}function _i(e,t,n){if(!(t in e))return;const r=e[t],i=n(r);typeof i=="function"&&p3(i,r),e[t]=i}function os(e,t,n){try{Object.defineProperty(e,t,{value:n,writable:!0,configurable:!0})}catch{nd&&pe.log(`Failed to add non-enumerable property "${t}" to object`,e)}}function p3(e,t){try{const n=t.prototype||{};e.prototype=t.prototype=n,os(e,"__sentry_original__",t)}catch{}}function XS(e){return e.__sentry_original__}function s8(e){return Object.keys(e).map(t=>`${encodeURIComponent(t)}=${encodeURIComponent(e[t])}`).join("&")}function g3(e){if(K0(e))return{message:e.message,name:e.name,stack:e.stack,...I2(e)};if(Y0(e)){const t={type:e.type,target:T2(e.target),currentTarget:T2(e.currentTarget),...I2(e)};return typeof CustomEvent<"u"&&No(e,CustomEvent)&&(t.detail=e.detail),t}else return e}function T2(e){try{return U6(e)?zl(e):Object.prototype.toString.call(e)}catch{return"<unknown>"}}function I2(e){if(typeof e=="object"&&e!==null){const t={};for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}else return{}}function o8(e,t=40){const n=Object.keys(g3(e));n.sort();const r=n[0];if(!r)return"[object has no keys]";if(r.length>=t)return uu(r,t);for(let i=n.length;i>0;i--){const s=n.slice(0,i).join(", ");if(!(s.length>t))return i===n.length?s:uu(s,t)}return""}function gr(e){return tb(e,new Map)}function tb(e,t){if(a8(e)){const n=t.get(e);if(n!==void 0)return n;const r={};t.set(e,r);for(const i of Object.getOwnPropertyNames(e))typeof e[i]<"u"&&(r[i]=tb(e[i],t));return r}if(Array.isArray(e)){const n=t.get(e);if(n!==void 0)return n;const r=[];return t.set(e,r),e.forEach(i=>{r.push(tb(i,t))}),r}return e}function a8(e){if(!Pu(e))return!1;try{const t=Object.getPrototypeOf(e).constructor.name;return!t||t==="Object"}catch{return!0}}const m3=50,Ul="?",P2=/\(error: (.*)\)/,R2=/captureMessage|captureException/;function y3(...e){const t=e.sort((n,r)=>n[0]-r[0]).map(n=>n[1]);return(n,r=0,i=0)=>{const s=[],o=n.split(`
`);for(let a=r;a<o.length;a++){const l=o[a];if(l.length>1024)continue;const c=P2.test(l)?l.replace(P2,"$1"):l;if(!c.match(/\S*Error: /)){for(const u of t){const d=u(c);if(d){s.push(d);break}}if(s.length>=m3+i)break}}return c8(s.slice(i))}}function l8(e){return Array.isArray(e)?y3(...e):e}function c8(e){if(!e.length)return[];const t=Array.from(e);return/sentryWrapped/.test(Cp(t).function||"")&&t.pop(),t.reverse(),R2.test(Cp(t).function||"")&&(t.pop(),R2.test(Cp(t).function||"")&&t.pop()),t.slice(0,m3).map(n=>({...n,filename:n.filename||Cp(t).filename,function:n.function||Ul}))}function Cp(e){return e[e.length-1]||{}}const Nv="<anonymous>";function Bo(e){try{return!e||typeof e!="function"?Nv:e.name||Nv}catch{return Nv}}function M2(e){const t=e.exception;if(t){const n=[];try{return t.values.forEach(r=>{r.stacktrace.frames&&n.push(...r.stacktrace.frames)}),n}catch{return}}}const Rg={},j2={};function Ha(e,t){Rg[e]=Rg[e]||[],Rg[e].push(t)}function Ga(e,t){j2[e]||(t(),j2[e]=!0)}function is(e,t){const n=e&&Rg[e];if(n)for(const r of n)try{r(t)}catch(i){nd&&pe.error(`Error while triggering instrumentation handler.
Type: ${e}
Name: ${Bo(r)}
Error:`,i)}}function u8(e){const t="console";Ha(t,e),Ga(t,d8)}function d8(){"console"in At&&eb.forEach(function(e){e in At.console&&_i(At.console,e,function(t){return Cm[e]=t,function(...n){is("console",{args:n,level:e});const i=Cm[e];i&&i.apply(At.console,n)}})})}const nb=At;function v3(){if(!("fetch"in nb))return!1;try{return new Headers,new Request("http://www.example.com"),new Response,!0}catch{return!1}}function rb(e){return e&&/^function\s+\w+\(\)\s+\{\s+\[native code\]\s+\}$/.test(e.toString())}function f8(){if(typeof EdgeRuntime=="string")return!0;if(!v3())return!1;if(rb(nb.fetch))return!0;let e=!1;const t=nb.document;if(t&&typeof t.createElement=="function")try{const n=t.createElement("iframe");n.hidden=!0,t.head.appendChild(n),n.contentWindow&&n.contentWindow.fetch&&(e=rb(n.contentWindow.fetch)),t.head.removeChild(n)}catch(n){nd&&pe.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",n)}return e}const A3=1e3;function Oh(){return Date.now()/A3}function h8(){const{performance:e}=At;if(!e||!e.now)return Oh;const t=Date.now()-e.now(),n=e.timeOrigin==null?t:e.timeOrigin;return()=>(n+e.now())/A3}const mr=h8(),ui=(()=>{const{performance:e}=At;if(!e||!e.now)return;const t=3600*1e3,n=e.now(),r=Date.now(),i=e.timeOrigin?Math.abs(e.timeOrigin+n-r):t,s=i<t,o=e.timing&&e.timing.navigationStart,l=typeof o=="number"?Math.abs(o+n-r):t,c=l<t;return s||c?i<=l?e.timeOrigin:o:r})();function b3(e,t){const n="fetch";Ha(n,e),Ga(n,()=>_3(void 0,t))}function p8(e){const t="fetch-body-resolved";Ha(t,e),Ga(t,()=>_3(m8))}function _3(e,t=!1){t&&!f8()||_i(At,"fetch",function(n){return function(...r){const{method:i,url:s}=y8(r),o={args:r,fetchData:{method:i,url:s},startTimestamp:mr()*1e3};e||is("fetch",{...o});const a=new Error().stack;return n.apply(At,r).then(async l=>(e?e(l):is("fetch",{...o,endTimestamp:mr()*1e3,response:l}),l),l=>{throw is("fetch",{...o,endTimestamp:mr()*1e3,error:l}),K0(l)&&l.stack===void 0&&(l.stack=a,os(l,"framesToPop",1)),l})}})}async function g8(e,t){if(e&&e.body){const n=e.body,r=n.getReader(),i=setTimeout(()=>{n.cancel().then(null,()=>{})},90*1e3);let s=!0;for(;s;){let o;try{o=setTimeout(()=>{n.cancel().then(null,()=>{})},5e3);const{done:a}=await r.read();clearTimeout(o),a&&(t(),s=!1)}catch{s=!1}finally{clearTimeout(o)}}clearTimeout(i),r.releaseLock(),n.cancel().then(null,()=>{})}}function m8(e){let t;try{t=e.clone()}catch{return}g8(t,()=>{is("fetch-body-resolved",{endTimestamp:mr()*1e3,response:e})})}function ib(e,t){return!!e&&typeof e=="object"&&!!e[t]}function O2(e){return typeof e=="string"?e:e?ib(e,"url")?e.url:e.toString?e.toString():"":""}function y8(e){if(e.length===0)return{method:"GET",url:""};if(e.length===2){const[n,r]=e;return{url:O2(n),method:ib(r,"method")?String(r.method).toUpperCase():"GET"}}const t=e[0];return{url:O2(t),method:ib(t,"method")?String(t.method).toUpperCase():"GET"}}let kp=null;function S3(e){const t="error";Ha(t,e),Ga(t,v8)}function v8(){kp=At.onerror,At.onerror=function(e,t,n,r,i){return is("error",{column:r,error:i,line:n,msg:e,url:t}),kp&&!kp.__SENTRY_LOADER__?kp.apply(this,arguments):!1},At.onerror.__SENTRY_INSTRUMENTED__=!0}let Tp=null;function x3(e){const t="unhandledrejection";Ha(t,e),Ga(t,A8)}function A8(){Tp=At.onunhandledrejection,At.onunhandledrejection=function(e){return is("unhandledrejection",e),Tp&&!Tp.__SENTRY_LOADER__?Tp.apply(this,arguments):!0},At.onunhandledrejection.__SENTRY_INSTRUMENTED__=!0}function b8(){return"npm"}function _8(){const e=typeof WeakSet=="function",t=e?new WeakSet:[];function n(i){if(e)return t.has(i)?!0:(t.add(i),!1);for(let s=0;s<t.length;s++)if(t[s]===i)return!0;return t.push(i),!1}function r(i){if(e)t.delete(i);else for(let s=0;s<t.length;s++)if(t[s]===i){t.splice(s,1);break}}return[n,r]}function hn(){const e=At,t=e.crypto||e.msCrypto;let n=()=>Math.random()*16;try{if(t&&t.randomUUID)return t.randomUUID().replace(/-/g,"");t&&t.getRandomValues&&(n=()=>{const r=new Uint8Array(1);return t.getRandomValues(r),r[0]})}catch{}return("10000000100040008000"+1e11).replace(/[018]/g,r=>(r^(n()&15)>>r/4).toString(16))}function w3(e){return e.exception&&e.exception.values?e.exception.values[0]:void 0}function aa(e){const{message:t,event_id:n}=e;if(t)return t;const r=w3(e);return r?r.type&&r.value?`${r.type}: ${r.value}`:r.type||r.value||n||"<unknown>":n||"<unknown>"}function sb(e,t,n){const r=e.exception=e.exception||{},i=r.values=r.values||[],s=i[0]=i[0]||{};s.value||(s.value=t||""),s.type||(s.type="Error")}function Gf(e,t){const n=w3(e);if(!n)return;const r={type:"generic",handled:!0},i=n.mechanism;if(n.mechanism={...r,...i,...t},t&&"data"in t){const s={...i&&i.data,...t.data};n.mechanism.data=s}}function V2(e){if(e&&e.__sentry_captured__)return!0;try{os(e,"__sentry_captured__",!0)}catch{}return!1}function E3(e){return Array.isArray(e)?e:[e]}function la(e,t=100,n=1/0){try{return ob("",e,t,n)}catch(r){return{ERROR:`**non-serializable** (${r})`}}}function C3(e,t=3,n=100*1024){const r=la(e,t);return E8(r)>n?C3(e,t-1,n):r}function ob(e,t,n=1/0,r=1/0,i=_8()){const[s,o]=i;if(t==null||["boolean","string"].includes(typeof t)||typeof t=="number"&&Number.isFinite(t))return t;const a=S8(e,t);if(!a.startsWith("[object "))return a;if(t.__sentry_skip_normalization__)return t;const l=typeof t.__sentry_override_normalization_depth__=="number"?t.__sentry_override_normalization_depth__:n;if(l===0)return a.replace("object ","");if(s(t))return"[Circular ~]";const c=t;if(c&&typeof c.toJSON=="function")try{const p=c.toJSON();return ob("",p,l-1,r,i)}catch{}const u=Array.isArray(t)?[]:{};let d=0;const h=g3(t);for(const p in h){if(!Object.prototype.hasOwnProperty.call(h,p))continue;if(d>=r){u[p]="[MaxProperties ~]";break}const g=h[p];u[p]=ob(p,g,l-1,r,i),d++}return o(t),u}function S8(e,t){try{if(e==="domain"&&t&&typeof t=="object"&&t._events)return"[Domain]";if(e==="domainEmitter")return"[DomainEmitter]";if(typeof global<"u"&&t===global)return"[Global]";if(typeof window<"u"&&t===window)return"[Window]";if(typeof document<"u"&&t===document)return"[Document]";if(c3(t))return"[VueViewModel]";if(G6(t))return"[SyntheticEvent]";if(typeof t=="number"&&!Number.isFinite(t))return`[${t}]`;if(typeof t=="function")return`[Function: ${Bo(t)}]`;if(typeof t=="symbol")return`[${String(t)}]`;if(typeof t=="bigint")return`[BigInt: ${String(t)}]`;const n=x8(t);return/^HTML(\w*)Element$/.test(n)?`[HTMLElement: ${n}]`:`[object ${n}]`}catch(n){return`**non-serializable** (${n})`}}function x8(e){const t=Object.getPrototypeOf(e);return t?t.constructor.name:"null prototype"}function w8(e){return~-encodeURI(e).split(/%..|./).length}function E8(e){return w8(JSON.stringify(e))}var _o;(function(e){e[e.PENDING=0]="PENDING";const n=1;e[e.RESOLVED=n]="RESOLVED";const r=2;e[e.REJECTED=r]="REJECTED"})(_o||(_o={}));function Hl(e){return new qi(t=>{t(e)})}function km(e){return new qi((t,n)=>{n(e)})}class qi{constructor(t){qi.prototype.__init.call(this),qi.prototype.__init2.call(this),qi.prototype.__init3.call(this),qi.prototype.__init4.call(this),this._state=_o.PENDING,this._handlers=[];try{t(this._resolve,this._reject)}catch(n){this._reject(n)}}then(t,n){return new qi((r,i)=>{this._handlers.push([!1,s=>{if(!t)r(s);else try{r(t(s))}catch(o){i(o)}},s=>{if(!n)i(s);else try{r(n(s))}catch(o){i(o)}}]),this._executeHandlers()})}catch(t){return this.then(n=>n,t)}finally(t){return new qi((n,r)=>{let i,s;return this.then(o=>{s=!1,i=o,t&&t()},o=>{s=!0,i=o,t&&t()}).then(()=>{if(s){r(i);return}n(i)})})}__init(){this._resolve=t=>{this._setResult(_o.RESOLVED,t)}}__init2(){this._reject=t=>{this._setResult(_o.REJECTED,t)}}__init3(){this._setResult=(t,n)=>{if(this._state===_o.PENDING){if(Q0(n)){n.then(this._resolve,this._reject);return}this._state=t,this._value=n,this._executeHandlers()}}}__init4(){this._executeHandlers=()=>{if(this._state===_o.PENDING)return;const t=this._handlers.slice();this._handlers=[],t.forEach(n=>{n[0]||(this._state===_o.RESOLVED&&n[1](this._value),this._state===_o.REJECTED&&n[2](this._value),n[0]=!0)})}}}function C8(e){const t=[];function n(){return e===void 0||t.length<e}function r(o){return t.splice(t.indexOf(o),1)[0]||Promise.resolve(void 0)}function i(o){if(!n())return km(new eo("Not adding Promise because buffer limit was reached."));const a=o();return t.indexOf(a)===-1&&t.push(a),a.then(()=>r(a)).then(null,()=>r(a).then(null,()=>{})),a}function s(o){return new qi((a,l)=>{let c=t.length;if(!c)return a(!0);const u=setTimeout(()=>{o&&o>0&&a(!1)},o);t.forEach(d=>{Hl(d).then(()=>{--c||(clearTimeout(u),a(!0))},l)})})}return{$:t,add:i,drain:s}}function Rl(e){if(!e)return{};const t=e.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!t)return{};const n=t[6]||"",r=t[8]||"";return{host:t[4],path:t[5],protocol:t[2],search:n,hash:r,relative:t[5]+n+r}}const k8=["fatal","error","warning","log","info","debug"];function T8(e){return e==="warn"?"warning":k8.includes(e)?e:"log"}const Lc="baggage",ZS="sentry-",I8=/^sentry-/,P8=8192;function k3(e){const t=R8(e);if(!t)return;const n=Object.entries(t).reduce((r,[i,s])=>{if(i.match(I8)){const o=i.slice(ZS.length);r[o]=s}return r},{});if(Object.keys(n).length>0)return n}function T3(e){if(!e)return;const t=Object.entries(e).reduce((n,[r,i])=>(i&&(n[`${ZS}${r}`]=i),n),{});return M8(t)}function R8(e){if(!(!e||!jo(e)&&!Array.isArray(e)))return Array.isArray(e)?e.reduce((t,n)=>{const r=L2(n);return Object.entries(r).forEach(([i,s])=>{t[i]=s}),t},{}):L2(e)}function L2(e){return e.split(",").map(t=>t.split("=").map(n=>decodeURIComponent(n.trim()))).reduce((t,[n,r])=>(n&&r&&(t[n]=r),t),{})}function M8(e){if(Object.keys(e).length!==0)return Object.entries(e).reduce((t,[n,r],i)=>{const s=`${encodeURIComponent(n)}=${encodeURIComponent(r)}`,o=i===0?s:`${t},${s}`;return o.length>P8?(nd&&pe.warn(`Not adding key: ${n} with val: ${r} to baggage header due to exceeding baggage size limits.`),t):o},"")}const j8=new RegExp("^[ \\t]*([0-9a-f]{32})?-?([0-9a-f]{16})?-?([01])?[ \\t]*$");function O8(e){if(!e)return;const t=e.match(j8);if(!t)return;let n;return t[3]==="1"?n=!0:t[3]==="0"&&(n=!1),{traceId:t[1],parentSampled:n,parentSpanId:t[2]}}function V8(e,t){const n=O8(e),r=k3(t),{traceId:i,parentSpanId:s,parentSampled:o}=n||{};return n?{traceId:i||hn(),parentSpanId:s||hn().substring(16),spanId:hn().substring(16),sampled:o,dsc:r||{}}:{traceId:i||hn(),spanId:hn().substring(16)}}function ex(e=hn(),t=hn().substring(16),n){let r="";return n!==void 0&&(r=n?"-1":"-0"),`${e}-${t}${r}`}function id(e,t=[]){return[e,t]}function L8(e,t){const[n,r]=e;return[n,[...r,t]]}function N2(e,t){const n=e[1];for(const r of n){const i=r[0].type;if(t(r,i))return!0}return!1}function ab(e){return At.__SENTRY__&&At.__SENTRY__.encodePolyfill?At.__SENTRY__.encodePolyfill(e):new TextEncoder().encode(e)}function N8(e){const[t,n]=e;let r=JSON.stringify(t);function i(s){typeof r=="string"?r=typeof s=="string"?r+s:[ab(r),s]:r.push(typeof s=="string"?ab(s):s)}for(const s of n){const[o,a]=s;if(i(`
${JSON.stringify(o)}
`),typeof a=="string"||a instanceof Uint8Array)i(a);else{let l;try{l=JSON.stringify(a)}catch{l=JSON.stringify(la(a))}i(l)}}return typeof r=="string"?r:B8(r)}function B8(e){const t=e.reduce((i,s)=>i+s.length,0),n=new Uint8Array(t);let r=0;for(const i of e)n.set(i,r),r+=i.length;return n}function D8(e){return[{type:"span"},e]}function $8(e){const t=typeof e.data=="string"?ab(e.data):e.data;return[gr({type:"attachment",length:t.length,filename:e.filename,content_type:e.contentType,attachment_type:e.attachmentType}),t]}const F8={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default",profile:"profile",profile_chunk:"profile",replay_event:"replay",replay_recording:"replay",check_in:"monitor",feedback:"feedback",span:"span",statsd:"metric_bucket"};function B2(e){return F8[e]}function I3(e){if(!e||!e.sdk)return;const{name:t,version:n}=e.sdk;return{name:t,version:n}}function z8(e,t,n,r){const i=e.sdkProcessingMetadata&&e.sdkProcessingMetadata.dynamicSamplingContext;return{event_id:e.event_id,sent_at:new Date().toISOString(),...t&&{sdk:t},...!!n&&r&&{dsn:rd(r)},...i&&{trace:gr({...i})}}}function U8(e,t,n){const r=[{type:"client_report"},{timestamp:Oh(),discarded_events:e}];return id(t?{dsn:t}:{},[r])}const H8=60*1e3;function G8(e,t=Date.now()){const n=parseInt(`${e}`,10);if(!isNaN(n))return n*1e3;const r=Date.parse(`${e}`);return isNaN(r)?H8:r-t}function q8(e,t){return e[t]||e.all||0}function W8(e,t,n=Date.now()){return q8(e,t)>n}function K8(e,{statusCode:t,headers:n},r=Date.now()){const i={...e},s=n&&n["x-sentry-rate-limits"],o=n&&n["retry-after"];if(s)for(const a of s.trim().split(",")){const[l,c,,,u]=a.split(":",5),d=parseInt(l,10),h=(isNaN(d)?60:d)*1e3;if(!c)i.all=r+h;else for(const p of c.split(";"))p==="metric_bucket"?(!u||u.split(";").includes("custom"))&&(i[p]=r+h):i[p]=r+h}else o?i.all=r+G8(o,r):t===429&&(i.all=r+60*1e3);return i}function Co(e){let t,n=e[0],r=1;for(;r<e.length;){const i=e[r],s=e[r+1];if(r+=2,(i==="optionalAccess"||i==="optionalCall")&&n==null)return;i==="access"||i==="optionalAccess"?(t=n,n=s(n)):(i==="call"||i==="optionalCall")&&(n=s((...o)=>n.call(t,...o)),t=void 0)}return n}function Tm(){return{traceId:hn(),spanId:hn().substring(16)}}const Ip=At;function Y8(){const e=Ip.chrome,t=e&&e.app&&e.app.runtime,n="history"in Ip&&!!Ip.history.pushState&&!!Ip.history.replaceState;return!t&&n}const et=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__;function sd(){return tx(At),At}function tx(e){const t=e.__SENTRY__=e.__SENTRY__||{};return t.version=t.version||Pl,t[Pl]=t[Pl]||{}}function Q8(e){const t=mr(),n={sid:hn(),init:!0,timestamp:t,started:t,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>X8(n)};return e&&Ru(n,e),n}function Ru(e,t={}){if(t.user&&(!e.ipAddress&&t.user.ip_address&&(e.ipAddress=t.user.ip_address),!e.did&&!t.did&&(e.did=t.user.id||t.user.email||t.user.username)),e.timestamp=t.timestamp||mr(),t.abnormal_mechanism&&(e.abnormal_mechanism=t.abnormal_mechanism),t.ignoreDuration&&(e.ignoreDuration=t.ignoreDuration),t.sid&&(e.sid=t.sid.length===32?t.sid:hn()),t.init!==void 0&&(e.init=t.init),!e.did&&t.did&&(e.did=`${t.did}`),typeof t.started=="number"&&(e.started=t.started),e.ignoreDuration)e.duration=void 0;else if(typeof t.duration=="number")e.duration=t.duration;else{const n=e.timestamp-e.started;e.duration=n>=0?n:0}t.release&&(e.release=t.release),t.environment&&(e.environment=t.environment),!e.ipAddress&&t.ipAddress&&(e.ipAddress=t.ipAddress),!e.userAgent&&t.userAgent&&(e.userAgent=t.userAgent),typeof t.errors=="number"&&(e.errors=t.errors),t.status&&(e.status=t.status)}function J8(e,t){let n={};e.status==="ok"&&(n={status:"exited"}),Ru(e,n)}function X8(e){return gr({sid:`${e.sid}`,init:e.init,started:new Date(e.started*1e3).toISOString(),timestamp:new Date(e.timestamp*1e3).toISOString(),status:e.status,errors:e.errors,did:typeof e.did=="number"||typeof e.did=="string"?`${e.did}`:void 0,duration:e.duration,abnormal_mechanism:e.abnormal_mechanism,attrs:{release:e.release,environment:e.environment,ip_address:e.ipAddress,user_agent:e.userAgent}})}const lb="_sentrySpan";function qf(e,t){t?os(e,lb,t):delete e[lb]}function Im(e){return e[lb]}const Z8=100;class nx{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={},this._propagationContext=Tm()}clone(){const t=new nx;return t._breadcrumbs=[...this._breadcrumbs],t._tags={...this._tags},t._extra={...this._extra},t._contexts={...this._contexts},t._user=this._user,t._level=this._level,t._session=this._session,t._transactionName=this._transactionName,t._fingerprint=this._fingerprint,t._eventProcessors=[...this._eventProcessors],t._requestSession=this._requestSession,t._attachments=[...this._attachments],t._sdkProcessingMetadata={...this._sdkProcessingMetadata},t._propagationContext={...this._propagationContext},t._client=this._client,t._lastEventId=this._lastEventId,qf(t,Im(this)),t}setClient(t){this._client=t}setLastEventId(t){this._lastEventId=t}getClient(){return this._client}lastEventId(){return this._lastEventId}addScopeListener(t){this._scopeListeners.push(t)}addEventProcessor(t){return this._eventProcessors.push(t),this}setUser(t){return this._user=t||{email:void 0,id:void 0,ip_address:void 0,username:void 0},this._session&&Ru(this._session,{user:t}),this._notifyScopeListeners(),this}getUser(){return this._user}getRequestSession(){return this._requestSession}setRequestSession(t){return this._requestSession=t,this}setTags(t){return this._tags={...this._tags,...t},this._notifyScopeListeners(),this}setTag(t,n){return this._tags={...this._tags,[t]:n},this._notifyScopeListeners(),this}setExtras(t){return this._extra={...this._extra,...t},this._notifyScopeListeners(),this}setExtra(t,n){return this._extra={...this._extra,[t]:n},this._notifyScopeListeners(),this}setFingerprint(t){return this._fingerprint=t,this._notifyScopeListeners(),this}setLevel(t){return this._level=t,this._notifyScopeListeners(),this}setTransactionName(t){return this._transactionName=t,this._notifyScopeListeners(),this}setContext(t,n){return n===null?delete this._contexts[t]:this._contexts[t]=n,this._notifyScopeListeners(),this}setSession(t){return t?this._session=t:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(t){if(!t)return this;const n=typeof t=="function"?t(this):t,[r,i]=n instanceof Oa?[n.getScopeData(),n.getRequestSession()]:Pu(n)?[t,t.requestSession]:[],{tags:s,extra:o,user:a,contexts:l,level:c,fingerprint:u=[],propagationContext:d}=r||{};return this._tags={...this._tags,...s},this._extra={...this._extra,...o},this._contexts={...this._contexts,...l},a&&Object.keys(a).length&&(this._user=a),c&&(this._level=c),u.length&&(this._fingerprint=u),d&&(this._propagationContext=d),i&&(this._requestSession=i),this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._session=void 0,qf(this,void 0),this._attachments=[],this._propagationContext=Tm(),this._notifyScopeListeners(),this}addBreadcrumb(t,n){const r=typeof n=="number"?n:Z8;if(r<=0)return this;const i={timestamp:Oh(),...t},s=this._breadcrumbs;return s.push(i),this._breadcrumbs=s.length>r?s.slice(-r):s,this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(t){return this._attachments.push(t),this}clearAttachments(){return this._attachments=[],this}getScopeData(){return{breadcrumbs:this._breadcrumbs,attachments:this._attachments,contexts:this._contexts,tags:this._tags,extra:this._extra,user:this._user,level:this._level,fingerprint:this._fingerprint||[],eventProcessors:this._eventProcessors,propagationContext:this._propagationContext,sdkProcessingMetadata:this._sdkProcessingMetadata,transactionName:this._transactionName,span:Im(this)}}setSDKProcessingMetadata(t){return this._sdkProcessingMetadata={...this._sdkProcessingMetadata,...t},this}setPropagationContext(t){return this._propagationContext=t,this}getPropagationContext(){return this._propagationContext}captureException(t,n){const r=n&&n.event_id?n.event_id:hn();if(!this._client)return pe.warn("No client configured on scope - will not capture exception!"),r;const i=new Error("Sentry syntheticException");return this._client.captureException(t,{originalException:t,syntheticException:i,...n,event_id:r},this),r}captureMessage(t,n,r){const i=r&&r.event_id?r.event_id:hn();if(!this._client)return pe.warn("No client configured on scope - will not capture message!"),i;const s=new Error(t);return this._client.captureMessage(t,n,{originalException:t,syntheticException:s,...r,event_id:i},this),i}captureEvent(t,n){const r=n&&n.event_id?n.event_id:hn();return this._client?(this._client.captureEvent(t,{...n,event_id:r},this),r):(pe.warn("No client configured on scope - will not capture event!"),r)}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(t=>{t(this)}),this._notifyingListeners=!1)}}const Oa=nx;function ez(){return J0("defaultCurrentScope",()=>new Oa)}function tz(){return J0("defaultIsolationScope",()=>new Oa)}class nz{constructor(t,n){let r;t?r=t:r=new Oa;let i;n?i=n:i=new Oa,this._stack=[{scope:r}],this._isolationScope=i}withScope(t){const n=this._pushScope();let r;try{r=t(n)}catch(i){throw this._popScope(),i}return Q0(r)?r.then(i=>(this._popScope(),i),i=>{throw this._popScope(),i}):(this._popScope(),r)}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getIsolationScope(){return this._isolationScope}getStackTop(){return this._stack[this._stack.length-1]}_pushScope(){const t=this.getScope().clone();return this._stack.push({client:this.getClient(),scope:t}),t}_popScope(){return this._stack.length<=1?!1:!!this._stack.pop()}}function Mu(){const e=sd(),t=tx(e);return t.stack=t.stack||new nz(ez(),tz())}function rz(e){return Mu().withScope(e)}function iz(e,t){const n=Mu();return n.withScope(()=>(n.getStackTop().scope=e,t(e)))}function D2(e){return Mu().withScope(()=>e(Mu().getIsolationScope()))}function sz(){return{withIsolationScope:D2,withScope:rz,withSetScope:iz,withSetIsolationScope:(e,t)=>D2(t),getCurrentScope:()=>Mu().getScope(),getIsolationScope:()=>Mu().getIsolationScope()}}function Vh(e){const t=tx(e);return t.acs?t.acs:sz()}function Xt(){const e=sd();return Vh(e).getCurrentScope()}function hs(){const e=sd();return Vh(e).getIsolationScope()}function oz(){return J0("globalScope",()=>new Oa)}function X0(...e){const t=sd(),n=Vh(t);if(e.length===2){const[r,i]=e;return r?n.withSetScope(r,i):n.withScope(i)}return n.withScope(e[0])}function Et(){return Xt().getClient()}const az="_sentryMetrics";function cb(e){const t=e[az];if(!t)return;const n={};for(const[,[r,i]]of t)(n[r]||(n[r]=[])).push(gr(i));return n}const va="sentry.source",P3="sentry.sample_rate",Gl="sentry.op",Ln="sentry.origin",ub="sentry.idle_span_finish_reason",Z0="sentry.measurement_unit",ey="sentry.measurement_value",lz="sentry.profile_id",rx="sentry.exclusive_time",cz=0,R3=1,tr=2;function uz(e){if(e<400&&e>=100)return{code:R3};if(e>=400&&e<500)switch(e){case 401:return{code:tr,message:"unauthenticated"};case 403:return{code:tr,message:"permission_denied"};case 404:return{code:tr,message:"not_found"};case 409:return{code:tr,message:"already_exists"};case 413:return{code:tr,message:"failed_precondition"};case 429:return{code:tr,message:"resource_exhausted"};case 499:return{code:tr,message:"cancelled"};default:return{code:tr,message:"invalid_argument"}}if(e>=500&&e<600)switch(e){case 501:return{code:tr,message:"unimplemented"};case 503:return{code:tr,message:"unavailable"};case 504:return{code:tr,message:"deadline_exceeded"};default:return{code:tr,message:"internal_error"}}return{code:tr,message:"unknown_error"}}function M3(e,t){e.setAttribute("http.response.status_code",t);const n=uz(t);n.message!=="unknown_error"&&e.setStatus(n)}const j3=0,O3=1;function dz(e){const{spanId:t,traceId:n}=e.spanContext(),{data:r,op:i,parent_span_id:s,status:o,origin:a}=vt(e);return gr({parent_span_id:s,span_id:t,trace_id:n,data:r,op:i,status:o,origin:a})}function fz(e){const{spanId:t,traceId:n}=e.spanContext(),{parent_span_id:r}=vt(e);return gr({parent_span_id:r,span_id:t,trace_id:n})}function V3(e){const{traceId:t,spanId:n}=e.spanContext(),r=lc(e);return ex(t,n,r)}function Ml(e){return typeof e=="number"?$2(e):Array.isArray(e)?e[0]+e[1]/1e9:e instanceof Date?$2(e.getTime()):mr()}function $2(e){return e>9999999999?e/1e3:e}function vt(e){if(pz(e))return e.getSpanJSON();try{const{spanId:t,traceId:n}=e.spanContext();if(hz(e)){const{attributes:r,startTime:i,name:s,endTime:o,parentSpanId:a,status:l}=e;return gr({span_id:t,trace_id:n,data:r,description:s,parent_span_id:a,start_timestamp:Ml(i),timestamp:Ml(o)||void 0,status:L3(l),op:r[Gl],origin:r[Ln],_metrics_summary:cb(e)})}return{span_id:t,trace_id:n}}catch{return{}}}function hz(e){const t=e;return!!t.attributes&&!!t.startTime&&!!t.name&&!!t.endTime&&!!t.status}function pz(e){return typeof e.getSpanJSON=="function"}function lc(e){const{traceFlags:t}=e.spanContext();return t===O3}function L3(e){if(!(!e||e.code===cz))return e.code===R3?"ok":e.message||"unknown_error"}const jl="_sentryChildSpans",db="_sentryRootSpan";function N3(e,t){const n=e[db]||e;os(t,db,n),e[jl]?e[jl].add(t):os(e,jl,new Set([t]))}function gz(e,t){e[jl]&&e[jl].delete(t)}function Mg(e){const t=new Set;function n(r){if(!t.has(r)&&lc(r)){t.add(r);const i=r[jl]?Array.from(r[jl]):[];for(const s of i)n(s)}}return n(e),Array.from(t)}function Tr(e){return e[db]||e}function qr(){const e=sd(),t=Vh(e);return t.getActiveSpan?t.getActiveSpan():Im(Xt())}let F2=!1;function mz(){F2||(F2=!0,S3(fb),x3(fb))}function fb(){const e=qr(),t=e&&Tr(e);if(t){const n="internal_error";et&&pe.log(`[Tracing] Root span: ${n} -> Global error occured`),t.setStatus({code:tr,message:n})}}fb.tag="sentry_tracingErrorCallback";const B3="_sentryScope",D3="_sentryIsolationScope";function yz(e,t,n){e&&(os(e,D3,n),os(e,B3,t))}function z2(e){return{scope:e[B3],isolationScope:e[D3]}}function Do(e){if(typeof __SENTRY_TRACING__=="boolean"&&!__SENTRY_TRACING__)return!1;const t=Et(),n=e||t&&t.getOptions();return!!n&&(n.enableTracing||"tracesSampleRate"in n||"tracesSampler"in n)}class od{constructor(t={}){this._traceId=t.traceId||hn(),this._spanId=t.spanId||hn().substring(16)}spanContext(){return{spanId:this._spanId,traceId:this._traceId,traceFlags:j3}}end(t){}setAttribute(t,n){return this}setAttributes(t){return this}setStatus(t){return this}updateName(t){return this}isRecording(){return!1}addEvent(t,n,r){return this}addLink(t){return this}addLinks(t){return this}recordException(t,n){}}const ix="production",$3="_frozenDsc";function U2(e,t){os(e,$3,t)}function ty(e,t){const n=t.getOptions(),{publicKey:r}=t.getDsn()||{},i=gr({environment:n.environment||ix,release:n.release,public_key:r,trace_id:e});return t.emit("createDsc",i),i}function cc(e){const t=Et();if(!t)return{};const n=ty(vt(e).trace_id||"",t),r=Tr(e),i=r[$3];if(i)return i;const s=r.spanContext().traceState,o=s&&s.get("sentry.dsc"),a=o&&k3(o);if(a)return a;const l=vt(r),c=l.data||{},u=c[P3];u!=null&&(n.sample_rate=`${u}`);const d=c[va],h=l.description;return d!=="url"&&h&&(n.transaction=h),Do()&&(n.sampled=String(lc(r))),t.emit("createDsc",n,r),n}function vz(e){if(!et)return;const{description:t="< unknown name >",op:n="< unknown op >",parent_span_id:r}=vt(e),{spanId:i}=e.spanContext(),s=lc(e),o=Tr(e),a=o===e,l=`[Tracing] Starting ${s?"sampled":"unsampled"} ${a?"root ":""}span`,c=[`op: ${n}`,`name: ${t}`,`ID: ${i}`];if(r&&c.push(`parent ID: ${r}`),!a){const{op:u,description:d}=vt(o);c.push(`root ID: ${o.spanContext().spanId}`),u&&c.push(`root op: ${u}`),d&&c.push(`root description: ${d}`)}pe.log(`${l}
  ${c.join(`
  `)}`)}function Az(e){if(!et)return;const{description:t="< unknown name >",op:n="< unknown op >"}=vt(e),{spanId:r}=e.spanContext(),s=Tr(e)===e,o=`[Tracing] Finishing "${n}" ${s?"root ":""}span "${t}" with ID ${r}`;pe.log(o)}function F3(e){if(typeof e=="boolean")return Number(e);const t=typeof e=="string"?parseFloat(e):e;if(typeof t!="number"||isNaN(t)||t<0||t>1){et&&pe.warn(`[Tracing] Given sample rate is invalid. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(e)} of type ${JSON.stringify(typeof e)}.`);return}return t}function bz(e,t){if(!Do(e))return[!1];let n;typeof e.tracesSampler=="function"?n=e.tracesSampler(t):t.parentSampled!==void 0?n=t.parentSampled:typeof e.tracesSampleRate<"u"?n=e.tracesSampleRate:n=1;const r=F3(n);return r===void 0?(et&&pe.warn("[Tracing] Discarding transaction because of invalid sample rate."),[!1]):r?Math.random()<r?[!0,r]:(et&&pe.log(`[Tracing] Discarding transaction because it's not included in the random sample (sampling rate = ${Number(n)})`),[!1,r]):(et&&pe.log(`[Tracing] Discarding transaction because ${typeof e.tracesSampler=="function"?"tracesSampler returned 0 or false":"a negative sampling decision was inherited or tracesSampleRate is set to 0"}`),[!1,r])}function _z(e,t){return t&&(e.sdk=e.sdk||{},e.sdk.name=e.sdk.name||t.name,e.sdk.version=e.sdk.version||t.version,e.sdk.integrations=[...e.sdk.integrations||[],...t.integrations||[]],e.sdk.packages=[...e.sdk.packages||[],...t.packages||[]]),e}function Sz(e,t,n,r){const i=I3(n),s={sent_at:new Date().toISOString(),...i&&{sdk:i},...!!r&&t&&{dsn:rd(t)}},o="aggregates"in e?[{type:"sessions"},e]:[{type:"session"},e.toJSON()];return id(s,[o])}function xz(e,t,n,r){const i=I3(n),s=e.type&&e.type!=="replay_event"?e.type:"event";_z(e,n&&n.sdk);const o=z8(e,i,r,t);return delete e.sdkProcessingMetadata,id(o,[[{type:s},e]])}function wz(e,t){function n(u){return!!u.trace_id&&!!u.public_key}const r=cc(e[0]),i=t&&t.getDsn(),s=t&&t.getOptions().tunnel,o={sent_at:new Date().toISOString(),...n(r)&&{trace:r},...!!s&&i&&{dsn:rd(i)}},a=t&&t.getOptions().beforeSendSpan,l=a?u=>a(vt(u)):u=>vt(u),c=[];for(const u of e){const d=l(u);d&&c.push(D8(d))}return id(o,c)}function Ez(e,t,n,r=qr()){const i=r&&Tr(r);i&&i.addEvent(e,{[ey]:t,[Z0]:n})}function H2(e){if(!e||e.length===0)return;const t={};return e.forEach(n=>{const r=n.attributes||{},i=r[Z0],s=r[ey];typeof i=="string"&&typeof s=="number"&&(t[n.name]={value:s,unit:i})}),t}const G2=1e3;class sx{constructor(t={}){this._traceId=t.traceId||hn(),this._spanId=t.spanId||hn().substring(16),this._startTime=t.startTimestamp||mr(),this._attributes={},this.setAttributes({[Ln]:"manual",[Gl]:t.op,...t.attributes}),this._name=t.name,t.parentSpanId&&(this._parentSpanId=t.parentSpanId),"sampled"in t&&(this._sampled=t.sampled),t.endTimestamp&&(this._endTime=t.endTimestamp),this._events=[],this._isStandaloneSpan=t.isStandalone,this._endTime&&this._onSpanEnded()}addLink(t){return this}addLinks(t){return this}recordException(t,n){}spanContext(){const{_spanId:t,_traceId:n,_sampled:r}=this;return{spanId:t,traceId:n,traceFlags:r?O3:j3}}setAttribute(t,n){return n===void 0?delete this._attributes[t]:this._attributes[t]=n,this}setAttributes(t){return Object.keys(t).forEach(n=>this.setAttribute(n,t[n])),this}updateStartTime(t){this._startTime=Ml(t)}setStatus(t){return this._status=t,this}updateName(t){return this._name=t,this}end(t){this._endTime||(this._endTime=Ml(t),Az(this),this._onSpanEnded())}getSpanJSON(){return gr({data:this._attributes,description:this._name,op:this._attributes[Gl],parent_span_id:this._parentSpanId,span_id:this._spanId,start_timestamp:this._startTime,status:L3(this._status),timestamp:this._endTime,trace_id:this._traceId,origin:this._attributes[Ln],_metrics_summary:cb(this),profile_id:this._attributes[lz],exclusive_time:this._attributes[rx],measurements:H2(this._events),is_segment:this._isStandaloneSpan&&Tr(this)===this||void 0,segment_id:this._isStandaloneSpan?Tr(this).spanContext().spanId:void 0})}isRecording(){return!this._endTime&&!!this._sampled}addEvent(t,n,r){et&&pe.log("[Tracing] Adding an event to span:",t);const i=q2(n)?n:r||mr(),s=q2(n)?{}:n||{},o={name:t,time:Ml(i),attributes:s};return this._events.push(o),this}isStandaloneSpan(){return!!this._isStandaloneSpan}_onSpanEnded(){const t=Et();if(t&&t.emit("spanEnd",this),!(this._isStandaloneSpan||this===Tr(this)))return;if(this._isStandaloneSpan){this._sampled?kz(wz([this],t)):(et&&pe.log("[Tracing] Discarding standalone span because its trace was not chosen to be sampled."),t&&t.recordDroppedEvent("sample_rate","span"));return}const r=this._convertSpanToTransaction();r&&(z2(this).scope||Xt()).captureEvent(r)}_convertSpanToTransaction(){if(!W2(vt(this)))return;this._name||(et&&pe.warn("Transaction has no name, falling back to `<unlabeled transaction>`."),this._name="<unlabeled transaction>");const{scope:t,isolationScope:n}=z2(this),i=(t||Xt()).getClient()||Et();if(this._sampled!==!0){et&&pe.log("[Tracing] Discarding transaction because its trace was not chosen to be sampled."),i&&i.recordDroppedEvent("sample_rate","transaction");return}const o=Mg(this).filter(d=>d!==this&&!Cz(d)).map(d=>vt(d)).filter(W2),a=this._attributes[va],l={contexts:{trace:dz(this)},spans:o.length>G2?o.sort((d,h)=>d.start_timestamp-h.start_timestamp).slice(0,G2):o,start_timestamp:this._startTime,timestamp:this._endTime,transaction:this._name,type:"transaction",sdkProcessingMetadata:{capturedSpanScope:t,capturedSpanIsolationScope:n,...gr({dynamicSamplingContext:cc(this)})},_metrics_summary:cb(this),...a&&{transaction_info:{source:a}}},c=H2(this._events);return c&&Object.keys(c).length&&(et&&pe.log("[Measurements] Adding measurements to transaction event",JSON.stringify(c,void 0,2)),l.measurements=c),l}}function q2(e){return e&&typeof e=="number"||e instanceof Date||Array.isArray(e)}function W2(e){return!!e.start_timestamp&&!!e.timestamp&&!!e.span_id&&!!e.trace_id}function Cz(e){return e instanceof sx&&e.isStandaloneSpan()}function kz(e){const t=Et();if(!t)return;const n=e[1];if(!n||n.length===0){t.recordDroppedEvent("before_send","span");return}t.sendEnvelope(e)}const z3="__SENTRY_SUPPRESS_TRACING__";function Os(e){const t=U3();if(t.startInactiveSpan)return t.startInactiveSpan(e);const n=Iz(e),{forceTransaction:r,parentSpan:i}=e;return(e.scope?o=>X0(e.scope,o):i!==void 0?o=>Pm(i,o):o=>o())(()=>{const o=Xt(),a=Rz(o);return e.onlyIfParent&&!a?new od:Tz({parentSpan:a,spanArguments:n,forceTransaction:r,scope:o})})}function Pm(e,t){const n=U3();return n.withActiveSpan?n.withActiveSpan(e,t):X0(r=>(qf(r,e||void 0),t(r)))}function Tz({parentSpan:e,spanArguments:t,forceTransaction:n,scope:r}){if(!Do())return new od;const i=hs();let s;if(e&&!n)s=Pz(e,r,t),N3(e,s);else if(e){const o=cc(e),{traceId:a,spanId:l}=e.spanContext(),c=lc(e);s=K2({traceId:a,parentSpanId:l,...t},r,c),U2(s,o)}else{const{traceId:o,dsc:a,parentSpanId:l,sampled:c}={...i.getPropagationContext(),...r.getPropagationContext()};s=K2({traceId:o,parentSpanId:l,...t},r,c),a&&U2(s,a)}return vz(s),yz(s,r,i),s}function Iz(e){const n={isStandalone:(e.experimental||{}).standalone,...e};if(e.startTime){const r={...n};return r.startTimestamp=Ml(e.startTime),delete r.startTime,r}return n}function U3(){const e=sd();return Vh(e)}function K2(e,t,n){const r=Et(),i=r&&r.getOptions()||{},{name:s="",attributes:o}=e,[a,l]=t.getScopeData().sdkProcessingMetadata[z3]?[!1]:bz(i,{name:s,parentSampled:n,attributes:o,transactionContext:{name:s,parentSampled:n}}),c=new sx({...e,attributes:{[va]:"custom",...e.attributes},sampled:a});return l!==void 0&&c.setAttribute(P3,l),r&&r.emit("spanStart",c),c}function Pz(e,t,n){const{spanId:r,traceId:i}=e.spanContext(),s=t.getScopeData().sdkProcessingMetadata[z3]?!1:lc(e),o=s?new sx({...n,parentSpanId:r,traceId:i,sampled:s}):new od({traceId:i});N3(e,o);const a=Et();return a&&(a.emit("spanStart",o),n.endTimestamp&&a.emit("spanEnd",o)),o}function Rz(e){const t=Im(e);if(!t)return;const n=Et();return(n?n.getOptions():{}).parentSpanIsAlwaysRootSpan?Tr(t):t}const jg={idleTimeout:1e3,finalTimeout:3e4,childSpanTimeout:15e3},Mz="heartbeatFailed",jz="idleTimeout",Oz="finalTimeout",Vz="externalFinish";function H3(e,t={}){const n=new Map;let r=!1,i,s=Vz,o=!t.disableAutoFinish;const a=[],{idleTimeout:l=jg.idleTimeout,finalTimeout:c=jg.finalTimeout,childSpanTimeout:u=jg.childSpanTimeout,beforeSpanEnd:d}=t,h=Et();if(!h||!Do())return new od;const p=Xt(),g=qr(),m=Lz(e);m.end=new Proxy(m.end,{apply(E,C,k){d&&d(m);const[O,...w]=k,M=O||mr(),N=Ml(M),R=Mg(m).filter(B=>B!==m);if(!R.length)return S(N),Reflect.apply(E,C,[N,...w]);const V=R.map(B=>vt(B).timestamp).filter(B=>!!B),P=V.length?Math.max(...V):void 0,T=vt(m).start_timestamp,z=Math.min(T?T+c/1e3:1/0,Math.max(T||-1/0,Math.min(N,P||1/0)));return S(z),Reflect.apply(E,C,[z,...w])}});function b(){i&&(clearTimeout(i),i=void 0)}function y(E){b(),i=setTimeout(()=>{!r&&n.size===0&&o&&(s=jz,m.end(E))},l)}function v(E){i=setTimeout(()=>{!r&&o&&(s=Mz,m.end(E))},u)}function _(E){b(),n.set(E,!0);const C=mr();v(C+u/1e3)}function x(E){if(n.has(E)&&n.delete(E),n.size===0){const C=mr();y(C+l/1e3)}}function S(E){r=!0,n.clear(),a.forEach(N=>N()),qf(p,g);const C=vt(m),{start_timestamp:k}=C;if(!k)return;(C.data||{})[ub]||m.setAttribute(ub,s),pe.log(`[Tracing] Idle span "${C.op}" finished`);const w=Mg(m).filter(N=>N!==m);let M=0;w.forEach(N=>{N.isRecording()&&(N.setStatus({code:tr,message:"cancelled"}),N.end(E),et&&pe.log("[Tracing] Cancelling span since span ended early",JSON.stringify(N,void 0,2)));const R=vt(N),{timestamp:V=0,start_timestamp:P=0}=R,T=P<=E,z=(c+l)/1e3,B=V-P<=z;if(et){const D=JSON.stringify(N,void 0,2);T?B||pe.log("[Tracing] Discarding span since it finished after idle span final timeout",D):pe.log("[Tracing] Discarding span since it happened after idle span was finished",D)}(!B||!T)&&(gz(m,N),M++)}),M>0&&m.setAttribute("sentry.idle_span_discarded_spans",M)}return a.push(h.on("spanStart",E=>{if(r||E===m||vt(E).timestamp)return;Mg(m).includes(E)&&_(E.spanContext().spanId)})),a.push(h.on("spanEnd",E=>{r||x(E.spanContext().spanId)})),a.push(h.on("idleSpanEnableAutoFinish",E=>{E===m&&(o=!0,y(),n.size&&v())})),t.disableAutoFinish||y(),setTimeout(()=>{r||(m.setStatus({code:tr,message:"deadline_exceeded"}),s=Oz,m.end())},c),m}function Lz(e){const t=Os(e);return qf(Xt(),t),et&&pe.log("[Tracing] Started span is an idle span"),t}function hb(e,t,n,r=0){return new qi((i,s)=>{const o=e[r];if(t===null||typeof o!="function")i(t);else{const a=o({...t},n);et&&o.id&&a===null&&pe.log(`Event processor "${o.id}" dropped event`),Q0(a)?a.then(l=>hb(e,l,n,r+1).then(i)).then(null,s):hb(e,a,n,r+1).then(i).then(null,s)}})}function Nz(e,t){const{fingerprint:n,span:r,breadcrumbs:i,sdkProcessingMetadata:s}=t;Bz(e,t),r&&Fz(e,r),zz(e,n),Dz(e,i),$z(e,s)}function Y2(e,t){const{extra:n,tags:r,user:i,contexts:s,level:o,sdkProcessingMetadata:a,breadcrumbs:l,fingerprint:c,eventProcessors:u,attachments:d,propagationContext:h,transactionName:p,span:g}=t;Td(e,"extra",n),Td(e,"tags",r),Td(e,"user",i),Td(e,"contexts",s),Td(e,"sdkProcessingMetadata",a),o&&(e.level=o),p&&(e.transactionName=p),g&&(e.span=g),l.length&&(e.breadcrumbs=[...e.breadcrumbs,...l]),c.length&&(e.fingerprint=[...e.fingerprint,...c]),u.length&&(e.eventProcessors=[...e.eventProcessors,...u]),d.length&&(e.attachments=[...e.attachments,...d]),e.propagationContext={...e.propagationContext,...h}}function Td(e,t,n){if(n&&Object.keys(n).length){e[t]={...e[t]};for(const r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[t][r]=n[r])}}function Bz(e,t){const{extra:n,tags:r,user:i,contexts:s,level:o,transactionName:a}=t,l=gr(n);l&&Object.keys(l).length&&(e.extra={...l,...e.extra});const c=gr(r);c&&Object.keys(c).length&&(e.tags={...c,...e.tags});const u=gr(i);u&&Object.keys(u).length&&(e.user={...u,...e.user});const d=gr(s);d&&Object.keys(d).length&&(e.contexts={...d,...e.contexts}),o&&(e.level=o),a&&e.type!=="transaction"&&(e.transaction=a)}function Dz(e,t){const n=[...e.breadcrumbs||[],...t];e.breadcrumbs=n.length?n:void 0}function $z(e,t){e.sdkProcessingMetadata={...e.sdkProcessingMetadata,...t}}function Fz(e,t){e.contexts={trace:fz(t),...e.contexts},e.sdkProcessingMetadata={dynamicSamplingContext:cc(t),...e.sdkProcessingMetadata};const n=Tr(t),r=vt(n).description;r&&!e.transaction&&e.type==="transaction"&&(e.transaction=r)}function zz(e,t){e.fingerprint=e.fingerprint?E3(e.fingerprint):[],t&&(e.fingerprint=e.fingerprint.concat(t)),e.fingerprint&&!e.fingerprint.length&&delete e.fingerprint}function Uz(e,t,n,r,i,s){const{normalizeDepth:o=3,normalizeMaxBreadth:a=1e3}=e,l={...t,event_id:t.event_id||n.event_id||hn(),timestamp:t.timestamp||Oh()},c=n.integrations||e.integrations.map(b=>b.name);Hz(l,e),Wz(l,c),i&&i.emit("applyFrameMetadata",t),t.type===void 0&&Gz(l,e.stackParser);const u=Yz(r,n.captureContext);n.mechanism&&Gf(l,n.mechanism);const d=i?i.getEventProcessors():[],h=oz().getScopeData();if(s){const b=s.getScopeData();Y2(h,b)}if(u){const b=u.getScopeData();Y2(h,b)}const p=[...n.attachments||[],...h.attachments];p.length&&(n.attachments=p),Nz(l,h);const g=[...d,...h.eventProcessors];return hb(g,l,n).then(b=>(b&&qz(b),typeof o=="number"&&o>0?Kz(b,o,a):b))}function Hz(e,t){const{environment:n,release:r,dist:i,maxValueLength:s=250}=t;"environment"in e||(e.environment="environment"in t?n:ix),e.release===void 0&&r!==void 0&&(e.release=r),e.dist===void 0&&i!==void 0&&(e.dist=i),e.message&&(e.message=uu(e.message,s));const o=e.exception&&e.exception.values&&e.exception.values[0];o&&o.value&&(o.value=uu(o.value,s));const a=e.request;a&&a.url&&(a.url=uu(a.url,s))}const Q2=new WeakMap;function Gz(e,t){const n=At._sentryDebugIds;if(!n)return;let r;const i=Q2.get(t);i?r=i:(r=new Map,Q2.set(t,r));const s=Object.entries(n).reduce((o,[a,l])=>{let c;const u=r.get(a);u?c=u:(c=t(a),r.set(a,c));for(let d=c.length-1;d>=0;d--){const h=c[d];if(h.filename){o[h.filename]=l;break}}return o},{});try{e.exception.values.forEach(o=>{o.stacktrace.frames.forEach(a=>{a.filename&&(a.debug_id=s[a.filename])})})}catch{}}function qz(e){const t={};try{e.exception.values.forEach(r=>{r.stacktrace.frames.forEach(i=>{i.debug_id&&(i.abs_path?t[i.abs_path]=i.debug_id:i.filename&&(t[i.filename]=i.debug_id),delete i.debug_id)})})}catch{}if(Object.keys(t).length===0)return;e.debug_meta=e.debug_meta||{},e.debug_meta.images=e.debug_meta.images||[];const n=e.debug_meta.images;Object.entries(t).forEach(([r,i])=>{n.push({type:"sourcemap",code_file:r,debug_id:i})})}function Wz(e,t){t.length>0&&(e.sdk=e.sdk||{},e.sdk.integrations=[...e.sdk.integrations||[],...t])}function Kz(e,t,n){if(!e)return null;const r={...e,...e.breadcrumbs&&{breadcrumbs:e.breadcrumbs.map(i=>({...i,...i.data&&{data:la(i.data,t,n)}}))},...e.user&&{user:la(e.user,t,n)},...e.contexts&&{contexts:la(e.contexts,t,n)},...e.extra&&{extra:la(e.extra,t,n)}};return e.contexts&&e.contexts.trace&&r.contexts&&(r.contexts.trace=e.contexts.trace,e.contexts.trace.data&&(r.contexts.trace.data=la(e.contexts.trace.data,t,n))),e.spans&&(r.spans=e.spans.map(i=>({...i,...i.data&&{data:la(i.data,t,n)}}))),r}function Yz(e,t){if(!t)return e;const n=e?e.clone():new Oa;return n.update(t),n}function Qz(e){if(e)return Jz(e)?{captureContext:e}:Zz(e)?{captureContext:e}:e}function Jz(e){return e instanceof Oa||typeof e=="function"}const Xz=["user","level","extra","contexts","tags","fingerprint","requestSession","propagationContext"];function Zz(e){return Object.keys(e).some(t=>Xz.includes(t))}function Ns(e,t){return Xt().captureException(e,Qz(t))}function G3(e,t){return Xt().captureEvent(e,t)}function e7(e,t){hs().setContext(e,t)}function t7(e){hs().setUser(e)}function n7(){return hs().lastEventId()}function J2(e){const t=Et(),n=hs(),r=Xt(),{release:i,environment:s=ix}=t&&t.getOptions()||{},{userAgent:o}=At.navigator||{},a=Q8({release:i,environment:s,user:r.getUser()||n.getUser(),...o&&{userAgent:o},...e}),l=n.getSession();return l&&l.status==="ok"&&Ru(l,{status:"exited"}),q3(),n.setSession(a),r.setSession(a),a}function q3(){const e=hs(),t=Xt(),n=t.getSession()||e.getSession();n&&J8(n),W3(),e.setSession(),t.setSession()}function W3(){const e=hs(),t=Xt(),n=Et(),r=t.getSession()||e.getSession();r&&n&&n.captureSession(r)}function X2(e=!1){if(e){q3();return}W3()}const r7="7";function K3(e){const t=e.protocol?`${e.protocol}:`:"",n=e.port?`:${e.port}`:"";return`${t}//${e.host}${n}${e.path?`/${e.path}`:""}/api/`}function i7(e){return`${K3(e)}${e.projectId}/envelope/`}function s7(e,t){return s8({sentry_key:e.publicKey,sentry_version:r7,...t&&{sentry_client:`${t.name}/${t.version}`}})}function o7(e,t,n){return t||`${i7(e)}?${s7(e,n)}`}function a7(e,t){const n=h3(e);if(!n)return"";const r=`${K3(n)}embed/error-page/`;let i=`dsn=${rd(n)}`;for(const s in t)if(s!=="dsn"&&s!=="onClose")if(s==="user"){const o=t.user;if(!o)continue;o.name&&(i+=`&name=${encodeURIComponent(o.name)}`),o.email&&(i+=`&email=${encodeURIComponent(o.email)}`)}else i+=`&${encodeURIComponent(s)}=${encodeURIComponent(t[s])}`;return`${r}?${i}`}const Z2=[];function l7(e){const t={};return e.forEach(n=>{const{name:r}=n,i=t[r];i&&!i.isDefaultInstance&&n.isDefaultInstance||(t[r]=n)}),Object.values(t)}function c7(e){const t=e.defaultIntegrations||[],n=e.integrations;t.forEach(o=>{o.isDefaultInstance=!0});let r;Array.isArray(n)?r=[...t,...n]:typeof n=="function"?r=E3(n(t)):r=t;const i=l7(r),s=i.findIndex(o=>o.name==="Debug");if(s>-1){const[o]=i.splice(s,1);i.push(o)}return i}function u7(e,t){const n={};return t.forEach(r=>{r&&Y3(e,r,n)}),n}function ek(e,t){for(const n of t)n&&n.afterAllSetup&&n.afterAllSetup(e)}function Y3(e,t,n){if(n[t.name]){et&&pe.log(`Integration skipped because it was already installed: ${t.name}`);return}if(n[t.name]=t,Z2.indexOf(t.name)===-1&&typeof t.setupOnce=="function"&&(t.setupOnce(),Z2.push(t.name)),t.setup&&typeof t.setup=="function"&&t.setup(e),typeof t.preprocessEvent=="function"){const r=t.preprocessEvent.bind(t);e.on("preprocessEvent",(i,s)=>r(i,s,e))}if(typeof t.processEvent=="function"){const r=t.processEvent.bind(t),i=Object.assign((s,o)=>r(s,o,e),{id:t.name});e.addEventProcessor(i)}et&&pe.log(`Integration installed: ${t.name}`)}const tk="Not capturing exception because it's already been captured.";class d7{constructor(t){if(this._options=t,this._integrations={},this._numProcessing=0,this._outcomes={},this._hooks={},this._eventProcessors=[],t.dsn?this._dsn=h3(t.dsn):et&&pe.warn("No DSN provided, client will not send events."),this._dsn){const n=o7(this._dsn,t.tunnel,t._metadata?t._metadata.sdk:void 0);this._transport=t.transport({tunnel:this._options.tunnel,recordDroppedEvent:this.recordDroppedEvent.bind(this),...t.transportOptions,url:n})}}captureException(t,n,r){const i=hn();if(V2(t))return et&&pe.log(tk),i;const s={event_id:i,...n};return this._process(this.eventFromException(t,s).then(o=>this._captureEvent(o,s,r))),s.event_id}captureMessage(t,n,r,i){const s={event_id:hn(),...r},o=QS(t)?t:String(t),a=JS(t)?this.eventFromMessage(o,n,s):this.eventFromException(t,s);return this._process(a.then(l=>this._captureEvent(l,s,i))),s.event_id}captureEvent(t,n,r){const i=hn();if(n&&n.originalException&&V2(n.originalException))return et&&pe.log(tk),i;const s={event_id:i,...n},a=(t.sdkProcessingMetadata||{}).capturedSpanScope;return this._process(this._captureEvent(t,s,a||r)),s.event_id}captureSession(t){typeof t.release!="string"?et&&pe.warn("Discarded session because of missing or non-string release"):(this.sendSession(t),Ru(t,{init:!1}))}getDsn(){return this._dsn}getOptions(){return this._options}getSdkMetadata(){return this._options._metadata}getTransport(){return this._transport}flush(t){const n=this._transport;return n?(this.emit("flush"),this._isClientDoneProcessing(t).then(r=>n.flush(t).then(i=>r&&i))):Hl(!0)}close(t){return this.flush(t).then(n=>(this.getOptions().enabled=!1,this.emit("close"),n))}getEventProcessors(){return this._eventProcessors}addEventProcessor(t){this._eventProcessors.push(t)}init(){(this._isEnabled()||this._options.integrations.some(({name:t})=>t.startsWith("Spotlight")))&&this._setupIntegrations()}getIntegrationByName(t){return this._integrations[t]}addIntegration(t){const n=this._integrations[t.name];Y3(this,t,this._integrations),n||ek(this,[t])}sendEvent(t,n={}){this.emit("beforeSendEvent",t,n);let r=xz(t,this._dsn,this._options._metadata,this._options.tunnel);for(const s of n.attachments||[])r=L8(r,$8(s));const i=this.sendEnvelope(r);i&&i.then(s=>this.emit("afterSendEvent",t,s),null)}sendSession(t){const n=Sz(t,this._dsn,this._options._metadata,this._options.tunnel);this.sendEnvelope(n)}recordDroppedEvent(t,n,r){if(this._options.sendClientReports){const i=typeof r=="number"?r:1,s=`${t}:${n}`;et&&pe.log(`Recording outcome: "${s}"${i>1?` (${i} times)`:""}`),this._outcomes[s]=(this._outcomes[s]||0)+i}}on(t,n){const r=this._hooks[t]=this._hooks[t]||[];return r.push(n),()=>{const i=r.indexOf(n);i>-1&&r.splice(i,1)}}emit(t,...n){const r=this._hooks[t];r&&r.forEach(i=>i(...n))}sendEnvelope(t){return this.emit("beforeEnvelope",t),this._isEnabled()&&this._transport?this._transport.send(t).then(null,n=>(et&&pe.error("Error while sending envelope:",n),n)):(et&&pe.error("Transport disabled"),Hl({}))}_setupIntegrations(){const{integrations:t}=this._options;this._integrations=u7(this,t),ek(this,t)}_updateSessionFromEvent(t,n){let r=!1,i=!1;const s=n.exception&&n.exception.values;if(s){i=!0;for(const l of s){const c=l.mechanism;if(c&&c.handled===!1){r=!0;break}}}const o=t.status==="ok";(o&&t.errors===0||o&&r)&&(Ru(t,{...r&&{status:"crashed"},errors:t.errors||Number(i||r)}),this.captureSession(t))}_isClientDoneProcessing(t){return new qi(n=>{let r=0;const i=1,s=setInterval(()=>{this._numProcessing==0?(clearInterval(s),n(!0)):(r+=i,t&&r>=t&&(clearInterval(s),n(!1)))},i)})}_isEnabled(){return this.getOptions().enabled!==!1&&this._transport!==void 0}_prepareEvent(t,n,r,i=hs()){const s=this.getOptions(),o=Object.keys(this._integrations);return!n.integrations&&o.length>0&&(n.integrations=o),this.emit("preprocessEvent",t,n),t.type||i.setLastEventId(t.event_id||n.event_id),Uz(s,t,n,r,this,i).then(a=>{if(a===null)return a;const l={...i.getPropagationContext(),...r?r.getPropagationContext():void 0};if(!(a.contexts&&a.contexts.trace)&&l){const{traceId:u,spanId:d,parentSpanId:h,dsc:p}=l;a.contexts={trace:gr({trace_id:u,span_id:d,parent_span_id:h}),...a.contexts};const g=p||ty(u,this);a.sdkProcessingMetadata={dynamicSamplingContext:g,...a.sdkProcessingMetadata}}return a})}_captureEvent(t,n={},r){return this._processEvent(t,n,r).then(i=>i.event_id,i=>{if(et){const s=i;s.logLevel==="log"?pe.log(s.message):pe.warn(s)}})}_processEvent(t,n,r){const i=this.getOptions(),{sampleRate:s}=i,o=J3(t),a=Q3(t),l=t.type||"error",c=`before send for type \`${l}\``,u=typeof s>"u"?void 0:F3(s);if(a&&typeof u=="number"&&Math.random()>u)return this.recordDroppedEvent("sample_rate","error",t),km(new eo(`Discarding event because it's not included in the random sample (sampling rate = ${s})`,"log"));const d=l==="replay_event"?"replay":l,p=(t.sdkProcessingMetadata||{}).capturedSpanIsolationScope;return this._prepareEvent(t,n,r,p).then(g=>{if(g===null)throw this.recordDroppedEvent("event_processor",d,t),new eo("An event processor returned `null`, will not send event.","log");if(n.data&&n.data.__sentry__===!0)return g;const b=h7(this,i,g,n);return f7(b,c)}).then(g=>{if(g===null){if(this.recordDroppedEvent("before_send",d,t),o){const v=1+(t.spans||[]).length;this.recordDroppedEvent("before_send","span",v)}throw new eo(`${c} returned \`null\`, will not send event.`,"log")}const m=r&&r.getSession();if(!o&&m&&this._updateSessionFromEvent(m,g),o){const y=g.sdkProcessingMetadata&&g.sdkProcessingMetadata.spanCountBeforeProcessing||0,v=g.spans?g.spans.length:0,_=y-v;_>0&&this.recordDroppedEvent("before_send","span",_)}const b=g.transaction_info;if(o&&b&&g.transaction!==t.transaction){const y="custom";g.transaction_info={...b,source:y}}return this.sendEvent(g,n),g}).then(null,g=>{throw g instanceof eo?g:(this.captureException(g,{data:{__sentry__:!0},originalException:g}),new eo(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.
Reason: ${g}`))})}_process(t){this._numProcessing++,t.then(n=>(this._numProcessing--,n),n=>(this._numProcessing--,n))}_clearOutcomes(){const t=this._outcomes;return this._outcomes={},Object.entries(t).map(([n,r])=>{const[i,s]=n.split(":");return{reason:i,category:s,quantity:r}})}_flushOutcomes(){et&&pe.log("Flushing outcomes...");const t=this._clearOutcomes();if(t.length===0){et&&pe.log("No outcomes to send");return}if(!this._dsn){et&&pe.log("No dsn provided, will not send outcomes");return}et&&pe.log("Sending outcomes:",t);const n=U8(t,this._options.tunnel&&rd(this._dsn));this.sendEnvelope(n)}}function f7(e,t){const n=`${t} must return \`null\` or a valid event.`;if(Q0(e))return e.then(r=>{if(!Pu(r)&&r!==null)throw new eo(n);return r},r=>{throw new eo(`${t} rejected with ${r}`)});if(!Pu(e)&&e!==null)throw new eo(n);return e}function h7(e,t,n,r){const{beforeSend:i,beforeSendTransaction:s,beforeSendSpan:o}=t;if(Q3(n)&&i)return i(n,r);if(J3(n)){if(n.spans&&o){const a=[];for(const l of n.spans){const c=o(l);c?a.push(c):e.recordDroppedEvent("before_send","span")}n.spans=a}if(s){if(n.spans){const a=n.spans.length;n.sdkProcessingMetadata={...n.sdkProcessingMetadata,spanCountBeforeProcessing:a}}return s(n,r)}}return n}function Q3(e){return e.type===void 0}function J3(e){return e.type==="transaction"}function p7(e,t){t.debug===!0&&(et?pe.enable():jh(()=>{console.warn("[Sentry] Cannot initialize SDK with `debug` option using a non-debug bundle.")})),Xt().update(t.initialScope);const r=new e(t);return g7(r),r.init(),r}function g7(e){Xt().setClient(e)}const m7=64;function y7(e,t,n=C8(e.bufferSize||m7)){let r={};const i=o=>n.drain(o);function s(o){const a=[];if(N2(o,(d,h)=>{const p=B2(h);if(W8(r,p)){const g=nk(d,h);e.recordDroppedEvent("ratelimit_backoff",p,g)}else a.push(d)}),a.length===0)return Hl({});const l=id(o[0],a),c=d=>{N2(l,(h,p)=>{const g=nk(h,p);e.recordDroppedEvent(d,B2(p),g)})},u=()=>t({body:N8(l)}).then(d=>(d.statusCode!==void 0&&(d.statusCode<200||d.statusCode>=300)&&et&&pe.warn(`Sentry responded with status code ${d.statusCode} to sent event.`),r=K8(r,d),d),d=>{throw c("network_error"),d});return n.add(u).then(d=>d,d=>{if(d instanceof eo)return et&&pe.error("Skipped sending event because buffer is full."),c("queue_overflow"),Hl({});throw d})}return{send:s,flush:i}}function nk(e,t){if(!(t!=="event"&&t!=="transaction"))return Array.isArray(e)?e[1]:void 0}function X3(e,t,n=[t],r="npm"){const i=e._metadata||{};i.sdk||(i.sdk={name:`sentry.javascript.${t}`,packages:n.map(s=>({name:`${r}:@sentry/${s}`,version:Pl})),version:Pl}),e._metadata=i}const v7=100;function ql(e,t){const n=Et(),r=hs();if(!n)return;const{beforeBreadcrumb:i=null,maxBreadcrumbs:s=v7}=n.getOptions();if(s<=0)return;const a={timestamp:Oh(),...e},l=i?jh(()=>i(a,t)):a;l!==null&&(n.emit&&n.emit("beforeAddBreadcrumb",l,t),r.addBreadcrumb(l,s))}let rk;const A7="FunctionToString",ik=new WeakMap,b7=()=>({name:A7,setupOnce(){rk=Function.prototype.toString;try{Function.prototype.toString=function(...e){const t=XS(this),n=ik.has(Et())&&t!==void 0?t:this;return rk.apply(n,e)}}catch{}},setup(e){ik.set(e,!0)}}),_7=b7,S7=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/,/^ResizeObserver loop completed with undelivered notifications.$/,/^Cannot redefine property: googletag$/,"undefined is not an object (evaluating 'a.L')",`can't redefine non-configurable property "solana"`,"vv().getRestrictions is not a function. (In 'vv().getRestrictions(1,a)', 'vv().getRestrictions' is undefined)","Can't find variable: _AutofillCallbackHandler"],x7="InboundFilters",w7=(e={})=>({name:x7,processEvent(t,n,r){const i=r.getOptions(),s=C7(e,i);return k7(t,s)?null:t}}),E7=w7;function C7(e={},t={}){return{allowUrls:[...e.allowUrls||[],...t.allowUrls||[]],denyUrls:[...e.denyUrls||[],...t.denyUrls||[]],ignoreErrors:[...e.ignoreErrors||[],...t.ignoreErrors||[],...e.disableErrorDefaults?[]:S7],ignoreTransactions:[...e.ignoreTransactions||[],...t.ignoreTransactions||[]],ignoreInternal:e.ignoreInternal!==void 0?e.ignoreInternal:!0}}function k7(e,t){return t.ignoreInternal&&j7(e)?(et&&pe.warn(`Event dropped due to being internal Sentry Error.
Event: ${aa(e)}`),!0):T7(e,t.ignoreErrors)?(et&&pe.warn(`Event dropped due to being matched by \`ignoreErrors\` option.
Event: ${aa(e)}`),!0):V7(e)?(et&&pe.warn(`Event dropped due to not having an error message, error type or stacktrace.
Event: ${aa(e)}`),!0):I7(e,t.ignoreTransactions)?(et&&pe.warn(`Event dropped due to being matched by \`ignoreTransactions\` option.
Event: ${aa(e)}`),!0):P7(e,t.denyUrls)?(et&&pe.warn(`Event dropped due to being matched by \`denyUrls\` option.
Event: ${aa(e)}.
Url: ${Rm(e)}`),!0):R7(e,t.allowUrls)?!1:(et&&pe.warn(`Event dropped due to not being matched by \`allowUrls\` option.
Event: ${aa(e)}.
Url: ${Rm(e)}`),!0)}function T7(e,t){return e.type||!t||!t.length?!1:M7(e).some(n=>Il(n,t))}function I7(e,t){if(e.type!=="transaction"||!t||!t.length)return!1;const n=e.transaction;return n?Il(n,t):!1}function P7(e,t){if(!t||!t.length)return!1;const n=Rm(e);return n?Il(n,t):!1}function R7(e,t){if(!t||!t.length)return!0;const n=Rm(e);return n?Il(n,t):!0}function M7(e){const t=[];e.message&&t.push(e.message);let n;try{n=e.exception.values[e.exception.values.length-1]}catch{}return n&&n.value&&(t.push(n.value),n.type&&t.push(`${n.type}: ${n.value}`)),t}function j7(e){try{return e.exception.values[0].type==="SentryError"}catch{}return!1}function O7(e=[]){for(let t=e.length-1;t>=0;t--){const n=e[t];if(n&&n.filename!=="<anonymous>"&&n.filename!=="[native code]")return n.filename||null}return null}function Rm(e){try{let t;try{t=e.exception.values[0].stacktrace.frames}catch{}return t?O7(t):null}catch{return et&&pe.error(`Cannot extract url for event ${aa(e)}`),null}}function V7(e){return e.type||!e.exception||!e.exception.values||e.exception.values.length===0?!1:!e.message&&!e.exception.values.some(t=>t.stacktrace||t.type&&t.type!=="Error"||t.value)}const L7="Dedupe",N7=()=>{let e;return{name:L7,processEvent(t){if(t.type)return t;try{if(D7(t,e))return et&&pe.warn("Event dropped due to being a duplicate of previously captured event."),null}catch{}return e=t}}},B7=N7;function D7(e,t){return t?!!($7(e,t)||F7(e,t)):!1}function $7(e,t){const n=e.message,r=t.message;return!(!n&&!r||n&&!r||!n&&r||n!==r||!ej(e,t)||!Z3(e,t))}function F7(e,t){const n=sk(t),r=sk(e);return!(!n||!r||n.type!==r.type||n.value!==r.value||!ej(e,t)||!Z3(e,t))}function Z3(e,t){let n=M2(e),r=M2(t);if(!n&&!r)return!0;if(n&&!r||!n&&r||(n=n,r=r,r.length!==n.length))return!1;for(let i=0;i<r.length;i++){const s=r[i],o=n[i];if(s.filename!==o.filename||s.lineno!==o.lineno||s.colno!==o.colno||s.function!==o.function)return!1}return!0}function ej(e,t){let n=e.fingerprint,r=t.fingerprint;if(!n&&!r)return!0;if(n&&!r||!n&&r)return!1;n=n,r=r;try{return n.join("")===r.join("")}catch{return!1}}function sk(e){return e.exception&&e.exception.values&&e.exception.values[0]}function z7(e,t,n,r,i="auto.http.browser"){if(!e.fetchData)return;const s=Do()&&t(e.fetchData.url);if(e.endTimestamp&&s){const g=e.fetchData.__span;if(!g)return;const m=r[g];m&&(G7(m,e),delete r[g]);return}const o=Xt(),a=Et(),{method:l,url:c}=e.fetchData,u=H7(c),d=u?Rl(u).host:void 0,h=!!qr(),p=s&&h?Os({name:`${l} ${c}`,attributes:{url:c,type:"fetch","http.method":l,"http.url":u,"server.address":d,[Ln]:i,[Gl]:"http.client"}}):new od;if(e.fetchData.__span=p.spanContext().spanId,r[p.spanContext().spanId]=p,n(e.fetchData.url)&&a){const g=e.args[0];e.args[1]=e.args[1]||{};const m=e.args[1];m.headers=U7(g,a,o,m,Do()&&h?p:void 0)}return p}function U7(e,t,n,r,i){const s=hs(),{traceId:o,spanId:a,sampled:l,dsc:c}={...s.getPropagationContext(),...n.getPropagationContext()},u=i?V3(i):ex(o,a,l),d=T3(c||(i?cc(i):ty(o,t))),h=r.headers||(typeof Request<"u"&&No(e,Request)?e.headers:void 0);if(h)if(typeof Headers<"u"&&No(h,Headers)){const p=new Headers(h);if(p.set("sentry-trace",u),d){const g=p.get(Lc);if(g){const m=Pp(g);p.set(Lc,m?`${m},${d}`:d)}else p.set(Lc,d)}return p}else if(Array.isArray(h)){const p=[...h.filter(g=>!(Array.isArray(g)&&g[0]==="sentry-trace")).map(g=>{if(Array.isArray(g)&&g[0]===Lc&&typeof g[1]=="string"){const[m,b,...y]=g;return[m,Pp(b),...y]}else return g}),["sentry-trace",u]];return d&&p.push([Lc,d]),p}else{const p="baggage"in h?h.baggage:void 0;let g=[];return Array.isArray(p)?g=p.map(m=>typeof m=="string"?Pp(m):m).filter(m=>m===""):p&&g.push(Pp(p)),d&&g.push(d),{...h,"sentry-trace":u,baggage:g.length>0?g.join(","):void 0}}else return{"sentry-trace":u,baggage:d}}function H7(e){try{return new URL(e).href}catch{return}}function G7(e,t){if(t.response){M3(e,t.response.status);const n=t.response&&t.response.headers&&t.response.headers.get("content-length");if(n){const r=parseInt(n);r>0&&e.setAttribute("http.response_content_length",r)}}else t.error&&e.setStatus({code:tr,message:"internal_error"});e.end()}function Pp(e){return e.split(",").filter(t=>!t.split("=")[0].startsWith(ZS)).join(",")}const Ue=At;let pb=0;function tj(){return pb>0}function q7(){pb++,setTimeout(()=>{pb--})}function ju(e,t={},n){if(typeof e!="function")return e;try{const i=e.__sentry_wrapped__;if(i)return typeof i=="function"?i:e;if(XS(e))return e}catch{return e}const r=function(){const i=Array.prototype.slice.call(arguments);try{const s=i.map(o=>ju(o,t));return e.apply(this,s)}catch(s){throw q7(),X0(o=>{o.addEventProcessor(a=>(t.mechanism&&(sb(a,void 0),Gf(a,t.mechanism)),a.extra={...a.extra,arguments:i},a)),Ns(s)}),s}};try{for(const i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}catch{}p3(r,e),os(e,"__sentry_wrapped__",r);try{Object.getOwnPropertyDescriptor(r,"name").configurable&&Object.defineProperty(r,"name",{get(){return e.name}})}catch{}return r}const ii=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__;function ox(e,t){const n=ax(e,t),r={type:J7(t),value:X7(t)};return n.length&&(r.stacktrace={frames:n}),r.type===void 0&&r.value===""&&(r.value="Unrecoverable error caught"),r}function W7(e,t,n,r){const i=Et(),s=i&&i.getOptions().normalizeDepth,o=rU(t),a={__serialized__:C3(t,s)};if(o)return{exception:{values:[ox(e,o)]},extra:a};const l={exception:{values:[{type:Y0(t)?t.constructor.name:r?"UnhandledRejection":"Error",value:tU(t,{isUnhandledRejection:r})}]},extra:a};if(n){const c=ax(e,n);c.length&&(l.exception.values[0].stacktrace={frames:c})}return l}function Bv(e,t){return{exception:{values:[ox(e,t)]}}}function ax(e,t){const n=t.stacktrace||t.stack||"",r=Y7(t),i=Q7(t);try{return e(n,r,i)}catch{}return[]}const K7=/Minified React error #\d+;/i;function Y7(e){return e&&K7.test(e.message)?1:0}function Q7(e){return typeof e.framesToPop=="number"?e.framesToPop:0}function nj(e){return typeof WebAssembly<"u"&&typeof WebAssembly.Exception<"u"?e instanceof WebAssembly.Exception:!1}function J7(e){const t=e&&e.name;return!t&&nj(e)?e.message&&Array.isArray(e.message)&&e.message.length==2?e.message[0]:"WebAssembly.Exception":t}function X7(e){const t=e&&e.message;return t?t.error&&typeof t.error.message=="string"?t.error.message:nj(e)&&Array.isArray(e.message)&&e.message.length==2?e.message[1]:t:"No error message"}function Z7(e,t,n,r){const i=n&&n.syntheticException||void 0,s=lx(e,t,i,r);return Gf(s),s.level="error",n&&n.event_id&&(s.event_id=n.event_id),Hl(s)}function eU(e,t,n="info",r,i){const s=r&&r.syntheticException||void 0,o=gb(e,t,s,i);return o.level=n,r&&r.event_id&&(o.event_id=r.event_id),Hl(o)}function lx(e,t,n,r,i){let s;if(l3(t)&&t.error)return Bv(e,t.error);if(w2(t)||z6(t)){const o=t;if("stack"in t)s=Bv(e,t);else{const a=o.name||(w2(o)?"DOMError":"DOMException"),l=o.message?`${a}: ${o.message}`:a;s=gb(e,l,n,r),sb(s,l)}return"code"in o&&(s.tags={...s.tags,"DOMException.code":`${o.code}`}),s}return K0(t)?Bv(e,t):Pu(t)||Y0(t)?(s=W7(e,t,n,i),Gf(s,{synthetic:!0}),s):(s=gb(e,t,n,r),sb(s,`${t}`),Gf(s,{synthetic:!0}),s)}function gb(e,t,n,r){const i={};if(r&&n){const s=ax(e,n);s.length&&(i.exception={values:[{value:t,stacktrace:{frames:s}}]})}if(QS(t)){const{__sentry_template_string__:s,__sentry_template_values__:o}=t;return i.logentry={message:s,params:o},i}return i.message=t,i}function tU(e,{isUnhandledRejection:t}){const n=o8(e),r=t?"promise rejection":"exception";return l3(e)?`Event \`ErrorEvent\` captured as ${r} with message \`${e.message}\``:Y0(e)?`Event \`${nU(e)}\` (type=${e.type}) captured as ${r}`:`Object captured as ${r} with keys: ${n}`}function nU(e){try{const t=Object.getPrototypeOf(e);return t?t.constructor.name:void 0}catch{}}function rU(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t)){const n=e[t];if(n instanceof Error)return n}}function iU(e,{metadata:t,tunnel:n,dsn:r}){const i={event_id:e.event_id,sent_at:new Date().toISOString(),...t&&t.sdk&&{sdk:{name:t.sdk.name,version:t.sdk.version}},...!!n&&!!r&&{dsn:rd(r)}},s=sU(e);return id(i,[s])}function sU(e){return[{type:"user_report"},e]}class oU extends d7{constructor(t){const n={parentSpanIsAlwaysRootSpan:!0,...t},r=Ue.SENTRY_SDK_SOURCE||b8();X3(n,"browser",["browser"],r),super(n),n.sendClientReports&&Ue.document&&Ue.document.addEventListener("visibilitychange",()=>{Ue.document.visibilityState==="hidden"&&this._flushOutcomes()})}eventFromException(t,n){return Z7(this._options.stackParser,t,n,this._options.attachStacktrace)}eventFromMessage(t,n="info",r){return eU(this._options.stackParser,t,n,r,this._options.attachStacktrace)}captureUserFeedback(t){if(!this._isEnabled()){ii&&pe.warn("SDK not enabled, will not capture user feedback.");return}const n=iU(t,{metadata:this.getSdkMetadata(),dsn:this.getDsn(),tunnel:this.getOptions().tunnel});this.sendEnvelope(n)}_prepareEvent(t,n,r){return t.platform=t.platform||"javascript",super._prepareEvent(t,n,r)}}const wi=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,aU=(e,t)=>e>t[1]?"poor":e>t[0]?"needs-improvement":"good",ad=(e,t,n,r)=>{let i,s;return o=>{t.value>=0&&(o||r)&&(s=t.value-(i||0),(s||i===void 0)&&(i=t.value,t.delta=s,t.rating=aU(t.value,n),e(t)))}},He=At,lU=()=>`v3-${Date.now()}-${Math.floor(Math.random()*(9e12-1))+1e12}`,Lh=()=>He.performance&&performance.getEntriesByType&&performance.getEntriesByType("navigation")[0],Nh=()=>{const e=Lh();return e&&e.activationStart||0},ld=(e,t)=>{const n=Lh();let r="navigate";return n&&(He.document&&He.document.prerendering||Nh()>0?r="prerender":He.document&&He.document.wasDiscarded?r="restore":n.type&&(r=n.type.replace(/_/g,"-"))),{name:e,value:typeof t>"u"?-1:t,rating:"good",delta:0,entries:[],id:lU(),navigationType:r}},uc=(e,t,n)=>{try{if(PerformanceObserver.supportedEntryTypes.includes(e)){const r=new PerformanceObserver(i=>{Promise.resolve().then(()=>{t(i.getEntries())})});return r.observe(Object.assign({type:e,buffered:!0},n||{})),r}}catch{}},Bh=e=>{const t=n=>{(n.type==="pagehide"||He.document&&He.document.visibilityState==="hidden")&&e(n)};He.document&&(addEventListener("visibilitychange",t,!0),addEventListener("pagehide",t,!0))},cx=e=>{let t=!1;return n=>{t||(e(n),t=!0)}};let Wf=-1;const cU=()=>{Wf=He.document.visibilityState==="hidden"&&!He.document.prerendering?0:1/0},Mm=e=>{He.document.visibilityState==="hidden"&&Wf>-1&&(Wf=e.type==="visibilitychange"?e.timeStamp:0,removeEventListener("visibilitychange",Mm,!0),removeEventListener("prerenderingchange",Mm,!0))},uU=()=>{addEventListener("visibilitychange",Mm,!0),addEventListener("prerenderingchange",Mm,!0)},ny=()=>(He.document&&Wf<0&&(cU(),uU()),{get firstHiddenTime(){return Wf}}),Dh=e=>{He.document&&He.document.prerendering?addEventListener("prerenderingchange",()=>e(),!0):e()},dU=[1800,3e3],fU=(e,t={})=>{Dh(()=>{const n=ny(),r=ld("FCP");let i;const o=uc("paint",a=>{a.forEach(l=>{l.name==="first-contentful-paint"&&(o.disconnect(),l.startTime<n.firstHiddenTime&&(r.value=Math.max(l.startTime-Nh(),0),r.entries.push(l),i(!0)))})});o&&(i=ad(e,r,dU,t.reportAllChanges))})},hU=[.1,.25],pU=(e,t={})=>{fU(cx(()=>{const n=ld("CLS",0);let r,i=0,s=[];const o=l=>{l.forEach(c=>{if(!c.hadRecentInput){const u=s[0],d=s[s.length-1];i&&u&&d&&c.startTime-d.startTime<1e3&&c.startTime-u.startTime<5e3?(i+=c.value,s.push(c)):(i=c.value,s=[c])}}),i>n.value&&(n.value=i,n.entries=s,r())},a=uc("layout-shift",o);a&&(r=ad(e,n,hU,t.reportAllChanges),Bh(()=>{o(a.takeRecords()),r(!0)}),setTimeout(r,0))}))},gU=[100,300],mU=(e,t={})=>{Dh(()=>{const n=ny(),r=ld("FID");let i;const s=l=>{l.startTime<n.firstHiddenTime&&(r.value=l.processingStart-l.startTime,r.entries.push(l),i(!0))},o=l=>{l.forEach(s)},a=uc("first-input",o);i=ad(e,r,gU,t.reportAllChanges),a&&Bh(cx(()=>{o(a.takeRecords()),a.disconnect()}))})};let rj=0,Dv=1/0,Rp=0;const yU=e=>{e.forEach(t=>{t.interactionId&&(Dv=Math.min(Dv,t.interactionId),Rp=Math.max(Rp,t.interactionId),rj=Rp?(Rp-Dv)/7+1:0)})};let mb;const vU=()=>mb?rj:performance.interactionCount||0,AU=()=>{"interactionCount"in performance||mb||(mb=uc("event",yU,{type:"event",buffered:!0,durationThreshold:0}))},bU=[200,500],_U=0,ij=()=>vU()-_U,ok=10,xo=[],$v={},ak=e=>{const t=xo[xo.length-1],n=$v[e.interactionId];if(n||xo.length<ok||t&&e.duration>t.latency){if(n)n.entries.push(e),n.latency=Math.max(n.latency,e.duration);else{const r={id:e.interactionId,latency:e.duration,entries:[e]};$v[r.id]=r,xo.push(r)}xo.sort((r,i)=>i.latency-r.latency),xo.splice(ok).forEach(r=>{delete $v[r.id]})}},SU=()=>{const e=Math.min(xo.length-1,Math.floor(ij()/50));return xo[e]},xU=(e,t={})=>{Dh(()=>{AU();const n=ld("INP");let r;const i=o=>{o.forEach(l=>{l.interactionId&&ak(l),l.entryType==="first-input"&&!xo.some(u=>u.entries.some(d=>l.duration===d.duration&&l.startTime===d.startTime))&&ak(l)});const a=SU();a&&a.latency!==n.value&&(n.value=a.latency,n.entries=a.entries,r())},s=uc("event",i,{durationThreshold:t.durationThreshold!=null?t.durationThreshold:40});r=ad(e,n,bU,t.reportAllChanges),s&&("PerformanceEventTiming"in He&&"interactionId"in PerformanceEventTiming.prototype&&s.observe({type:"first-input",buffered:!0}),Bh(()=>{i(s.takeRecords()),n.value<0&&ij()>0&&(n.value=0,n.entries=[]),r(!0)}))})},wU=[2500,4e3],lk={},EU=(e,t={})=>{Dh(()=>{const n=ny(),r=ld("LCP");let i;const s=a=>{const l=a[a.length-1];l&&l.startTime<n.firstHiddenTime&&(r.value=Math.max(l.startTime-Nh(),0),r.entries=[l],i())},o=uc("largest-contentful-paint",s);if(o){i=ad(e,r,wU,t.reportAllChanges);const a=cx(()=>{lk[r.id]||(s(o.takeRecords()),o.disconnect(),lk[r.id]=!0,i(!0))});["keydown","click"].forEach(l=>{He.document&&addEventListener(l,()=>setTimeout(a,0),!0)}),Bh(a)}})},CU=[800,1800],yb=e=>{He.document&&He.document.prerendering?Dh(()=>yb(e)):He.document&&He.document.readyState!=="complete"?addEventListener("load",()=>yb(e),!0):setTimeout(e,0)},kU=(e,t={})=>{const n=ld("TTFB"),r=ad(e,n,CU,t.reportAllChanges);yb(()=>{const i=Lh();if(i){const s=i.responseStart;if(s<=0||s>performance.now())return;n.value=Math.max(s-Nh(),0),n.entries=[i],r(!0)}})},bf={},jm={};let sj,oj,aj,lj,cj;function uj(e,t=!1){return $h("cls",e,MU,sj,t)}function TU(e,t=!1){return $h("lcp",e,OU,aj,t)}function IU(e){return $h("fid",e,jU,oj)}function PU(e){return $h("ttfb",e,VU,lj)}function RU(e){return $h("inp",e,LU,cj)}function Kf(e,t){return dj(e,t),jm[e]||(NU(e),jm[e]=!0),fj(e,t)}function cd(e,t){const n=bf[e];if(!(!n||!n.length))for(const r of n)try{r(t)}catch(i){wi&&pe.error(`Error while triggering instrumentation handler.
Type: ${e}
Name: ${Bo(r)}
Error:`,i)}}function MU(){return pU(e=>{cd("cls",{metric:e}),sj=e},{reportAllChanges:!0})}function jU(){return mU(e=>{cd("fid",{metric:e}),oj=e})}function OU(){return EU(e=>{cd("lcp",{metric:e}),aj=e},{reportAllChanges:!0})}function VU(){return kU(e=>{cd("ttfb",{metric:e}),lj=e})}function LU(){return xU(e=>{cd("inp",{metric:e}),cj=e})}function $h(e,t,n,r,i=!1){dj(e,t);let s;return jm[e]||(s=n(),jm[e]=!0),r&&t({metric:r}),fj(e,t,i?s:void 0)}function NU(e){const t={};e==="event"&&(t.durationThreshold=0),uc(e,n=>{cd(e,{entries:n})},t)}function dj(e,t){bf[e]=bf[e]||[],bf[e].push(t)}function fj(e,t,n){return()=>{n&&n();const r=bf[e];if(!r)return;const i=r.indexOf(t);i!==-1&&r.splice(i,1)}}function BU(e){return"duration"in e}function Fv(e){return typeof e=="number"&&isFinite(e)}function Ou(e,t,n,{...r}){const i=vt(e).start_timestamp;return i&&i>t&&typeof e.updateStartTime=="function"&&e.updateStartTime(t),Pm(e,()=>{const s=Os({startTime:t,...r});return s&&s.end(n),s})}function hj(e){const t=Et();if(!t)return;const{name:n,transaction:r,attributes:i,startTime:s}=e,{release:o,environment:a}=t.getOptions(),l=t.getIntegrationByName("Replay"),c=l&&l.getReplayId(),u=Xt(),d=u.getUser(),h=d!==void 0?d.email||d.id||d.ip_address:void 0;let p;try{p=u.getScopeData().contexts.profile.profile_id}catch{}const g={release:o,environment:a,user:h||void 0,profile_id:p||void 0,replay_id:c||void 0,transaction:r,"user_agent.original":He.navigator&&He.navigator.userAgent,...i};return Os({name:n,attributes:g,startTime:s,experimental:{standalone:!0}})}function ux(){return He&&He.addEventListener&&He.performance}function Vn(e){return e/1e3}function DU(){let e=0,t,n;if(!FU())return;let r=!1;function i(){r||(r=!0,n&&$U(e,t,n),s())}const s=uj(({metric:o})=>{const a=o.entries[o.entries.length-1];a&&(e=o.value,t=a)},!0);Bh(()=>{i()}),setTimeout(()=>{const o=Et(),a=Co([o,"optionalAccess",d=>d.on,"call",d=>d("startNavigationSpan",()=>{i(),a&&a()})]),l=qr(),c=l&&Tr(l),u=c&&vt(c);u&&u.op==="pageload"&&(n=c.spanContext().spanId)},0)}function $U(e,t,n){wi&&pe.log(`Sending CLS span (${e})`);const r=Vn((ui||0)+(Co([t,"optionalAccess",l=>l.startTime])||0)),i=Xt().getScopeData().transactionName,s=t?zl(Co([t,"access",l=>l.sources,"access",l=>l[0],"optionalAccess",l=>l.node])):"Layout shift",o=gr({[Ln]:"auto.http.browser.cls",[Gl]:"ui.webvital.cls",[rx]:Co([t,"optionalAccess",l=>l.duration])||0,"sentry.pageload.span_id":n}),a=hj({name:s,transaction:i,attributes:o,startTime:r});Co([a,"optionalAccess",l=>l.addEvent,"call",l=>l("cls",{[Z0]:"",[ey]:e})]),Co([a,"optionalAccess",l=>l.end,"call",l=>l(r)])}function FU(){try{return Co([PerformanceObserver,"access",e=>e.supportedEntryTypes,"optionalAccess",e=>e.includes,"call",e=>e("layout-shift")])}catch{return!1}}const zU=2147483647;let ck=0,ur={},Ks,_f;function UU({recordClsStandaloneSpans:e}){const t=ux();if(t&&ui){t.mark&&He.performance.mark("sentry-tracing-init");const n=YU(),r=KU(),i=QU(),s=e?DU():WU();return()=>{n(),r(),i(),s&&s()}}return()=>{}}function HU(){Kf("longtask",({entries:e})=>{if(qr())for(const t of e){const n=Vn(ui+t.startTime),r=Vn(t.duration),i=Os({name:"Main UI thread blocked",op:"ui.long-task",startTime:n,attributes:{[Ln]:"auto.ui.browser.metrics"}});i&&i.end(n+r)}})}function GU(){new PerformanceObserver(t=>{if(qr())for(const n of t.getEntries()){if(!n.scripts[0])continue;const r=Vn(ui+n.startTime),i=Vn(n.duration),s={[Ln]:"auto.ui.browser.metrics"},o=n.scripts[0],{invoker:a,invokerType:l,sourceURL:c,sourceFunctionName:u,sourceCharPosition:d}=o;s["browser.script.invoker"]=a,s["browser.script.invoker_type"]=l,c&&(s["code.filepath"]=c),u&&(s["code.function"]=u),d!==-1&&(s["browser.script.source_char_position"]=d);const h=Os({name:"Main UI thread blocked",op:"ui.long-animation-frame",startTime:r,attributes:s});h&&h.end(r+i)}}).observe({type:"long-animation-frame",buffered:!0})}function qU(){Kf("event",({entries:e})=>{if(qr()){for(const t of e)if(t.name==="click"){const n=Vn(ui+t.startTime),r=Vn(t.duration),i={name:zl(t.target),op:`ui.interaction.${t.name}`,startTime:n,attributes:{[Ln]:"auto.ui.browser.metrics"}},s=d3(t.target);s&&(i.attributes["ui.component_name"]=s);const o=Os(i);o&&o.end(n+r)}}})}function WU(){return uj(({metric:e})=>{const t=e.entries[e.entries.length-1];t&&(wi&&pe.log(`[Measurements] Adding CLS ${e.value}`),ur.cls={value:e.value,unit:""},_f=t)},!0)}function KU(){return TU(({metric:e})=>{const t=e.entries[e.entries.length-1];t&&(wi&&pe.log("[Measurements] Adding LCP"),ur.lcp={value:e.value,unit:"millisecond"},Ks=t)},!0)}function YU(){return IU(({metric:e})=>{const t=e.entries[e.entries.length-1];if(!t)return;const n=Vn(ui),r=Vn(t.startTime);wi&&pe.log("[Measurements] Adding FID"),ur.fid={value:e.value,unit:"millisecond"},ur["mark.fid"]={value:n+r,unit:"second"}})}function QU(){return PU(({metric:e})=>{e.entries[e.entries.length-1]&&(wi&&pe.log("[Measurements] Adding TTFB"),ur.ttfb={value:e.value,unit:"millisecond"})})}function JU(e,t){const n=ux();if(!n||!He.performance.getEntries||!ui)return;wi&&pe.log("[Tracing] Adding & adjusting spans using Performance API");const r=Vn(ui),i=n.getEntries(),{op:s,start_timestamp:o}=vt(e);if(i.slice(ck).forEach(a=>{const l=Vn(a.startTime),c=Vn(Math.max(0,a.duration));if(!(s==="navigation"&&o&&r+l<o))switch(a.entryType){case"navigation":{ZU(e,a,r);break}case"mark":case"paint":case"measure":{XU(e,a,l,c,r);const u=ny(),d=a.startTime<u.firstHiddenTime;a.name==="first-paint"&&d&&(wi&&pe.log("[Measurements] Adding FP"),ur.fp={value:a.startTime,unit:"millisecond"}),a.name==="first-contentful-paint"&&d&&(wi&&pe.log("[Measurements] Adding FCP"),ur.fcp={value:a.startTime,unit:"millisecond"});break}case"resource":{t9(e,a,a.name,l,c,r);break}}}),ck=Math.max(i.length-1,0),n9(e),s==="pageload"){i9(ur);const a=ur["mark.fid"];a&&ur.fid&&(Ou(e,a.value,a.value+Vn(ur.fid.value),{name:"first input delay",op:"ui.action",attributes:{[Ln]:"auto.ui.browser.metrics"}}),delete ur["mark.fid"]),(!("fcp"in ur)||!t.recordClsOnPageloadSpan)&&delete ur.cls,Object.entries(ur).forEach(([l,c])=>{Ez(l,c.value,c.unit)}),e.setAttribute("performance.timeOrigin",r),e.setAttribute("performance.activationStart",Nh()),r9(e)}Ks=void 0,_f=void 0,ur={}}function XU(e,t,n,r,i){const s=Lh(),o=Vn(s?s.requestStart:0),a=i+Math.max(n,o),l=i+n,c=l+r,u={[Ln]:"auto.resource.browser.metrics"};return a!==l&&(u["sentry.browser.measure_happened_before_request"]=!0,u["sentry.browser.measure_start_time"]=a),Ou(e,a,c,{name:t.name,op:t.entryType,attributes:u}),a}function ZU(e,t,n){["unloadEvent","redirect","domContentLoadedEvent","loadEvent","connect"].forEach(r=>{Mp(e,t,r,n)}),Mp(e,t,"secureConnection",n,"TLS/SSL","connectEnd"),Mp(e,t,"fetch",n,"cache","domainLookupStart"),Mp(e,t,"domainLookup",n,"DNS"),e9(e,t,n)}function Mp(e,t,n,r,i,s){const o=s?t[s]:t[`${n}End`],a=t[`${n}Start`];!a||!o||Ou(e,r+Vn(a),r+Vn(o),{op:`browser.${i||n}`,name:t.name,attributes:{[Ln]:"auto.ui.browser.metrics"}})}function e9(e,t,n){const r=n+Vn(t.requestStart),i=n+Vn(t.responseEnd),s=n+Vn(t.responseStart);t.responseEnd&&(Ou(e,r,i,{op:"browser.request",name:t.name,attributes:{[Ln]:"auto.ui.browser.metrics"}}),Ou(e,s,i,{op:"browser.response",name:t.name,attributes:{[Ln]:"auto.ui.browser.metrics"}}))}function t9(e,t,n,r,i,s){if(t.initiatorType==="xmlhttprequest"||t.initiatorType==="fetch")return;const o=Rl(n),a={[Ln]:"auto.resource.browser.metrics"};zv(a,t,"transferSize","http.response_transfer_size"),zv(a,t,"encodedBodySize","http.response_content_length"),zv(a,t,"decodedBodySize","http.decoded_response_content_length"),"renderBlockingStatus"in t&&(a["resource.render_blocking_status"]=t.renderBlockingStatus),o.protocol&&(a["url.scheme"]=o.protocol.split(":").pop()),o.host&&(a["server.address"]=o.host),a["url.same_origin"]=n.includes(He.location.origin);const l=s+r,c=l+i;Ou(e,l,c,{name:n.replace(He.location.origin,""),op:t.initiatorType?`resource.${t.initiatorType}`:"resource.other",attributes:a})}function n9(e){const t=He.navigator;if(!t)return;const n=t.connection;n&&(n.effectiveType&&e.setAttribute("effectiveConnectionType",n.effectiveType),n.type&&e.setAttribute("connectionType",n.type),Fv(n.rtt)&&(ur["connection.rtt"]={value:n.rtt,unit:"millisecond"})),Fv(t.deviceMemory)&&e.setAttribute("deviceMemory",`${t.deviceMemory} GB`),Fv(t.hardwareConcurrency)&&e.setAttribute("hardwareConcurrency",String(t.hardwareConcurrency))}function r9(e){Ks&&(wi&&pe.log("[Measurements] Adding LCP Data"),Ks.element&&e.setAttribute("lcp.element",zl(Ks.element)),Ks.id&&e.setAttribute("lcp.id",Ks.id),Ks.url&&e.setAttribute("lcp.url",Ks.url.trim().slice(0,200)),e.setAttribute("lcp.size",Ks.size)),_f&&_f.sources&&(wi&&pe.log("[Measurements] Adding CLS Data"),_f.sources.forEach((t,n)=>e.setAttribute(`cls.source.${n+1}`,zl(t.node))))}function zv(e,t,n,r){const i=t[n];i!=null&&i<zU&&(e[r]=i)}function i9(e){const t=Lh();if(!t)return;const{responseStart:n,requestStart:r}=t;r<=n&&(wi&&pe.log("[Measurements] Adding TTFB Request Time"),e["ttfb.requestTime"]={value:n-r,unit:"millisecond"})}const s9=1e3;let uk,vb,Ab;function o9(e){const t="dom";Ha(t,e),Ga(t,a9)}function a9(){if(!He.document)return;const e=is.bind(null,"dom"),t=dk(e,!0);He.document.addEventListener("click",t,!1),He.document.addEventListener("keypress",t,!1),["EventTarget","Node"].forEach(n=>{const r=He[n]&&He[n].prototype;!r||!r.hasOwnProperty||!r.hasOwnProperty("addEventListener")||(_i(r,"addEventListener",function(i){return function(s,o,a){if(s==="click"||s=="keypress")try{const l=this,c=l.__sentry_instrumentation_handlers__=l.__sentry_instrumentation_handlers__||{},u=c[s]=c[s]||{refCount:0};if(!u.handler){const d=dk(e);u.handler=d,i.call(this,s,d,a)}u.refCount++}catch{}return i.call(this,s,o,a)}}),_i(r,"removeEventListener",function(i){return function(s,o,a){if(s==="click"||s=="keypress")try{const l=this,c=l.__sentry_instrumentation_handlers__||{},u=c[s];u&&(u.refCount--,u.refCount<=0&&(i.call(this,s,u.handler,a),u.handler=void 0,delete c[s]),Object.keys(c).length===0&&delete l.__sentry_instrumentation_handlers__)}catch{}return i.call(this,s,o,a)}}))})}function l9(e){if(e.type!==vb)return!1;try{if(!e.target||e.target._sentryId!==Ab)return!1}catch{}return!0}function c9(e,t){return e!=="keypress"?!1:!t||!t.tagName?!0:!(t.tagName==="INPUT"||t.tagName==="TEXTAREA"||t.isContentEditable)}function dk(e,t=!1){return n=>{if(!n||n._sentryCaptured)return;const r=u9(n);if(c9(n.type,r))return;os(n,"_sentryCaptured",!0),r&&!r._sentryId&&os(r,"_sentryId",hn());const i=n.type==="keypress"?"input":n.type;l9(n)||(e({event:n,name:i,global:t}),vb=n.type,Ab=r?r._sentryId:void 0),clearTimeout(uk),uk=He.setTimeout(()=>{Ab=void 0,vb=void 0},s9)}}function u9(e){try{return e.target}catch{return null}}let jp;function dx(e){const t="history";Ha(t,e),Ga(t,d9)}function d9(){if(!Y8())return;const e=He.onpopstate;He.onpopstate=function(...n){const r=He.location.href,i=jp;if(jp=r,is("history",{from:i,to:r}),e)try{return e.apply(this,n)}catch{}};function t(n){return function(...r){const i=r.length>2?r[2]:void 0;if(i){const s=jp,o=String(i);jp=o,is("history",{from:s,to:o})}return n.apply(this,r)}}_i(He.history,"pushState",t),_i(He.history,"replaceState",t)}const Og={};function f9(e){const t=Og[e];if(t)return t;let n=He[e];if(rb(n))return Og[e]=n.bind(He);const r=He.document;if(r&&typeof r.createElement=="function")try{const i=r.createElement("iframe");i.hidden=!0,r.head.appendChild(i);const s=i.contentWindow;s&&s[e]&&(n=s[e]),r.head.removeChild(i)}catch(i){wi&&pe.warn(`Could not create sandbox iframe for ${e} check, bailing to window.${e}: `,i)}return n&&(Og[e]=n.bind(He))}function fk(e){Og[e]=void 0}const zc="__sentry_xhr_v3__";function pj(e){const t="xhr";Ha(t,e),Ga(t,h9)}function h9(){if(!He.XMLHttpRequest)return;const e=XMLHttpRequest.prototype;e.open=new Proxy(e.open,{apply(t,n,r){const i=mr()*1e3,s=jo(r[0])?r[0].toUpperCase():void 0,o=p9(r[1]);if(!s||!o)return t.apply(n,r);n[zc]={method:s,url:o,request_headers:{}},s==="POST"&&o.match(/sentry_key/)&&(n.__sentry_own_request__=!0);const a=()=>{const l=n[zc];if(l&&n.readyState===4){try{l.status_code=n.status}catch{}const c={endTimestamp:mr()*1e3,startTimestamp:i,xhr:n};is("xhr",c)}};return"onreadystatechange"in n&&typeof n.onreadystatechange=="function"?n.onreadystatechange=new Proxy(n.onreadystatechange,{apply(l,c,u){return a(),l.apply(c,u)}}):n.addEventListener("readystatechange",a),n.setRequestHeader=new Proxy(n.setRequestHeader,{apply(l,c,u){const[d,h]=u,p=c[zc];return p&&jo(d)&&jo(h)&&(p.request_headers[d.toLowerCase()]=h),l.apply(c,u)}}),t.apply(n,r)}}),e.send=new Proxy(e.send,{apply(t,n,r){const i=n[zc];if(!i)return t.apply(n,r);r[0]!==void 0&&(i.body=r[0]);const s={startTimestamp:mr()*1e3,xhr:n};return is("xhr",s),t.apply(n,r)}})}function p9(e){if(jo(e))return e;try{return e.toString()}catch{}}const Uv=[],Vg=new Map;function g9(){if(ux()&&ui){const t=m9();return()=>{t()}}return()=>{}}const hk={click:"click",pointerdown:"click",pointerup:"click",mousedown:"click",mouseup:"click",touchstart:"click",touchend:"click",mouseover:"hover",mouseout:"hover",mouseenter:"hover",mouseleave:"hover",pointerover:"hover",pointerout:"hover",pointerenter:"hover",pointerleave:"hover",dragstart:"drag",dragend:"drag",drag:"drag",dragenter:"drag",dragleave:"drag",dragover:"drag",drop:"drag",keydown:"press",keyup:"press",keypress:"press",input:"press"};function m9(){return RU(({metric:e})=>{if(e.value==null)return;const t=e.entries.find(g=>g.duration===e.value&&hk[g.name]);if(!t)return;const{interactionId:n}=t,r=hk[t.name],i=Vn(ui+t.startTime),s=Vn(e.value),o=qr(),a=o?Tr(o):void 0,c=(n!=null?Vg.get(n):void 0)||a,u=c?vt(c).description:Xt().getScopeData().transactionName,d=zl(t.target),h=gr({[Ln]:"auto.http.browser.inp",[Gl]:`ui.interaction.${r}`,[rx]:t.duration}),p=hj({name:d,transaction:u,attributes:h,startTime:i});Co([p,"optionalAccess",g=>g.addEvent,"call",g=>g("inp",{[Z0]:"millisecond",[ey]:e.value})]),Co([p,"optionalAccess",g=>g.end,"call",g=>g(i+s)])})}function y9(e){const t=({entries:n})=>{const r=qr(),i=r&&Tr(r);n.forEach(s=>{if(!BU(s)||!i)return;const o=s.interactionId;if(o!=null&&!Vg.has(o)){if(Uv.length>10){const a=Uv.shift();Vg.delete(a)}Uv.push(o),Vg.set(o,i)}})};Kf("event",t),Kf("first-input",t)}function v9(e,t=f9("fetch")){let n=0,r=0;function i(s){const o=s.body.length;n+=o,r++;const a={body:s.body,method:"POST",referrerPolicy:"origin",headers:e.headers,keepalive:n<=6e4&&r<15,...e.fetchOptions};if(!t)return fk("fetch"),km("No fetch implementation available");try{return t(e.url,a).then(l=>(n-=o,r--,{statusCode:l.status,headers:{"x-sentry-rate-limits":l.headers.get("X-Sentry-Rate-Limits"),"retry-after":l.headers.get("Retry-After")}}))}catch(l){return fk("fetch"),n-=o,r--,km(l)}}return y7(e,i)}const A9=30,b9=50;function bb(e,t,n,r){const i={filename:e,function:t==="<anonymous>"?Ul:t,in_app:!0};return n!==void 0&&(i.lineno=n),r!==void 0&&(i.colno=r),i}const _9=/^\s*at (\S+?)(?::(\d+))(?::(\d+))\s*$/i,S9=/^\s*at (?:(.+?\)(?: \[.+\])?|.*?) ?\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,x9=/\((\S*)(?::(\d+))(?::(\d+))\)/,w9=e=>{const t=_9.exec(e);if(t){const[,r,i,s]=t;return bb(r,Ul,+i,+s)}const n=S9.exec(e);if(n){if(n[2]&&n[2].indexOf("eval")===0){const o=x9.exec(n[2]);o&&(n[2]=o[1],n[3]=o[2],n[4]=o[3])}const[i,s]=gj(n[1]||Ul,n[2]);return bb(s,i,n[3]?+n[3]:void 0,n[4]?+n[4]:void 0)}},E9=[A9,w9],C9=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:[-a-z]+)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,k9=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,T9=e=>{const t=C9.exec(e);if(t){if(t[3]&&t[3].indexOf(" > eval")>-1){const s=k9.exec(t[3]);s&&(t[1]=t[1]||"eval",t[3]=s[1],t[4]=s[2],t[5]="")}let r=t[3],i=t[1]||Ul;return[i,r]=gj(i,r),bb(r,i,t[4]?+t[4]:void 0,t[5]?+t[5]:void 0)}},I9=[b9,T9],P9=[E9,I9],R9=y3(...P9),gj=(e,t)=>{const n=e.indexOf("safari-extension")!==-1,r=e.indexOf("safari-web-extension")!==-1;return n||r?[e.indexOf("@")!==-1?e.split("@")[0]:Ul,n?`safari-extension:${t}`:`safari-web-extension:${t}`]:[e,t]},Op=1024,M9="Breadcrumbs",j9=(e={})=>{const t={console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0,...e};return{name:M9,setup(n){t.console&&u8(N9(n)),t.dom&&o9(L9(n,t.dom)),t.xhr&&pj(B9(n)),t.fetch&&b3(D9(n)),t.history&&dx($9(n)),t.sentry&&n.on("beforeSendEvent",V9(n))}}},O9=j9;function V9(e){return function(n){Et()===e&&ql({category:`sentry.${n.type==="transaction"?"transaction":"event"}`,event_id:n.event_id,level:n.level,message:aa(n)},{event:n})}}function L9(e,t){return function(r){if(Et()!==e)return;let i,s,o=typeof t=="object"?t.serializeAttribute:void 0,a=typeof t=="object"&&typeof t.maxStringLength=="number"?t.maxStringLength:void 0;a&&a>Op&&(ii&&pe.warn(`\`dom.maxStringLength\` cannot exceed ${Op}, but a value of ${a} was configured. Sentry will use ${Op} instead.`),a=Op),typeof o=="string"&&(o=[o]);try{const c=r.event,u=F9(c)?c.target:c;i=zl(u,{keyAttrs:o,maxStringLength:a}),s=d3(u)}catch{i="<unknown>"}if(i.length===0)return;const l={category:`ui.${r.name}`,message:i};s&&(l.data={"ui.component_name":s}),ql(l,{event:r.event,name:r.name,global:r.global})}}function N9(e){return function(n){if(Et()!==e)return;const r={category:"console",data:{arguments:n.args,logger:"console"},level:T8(n.level),message:E2(n.args," ")};if(n.level==="assert")if(n.args[0]===!1)r.message=`Assertion failed: ${E2(n.args.slice(1)," ")||"console.assert"}`,r.data.arguments=n.args.slice(1);else return;ql(r,{input:n.args,level:n.level})}}function B9(e){return function(n){if(Et()!==e)return;const{startTimestamp:r,endTimestamp:i}=n,s=n.xhr[zc];if(!r||!i||!s)return;const{method:o,url:a,status_code:l,body:c}=s,u={method:o,url:a,status_code:l},d={xhr:n.xhr,input:c,startTimestamp:r,endTimestamp:i},h=u3(l);ql({category:"xhr",data:u,type:"http",level:h},d)}}function D9(e){return function(n){if(Et()!==e)return;const{startTimestamp:r,endTimestamp:i}=n;if(i&&!(n.fetchData.url.match(/sentry_key/)&&n.fetchData.method==="POST"))if(n.error){const s=n.fetchData,o={data:n.error,input:n.args,startTimestamp:r,endTimestamp:i};ql({category:"fetch",data:s,level:"error",type:"http"},o)}else{const s=n.response,o={...n.fetchData,status_code:s&&s.status},a={input:n.args,response:s,startTimestamp:r,endTimestamp:i},l=u3(o.status_code);ql({category:"fetch",data:o,type:"http",level:l},a)}}}function $9(e){return function(n){if(Et()!==e)return;let r=n.from,i=n.to;const s=Rl(Ue.location.href);let o=r?Rl(r):void 0;const a=Rl(i);(!o||!o.path)&&(o=s),s.protocol===a.protocol&&s.host===a.host&&(i=a.relative),s.protocol===o.protocol&&s.host===o.host&&(r=o.relative),ql({category:"navigation",data:{from:r,to:i}})}}function F9(e){return!!e&&!!e.target}const z9=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","BroadcastChannel","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","SharedWorker","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],U9="BrowserApiErrors",H9=(e={})=>{const t={XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0,...e};return{name:U9,setupOnce(){t.setTimeout&&_i(Ue,"setTimeout",pk),t.setInterval&&_i(Ue,"setInterval",pk),t.requestAnimationFrame&&_i(Ue,"requestAnimationFrame",q9),t.XMLHttpRequest&&"XMLHttpRequest"in Ue&&_i(XMLHttpRequest.prototype,"send",W9);const n=t.eventTarget;n&&(Array.isArray(n)?n:z9).forEach(K9)}}},G9=H9;function pk(e){return function(...t){const n=t[0];return t[0]=ju(n,{mechanism:{data:{function:Bo(e)},handled:!1,type:"instrument"}}),e.apply(this,t)}}function q9(e){return function(t){return e.apply(this,[ju(t,{mechanism:{data:{function:"requestAnimationFrame",handler:Bo(e)},handled:!1,type:"instrument"}})])}}function W9(e){return function(...t){const n=this;return["onload","onerror","onprogress","onreadystatechange"].forEach(i=>{i in n&&typeof n[i]=="function"&&_i(n,i,function(s){const o={mechanism:{data:{function:i,handler:Bo(s)},handled:!1,type:"instrument"}},a=XS(s);return a&&(o.mechanism.data.handler=Bo(a)),ju(s,o)})}),e.apply(this,t)}}function K9(e){const t=Ue,n=t[e]&&t[e].prototype;!n||!n.hasOwnProperty||!n.hasOwnProperty("addEventListener")||(_i(n,"addEventListener",function(r){return function(i,s,o){try{typeof s.handleEvent=="function"&&(s.handleEvent=ju(s.handleEvent,{mechanism:{data:{function:"handleEvent",handler:Bo(s),target:e},handled:!1,type:"instrument"}}))}catch{}return r.apply(this,[i,ju(s,{mechanism:{data:{function:"addEventListener",handler:Bo(s),target:e},handled:!1,type:"instrument"}}),o])}}),_i(n,"removeEventListener",function(r){return function(i,s,o){const a=s;try{const l=a&&a.__sentry_wrapped__;l&&r.call(this,i,l,o)}catch{}return r.call(this,i,a,o)}}))}const Y9="GlobalHandlers",Q9=(e={})=>{const t={onerror:!0,onunhandledrejection:!0,...e};return{name:Y9,setupOnce(){Error.stackTraceLimit=50},setup(n){t.onerror&&(X9(n),gk("onerror")),t.onunhandledrejection&&(Z9(n),gk("onunhandledrejection"))}}},J9=Q9;function X9(e){S3(t=>{const{stackParser:n,attachStacktrace:r}=mj();if(Et()!==e||tj())return;const{msg:i,url:s,line:o,column:a,error:l}=t,c=nH(lx(n,l||i,void 0,r,!1),s,o,a);c.level="error",G3(c,{originalException:l,mechanism:{handled:!1,type:"onerror"}})})}function Z9(e){x3(t=>{const{stackParser:n,attachStacktrace:r}=mj();if(Et()!==e||tj())return;const i=eH(t),s=JS(i)?tH(i):lx(n,i,void 0,r,!0);s.level="error",G3(s,{originalException:i,mechanism:{handled:!1,type:"onunhandledrejection"}})})}function eH(e){if(JS(e))return e;try{if("reason"in e)return e.reason;if("detail"in e&&"reason"in e.detail)return e.detail.reason}catch{}return e}function tH(e){return{exception:{values:[{type:"UnhandledRejection",value:`Non-Error promise rejection captured with value: ${String(e)}`}]}}}function nH(e,t,n,r){const i=e.exception=e.exception||{},s=i.values=i.values||[],o=s[0]=s[0]||{},a=o.stacktrace=o.stacktrace||{},l=a.frames=a.frames||[],c=isNaN(parseInt(r,10))?void 0:r,u=isNaN(parseInt(n,10))?void 0:n,d=jo(t)&&t.length>0?t:J6();return l.length===0&&l.push({colno:c,filename:d,function:Ul,in_app:!0,lineno:u}),e}function gk(e){ii&&pe.log(`Global Handler attached: ${e}`)}function mj(){const e=Et();return e&&e.getOptions()||{stackParser:()=>[],attachStacktrace:!1}}const rH=()=>({name:"HttpContext",preprocessEvent(e){if(!Ue.navigator&&!Ue.location&&!Ue.document)return;const t=e.request&&e.request.url||Ue.location&&Ue.location.href,{referrer:n}=Ue.document||{},{userAgent:r}=Ue.navigator||{},i={...e.request&&e.request.headers,...n&&{Referer:n},...r&&{"User-Agent":r}},s={...e.request,...t&&{url:t},headers:i};e.request=s}}),iH="cause",sH=5,oH="LinkedErrors",aH=(e={})=>{const t=e.limit||sH,n=e.key||iH;return{name:oH,preprocessEvent(r,i,s){const o=s.getOptions();W6(ox,o.stackParser,o.maxValueLength,n,t,r,i)}}},lH=aH;function cH(e){return[E7(),_7(),G9(),O9(),J9(),lH(),B7(),rH()]}function uH(e={}){const t={defaultIntegrations:cH(),release:typeof __SENTRY_RELEASE__=="string"?__SENTRY_RELEASE__:Ue.SENTRY_RELEASE&&Ue.SENTRY_RELEASE.id?Ue.SENTRY_RELEASE.id:void 0,autoSessionTracking:!0,sendClientReports:!0};return e.defaultIntegrations==null&&delete e.defaultIntegrations,{...t,...e}}function dH(){const e=typeof Ue.window<"u"&&Ue;if(!e)return!1;const t=e.chrome?"chrome":"browser",n=e[t],r=n&&n.runtime&&n.runtime.id,i=Ue.location&&Ue.location.href||"",s=["chrome-extension:","moz-extension:","ms-browser-extension:","safari-web-extension:"],o=!!r&&Ue===Ue.top&&s.some(l=>i.startsWith(`${l}//`)),a=typeof e.nw<"u";return!!r&&!o&&!a}function fH(e={}){const t=uH(e);if(dH()){jh(()=>{console.error("[Sentry] You cannot run Sentry this way in a browser extension, check: https://docs.sentry.io/platforms/javascript/best-practices/browser-extensions/")});return}ii&&(v3()||pe.warn("No Fetch API detected. The Sentry SDK requires a Fetch API compatible environment to send events. Please add a Fetch API polyfill."));const n={...t,stackParser:l8(t.stackParser||R9),integrations:c7(t),transport:t.transport||v9},r=p7(oU,n);return t.autoSessionTracking&&hH(),r}function mk(e={}){if(!Ue.document){ii&&pe.error("Global document not defined in showReportDialog call");return}const t=Xt(),n=t.getClient(),r=n&&n.getDsn();if(!r){ii&&pe.error("DSN not configured for showReportDialog call");return}if(t&&(e.user={...t.getUser(),...e.user}),!e.eventId){const a=n7();a&&(e.eventId=a)}const i=Ue.document.createElement("script");i.async=!0,i.crossOrigin="anonymous",i.src=a7(r,e),e.onLoad&&(i.onload=e.onLoad);const{onClose:s}=e;if(s){const a=l=>{if(l.data==="__sentry_reportdialog_closed__")try{s()}finally{Ue.removeEventListener("message",a)}};Ue.addEventListener("message",a)}const o=Ue.document.head||Ue.document.body;o?o.appendChild(i):ii&&pe.error("Not injecting report dialog. No injection point found in HTML")}function hH(){if(typeof Ue.document>"u"){ii&&pe.warn("Session tracking in non-browser environment with @sentry/browser is not supported.");return}J2({ignoreDuration:!0}),X2(),dx(({from:e,to:t})=>{e!==void 0&&e!==t&&(J2({ignoreDuration:!0}),X2())})}const yk=new WeakMap,Hv=new Map,Lg={traceFetch:!0,traceXHR:!0,enableHTTPTimings:!0,trackFetchStreamPerformance:!1};function pH(e,t){const{traceFetch:n,traceXHR:r,trackFetchStreamPerformance:i,shouldCreateSpanForRequest:s,enableHTTPTimings:o,tracePropagationTargets:a}={traceFetch:Lg.traceFetch,traceXHR:Lg.traceXHR,trackFetchStreamPerformance:Lg.trackFetchStreamPerformance,...t},l=typeof s=="function"?s:d=>!0,c=d=>vH(d,a),u={};n&&(e.addEventProcessor(d=>(d.type==="transaction"&&d.spans&&d.spans.forEach(h=>{if(h.op==="http.client"){const p=Hv.get(h.span_id);p&&(h.timestamp=p/1e3,Hv.delete(h.span_id))}}),d)),i&&p8(d=>{if(d.response){const h=yk.get(d.response);h&&d.endTimestamp&&Hv.set(h,d.endTimestamp)}}),b3(d=>{const h=z7(d,l,c,u);if(d.response&&d.fetchData.__span&&yk.set(d.response,d.fetchData.__span),h){const p=yj(d.fetchData.url),g=p?Rl(p).host:void 0;h.setAttributes({"http.url":p,"server.address":g})}o&&h&&vk(h)})),r&&pj(d=>{const h=AH(d,l,c,u);o&&h&&vk(h)})}function gH(e){return e.entryType==="resource"&&"initiatorType"in e&&typeof e.nextHopProtocol=="string"&&(e.initiatorType==="fetch"||e.initiatorType==="xmlhttprequest")}function vk(e){const{url:t}=vt(e).data||{};if(!t||typeof t!="string")return;const n=Kf("resource",({entries:r})=>{r.forEach(i=>{gH(i)&&i.name.endsWith(t)&&(yH(i).forEach(o=>e.setAttribute(...o)),setTimeout(n))})})}function mH(e){let t="unknown",n="unknown",r="";for(const i of e){if(i==="/"){[t,n]=e.split("/");break}if(!isNaN(Number(i))){t=r==="h"?"http":r,n=e.split(r)[1];break}r+=i}return r===e&&(t=r),{name:t,version:n}}function Gs(e=0){return((ui||performance.timeOrigin)+e)/1e3}function yH(e){const{name:t,version:n}=mH(e.nextHopProtocol),r=[];return r.push(["network.protocol.version",n],["network.protocol.name",t]),ui?[...r,["http.request.redirect_start",Gs(e.redirectStart)],["http.request.fetch_start",Gs(e.fetchStart)],["http.request.domain_lookup_start",Gs(e.domainLookupStart)],["http.request.domain_lookup_end",Gs(e.domainLookupEnd)],["http.request.connect_start",Gs(e.connectStart)],["http.request.secure_connection_start",Gs(e.secureConnectionStart)],["http.request.connection_end",Gs(e.connectEnd)],["http.request.request_start",Gs(e.requestStart)],["http.request.response_start",Gs(e.responseStart)],["http.request.response_end",Gs(e.responseEnd)]]:r}function vH(e,t){const n=Ue.location&&Ue.location.href;if(n){let r,i;try{r=new URL(e,n),i=new URL(n).origin}catch{return!1}const s=r.origin===i;return t?Il(r.toString(),t)||s&&Il(r.pathname,t):s}else{const r=!!e.match(/^\/(?!\/)/);return t?Il(e,t):r}}function AH(e,t,n,r){const i=e.xhr,s=i&&i[zc];if(!i||i.__sentry_own_request__||!s)return;const o=Do()&&t(s.url);if(e.endTimestamp&&o){const h=i.__sentry_xhr_span_id__;if(!h)return;const p=r[h];p&&s.status_code!==void 0&&(M3(p,s.status_code),p.end(),delete r[h]);return}const a=yj(s.url),l=a?Rl(a).host:void 0,c=!!qr(),u=o&&c?Os({name:`${s.method} ${s.url}`,attributes:{type:"xhr","http.method":s.method,"http.url":a,url:s.url,"server.address":l,[Ln]:"auto.http.browser",[Gl]:"http.client"}}):new od;i.__sentry_xhr_span_id__=u.spanContext().spanId,r[i.__sentry_xhr_span_id__]=u;const d=Et();return i.setRequestHeader&&n(s.url)&&d&&bH(i,d,Do()&&c?u:void 0),u}function bH(e,t,n){const r=Xt(),i=hs(),{traceId:s,spanId:o,sampled:a,dsc:l}={...i.getPropagationContext(),...r.getPropagationContext()},c=n&&Do()?V3(n):ex(s,o,a),u=T3(l||(n?cc(n):ty(s,t)));_H(e,c,u)}function _H(e,t,n){try{e.setRequestHeader("sentry-trace",t),n&&e.setRequestHeader(Lc,n)}catch{}}function yj(e){try{return new URL(e,Ue.location.origin).href}catch{return}}function SH(){Ue&&Ue.document?Ue.document.addEventListener("visibilitychange",()=>{const e=qr();if(!e)return;const t=Tr(e);if(Ue.document.hidden&&t){const n="cancelled",{op:r,status:i}=vt(t);ii&&pe.log(`[Tracing] Transaction: ${n} -> since tab moved to the background, op: ${r}`),i||t.setStatus({code:tr,message:n}),t.setAttribute("sentry.cancellation_reason","document.hidden"),t.end()}}):ii&&pe.warn("[Tracing] Could not set up background tab detection due to lack of global document")}const xH="BrowserTracing",wH={...jg,instrumentNavigation:!0,instrumentPageLoad:!0,markBackgroundSpan:!0,enableLongTask:!0,enableLongAnimationFrame:!0,enableInp:!0,_experiments:{},...Lg},EH=(e={})=>{mz();const{enableInp:t,enableLongTask:n,enableLongAnimationFrame:r,_experiments:{enableInteractions:i,enableStandaloneClsSpans:s},beforeStartSpan:o,idleTimeout:a,finalTimeout:l,childSpanTimeout:c,markBackgroundSpan:u,traceFetch:d,traceXHR:h,trackFetchStreamPerformance:p,shouldCreateSpanForRequest:g,enableHTTPTimings:m,instrumentPageLoad:b,instrumentNavigation:y}={...wH,...e},v=UU({recordClsStandaloneSpans:s||!1});t&&g9(),r&&At.PerformanceObserver&&PerformanceObserver.supportedEntryTypes&&PerformanceObserver.supportedEntryTypes.includes("long-animation-frame")?GU():n&&HU(),i&&qU();const _={name:void 0,source:void 0};function x(S,E){const C=E.op==="pageload",k=o?o(E):E,O=k.attributes||{};E.name!==k.name&&(O[va]="custom",k.attributes=O),_.name=k.name,_.source=O[va];const w=H3(k,{idleTimeout:a,finalTimeout:l,childSpanTimeout:c,disableAutoFinish:C,beforeSpanEnd:N=>{v(),JU(N,{recordClsOnPageloadSpan:!s})}});function M(){["interactive","complete"].includes(Ue.document.readyState)&&S.emit("idleSpanEnableAutoFinish",w)}return C&&Ue.document&&(Ue.document.addEventListener("readystatechange",()=>{M()}),M()),w}return{name:xH,afterAllSetup(S){let E,C=Ue.location&&Ue.location.href;S.on("startNavigationSpan",k=>{Et()===S&&(E&&!vt(E).timestamp&&(ii&&pe.log(`[Tracing] Finishing current root span with op: ${vt(E).op}`),E.end()),E=x(S,{op:"navigation",...k}))}),S.on("startPageLoadSpan",(k,O={})=>{if(Et()!==S)return;E&&!vt(E).timestamp&&(ii&&pe.log(`[Tracing] Finishing current root span with op: ${vt(E).op}`),E.end());const w=O.sentryTrace||Ak("sentry-trace"),M=O.baggage||Ak("baggage"),N=V8(w,M);Xt().setPropagationContext(N),E=x(S,{op:"pageload",...k})}),S.on("spanEnd",k=>{const O=vt(k).op;if(k!==Tr(k)||O!=="navigation"&&O!=="pageload")return;const w=Xt(),M=w.getPropagationContext();w.setPropagationContext({...M,sampled:M.sampled!==void 0?M.sampled:lc(k),dsc:M.dsc||cc(k)})}),Ue.location&&(b&&CH(S,{name:Ue.location.pathname,startTime:ui?ui/1e3:void 0,attributes:{[va]:"url",[Ln]:"auto.pageload.browser"}}),y&&dx(({to:k,from:O})=>{if(O===void 0&&C&&C.indexOf(k)!==-1){C=void 0;return}O!==k&&(C=void 0,kH(S,{name:Ue.location.pathname,attributes:{[va]:"url",[Ln]:"auto.navigation.browser"}}))})),u&&SH(),i&&TH(a,l,c,_),t&&y9(),pH(S,{traceFetch:d,traceXHR:h,trackFetchStreamPerformance:p,tracePropagationTargets:S.getOptions().tracePropagationTargets,shouldCreateSpanForRequest:g,enableHTTPTimings:m})}}};function CH(e,t,n){e.emit("startPageLoadSpan",t,n),Xt().setTransactionName(t.name);const r=qr();return(r&&vt(r).op)==="pageload"?r:void 0}function kH(e,t){hs().setPropagationContext(Tm()),Xt().setPropagationContext(Tm()),e.emit("startNavigationSpan",t),Xt().setTransactionName(t.name);const n=qr();return(n&&vt(n).op)==="navigation"?n:void 0}function Ak(e){const t=X6(`meta[name=${e}]`);return t?t.getAttribute("content"):void 0}function TH(e,t,n,r){let i;const s=()=>{const o="ui.action.click",a=qr(),l=a&&Tr(a);if(l){const c=vt(l).op;if(["navigation","pageload"].includes(c)){ii&&pe.warn(`[Tracing] Did not create ${o} span because a pageload or navigation span is in progress.`);return}}if(i&&(i.setAttribute(ub,"interactionInterrupted"),i.end(),i=void 0),!r.name){ii&&pe.warn(`[Tracing] Did not create ${o} transaction because _latestRouteName is missing.`);return}i=H3({name:r.name,op:o,attributes:{[va]:r.source||"url"}},{idleTimeout:e,finalTimeout:t,childSpanTimeout:n})};Ue.document&&addEventListener("click",s,{once:!1,capture:!0})}function IH(e){const t={...e};return X3(t,"react"),e7("react",{version:A.version}),fH(t)}function PH(e){const t=e.match(/^([^.]+)/);return t!==null&&parseInt(t[0])>=17}function RH(e,t){const n=new WeakSet;function r(i,s){if(!n.has(i)){if(i.cause)return n.add(i),r(i.cause,s);i.cause=s}}r(e,t)}function MH(e,{componentStack:t},n){if(PH(A.version)&&K0(e)&&t){const r=new Error(e.message);r.name=`React ErrorBoundary ${e.name}`,r.stack=t,RH(e,r)}return Ns(e,{...n,captureContext:{contexts:{react:{componentStack:t}}}})}var vj={exports:{}},Mt={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var or=typeof Symbol=="function"&&Symbol.for,fx=or?Symbol.for("react.element"):60103,hx=or?Symbol.for("react.portal"):60106,ry=or?Symbol.for("react.fragment"):60107,iy=or?Symbol.for("react.strict_mode"):60108,sy=or?Symbol.for("react.profiler"):60114,oy=or?Symbol.for("react.provider"):60109,ay=or?Symbol.for("react.context"):60110,px=or?Symbol.for("react.async_mode"):60111,ly=or?Symbol.for("react.concurrent_mode"):60111,cy=or?Symbol.for("react.forward_ref"):60112,uy=or?Symbol.for("react.suspense"):60113,jH=or?Symbol.for("react.suspense_list"):60120,dy=or?Symbol.for("react.memo"):60115,fy=or?Symbol.for("react.lazy"):60116,OH=or?Symbol.for("react.block"):60121,VH=or?Symbol.for("react.fundamental"):60117,LH=or?Symbol.for("react.responder"):60118,NH=or?Symbol.for("react.scope"):60119;function Oi(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case fx:switch(e=e.type,e){case px:case ly:case ry:case sy:case iy:case uy:return e;default:switch(e=e&&e.$$typeof,e){case ay:case cy:case fy:case dy:case oy:return e;default:return t}}case hx:return t}}}function Aj(e){return Oi(e)===ly}Mt.AsyncMode=px;Mt.ConcurrentMode=ly;Mt.ContextConsumer=ay;Mt.ContextProvider=oy;Mt.Element=fx;Mt.ForwardRef=cy;Mt.Fragment=ry;Mt.Lazy=fy;Mt.Memo=dy;Mt.Portal=hx;Mt.Profiler=sy;Mt.StrictMode=iy;Mt.Suspense=uy;Mt.isAsyncMode=function(e){return Aj(e)||Oi(e)===px};Mt.isConcurrentMode=Aj;Mt.isContextConsumer=function(e){return Oi(e)===ay};Mt.isContextProvider=function(e){return Oi(e)===oy};Mt.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===fx};Mt.isForwardRef=function(e){return Oi(e)===cy};Mt.isFragment=function(e){return Oi(e)===ry};Mt.isLazy=function(e){return Oi(e)===fy};Mt.isMemo=function(e){return Oi(e)===dy};Mt.isPortal=function(e){return Oi(e)===hx};Mt.isProfiler=function(e){return Oi(e)===sy};Mt.isStrictMode=function(e){return Oi(e)===iy};Mt.isSuspense=function(e){return Oi(e)===uy};Mt.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===ry||e===ly||e===sy||e===iy||e===uy||e===jH||typeof e=="object"&&e!==null&&(e.$$typeof===fy||e.$$typeof===dy||e.$$typeof===oy||e.$$typeof===ay||e.$$typeof===cy||e.$$typeof===VH||e.$$typeof===LH||e.$$typeof===NH||e.$$typeof===OH)};Mt.typeOf=Oi;vj.exports=Mt;var BH=vj.exports,gx=BH,DH={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},$H={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},FH={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},bj={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},mx={};mx[gx.ForwardRef]=FH;mx[gx.Memo]=bj;function bk(e){return gx.isMemo(e)?bj:mx[e.$$typeof]||DH}var zH=Object.defineProperty,UH=Object.getOwnPropertyNames,_k=Object.getOwnPropertySymbols,HH=Object.getOwnPropertyDescriptor,GH=Object.getPrototypeOf,Sk=Object.prototype;function _j(e,t,n){if(typeof t!="string"){if(Sk){var r=GH(t);r&&r!==Sk&&_j(e,r,n)}var i=UH(t);_k&&(i=i.concat(_k(t)));for(var s=bk(e),o=bk(t),a=0;a<i.length;++a){var l=i[a];if(!$H[l]&&!(n&&n[l])&&!(o&&o[l])&&!(s&&s[l])){var c=HH(t,l);try{zH(e,l,c)}catch{}}}}return e}var qH=_j;const WH=Ar(qH),KH="ui.react.render",YH="ui.react.update",QH="ui.react.mount",JH="unknown";class Sj extends A.Component{static __initStatic(){this.defaultProps={disabled:!1,includeRender:!0,includeUpdates:!0}}constructor(t){super(t);const{name:n,disabled:r=!1}=this.props;r||(this._mountSpan=Os({name:`<${n}>`,onlyIfParent:!0,op:QH,attributes:{[Ln]:"auto.ui.react.profiler","ui.component_name":n}}))}componentDidMount(){this._mountSpan&&this._mountSpan.end()}shouldComponentUpdate({updateProps:t,includeUpdates:n=!0}){if(n&&this._mountSpan&&t!==this.props.updateProps){const r=Object.keys(t).filter(i=>t[i]!==this.props.updateProps[i]);if(r.length>0){const i=mr();this._updateSpan=Pm(this._mountSpan,()=>Os({name:`<${this.props.name}>`,onlyIfParent:!0,op:YH,startTime:i,attributes:{[Ln]:"auto.ui.react.profiler","ui.component_name":this.props.name,"ui.react.changed_props":r}}))}}return!0}componentDidUpdate(){this._updateSpan&&(this._updateSpan.end(),this._updateSpan=void 0)}componentWillUnmount(){const t=mr(),{name:n,includeRender:r=!0}=this.props;if(this._mountSpan&&r){const i=vt(this._mountSpan).timestamp;Pm(this._mountSpan,()=>{const s=Os({onlyIfParent:!0,name:`<${n}>`,op:KH,startTime:i,attributes:{[Ln]:"auto.ui.react.profiler","ui.component_name":n}});s&&s.end(t)})}}render(){return this.props.children}}Sj.__initStatic();function XH(e,t){const n=e.displayName||e.name||JH,r=i=>A.createElement(Sj,{...t,name:n,updateProps:i},A.createElement(e,{...i}));return r.displayName=`profiler(${n})`,WH(r,e),r}const ZH=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,xk={componentStack:null,error:null,eventId:null};class yx extends A.Component{constructor(t){super(t),yx.prototype.__init.call(this),this.state=xk,this._openFallbackReportDialog=!0;const n=Et();n&&t.showDialog&&(this._openFallbackReportDialog=!1,this._cleanupHook=n.on("afterSendEvent",r=>{!r.type&&this._lastEventId&&r.event_id===this._lastEventId&&mk({...t.dialogOptions,eventId:this._lastEventId})}))}componentDidCatch(t,n){const{componentStack:r}=n,i=r??void 0,{beforeCapture:s,onError:o,showDialog:a,dialogOptions:l}=this.props;X0(c=>{s&&s(c,t,i);const u=MH(t,n,{mechanism:{handled:!!this.props.fallback}});o&&o(t,i,u),a&&(this._lastEventId=u,this._openFallbackReportDialog&&mk({...l,eventId:u})),this.setState({error:t,componentStack:r,eventId:u})})}componentDidMount(){const{onMount:t}=this.props;t&&t()}componentWillUnmount(){const{error:t,componentStack:n,eventId:r}=this.state,{onUnmount:i}=this.props;i&&i(t,n,r),this._cleanupHook&&(this._cleanupHook(),this._cleanupHook=void 0)}__init(){this.resetErrorBoundary=()=>{const{onReset:t}=this.props,{error:n,componentStack:r,eventId:i}=this.state;t&&t(n,r,i),this.setState(xk)}}render(){const{fallback:t,children:n}=this.props,r=this.state;if(r.error){let i;return typeof t=="function"?i=A.createElement(t,{error:r.error,componentStack:r.componentStack,resetError:this.resetErrorBoundary,eventId:r.eventId}):i=t,A.isValidElement(i)?i:(t&&ZH&&pe.warn("fallback did not produce a valid ReactElement"),null)}return typeof n=="function"?n():n}}const eG="modulepreload",tG=function(e){return"/"+e},wk={},ud=function(t,n,r){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));i=Promise.allSettled(n.map(l=>{if(l=tG(l),l in wk)return;wk[l]=!0;const c=l.endsWith(".css"),u=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${u}`))return;const d=document.createElement("link");if(d.rel=c?"stylesheet":eG,c||(d.as="script"),d.crossOrigin="",d.href=l,a&&d.setAttribute("nonce",a),document.head.appendChild(d),c)return new Promise((h,p)=>{d.addEventListener("load",h),d.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${l}`)))})}))}function s(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return i.then(o=>{for(const a of o||[])a.status==="rejected"&&s(a.reason);return t().catch(s)})};class xj{constructor(){this.init=async(t,n)=>{const r=await ud(()=>import("./aubio-BXVQmmIs.js"),[]),{Pitch:i}=await r.default();this.detector=new i("default",n,n/8,t.sampleRate),this.detector.setTolerance(.5)},this.getFrequency=async t=>this.detector.do(t)}getSampleSize(){return 2048}}class nG extends zs{constructor(){super(...arguments),this.status="uninitialised",this.getUserMedia=async(...t)=>this.requestAndTrack(()=>navigator.mediaDevices.getUserMedia(...t)),this.enumerateDevices=async(...t)=>this.requestAndTrack(()=>navigator.mediaDevices.enumerateDevices(...t)),this.requestAndTrack=async t=>{try{this.status!=="accepted"&&this.setStatus("requested");const n=await t();return this.setStatus("accepted"),n}catch(n){throw this.setStatus("declined"),n}},this.setStatus=t=>{this.status=t,this.onUpdate(t)},this.getStatus=()=>this.status}}const Ea=new nG;let _b=class{constructor(t=2){this.channels=t,this.stream=null,this.context=null,this.interval=null,this.frequencies=[0,0],this.volumes=[0,0],this.startedMonitoring=!1,this.startMonitoring=async n=>{if(!this.startedMonitoring){this.startedMonitoring=!0;try{this.stream=await Ea.getUserMedia({audio:{...n?{deviceId:n,exact:!0}:{},echoCancellation:!1},video:!1});try{this.context=new AudioContext;const r=this.context.createMediaStreamSource(this.stream),i=Array.from({length:this.channels},()=>{const o=this.context.createAnalyser();return o.fftSize=2048,o.minDecibels=-100,o});if(this.channels>1){const o=this.context.createChannelSplitter(2);r.connect(o),i.forEach((a,l)=>{o.connect(a,l)})}else r.connect(i[0]);console.log(this.channels);const s=new xj;await s.init(this.context,i[0].fftSize),this.interval=setInterval(async()=>{const o=i.map(a=>new Float32Array(a.fftSize));i.forEach((a,l)=>{a.getFloatTimeDomainData(o[l])}),this.frequencies=await Promise.all(o.map(a=>s.getFrequency(a))),this.volumes=o.map(a=>this.calculateVolume(a))},this.context.sampleRate/i[0].fftSize),te.micMonitoringStarted.dispatch()}catch(r){Ns(r),console.error(r)}}catch(r){Ns(r,{level:"warning"}),console.warn(r)}}},this.getFrequencies=()=>this.frequencies,this.getVolumes=()=>this.volumes,this.clearFrequencies=n=>{},this.stopMonitoring=async()=>{var n,r;if(this.startedMonitoring){this.startedMonitoring=!1,this.interval&&clearInterval(this.interval),(n=this.stream)==null||n.getTracks().forEach(function(i){i.stop()});try{await((r=this.context)==null?void 0:r.close())}catch(i){console.log("MicInput.stoMonitoring error",i)}te.micMonitoringStopped.dispatch()}},this.getInputLag=()=>180,this.requestReadiness=()=>Promise.resolve(!0),this.getStatus=()=>"ok"}calculateVolume(t){let n,r=0;for(n=0;n<t.length;++n)r+=t[n]*t[n];return Math.sqrt(r/t.length)}};new _b;const rG=(e=[],t)=>{const n=e.filter(r=>r.deviceId===t).map(r=>r.channel);return n.some(r=>n[0]!==r)};class iG{constructor(){this.devices={},this.startMonitoring=async(t,n)=>{console.log(this.devices),t&&(this.devices[t]||(this.devices[t]=rG(n,t)?new _b(2):new _b(1)),await this.devices[t].startMonitoring(t))},this.getFrequencies=t=>t&&this.devices[t]?this.devices[t].getFrequencies():[0,0],this.getVolumes=t=>t&&this.devices[t]?this.devices[t].getVolumes():[0,0],this.clearFrequencies=t=>{if(t&&this.devices[t])return this.devices[t].clearFrequencies(t)},this.stopMonitoring=async()=>{await Promise.all(Object.values(this.devices).map(t=>t.stopMonitoring())),this.devices={}},this.getInputLag=t=>t&&this.devices[t]?this.devices[t].getInputLag():180,this.requestReadiness=async t=>t&&this.devices[t]?this.devices[t].requestReadiness():!0,this.getStatus=t=>t&&this.devices[t]?this.devices[t].getStatus():"ok"}}const sG=new iG;class oG{constructor(){this.frequencies=[0],this.volumes=[1],this.startMonitoring=async t=>{var n;return(n=rt.getRemoteMicById(t??""))==null?void 0:n.getInput().startMonitoring()},this.getFrequencies=t=>{var r;return((r=rt.getRemoteMicById(t??""))==null?void 0:r.getInput().getFrequencies())??this.frequencies},this.clearFrequencies=t=>{var n;(n=rt.getRemoteMicById(t??""))==null||n.getInput().clearFrequencies()},this.getVolumes=t=>{var r;return((r=rt.getRemoteMicById(t??""))==null?void 0:r.getInput().getVolumes())??this.volumes},this.stopMonitoring=async t=>{var n;return(n=rt.getRemoteMicById(t??""))==null?void 0:n.getInput().stopMonitoring()},this.requestReadiness=t=>{var n;return((n=rt.getRemoteMicById(t??""))==null?void 0:n.getInput().requestReadiness())??Promise.resolve(!0)},this.getInputLag=t=>{var n;return((n=rt.getRemoteMicById(t??""))==null?void 0:n.getInput().getInputLag())??0},this.getStatus=t=>{const n=rt.getRemoteMicById(t??"");return!n||n.getLatency()>1500?"unavailable":n.getLatency()>500?"unstable":"ok"}}}const aG=new oG;function Bs(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var wj=typeof global=="object"&&global&&global.Object===Object&&global,lG=typeof self=="object"&&self&&self.Object===Object&&self,Us=wj||lG||Function("return this")(),Gv=function(){return Us.Date.now()},cG=/\s/;function uG(e){for(var t=e.length;t--&&cG.test(e.charAt(t)););return t}var dG=/^\s+/;function fG(e){return e&&e.slice(0,uG(e)+1).replace(dG,"")}var as=Us.Symbol,Ej=Object.prototype,hG=Ej.hasOwnProperty,pG=Ej.toString,Id=as?as.toStringTag:void 0;function gG(e){var t=hG.call(e,Id),n=e[Id];try{e[Id]=void 0;var r=!0}catch{}var i=pG.call(e);return r&&(t?e[Id]=n:delete e[Id]),i}var mG=Object.prototype,yG=mG.toString;function vG(e){return yG.call(e)}var AG="[object Null]",bG="[object Undefined]",Ek=as?as.toStringTag:void 0;function dc(e){return e==null?e===void 0?bG:AG:Ek&&Ek in Object(e)?gG(e):vG(e)}function $o(e){return e!=null&&typeof e=="object"}var _G="[object Symbol]";function hy(e){return typeof e=="symbol"||$o(e)&&dc(e)==_G}var Ck=NaN,SG=/^[-+]0x[0-9a-f]+$/i,xG=/^0b[01]+$/i,wG=/^0o[0-7]+$/i,EG=parseInt;function Sb(e){if(typeof e=="number")return e;if(hy(e))return Ck;if(Bs(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=Bs(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=fG(e);var n=xG.test(e);return n||wG.test(e)?EG(e.slice(2),n?2:8):SG.test(e)?Ck:+e}var CG="Expected a function",kG=Math.max,TG=Math.min;function Cj(e,t,n){var r,i,s,o,a,l,c=0,u=!1,d=!1,h=!0;if(typeof e!="function")throw new TypeError(CG);t=Sb(t)||0,Bs(n)&&(u=!!n.leading,d="maxWait"in n,s=d?kG(Sb(n.maxWait)||0,t):s,h="trailing"in n?!!n.trailing:h);function p(E){var C=r,k=i;return r=i=void 0,c=E,o=e.apply(k,C),o}function g(E){return c=E,a=setTimeout(y,t),u?p(E):o}function m(E){var C=E-l,k=E-c,O=t-C;return d?TG(O,s-k):O}function b(E){var C=E-l,k=E-c;return l===void 0||C>=t||C<0||d&&k>=s}function y(){var E=Gv();if(b(E))return v(E);a=setTimeout(y,m(E))}function v(E){return a=void 0,h&&r?p(E):(r=i=void 0,o)}function _(){a!==void 0&&clearTimeout(a),c=0,r=l=i=a=void 0}function x(){return a===void 0?o:v(Gv())}function S(){var E=Gv(),C=b(E);if(r=arguments,i=this,l=E,C){if(a===void 0)return g(l);if(d)return clearTimeout(a),a=setTimeout(y,t),p(l)}return a===void 0&&(a=setTimeout(y,t)),o}return S.cancel=_,S.flush=x,S}const Fr={DUEL:"DUEL",PASS_THE_MIC:"PASS_THE_MIC",CO_OP:"CO_OP"},Sf=["freestyle","rap"],kj=[],Tj=440,Ij=69,vx=20;var IG="[object AsyncFunction]",PG="[object Function]",RG="[object GeneratorFunction]",MG="[object Proxy]";function Pj(e){if(!Bs(e))return!1;var t=dc(e);return t==PG||t==RG||t==IG||t==MG}var qv=Us["__core-js_shared__"],kk=function(){var e=/[^.]+$/.exec(qv&&qv.keys&&qv.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function jG(e){return!!kk&&kk in e}var OG=Function.prototype,VG=OG.toString;function fc(e){if(e!=null){try{return VG.call(e)}catch{}try{return e+""}catch{}}return""}var LG=/[\\^$.*+?()[\]{}|]/g,NG=/^\[object .+?Constructor\]$/,BG=Function.prototype,DG=Object.prototype,$G=BG.toString,FG=DG.hasOwnProperty,zG=RegExp("^"+$G.call(FG).replace(LG,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function UG(e){if(!Bs(e)||jG(e))return!1;var t=Pj(e)?zG:NG;return t.test(fc(e))}function HG(e,t){return e==null?void 0:e[t]}function hc(e,t){var n=HG(e,t);return UG(n)?n:void 0}var Yf=hc(Object,"create");function GG(){this.__data__=Yf?Yf(null):{},this.size=0}function qG(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var WG="__lodash_hash_undefined__",KG=Object.prototype,YG=KG.hasOwnProperty;function QG(e){var t=this.__data__;if(Yf){var n=t[e];return n===WG?void 0:n}return YG.call(t,e)?t[e]:void 0}var JG=Object.prototype,XG=JG.hasOwnProperty;function ZG(e){var t=this.__data__;return Yf?t[e]!==void 0:XG.call(t,e)}var eq="__lodash_hash_undefined__";function tq(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=Yf&&t===void 0?eq:t,this}function Wl(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Wl.prototype.clear=GG;Wl.prototype.delete=qG;Wl.prototype.get=QG;Wl.prototype.has=ZG;Wl.prototype.set=tq;function nq(){this.__data__=[],this.size=0}function py(e,t){return e===t||e!==e&&t!==t}function gy(e,t){for(var n=e.length;n--;)if(py(e[n][0],t))return n;return-1}var rq=Array.prototype,iq=rq.splice;function sq(e){var t=this.__data__,n=gy(t,e);if(n<0)return!1;var r=t.length-1;return n==r?t.pop():iq.call(t,n,1),--this.size,!0}function oq(e){var t=this.__data__,n=gy(t,e);return n<0?void 0:t[n][1]}function aq(e){return gy(this.__data__,e)>-1}function lq(e,t){var n=this.__data__,r=gy(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}function Wo(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Wo.prototype.clear=nq;Wo.prototype.delete=sq;Wo.prototype.get=oq;Wo.prototype.has=aq;Wo.prototype.set=lq;var Qf=hc(Us,"Map");function cq(){this.size=0,this.__data__={hash:new Wl,map:new(Qf||Wo),string:new Wl}}function uq(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function my(e,t){var n=e.__data__;return uq(t)?n[typeof t=="string"?"string":"hash"]:n.map}function dq(e){var t=my(this,e).delete(e);return this.size-=t?1:0,t}function fq(e){return my(this,e).get(e)}function hq(e){return my(this,e).has(e)}function pq(e,t){var n=my(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}function Ko(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Ko.prototype.clear=cq;Ko.prototype.delete=dq;Ko.prototype.get=fq;Ko.prototype.has=hq;Ko.prototype.set=pq;var gq="Expected a function";function yy(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(gq);var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],s=n.cache;if(s.has(i))return s.get(i);var o=e.apply(this,r);return n.cache=s.set(i,o)||s,o};return n.cache=new(yy.Cache||Ko),n}yy.Cache=Ko;function Om(e){return Sf.includes(e.note.type)?0:e.distance}function Pt(e){return(e==null?void 0:e.type)==="notes"&&!!e.notes.length}const mq=35e5,ll={freestyle:.25,rap:.25,rapstar:.5,star:2,normal:1,perfect:.5,vibrato:.25},Tk=e=>({freestyle:e.freestyle*ll.freestyle,rap:e.rap*ll.rap,rapstar:e.rapstar*ll.rapstar,star:e.star*ll.star,normal:e.normal*ll.normal,perfect:e.perfect*ll.perfect,vibrato:e.vibrato*ll.vibrato}),Ax=e=>e.freestyle+e.rap+e.star+e.normal+e.perfect+e.vibrato,Vp=(e,t)=>({freestyle:e.freestyle*t,rap:e.rap*t,rapstar:e.rapstar*t,star:e.star*t,normal:e.normal*t,perfect:e.perfect*t,vibrato:e.vibrato*t}),Ik=(e,t)=>({freestyle:e.freestyle+t.freestyle,rap:e.rap+t.rap,rapstar:e.rapstar+t.rapstar,star:e.star+t.star,normal:e.normal+t.normal,perfect:e.perfect+t.perfect,vibrato:e.vibrato+t.vibrato}),Pk=(e,t)=>({freestyle:e.freestyle/t,rap:e.rap/t,rapstar:e.rapstar/t,star:e.star/t,normal:e.normal/t,perfect:e.perfect/t,vibrato:e.vibrato/t}),Rk=yy(e=>e.tracks.map(({sections:t})=>{const n={freestyle:0,rap:0,rapstar:0,star:0,normal:0,perfect:0,vibrato:0};return t.filter(Pt).forEach(r=>{r.notes.filter(s=>!kj.includes(s.type)).forEach(s=>{n[s.type]=n[s.type]+s.length,n.perfect=n.perfect+s.length,n.vibrato=n.vibrato+s.length})}),n}));function Rj(e,t,n){const r=Rk(t),i={freestyle:0,rap:0,rapstar:0,star:0,normal:0,perfect:0,vibrato:0};if(!r[n])return console.error(`No beat count for track ${n} in song`,t),[0,i,i];const s=Tk(Rk(t)[n]),o=mq/Ax(s);for(let a=0;a<e.length;a++){const l=e[a];kj.includes(l.note.type)||Om(l)===0&&(i[l.note.type]=i[l.note.type]+l.length,l.isPerfect&&(i.perfect=i.perfect+l.length),l.vibrato&&(i.vibrato=i.vibrato+l.length))}return[o,Tk(i),s]}function yq(e,t,n){const[r,i]=Rj(e,t,n);return Ax(i)*r}function vq(e,t,n,r=!0){const i=(e-n)/t;return r?Math.floor(i):i}function Aq(e){return Tj*Math.pow(2,(e-Ij)/12)}const bq=e=>Math.round(12*(Math.log(e/Tj)/Math.log(2)))+Ij,_q=(e,t)=>Math.floor(1200*Math.log(t/e)/Math.log(2)),Sq=(e,t,n)=>{const r=Aq(e),i=_q(r,t);return Math.sign(i)*((Math.abs(i)%1200+600)%1200-600)/(n*100+50)},xq=(e,t,n)=>{const r=(e%12-t%12+18)%12-6;return Math.abs(r)<=n?0:r},wq=(e,t)=>{const n=$e.getTolerance(),r=bq(e);let i=-1;const s=xq(r,t,n);return s===0&&(i=Sq(t,e,n)),{distance:s,preciseDistance:i}},Mk=6;function Eq(e){const t=[];for(let r=1;r<e.length;r++){if(Math.round(e[r].frequency/2)===Math.round(e[r-1].frequency/2))continue;const i=e[r].frequency>e[r-1].frequency?">":"<";if(t.length===0)t.push({...e[r],interval:e[r].timestamp-e[r-1].timestamp,change:i});else{const s=t.at(-1);s.change!==i&&t.push({...e[r],interval:e[r].timestamp-s.timestamp,change:i})}}const n=t;for(let r=0;r<n.length-Mk;r++){const s=n.slice(r,r+Mk-1).map(c=>c.interval),o=Math.max(...s),a=Math.min(...s),l=s.reduce((c,u)=>c+u,0)/s.length;if(o<l*1.75&&a>l/1.75)return!0}return!1}const Cq=100;function kq(e,t,n,r){if(t.frequency===0)return;const i={...t,beat:Math.max(0,t.timestamp)/r,...wq(t.frequency,n.pitch)},s=e.at(-1),o=Cq/r,a=n.start+n.length,l=!s||s.note.start!==n.start,c=!s||s.distance!==i.distance&&!Sf.includes(n.type);if(l||c||i.beat-(s.start+s.length)>o){const u=i.beat-o<n.start?n.start:i.beat;if(e.push({start:Math.min(l?u:i.beat,a),length:0,distance:i.distance,note:n,isPerfect:!1,vibrato:!1,frequencyRecords:[{frequency:i.frequency,preciseDistance:i.preciseDistance,timestamp:i.timestamp}]}),s&&n.start!==s.note.start){const d=s.start+s.length,h=s.note.start+s.note.length,p=d+o>h?h:d;s.length=Math.max(0,p-s.start)}}else s.length=Math.max(0,Math.min(i.beat,n.start+n.length)-s.start),s.frequencyRecords.push({frequency:i.frequency,timestamp:i.timestamp,preciseDistance:i.preciseDistance}),s.isPerfect=s.distance===0&&Math.abs(s.length-s.note.length)<.5,s.vibrato=s.distance===0&&Eq(s.frequencyRecords)}const Tq=e=>e.notes[0],Va=e=>{const t=e.find(Pt);return t?Tq(t).start:1/0},Jf=e=>{const n=e.filter(Pt).at(-1);return n?Xf(n):0},Xf=e=>{const t=e.notes.at(-1);return t.start+t.length},jk=(e,t,n=0)=>e.notes.find(r=>r.start-n<=t&&r.start+r.length+n>=t);class Iq{constructor(t,n){this.number=t,this.gameState=n,this.frequencyRecords=[],this.playerNotes=[],this.realFrequencyRecords=[],this.realPlayerNotes=[],this.min=1/0,this.max=-1/0,this.storedSectionIndex=0,this.getNumber=()=>this.number,this.update=()=>{const r=this.gameState.getCurrentTime(),i=wn.getPlayerFrequency(this.number),s=r-wn.getPlayerInputLag(this.number);if(Array.isArray(i)){const o=this.realFrequencyRecords.at(-1)||this.frequencyRecords.at(0),a=(o==null?void 0:o.timestamp)??0,l=(s-a)/i.length;this.frequencyRecords=this.realFrequencyRecords,this.playerNotes=this.realPlayerNotes;for(let u=0;u<i.length;u++){const d=a+l*(u+1);this.updatePlayerNotes(d,i[u])}this.realFrequencyRecords=[...this.frequencyRecords],this.realPlayerNotes=[...this.playerNotes];const c=this.realPlayerNotes.at(-1);c&&(this.realPlayerNotes[this.realPlayerNotes.length-1]={...c,frequencyRecords:[...c.frequencyRecords??[]]}),wn.clearPlayerCachedFrequencies(this.number)}else this.updatePlayerNotes(s,i);this.dispatchSectionUpdate()},this.dispatchSectionUpdate=()=>{const r=this.getCurrentSectionIndex();this.storedSectionIndex!==r&&(te.sectionChange.dispatch(this.number,this.storedSectionIndex),this.storedSectionIndex=r)},this.updatePlayerNotes=(r,i)=>{const s={timestamp:r,frequency:i};this.frequencyRecords.push(s);const o=s.timestamp/this.gameState.getSongBeatLength(),a=this.getSectionByBeat(o);if(Pt(a)){const l=jk(a,o,0)??jk(a,o,.5);l&&kq(this.playerNotes,s,l,this.gameState.getSongBeatLength())}},this.getPlayerNotes=()=>this.playerNotes,this.getPlayerFrequencies=()=>this.frequencyRecords,this.getSectionIndexByBeat=r=>this.getTrack().sections.findIndex((i,s,o)=>r<0?!0:r<i.start?!1:s===o.length-1?!0:o[s+1].start>r),this.getCurrentSectionIndex=()=>this.getSectionIndexByBeat(this.gameState.getCurrentBeat()),this.getSectionByBeat=r=>this.getTrack().sections[this.getSectionIndexByBeat(r)]??null,this.getCurrentSection=()=>{const r=this.getCurrentSectionIndex();return this.getTrack().sections[r]??null},this.getNextSection=(r=1)=>{const i=this.getCurrentSectionIndex();return i>-1?this.getTrack().sections[i+r]??null:null},this.getPreviousSection=(r=1)=>{const i=this.getCurrentSectionIndex();return i>-1?this.getTrack().sections[i-r]??null:null},this.getLastNotesSection=()=>{const r=this.getTrack().sections.at(-1);return Pt(r)?r:this.getTrack().sections.at(-2)},this.getScore=()=>yq(this.playerNotes,this.gameState.getSong(),this.getTrackIndex()),this.getDetailedScore=()=>Rj(this.playerNotes,this.gameState.getSong(),this.getTrackIndex()),this.getMinPitch=()=>this.min,this.getMaxPitch=()=>this.max,this.getTrackIndex=()=>this.gameState.getSingSetup().players.find(r=>r.number===this.number).track,this.getTrack=()=>{var r;return this.gameState.isMergedTrack()?(r=this.gameState.getSong())==null?void 0:r.mergedTrack:this.gameState.getSong().tracks[this.getTrackIndex()]},this.resetNotes=()=>{this.playerNotes=[]},this.getTrack().sections.filter(Pt).forEach(r=>r.notes.forEach(i=>{this.min=Math.min(this.min,i.pitch),this.max=Math.max(this.max,i.pitch)}))}}function Pq(e){return Math.max(...e.tracks.map(t=>{const n=t.sections.filter(Pt).at(-1);return n?Xf(n):0}))}function bx(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError("Expected a function");const n=function(...r){const i=t?t.apply(this,r):r[0],s=n.cache;if(s.has(i))return s.get(i);const o=e.apply(this,r);return n.cache=s.set(i,o)||s,o};return n.cache=new(bx.Cache||Map),n}bx.Cache=Map;const dd=bx(function(t){return 60/t.bpm/(t.bar??4)*1e3});class Rq{constructor(){this.song=null,this.currentTime=0,this.duration=0,this.singSetup=null,this.playerStates=[],this.playing=!1,this.setCurrentTime=t=>this.currentTime=t,this.getCurrentTime=(t=!0)=>this.currentTime-(t&&this.song?this.song.gap:0),this.getSongBeatLength=()=>dd(this.song),this.getCurrentBeat=()=>vq(this.getCurrentTime(),this.getSongBeatLength(),0,!1),this.setSong=t=>this.song=t,this.getSong=()=>this.song,this.getSingSetup=()=>this.singSetup,this.setSingSetup=t=>{this.singSetup=t,this.playerStates=t.players.map(({number:n},r)=>new Iq(n,this)),this.currentTime=0,this.playing=!0},this.resetSingSetup=()=>{this.playing=!1},this.isPlaying=()=>this.playing,this.getTolerance=()=>{var t;return((t=this.getSingSetup())==null?void 0:t.tolerance)??2},this.setDuration=t=>this.duration=t,this.getDuration=()=>this.duration,this.getPlayer=t=>this.playerStates.find(n=>n.getNumber()===t),this.getPlayers=()=>this.playerStates,this.getPlayerCount=()=>this.playerStates.length,this.getPlayerScore=t=>{var n,r;return((n=this.getSingSetup())==null?void 0:n.mode)===Fr.CO_OP?this.getPlayers().reduce((s,o)=>s+o.getScore(),0)/this.getPlayerCount():((r=this.getPlayer(t))==null?void 0:r.getScore())??-1},this.getPlayerDetailedScore=t=>{var n;if(((n=this.getSingSetup())==null?void 0:n.mode)===Fr.CO_OP){const r=this.getPlayers().map(a=>a.getDetailedScore()),[i,...s]=r.map(([a,l,c])=>[Vp(l,a),Vp(c,a)]),o=s.reduce((a,l)=>[Ik(a[0],l[0]),Ik(a[1],l[1])],i);return[Pk(o[0],this.getPlayerCount()),Pk(o[1],this.getPlayerCount())]}else{const[r,i,s]=this.getPlayer(t).getDetailedScore();return[Vp(i,r),Vp(s,r)]}},this.getSongCompletionProgress=()=>Math.max(0,Math.min(1,this.getCurrentBeat()/Pq(this.getSong()))),this.startInputMonitoring=async()=>wn.startMonitoring(),this.stopInputMonitoring=()=>wn.stopMonitoring(),this.update=()=>{this.playerStates.forEach(t=>t.update())},this.resetPlayerNotes=()=>{this.playerStates.forEach(t=>t.resetNotes())},this.isMergedTrack=()=>{var t;return((t=this.getSingSetup())==null?void 0:t.players.length)!==2}}}const $e=new Rq,Mj="wss://allkaraoke-partykit.asvarox.partykit.dev";class Mq extends zs{constructor(){super(...arguments),this.name="PartyKit",this.connection=null,this.disconnect=()=>{var t;(t=this.connection)==null||t.close()},this.latency=0,this.pingStart=Ur(),this.pinging=!1,this.pingTimeout=null,this.ping=()=>{var t;this.pinging=!0,this.pingStart=Ur(),(t=this.connection)==null||t.send(rs({t:"ping"}))},this.onPong=()=>{this.pinging&&(this.latency=Ur()-this.pingStart,this.pinging=!1,this.pingTimeout&&clearTimeout(this.pingTimeout),this.pingTimeout=setTimeout(this.ping,5e3))},this.getCurrentPing=()=>this.pinging?Math.max(this.latency,Ur()-this.pingStart):this.latency}connect(t,n,r){this.connection=new WebSocket(`${Mj}/party/${t}`),this.connection.binaryType="arraybuffer",this.connection.onopen=()=>{var i,s;(i=this.connection)==null||i.send(rs({t:"register-room",id:t})),n(),this.ping(),(s=this.connection)==null||s.addEventListener("message",o=>{var l;const a=ed(o.data);if(a.t==="forward"){["ping","pong","freq"].includes((l=a==null?void 0:a.payload)==null?void 0:l.t)||console.log("received",a);const{sender:c,payload:u}=a,d=new jq(c,this.connection);this.onUpdate(u,d)}else a.t==="pong"?this.onPong():console.warn("Unknown message type",a)})},this.connection.onclose=i=>{r(i.reason,i)}}removePlayer(t){var n;(n=this.connection)==null||n.send(rs({t:"remove-player",id:t}))}}let jq=class{constructor(t,n){this.peer=t,this.socket=n,this.currentPing=0,this.send=r=>{const i={t:"forward",recipients:[this.peer],payload:r};["ping","pong","freq"].includes(r==null?void 0:r.t)||console.log("sending",this.peer,r),this.socket.send(rs(i))},this.callbacksMap=new Map,this.on=(r,i)=>{r==="data"&&(this.callbacksMap.set(i,s=>{const o=ed(s.data);if(o.t==="forward"){const{sender:a,payload:l}=o;a===this.peer&&i(l)}}),this.socket.addEventListener("message",this.callbacksMap.get(i)))},this.off=(r,i)=>{if(r==="data"){const s=this.callbacksMap.get(i);this.socket.removeEventListener("message",s),this.callbacksMap.delete(i)}},this.close=()=>{this.socket.close()}}};var hM;const Oq=(hM=global==null?void 0:global.sessionStorage)==null?void 0:hM.getItem("isE2E");function Ii(){var t,n;if(Oq)return!0;const e=(global==null?void 0:global.isE2ETests)||((t=global==null?void 0:global.location)==null?void 0:t.search.includes("e2e-test"));return e&&((n=global==null?void 0:global.sessionStorage)==null||n.setItem("isE2E","true")),e}const Vq=Ii()?{host:"localhost",port:3001,path:"/"}:{},jj={...Vq};var Lq=Object.create,vy=Object.defineProperty,Nq=Object.defineProperties,Bq=Object.getOwnPropertyDescriptor,Dq=Object.getOwnPropertyDescriptors,Oj=Object.getOwnPropertyNames,Ok=Object.getOwnPropertySymbols,$q=Object.getPrototypeOf,Vj=Object.prototype.hasOwnProperty,Fq=Object.prototype.propertyIsEnumerable,Vk=(e,t,n)=>t in e?vy(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,_x=(e,t)=>{for(var n in t||(t={}))Vj.call(t,n)&&Vk(e,n,t[n]);if(Ok)for(var n of Ok(t))Fq.call(t,n)&&Vk(e,n,t[n]);return e},Lj=(e,t)=>Nq(e,Dq(t)),zq=e=>vy(e,"__esModule",{value:!0}),Sx=(e,t)=>function(){return t||(0,e[Oj(e)[0]])((t={exports:{}}).exports,t),t.exports},Uq=(e,t,n,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of Oj(t))!Vj.call(e,i)&&i!=="default"&&vy(e,i,{get:()=>t[i],enumerable:!(r=Bq(t,i))||r.enumerable});return e},Fh=(e,t)=>Uq(zq(vy(e!=null?Lq($q(e)):{},"default",e&&e.__esModule?{get:()=>e.default,enumerable:!0}:{value:e,enumerable:!0})),e),Uc=(e,t,n)=>new Promise((r,i)=>{var s=l=>{try{a(n.next(l))}catch(c){i(c)}},o=l=>{try{a(n.throw(l))}catch(c){i(c)}},a=l=>l.done?r(l.value):Promise.resolve(l.value).then(s,o);a((n=n.apply(e,t)).next())}),Lk=Sx({"node_modules/peerjs-js-binarypack/lib/bufferbuilder.js"(e,t){var n={};n.useBlobBuilder=function(){try{return new Blob([]),!1}catch{return!0}}(),n.useArrayBufferView=!n.useBlobBuilder&&function(){try{return new Blob([new Uint8Array([])]).size===0}catch{return!0}}(),t.exports.binaryFeatures=n;var r=t.exports.BlobBuilder;typeof window<"u"&&(r=t.exports.BlobBuilder=window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder||window.BlobBuilder);function i(){this._pieces=[],this._parts=[]}i.prototype.append=function(s){typeof s=="number"?this._pieces.push(s):(this.flush(),this._parts.push(s))},i.prototype.flush=function(){if(this._pieces.length>0){var s=new Uint8Array(this._pieces);n.useArrayBufferView||(s=s.buffer),this._parts.push(s),this._pieces=[]}},i.prototype.getBuffer=function(){if(this.flush(),n.useBlobBuilder){for(var s=new r,o=0,a=this._parts.length;o<a;o++)s.append(this._parts[o]);return s.getBlob()}else return new Blob(this._parts)},t.exports.BufferBuilder=i}}),Hq=Sx({"node_modules/peerjs-js-binarypack/lib/binarypack.js"(e,t){var n=Lk().BufferBuilder,r=Lk().binaryFeatures,i={unpack:function(c){var u=new s(c);return u.unpack()},pack:function(c){var u=new o;u.pack(c);var d=u.getBuffer();return d}};t.exports=i;function s(c){this.index=0,this.dataBuffer=c,this.dataView=new Uint8Array(this.dataBuffer),this.length=this.dataBuffer.byteLength}s.prototype.unpack=function(){var c=this.unpack_uint8();if(c<128)return c;if((c^224)<32)return(c^224)-32;var u;if((u=c^160)<=15)return this.unpack_raw(u);if((u=c^176)<=15)return this.unpack_string(u);if((u=c^144)<=15)return this.unpack_array(u);if((u=c^128)<=15)return this.unpack_map(u);switch(c){case 192:return null;case 193:return;case 194:return!1;case 195:return!0;case 202:return this.unpack_float();case 203:return this.unpack_double();case 204:return this.unpack_uint8();case 205:return this.unpack_uint16();case 206:return this.unpack_uint32();case 207:return this.unpack_uint64();case 208:return this.unpack_int8();case 209:return this.unpack_int16();case 210:return this.unpack_int32();case 211:return this.unpack_int64();case 212:return;case 213:return;case 214:return;case 215:return;case 216:return u=this.unpack_uint16(),this.unpack_string(u);case 217:return u=this.unpack_uint32(),this.unpack_string(u);case 218:return u=this.unpack_uint16(),this.unpack_raw(u);case 219:return u=this.unpack_uint32(),this.unpack_raw(u);case 220:return u=this.unpack_uint16(),this.unpack_array(u);case 221:return u=this.unpack_uint32(),this.unpack_array(u);case 222:return u=this.unpack_uint16(),this.unpack_map(u);case 223:return u=this.unpack_uint32(),this.unpack_map(u)}},s.prototype.unpack_uint8=function(){var c=this.dataView[this.index]&255;return this.index++,c},s.prototype.unpack_uint16=function(){var c=this.read(2),u=(c[0]&255)*256+(c[1]&255);return this.index+=2,u},s.prototype.unpack_uint32=function(){var c=this.read(4),u=((c[0]*256+c[1])*256+c[2])*256+c[3];return this.index+=4,u},s.prototype.unpack_uint64=function(){var c=this.read(8),u=((((((c[0]*256+c[1])*256+c[2])*256+c[3])*256+c[4])*256+c[5])*256+c[6])*256+c[7];return this.index+=8,u},s.prototype.unpack_int8=function(){var c=this.unpack_uint8();return c<128?c:c-256},s.prototype.unpack_int16=function(){var c=this.unpack_uint16();return c<32768?c:c-65536},s.prototype.unpack_int32=function(){var c=this.unpack_uint32();return c<Math.pow(2,31)?c:c-Math.pow(2,32)},s.prototype.unpack_int64=function(){var c=this.unpack_uint64();return c<Math.pow(2,63)?c:c-Math.pow(2,64)},s.prototype.unpack_raw=function(c){if(this.length<this.index+c)throw new Error("BinaryPackFailure: index is out of range "+this.index+" "+c+" "+this.length);var u=this.dataBuffer.slice(this.index,this.index+c);return this.index+=c,u},s.prototype.unpack_string=function(c){for(var u=this.read(c),d=0,h="",p,g;d<c;)p=u[d],p<128?(h+=String.fromCharCode(p),d++):(p^192)<32?(g=(p^192)<<6|u[d+1]&63,h+=String.fromCharCode(g),d+=2):(g=(p&15)<<12|(u[d+1]&63)<<6|u[d+2]&63,h+=String.fromCharCode(g),d+=3);return this.index+=c,h},s.prototype.unpack_array=function(c){for(var u=new Array(c),d=0;d<c;d++)u[d]=this.unpack();return u},s.prototype.unpack_map=function(c){for(var u={},d=0;d<c;d++){var h=this.unpack(),p=this.unpack();u[h]=p}return u},s.prototype.unpack_float=function(){var c=this.unpack_uint32(),u=c>>31,d=(c>>23&255)-127,h=c&8388607|8388608;return(u===0?1:-1)*h*Math.pow(2,d-23)},s.prototype.unpack_double=function(){var c=this.unpack_uint32(),u=this.unpack_uint32(),d=c>>31,h=(c>>20&2047)-1023,p=c&1048575|1048576,g=p*Math.pow(2,h-20)+u*Math.pow(2,h-52);return(d===0?1:-1)*g},s.prototype.read=function(c){var u=this.index;if(u+c<=this.length)return this.dataView.subarray(u,u+c);throw new Error("BinaryPackFailure: read index out of range")};function o(){this.bufferBuilder=new n}o.prototype.getBuffer=function(){return this.bufferBuilder.getBuffer()},o.prototype.pack=function(c){var u=typeof c;if(u==="string")this.pack_string(c);else if(u==="number")Math.floor(c)===c?this.pack_integer(c):this.pack_double(c);else if(u==="boolean")c===!0?this.bufferBuilder.append(195):c===!1&&this.bufferBuilder.append(194);else if(u==="undefined")this.bufferBuilder.append(192);else if(u==="object")if(c===null)this.bufferBuilder.append(192);else{var d=c.constructor;if(d==Array)this.pack_array(c);else if(d==Blob||d==File||c instanceof Blob||c instanceof File)this.pack_bin(c);else if(d==ArrayBuffer)r.useArrayBufferView?this.pack_bin(new Uint8Array(c)):this.pack_bin(c);else if("BYTES_PER_ELEMENT"in c)r.useArrayBufferView?this.pack_bin(new Uint8Array(c.buffer)):this.pack_bin(c.buffer);else if(d==Object||d.toString().startsWith("class"))this.pack_object(c);else if(d==Date)this.pack_string(c.toString());else if(typeof c.toBinaryPack=="function")this.bufferBuilder.append(c.toBinaryPack());else throw new Error('Type "'+d.toString()+'" not yet supported')}else throw new Error('Type "'+u+'" not yet supported');this.bufferBuilder.flush()},o.prototype.pack_bin=function(c){var u=c.length||c.byteLength||c.size;if(u<=15)this.pack_uint8(160+u);else if(u<=65535)this.bufferBuilder.append(218),this.pack_uint16(u);else if(u<=4294967295)this.bufferBuilder.append(219),this.pack_uint32(u);else throw new Error("Invalid length");this.bufferBuilder.append(c)},o.prototype.pack_string=function(c){var u=l(c);if(u<=15)this.pack_uint8(176+u);else if(u<=65535)this.bufferBuilder.append(216),this.pack_uint16(u);else if(u<=4294967295)this.bufferBuilder.append(217),this.pack_uint32(u);else throw new Error("Invalid length");this.bufferBuilder.append(c)},o.prototype.pack_array=function(c){var u=c.length;if(u<=15)this.pack_uint8(144+u);else if(u<=65535)this.bufferBuilder.append(220),this.pack_uint16(u);else if(u<=4294967295)this.bufferBuilder.append(221),this.pack_uint32(u);else throw new Error("Invalid length");for(var d=0;d<u;d++)this.pack(c[d])},o.prototype.pack_integer=function(c){if(c>=-32&&c<=127)this.bufferBuilder.append(c&255);else if(c>=0&&c<=255)this.bufferBuilder.append(204),this.pack_uint8(c);else if(c>=-128&&c<=127)this.bufferBuilder.append(208),this.pack_int8(c);else if(c>=0&&c<=65535)this.bufferBuilder.append(205),this.pack_uint16(c);else if(c>=-32768&&c<=32767)this.bufferBuilder.append(209),this.pack_int16(c);else if(c>=0&&c<=4294967295)this.bufferBuilder.append(206),this.pack_uint32(c);else if(c>=-2147483648&&c<=2147483647)this.bufferBuilder.append(210),this.pack_int32(c);else if(c>=-9223372036854776e3&&c<=9223372036854776e3)this.bufferBuilder.append(211),this.pack_int64(c);else if(c>=0&&c<=18446744073709552e3)this.bufferBuilder.append(207),this.pack_uint64(c);else throw new Error("Invalid integer")},o.prototype.pack_double=function(c){var u=0;c<0&&(u=1,c=-c);var d=Math.floor(Math.log(c)/Math.LN2),h=c/Math.pow(2,d)-1,p=Math.floor(h*Math.pow(2,52)),g=Math.pow(2,32),m=u<<31|d+1023<<20|p/g&1048575,b=p%g;this.bufferBuilder.append(203),this.pack_int32(m),this.pack_int32(b)},o.prototype.pack_object=function(c){var u=Object.keys(c),d=u.length;if(d<=15)this.pack_uint8(128+d);else if(d<=65535)this.bufferBuilder.append(222),this.pack_uint16(d);else if(d<=4294967295)this.bufferBuilder.append(223),this.pack_uint32(d);else throw new Error("Invalid length");for(var h in c)c.hasOwnProperty(h)&&(this.pack(h),this.pack(c[h]))},o.prototype.pack_uint8=function(c){this.bufferBuilder.append(c)},o.prototype.pack_uint16=function(c){this.bufferBuilder.append(c>>8),this.bufferBuilder.append(c&255)},o.prototype.pack_uint32=function(c){var u=c&4294967295;this.bufferBuilder.append((u&4278190080)>>>24),this.bufferBuilder.append((u&16711680)>>>16),this.bufferBuilder.append((u&65280)>>>8),this.bufferBuilder.append(u&255)},o.prototype.pack_uint64=function(c){var u=c/Math.pow(2,32),d=c%Math.pow(2,32);this.bufferBuilder.append((u&4278190080)>>>24),this.bufferBuilder.append((u&16711680)>>>16),this.bufferBuilder.append((u&65280)>>>8),this.bufferBuilder.append(u&255),this.bufferBuilder.append((d&4278190080)>>>24),this.bufferBuilder.append((d&16711680)>>>16),this.bufferBuilder.append((d&65280)>>>8),this.bufferBuilder.append(d&255)},o.prototype.pack_int8=function(c){this.bufferBuilder.append(c&255)},o.prototype.pack_int16=function(c){this.bufferBuilder.append((c&65280)>>8),this.bufferBuilder.append(c&255)},o.prototype.pack_int32=function(c){this.bufferBuilder.append(c>>>24&255),this.bufferBuilder.append((c&16711680)>>>16),this.bufferBuilder.append((c&65280)>>>8),this.bufferBuilder.append(c&255)},o.prototype.pack_int64=function(c){var u=Math.floor(c/Math.pow(2,32)),d=c%Math.pow(2,32);this.bufferBuilder.append((u&4278190080)>>>24),this.bufferBuilder.append((u&16711680)>>>16),this.bufferBuilder.append((u&65280)>>>8),this.bufferBuilder.append(u&255),this.bufferBuilder.append((d&4278190080)>>>24),this.bufferBuilder.append((d&16711680)>>>16),this.bufferBuilder.append((d&65280)>>>8),this.bufferBuilder.append(d&255)};function a(c){var u=c.charCodeAt(0);return u<=2047?"00":u<=65535?"000":u<=2097151?"0000":u<=67108863?"00000":"000000"}function l(c){return c.length>600?new Blob([c]).size:c.replace(/[^\u0000-\u007F]/g,a).length}}}),Ay=Sx({"node_modules/eventemitter3/index.js"(e,t){var n=Object.prototype.hasOwnProperty,r="~";function i(){}Object.create&&(i.prototype=Object.create(null),new i().__proto__||(r=!1));function s(c,u,d){this.fn=c,this.context=u,this.once=d||!1}function o(c,u,d,h,p){if(typeof d!="function")throw new TypeError("The listener must be a function");var g=new s(d,h||c,p),m=r?r+u:u;return c._events[m]?c._events[m].fn?c._events[m]=[c._events[m],g]:c._events[m].push(g):(c._events[m]=g,c._eventsCount++),c}function a(c,u){--c._eventsCount===0?c._events=new i:delete c._events[u]}function l(){this._events=new i,this._eventsCount=0}l.prototype.eventNames=function(){var u=[],d,h;if(this._eventsCount===0)return u;for(h in d=this._events)n.call(d,h)&&u.push(r?h.slice(1):h);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},l.prototype.listeners=function(u){var d=r?r+u:u,h=this._events[d];if(!h)return[];if(h.fn)return[h.fn];for(var p=0,g=h.length,m=new Array(g);p<g;p++)m[p]=h[p].fn;return m},l.prototype.listenerCount=function(u){var d=r?r+u:u,h=this._events[d];return h?h.fn?1:h.length:0},l.prototype.emit=function(u,d,h,p,g,m){var b=r?r+u:u;if(!this._events[b])return!1;var y=this._events[b],v=arguments.length,_,x;if(y.fn){switch(y.once&&this.removeListener(u,y.fn,void 0,!0),v){case 1:return y.fn.call(y.context),!0;case 2:return y.fn.call(y.context,d),!0;case 3:return y.fn.call(y.context,d,h),!0;case 4:return y.fn.call(y.context,d,h,p),!0;case 5:return y.fn.call(y.context,d,h,p,g),!0;case 6:return y.fn.call(y.context,d,h,p,g,m),!0}for(x=1,_=new Array(v-1);x<v;x++)_[x-1]=arguments[x];y.fn.apply(y.context,_)}else{var S=y.length,E;for(x=0;x<S;x++)switch(y[x].once&&this.removeListener(u,y[x].fn,void 0,!0),v){case 1:y[x].fn.call(y[x].context);break;case 2:y[x].fn.call(y[x].context,d);break;case 3:y[x].fn.call(y[x].context,d,h);break;case 4:y[x].fn.call(y[x].context,d,h,p);break;default:if(!_)for(E=1,_=new Array(v-1);E<v;E++)_[E-1]=arguments[E];y[x].fn.apply(y[x].context,_)}}return!0},l.prototype.on=function(u,d,h){return o(this,u,d,h,!1)},l.prototype.once=function(u,d,h){return o(this,u,d,h,!0)},l.prototype.removeListener=function(u,d,h,p){var g=r?r+u:u;if(!this._events[g])return this;if(!d)return a(this,g),this;var m=this._events[g];if(m.fn)m.fn===d&&(!p||m.once)&&(!h||m.context===h)&&a(this,g);else{for(var b=0,y=[],v=m.length;b<v;b++)(m[b].fn!==d||p&&!m[b].once||h&&m[b].context!==h)&&y.push(m[b]);y.length?this._events[g]=y.length===1?y[0]:y:a(this,g)}return this},l.prototype.removeAllListeners=function(u){var d;return u?(d=r?r+u:u,this._events[d]&&a(this,d)):(this._events=new i,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,typeof t<"u"&&(t.exports=l)}}),Nk=Fh(Hq()),Gq={iceServers:[{urls:"stun:stun.l.google.com:19302"},{urls:"turn:0.peerjs.com:3478",username:"peerjs",credential:"peerjsp"}],sdpSemantics:"unified-plan"},dn=new class{constructor(){this.CLOUD_HOST="0.peerjs.com",this.CLOUD_PORT=443,this.chunkedMTU=16300,this.defaultConfig=Gq,this.pack=Nk.pack,this.unpack=Nk.unpack,this._dataCount=1}validateId(e){return!e||/^[A-Za-z0-9]+(?:[ _-][A-Za-z0-9]+)*$/.test(e)}chunk(e){const t=[],n=e.size,r=Math.ceil(n/dn.chunkedMTU);let i=0,s=0;for(;s<n;){const o=Math.min(n,s+dn.chunkedMTU),a=e.slice(s,o),l={__peerData:this._dataCount,n:i,data:a,total:r};t.push(l),s=o,i++}return this._dataCount++,t}blobToArrayBuffer(e,t,n){const r=new e;return r.onload=function(i){i.target&&n(i.target.result)},r.readAsArrayBuffer(t),r}binaryStringToArrayBuffer(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n)&255;return t.buffer}randomToken(){return Math.random().toString(36).substr(2)}isSecure(){return location.protocol==="https:"}},qq=Fh(Ay()),Wq="PeerJS: ",Kq=class{constructor(){this._logLevel=0}get logLevel(){return this._logLevel}set logLevel(e){this._logLevel=e}log(...e){this._logLevel>=3&&this._print(3,...e)}warn(...e){this._logLevel>=2&&this._print(2,...e)}error(...e){this._logLevel>=1&&this._print(1,...e)}setLogFunction(e){this._print=e}_print(e,...t){const n=[Wq,...t];for(let r in n)n[r]instanceof Error&&(n[r]="("+n[r].name+") "+n[r].message);e>=3?console.log(...n):e>=2?console.warn("WARNING",...n):e>=1&&console.error("ERROR",...n)}},ke=new Kq,Yq=Fh(Ay()),Qq=class extends Yq.EventEmitter{constructor({secure:e,host:t,port:n,path:r,key:i,pingInterval:s=5e3,polyfills:o}){super(),this._disconnected=!0,this._id=null,this._messagesQueue=[],this.alive=!1,this._destroyed=!1;var a;this.pingInterval=s;const l=e?"wss://":"ws://";this._baseUrl=l+t+":"+n+r+"peerjs?key="+i,this.WebSocketConstructor=(a=o==null?void 0:o.WebSocket)!=null?a:window.WebSocket}get messagesQueue(){return this._messagesQueue}get destroyed(){return this._destroyed}start(e,t){if(this._destroyed)throw new Error("Socket was destroyed!");if(this._id=e,this._socket||!this._disconnected)return;const n=`${this._baseUrl}&id=${e}&token=${t}`;this._socket=new this.WebSocketConstructor(n),this._disconnected=!1,this._socket.onmessage=r=>{if(this._destroyed)return;let i;try{i=JSON.parse(r.data),ke.log("Server message received:",i)}catch{ke.log("Invalid server message",r.data);return}this.emit("message",i)},this._socket.onclose=r=>{this._disconnected||this._destroyed||(ke.log("Socket closed.",r),this._cleanup(),this._disconnected=!0,this.emit("disconnected"))},this._socket.onopen=()=>{this._disconnected||this._destroyed||(ke.log("Socket open"),this.emit("open"),this._sendQueuedMessages(),this._scheduleHeartbeat())}}_scheduleHeartbeat(){this._wsPingTimer=setTimeout(()=>{this._sendHeartbeat()},this.pingInterval)}_sendHeartbeat(){if(this._destroyed)return;if(!this._wsOpen()){ke.log("Cannot send heartbeat, because socket closed");return}const e=JSON.stringify({type:"HEARTBEAT"});this._socket.send(e),this._scheduleHeartbeat()}_wsOpen(){return!!this._socket&&this._socket.readyState===1}_sendQueuedMessages(){const e=[...this._messagesQueue];this._messagesQueue=[];for(const t of e)this.send(t);e.length>0&&ke.log(`${e.length} queued messages was sent`)}send(e){if(this._destroyed)throw new Error("Socket was destroyed!");if(!e.type){this.emit("error","Invalid message");return}if(!this.alive)return;if(this._id==null||!this._wsOpen()){this._messagesQueue.push(e);return}const t=JSON.stringify(e);this._socket.send(t)}close(){this._disconnected||(this._cleanup(),this._id=null,this._disconnected=!0)}_cleanup(){this._socket&&(this._socket.onopen=this._socket.onmessage=this._socket.onclose=null,this._socket.close(),this._socket=void 0),clearTimeout(this._wsPingTimer)}destroy(){this._destroyed||(this.close(),this._messagesQueue.length=0,this._destroyed=!0)}};function Jq(){}var Nj=class{constructor(e){this.connection=e}get webRtc(){var e,t;return(t=(e=this.connection.provider.options.polyfills)==null?void 0:e.WebRTC)!=null?t:window}startConnection(e){const t=this._startPeerConnection();if(this.connection.peerConnection=t,this.connection.type==="media"&&e._stream&&this._addTracksToConnection(e._stream,t),e.originator){if(this.connection.type==="data"){const n=this.connection,r={ordered:!!e.reliable},i=t.createDataChannel(n.label,r);n.initialize(i)}this._makeOffer()}else this.handleSDP("OFFER",e.sdp)}_startPeerConnection(){ke.log("Creating RTCPeerConnection.");const e=this.webRtc.RTCPeerConnection,t=new e(this.connection.provider.options.config);return this._setupListeners(t),t}_setupListeners(e){const t=this.connection.peer,n=this.connection.connectionId,r=this.connection.type,i=this.connection.provider;ke.log("Listening for ICE candidates, remote streams and data channels."),e.onicecandidate=s=>{!s.candidate||!s.candidate.candidate||(ke.log(`Received ICE candidates for ${t}:`,s.candidate),i.socket.send({type:"CANDIDATE",payload:{candidate:s.candidate,type:r,connectionId:n},dst:t}))},e.oniceconnectionstatechange=()=>{switch(e.iceConnectionState){case"failed":ke.log("iceConnectionState is failed, closing connections to "+t),this.connection.emit("error",new Error("Negotiation of connection to "+t+" failed.")),this.connection.close();break;case"closed":ke.log("iceConnectionState is closed, closing connections to "+t),this.connection.emit("error",new Error("Connection to "+t+" closed.")),this.connection.close();break;case"connected":ke.log("iceConnectionState changed to connected on the connection with "+t);break;case"disconnected":ke.log("iceConnectionState changed to disconnected on the connection with "+t);break;case"completed":ke.log("iceConnectionState changed to completed on the connection with "+t),e.onicecandidate=Jq;break}this.connection.emit("iceStateChanged",e.iceConnectionState)},e.ondatachannel=s=>{ke.log("Received data channel");const o=s.channel;i.getConnection(t,n).initialize(o)},e.ontrack=s=>{ke.log("Received remote stream");const o=s.streams[0],a=i.getConnection(t,n);if(a.type==="media"){const l=a;this._addStreamToMediaConnection(o,l)}}}cleanup(){ke.log("Cleaning up PeerConnection to "+this.connection.peer);const e=this.connection.peerConnection;if(!e)return;this.connection.peerConnection=null,e.onicecandidate=e.oniceconnectionstatechange=e.ondatachannel=e.ontrack=null;const t=e.signalingState!=="closed";let n=!1;if(this.connection.type==="data"){const i=this.connection.dataChannel;i&&(n=!!i.readyState&&i.readyState!=="closed")}(t||n)&&e.close()}_makeOffer(){return Uc(this,null,function*(){const e=this.connection.peerConnection,t=this.connection.provider;try{const n=yield e.createOffer(this.connection.options.constraints);if(e.signalingState==="closed")return;ke.log("Created offer."),this.connection.options.sdpTransform&&typeof this.connection.options.sdpTransform=="function"&&(n.sdp=this.connection.options.sdpTransform(n.sdp)||n.sdp);try{yield e.setLocalDescription(n),ke.log("Set localDescription:",n,`for:${this.connection.peer}`);let r={sdp:n,type:this.connection.type,connectionId:this.connection.connectionId,metadata:this.connection.metadata};if(this.connection.type==="data"){const i=this.connection;r=Lj(_x({},r),{label:i.label,reliable:i.reliable,serialization:i.serialization})}t.socket.send({type:"OFFER",payload:r,dst:this.connection.peer})}catch(r){r!="OperationError: Failed to set local offer sdp: Called in wrong state: kHaveRemoteOffer"&&(t.emitError("webrtc",r),ke.log("Failed to setLocalDescription, ",r))}}catch(n){t.emitError("webrtc",n),ke.log("Failed to createOffer, ",n)}})}_makeAnswer(){return Uc(this,null,function*(){const e=this.connection.peerConnection,t=this.connection.provider;try{const n=yield e.createAnswer();if(e.signalingState==="closed")return;ke.log("Created answer."),this.connection.options.sdpTransform&&typeof this.connection.options.sdpTransform=="function"&&(n.sdp=this.connection.options.sdpTransform(n.sdp)||n.sdp);try{yield e.setLocalDescription(n),ke.log("Set localDescription:",n,`for:${this.connection.peer}`),t.socket.send({type:"ANSWER",payload:{sdp:n,type:this.connection.type,connectionId:this.connection.connectionId},dst:this.connection.peer})}catch(r){t.emitError("webrtc",r),ke.log("Failed to setLocalDescription, ",r)}}catch(n){t.emitError("webrtc",n),ke.log("Failed to create answer, ",n)}})}handleSDP(e,t){return Uc(this,null,function*(){const n=this.webRtc.RTCSessionDescription;t=new n(t);const r=this.connection.peerConnection,i=this.connection.provider;ke.log("Setting remote description",t);const s=this;try{yield r.setRemoteDescription(t),ke.log(`Set remoteDescription:${e} for:${this.connection.peer}`),e==="OFFER"&&(yield s._makeAnswer())}catch(o){i.emitError("webrtc",o),ke.log("Failed to setRemoteDescription, ",o)}})}handleCandidate(e){return Uc(this,null,function*(){ke.log("handleCandidate:",e);const t=e.candidate,n=e.sdpMLineIndex,r=e.sdpMid,i=this.connection.peerConnection,s=this.connection.provider;try{const o=this.webRtc.RTCIceCandidate;yield i.addIceCandidate(new o({sdpMid:r,sdpMLineIndex:n,candidate:t})),ke.log(`Added ICE candidate for:${this.connection.peer}`)}catch(o){s.emitError("webrtc",o),ke.log("Failed to handleCandidate, ",o)}})}_addTracksToConnection(e,t){if(ke.log(`add tracks from stream ${e.id} to peer connection`),!t.addTrack)return ke.error("Your browser does't support RTCPeerConnection#addTrack. Ignored.");e.getTracks().forEach(n=>{t.addTrack(n,e)})}_addStreamToMediaConnection(e,t){ke.log(`add stream ${e.id} to media connection ${t.connectionId}`),t.addStream(e)}},Xq=Fh(Ay()),Bj=class extends Xq.EventEmitter{constructor(e,t,n){super(),this.peer=e,this.provider=t,this.options=n,this._open=!1,this.metadata=n.metadata}get open(){return this._open}},Dj=class extends Bj{get type(){return"media"}get localStream(){return this._localStream}get remoteStream(){return this._remoteStream}constructor(e,t,n){super(e,t,n),this._localStream=this.options._stream,this.connectionId=this.options.connectionId||Dj.ID_PREFIX+dn.randomToken(),this._negotiator=new Nj(this),this._localStream&&this._negotiator.startConnection({_stream:this._localStream,originator:!0})}addStream(e){ke.log("Receiving stream",e),this._remoteStream=e,super.emit("stream",e)}handleMessage(e){const t=e.type,n=e.payload;switch(e.type){case"ANSWER":this._negotiator.handleSDP(t,n.sdp),this._open=!0;break;case"CANDIDATE":this._negotiator.handleCandidate(n.candidate);break;default:ke.warn(`Unrecognized message type:${t} from peer:${this.peer}`);break}}answer(e,t={}){if(this._localStream){ke.warn("Local stream already exists on this MediaConnection. Are you answering a call twice?");return}this._localStream=e,t&&t.sdpTransform&&(this.options.sdpTransform=t.sdpTransform),this._negotiator.startConnection(Lj(_x({},this.options._payload),{_stream:e}));const n=this.provider._getMessages(this.connectionId);for(let r of n)this.handleMessage(r);this._open=!0}close(){this._negotiator&&(this._negotiator.cleanup(),this._negotiator=null),this._localStream=null,this._remoteStream=null,this.provider&&(this.provider._removeConnection(this),this.provider=null),this.options&&this.options._stream&&(this.options._stream=null),this.open&&(this._open=!1,super.emit("close"))}},xb=Dj;xb.ID_PREFIX="mc_";var Zq=Fh(Ay()),eW=class extends Zq.EventEmitter{constructor(e){super(),this.fileReader=e,this._queue=[],this._processing=!1,this.fileReader.onload=t=>{this._processing=!1,t.target&&this.emit("done",t.target.result),this.doNextTask()},this.fileReader.onerror=t=>{ke.error("EncodingQueue error:",t),this._processing=!1,this.destroy(),this.emit("error",t)}}get queue(){return this._queue}get size(){return this.queue.length}get processing(){return this._processing}enque(e){this.queue.push(e),!this.processing&&this.doNextTask()}destroy(){this.fileReader.abort(),this._queue=[]}doNextTask(){this.size!==0&&(this.processing||(this._processing=!0,this.fileReader.readAsArrayBuffer(this.queue.shift())))}},wb=class extends Bj{constructor(e,t,n){super(e,t,n),this.stringify=JSON.stringify,this.parse=JSON.parse,this._buffer=[],this._bufferSize=0,this._buffering=!1,this._chunkedData={};var r,i;this.connectionId=this.options.connectionId||wb.ID_PREFIX+dn.randomToken(),this.label=this.options.label||this.connectionId,this.serialization=this.options.serialization||"binary",this.reliable=!!this.options.reliable,this.FileReaderCtr=(i=(r=t.options.polyfills)==null?void 0:r.FileReader)!=null?i:window.FileReader,this._encodingQueue=new eW(new this.FileReaderCtr),this._encodingQueue.on("done",s=>{this._bufferedSend(s)}),this._encodingQueue.on("error",()=>{ke.error(`DC#${this.connectionId}: Error occured in encoding from blob to arraybuffer, close DC`),this.close()}),this._negotiator=new Nj(this),this._negotiator.startConnection(this.options._payload||{originator:!0})}get type(){return"data"}get dataChannel(){return this._dc}get bufferSize(){return this._bufferSize}initialize(e){this._dc=e,this._configureDataChannel()}_configureDataChannel(){(!this.provider.features.binaryBlob||this.provider.features.reliable)&&(this.dataChannel.binaryType="arraybuffer"),this.dataChannel.onopen=()=>{ke.log(`DC#${this.connectionId} dc connection success`),this._open=!0,this.emit("open")},this.dataChannel.onmessage=e=>{ke.log(`DC#${this.connectionId} dc onmessage:`,e.data),this._handleDataMessage(e)},this.dataChannel.onclose=()=>{ke.log(`DC#${this.connectionId} dc closed for:`,this.peer),this.close()}}_handleDataMessage({data:e}){const t=e.constructor,n=this.serialization==="binary"||this.serialization==="binary-utf8";let r=e;if(n){if(t===Blob){dn.blobToArrayBuffer(this.FileReaderCtr,e,i=>{const s=dn.unpack(i);this.emit("data",s)});return}else if(t===ArrayBuffer)r=dn.unpack(e);else if(t===String){const i=dn.binaryStringToArrayBuffer(e);r=dn.unpack(i)}}else this.serialization==="json"&&(r=this.parse(e));if(r.__peerData){this._handleChunk(r);return}super.emit("data",r)}_handleChunk(e){const t=e.__peerData,n=this._chunkedData[t]||{data:[],count:0,total:e.total};if(n.data[e.n]=e.data,n.count++,this._chunkedData[t]=n,n.total===n.count){delete this._chunkedData[t];const r=new Blob(n.data);this._handleDataMessage({data:r})}}close(){this._buffer=[],this._bufferSize=0,this._chunkedData={},this._negotiator&&(this._negotiator.cleanup(),this._negotiator=null),this.provider&&(this.provider._removeConnection(this),this.provider=null),this.dataChannel&&(this.dataChannel.onopen=null,this.dataChannel.onmessage=null,this.dataChannel.onclose=null,this._dc=null),this._encodingQueue&&(this._encodingQueue.destroy(),this._encodingQueue.removeAllListeners(),this._encodingQueue=null),this.open&&(this._open=!1,super.emit("close"))}send(e,t){if(!this.open){super.emit("error",new Error("Connection is not open. You should listen for the `open` event before sending messages."));return}if(this.serialization==="json")this._bufferedSend(this.stringify(e));else if(this.serialization==="binary"||this.serialization==="binary-utf8"){const n=dn.pack(e);if(!t&&n.size>dn.chunkedMTU){this._sendChunks(n);return}this.provider.features.binaryBlob?this._bufferedSend(n):this._encodingQueue.enque(n)}else this._bufferedSend(e)}_bufferedSend(e){(this._buffering||!this._trySend(e))&&(this._buffer.push(e),this._bufferSize=this._buffer.length)}_trySend(e){if(!this.open)return!1;if(this.dataChannel.bufferedAmount>wb.MAX_BUFFERED_AMOUNT)return this._buffering=!0,setTimeout(()=>{this._buffering=!1,this._tryBuffer()},50),!1;try{this.dataChannel.send(e)}catch(t){return ke.error(`DC#:${this.connectionId} Error when sending:`,t),this._buffering=!0,this.close(),!1}return!0}_tryBuffer(){if(!this.open||this._buffer.length===0)return;const e=this._buffer[0];this._trySend(e)&&(this._buffer.shift(),this._bufferSize=this._buffer.length,this._tryBuffer())}_sendChunks(e){const t=dn.chunk(e);ke.log(`DC#${this.connectionId} Try to send ${t.length} chunks...`);for(let n of t)this.send(n,!0)}handleMessage(e){const t=e.payload;switch(e.type){case"ANSWER":this._negotiator.handleSDP(e.type,t.sdp);break;case"CANDIDATE":this._negotiator.handleCandidate(t.candidate);break;default:ke.warn("Unrecognized message type:",e.type,"from peer:",this.peer);break}}},Vm=wb;Vm.ID_PREFIX="dc_";Vm.MAX_BUFFERED_AMOUNT=8*1024*1024;var tW=class{constructor(e){this._options=e}_request(e){var t,n;return((n=(t=this._options.polyfills)==null?void 0:t.fetch)!=null?n:window.fetch)(e)}_buildUrl(e){let n=(this._options.secure?"https://":"http://")+this._options.host+":"+this._options.port+this._options.path+this._options.key+"/"+e;const r="?ts="+new Date().getTime()+Math.random();return n+=r,n}retrieveId(){return Uc(this,null,function*(){const e=this._buildUrl("id");try{const t=yield this._request(e);if(t.status!==200)throw new Error(`Error. Status:${t.status}`);return t.text()}catch(t){ke.error("Error retrieving ID",t);let n="";throw this._options.path==="/"&&this._options.host!==dn.CLOUD_HOST&&(n=" If you passed in a `path` to your self-hosted PeerServer, you'll also need to pass in that same path when creating a new Peer."),new Error("Could not get an ID from the server."+n)}})}listAllPeers(){return Uc(this,null,function*(){const e=this._buildUrl("peers");try{const t=yield this._request(e);if(t.status!==200){if(t.status===401){let n="";throw this._options.host===dn.CLOUD_HOST?n="It looks like you're using the cloud server. You can email team@peerjs.com to enable peer listing for your API key.":n="You need to enable `allow_discovery` on your self-hosted PeerServer to use this feature.",new Error("It doesn't look like you have permission to list peers IDs. "+n)}throw new Error(`Error. Status:${t.status}`)}return t.json()}catch(t){throw ke.error("Error retrieving list peers",t),new Error("Could not get list peers from the server."+t)}})}},nW={isUnifiedPlanSupported(e){if(!e&&typeof window<"u"&&(e=window),typeof e.RTCRtpTransceiver>"u"||!("currentDirection"in e.RTCRtpTransceiver.prototype))return!1;let t,n=!1;try{t=new e.RTCPeerConnection,t.addTransceiver("audio"),n=!0}catch{}finally{t&&t.close()}return n}},dl=class extends qq.EventEmitter{constructor(e,t){super(),this._id=null,this._lastServerId=null,this._destroyed=!1,this._disconnected=!1,this._open=!1,this._connections=new Map,this._lostMessages=new Map;var n;let r;if(e&&e.constructor==Object?t=e:e&&(r=e.toString()),t=_x({debug:0,host:dn.CLOUD_HOST,port:dn.CLOUD_PORT,path:"/",key:dl.DEFAULT_KEY,token:dn.randomToken(),config:dn.defaultConfig},t),this._options=t,typeof window<"u"&&this._options.host==="/"&&(this._options.host=window.location.hostname),this._options.path&&(this._options.path[0]!=="/"&&(this._options.path="/"+this._options.path),this._options.path[this._options.path.length-1]!=="/"&&(this._options.path+="/")),this._options.secure===void 0&&this._options.host!==dn.CLOUD_HOST?this._options.secure=dn.isSecure():this._options.host==dn.CLOUD_HOST&&(this._options.secure=!0),this._options.logFunction&&ke.setLogFunction(this._options.logFunction),ke.logLevel=this._options.debug||0,this._api=new tW(t),this._socket=this._createServerConnection(),this.features=dl.getFeatures((n=this._options.polyfills)==null?void 0:n.WebRTC),!this.features.audioVideo&&!this.features.data){this._delayedAbort("browser-incompatible","The current browser does not support WebRTC");return}if(r&&!dn.validateId(r)){this._delayedAbort("invalid-id",`ID "${r}" is invalid`);return}this.socket.alive=!0,r?this._initialize(r):this._api.retrieveId().then(i=>this._initialize(i)).catch(i=>this._abort("server-error",i))}get id(){return this._id}get options(){return this._options}get open(){return this._open}get socket(){return this._socket}get connections(){const e=Object.create(null);for(let[t,n]of this._connections)e[t]=n;return e}get destroyed(){return this._destroyed}get disconnected(){return this._disconnected}_createServerConnection(){const e=new Qq(this._options);return e.on("message",t=>{this._handleMessage(t)}),e.on("error",t=>{this._abort("socket-error",t)}),e.on("disconnected",()=>{this.disconnected||(this.emitError("network","Lost connection to server."),this.disconnect())}),e.on("close",()=>{this.disconnected||this._abort("socket-closed","Underlying socket is already closed.")}),e}_initialize(e){this.destroyed||(this._id=e,this.socket.start(e,this._options.token))}_handleMessage(e){const t=e.type,n=e.payload,r=e.src;switch(t){case"OPEN":this._lastServerId=this.id,this._open=!0,this.emit("open",this.id);break;case"ERROR":this._abort("server-error",n.msg);break;case"ID-TAKEN":this._abort("unavailable-id",`ID "${this.id}" is taken`);break;case"INVALID-KEY":this._abort("invalid-key",`API KEY "${this._options.key}" is invalid`);break;case"LEAVE":ke.log(`Received leave message from ${r}`),this._cleanupPeer(r),this._connections.delete(r);break;case"EXPIRE":this.emitError("peer-unavailable",`Could not connect to peer ${r}`);break;case"OFFER":{const i=n.connectionId;let s=this.getConnection(r,i);if(s&&(s.close(),ke.warn(`Offer received for existing Connection ID:${i}`)),n.type==="media")s=new xb(r,this,{connectionId:i,_payload:n,metadata:n.metadata}),this._addConnection(r,s),this.emit("call",s);else if(n.type==="data")s=new Vm(r,this,{connectionId:i,_payload:n,metadata:n.metadata,label:n.label,serialization:n.serialization,reliable:n.reliable}),this._addConnection(r,s),this.emit("connection",s);else{ke.warn(`Received malformed connection type:${n.type}`);return}const o=this._getMessages(i);for(let a of o)s.handleMessage(a);break}default:{if(!n){ke.warn(`You received a malformed message from ${r} of type ${t}`);return}const i=n.connectionId,s=this.getConnection(r,i);s&&s.peerConnection?s.handleMessage(e):i?this._storeMessage(i,e):ke.warn("You received an unrecognized message:",e);break}}}_storeMessage(e,t){this._lostMessages.has(e)||this._lostMessages.set(e,[]),this._lostMessages.get(e).push(t)}_getMessages(e){const t=this._lostMessages.get(e);return t?(this._lostMessages.delete(e),t):[]}connect(e,t={}){if(this.disconnected){ke.warn("You cannot connect to a new Peer because you called .disconnect() on this Peer and ended your connection with the server. You can create a new Peer to reconnect, or call reconnect on this peer if you believe its ID to still be available."),this.emitError("disconnected","Cannot connect to new Peer after disconnecting from server.");return}const n=new Vm(e,this,t);return this._addConnection(e,n),n}call(e,t,n={}){if(this.disconnected){ke.warn("You cannot connect to a new Peer because you called .disconnect() on this Peer and ended your connection with the server. You can create a new Peer to reconnect."),this.emitError("disconnected","Cannot connect to new Peer after disconnecting from server.");return}if(!t){ke.error("To call a peer, you must provide a stream from your browser's `getUserMedia`.");return}n._stream=t;const r=new xb(e,this,n);return this._addConnection(e,r),r}_addConnection(e,t){ke.log(`add connection ${t.type}:${t.connectionId} to peerId:${e}`),this._connections.has(e)||this._connections.set(e,[]),this._connections.get(e).push(t)}_removeConnection(e){const t=this._connections.get(e.peer);if(t){const n=t.indexOf(e);n!==-1&&(t.splice(n,1),t.length===0&&this._connections.delete(e.peer))}this._lostMessages.delete(e.connectionId)}getConnection(e,t){const n=this._connections.get(e);if(!n)return null;for(let r of n)if(r.connectionId===t)return r;return null}_delayedAbort(e,t){setTimeout(()=>{this._abort(e,t)},0)}_abort(e,t){ke.error("Aborting!"),this.emitError(e,t),this._lastServerId?this.disconnect():this.destroy()}emitError(e,t){ke.error("Error:",t);let n;typeof t=="string"?n=new Error(t):n=t,n.type=e,this.emit("error",n)}destroy(){this.destroyed||(ke.log(`Destroy peer with ID:${this.id}`),this.disconnect(),this._cleanup(),this.socket.destroy(),this._destroyed=!0,this.emit("close"))}_cleanup(){for(let e of this._connections.keys())this._cleanupPeer(e),this._connections.delete(e);this.socket.removeAllListeners()}_cleanupPeer(e){const t=this._connections.get(e);if(t)for(let n of t)n.close()}disconnect(){if(this.disconnected)return;const e=this.id;ke.log(`Disconnect peer with ID:${e}`),this._disconnected=!0,this._open=!1,this.socket.alive=!1,this.socket.close(),this._lastServerId=e,this._id=null,this.emit("disconnected",e)}reconnect(){if(this.disconnected&&!this.destroyed)ke.log(`Attempting reconnection to server with ID ${this._lastServerId}`),this._disconnected=!1,this.socket.alive=!0,this._initialize(this._lastServerId);else{if(this.destroyed)throw new Error("This peer cannot reconnect to the server. It has already been destroyed.");if(!this.disconnected&&!this.open)ke.error("In a hurry? We're still trying to make the initial connection!");else throw new Error(`Peer ${this.id} cannot reconnect because it is not disconnected from the server!`)}}listAllPeers(e=t=>{}){this._api.listAllPeers().then(t=>e(t)).catch(t=>this._abort("server-error",t))}static getFeatures(e){return!e&&typeof window<"u"&&(e=window),dl._features||(dl._features=dl.checkFeatures(e)),dl._features}static checkFeatures(e){!e&&typeof window<"u"&&(e=window);const t={webRTC:typeof e.RTCPeerConnection<"u",audioVideo:!0,data:!1,binaryBlob:!1,reliable:!1,unifiedPlan:!1};if(!t.webRTC)return t;let n;try{n=new e.RTCPeerConnection(dn.defaultConfig);let r;try{r=n.createDataChannel("_PEERJSTEST",{ordered:!0}),t.data=!0,t.reliable=!!r.ordered;try{r.binaryType="blob",t.binaryBlob=!0}catch{}}catch{}finally{r&&r.close()}}catch{}finally{n&&n.close()}return t.unifiedPlan=nW.isUnifiedPlanSupported(e),t}},by=dl;by.DEFAULT_KEY="peerjs";typeof window<"u"&&(window.Peer=by);class rW extends zs{constructor(){super(...arguments),this.name="PeerJS",this.peer=null,this.connectedPeers={},this.getCurrentPing=()=>0,this.disconnect=()=>{var t;(t=this.peer)==null||t.disconnect()}}connect(t,n,r){this.peer=new by(`allkaraoke-party-room-${t}`,jj),this.peer.on("open",function(i){n(),console.log("My peer ID is: "+i)}),this.peer.on("connection",i=>{this.connectedPeers[i.peer]=i,i.on("data",s=>{this.onUpdate(s,i)}),i.on("error",s=>console.warn("error",s)),i.on("iceStateChanged",s=>{(s==="disconnected"||s==="closed")&&(this.connectedPeers[i.peer]=i,this.onUpdate({t:"unregister"},i))}),i.on("close",()=>{delete this.connectedPeers[i.peer],rt.removeRemoteMic(i.peer)})})}removePlayer(t){var n;(n=this.connectedPeers[t])==null||n.close()}}const $j="wss://backend.allkaraoke.party";class iW extends zs{constructor(){super(),this.name="WebSockets",this.connection=null,this.disconnect=()=>{var t;(t=this.connection)==null||t.close()},this.latency=0,this.pingStart=Ur(),this.pinging=!1,this.pingTimeout=null,this.ping=()=>{var t;this.pinging=!0,this.pingStart=Ur(),(t=this.connection)==null||t.send(rs({t:"ping"}))},this.onPong=()=>{this.pinging&&(this.latency=Ur()-this.pingStart,this.pinging=!1,this.pingTimeout&&clearTimeout(this.pingTimeout),this.pingTimeout=setTimeout(this.ping,5e3))},this.getCurrentPing=()=>this.pinging?Math.max(this.latency,Ur()-this.pingStart):this.latency}connect(t,n,r){this.connection=new WebSocket($j),this.connection.binaryType="arraybuffer",this.connection.onopen=()=>{var i,s;(i=this.connection)==null||i.send(rs({t:"register-room",id:t})),n(),this.ping(),(s=this.connection)==null||s.addEventListener("message",o=>{var l;const a=ed(o.data);if(a.t==="forward"){["ping","pong","freq"].includes((l=a==null?void 0:a.payload)==null?void 0:l.t)||console.log("received",a);const{sender:c,payload:u}=a,d=new sW(c,this.connection);this.onUpdate(u,d)}else a.t==="pong"?this.onPong():console.warn("Unknown message type",a)})},this.connection.onclose=i=>{r(i.reason,i)}}removePlayer(t){var n;(n=this.connection)==null||n.send(rs({t:"remove-player",id:t}))}}class sW{constructor(t,n){this.peer=t,this.socket=n,this.currentPing=0,this.send=r=>{const i={t:"forward",recipients:[this.peer],payload:r};["ping","pong","freq"].includes(r==null?void 0:r.t)||console.log("sending",this.peer,r),this.socket.send(rs(i))},this.callbacksMap=new Map,this.on=(r,i)=>{r==="data"&&(this.callbacksMap.set(i,s=>{const o=ed(s.data);if(o.t==="forward"){const{sender:a,payload:l}=o;a===this.peer&&i(l)}}),this.socket.addEventListener("message",this.callbacksMap.get(i)))},this.off=(r,i)=>{if(r==="data"){const s=this.callbacksMap.get(i);this.socket.removeEventListener("message",s),this.callbacksMap.delete(i)}},this.close=()=>{this.socket.close()}}}var Fj={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(ha,function(){var n=1e3,r=6e4,i=36e5,s="millisecond",o="second",a="minute",l="hour",c="day",u="week",d="month",h="quarter",p="year",g="date",m="Invalid Date",b=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,y=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,v={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(V){var P=["th","st","nd","rd"],T=V%100;return"["+V+(P[(T-20)%10]||P[T]||P[0])+"]"}},_=function(V,P,T){var z=String(V);return!z||z.length>=P?V:""+Array(P+1-z.length).join(T)+V},x={s:_,z:function(V){var P=-V.utcOffset(),T=Math.abs(P),z=Math.floor(T/60),B=T%60;return(P<=0?"+":"-")+_(z,2,"0")+":"+_(B,2,"0")},m:function V(P,T){if(P.date()<T.date())return-V(T,P);var z=12*(T.year()-P.year())+(T.month()-P.month()),B=P.clone().add(z,d),D=T-B<0,F=P.clone().add(z+(D?-1:1),d);return+(-(z+(T-B)/(D?B-F:F-B))||0)},a:function(V){return V<0?Math.ceil(V)||0:Math.floor(V)},p:function(V){return{M:d,y:p,w:u,d:c,D:g,h:l,m:a,s:o,ms:s,Q:h}[V]||String(V||"").toLowerCase().replace(/s$/,"")},u:function(V){return V===void 0}},S="en",E={};E[S]=v;var C="$isDayjsObject",k=function(V){return V instanceof N||!(!V||!V[C])},O=function V(P,T,z){var B;if(!P)return S;if(typeof P=="string"){var D=P.toLowerCase();E[D]&&(B=D),T&&(E[D]=T,B=D);var F=P.split("-");if(!B&&F.length>1)return V(F[0])}else{var G=P.name;E[G]=P,B=G}return!z&&B&&(S=B),B||!z&&S},w=function(V,P){if(k(V))return V.clone();var T=typeof P=="object"?P:{};return T.date=V,T.args=arguments,new N(T)},M=x;M.l=O,M.i=k,M.w=function(V,P){return w(V,{locale:P.$L,utc:P.$u,x:P.$x,$offset:P.$offset})};var N=function(){function V(T){this.$L=O(T.locale,null,!0),this.parse(T),this.$x=this.$x||T.x||{},this[C]=!0}var P=V.prototype;return P.parse=function(T){this.$d=function(z){var B=z.date,D=z.utc;if(B===null)return new Date(NaN);if(M.u(B))return new Date;if(B instanceof Date)return new Date(B);if(typeof B=="string"&&!/Z$/i.test(B)){var F=B.match(b);if(F){var G=F[2]-1||0,U=(F[7]||"0").substring(0,3);return D?new Date(Date.UTC(F[1],G,F[3]||1,F[4]||0,F[5]||0,F[6]||0,U)):new Date(F[1],G,F[3]||1,F[4]||0,F[5]||0,F[6]||0,U)}}return new Date(B)}(T),this.init()},P.init=function(){var T=this.$d;this.$y=T.getFullYear(),this.$M=T.getMonth(),this.$D=T.getDate(),this.$W=T.getDay(),this.$H=T.getHours(),this.$m=T.getMinutes(),this.$s=T.getSeconds(),this.$ms=T.getMilliseconds()},P.$utils=function(){return M},P.isValid=function(){return this.$d.toString()!==m},P.isSame=function(T,z){var B=w(T);return this.startOf(z)<=B&&B<=this.endOf(z)},P.isAfter=function(T,z){return w(T)<this.startOf(z)},P.isBefore=function(T,z){return this.endOf(z)<w(T)},P.$g=function(T,z,B){return M.u(T)?this[z]:this.set(B,T)},P.unix=function(){return Math.floor(this.valueOf()/1e3)},P.valueOf=function(){return this.$d.getTime()},P.startOf=function(T,z){var B=this,D=!!M.u(z)||z,F=M.p(T),G=function(Ee,ae){var be=M.w(B.$u?Date.UTC(B.$y,ae,Ee):new Date(B.$y,ae,Ee),B);return D?be:be.endOf(c)},U=function(Ee,ae){return M.w(B.toDate()[Ee].apply(B.toDate("s"),(D?[0,0,0,0]:[23,59,59,999]).slice(ae)),B)},ne=this.$W,$=this.$M,fe=this.$D,Z="set"+(this.$u?"UTC":"");switch(F){case p:return D?G(1,0):G(31,11);case d:return D?G(1,$):G(0,$+1);case u:var oe=this.$locale().weekStart||0,Re=(ne<oe?ne+7:ne)-oe;return G(D?fe-Re:fe+(6-Re),$);case c:case g:return U(Z+"Hours",0);case l:return U(Z+"Minutes",1);case a:return U(Z+"Seconds",2);case o:return U(Z+"Milliseconds",3);default:return this.clone()}},P.endOf=function(T){return this.startOf(T,!1)},P.$set=function(T,z){var B,D=M.p(T),F="set"+(this.$u?"UTC":""),G=(B={},B[c]=F+"Date",B[g]=F+"Date",B[d]=F+"Month",B[p]=F+"FullYear",B[l]=F+"Hours",B[a]=F+"Minutes",B[o]=F+"Seconds",B[s]=F+"Milliseconds",B)[D],U=D===c?this.$D+(z-this.$W):z;if(D===d||D===p){var ne=this.clone().set(g,1);ne.$d[G](U),ne.init(),this.$d=ne.set(g,Math.min(this.$D,ne.daysInMonth())).$d}else G&&this.$d[G](U);return this.init(),this},P.set=function(T,z){return this.clone().$set(T,z)},P.get=function(T){return this[M.p(T)]()},P.add=function(T,z){var B,D=this;T=Number(T);var F=M.p(z),G=function($){var fe=w(D);return M.w(fe.date(fe.date()+Math.round($*T)),D)};if(F===d)return this.set(d,this.$M+T);if(F===p)return this.set(p,this.$y+T);if(F===c)return G(1);if(F===u)return G(7);var U=(B={},B[a]=r,B[l]=i,B[o]=n,B)[F]||1,ne=this.$d.getTime()+T*U;return M.w(ne,this)},P.subtract=function(T,z){return this.add(-1*T,z)},P.format=function(T){var z=this,B=this.$locale();if(!this.isValid())return B.invalidDate||m;var D=T||"YYYY-MM-DDTHH:mm:ssZ",F=M.z(this),G=this.$H,U=this.$m,ne=this.$M,$=B.weekdays,fe=B.months,Z=B.meridiem,oe=function(ae,be,Ve,Ne){return ae&&(ae[be]||ae(z,D))||Ve[be].slice(0,Ne)},Re=function(ae){return M.s(G%12||12,ae,"0")},Ee=Z||function(ae,be,Ve){var Ne=ae<12?"AM":"PM";return Ve?Ne.toLowerCase():Ne};return D.replace(y,function(ae,be){return be||function(Ve){switch(Ve){case"YY":return String(z.$y).slice(-2);case"YYYY":return M.s(z.$y,4,"0");case"M":return ne+1;case"MM":return M.s(ne+1,2,"0");case"MMM":return oe(B.monthsShort,ne,fe,3);case"MMMM":return oe(fe,ne);case"D":return z.$D;case"DD":return M.s(z.$D,2,"0");case"d":return String(z.$W);case"dd":return oe(B.weekdaysMin,z.$W,$,2);case"ddd":return oe(B.weekdaysShort,z.$W,$,3);case"dddd":return $[z.$W];case"H":return String(G);case"HH":return M.s(G,2,"0");case"h":return Re(1);case"hh":return Re(2);case"a":return Ee(G,U,!0);case"A":return Ee(G,U,!1);case"m":return String(U);case"mm":return M.s(U,2,"0");case"s":return String(z.$s);case"ss":return M.s(z.$s,2,"0");case"SSS":return M.s(z.$ms,3,"0");case"Z":return F}return null}(ae)||F.replace(":","")})},P.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},P.diff=function(T,z,B){var D,F=this,G=M.p(z),U=w(T),ne=(U.utcOffset()-this.utcOffset())*r,$=this-U,fe=function(){return M.m(F,U)};switch(G){case p:D=fe()/12;break;case d:D=fe();break;case h:D=fe()/3;break;case u:D=($-ne)/6048e5;break;case c:D=($-ne)/864e5;break;case l:D=$/i;break;case a:D=$/r;break;case o:D=$/n;break;default:D=$}return B?D:M.a(D)},P.daysInMonth=function(){return this.endOf(d).$D},P.$locale=function(){return E[this.$L]},P.locale=function(T,z){if(!T)return this.$L;var B=this.clone(),D=O(T,z,!0);return D&&(B.$L=D),B},P.clone=function(){return M.w(this.$d,this)},P.toDate=function(){return new Date(this.valueOf())},P.toJSON=function(){return this.isValid()?this.toISOString():null},P.toISOString=function(){return this.$d.toISOString()},P.toString=function(){return this.$d.toUTCString()},V}(),R=N.prototype;return w.prototype=R,[["$ms",s],["$s",o],["$m",a],["$H",l],["$W",c],["$M",d],["$y",p],["$D",g]].forEach(function(V){R[V[1]]=function(P){return this.$g(P,V[0],V[1])}}),w.extend=function(V,P){return V.$i||(V(P,N,w),V.$i=!0),w},w.locale=O,w.isDayjs=k,w.unix=function(V){return w(1e3*V)},w.en=E[S],w.Ls=E,w.p={},w})})(Fj);var oW=Fj.exports;const Rs=Ar(oW);function Eb(e){return!!e}function aW(e){return[...Array(e).keys()]}const lW=250,Wv=(e,t=0,n=1/0)=>e.filter(Pt).filter(r=>Va([r])>=t).filter(r=>Jf([r])<=n).reduce((r,i)=>r+i.notes.reduce((s,o)=>s+o.length,0),0),cW=(e,t)=>{const[n,...r]=e.filter(Pt),i=[[n]];return r.forEach(s=>{const o=i.at(-1),a=Jf(o);(Va([s])-a)*t>lW?i.push([s]):o.push(s)}),i},zj=(e,t)=>e+t,Bk=e=>{const t=e.map(n=>n.reduce(zj,0));return Math.max(...t)-Math.min(...t)},uW=(e,t)=>{const n=JSON.parse(JSON.stringify(e)),r=s=>{if(n[s-1].length<2)return;const o=n[s-1].pop();n[s].push(o)},i=s=>{var l;if(((l=n[s+1])==null?void 0:l.length)<2)return;const[o,...a]=n[s+1];n[s].push(o),n[s+1]=a};return t%2===1?r(Math.ceil(t/2)):i(Math.ceil(t/2)),n},dW=e=>e.reduce(zj,0);function xx(e,t){const r=dd(t);if(e.sections.length<9)return[];const i=cW(e.sections,r);let s=[],o=[Wv(i[0])];for(let a=0;a<i.length-2;a++){const l=i[s.flat().length-1]??[],u=Wv(e.sections,Jf(l)??0)/(10-s.length),d=Wv(i[a+1]),h=dW(o);h+d<u?o=[...o,d]:u-h<h+d-u?(s.push(o),o=[d]):(s.push([...o,d]),o=[])}for(let a=0;a<100;a++){const l=Bk(s),c=aW((s.length-2)*2+2).map(p=>uW(s,p)),u=c.map(Bk),d=Math.min(...u);if(l<=d)break;const h=u.indexOf(d);s=c[h]}return s.map(a=>a.length).reduce((a,l)=>[...a,(a.at(-1)??0)+l],[]).map(a=>Jf(i[a-1]))}var Uj={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(ha,function(){function n(r){return typeof r=="string"?r.replace(/[^A-Za-z0-9]/g,function(i){return n.characters[i]||i}):r}return n.characters={:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A","":"A",:"A","":"AA",:"AE",:"AE",:"AE","":"AO","":"AU","":"AV","":"AV","":"AY",:"B",:"B",:"B",:"B","":"B",:"B",:"C",:"C",:"C",:"C",:"C",:"C",:"C","":"C",:"D",:"D",:"D",:"D",:"D",:"D",:"D",:"D",:"D",:"D",:"D",:"D",:"DZ",:"DZ",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E","":"E",:"E",:"E","":"ET",:"F",:"F",:"G",:"G",:"G",:"G",:"G",:"G",:"G",:"G",:"G",:"H",:"H",:"H",:"H","":"H",:"H",:"H",:"H",:"H",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I","":"D","":"F","":"G","":"R","":"S","":"T","":"IS",:"J","":"J",:"K",:"K",:"K","":"K","":"K",:"K",:"K",:"K","":"K","":"K",:"L","":"L",:"L",:"L",:"L",:"L",:"L","":"L","":"L",:"L",:"L","":"L",:"L",:"L",:"LJ",:"M",:"M",:"M","":"M",:"N",:"N",:"N",:"N",:"N",:"N",:"N",:"N",:"N","":"N",:"N",:"N",:"NJ",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O","":"O","":"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"OI","":"OO",:"E",:"O",:"OU",:"P",:"P","":"P",:"P","":"P","":"P","":"P","":"Q","":"Q",:"R",:"R",:"R",:"R",:"R",:"R",:"R",:"R",:"R","":"R","":"R","":"C",:"E",:"S",:"S",:"S",:"S",:"S",:"S",:"S",:"S",:"S",:"S",:"ss",:"T",:"T",:"T",:"T","":"T",:"T",:"T",:"T",:"T",:"T",:"T","":"A","":"L",:"M","":"V","":"TZ",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U","":"V",:"V",:"V",:"V","":"VY",:"W",:"W",:"W",:"W",:"W",:"W","":"W",:"X",:"X",:"Y",:"Y",:"Y",:"Y",:"Y",:"Y",:"Y",:"Y","":"Y",:"Y","":"Y",:"Y",:"YI",:"Z",:"Z",:"Z","":"Z",:"Z",:"Z",:"Z",:"Z",:"Z",:"TH",:"IJ",:"OE","":"A","":"AE",:"B","":"B","":"C","":"D","":"E","":"F",:"G",:"G",:"H",:"I",:"R","":"J","":"K",:"L","":"L","":"M",:"N","":"O",:"OE","":"O","":"OU","":"P",:"R","":"N","":"R","":"S","":"T","":"E","":"R","":"U","":"V","":"W",:"Y","":"Z",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a","":"a",:"a",:"a",:"a",:"a","":"a",:"a","":"aa",:"ae",:"ae",:"ae","":"ao","":"au","":"av","":"av","":"ay",:"b",:"b",:"b",:"b","":"b","":"b",:"b",:"b",:"o",:"c",:"c",:"c",:"c",:"c",:"c",:"c",:"c","":"c",:"d",:"d",:"d","":"d",:"d",:"d",:"d","":"d",:"d","":"d","":"d",:"d",:"d",:"d",:"d",:"i","":"j",:"j",:"j",:"dz",:"dz",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e","":"e",:"e","":"e","":"e",:"e",:"e","":"et",:"f",:"f","":"f","":"f",:"g",:"g",:"g",:"g",:"g",:"g",:"g",:"g","":"g",:"g",:"h",:"h",:"h",:"h","":"h",:"h",:"h",:"h",:"h",:"h",:"h",:"hv",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"i","":"i",:"i",:"i",:"i",:"i","":"d","":"f","":"g","":"r","":"s","":"t","":"is",:"j",:"j",:"j","":"j",:"k",:"k",:"k","":"k","":"k",:"k",:"k",:"k","":"k","":"k","":"k",:"l",:"l",:"l",:"l",:"l",:"l","":"l",:"l",:"l","":"l","":"l",:"l",:"l",:"l","":"l",:"l",:"l",:"lj",:"s","":"s",:"s","":"s",:"m",:"m",:"m",:"m","":"m","":"m",:"n",:"n",:"n",:"n","":"n",:"n",:"n",:"n",:"n",:"n",:"n","":"n","":"n",:"n",:"n",:"nj",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o","":"o","":"o","":"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"oi","":"oo",:"e","":"e",:"o","":"o",:"ou",:"p",:"p","":"p",:"p","":"p","":"p","":"p","":"p","":"p","":"q",:"q","":"q","":"q",:"r",:"r",:"r",:"r",:"r",:"r",:"r",:"r","":"r",:"r",:"r",:"r","":"r","":"r","":"r",:"r","":"c","":"c",:"e",:"r",:"s",:"s",:"s",:"s",:"s",:"s",:"s",:"s",:"s",:"s",:"s","":"s","":"s","":"s",:"g","":"o","":"o","":"u",:"t",:"t",:"t",:"t","":"t",:"t","":"t",:"t",:"t",:"t",:"t","":"t",:"t",:"t",:"t","":"th",:"a","":"ae",:"e","":"g",:"h","":"h","":"h","":"i",:"k","":"l",:"m",:"m","":"oe",:"r",:"r",:"r","":"r",:"t",:"v",:"w",:"y","":"tz",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u","":"u",:"u",:"u",:"u",:"u","":"ue","":"um","":"v","":"v",:"v",:"v","":"v","":"v",:"v","":"vy",:"w",:"w",:"w",:"w",:"w",:"w","":"w",:"w",:"x",:"x","":"x",:"y",:"y",:"y",:"y",:"y",:"y",:"y",:"y","":"y",:"y",:"y","":"y",:"y",:"yi",:"z",:"z",:"z",:"z","":"z",:"z",:"z",:"z",:"z","":"z","":"z",:"z",:"z","":"z",:"th",:"ff",:"ffi",:"ffl",:"fi",:"fl",:"ij",:"oe",:"st","":"a","":"e","":"i","":"j","":"o","":"r","":"u","":"v","":"x",:"YO",:"I",:"TS",:"U",:"K",:"E",:"N",:"G",:"G",:"SH",:"SCH",:"Z",:"H",:"'",:"yo",:"i",:"ts",:"u",:"k",:"e",:"n",:"g",:"g",:"sh",:"sch",:"z",:"h",:"'",:"F",:"I",:"V",:"a",:"P",:"R",:"O",:"L",:"D",:"ZH",:"E",:"f",:"i",:"v",:"a",:"p",:"r",:"o",:"l",:"d",:"zh",:"e",:"Ya",:"CH",:"S",:"M",:"I",:"T",:"'",:"B",:"YU",:"ya",:"ch",:"s",:"m",:"i",:"t",:"'",:"b",:"yu"},n})})(Uj);var fW=Uj.exports;const hW=Ar(fW),pW=/[^0-9a-z]/gi;function Vu(e){return wx(e).toLowerCase().normalize("NFKD").replace(pW,"")}function wx(e){return hW(e)}function Hj(e){return wx(e).toLowerCase().replace(/[^a-z0-9\s-]/g,"").replace(/\s+/g,"-").replace(/-+$/,"").replace(/^-+/,"").replace(/-+/g,"-")}function Ex(e){return e.id?e.id:Hj(`${e==null?void 0:e.artist}-${e==null?void 0:e.title}`)}const Dk=(e,t,n)=>n>=e&&n<=t,$k=e=>e.notes.map(t=>t.lyrics).join(""),Fk=e=>new Set(Vu(e)).size,gW=(e,t)=>{const n=e.reduce((i,s)=>`${i}${$k(s)}`,""),r=$k(t);return Fk(n)/Fk(r)<.5},mW=(e,t)=>{const n=t.start,r=Xf(t),i=e.filter(o=>{const a=o.start,l=Xf(o);return Dk(n,r,a)||Dk(n,r,l)||a<=n&&l>=r}),s=gW(i,t);return{section:t,shouldReplace:i.length===0||s,sectionsToRemove:i}};function Gj(e,t){if(e){if(e.length===1)return e[0]}else return e;const n=e.map(o=>o.sections.filter(Pt)),r=n[1].map(o=>mW(n[0],o));let i=[...n[0]];r.forEach((o,a)=>{o.shouldReplace&&(i=i.filter(l=>!o.sectionsToRemove.some(c=>c.start===l.start)),i.push(o.section))});const s={...e[0],sections:i.sort((o,a)=>o.start-a.start),changes:[]};return s.changes=xx(s,t),s}const zk={R:"rap",F:"freestyle","*":"star",":":"normal",G:"rapstar"},yW={rap:"R",freestyle:"F",star:"*",normal:":",rapstar:"G"},vW=["TRACKNAMES","YEAR","EDITION","GENRE","LANGUAGE","VIDEOGAP","PREVIEWSTART","CREATOR","TITLE","ARTIST","BPM","GAP","ID","LASTUPDATE","VOLUME","REALBPM","PREVIEWEND","CREATORURL","SOURCEURL","ARTISTORIGIN","VIDEOID","ALLKARAOKE_ID","ALLKARAOKE_LASTUPDATE","ALLKARAOKE_VOLUME","ALLKARAOKE_REALBPM","ALLKARAOKE_PREVIEWEND","ALLKARAOKE_CREATORURL","ALLKARAOKE_SOURCEURL","ALLKARAOKE_ARTISTORIGIN","ALLKARAOKE_VIDEOID"];function AW(e){return e.split(`
`).filter(t=>t.startsWith("#")&&!vW.includes(t.substring(1).split(":")[0]))}function zt(e,t,n="string"){const r=i=>{var a;const s=new RegExp(`#${i}\\:(.*)`),o=(a=e.match(s))==null?void 0:a[1];if(o!==void 0)return n==="number"?Number(o.replace(",","."))??0:n==="array"?o.split(", "):o};return t.map(r).filter(Eb).at(0)}function bW(e){var r;const t=zt(e,["VIDEO"])??"",n=new RegExp("v=(.*?)(,|$)");return(r=t.match(n))==null?void 0:r[1]}const _W=/- -?\d+ -?\d+/;function Uk(e){try{const t=new URL(e);return t.host==="youtu.be"?t.pathname.substring(1):t.host==="www.youtube.com"||t.host==="youtube.com"?t.searchParams.get("v"):null}catch{return null}}function SW(e,t){try{return JSON.parse(e)}catch{return t}}function xW(e){const t=zt(e,["P1"]),n=zt(e,["P2"]);return t||n?[t,n]:SW(zt(e,["TRACKNAMES"]),[])}function wW(e,t,n,r,i){var p,g;const s=xW(e),o={year:zt(e,["YEAR"]),artistOrigin:zt(e,["ALLKARAOKE_ARTISTORIGIN","ARTISTORIGIN"]),lastUpdate:zt(e,["ALLKARAOKE_LASTUPDATE","LASTUPDATE"]),edition:zt(e,["EDITION"]),genre:zt(e,["GENRE"]),videoGap:zt(e,["VIDEOGAP"],"number"),realBpm:zt(e,["ALLKARAOKE_REALBPM","REALBPM"],"number"),previewStart:zt(e,["PREVIEWSTART"],"number"),previewEnd:zt(e,["ALLKARAOKE_PREVIEWEND","PREVIEWEND"],"number"),volume:zt(e,["ALLKARAOKE_VOLUME","VOLUME"],"number"),author:zt(e,["CREATOR"])??n,authorUrl:zt(e,["ALLKARAOKE_CREATORURL","CREATORURL"])??r,sourceUrl:zt(e,["ALLKARAOKE_SOURCEURL","SOURCEURL"])??i};o.videoGap&&(o.videoGap=Math.floor(o.videoGap));const a=zt(e,["TITLE"])??"",l=zt(e,["ARTIST"])??"",c=zt(e,["ALLKARAOKE_VIDEOID","VIDEOID"])??Uk(zt(e,["AUDIOURL"])??"")??Uk(zt(e,["VIDEOURL"])??"")??bW(e)??"",u={id:zt(e,["ALLKARAOKE_ID","ID"])??Ex({title:a,artist:l}),title:a,artist:l,video:c,language:zt(e,["LANGUAGE"],"array")??[],bpm:Number(((p=zt(e,["BPM"]))==null?void 0:p.replace(",","."))??0),bar:4,gap:Number(((g=zt(e,["GAP"]))==null?void 0:g.replace(",","."))??0),...o,tracks:[],unsupportedProps:AW(e),mergedTrack:{}};if((t==null?void 0:t.length)===11)u.video=t;else if(t)try{const m=new URL(t);u.video=m.searchParams.get("v")||"Invalid link"}catch(m){u.video=`Invalid link: ${m.message}`}let d=[],h=0;return e.split(`
`).forEach(m=>{if(m.startsWith("#"))return;const b=m.split(" ");if(Number(b[1])<h*.75&&d.length&&(s[u.tracks.length]?u.tracks.push({sections:d,name:s[u.tracks.length],changes:[]}):u.tracks.push({sections:d,changes:[]}),d=[]),_W.test(m)){const[,y,v]=b;d.push({start:Number(y),end:Number(v),type:"pause"}),d.push({start:Number(v),type:"notes",notes:[]}),h=Number(v)}else if(m.startsWith("-"))d.push({start:Number(m.split("-")[1].trim()),notes:[],type:"notes"});else if(Object.keys(zk).includes(m[0])){d.length===0&&(d=[{start:0,notes:[],type:"notes"}]);const y=d[d.length-1],[v,_,x,S,...E]=b;y.notes.push({type:zk[v]??"normal",start:Number(_),length:Number(x),pitch:Number(S),lyrics:E.join(" ")}),h=Number(b[1])}}),s[u.tracks.length]?u.tracks.push({sections:d,name:s[u.tracks.length],changes:[]}):u.tracks.push({sections:d,changes:[]}),u.tracks=u.tracks.map(m=>({...m,sections:m.sections.filter(b=>b.type==="pause"||b.notes.length),changes:[]})).map(m=>({...m,changes:xx(m,u)})),u.mergedTrack=Gj(u.tracks,u),u}const qj="CURRENT_VISIT_KEY",Wj="LAST_VISIT_KEY",EW=3*60*60*1e3,_y=Date.now();var pM;const Kv=Number(((pM=Le.local)==null?void 0:pM.getItem(qj))??_y);var gM;const Kj=((gM=Le.local)==null?void 0:gM.getItem("posthog-user-id"))===null,CW=Kj?_y:1673642382501;var mM;let Yj=Number(((mM=Le.local)==null?void 0:mM.getItem(Wj))??CW);var yM;(Kj||_y-Kv>EW)&&((yM=Le.local)==null||yM.setItem(Wj,String(Kv)),Yj=Kv);var vM;(vM=Le.local)==null||vM.setItem(qj,String(_y));const kW=e=>Vu(`${e.artist}${e.title}`),TW=({bar:e,unsupportedProps:t,mergedTrack:n,...r},i=!1)=>({...r,id:Ex(r),language:Array.isArray(r.language)?r.language:[r.language],tracksCount:r.tracks.length,tracks:r.tracks.map(({name:s,sections:o})=>({name:s,start:Va(o)})),search:kW(r),local:i});let Pd=null;async function Xo(){if(!Pd)if("localStorage"in globalThis)try{Pd=ud(async()=>{const{default:e}=await Promise.resolve().then(()=>rO);return{default:e}},void 0).then(({default:e})=>e.createInstance({name:"songs_v2"}))}catch(e){console.error(e),Pd=Promise.resolve(Le.memory)}else Pd=Promise.resolve(Le.memory);return Pd}const Lp="DELETED_SONGS_V2";class IW{constructor(){this.defaultIndex=null,this.finalIndex=null,this.indexWithDeletedSongs=null,this.store=async t=>{var n;await((n=await Xo())==null?void 0:n.setItem(this.generateSongFile(t),{...t,lastUpdate:new Date().toISOString()})),await this.reloadIndex()},this.isOverridden=async t=>!!await this.getLocal(t),this.isBuiltIn=t=>{var n;return((n=this.defaultIndex)==null?void 0:n.some(r=>r.id===t))??!1},this.get=async t=>{const n=await this.getLocal(t);return n?{...n,local:!0}:await fetch(`/songs/${t}.txt`).then(r=>r.text()).then(wW).then(r=>({...r,local:!1}))},this.getIndex=async(t=!1)=>(this.finalIndex===null&&await this.reloadIndex(),t?this.indexWithDeletedSongs:this.finalIndex),this.getCurrentIndex=()=>this.finalIndex,this.getDeletedSongsList=async()=>{var n;return await((n=await Xo())==null?void 0:n.getItem(Lp))??[]},this.generateSongFile=t=>Ex(t),this.reloadIndex=async()=>{const[t,n,r]=await Promise.all([fetch("/songs/index.json").then(a=>a.json()),this.getLocalIndex(),this.getDeletedSongsList()]);this.defaultIndex=t;const i=Rs(Yj),s=n.filter(a=>{const l=t.find(c=>c.id===a.id);return l?Rs(a.lastUpdate??0).isAfter(Rs(l.lastUpdate??0)):!0}),o=s.map(a=>a.id);n.forEach(async a=>{o.includes(a.id)||(await Xo()).removeItem(a.id)}),this.indexWithDeletedSongs=[...s,...t.filter(a=>!o.includes(this.generateSongFile(a)))].map(a=>({...a,isNew:a.lastUpdate?Rs(a.lastUpdate).isAfter(i):!1,isDeleted:r==null?void 0:r.includes(this.generateSongFile(a))})),this.indexWithDeletedSongs.sort((a,l)=>`${a.artist} ${a.title}`.localeCompare(`${l.artist} ${l.title}`.toLowerCase())),this.finalIndex=this.indexWithDeletedSongs.filter(a=>!a.isDeleted)},this.deleteSong=async t=>(await(await Xo()).removeItem(t),this.reloadIndex()),this.softDeleteSong=async t=>{const n=await this.getDeletedSongsList();return await(await Xo()).setItem(Lp,[...new Set([...n,t])]),this.reloadIndex()},this.restoreSong=async t=>{const n=await this.getDeletedSongsList();return await(await Xo()).setItem(Lp,n.filter(r=>r!==t)),this.reloadIndex()},this.getLocal=async t=>{var r;const n=await((r=await Xo())==null?void 0:r.getItem(decodeURIComponent(t)));return n&&n.tracks?{...n,language:Array.isArray(n.language)?n.language:[n.language],mergedTrack:Gj(n.tracks,n),tracks:n.tracks.map(i=>({...i,changes:xx(i,n)}))}:null},this.getLocalIndex=async()=>(await Promise.all((await this.getKeys()).map(this.getLocal))).filter(n=>n!==null).map(n=>{try{return TW(n,!0)}catch(r){return console.error(r),null}}).filter(n=>n!==null),this.getKeys=async()=>{const t=[Lp];return(await(await Xo()).keys()).filter(n=>!t.includes(n))}}}const Pi=new IW,Qj="room_id_key",xf=5,Jj=e=>{Le.session.setItem(Qj,e)};class PW{constructor(){var t;if(this.gameCode=Le.session.getItem(Qj),this.started=!1,this.start=()=>{if(!this.transport){const n=Em.get();this.transport=n==="WebSockets"?new iW:n==="PartyKit"?new Mq:new rW}this.started||(this.started=!0,console.log("connection started",this.getGameCode()),Jj(this.gameCode),this.transport.connect(this.getGameCode(),()=>{console.log("connected",this.getGameCode()),this.transport.addListener((n,r)=>{var s,o;const i=n.t;if(i==="register")rt.addRemoteMic(n.id,n.name,r,n.silent,n.lag);else if(i==="unregister")rt.removeRemoteMic(r.peer);else if(i==="subscribe-event")rt.addSubscription(r.peer,n.channel);else if(i==="unsubscribe-event")rt.removeSubscription(r.peer,n.channel);else if(i==="ping")r.send({t:"pong"});else if(i==="pong")(s=rt.getRemoteMicById(r.peer))==null||s.onPong();else if(i==="request-songlist")Promise.all([Pi.getLocalIndex(),Pi.getDeletedSongsList()]).then(([a,l])=>{r.send({t:"songlist",custom:a.map(c=>({artist:c.artist,title:c.title,video:c.video,language:c.language,search:c.search})),deleted:l})});else if(i==="get-microphone-lag-request"){const a=rt.getRemoteMicById(r.peer);a&&r.send({t:"get-microphone-lag-response",value:a.getInput().getInputLag()})}else if(i==="set-microphone-lag-request"){const a=rt.getRemoteMicById(r.peer);a&&(a.getInput().setInputLag(n.value),r.send({t:"get-microphone-lag-response",value:a.getInput().getInputLag()}))}else rt.getPermission(r.peer)==="write"&&(i==="keystroke"?te.remoteKeyboardPressed.dispatch(n.key):i==="search-song"?te.remoteSongSearch.dispatch(n.search):i==="select-song"?te.remoteSongSelected.dispatch(n.id):i==="request-mic-select"?te.playerChangeRequested.dispatch(n.id,n.playerNumber):i==="get-game-input-lag-request"?r.send({t:"get-game-input-lag-response",value:Af.get()}):i==="remove-player"?(o=this.transport)==null||o.removePlayer(n.id):i==="set-game-input-lag-request"&&(Af.set(n.value),r.send({t:"get-game-input-lag-response",value:Af.get()})))}),te.micServerStarted.dispatch()},()=>{te.micServerStopped.dispatch(),this.started=!1,setTimeout(this.start,1e3)}))},this.isStarted=()=>this.started,this.getLatency=()=>{var n;return((n=this.transport)==null?void 0:n.getCurrentPing())??0},this.getGameCode=()=>{const n=Em.get();return(n==="WebSockets"?"w":n==="PartyKit"?"k":"p")+this.gameCode},!this.gameCode){this.gameCode="";for(let n=0;n<xf-1;n++)this.gameCode+=String.fromCharCode(Math.floor(Math.random()*26)+97)}(t=global==null?void 0:global.addEventListener)==null||t.call(global,"beforeunload",()=>{var n;rt.getRemoteMics().forEach(r=>r.connection.close()),(n=this.transport)==null||n.disconnect()})}}const Ol=new PW,Kl=e=>`${e.deviceId};${e.channel}`,Hk=[{channels:2,channel:1,label:"Drawing Test Input",id:Kl({deviceId:"default",channel:1}),deviceId:"default"}],Al=class Al{};Al.inputName="DrawingTest",Al.getDefault=()=>Hk[0],Al.getInputs=async()=>Hk,Al.subscribeToListChange=t=>{},Al.unsubscribeToListChange=t=>{};let Cb=Al;const Gk=[{channels:2,channel:0,label:"Dummy Input 1",id:Kl({deviceId:"default",channel:0}),deviceId:"default"},{channels:2,channel:1,label:"Dummy Input 2",id:Kl({deviceId:"default",channel:1}),deviceId:"default"}],bl=class bl{};bl.inputName="Dummy",bl.getDefault=()=>Gk[0],bl.getInputs=async()=>Gk,bl.subscribeToListChange=t=>{},bl.unsubscribeToListChange=t=>{};let Lm=bl;var RW=Math.ceil,MW=Math.max;function jW(e,t,n,r){for(var i=-1,s=MW(RW((t-e)/(n||1)),0),o=Array(s);s--;)o[++i]=e,e+=n;return o}var OW=9007199254740991;function Cx(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=OW}function kx(e){return e!=null&&Cx(e.length)&&!Pj(e)}var VW=9007199254740991,LW=/^(?:0|[1-9]\d*)$/;function Tx(e,t){var n=typeof e;return t=t??VW,!!t&&(n=="number"||n!="symbol"&&LW.test(e))&&e>-1&&e%1==0&&e<t}function NW(e,t,n){if(!Bs(n))return!1;var r=typeof t;return(r=="number"?kx(n)&&Tx(t,n.length):r=="string"&&t in n)?py(n[t],e):!1}var qk=1/0,BW=17976931348623157e292;function Ng(e){if(!e)return e===0?e:0;if(e=Sb(e),e===qk||e===-qk){var t=e<0?-1:1;return t*BW}return e===e?e:0}function DW(e){return function(t,n,r){return r&&typeof r!="number"&&NW(t,n,r)&&(n=r=void 0),t=Ng(t),n===void 0?(n=t,t=0):n=Ng(n),r=r===void 0?t<n?1:-1:Ng(r),jW(t,n,r)}}var $W=DW();const kb={test:e=>e.toLowerCase().includes("wireless mic #")||e.toLowerCase().includes("sony wireless singstar"),map:(e,t)=>`SingStar Wireless - ${t===0?"Blue":"Red"}`},Tb={test:e=>e.toLowerCase().includes("usbmic serial#")||e.toLowerCase().includes("singstar"),map:(e,t)=>`SingStar Wired - ${t===0?"Blue":"Red"}`},Ib={test:(e,t,n)=>n===2&&e.toLowerCase().includes("singstar"),map:(e,t)=>`SingStar Mic - ${t===0?"Blue":"Red"}`},FW=(...[e,t,n])=>Tb.test(e,t,n)||kb.test(e,t,n)||Ib.test(e,t,n)?t:void 0,zW=(e,t,n)=>kb.test(e,t,n)?kb.map(e,t):Tb.test(e,t,n)?Tb.map(e,t):Ib.test(e,t,n)?Ib.map(e,t):n>1?`${e} (ch ${t+1})`:e,Fi=class Fi{};Fi.inputList=[],Fi.inputName="Microphone",Fi.getDefault=()=>Fi.inputList.find(t=>t.id===Kl({deviceId:"default",channel:0}))??Fi.inputList[0]??null,Fi.getInputs=async()=>{let t=[];try{await Ea.getUserMedia({audio:!0,video:!1}),t=await Ea.enumerateDevices()}catch(r){Ns(r,{level:"warning",extra:{message:"Microphone.getInputs"}}),console.warn(r)}const n=await Promise.all(t.filter(r=>r.kind==="audioinput").map(async r=>{let i=1;try{i=(await Ea.getUserMedia({audio:{deviceId:{exact:r.deviceId},echoCancellation:{exact:!1}},video:!1})).getAudioTracks()[0].getSettings().channelCount??1}catch(s){console.warn(s)}return $W(0,i).map(s=>({label:zW(r.label,s,i),channel:s,channels:i,deviceId:r.deviceId,id:Kl({deviceId:r.deviceId,channel:s}),preferred:FW(r.label,s,i)}))}));return Fi.inputList=n.flat(),Fi.inputList},Fi.subscribeToListChange=t=>navigator.mediaDevices.addEventListener("devicechange",t),Fi.unsubscribeToListChange=t=>navigator.mediaDevices.removeEventListener("devicechange",t);let Oo=Fi;const Wk=e=>({label:`${e.name}`,id:Kl({deviceId:e.id,channel:0}),deviceId:e.id,channels:1,channel:0}),_l=class _l{};_l.inputName="Remote Microphone",_l.getDefault=()=>rt.getRemoteMics().map(Wk)[0]??null,_l.getInputs=async()=>rt.getRemoteMics().map(Wk),_l.subscribeToListChange=t=>{te.remoteMicConnected.subscribe(t),te.remoteMicDisconnected.subscribe(t)},_l.unsubscribeToListChange=t=>{te.remoteMicConnected.unsubscribe(t),te.remoteMicDisconnected.unsubscribe(t)};let Fo=_l;const UW=e=>`${e.deviceId};${e.channel}`;class HW{constructor(){this.initialiseInputSource=(t,n=!1)=>(n||t.getInputs().then(r=>{this.inputList[t.inputName].list=r,this.inputList[t.inputName].initialised=!0,te.inputListChanged.dispatch(!0),t.subscribeToListChange(async()=>{this.inputList[t.inputName].list=await t.getInputs(),te.inputListChanged.dispatch(!1)})}),{list:[],getDefault:t.getDefault,initialised:!1}),this.loadMics=()=>{this.inputList.Microphone.list.length||(this.inputList.Microphone=this.initialiseInputSource(Oo))},this.getInputList=()=>this.inputList,this.isPlayerInputInitialised=t=>this.inputList[t.source].initialised,this.getInputForPlayerSelected=(t,n=!0)=>{const r=this.inputList[t.source];return r.list.find(i=>i.id===UW(t))??(n?r.getDefault():null)},this.inputList={[Oo.inputName]:this.initialiseInputSource(Oo,!0),[Lm.inputName]:this.initialiseInputSource(Lm),[Fo.inputName]:this.initialiseInputSource(Fo)}}}const co=new HW,Kk="playerselectedinputs",Nm=4,L0=class L0{constructor(t,n,r){this.number=t,this.input=n,this.name=r,this.nameOverride="",this.changeInput=(i,s=0,o)=>{let a=null;wn.monitoringStarted()&&(a=wn.stopMonitoring());const l={source:i,deviceId:o,channel:s},c=this.input;this.input=l,te.playerInputChanged.dispatch(this.number,c,l),a&&a.then(wn.startMonitoring)},this.toJSON=()=>({number:this.number,input:this.input,name:this.name}),this.getName=()=>this.nameOverride||(this.name??`Player #${this.number+1}`),this.isDefaultName=()=>this.name===void 0,this.setName=i=>{const s=this.name;this.name=i,te.playerNameChanged.dispatch(this.number,s)}}};L0.fromJSON=t=>new L0(t.number,t.input,t.name);let Hc=L0;class GW{constructor(){this.minPlayerNumber=2,this.players=[],this.requestingPromise=null,this.storePlayers=()=>{Le.session.setItem(Kk,this.getPlayers().map(n=>n.toJSON()))},this.requestReadiness=async()=>(this.requestingPromise||(this.requestingPromise=new Promise(n=>{const r=async()=>{!this.getPlayers().filter(s=>s.input.source==="Remote Microphone").some(s=>co.getInputForPlayerSelected(s.input,!1)===null)&&(await Promise.all(this.getPlayers().map(s=>wn.sourceNameToInput(s.input.source).requestReadiness(s.input.deviceId).then(()=>{te.readinessConfirmed.dispatch(s.input.deviceId)}))),te.inputListChanged.unsubscribe(r),this.requestingPromise=null,n(!0))};te.inputListChanged.subscribe(r),r()})),this.requestingPromise),this.getPlayers=()=>this.players,this.getPlayer=n=>this.players.find(r=>r.number===n),this.getMinPlayerNumber=()=>this.minPlayerNumber,this.setMinPlayerNumber=n=>{const r=this.minPlayerNumber;this.minPlayerNumber=n,te.minPlayerNumberChanged.dispatch(r,n)},this.addPlayer=n=>{if($e.isPlaying()||this.getPlayer(n))return;const r=new Hc(n,{source:"Dummy",deviceId:"default",channel:0});return this.players.push(r),this.storePlayers(),te.playerAdded.dispatch(r.number),te.playerInputChanged.dispatch(r.number,void 0,r.input),r},this.removePlayer=n=>{if($e.isPlaying())return;const r=this.getPlayer(n);r&&(this.players=this.players.filter(i=>i.number!==n),this.players.length<this.minPlayerNumber&&this.addPlayer(new Array(Nm).fill(0).find((i,s)=>!this.players.find(o=>o.number===s))),this.storePlayers(),te.playerRemoved.dispatch(r))},this.getInputs=()=>this.getPlayers().map(n=>n.input);const t=Le.session.getItem(Kk)??[];t.length?(this.players=t.map(Hc.fromJSON),this.getPlayers().some(n=>n.input.source==="Microphone")&&co.loadMics(),this.getPlayers().some(n=>n.input.source==="Remote Microphone")&&Ol.start()):this.players=[new Hc(0,{source:"Dummy",deviceId:"default",channel:0}),new Hc(1,{source:"Dummy",deviceId:"default",channel:1})],te.playerInputChanged.subscribe((n,r,i)=>{const s=this.getPlayer(n);if(!(!i||!s)){if(i.source==="Remote Microphone"){const o=rt.getRemoteMicById(i.deviceId);o&&(s.nameOverride=o.name)}else s.nameOverride="";this.storePlayers()}}),te.playerNameChanged.subscribe(Cj(this.storePlayers,1e3)),te.remoteMicConnected.subscribe(({id:n,name:r})=>{this.getPlayers().forEach(i=>{i.input.source==="Remote Microphone"&&i.input.deviceId===n&&i.getName()!==r&&(i.nameOverride=r)})})}}const Oe=new GW;class qW{constructor(){this.isMonitoring=!1,this.getInputStatus=t=>{const n=Oe.getPlayer(t);return n?this.sourceNameToInput(n.input.source).getStatus(n.input.deviceId,n.input.channel):"unavailable"},this.getPlayerFrequency=t=>{var i;const n=(i=Oe.getPlayer(t))==null?void 0:i.input;return n?this.sourceNameToInput(n.source).getFrequencies(n.deviceId)[n.channel]:0},this.clearPlayerCachedFrequencies=t=>{var r;const n=(r=Oe.getPlayer(t))==null?void 0:r.input;if(!n)return 0;this.sourceNameToInput(n.source).clearFrequencies(n.deviceId)},this.getPlayerVolume=t=>{var i;const n=(i=Oe.getPlayer(t))==null?void 0:i.input;return n?this.sourceNameToInput(n.source).getVolumes(n.deviceId)[n.channel]:0},this.getPlayerInputLag=t=>{var r;const n=(r=Oe.getPlayer(t))==null?void 0:r.input;return n?this.sourceNameToInput(n.source).getInputLag(n.deviceId):0},this.startMonitoring=async()=>{const t=Oe.getPlayers().map(n=>n.input);await Promise.all(t.map(n=>this.sourceNameToInput(n.source).startMonitoring(n.deviceId,t))),this.isMonitoring=!0},this.stopMonitoring=async()=>{await Promise.all(Oe.getPlayers().map(t=>this.sourceNameToInput(t.input.source).stopMonitoring(t.input.deviceId))),this.isMonitoring=!1},this.monitoringStarted=()=>this.isMonitoring,this.sourceNameToInput=t=>t===Oo.inputName?sG:t===Cb.inputName?D6:t===Fo.inputName?aG:F6,te.inputListChanged.subscribe(async()=>{this.isMonitoring&&(await this.stopMonitoring(),this.startMonitoring())})}}const wn=new qW;function Xj(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=Xj(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}function Aa(){for(var e,t,n=0,r="";n<arguments.length;)(e=arguments[n++])&&(t=Xj(e))&&(r&&(r+=" "),r+=t);return r}const wf=e=>typeof e=="number"&&!isNaN(e),Yl=e=>typeof e=="string",ni=e=>typeof e=="function",Bg=e=>Yl(e)||ni(e)?e:null,Yv=e=>A.isValidElement(e)||Yl(e)||ni(e)||wf(e);function WW(e,t,n){n===void 0&&(n=300);const{scrollHeight:r,style:i}=e;requestAnimationFrame(()=>{i.minHeight="initial",i.height=r+"px",i.transition=`all ${n}ms`,requestAnimationFrame(()=>{i.height="0",i.padding="0",i.margin="0",setTimeout(t,n)})})}function Sy(e){let{enter:t,exit:n,appendPosition:r=!1,collapse:i=!0,collapseDuration:s=300}=e;return function(o){let{children:a,position:l,preventExitTransition:c,done:u,nodeRef:d,isIn:h}=o;const p=r?`${t}--${l}`:t,g=r?`${n}--${l}`:n,m=A.useRef(0);return A.useLayoutEffect(()=>{const b=d.current,y=p.split(" "),v=_=>{_.target===d.current&&(b.dispatchEvent(new Event("d")),b.removeEventListener("animationend",v),b.removeEventListener("animationcancel",v),m.current===0&&_.type!=="animationcancel"&&b.classList.remove(...y))};b.classList.add(...y),b.addEventListener("animationend",v),b.addEventListener("animationcancel",v)},[]),A.useEffect(()=>{const b=d.current,y=()=>{b.removeEventListener("animationend",y),i?WW(b,u,s):u()};h||(c?y():(m.current=1,b.className+=` ${g}`,b.addEventListener("animationend",y)))},[h]),Ie.createElement(Ie.Fragment,null,a)}}function Yk(e,t){return e!=null?{content:e.content,containerId:e.props.containerId,id:e.props.toastId,theme:e.props.theme,type:e.props.type,data:e.props.data||{},isLoading:e.props.isLoading,icon:e.props.icon,status:t}:{}}const Ui={list:new Map,emitQueue:new Map,on(e,t){return this.list.has(e)||this.list.set(e,[]),this.list.get(e).push(t),this},off(e,t){if(t){const n=this.list.get(e).filter(r=>r!==t);return this.list.set(e,n),this}return this.list.delete(e),this},cancelEmit(e){const t=this.emitQueue.get(e);return t&&(t.forEach(clearTimeout),this.emitQueue.delete(e)),this},emit(e){this.list.has(e)&&this.list.get(e).forEach(t=>{const n=setTimeout(()=>{t(...[].slice.call(arguments,1))},0);this.emitQueue.has(e)||this.emitQueue.set(e,[]),this.emitQueue.get(e).push(n)})}},Np=e=>{let{theme:t,type:n,...r}=e;return Ie.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:t==="colored"?"currentColor":`var(--toastify-icon-color-${n})`,...r})},Qv={info:function(e){return Ie.createElement(Np,{...e},Ie.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))},warning:function(e){return Ie.createElement(Np,{...e},Ie.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))},success:function(e){return Ie.createElement(Np,{...e},Ie.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))},error:function(e){return Ie.createElement(Np,{...e},Ie.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))},spinner:function(){return Ie.createElement("div",{className:"Toastify__spinner"})}};function KW(e){const[,t]=A.useReducer(p=>p+1,0),[n,r]=A.useState([]),i=A.useRef(null),s=A.useRef(new Map).current,o=p=>n.indexOf(p)!==-1,a=A.useRef({toastKey:1,displayedToast:0,count:0,queue:[],props:e,containerId:null,isToastActive:o,getToast:p=>s.get(p)}).current;function l(p){let{containerId:g}=p;const{limit:m}=a.props;!m||g&&a.containerId!==g||(a.count-=a.queue.length,a.queue=[])}function c(p){r(g=>p==null?[]:g.filter(m=>m!==p))}function u(){const{toastContent:p,toastProps:g,staleId:m}=a.queue.shift();h(p,g,m)}function d(p,g){let{delay:m,staleId:b,...y}=g;if(!Yv(p)||function(N){return!i.current||a.props.enableMultiContainer&&N.containerId!==a.props.containerId||s.has(N.toastId)&&N.updateId==null}(y))return;const{toastId:v,updateId:_,data:x}=y,{props:S}=a,E=()=>c(v),C=_==null;C&&a.count++;const k={...S,style:S.toastStyle,key:a.toastKey++,...Object.fromEntries(Object.entries(y).filter(N=>{let[R,V]=N;return V!=null})),toastId:v,updateId:_,data:x,closeToast:E,isIn:!1,className:Bg(y.className||S.toastClassName),bodyClassName:Bg(y.bodyClassName||S.bodyClassName),progressClassName:Bg(y.progressClassName||S.progressClassName),autoClose:!y.isLoading&&(O=y.autoClose,w=S.autoClose,O===!1||wf(O)&&O>0?O:w),deleteToast(){const N=Yk(s.get(v),"removed");s.delete(v),Ui.emit(4,N);const R=a.queue.length;if(a.count=v==null?a.count-a.displayedToast:a.count-1,a.count<0&&(a.count=0),R>0){const V=v==null?a.props.limit:1;if(R===1||V===1)a.displayedToast++,u();else{const P=V>R?R:V;a.displayedToast=P;for(let T=0;T<P;T++)u()}}else t()}};var O,w;k.iconOut=function(N){let{theme:R,type:V,isLoading:P,icon:T}=N,z=null;const B={theme:R,type:V};return T===!1||(ni(T)?z=T(B):A.isValidElement(T)?z=A.cloneElement(T,B):Yl(T)||wf(T)?z=T:P?z=Qv.spinner():(D=>D in Qv)(V)&&(z=Qv[V](B))),z}(k),ni(y.onOpen)&&(k.onOpen=y.onOpen),ni(y.onClose)&&(k.onClose=y.onClose),k.closeButton=S.closeButton,y.closeButton===!1||Yv(y.closeButton)?k.closeButton=y.closeButton:y.closeButton===!0&&(k.closeButton=!Yv(S.closeButton)||S.closeButton);let M=p;A.isValidElement(p)&&!Yl(p.type)?M=A.cloneElement(p,{closeToast:E,toastProps:k,data:x}):ni(p)&&(M=p({closeToast:E,toastProps:k,data:x})),S.limit&&S.limit>0&&a.count>S.limit&&C?a.queue.push({toastContent:M,toastProps:k,staleId:b}):wf(m)?setTimeout(()=>{h(M,k,b)},m):h(M,k,b)}function h(p,g,m){const{toastId:b}=g;m&&s.delete(m);const y={content:p,props:g};s.set(b,y),r(v=>[...v,b].filter(_=>_!==m)),Ui.emit(4,Yk(y,y.props.updateId==null?"added":"updated"))}return A.useEffect(()=>(a.containerId=e.containerId,Ui.cancelEmit(3).on(0,d).on(1,p=>i.current&&c(p)).on(5,l).emit(2,a),()=>{s.clear(),Ui.emit(3,a)}),[]),A.useEffect(()=>{a.props=e,a.isToastActive=o,a.displayedToast=n.length}),{getToastToRender:function(p){const g=new Map,m=Array.from(s.values());return e.newestOnTop&&m.reverse(),m.forEach(b=>{const{position:y}=b.props;g.has(y)||g.set(y,[]),g.get(y).push(b)}),Array.from(g,b=>p(b[0],b[1]))},containerRef:i,isToastActive:o}}function Qk(e){return e.targetTouches&&e.targetTouches.length>=1?e.targetTouches[0].clientX:e.clientX}function Jk(e){return e.targetTouches&&e.targetTouches.length>=1?e.targetTouches[0].clientY:e.clientY}function YW(e){const[t,n]=A.useState(!1),[r,i]=A.useState(!1),s=A.useRef(null),o=A.useRef({start:0,x:0,y:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,boundingRect:null,didMove:!1}).current,a=A.useRef(e),{autoClose:l,pauseOnHover:c,closeToast:u,onClick:d,closeOnClick:h}=e;function p(x){if(e.draggable){x.nativeEvent.type==="touchstart"&&x.nativeEvent.preventDefault(),o.didMove=!1,document.addEventListener("mousemove",y),document.addEventListener("mouseup",v),document.addEventListener("touchmove",y),document.addEventListener("touchend",v);const S=s.current;o.canCloseOnClick=!0,o.canDrag=!0,o.boundingRect=S.getBoundingClientRect(),S.style.transition="",o.x=Qk(x.nativeEvent),o.y=Jk(x.nativeEvent),e.draggableDirection==="x"?(o.start=o.x,o.removalDistance=S.offsetWidth*(e.draggablePercent/100)):(o.start=o.y,o.removalDistance=S.offsetHeight*(e.draggablePercent===80?1.5*e.draggablePercent:e.draggablePercent/100))}}function g(x){if(o.boundingRect){const{top:S,bottom:E,left:C,right:k}=o.boundingRect;x.nativeEvent.type!=="touchend"&&e.pauseOnHover&&o.x>=C&&o.x<=k&&o.y>=S&&o.y<=E?b():m()}}function m(){n(!0)}function b(){n(!1)}function y(x){const S=s.current;o.canDrag&&S&&(o.didMove=!0,t&&b(),o.x=Qk(x),o.y=Jk(x),o.delta=e.draggableDirection==="x"?o.x-o.start:o.y-o.start,o.start!==o.x&&(o.canCloseOnClick=!1),S.style.transform=`translate${e.draggableDirection}(${o.delta}px)`,S.style.opacity=""+(1-Math.abs(o.delta/o.removalDistance)))}function v(){document.removeEventListener("mousemove",y),document.removeEventListener("mouseup",v),document.removeEventListener("touchmove",y),document.removeEventListener("touchend",v);const x=s.current;if(o.canDrag&&o.didMove&&x){if(o.canDrag=!1,Math.abs(o.delta)>o.removalDistance)return i(!0),void e.closeToast();x.style.transition="transform 0.2s, opacity 0.2s",x.style.transform=`translate${e.draggableDirection}(0)`,x.style.opacity="1"}}A.useEffect(()=>{a.current=e}),A.useEffect(()=>(s.current&&s.current.addEventListener("d",m,{once:!0}),ni(e.onOpen)&&e.onOpen(A.isValidElement(e.children)&&e.children.props),()=>{const x=a.current;ni(x.onClose)&&x.onClose(A.isValidElement(x.children)&&x.children.props)}),[]),A.useEffect(()=>(e.pauseOnFocusLoss&&(document.hasFocus()||b(),window.addEventListener("focus",m),window.addEventListener("blur",b)),()=>{e.pauseOnFocusLoss&&(window.removeEventListener("focus",m),window.removeEventListener("blur",b))}),[e.pauseOnFocusLoss]);const _={onMouseDown:p,onTouchStart:p,onMouseUp:g,onTouchEnd:g};return l&&c&&(_.onMouseEnter=b,_.onMouseLeave=m),h&&(_.onClick=x=>{d&&d(x),o.canCloseOnClick&&u()}),{playToast:m,pauseToast:b,isRunning:t,preventExitTransition:r,toastRef:s,eventHandlers:_}}function Zj(e){let{closeToast:t,theme:n,ariaLabel:r="close"}=e;return Ie.createElement("button",{className:`Toastify__close-button Toastify__close-button--${n}`,type:"button",onClick:i=>{i.stopPropagation(),t(i)},"aria-label":r},Ie.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},Ie.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function QW(e){let{delay:t,isRunning:n,closeToast:r,type:i="default",hide:s,className:o,style:a,controlledProgress:l,progress:c,rtl:u,isIn:d,theme:h}=e;const p=s||l&&c===0,g={...a,animationDuration:`${t}ms`,animationPlayState:n?"running":"paused",opacity:p?0:1};l&&(g.transform=`scaleX(${c})`);const m=Aa("Toastify__progress-bar",l?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${h}`,`Toastify__progress-bar--${i}`,{"Toastify__progress-bar--rtl":u}),b=ni(o)?o({rtl:u,type:i,defaultClassName:m}):Aa(m,o);return Ie.createElement("div",{role:"progressbar","aria-hidden":p?"true":"false","aria-label":"notification timer",className:b,style:g,[l&&c>=1?"onTransitionEnd":"onAnimationEnd"]:l&&c<1?null:()=>{d&&r()}})}const JW=e=>{const{isRunning:t,preventExitTransition:n,toastRef:r,eventHandlers:i}=YW(e),{closeButton:s,children:o,autoClose:a,onClick:l,type:c,hideProgressBar:u,closeToast:d,transition:h,position:p,className:g,style:m,bodyClassName:b,bodyStyle:y,progressClassName:v,progressStyle:_,updateId:x,role:S,progress:E,rtl:C,toastId:k,deleteToast:O,isIn:w,isLoading:M,iconOut:N,closeOnClick:R,theme:V}=e,P=Aa("Toastify__toast",`Toastify__toast-theme--${V}`,`Toastify__toast--${c}`,{"Toastify__toast--rtl":C},{"Toastify__toast--close-on-click":R}),T=ni(g)?g({rtl:C,position:p,type:c,defaultClassName:P}):Aa(P,g),z=!!E||!a,B={closeToast:d,type:c,theme:V};let D=null;return s===!1||(D=ni(s)?s(B):A.isValidElement(s)?A.cloneElement(s,B):Zj(B)),Ie.createElement(h,{isIn:w,done:O,position:p,preventExitTransition:n,nodeRef:r},Ie.createElement("div",{id:k,onClick:l,className:T,...i,style:m,ref:r},Ie.createElement("div",{...w&&{role:S},className:ni(b)?b({type:c}):Aa("Toastify__toast-body",b),style:y},N!=null&&Ie.createElement("div",{className:Aa("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!M})},N),Ie.createElement("div",null,o)),D,Ie.createElement(QW,{...x&&!z?{key:`pb-${x}`}:{},rtl:C,theme:V,delay:a,isRunning:t,isIn:w,closeToast:d,hide:u,type:c,style:_,className:v,controlledProgress:z,progress:E||0})))},xy=function(e,t){return t===void 0&&(t=!1),{enter:`Toastify--animate Toastify__${e}-enter`,exit:`Toastify--animate Toastify__${e}-exit`,appendPosition:t}},XW=Sy(xy("bounce",!0));Sy(xy("slide",!0));Sy(xy("zoom"));Sy(xy("flip"));const Pb=A.forwardRef((e,t)=>{const{getToastToRender:n,containerRef:r,isToastActive:i}=KW(e),{className:s,style:o,rtl:a,containerId:l}=e;function c(u){const d=Aa("Toastify__toast-container",`Toastify__toast-container--${u}`,{"Toastify__toast-container--rtl":a});return ni(s)?s({position:u,rtl:a,defaultClassName:d}):Aa(d,Bg(s))}return A.useEffect(()=>{t&&(t.current=r.current)},[]),Ie.createElement("div",{ref:r,className:"Toastify",id:l},n((u,d)=>{const h=d.length?{...o}:{...o,pointerEvents:"none"};return Ie.createElement("div",{className:c(u),style:h,key:`container-${u}`},d.map((p,g)=>{let{content:m,props:b}=p;return Ie.createElement(JW,{...b,isIn:i(b.toastId),style:{...b.style,"--nth":g+1,"--len":d.length},key:`toast-${b.key}`},m)}))}))});Pb.displayName="ToastContainer",Pb.defaultProps={position:"top-right",transition:XW,autoClose:5e3,closeButton:Zj,pauseOnHover:!0,pauseOnFocusLoss:!0,closeOnClick:!0,draggable:!0,draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light"};let Jv,fl=new Map,ef=[],ZW=1;function eO(){return""+ZW++}function eK(e){return e&&(Yl(e.toastId)||wf(e.toastId))?e.toastId:eO()}function Ef(e,t){return fl.size>0?Ui.emit(0,e,t):ef.push({content:e,options:t}),t.toastId}function Bm(e,t){return{...t,type:t&&t.type||e,toastId:eK(t)}}function Bp(e){return(t,n)=>Ef(t,Bm(e,n))}function Ft(e,t){return Ef(e,Bm("default",t))}Ft.loading=(e,t)=>Ef(e,Bm("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...t})),Ft.promise=function(e,t,n){let r,{pending:i,error:s,success:o}=t;i&&(r=Yl(i)?Ft.loading(i,n):Ft.loading(i.render,{...n,...i}));const a={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},l=(u,d,h)=>{if(d==null)return void Ft.dismiss(r);const p={type:u,...a,...n,data:h},g=Yl(d)?{render:d}:d;return r?Ft.update(r,{...p,...g}):Ft(g.render,{...p,...g}),h},c=ni(e)?e():e;return c.then(u=>l("success",o,u)).catch(u=>l("error",s,u)),c},Ft.success=Bp("success"),Ft.info=Bp("info"),Ft.error=Bp("error"),Ft.warning=Bp("warning"),Ft.warn=Ft.warning,Ft.dark=(e,t)=>Ef(e,Bm("default",{theme:"dark",...t})),Ft.dismiss=e=>{fl.size>0?Ui.emit(1,e):ef=ef.filter(t=>e!=null&&t.options.toastId!==e)},Ft.clearWaitingQueue=function(e){return e===void 0&&(e={}),Ui.emit(5,e)},Ft.isActive=e=>{let t=!1;return fl.forEach(n=>{n.isToastActive&&n.isToastActive(e)&&(t=!0)}),t},Ft.update=function(e,t){t===void 0&&(t={}),setTimeout(()=>{const n=function(r,i){let{containerId:s}=i;const o=fl.get(s||Jv);return o&&o.getToast(r)}(e,t);if(n){const{props:r,content:i}=n,s={delay:100,...r,...t,toastId:t.toastId||e,updateId:eO()};s.toastId!==e&&(s.staleId=e);const o=s.render||i;delete s.render,Ef(o,s)}},0)},Ft.done=e=>{Ft.update(e,{progress:1})},Ft.onChange=e=>(Ui.on(4,e),()=>{Ui.off(4,e)}),Ft.POSITION={TOP_LEFT:"top-left",TOP_RIGHT:"top-right",TOP_CENTER:"top-center",BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",BOTTOM_CENTER:"bottom-center"},Ft.TYPE={INFO:"info",SUCCESS:"success",WARNING:"warning",ERROR:"error",DEFAULT:"default"},Ui.on(2,e=>{Jv=e.containerId||e,fl.set(Jv,e),ef.forEach(t=>{Ui.emit(0,t.content,t.options)}),ef=[]}).on(3,e=>{fl.delete(e.containerId||e),fl.size===0&&Ui.off(0).off(1).off(5)});te.playerRemoved.subscribe(e=>{if(e.input.source===Fo.inputName){const t=rt.getRemoteMicById(e.input.deviceId);t&&t.setPlayerNumber(null)}});te.playerInputChanged.subscribe((e,t,n)=>{var r;if((t==null?void 0:t.source)===Fo.inputName){const i=(r=Oe.getPlayers().find(o=>o.input.source==="Remote Microphone"&&o.input.deviceId===t.deviceId))==null?void 0:r.number,s=rt.getRemoteMicById(t.deviceId);s==null||s.setPlayerNumber(i!==void 0?i:null)}if((n==null?void 0:n.source)==="Remote Microphone"){const i=rt.getRemoteMicById(n.deviceId);i==null||i.setPlayerNumber(e)}});te.remoteMicConnected.subscribe(({id:e})=>{var n,r;const t=(n=Oe.getPlayers().find(i=>i.input.source==="Remote Microphone"&&i.input.deviceId===e))==null?void 0:n.number;if(t!==void 0){const i=rt.getRemoteMicById(e);i==null||i.setPlayerNumber(t),wn.monitoringStarted()&&((r=i==null?void 0:i.getInput())==null||r.startMonitoring())}});te.playerChangeRequested.subscribe((e,t)=>{var r;const n=Oe.getPlayers().find(i=>i.input.deviceId===e);if(n&&Oe.removePlayer(n.number),t!==null){const i=Oe.getPlayer(t);i?i.changeInput("Remote Microphone",0,e):(r=Oe.addPlayer(t))==null||r.changeInput("Remote Microphone",0,e)}});te.remoteMicConnected.subscribe(({name:e,id:t,silent:n})=>{n||Ft.success(f.jsxs(f.Fragment,{children:["Remote microphone ",f.jsx("b",{className:"ph-no-capture",children:e})," connected!"]}),{toastId:`connection-status-${t}`,updateId:`connection-status-${t}`})});te.remoteMicDisconnected.subscribe(({name:e,id:t},n)=>{n||Ft.warning(f.jsxs(f.Fragment,{children:["Remote microphone ",f.jsx("b",{className:"ph-no-capture",children:e})," disconnected!"]}),{toastId:`connection-status-${t}`,updateId:`connection-status-${t}`})});const Ix=()=>{const e=rt.getRemoteMics().map(t=>{var n;return{id:t.id,name:t.name,number:((n=Oe.getPlayers().find(r=>r.input.deviceId===t.id))==null?void 0:n.number)??null}});rt.broadcastToChannel("remote-mics",{t:"remote-mics-list",list:e})};te.inputListChanged.subscribe(Ix);te.playerInputChanged.subscribe(Ix);te.remoteMicSubscribed.subscribe(Ix);const tO=e=>({artist:t,title:n,id:r,lastUpdate:i},s,o=[],a)=>{var u;const l=o.length>1&&o.every(d=>d.score===o[0].score),c={};if(Oe.getPlayers().forEach((d,h)=>c[`input${h}`]=d.input.source),e==="songEnded")try{const d=(u=$e.getPlayer(0))==null?void 0:u.getPlayerNotes().filter(p=>Om(p)===0).map(p=>p.frequencyRecords).flat().map(p=>[p.timestamp,p.frequency]).map((p,g,m)=>{var b,y;return[p[0]-(((b=m[g-1])==null?void 0:b[0])??0),p[1]-(((y=m[g-1])==null?void 0:y[1])??0)]}).map(p=>[Math.round(p[0]*100),Math.round(p[1]*100)]).map(p=>p[1]===0?p[0]:p),h=t3(d);console.log("compressed",h)}catch(d){Ns(d)}On.capture(e,{songId:r,songLastUpdated:i,name:`${t} - ${n}`,artist:t,title:n,mode:s.mode,tolerance:s.tolerance,players:s.players.length,tracks:s.players.map(d=>d.track),progress:a??null,singId:s.id,sameScores:l,mobilePhoneMode:!!br.get(),...c,...o.reduce((d,h,p)=>({...d,[`score${p}`]:h.score}),{}),...s.players.reduce((d,h,p)=>({...d,[`track${p}`]:h.track}),{})})};te.songStarted.subscribe(tO("songStarted"));te.songEnded.subscribe(tO("songEnded"));function Dp(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var nO={exports:{}};/*!
    localForage -- Offline Storage, Improved
    Version 1.10.0
    https://localforage.github.io/localForage
    (c) 2013-2017 Mozilla, Apache License 2.0
*/(function(e,t){(function(n){e.exports=n()})(function(){return function n(r,i,s){function o(c,u){if(!i[c]){if(!r[c]){var d=typeof Dp=="function"&&Dp;if(!u&&d)return d(c,!0);if(a)return a(c,!0);var h=new Error("Cannot find module '"+c+"'");throw h.code="MODULE_NOT_FOUND",h}var p=i[c]={exports:{}};r[c][0].call(p.exports,function(g){var m=r[c][1][g];return o(m||g)},p,p.exports,n,r,i,s)}return i[c].exports}for(var a=typeof Dp=="function"&&Dp,l=0;l<s.length;l++)o(s[l]);return o}({1:[function(n,r,i){(function(s){var o=s.MutationObserver||s.WebKitMutationObserver,a;if(o){var l=0,c=new o(g),u=s.document.createTextNode("");c.observe(u,{characterData:!0}),a=function(){u.data=l=++l%2}}else if(!s.setImmediate&&typeof s.MessageChannel<"u"){var d=new s.MessageChannel;d.port1.onmessage=g,a=function(){d.port2.postMessage(0)}}else"document"in s&&"onreadystatechange"in s.document.createElement("script")?a=function(){var b=s.document.createElement("script");b.onreadystatechange=function(){g(),b.onreadystatechange=null,b.parentNode.removeChild(b),b=null},s.document.documentElement.appendChild(b)}:a=function(){setTimeout(g,0)};var h,p=[];function g(){h=!0;for(var b,y,v=p.length;v;){for(y=p,p=[],b=-1;++b<v;)y[b]();v=p.length}h=!1}r.exports=m;function m(b){p.push(b)===1&&!h&&a()}}).call(this,typeof ha<"u"?ha:typeof self<"u"?self:typeof window<"u"?window:{})},{}],2:[function(n,r,i){var s=n(1);function o(){}var a={},l=["REJECTED"],c=["FULFILLED"],u=["PENDING"];r.exports=d;function d(S){if(typeof S!="function")throw new TypeError("resolver must be a function");this.state=u,this.queue=[],this.outcome=void 0,S!==o&&m(this,S)}d.prototype.catch=function(S){return this.then(null,S)},d.prototype.then=function(S,E){if(typeof S!="function"&&this.state===c||typeof E!="function"&&this.state===l)return this;var C=new this.constructor(o);if(this.state!==u){var k=this.state===c?S:E;p(C,k,this.outcome)}else this.queue.push(new h(C,S,E));return C};function h(S,E,C){this.promise=S,typeof E=="function"&&(this.onFulfilled=E,this.callFulfilled=this.otherCallFulfilled),typeof C=="function"&&(this.onRejected=C,this.callRejected=this.otherCallRejected)}h.prototype.callFulfilled=function(S){a.resolve(this.promise,S)},h.prototype.otherCallFulfilled=function(S){p(this.promise,this.onFulfilled,S)},h.prototype.callRejected=function(S){a.reject(this.promise,S)},h.prototype.otherCallRejected=function(S){p(this.promise,this.onRejected,S)};function p(S,E,C){s(function(){var k;try{k=E(C)}catch(O){return a.reject(S,O)}k===S?a.reject(S,new TypeError("Cannot resolve promise with itself")):a.resolve(S,k)})}a.resolve=function(S,E){var C=b(g,E);if(C.status==="error")return a.reject(S,C.value);var k=C.value;if(k)m(S,k);else{S.state=c,S.outcome=E;for(var O=-1,w=S.queue.length;++O<w;)S.queue[O].callFulfilled(E)}return S},a.reject=function(S,E){S.state=l,S.outcome=E;for(var C=-1,k=S.queue.length;++C<k;)S.queue[C].callRejected(E);return S};function g(S){var E=S&&S.then;if(S&&(typeof S=="object"||typeof S=="function")&&typeof E=="function")return function(){E.apply(S,arguments)}}function m(S,E){var C=!1;function k(N){C||(C=!0,a.reject(S,N))}function O(N){C||(C=!0,a.resolve(S,N))}function w(){E(O,k)}var M=b(w);M.status==="error"&&k(M.value)}function b(S,E){var C={};try{C.value=S(E),C.status="success"}catch(k){C.status="error",C.value=k}return C}d.resolve=y;function y(S){return S instanceof this?S:a.resolve(new this(o),S)}d.reject=v;function v(S){var E=new this(o);return a.reject(E,S)}d.all=_;function _(S){var E=this;if(Object.prototype.toString.call(S)!=="[object Array]")return this.reject(new TypeError("must be an array"));var C=S.length,k=!1;if(!C)return this.resolve([]);for(var O=new Array(C),w=0,M=-1,N=new this(o);++M<C;)R(S[M],M);return N;function R(V,P){E.resolve(V).then(T,function(z){k||(k=!0,a.reject(N,z))});function T(z){O[P]=z,++w===C&&!k&&(k=!0,a.resolve(N,O))}}}d.race=x;function x(S){var E=this;if(Object.prototype.toString.call(S)!=="[object Array]")return this.reject(new TypeError("must be an array"));var C=S.length,k=!1;if(!C)return this.resolve([]);for(var O=-1,w=new this(o);++O<C;)M(S[O]);return w;function M(N){E.resolve(N).then(function(R){k||(k=!0,a.resolve(w,R))},function(R){k||(k=!0,a.reject(w,R))})}}},{1:1}],3:[function(n,r,i){(function(s){typeof s.Promise!="function"&&(s.Promise=n(2))}).call(this,typeof ha<"u"?ha:typeof self<"u"?self:typeof window<"u"?window:{})},{2:2}],4:[function(n,r,i){var s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(I){return typeof I}:function(I){return I&&typeof Symbol=="function"&&I.constructor===Symbol&&I!==Symbol.prototype?"symbol":typeof I};function o(I,H){if(!(I instanceof H))throw new TypeError("Cannot call a class as a function")}function a(){try{if(typeof indexedDB<"u")return indexedDB;if(typeof webkitIndexedDB<"u")return webkitIndexedDB;if(typeof mozIndexedDB<"u")return mozIndexedDB;if(typeof OIndexedDB<"u")return OIndexedDB;if(typeof msIndexedDB<"u")return msIndexedDB}catch{return}}var l=a();function c(){try{if(!l||!l.open)return!1;var I=typeof openDatabase<"u"&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),H=typeof fetch=="function"&&fetch.toString().indexOf("[native code")!==-1;return(!I||H)&&typeof indexedDB<"u"&&typeof IDBKeyRange<"u"}catch{return!1}}function u(I,H){I=I||[],H=H||{};try{return new Blob(I,H)}catch(q){if(q.name!=="TypeError")throw q;for(var L=typeof BlobBuilder<"u"?BlobBuilder:typeof MSBlobBuilder<"u"?MSBlobBuilder:typeof MozBlobBuilder<"u"?MozBlobBuilder:WebKitBlobBuilder,W=new L,Q=0;Q<I.length;Q+=1)W.append(I[Q]);return W.getBlob(H.type)}}typeof Promise>"u"&&n(3);var d=Promise;function h(I,H){H&&I.then(function(L){H(null,L)},function(L){H(L)})}function p(I,H,L){typeof H=="function"&&I.then(H),typeof L=="function"&&I.catch(L)}function g(I){return typeof I!="string"&&(console.warn(I+" used as a key, but it is not a string."),I=String(I)),I}function m(){if(arguments.length&&typeof arguments[arguments.length-1]=="function")return arguments[arguments.length-1]}var b="local-forage-detect-blob-support",y=void 0,v={},_=Object.prototype.toString,x="readonly",S="readwrite";function E(I){for(var H=I.length,L=new ArrayBuffer(H),W=new Uint8Array(L),Q=0;Q<H;Q++)W[Q]=I.charCodeAt(Q);return L}function C(I){return new d(function(H){var L=I.transaction(b,S),W=u([""]);L.objectStore(b).put(W,"key"),L.onabort=function(Q){Q.preventDefault(),Q.stopPropagation(),H(!1)},L.oncomplete=function(){var Q=navigator.userAgent.match(/Chrome\/(\d+)/),q=navigator.userAgent.match(/Edge\//);H(q||!Q||parseInt(Q[1],10)>=43)}}).catch(function(){return!1})}function k(I){return typeof y=="boolean"?d.resolve(y):C(I).then(function(H){return y=H,y})}function O(I){var H=v[I.name],L={};L.promise=new d(function(W,Q){L.resolve=W,L.reject=Q}),H.deferredOperations.push(L),H.dbReady?H.dbReady=H.dbReady.then(function(){return L.promise}):H.dbReady=L.promise}function w(I){var H=v[I.name],L=H.deferredOperations.pop();if(L)return L.resolve(),L.promise}function M(I,H){var L=v[I.name],W=L.deferredOperations.pop();if(W)return W.reject(H),W.promise}function N(I,H){return new d(function(L,W){if(v[I.name]=v[I.name]||U(),I.db)if(H)O(I),I.db.close();else return L(I.db);var Q=[I.name];H&&Q.push(I.version);var q=l.open.apply(l,Q);H&&(q.onupgradeneeded=function(re){var se=q.result;try{se.createObjectStore(I.storeName),re.oldVersion<=1&&se.createObjectStore(b)}catch(ue){if(ue.name==="ConstraintError")console.warn('The database "'+I.name+'" has been upgraded from version '+re.oldVersion+" to version "+re.newVersion+', but the storage "'+I.storeName+'" already exists.');else throw ue}}),q.onerror=function(re){re.preventDefault(),W(q.error)},q.onsuccess=function(){var re=q.result;re.onversionchange=function(se){se.target.close()},L(re),w(I)}})}function R(I){return N(I,!1)}function V(I){return N(I,!0)}function P(I,H){if(!I.db)return!0;var L=!I.db.objectStoreNames.contains(I.storeName),W=I.version<I.db.version,Q=I.version>I.db.version;if(W&&(I.version!==H&&console.warn('The database "'+I.name+`" can't be downgraded from version `+I.db.version+" to version "+I.version+"."),I.version=I.db.version),Q||L){if(L){var q=I.db.version+1;q>I.version&&(I.version=q)}return!0}return!1}function T(I){return new d(function(H,L){var W=new FileReader;W.onerror=L,W.onloadend=function(Q){var q=btoa(Q.target.result||"");H({__local_forage_encoded_blob:!0,data:q,type:I.type})},W.readAsBinaryString(I)})}function z(I){var H=E(atob(I.data));return u([H],{type:I.type})}function B(I){return I&&I.__local_forage_encoded_blob}function D(I){var H=this,L=H._initReady().then(function(){var W=v[H._dbInfo.name];if(W&&W.dbReady)return W.dbReady});return p(L,I,I),L}function F(I){O(I);for(var H=v[I.name],L=H.forages,W=0;W<L.length;W++){var Q=L[W];Q._dbInfo.db&&(Q._dbInfo.db.close(),Q._dbInfo.db=null)}return I.db=null,R(I).then(function(q){return I.db=q,P(I)?V(I):q}).then(function(q){I.db=H.db=q;for(var re=0;re<L.length;re++)L[re]._dbInfo.db=q}).catch(function(q){throw M(I,q),q})}function G(I,H,L,W){W===void 0&&(W=1);try{var Q=I.db.transaction(I.storeName,H);L(null,Q)}catch(q){if(W>0&&(!I.db||q.name==="InvalidStateError"||q.name==="NotFoundError"))return d.resolve().then(function(){if(!I.db||q.name==="NotFoundError"&&!I.db.objectStoreNames.contains(I.storeName)&&I.version<=I.db.version)return I.db&&(I.version=I.db.version+1),V(I)}).then(function(){return F(I).then(function(){G(I,H,L,W-1)})}).catch(L);L(q)}}function U(){return{forages:[],db:null,dbReady:null,deferredOperations:[]}}function ne(I){var H=this,L={db:null};if(I)for(var W in I)L[W]=I[W];var Q=v[L.name];Q||(Q=U(),v[L.name]=Q),Q.forages.push(H),H._initReady||(H._initReady=H.ready,H.ready=D);var q=[];function re(){return d.resolve()}for(var se=0;se<Q.forages.length;se++){var ue=Q.forages[se];ue!==H&&q.push(ue._initReady().catch(re))}var de=Q.forages.slice(0);return d.all(q).then(function(){return L.db=Q.db,R(L)}).then(function(he){return L.db=he,P(L,H._defaultConfig.version)?V(L):he}).then(function(he){L.db=Q.db=he,H._dbInfo=L;for(var Pe=0;Pe<de.length;Pe++){var it=de[Pe];it!==H&&(it._dbInfo.db=L.db,it._dbInfo.version=L.version)}})}function $(I,H){var L=this;I=g(I);var W=new d(function(Q,q){L.ready().then(function(){G(L._dbInfo,x,function(re,se){if(re)return q(re);try{var ue=se.objectStore(L._dbInfo.storeName),de=ue.get(I);de.onsuccess=function(){var he=de.result;he===void 0&&(he=null),B(he)&&(he=z(he)),Q(he)},de.onerror=function(){q(de.error)}}catch(he){q(he)}})}).catch(q)});return h(W,H),W}function fe(I,H){var L=this,W=new d(function(Q,q){L.ready().then(function(){G(L._dbInfo,x,function(re,se){if(re)return q(re);try{var ue=se.objectStore(L._dbInfo.storeName),de=ue.openCursor(),he=1;de.onsuccess=function(){var Pe=de.result;if(Pe){var it=Pe.value;B(it)&&(it=z(it));var wt=I(it,Pe.key,he++);wt!==void 0?Q(wt):Pe.continue()}else Q()},de.onerror=function(){q(de.error)}}catch(Pe){q(Pe)}})}).catch(q)});return h(W,H),W}function Z(I,H,L){var W=this;I=g(I);var Q=new d(function(q,re){var se;W.ready().then(function(){return se=W._dbInfo,_.call(H)==="[object Blob]"?k(se.db).then(function(ue){return ue?H:T(H)}):H}).then(function(ue){G(W._dbInfo,S,function(de,he){if(de)return re(de);try{var Pe=he.objectStore(W._dbInfo.storeName);ue===null&&(ue=void 0);var it=Pe.put(ue,I);he.oncomplete=function(){ue===void 0&&(ue=null),q(ue)},he.onabort=he.onerror=function(){var wt=it.error?it.error:it.transaction.error;re(wt)}}catch(wt){re(wt)}})}).catch(re)});return h(Q,L),Q}function oe(I,H){var L=this;I=g(I);var W=new d(function(Q,q){L.ready().then(function(){G(L._dbInfo,S,function(re,se){if(re)return q(re);try{var ue=se.objectStore(L._dbInfo.storeName),de=ue.delete(I);se.oncomplete=function(){Q()},se.onerror=function(){q(de.error)},se.onabort=function(){var he=de.error?de.error:de.transaction.error;q(he)}}catch(he){q(he)}})}).catch(q)});return h(W,H),W}function Re(I){var H=this,L=new d(function(W,Q){H.ready().then(function(){G(H._dbInfo,S,function(q,re){if(q)return Q(q);try{var se=re.objectStore(H._dbInfo.storeName),ue=se.clear();re.oncomplete=function(){W()},re.onabort=re.onerror=function(){var de=ue.error?ue.error:ue.transaction.error;Q(de)}}catch(de){Q(de)}})}).catch(Q)});return h(L,I),L}function Ee(I){var H=this,L=new d(function(W,Q){H.ready().then(function(){G(H._dbInfo,x,function(q,re){if(q)return Q(q);try{var se=re.objectStore(H._dbInfo.storeName),ue=se.count();ue.onsuccess=function(){W(ue.result)},ue.onerror=function(){Q(ue.error)}}catch(de){Q(de)}})}).catch(Q)});return h(L,I),L}function ae(I,H){var L=this,W=new d(function(Q,q){if(I<0){Q(null);return}L.ready().then(function(){G(L._dbInfo,x,function(re,se){if(re)return q(re);try{var ue=se.objectStore(L._dbInfo.storeName),de=!1,he=ue.openKeyCursor();he.onsuccess=function(){var Pe=he.result;if(!Pe){Q(null);return}I===0||de?Q(Pe.key):(de=!0,Pe.advance(I))},he.onerror=function(){q(he.error)}}catch(Pe){q(Pe)}})}).catch(q)});return h(W,H),W}function be(I){var H=this,L=new d(function(W,Q){H.ready().then(function(){G(H._dbInfo,x,function(q,re){if(q)return Q(q);try{var se=re.objectStore(H._dbInfo.storeName),ue=se.openKeyCursor(),de=[];ue.onsuccess=function(){var he=ue.result;if(!he){W(de);return}de.push(he.key),he.continue()},ue.onerror=function(){Q(ue.error)}}catch(he){Q(he)}})}).catch(Q)});return h(L,I),L}function Ve(I,H){H=m.apply(this,arguments);var L=this.config();I=typeof I!="function"&&I||{},I.name||(I.name=I.name||L.name,I.storeName=I.storeName||L.storeName);var W=this,Q;if(!I.name)Q=d.reject("Invalid arguments");else{var q=I.name===L.name&&W._dbInfo.db,re=q?d.resolve(W._dbInfo.db):R(I).then(function(se){var ue=v[I.name],de=ue.forages;ue.db=se;for(var he=0;he<de.length;he++)de[he]._dbInfo.db=se;return se});I.storeName?Q=re.then(function(se){if(se.objectStoreNames.contains(I.storeName)){var ue=se.version+1;O(I);var de=v[I.name],he=de.forages;se.close();for(var Pe=0;Pe<he.length;Pe++){var it=he[Pe];it._dbInfo.db=null,it._dbInfo.version=ue}var wt=new d(function(It,Dn){var kn=l.open(I.name,ue);kn.onerror=function(Di){var Sd=kn.result;Sd.close(),Dn(Di)},kn.onupgradeneeded=function(){var Di=kn.result;Di.deleteObjectStore(I.storeName)},kn.onsuccess=function(){var Di=kn.result;Di.close(),It(Di)}});return wt.then(function(It){de.db=It;for(var Dn=0;Dn<he.length;Dn++){var kn=he[Dn];kn._dbInfo.db=It,w(kn._dbInfo)}}).catch(function(It){throw(M(I,It)||d.resolve()).catch(function(){}),It})}}):Q=re.then(function(se){O(I);var ue=v[I.name],de=ue.forages;se.close();for(var he=0;he<de.length;he++){var Pe=de[he];Pe._dbInfo.db=null}var it=new d(function(wt,It){var Dn=l.deleteDatabase(I.name);Dn.onerror=function(){var kn=Dn.result;kn&&kn.close(),It(Dn.error)},Dn.onblocked=function(){console.warn('dropInstance blocked for database "'+I.name+'" until all open connections are closed')},Dn.onsuccess=function(){var kn=Dn.result;kn&&kn.close(),wt(kn)}});return it.then(function(wt){ue.db=wt;for(var It=0;It<de.length;It++){var Dn=de[It];w(Dn._dbInfo)}}).catch(function(wt){throw(M(I,wt)||d.resolve()).catch(function(){}),wt})})}return h(Q,H),Q}var Ne={_driver:"asyncStorage",_initStorage:ne,_support:c(),iterate:fe,getItem:$,setItem:Z,removeItem:oe,clear:Re,length:Ee,key:ae,keys:be,dropInstance:Ve};function ye(){return typeof openDatabase=="function"}var Se="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",We="~~local_forage_type~",Be=/^~~local_forage_type~([^~]+)~/,xe="__lfsc__:",Je=xe.length,Ct="arbf",qt="blob",kt="si08",Ce="ui08",ut="uic8",jt="si16",Ot="si32",Me="ur16",Ge="ui32",st="fl32",ot="fl64",ln=Je+Ct.length,mt=Object.prototype.toString;function dt(I){var H=I.length*.75,L=I.length,W,Q=0,q,re,se,ue;I[I.length-1]==="="&&(H--,I[I.length-2]==="="&&H--);var de=new ArrayBuffer(H),he=new Uint8Array(de);for(W=0;W<L;W+=4)q=Se.indexOf(I[W]),re=Se.indexOf(I[W+1]),se=Se.indexOf(I[W+2]),ue=Se.indexOf(I[W+3]),he[Q++]=q<<2|re>>4,he[Q++]=(re&15)<<4|se>>2,he[Q++]=(se&3)<<6|ue&63;return de}function cn(I){var H=new Uint8Array(I),L="",W;for(W=0;W<H.length;W+=3)L+=Se[H[W]>>2],L+=Se[(H[W]&3)<<4|H[W+1]>>4],L+=Se[(H[W+1]&15)<<2|H[W+2]>>6],L+=Se[H[W+2]&63];return H.length%3===2?L=L.substring(0,L.length-1)+"=":H.length%3===1&&(L=L.substring(0,L.length-2)+"=="),L}function yn(I,H){var L="";if(I&&(L=mt.call(I)),I&&(L==="[object ArrayBuffer]"||I.buffer&&mt.call(I.buffer)==="[object ArrayBuffer]")){var W,Q=xe;I instanceof ArrayBuffer?(W=I,Q+=Ct):(W=I.buffer,L==="[object Int8Array]"?Q+=kt:L==="[object Uint8Array]"?Q+=Ce:L==="[object Uint8ClampedArray]"?Q+=ut:L==="[object Int16Array]"?Q+=jt:L==="[object Uint16Array]"?Q+=Me:L==="[object Int32Array]"?Q+=Ot:L==="[object Uint32Array]"?Q+=Ge:L==="[object Float32Array]"?Q+=st:L==="[object Float64Array]"?Q+=ot:H(new Error("Failed to get type for BinaryArray"))),H(Q+cn(W))}else if(L==="[object Blob]"){var q=new FileReader;q.onload=function(){var re=We+I.type+"~"+cn(this.result);H(xe+qt+re)},q.readAsArrayBuffer(I)}else try{H(JSON.stringify(I))}catch(re){console.error("Couldn't convert value into a JSON string: ",I),H(null,re)}}function en(I){if(I.substring(0,Je)!==xe)return JSON.parse(I);var H=I.substring(ln),L=I.substring(Je,ln),W;if(L===qt&&Be.test(H)){var Q=H.match(Be);W=Q[1],H=H.substring(Q[0].length)}var q=dt(H);switch(L){case Ct:return q;case qt:return u([q],{type:W});case kt:return new Int8Array(q);case Ce:return new Uint8Array(q);case ut:return new Uint8ClampedArray(q);case jt:return new Int16Array(q);case Me:return new Uint16Array(q);case Ot:return new Int32Array(q);case Ge:return new Uint32Array(q);case st:return new Float32Array(q);case ot:return new Float64Array(q);default:throw new Error("Unkown type: "+L)}}var bt={serialize:yn,deserialize:en,stringToBuffer:dt,bufferToString:cn};function Hn(I,H,L,W){I.executeSql("CREATE TABLE IF NOT EXISTS "+H.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],L,W)}function _r(I){var H=this,L={db:null};if(I)for(var W in I)L[W]=typeof I[W]!="string"?I[W].toString():I[W];var Q=new d(function(q,re){try{L.db=openDatabase(L.name,String(L.version),L.description,L.size)}catch(se){return re(se)}L.db.transaction(function(se){Hn(se,L,function(){H._dbInfo=L,q()},function(ue,de){re(de)})},re)});return L.serializer=bt,Q}function En(I,H,L,W,Q,q){I.executeSql(L,W,Q,function(re,se){se.code===se.SYNTAX_ERR?re.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[H.storeName],function(ue,de){de.rows.length?q(ue,se):Hn(ue,H,function(){ue.executeSql(L,W,Q,q)},q)},q):q(re,se)},q)}function Ni(I,H){var L=this;I=g(I);var W=new d(function(Q,q){L.ready().then(function(){var re=L._dbInfo;re.db.transaction(function(se){En(se,re,"SELECT * FROM "+re.storeName+" WHERE key = ? LIMIT 1",[I],function(ue,de){var he=de.rows.length?de.rows.item(0).value:null;he&&(he=re.serializer.deserialize(he)),Q(he)},function(ue,de){q(de)})})}).catch(q)});return h(W,H),W}function hi(I,H){var L=this,W=new d(function(Q,q){L.ready().then(function(){var re=L._dbInfo;re.db.transaction(function(se){En(se,re,"SELECT * FROM "+re.storeName,[],function(ue,de){for(var he=de.rows,Pe=he.length,it=0;it<Pe;it++){var wt=he.item(it),It=wt.value;if(It&&(It=re.serializer.deserialize(It)),It=I(It,wt.key,it+1),It!==void 0){Q(It);return}}Q()},function(ue,de){q(de)})})}).catch(q)});return h(W,H),W}function Tt(I,H,L,W){var Q=this;I=g(I);var q=new d(function(re,se){Q.ready().then(function(){H===void 0&&(H=null);var ue=H,de=Q._dbInfo;de.serializer.serialize(H,function(he,Pe){Pe?se(Pe):de.db.transaction(function(it){En(it,de,"INSERT OR REPLACE INTO "+de.storeName+" (key, value) VALUES (?, ?)",[I,he],function(){re(ue)},function(wt,It){se(It)})},function(it){if(it.code===it.QUOTA_ERR){if(W>0){re(Tt.apply(Q,[I,ue,L,W-1]));return}se(it)}})})}).catch(se)});return h(q,L),q}function Cn(I,H,L){return Tt.apply(this,[I,H,L,1])}function De(I,H){var L=this;I=g(I);var W=new d(function(Q,q){L.ready().then(function(){var re=L._dbInfo;re.db.transaction(function(se){En(se,re,"DELETE FROM "+re.storeName+" WHERE key = ?",[I],function(){Q()},function(ue,de){q(de)})})}).catch(q)});return h(W,H),W}function nt(I){var H=this,L=new d(function(W,Q){H.ready().then(function(){var q=H._dbInfo;q.db.transaction(function(re){En(re,q,"DELETE FROM "+q.storeName,[],function(){W()},function(se,ue){Q(ue)})})}).catch(Q)});return h(L,I),L}function Qn(I){var H=this,L=new d(function(W,Q){H.ready().then(function(){var q=H._dbInfo;q.db.transaction(function(re){En(re,q,"SELECT COUNT(key) as c FROM "+q.storeName,[],function(se,ue){var de=ue.rows.item(0).c;W(de)},function(se,ue){Q(ue)})})}).catch(Q)});return h(L,I),L}function pi(I,H){var L=this,W=new d(function(Q,q){L.ready().then(function(){var re=L._dbInfo;re.db.transaction(function(se){En(se,re,"SELECT key FROM "+re.storeName+" WHERE id = ? LIMIT 1",[I+1],function(ue,de){var he=de.rows.length?de.rows.item(0).key:null;Q(he)},function(ue,de){q(de)})})}).catch(q)});return h(W,H),W}function Ae(I){var H=this,L=new d(function(W,Q){H.ready().then(function(){var q=H._dbInfo;q.db.transaction(function(re){En(re,q,"SELECT key FROM "+q.storeName,[],function(se,ue){for(var de=[],he=0;he<ue.rows.length;he++)de.push(ue.rows.item(he).key);W(de)},function(se,ue){Q(ue)})})}).catch(Q)});return h(L,I),L}function ze(I){return new d(function(H,L){I.transaction(function(W){W.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],function(Q,q){for(var re=[],se=0;se<q.rows.length;se++)re.push(q.rows.item(se).name);H({db:I,storeNames:re})},function(Q,q){L(q)})},function(W){L(W)})})}function qe(I,H){H=m.apply(this,arguments);var L=this.config();I=typeof I!="function"&&I||{},I.name||(I.name=I.name||L.name,I.storeName=I.storeName||L.storeName);var W=this,Q;return I.name?Q=new d(function(q){var re;I.name===L.name?re=W._dbInfo.db:re=openDatabase(I.name,"","",0),I.storeName?q({db:re,storeNames:[I.storeName]}):q(ze(re))}).then(function(q){return new d(function(re,se){q.db.transaction(function(ue){function de(wt){return new d(function(It,Dn){ue.executeSql("DROP TABLE IF EXISTS "+wt,[],function(){It()},function(kn,Di){Dn(Di)})})}for(var he=[],Pe=0,it=q.storeNames.length;Pe<it;Pe++)he.push(de(q.storeNames[Pe]));d.all(he).then(function(){re()}).catch(function(wt){se(wt)})},function(ue){se(ue)})})}):Q=d.reject("Invalid arguments"),h(Q,H),Q}var Bn={_driver:"webSQLStorage",_initStorage:_r,_support:ye(),iterate:hi,getItem:Ni,setItem:Cn,removeItem:De,clear:nt,length:Qn,key:pi,keys:Ae,dropInstance:qe};function Jn(){try{return typeof localStorage<"u"&&"setItem"in localStorage&&!!localStorage.setItem}catch{return!1}}function gi(I,H){var L=I.name+"/";return I.storeName!==H.storeName&&(L+=I.storeName+"/"),L}function Bi(){var I="_localforage_support_test";try{return localStorage.setItem(I,!0),localStorage.removeItem(I),!1}catch{return!0}}function ar(){return!Bi()||localStorage.length>0}function Yr(I){var H=this,L={};if(I)for(var W in I)L[W]=I[W];return L.keyPrefix=gi(I,H._defaultConfig),ar()?(H._dbInfo=L,L.serializer=bt,d.resolve()):d.reject()}function $t(I){var H=this,L=H.ready().then(function(){for(var W=H._dbInfo.keyPrefix,Q=localStorage.length-1;Q>=0;Q--){var q=localStorage.key(Q);q.indexOf(W)===0&&localStorage.removeItem(q)}});return h(L,I),L}function tl(I,H){var L=this;I=g(I);var W=L.ready().then(function(){var Q=L._dbInfo,q=localStorage.getItem(Q.keyPrefix+I);return q&&(q=Q.serializer.deserialize(q)),q});return h(W,H),W}function bv(I,H){var L=this,W=L.ready().then(function(){for(var Q=L._dbInfo,q=Q.keyPrefix,re=q.length,se=localStorage.length,ue=1,de=0;de<se;de++){var he=localStorage.key(de);if(he.indexOf(q)===0){var Pe=localStorage.getItem(he);if(Pe&&(Pe=Q.serializer.deserialize(Pe)),Pe=I(Pe,he.substring(re),ue++),Pe!==void 0)return Pe}}});return h(W,H),W}function ap(I,H){var L=this,W=L.ready().then(function(){var Q=L._dbInfo,q;try{q=localStorage.key(I)}catch{q=null}return q&&(q=q.substring(Q.keyPrefix.length)),q});return h(W,H),W}function lp(I){var H=this,L=H.ready().then(function(){for(var W=H._dbInfo,Q=localStorage.length,q=[],re=0;re<Q;re++){var se=localStorage.key(re);se.indexOf(W.keyPrefix)===0&&q.push(se.substring(W.keyPrefix.length))}return q});return h(L,I),L}function cp(I){var H=this,L=H.keys().then(function(W){return W.length});return h(L,I),L}function up(I,H){var L=this;I=g(I);var W=L.ready().then(function(){var Q=L._dbInfo;localStorage.removeItem(Q.keyPrefix+I)});return h(W,H),W}function Vt(I,H,L){var W=this;I=g(I);var Q=W.ready().then(function(){H===void 0&&(H=null);var q=H;return new d(function(re,se){var ue=W._dbInfo;ue.serializer.serialize(H,function(de,he){if(he)se(he);else try{localStorage.setItem(ue.keyPrefix+I,de),re(q)}catch(Pe){(Pe.name==="QuotaExceededError"||Pe.name==="NS_ERROR_DOM_QUOTA_REACHED")&&se(Pe),se(Pe)}})})});return h(Q,L),Q}function ms(I,H){if(H=m.apply(this,arguments),I=typeof I!="function"&&I||{},!I.name){var L=this.config();I.name=I.name||L.name,I.storeName=I.storeName||L.storeName}var W=this,Q;return I.name?Q=new d(function(q){I.storeName?q(gi(I,W._defaultConfig)):q(I.name+"/")}).then(function(q){for(var re=localStorage.length-1;re>=0;re--){var se=localStorage.key(re);se.indexOf(q)===0&&localStorage.removeItem(se)}}):Q=d.reject("Invalid arguments"),h(Q,H),Q}var bd={_driver:"localStorageWrapper",_initStorage:Yr,_support:Jn(),iterate:bv,getItem:tl,setItem:Vt,removeItem:up,clear:$t,length:cp,key:ap,keys:lp,dropInstance:ms},nl=function(H,L){return H===L||typeof H=="number"&&typeof L=="number"&&isNaN(H)&&isNaN(L)},_v=function(H,L){for(var W=H.length,Q=0;Q<W;){if(nl(H[Q],L))return!0;Q++}return!1},_c=Array.isArray||function(I){return Object.prototype.toString.call(I)==="[object Array]"},_d={},KE={},Sc={INDEXEDDB:Ne,WEBSQL:Bn,LOCALSTORAGE:bd},cD=[Sc.INDEXEDDB._driver,Sc.WEBSQL._driver,Sc.LOCALSTORAGE._driver],dp=["dropInstance"],Sv=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(dp),uD={description:"",driver:cD.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function dD(I,H){I[H]=function(){var L=arguments;return I.ready().then(function(){return I[H].apply(I,L)})}}function xv(){for(var I=1;I<arguments.length;I++){var H=arguments[I];if(H)for(var L in H)H.hasOwnProperty(L)&&(_c(H[L])?arguments[0][L]=H[L].slice():arguments[0][L]=H[L])}return arguments[0]}var fD=function(){function I(H){o(this,I);for(var L in Sc)if(Sc.hasOwnProperty(L)){var W=Sc[L],Q=W._driver;this[L]=Q,_d[Q]||this.defineDriver(W)}this._defaultConfig=xv({},uD),this._config=xv({},this._defaultConfig,H),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}return I.prototype.config=function(L){if((typeof L>"u"?"undefined":s(L))==="object"){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var W in L){if(W==="storeName"&&(L[W]=L[W].replace(/\W/g,"_")),W==="version"&&typeof L[W]!="number")return new Error("Database version must be a number.");this._config[W]=L[W]}return"driver"in L&&L.driver?this.setDriver(this._config.driver):!0}else return typeof L=="string"?this._config[L]:this._config},I.prototype.defineDriver=function(L,W,Q){var q=new d(function(re,se){try{var ue=L._driver,de=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!L._driver){se(de);return}for(var he=Sv.concat("_initStorage"),Pe=0,it=he.length;Pe<it;Pe++){var wt=he[Pe],It=!_v(dp,wt);if((It||L[wt])&&typeof L[wt]!="function"){se(de);return}}var Dn=function(){for(var Sd=function(gD){return function(){var mD=new Error("Method "+gD+" is not implemented by the current driver"),YE=d.reject(mD);return h(YE,arguments[arguments.length-1]),YE}},wv=0,pD=dp.length;wv<pD;wv++){var Ev=dp[wv];L[Ev]||(L[Ev]=Sd(Ev))}};Dn();var kn=function(Sd){_d[ue]&&console.info("Redefining LocalForage driver: "+ue),_d[ue]=L,KE[ue]=Sd,re()};"_support"in L?L._support&&typeof L._support=="function"?L._support().then(kn,se):kn(!!L._support):kn(!0)}catch(Di){se(Di)}});return p(q,W,Q),q},I.prototype.driver=function(){return this._driver||null},I.prototype.getDriver=function(L,W,Q){var q=_d[L]?d.resolve(_d[L]):d.reject(new Error("Driver not found."));return p(q,W,Q),q},I.prototype.getSerializer=function(L){var W=d.resolve(bt);return p(W,L),W},I.prototype.ready=function(L){var W=this,Q=W._driverSet.then(function(){return W._ready===null&&(W._ready=W._initDriver()),W._ready});return p(Q,L,L),Q},I.prototype.setDriver=function(L,W,Q){var q=this;_c(L)||(L=[L]);var re=this._getSupportedDrivers(L);function se(){q._config.driver=q.driver()}function ue(Pe){return q._extend(Pe),se(),q._ready=q._initStorage(q._config),q._ready}function de(Pe){return function(){var it=0;function wt(){for(;it<Pe.length;){var It=Pe[it];return it++,q._dbInfo=null,q._ready=null,q.getDriver(It).then(ue).catch(wt)}se();var Dn=new Error("No available storage method found.");return q._driverSet=d.reject(Dn),q._driverSet}return wt()}}var he=this._driverSet!==null?this._driverSet.catch(function(){return d.resolve()}):d.resolve();return this._driverSet=he.then(function(){var Pe=re[0];return q._dbInfo=null,q._ready=null,q.getDriver(Pe).then(function(it){q._driver=it._driver,se(),q._wrapLibraryMethodsWithReady(),q._initDriver=de(re)})}).catch(function(){se();var Pe=new Error("No available storage method found.");return q._driverSet=d.reject(Pe),q._driverSet}),p(this._driverSet,W,Q),this._driverSet},I.prototype.supports=function(L){return!!KE[L]},I.prototype._extend=function(L){xv(this,L)},I.prototype._getSupportedDrivers=function(L){for(var W=[],Q=0,q=L.length;Q<q;Q++){var re=L[Q];this.supports(re)&&W.push(re)}return W},I.prototype._wrapLibraryMethodsWithReady=function(){for(var L=0,W=Sv.length;L<W;L++)dD(this,Sv[L])},I.prototype.createInstance=function(L){return new I(L)},I}(),hD=new fD;r.exports=hD},{3:3}]},{},[4])(4)})})(nO);var tK=nO.exports;const Cf=Ar(tK),rO=Object.freeze(Object.defineProperty({__proto__:null,default:Cf},Symbol.toStringTag,{value:"Module"}));let Rd=null;async function Dm(){if(!Rd)if("localStorage"in globalThis)try{Rd=ud(async()=>{const{default:e}=await Promise.resolve().then(()=>rO);return{default:e}},void 0).then(({default:e})=>e.createInstance({name:"localforage"}))}catch(e){console.error(e),Rd=Promise.resolve(Le.memory)}else Rd=Promise.resolve(Le.memory);return Rd}const Lu=e=>Pi.generateSongFile(e),iO=async e=>{var n;const t=Lu(e);return await((n=await Dm())==null?void 0:n.getItem(t))||{plays:0,scores:[]}},sO=async(e,t)=>{var n;await((n=await Dm())==null?void 0:n.setItem(Lu(e),t))},nK=async()=>{var n;const e=await((n=await Dm())==null?void 0:n.keys())??[],t={};return await Promise.all(e.map(async r=>{var i;t[r]=await((i=await Dm())==null?void 0:i.getItem(r))})),t};te.songEnded.subscribe(async(e,t,n,r)=>{if(n.every(o=>o.score===0))return;let i=await(Cf==null?void 0:Cf.getItem(Lu(e)));const s={setup:t,scores:n,date:new Date().toISOString(),progress:r};i?(i.scores=[...(i==null?void 0:i.scores)??[],s],i.plays=i.scores.length):i={plays:1,scores:[s]},await sO(e,i),te.songStatStored.dispatch(Lu(e),i)});const Nu="session-player-names",rK="previous-player-names";function iK(e){return e!=null}te.songStarted.subscribe((e,t)=>{let n=JSON.parse(Le.session.getItem(Nu))||[];const r=t.players.map(({number:s})=>Oe.getPlayer(s)).filter(iK).map(s=>s.getName().trim()),i=[...n].concat(...r);n=[...new Set(i)].filter(Boolean),Le.session.setItem(Nu,JSON.stringify(n)),Le.session.setItem(rK,JSON.stringify(r))});te.songScoreUpdated.subscribe((e,t,n)=>{let r=JSON.parse(Le.session.getItem(Nu))||[];const i=[...r].concat(n);r=[...new Set(i)].filter(Boolean),Le.session.setItem(Nu,JSON.stringify(r))});function sK(e,t){const n=t<0?e.length+t:t;return e[n]}[].at||(Array.prototype.at=function(e){return sK(this,e)});[].findLastIndex||(Array.prototype.findLastIndex=function(e,t){for(let n=this.length-1;n>=0;n--)if(e.call(t,this[n],n,this))return n;return-1});var oK="Expected a function";function fu(e,t,n){var r=!0,i=!0;if(typeof e!="function")throw new TypeError(oK);return Bs(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),Cj(e,t,{leading:r,maxWait:t,trailing:i})}class aK extends zs{constructor(){super(...arguments),this.stream=null,this.context=null,this.interval=null,this.frequencies=[0,0],this.volumes=[0,0],this.startedMonitoring=!1,this.startMonitoring=async t=>{if(!this.startedMonitoring){this.startedMonitoring=!0;try{this.stream=await Ea.getUserMedia({audio:{echoCancellation:!0,noiseSuppression:!0,autoGainControl:!1},video:!1});try{this.context=new AudioContext;const n=this.context.createMediaStreamSource(this.stream),r=this.context.createAnalyser();r.fftSize=2048,r.minDecibels=-100,n.connect(r);const i=new xj;await i.init(this.context,r.fftSize),this.interval=setInterval(async()=>{const s=new Float32Array(r.fftSize);r.getFloatTimeDomainData(s);const o=await i.getFrequency(s),a=this.calculateVolume(s);this.frequencies=[o,o],this.volumes=[a,a],this.onUpdate(o,a)},this.context.sampleRate/r.fftSize),te.micMonitoringStarted.dispatch()}catch(n){Ns(n),console.error(n)}}catch(n){Ns(n,{level:"warning",extra:{message:"SimplifiedMic.startMonitoring"}}),console.warn(n)}}},this.getFrequencies=()=>this.frequencies,this.getVolumes=()=>this.volumes,this.clearFrequencies=t=>{},this.stopMonitoring=async()=>{var t,n;if(this.startedMonitoring){this.startedMonitoring=!1,this.interval&&clearInterval(this.interval),(t=this.stream)==null||t.getTracks().forEach(function(r){r.stop()});try{await((n=this.context)==null?void 0:n.close())}catch(r){console.log("MicInput.stoMonitoring error",r)}te.micMonitoringStopped.dispatch()}},this.getInputLag=()=>180,this.requestReadiness=()=>Promise.resolve(!0),this.getStatus=()=>"ok"}calculateVolume(t){let n,r=0;for(n=0;n<t.length;++n)r+=t[n]*t[n];return Math.sqrt(r/t.length)}}const xs=new aK;class lK extends zs{constructor(){super(...arguments),this.connection=null,this.roomId=null,this.isConnected=()=>{var t;return(((t=this.connection)==null?void 0:t.readyState)??1/0)<2},this.close=()=>{var t;(t=this.connection)==null||t.close()}}connect(t,n,r,i,s){this.roomId=n,this.connection=new WebSocket(`${Mj}/party/${n}`),this.connection.binaryType="arraybuffer",this.connection.onopen=()=>{var o;(o=this.connection)==null||o.send(rs({t:"register-player",id:t,roomId:n}))},this.connection.onmessage=o=>{const a=ed(o.data);a.t==="forward"?this.onUpdate(a.payload):a.t==="connected"&&r()},this.connection.onclose=o=>{var l;let a="unknown";try{a=(l=JSON.parse(o.reason))==null?void 0:l.error}catch{console.info("could not parse close reason",o)}this.clearAllListeners(),i(a,o)},this.connection.onerror=o=>{this.clearAllListeners(),s("error",o)}}sendEvent(t){var n;(n=this.connection)==null||n.send(rs({t:"forward",recipients:[this.roomId],payload:t}))}}class cK extends zs{constructor(){super(...arguments),this.peer=null,this.connection=null,this.unavailableIdRetries=0,this.unavailableIdRetryTimeout=null,this.connectToRoom=(t,n,r)=>{var i;this.connection=this.peer.connect(`allkaraoke-party-room-${t}`),this.connection.on("open",()=>{n()}),this.connection.on("close",()=>r("closed",null)),(i=this.connection)==null||i.on("data",s=>{console.log(s),this.onUpdate(s)})},this.isConnected=()=>{var t,n;return!!((t=this.connection)!=null&&t.open)&&!((n=this.peer)!=null&&n.disconnected)},this.close=()=>{var t;(t=this.connection)==null||t.close()}}connect(t,n,r,i,s){this.peer&&!this.peer.disconnected?this.connectToRoom(n,r,i):(this.peer=new by(t,{...jj,debug:3}),this.peer.on("open",()=>{this.connectToRoom(n,r,i)}),this.peer.on("error",o=>{var a,l;o.type==="unavailable-id"&&this.unavailableIdRetries<3&&this.unavailableIdRetryTimeout===null?((l=(a=this.peer)==null?void 0:a.destroy)==null||l.call(a),this.unavailableIdRetryTimeout=setTimeout(()=>{this.unavailableIdRetryTimeout=null,this.unavailableIdRetries++,this.connect(t,n,r,i,s)},1750)):(this.unavailableIdRetries=0,console.error(o.type,o),i(o.type,o))}))}sendEvent(t){var n;(n=this.connection)==null||n.send(t)}}class uK extends zs{constructor(){super(...arguments),this.connection=null,this.roomId=null,this.isConnected=()=>{var t;return(((t=this.connection)==null?void 0:t.readyState)??1/0)<2},this.close=()=>{var t;(t=this.connection)==null||t.close()}}connect(t,n,r,i,s){this.roomId=n,this.connection=new WebSocket($j),this.connection.binaryType="arraybuffer",this.connection.onopen=()=>{var o;(o=this.connection)==null||o.send(rs({t:"register-player",id:t,roomId:n}))},this.connection.onmessage=o=>{const a=ed(o.data);a.t==="forward"?this.onUpdate(a.payload):a.t==="connected"&&r()},this.connection.onclose=o=>{var l;let a="unknown";try{a=(l=JSON.parse(o.reason))==null?void 0:l.error}catch{console.info("could not parse close reason",o)}this.clearAllListeners(),i(a,o)},this.connection.onerror=o=>{this.clearAllListeners(),s("error",o)}}sendEvent(t){var n;(n=this.connection)==null||n.send(rs({t:"forward",recipients:[this.roomId],payload:t}))}}const Xk=(e,t)=>{if(e===0)return 0;const n=Math.pow(10,t);return Math.round(e*n)/n};let $p;const dK=new Uint8Array(16);function fK(){if(!$p&&($p=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!$p))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return $p(dK)}const lr=[];for(let e=0;e<256;++e)lr.push((e+256).toString(16).slice(1));function hK(e,t=0){return lr[e[t+0]]+lr[e[t+1]]+lr[e[t+2]]+lr[e[t+3]]+"-"+lr[e[t+4]]+lr[e[t+5]]+"-"+lr[e[t+6]]+lr[e[t+7]]+"-"+lr[e[t+8]]+lr[e[t+9]]+"-"+lr[e[t+10]]+lr[e[t+11]]+lr[e[t+12]]+lr[e[t+13]]+lr[e[t+14]]+lr[e[t+15]]}const pK=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Zk={randomUUID:pK};function $m(e,t,n){if(Zk.randomUUID&&!t&&!e)return Zk.randomUUID();e=e||{};const r=e.random||(e.rng||fK)();return r[6]=r[6]&15|64,r[8]=r[8]&63|128,hK(r)}const Rb="MIC_CLIENT_ID";class gK{constructor(){this.clientId=Le.getItem(Rb),this.roomId=null,this.reconnecting=!1,this.connected=!1,this.frequencies=[],this.sendFrequencies=fu(t=>{const n=this.frequencies.map(r=>Xk(r,2));this.frequencies.length=0,this.sendEvent("freq",[n,Xk(t,4)])},50),this.onFrequencyUpdate=fu((t,n)=>{this.frequencies.push(t),this.sendFrequencies(n)},1e3/60),this.getClientId=()=>this.clientId,this.setClientId=t=>{this.clientId=t,Le.setItem(Rb,t)},this.connect=(t,n,r)=>{const i=t.toLowerCase();if(this.transport||(this.transport=i.startsWith("w")?new uK:i.startsWith("k")?new lK:new cK),this.clientId===null&&this.setClientId($m()),this.roomId=i,this.transport.isConnected()){console.log("not reconnecting",this.transport);return}this.reconnecting||te.karaokeConnectionStatusChange.dispatch("connecting"),this.transport.connect(this.clientId,this.roomId,()=>{this.connectToServer(i,n,r)},(s,o)=>{var a;if(s==="unavailable-id"){this.setClientId($m()),this.connect(i,n,r);return}global.removeEventListener("beforeunload",this.disconnect),this.reconnecting?te.karaokeConnectionStatusChange.dispatch("reconnecting"):this.connected?te.karaokeConnectionStatusChange.dispatch("disconnected"):(te.karaokeConnectionStatusChange.dispatch("error",s),On.capture("remote_mic_connection_error",{reason:s,transport:(a=this.roomId)==null?void 0:a.charAt(0)})),te.remoteMicPlayerSet.dispatch(null),te.remoteKeyboardLayout.dispatch(void 0),xs.removeListener(this.onFrequencyUpdate),xs.stopMonitoring(),s!=="player-removed"&&!this.reconnecting&&this.connected&&(this.reconnecting=!0,setTimeout(()=>this.reconnect(i,n),1500)),this.connected=!1},console.warn)},this.latency=999,this.pingStart=Ur(),this.pinging=!1,this.ping=()=>{this.pinging=!0,this.pingStart=Ur(),this.sendEvent("ping",{p:this.pingStart})},this.reportPing=fu(t=>On.capture("remote_mic_ping",{ping:t}),6e4),this.onPong=()=>{this.latency=Ur()-this.pingStart,this.pinging=!1,this.reportPing(this.latency),setTimeout(this.ping,2e3)},this.connectToServer=(t,n,r)=>{var i;this.connected=!0,this.reconnecting=!1,te.karaokeConnectionStatusChange.dispatch("connected"),On.capture("remote_mic_connection_successful",{transport:(i=this.roomId)==null?void 0:i.charAt(0)}),this.sendEvent("register",{name:n,id:this.clientId,silent:r,lag:s3.get()}),this.ping(),global==null||global.addEventListener("beforeunload",this.disconnect),this.transport.addListener(s=>{var a,l;const o=s.t;o==="start-monitor"?(xs.removeListener(this.onFrequencyUpdate),xs.addListener(this.onFrequencyUpdate),xs.startMonitoring(void 0)):o==="stop-monitor"?(xs.removeListener(this.onFrequencyUpdate),xs.stopMonitoring()):o==="set-player-number"?te.remoteMicPlayerSet.dispatch(s.playerNumber):o==="keyboard-layout"?te.remoteKeyboardLayout.dispatch(s.help):o==="reload-mic"?(global.removeEventListener("beforeunload",this.disconnect),this.sendEvent("unregister"),Le.session.setItem("reload-mic-request","1"),(a=document.getElementById("phone-ui-container"))==null||a.remove(),(l=global.location)==null||l.reload()):o==="request-readiness"?te.remoteReadinessRequested.dispatch():o==="pong"?this.onPong():o==="ping"?this.sendEvent("pong"):o==="set-permissions"?te.remoteMicPermissionsSet.dispatch(s.level):o==="remote-mics-list"?te.remoteMicListUpdated.dispatch(s.list):o==="style-change"&&te.remoteStyleChanged.dispatch(s.style)})},this.reconnect=(t,n)=>{this.reconnecting&&(te.karaokeConnectionStatusChange.dispatch("reconnecting"),this.connect(t,n,!1),setTimeout(()=>this.reconnect(t,n),2e3))},this.sendKeyStroke=t=>{this.sendEvent("keystroke",{key:t})},this.searchSong=t=>{this.sendEvent("search-song",{search:t})},this.selectSong=t=>{this.sendEvent("select-song",{id:t})},this.requestPlayerChange=(t,n)=>{this.sendEvent("request-mic-select",{id:t,playerNumber:n})},this.confirmReadiness=()=>{this.sendEvent("confirm-readiness")},this.subscribe=t=>{this.sendEvent("subscribe-event",{channel:t})},this.unsubscribe=t=>{this.sendEvent("unsubscribe-event",{channel:t})},this.getSongList=()=>this.sendRequest({t:"request-songlist"},"songlist"),this.getGameInputLag=()=>this.sendRequest({t:"get-game-input-lag-request"},"get-game-input-lag-response"),this.setGameInputLag=t=>this.sendRequest({t:"set-game-input-lag-request",value:t},"get-game-input-lag-response"),this.getMicrophoneInputLag=()=>this.sendRequest({t:"get-microphone-lag-request"},"get-microphone-lag-response"),this.setMicrophoneInputLag=t=>this.sendRequest({t:"set-microphone-lag-request",value:t},"get-microphone-lag-response"),this.removePlayer=t=>this.sendEvent("remove-player",{id:t}),this.sendEvent=(t,n)=>{var r;(r=this.transport)!=null&&r.isConnected()?this.transport.sendEvent({t,...n}):console.debug("not connected, skipping",t,n)},this.sendRequest=({t,...n},r)=>new Promise((i,s)=>{var l;const o=setTimeout(()=>{var c;(c=this.transport)==null||c.removeListener(a),s(`${t} timed out waiting for ${r}`)},1e4),a=c=>{var u;c.t===r&&(clearTimeout(o),(u=this.transport)==null||u.removeListener(a),i(c))};(l=this.transport)==null||l.addListener(a),this.sendEvent(t,n)}),this.disconnect=()=>{var t;(t=this.transport)==null||t.close()}}}const pn=new gK,mK="/assets/2020-12-16_-_Christmas_Rock_-_www.FesliyanStudios.com_Steve_Oxen-DMCunqoI.ogg",yK="/assets/376817__original_sound__impact-cinematic-CwEVHJ3C.ogg",vK="/assets/459342__papaninkasettratat__cinematic-music-short-rn-rfKrG.ogg",AK="/assets/60013__qubodup__whoosh-CRSX-bwR.mp3",bK="/assets/Funk%20Cool%20Groove%20(No%20Copyright%20Music)%20By%20Anwar%20Amr-Chfv45i1.ogg",_K="/assets/boo-and-laugh-7060-BidOOj5I.mp3",SK="/assets/croworraven1-6749-Ce48aK2E.mp3",xK="/assets/Halloween%20Cinematic%20by%20Infraction%20_No%20Copyright%20Music_%20%20Halloween%202024%20_%20ezmp3.cc%20_-C2nU6gX4.mp3",wK="/assets/halloween-impact-05-93808-BCpJmIL8.mp3",EK="/assets/scary-music-box-for-spooky-scenes-165983-BgDUokgm.mp3",CK="/assets/menu_back-CXKu2j7w.mp3",kK="data:audio/mpeg;base64,SUQzBAAAAAAAIlRTU0UAAAAOAAADTGF2ZjYwLjMuMTAwAAAAAAAAAAAAAAD/+1QAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABYaW5nAAAADwAAABMAAA04AEFBQUFBZWVlZWV/f39/f5GRkZGRkZqampqaoaGhoaGoqKioqLCwsLCwsLe3t7e3vr6+vr7FxcXFxc3Nzc3NzdTU1NTU29vb29vi4uLi4urq6urq6vHx8fHx+Pj4+Pj//////wAAAABMYXZjNjAuMy4AAAAAAAAAAAAAAAAkAuUAAAAAAAANOLGcZrL/+8REAAEA/ADLaAAACh+AGY0AAAFGhC0ZtYMAKP4GYzKwkAUAFJyXj/AAAB7QAAB4eHh4YYAOM////jh4eAAAAAIw8AlNybj/AAAB/AAADw8PDwxwAAGf///5h4eAAAAAIw9hSJuIlQJTskunEz5RFv1Y2byK7n/97llcFmmyCgoMFBQUFAoKCgoMFDX////qAoKChQUFESxJ2AfoAZiMJDhIyAqTJk81xxarn/97lWmgXEJCQoUJCChQUFBQSCgoKChQUv//6YKFAoKCgwUFBQUhBQU0WgEEAFZUiUdVZ7urwsAwAAAoTmeCxjBAdkrnZm5gCuz2BTRyEx8VJUhukDsoNVBjExsWZAsIvo6ZtcOZTJhAKFQlp6a7oGrhgQ1GypacseeN5GgM7LimCHZWKo200F2pFIbcrBxGTFxgYmAAQQh6wspcVlNfLCxvO2HAzIQgDZSzJWt9XFnYFf27////7/0ko32xTymMyqLclUq8QECiT3+7//+laf///9uMHyGvGu2u2so2EgAAAAADIAEGFguPUQDJhoMKHjtm/ExnBISAuP5tq7A0VjIBuAgFjyzu0ITEAhWvB/0sPUTU5MzMnhocNpDqll1v/GBSiOTAAAWq/agAGAMGDkG2YBxmZlUXgGO2D0YAgS4cGyYBIAoNAqIQNjBRA4BAFZgOABuLCYbR9W0P1ijMzWyHU3rL3T2m1K3RtqSLDrfcC31jHuH9r6RUOFIwt0G+T2Y9yNS/FrmLTOcX1qpRxdapf/+f4gPaOLN2fYACixdruAAAHzMDQmBJhGTdzmMADioJDwTNcGAFKgEmAwApvBgDS6/hLpkYzDFewH6hgRt+3pCrr5/3651XUGvoTGe1AAACh1ZV5WQADAgMzFkSzVCXT2T/+6Rk5IAFRzBLfm9kgFGDij/NsCRO4MEnXeeAIQ0NZLe68ATIzWYcjI0FQUTAYG4GARMBYUYAQQoAsBHktFznLy0sSlohrcySM0V97trfW6mUEZ4r3G0Su6apFIYlLPRjDC0HKnNGDPCbCtAP2eeEAA3ZmhL+AAAG5JEGTcHdpB80aHvkDv0YiAhA2mHHOna1doX/uZ6qnnDUzTgKUABohnh230QAAMbEBQnNCETYME2cNbMBjy7BqoGICdqx1SsFklW0zpKswQnCikdnsJ4tsbhp/ASpfR1JaY61CrDJgx/F3EWoNSoEVBqRvuTG5yhcItANgUThn9//+tgCHmIeH3wBoCkKCxgISgSstpAzImgHGYaQ6AVraQgJgaXZN2SAGyriKC3mDpVtvoo5FXA4mYiIj/aAABUhpCZgEAUnGtWKCEAZ/BEFQDhceXTMw8yUktRRlhhbRJYUkSpDzpdNaErxzPiWxVMqtHMxstZL1/1froSdU2dnUSBCnAUUTDiw2FdX+MCo0MrMuDAAAE84aw5jGXtZrP0+3AGAJVVUyjYENrIhERZuDyP8PUISzy7xH/4MlwUJsBBcI7GR4DyaWF6iCwni4hbZmGQWTQIi6L3h+abmhZzs1OZ7gOu0RcL/+4Rk6AAS+iLI+68a+C5DOV9rAxlLuHch7eXlYMgNZP2WFVzAmUIpCmxCchkYSLdCTM0X2sVgAjJ+gEAnQkJe1v9aZjJCCJfFH1YIagNfLtAJODmCQtYaPzBF//yVIIAAAUHjJAVCHeXwjlgBxVOjKgO1ddIsKHgBBT1MQU1FMy4xMDBVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVAAABzCFdZkkAAAsCDOBkGYUxBTUUzLjEwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVQ0kMkxBTUUzLjEwMKqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqoZVUxBTUUzLjEwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+2Rk7wEStyFJ+08a+icCKR9h4ycGxGkp7CSn6HKE4u2GCJRVVVVVVVVVVVVVVVVVVVVVSUxBTUUzLjEwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVSUxBTUUzLjEwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUxBTUUzLjEwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUxBTUUzLjH/+yRk7Idw1QbEowxBAA1AyIgl4wMBUA0PBWMAIBUBolQUmAYwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUxBTUUzLjEwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+xRk6g9wQAJDKU8ACARASJUEQAEAXAsOA4wgIAaAYgAQAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUxBTUUzLjEwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+xRk4w/wDwDEAMAACAAAD/AAAAEAGAMUAQAAIAAAP8AAAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUxBTUUzLjEwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+xRk4o/wBgDEgEAACAAAD/AAAAEADAMaAIAAIAAAP8AAAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUxBTUUzLjEwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+xRk4g/wAwDGACAACAAAD/AAAAEADAMWAIAAIAAAP8AAAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUxBTUUzLjEwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+xRk4g/wAwDFgCAACAAAD/AAAAEADAMUAIAAIAAAP8AAAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUxBTUUzLjEwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+xRE4Y/wAAB/gAAACAAAD/AAAAEAAAH+AAAAIAAAP8AAAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUxBTUUzLjEwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+xRE4Y/wAAB/gAAACAAAD/AAAAEAAAH+AAAAIAAAP8AAAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+xRE4Y/wAAB/gAAACAAAD/AAAAEAAAH+AAAAIAAAP8AAAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+xRk4Y/wAAB/gAAACAAAD/AAAAEAAAH+AAAAIAAAP8AAAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+xRk4Y/wAAB/gAAACAAAD/AAAAEAAAH+AAAAIAAAP8AAAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+xRk4Y/wAAB/gAAACAAADSAAAAEAAAH+AAAAIAAAP8AAAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+xRk4Y/wAAB/gAAACAAAD/AAAAEAAAH+AAAAIAAAP8AAAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+xRk4Y/wAAB/gAAACAAAD/AAAAEAAAGkAAAAIAAANIAAAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+xRk4Y/wAABpAAAACAAADSAAAAEAAAGkAAAAIAAANIAAAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVU=",TK="/assets/menu_navigate-C6GUIZQM.mp3";class Ei{constructor(t){this.options=t,this.sound=null,this.play=async(n=!0)=>{var r,i;try{if(n&&this.playing()){const s=(r=this.sound)==null?void 0:r.cloneNode(!0);await s.play(),s.remove()}else await((i=this.sound)==null?void 0:i.play())}catch(s){return console.warn(s)}},this.pause=()=>{var n;(n=this.sound)==null||n.pause()},this.stop=()=>{this.sound&&(this.sound.pause(),this.sound.currentTime=0)},this.playing=()=>{var n;return!((n=this.sound)!=null&&n.paused)},global.Audio&&(this.sound=new Audio(t.src),this.sound.preload=t.preload?"auto":"none",this.sound.volume=t.volume??1,this.sound.loop=t.loop??!1)}}class wy{constructor(t,n){this.defaultSound=t,this.themeOverrides=n,this.getProperSound=()=>{var i;const r=W0.get();return((i=this.themeOverrides)==null?void 0:i[r])??this.defaultSound},this.play=async(r=!0)=>this.getProperSound().play(r),this.pause=()=>this.getProperSound().pause(),this.stop=()=>this.getProperSound().stop(),this.playing=()=>this.getProperSound().playing()}}const Ey=new Ei({src:TK}),Px=new Ei({src:kK}),Rx=new Ei({src:CK}),Mx=new wy(new Ei({src:AK,preload:!0,volume:.5}),{halloween:new Ei({src:SK,preload:!0,volume:.7})}),Dg=new wy(new Ei({src:bK,volume:.3,loop:!0}),{christmas:new Ei({src:mK,volume:.25,loop:!0}),halloween:new Ei({src:xK,volume:.3,loop:!0})}),oO=new wy(new Ei({src:yK,preload:!0}),{halloween:new Ei({src:_K,preload:!0,volume:.4})}),$g=new wy(new Ei({src:vK,volume:.8}),{halloween:new Ei({src:EK,volume:.2})}),IK=new Ei({src:wK,preload:!0,volume:.5}),PK=Object.freeze(Object.defineProperty({__proto__:null,backgroundMusic:Dg,menuBack:Rx,menuEnter:Px,menuNavigate:Ey,selectHalloweenSong:IK,waitFinished:oO,waitForReadinessMusic:$g,woosh:Mx},Symbol.toStringTag,{value:"Module"})),RK={RemoteMicClient:pn,RemoteMicServer:Ol,GameState:$e,GameEvents:te,RemoteMicManager:rt,SongDao:Pi,InputManager:wn,InputSourceManager:co,CameraManager:Is,UserMediaService:Ea,PlayersManager:Oe,SoundManager:PK,importSongs:async()=>{await(await ud(()=>import("./importSongsFromPostHog-iZHbIYiv.js"),[])).default()}};global.__exposeSingletons=()=>{global.__singletons=RK};console.log("Run global.__exposeSingletons() and inspect global.__singletons for debugging");var MK=!1;function jK(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}function OK(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),e.nonce!==void 0&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}var VK=function(){function e(n){var r=this;this._insertTag=function(i){var s;r.tags.length===0?r.insertionPoint?s=r.insertionPoint.nextSibling:r.prepend?s=r.container.firstChild:s=r.before:s=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,s),r.tags.push(i)},this.isSpeedy=n.speedy===void 0?!MK:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(r){r.forEach(this._insertTag)},t.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(OK(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var s=jK(i);try{s.insertRule(r,s.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(r));this.ctr++},t.flush=function(){this.tags.forEach(function(r){var i;return(i=r.parentNode)==null?void 0:i.removeChild(r)}),this.tags=[],this.ctr=0},e}(),Er="-ms-",Fm="-moz-",_t="-webkit-",aO="comm",jx="rule",Ox="decl",LK="@import",lO="@keyframes",NK="@layer",BK=Math.abs,Cy=String.fromCharCode,DK=Object.assign;function $K(e,t){return hr(e,0)^45?(((t<<2^hr(e,0))<<2^hr(e,1))<<2^hr(e,2))<<2^hr(e,3):0}function cO(e){return e.trim()}function FK(e,t){return(e=t.exec(e))?e[0]:e}function St(e,t,n){return e.replace(t,n)}function Mb(e,t){return e.indexOf(t)}function hr(e,t){return e.charCodeAt(t)|0}function Zf(e,t,n){return e.slice(t,n)}function Qs(e){return e.length}function Vx(e){return e.length}function Fp(e,t){return t.push(e),e}function zK(e,t){return e.map(t).join("")}var ky=1,Bu=1,uO=0,di=0,zn=0,fd="";function Ty(e,t,n,r,i,s,o){return{value:e,root:t,parent:n,type:r,props:i,children:s,line:ky,column:Bu,length:o,return:""}}function Md(e,t){return DK(Ty("",null,null,"",null,null,0),e,{length:-e.length},t)}function UK(){return zn}function HK(){return zn=di>0?hr(fd,--di):0,Bu--,zn===10&&(Bu=1,ky--),zn}function Ci(){return zn=di<uO?hr(fd,di++):0,Bu++,zn===10&&(Bu=1,ky++),zn}function so(){return hr(fd,di)}function Fg(){return di}function zh(e,t){return Zf(fd,e,t)}function eh(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function dO(e){return ky=Bu=1,uO=Qs(fd=e),di=0,[]}function fO(e){return fd="",e}function zg(e){return cO(zh(di-1,jb(e===91?e+2:e===40?e+1:e)))}function GK(e){for(;(zn=so())&&zn<33;)Ci();return eh(e)>2||eh(zn)>3?"":" "}function qK(e,t){for(;--t&&Ci()&&!(zn<48||zn>102||zn>57&&zn<65||zn>70&&zn<97););return zh(e,Fg()+(t<6&&so()==32&&Ci()==32))}function jb(e){for(;Ci();)switch(zn){case e:return di;case 34:case 39:e!==34&&e!==39&&jb(zn);break;case 40:e===41&&jb(e);break;case 92:Ci();break}return di}function WK(e,t){for(;Ci()&&e+zn!==57;)if(e+zn===84&&so()===47)break;return"/*"+zh(t,di-1)+"*"+Cy(e===47?e:Ci())}function KK(e){for(;!eh(so());)Ci();return zh(e,di)}function YK(e){return fO(Ug("",null,null,null,[""],e=dO(e),0,[0],e))}function Ug(e,t,n,r,i,s,o,a,l){for(var c=0,u=0,d=o,h=0,p=0,g=0,m=1,b=1,y=1,v=0,_="",x=i,S=s,E=r,C=_;b;)switch(g=v,v=Ci()){case 40:if(g!=108&&hr(C,d-1)==58){Mb(C+=St(zg(v),"&","&\f"),"&\f")!=-1&&(y=-1);break}case 34:case 39:case 91:C+=zg(v);break;case 9:case 10:case 13:case 32:C+=GK(g);break;case 92:C+=qK(Fg()-1,7);continue;case 47:switch(so()){case 42:case 47:Fp(QK(WK(Ci(),Fg()),t,n),l);break;default:C+="/"}break;case 123*m:a[c++]=Qs(C)*y;case 125*m:case 59:case 0:switch(v){case 0:case 125:b=0;case 59+u:y==-1&&(C=St(C,/\f/g,"")),p>0&&Qs(C)-d&&Fp(p>32?tT(C+";",r,n,d-1):tT(St(C," ","")+";",r,n,d-2),l);break;case 59:C+=";";default:if(Fp(E=eT(C,t,n,c,u,i,a,_,x=[],S=[],d),s),v===123)if(u===0)Ug(C,t,E,E,x,s,d,a,S);else switch(h===99&&hr(C,3)===110?100:h){case 100:case 108:case 109:case 115:Ug(e,E,E,r&&Fp(eT(e,E,E,0,0,i,a,_,i,x=[],d),S),i,S,d,a,r?x:S);break;default:Ug(C,E,E,E,[""],S,0,a,S)}}c=u=p=0,m=y=1,_=C="",d=o;break;case 58:d=1+Qs(C),p=g;default:if(m<1){if(v==123)--m;else if(v==125&&m++==0&&HK()==125)continue}switch(C+=Cy(v),v*m){case 38:y=u>0?1:(C+="\f",-1);break;case 44:a[c++]=(Qs(C)-1)*y,y=1;break;case 64:so()===45&&(C+=zg(Ci())),h=so(),u=d=Qs(_=C+=KK(Fg())),v++;break;case 45:g===45&&Qs(C)==2&&(m=0)}}return s}function eT(e,t,n,r,i,s,o,a,l,c,u){for(var d=i-1,h=i===0?s:[""],p=Vx(h),g=0,m=0,b=0;g<r;++g)for(var y=0,v=Zf(e,d+1,d=BK(m=o[g])),_=e;y<p;++y)(_=cO(m>0?h[y]+" "+v:St(v,/&\f/g,h[y])))&&(l[b++]=_);return Ty(e,t,n,i===0?jx:a,l,c,u)}function QK(e,t,n){return Ty(e,t,n,aO,Cy(UK()),Zf(e,2,-2),0)}function tT(e,t,n,r){return Ty(e,t,n,Ox,Zf(e,0,r),Zf(e,r+1,-1),r)}function hu(e,t){for(var n="",r=Vx(e),i=0;i<r;i++)n+=t(e[i],i,e,t)||"";return n}function JK(e,t,n,r){switch(e.type){case NK:if(e.children.length)break;case LK:case Ox:return e.return=e.return||e.value;case aO:return"";case lO:return e.return=e.value+"{"+hu(e.children,r)+"}";case jx:e.value=e.props.join(",")}return Qs(n=hu(e.children,r))?e.return=e.value+"{"+n+"}":""}function XK(e){var t=Vx(e);return function(n,r,i,s){for(var o="",a=0;a<t;a++)o+=e[a](n,r,i,s)||"";return o}}function ZK(e){return function(t){t.root||(t=t.return)&&e(t)}}function eY(e){var t=Object.create(null);return function(n){return t[n]===void 0&&(t[n]=e(n)),t[n]}}var tY=function(t,n,r){for(var i=0,s=0;i=s,s=so(),i===38&&s===12&&(n[r]=1),!eh(s);)Ci();return zh(t,di)},nY=function(t,n){var r=-1,i=44;do switch(eh(i)){case 0:i===38&&so()===12&&(n[r]=1),t[r]+=tY(di-1,n,r);break;case 2:t[r]+=zg(i);break;case 4:if(i===44){t[++r]=so()===58?"&\f":"",n[r]=t[r].length;break}default:t[r]+=Cy(i)}while(i=Ci());return t},rY=function(t,n){return fO(nY(dO(t),n))},nT=new WeakMap,iY=function(t){if(!(t.type!=="rule"||!t.parent||t.length<1)){for(var n=t.value,r=t.parent,i=t.column===r.column&&t.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(t.props.length===1&&n.charCodeAt(0)!==58&&!nT.get(r))&&!i){nT.set(t,!0);for(var s=[],o=rY(n,s),a=r.props,l=0,c=0;l<o.length;l++)for(var u=0;u<a.length;u++,c++)t.props[c]=s[l]?o[l].replace(/&\f/g,a[u]):a[u]+" "+o[l]}}},sY=function(t){if(t.type==="decl"){var n=t.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(t.return="",t.value="")}};function hO(e,t){switch($K(e,t)){case 5103:return _t+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return _t+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return _t+e+Fm+e+Er+e+e;case 6828:case 4268:return _t+e+Er+e+e;case 6165:return _t+e+Er+"flex-"+e+e;case 5187:return _t+e+St(e,/(\w+).+(:[^]+)/,_t+"box-$1$2"+Er+"flex-$1$2")+e;case 5443:return _t+e+Er+"flex-item-"+St(e,/flex-|-self/,"")+e;case 4675:return _t+e+Er+"flex-line-pack"+St(e,/align-content|flex-|-self/,"")+e;case 5548:return _t+e+Er+St(e,"shrink","negative")+e;case 5292:return _t+e+Er+St(e,"basis","preferred-size")+e;case 6060:return _t+"box-"+St(e,"-grow","")+_t+e+Er+St(e,"grow","positive")+e;case 4554:return _t+St(e,/([^-])(transform)/g,"$1"+_t+"$2")+e;case 6187:return St(St(St(e,/(zoom-|grab)/,_t+"$1"),/(image-set)/,_t+"$1"),e,"")+e;case 5495:case 3959:return St(e,/(image-set\([^]*)/,_t+"$1$`$1");case 4968:return St(St(e,/(.+:)(flex-)?(.*)/,_t+"box-pack:$3"+Er+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+_t+e+e;case 4095:case 3583:case 4068:case 2532:return St(e,/(.+)-inline(.+)/,_t+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Qs(e)-1-t>6)switch(hr(e,t+1)){case 109:if(hr(e,t+4)!==45)break;case 102:return St(e,/(.+:)(.+)-([^]+)/,"$1"+_t+"$2-$3$1"+Fm+(hr(e,t+3)==108?"$3":"$2-$3"))+e;case 115:return~Mb(e,"stretch")?hO(St(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(hr(e,t+1)!==115)break;case 6444:switch(hr(e,Qs(e)-3-(~Mb(e,"!important")&&10))){case 107:return St(e,":",":"+_t)+e;case 101:return St(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+_t+(hr(e,14)===45?"inline-":"")+"box$3$1"+_t+"$2$3$1"+Er+"$2box$3")+e}break;case 5936:switch(hr(e,t+11)){case 114:return _t+e+Er+St(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return _t+e+Er+St(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return _t+e+Er+St(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return _t+e+Er+e+e}return e}var oY=function(t,n,r,i){if(t.length>-1&&!t.return)switch(t.type){case Ox:t.return=hO(t.value,t.length);break;case lO:return hu([Md(t,{value:St(t.value,"@","@"+_t)})],i);case jx:if(t.length)return zK(t.props,function(s){switch(FK(s,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return hu([Md(t,{props:[St(s,/:(read-\w+)/,":"+Fm+"$1")]})],i);case"::placeholder":return hu([Md(t,{props:[St(s,/:(plac\w+)/,":"+_t+"input-$1")]}),Md(t,{props:[St(s,/:(plac\w+)/,":"+Fm+"$1")]}),Md(t,{props:[St(s,/:(plac\w+)/,Er+"input-$1")]})],i)}return""})}},aY=[oY],pO=function(t){var n=t.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(m){var b=m.getAttribute("data-emotion");b.indexOf(" ")!==-1&&(document.head.appendChild(m),m.setAttribute("data-s",""))})}var i=t.stylisPlugins||aY,s={},o,a=[];o=t.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(m){for(var b=m.getAttribute("data-emotion").split(" "),y=1;y<b.length;y++)s[b[y]]=!0;a.push(m)});var l,c=[iY,sY];{var u,d=[JK,ZK(function(m){u.insert(m)})],h=XK(c.concat(i,d)),p=function(b){return hu(YK(b),h)};l=function(b,y,v,_){u=v,p(b?b+"{"+y.styles+"}":y.styles),_&&(g.inserted[y.name]=!0)}}var g={key:n,sheet:new VK({key:n,container:o,nonce:t.nonce,speedy:t.speedy,prepend:t.prepend,insertionPoint:t.insertionPoint}),nonce:t.nonce,inserted:s,registered:{},insert:l};return g.sheet.hydrate(a),g};function zm(){return zm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},zm.apply(null,arguments)}var lY=!0;function cY(e,t,n){var r="";return n.split(" ").forEach(function(i){e[i]!==void 0?t.push(e[i]+";"):i&&(r+=i+" ")}),r}var gO=function(t,n,r){var i=t.key+"-"+n.name;(r===!1||lY===!1)&&t.registered[i]===void 0&&(t.registered[i]=n.styles)},mO=function(t,n,r){gO(t,n,r);var i=t.key+"-"+n.name;if(t.inserted[n.name]===void 0){var s=n;do t.insert(n===s?"."+i:"",s,t.sheet,!0),s=s.next;while(s!==void 0)}};function uY(e){for(var t=0,n,r=0,i=e.length;i>=4;++r,i-=4)n=e.charCodeAt(r)&255|(e.charCodeAt(++r)&255)<<8|(e.charCodeAt(++r)&255)<<16|(e.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,t=(n&65535)*1540483477+((n>>>16)*59797<<16)^(t&65535)*1540483477+((t>>>16)*59797<<16);switch(i){case 3:t^=(e.charCodeAt(r+2)&255)<<16;case 2:t^=(e.charCodeAt(r+1)&255)<<8;case 1:t^=e.charCodeAt(r)&255,t=(t&65535)*1540483477+((t>>>16)*59797<<16)}return t^=t>>>13,t=(t&65535)*1540483477+((t>>>16)*59797<<16),((t^t>>>15)>>>0).toString(36)}var dY={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},fY=!1,hY=/[A-Z]|^ms/g,pY=/_EMO_([^_]+?)_([^]*?)_EMO_/g,yO=function(t){return t.charCodeAt(1)===45},rT=function(t){return t!=null&&typeof t!="boolean"},Xv=eY(function(e){return yO(e)?e:e.replace(hY,"-$&").toLowerCase()}),iT=function(t,n){switch(t){case"animation":case"animationName":if(typeof n=="string")return n.replace(pY,function(r,i,s){return Js={name:i,styles:s,next:Js},i})}return dY[t]!==1&&!yO(t)&&typeof n=="number"&&n!==0?n+"px":n},gY="Component selectors can only be used in conjunction with @emotion/babel-plugin, the swc Emotion plugin, or another Emotion-aware compiler transform.";function th(e,t,n){if(n==null)return"";var r=n;if(r.__emotion_styles!==void 0)return r;switch(typeof n){case"boolean":return"";case"object":{var i=n;if(i.anim===1)return Js={name:i.name,styles:i.styles,next:Js},i.name;var s=n;if(s.styles!==void 0){var o=s.next;if(o!==void 0)for(;o!==void 0;)Js={name:o.name,styles:o.styles,next:Js},o=o.next;var a=s.styles+";";return a}return mY(e,t,n)}case"function":{if(e!==void 0){var l=Js,c=n(e);return Js=l,th(e,t,c)}break}}var u=n;if(t==null)return u;var d=t[u];return d!==void 0?d:u}function mY(e,t,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=th(e,t,n[i])+";";else for(var s in n){var o=n[s];if(typeof o!="object"){var a=o;t!=null&&t[a]!==void 0?r+=s+"{"+t[a]+"}":rT(a)&&(r+=Xv(s)+":"+iT(s,a)+";")}else{if(s==="NO_COMPONENT_SELECTOR"&&fY)throw new Error(gY);if(Array.isArray(o)&&typeof o[0]=="string"&&(t==null||t[o[0]]===void 0))for(var l=0;l<o.length;l++)rT(o[l])&&(r+=Xv(s)+":"+iT(s,o[l])+";");else{var c=th(e,t,o);switch(s){case"animation":case"animationName":{r+=Xv(s)+":"+c+";";break}default:r+=s+"{"+c+"}"}}}}return r}var sT=/label:\s*([^\s;{]+)\s*(;|$)/g,Js;function Iy(e,t,n){if(e.length===1&&typeof e[0]=="object"&&e[0]!==null&&e[0].styles!==void 0)return e[0];var r=!0,i="";Js=void 0;var s=e[0];if(s==null||s.raw===void 0)r=!1,i+=th(n,t,s);else{var o=s;i+=o[0]}for(var a=1;a<e.length;a++)if(i+=th(n,t,e[a]),r){var l=s;i+=l[a]}sT.lastIndex=0;for(var c="",u;(u=sT.exec(i))!==null;)c+="-"+u[1];var d=uY(i)+c;return{name:d,styles:i,next:Js}}var yY=function(t){return t()},vO=lm.useInsertionEffect?lm.useInsertionEffect:!1,vY=vO||yY,oT=vO||A.useLayoutEffect,AO=A.createContext(typeof HTMLElement<"u"?pO({key:"css"}):null),AY=AO.Provider,bO=function(t){return A.forwardRef(function(n,r){var i=A.useContext(AO);return t(n,i,r)})},Py=A.createContext({}),bY=bO(function(e,t){var n=e.styles,r=Iy([n],void 0,A.useContext(Py)),i=A.useRef();return oT(function(){var s=t.key+"-global",o=new t.sheet.constructor({key:s,nonce:t.sheet.nonce,container:t.sheet.container,speedy:t.sheet.isSpeedy}),a=!1,l=document.querySelector('style[data-emotion="'+s+" "+r.name+'"]');return t.sheet.tags.length&&(o.before=t.sheet.tags[0]),l!==null&&(a=!0,l.setAttribute("data-emotion",s),o.hydrate([l])),i.current=[o,a],function(){o.flush()}},[t]),oT(function(){var s=i.current,o=s[0],a=s[1];if(a){s[1]=!1;return}if(r.next!==void 0&&mO(t,r.next,!0),o.tags.length){var l=o.tags[o.tags.length-1].nextElementSibling;o.before=l,o.flush()}t.insert("",r,o,!1)},[t,r.name]),null});function ps(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Iy(t)}var pc=function(){var t=ps.apply(void 0,arguments),n="animation-"+t.name;return{name:n,styles:"@keyframes "+n+"{"+t.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}};function Lx(e,t){for(var n=-1,r=e==null?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}function _Y(){this.__data__=new Wo,this.size=0}function SY(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}function xY(e){return this.__data__.get(e)}function wY(e){return this.__data__.has(e)}var EY=200;function CY(e,t){var n=this.__data__;if(n instanceof Wo){var r=n.__data__;if(!Qf||r.length<EY-1)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new Ko(r)}return n.set(e,t),this.size=n.size,this}function oo(e){var t=this.__data__=new Wo(e);this.size=t.size}oo.prototype.clear=_Y;oo.prototype.delete=SY;oo.prototype.get=xY;oo.prototype.has=wY;oo.prototype.set=CY;function kY(e,t){for(var n=-1,r=e==null?0:e.length;++n<r&&t(e[n],n,e)!==!1;);return e}var Um=function(){try{var e=hc(Object,"defineProperty");return e({},"",{}),e}catch{}}();function _O(e,t,n){t=="__proto__"&&Um?Um(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}var TY=Object.prototype,IY=TY.hasOwnProperty;function SO(e,t,n){var r=e[t];(!(IY.call(e,t)&&py(r,n))||n===void 0&&!(t in e))&&_O(e,t,n)}function Uh(e,t,n,r){var i=!n;n||(n={});for(var s=-1,o=t.length;++s<o;){var a=t[s],l=void 0;l===void 0&&(l=e[a]),i?_O(n,a,l):SO(n,a,l)}return n}function PY(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}var RY="[object Arguments]";function aT(e){return $o(e)&&dc(e)==RY}var xO=Object.prototype,MY=xO.hasOwnProperty,jY=xO.propertyIsEnumerable,Nx=aT(function(){return arguments}())?aT:function(e){return $o(e)&&MY.call(e,"callee")&&!jY.call(e,"callee")},ls=Array.isArray;function OY(){return!1}var wO=typeof exports=="object"&&exports&&!exports.nodeType&&exports,lT=wO&&typeof module=="object"&&module&&!module.nodeType&&module,VY=lT&&lT.exports===wO,cT=VY?Us.Buffer:void 0,LY=cT?cT.isBuffer:void 0,Hm=LY||OY,NY="[object Arguments]",BY="[object Array]",DY="[object Boolean]",$Y="[object Date]",FY="[object Error]",zY="[object Function]",UY="[object Map]",HY="[object Number]",GY="[object Object]",qY="[object RegExp]",WY="[object Set]",KY="[object String]",YY="[object WeakMap]",QY="[object ArrayBuffer]",JY="[object DataView]",XY="[object Float32Array]",ZY="[object Float64Array]",eQ="[object Int8Array]",tQ="[object Int16Array]",nQ="[object Int32Array]",rQ="[object Uint8Array]",iQ="[object Uint8ClampedArray]",sQ="[object Uint16Array]",oQ="[object Uint32Array]",Yt={};Yt[XY]=Yt[ZY]=Yt[eQ]=Yt[tQ]=Yt[nQ]=Yt[rQ]=Yt[iQ]=Yt[sQ]=Yt[oQ]=!0;Yt[NY]=Yt[BY]=Yt[QY]=Yt[DY]=Yt[JY]=Yt[$Y]=Yt[FY]=Yt[zY]=Yt[UY]=Yt[HY]=Yt[GY]=Yt[qY]=Yt[WY]=Yt[KY]=Yt[YY]=!1;function aQ(e){return $o(e)&&Cx(e.length)&&!!Yt[dc(e)]}function Bx(e){return function(t){return e(t)}}var EO=typeof exports=="object"&&exports&&!exports.nodeType&&exports,kf=EO&&typeof module=="object"&&module&&!module.nodeType&&module,lQ=kf&&kf.exports===EO,Zv=lQ&&wj.process,Du=function(){try{var e=kf&&kf.require&&kf.require("util").types;return e||Zv&&Zv.binding&&Zv.binding("util")}catch{}}(),uT=Du&&Du.isTypedArray,CO=uT?Bx(uT):aQ,cQ=Object.prototype,uQ=cQ.hasOwnProperty;function kO(e,t){var n=ls(e),r=!n&&Nx(e),i=!n&&!r&&Hm(e),s=!n&&!r&&!i&&CO(e),o=n||r||i||s,a=o?PY(e.length,String):[],l=a.length;for(var c in e)(t||uQ.call(e,c))&&!(o&&(c=="length"||i&&(c=="offset"||c=="parent")||s&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||Tx(c,l)))&&a.push(c);return a}var dQ=Object.prototype;function Dx(e){var t=e&&e.constructor,n=typeof t=="function"&&t.prototype||dQ;return e===n}function TO(e,t){return function(n){return e(t(n))}}var fQ=TO(Object.keys,Object),hQ=Object.prototype,pQ=hQ.hasOwnProperty;function gQ(e){if(!Dx(e))return fQ(e);var t=[];for(var n in Object(e))pQ.call(e,n)&&n!="constructor"&&t.push(n);return t}function Hh(e){return kx(e)?kO(e):gQ(e)}function mQ(e,t){return e&&Uh(t,Hh(t),e)}function yQ(e){var t=[];if(e!=null)for(var n in Object(e))t.push(n);return t}var vQ=Object.prototype,AQ=vQ.hasOwnProperty;function bQ(e){if(!Bs(e))return yQ(e);var t=Dx(e),n=[];for(var r in e)r=="constructor"&&(t||!AQ.call(e,r))||n.push(r);return n}function $x(e){return kx(e)?kO(e,!0):bQ(e)}function _Q(e,t){return e&&Uh(t,$x(t),e)}var IO=typeof exports=="object"&&exports&&!exports.nodeType&&exports,dT=IO&&typeof module=="object"&&module&&!module.nodeType&&module,SQ=dT&&dT.exports===IO,fT=SQ?Us.Buffer:void 0,hT=fT?fT.allocUnsafe:void 0;function xQ(e,t){if(t)return e.slice();var n=e.length,r=hT?hT(n):new e.constructor(n);return e.copy(r),r}function PO(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}function wQ(e,t){for(var n=-1,r=e==null?0:e.length,i=0,s=[];++n<r;){var o=e[n];t(o,n,e)&&(s[i++]=o)}return s}function RO(){return[]}var EQ=Object.prototype,CQ=EQ.propertyIsEnumerable,pT=Object.getOwnPropertySymbols,Fx=pT?function(e){return e==null?[]:(e=Object(e),wQ(pT(e),function(t){return CQ.call(e,t)}))}:RO;function kQ(e,t){return Uh(e,Fx(e),t)}function zx(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}var Ux=TO(Object.getPrototypeOf,Object),TQ=Object.getOwnPropertySymbols,MO=TQ?function(e){for(var t=[];e;)zx(t,Fx(e)),e=Ux(e);return t}:RO;function IQ(e,t){return Uh(e,MO(e),t)}function jO(e,t,n){var r=t(e);return ls(e)?r:zx(r,n(e))}function Ob(e){return jO(e,Hh,Fx)}function OO(e){return jO(e,$x,MO)}var Vb=hc(Us,"DataView"),Lb=hc(Us,"Promise"),pu=hc(Us,"Set"),Nb=hc(Us,"WeakMap"),gT="[object Map]",PQ="[object Object]",mT="[object Promise]",yT="[object Set]",vT="[object WeakMap]",AT="[object DataView]",RQ=fc(Vb),MQ=fc(Qf),jQ=fc(Lb),OQ=fc(pu),VQ=fc(Nb),Es=dc;(Vb&&Es(new Vb(new ArrayBuffer(1)))!=AT||Qf&&Es(new Qf)!=gT||Lb&&Es(Lb.resolve())!=mT||pu&&Es(new pu)!=yT||Nb&&Es(new Nb)!=vT)&&(Es=function(e){var t=dc(e),n=t==PQ?e.constructor:void 0,r=n?fc(n):"";if(r)switch(r){case RQ:return AT;case MQ:return gT;case jQ:return mT;case OQ:return yT;case VQ:return vT}return t});var LQ=Object.prototype,NQ=LQ.hasOwnProperty;function BQ(e){var t=e.length,n=new e.constructor(t);return t&&typeof e[0]=="string"&&NQ.call(e,"index")&&(n.index=e.index,n.input=e.input),n}var Gm=Us.Uint8Array;function Hx(e){var t=new e.constructor(e.byteLength);return new Gm(t).set(new Gm(e)),t}function DQ(e,t){var n=t?Hx(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}var $Q=/\w*$/;function FQ(e){var t=new e.constructor(e.source,$Q.exec(e));return t.lastIndex=e.lastIndex,t}var bT=as?as.prototype:void 0,_T=bT?bT.valueOf:void 0;function zQ(e){return _T?Object(_T.call(e)):{}}function UQ(e,t){var n=t?Hx(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}var HQ="[object Boolean]",GQ="[object Date]",qQ="[object Map]",WQ="[object Number]",KQ="[object RegExp]",YQ="[object Set]",QQ="[object String]",JQ="[object Symbol]",XQ="[object ArrayBuffer]",ZQ="[object DataView]",eJ="[object Float32Array]",tJ="[object Float64Array]",nJ="[object Int8Array]",rJ="[object Int16Array]",iJ="[object Int32Array]",sJ="[object Uint8Array]",oJ="[object Uint8ClampedArray]",aJ="[object Uint16Array]",lJ="[object Uint32Array]";function cJ(e,t,n){var r=e.constructor;switch(t){case XQ:return Hx(e);case HQ:case GQ:return new r(+e);case ZQ:return DQ(e,n);case eJ:case tJ:case nJ:case rJ:case iJ:case sJ:case oJ:case aJ:case lJ:return UQ(e,n);case qQ:return new r;case WQ:case QQ:return new r(e);case KQ:return FQ(e);case YQ:return new r;case JQ:return zQ(e)}}var ST=Object.create,uJ=function(){function e(){}return function(t){if(!Bs(t))return{};if(ST)return ST(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();function dJ(e){return typeof e.constructor=="function"&&!Dx(e)?uJ(Ux(e)):{}}var fJ="[object Map]";function hJ(e){return $o(e)&&Es(e)==fJ}var xT=Du&&Du.isMap,pJ=xT?Bx(xT):hJ,gJ="[object Set]";function mJ(e){return $o(e)&&Es(e)==gJ}var wT=Du&&Du.isSet,yJ=wT?Bx(wT):mJ,vJ=1,AJ=2,bJ=4,VO="[object Arguments]",_J="[object Array]",SJ="[object Boolean]",xJ="[object Date]",wJ="[object Error]",LO="[object Function]",EJ="[object GeneratorFunction]",CJ="[object Map]",kJ="[object Number]",NO="[object Object]",TJ="[object RegExp]",IJ="[object Set]",PJ="[object String]",RJ="[object Symbol]",MJ="[object WeakMap]",jJ="[object ArrayBuffer]",OJ="[object DataView]",VJ="[object Float32Array]",LJ="[object Float64Array]",NJ="[object Int8Array]",BJ="[object Int16Array]",DJ="[object Int32Array]",$J="[object Uint8Array]",FJ="[object Uint8ClampedArray]",zJ="[object Uint16Array]",UJ="[object Uint32Array]",Ut={};Ut[VO]=Ut[_J]=Ut[jJ]=Ut[OJ]=Ut[SJ]=Ut[xJ]=Ut[VJ]=Ut[LJ]=Ut[NJ]=Ut[BJ]=Ut[DJ]=Ut[CJ]=Ut[kJ]=Ut[NO]=Ut[TJ]=Ut[IJ]=Ut[PJ]=Ut[RJ]=Ut[$J]=Ut[FJ]=Ut[zJ]=Ut[UJ]=!0;Ut[wJ]=Ut[LO]=Ut[MJ]=!1;function Hg(e,t,n,r,i,s){var o,a=t&vJ,l=t&AJ,c=t&bJ;if(n&&(o=i?n(e,r,i,s):n(e)),o!==void 0)return o;if(!Bs(e))return e;var u=ls(e);if(u){if(o=BQ(e),!a)return PO(e,o)}else{var d=Es(e),h=d==LO||d==EJ;if(Hm(e))return xQ(e,a);if(d==NO||d==VO||h&&!i){if(o=l||h?{}:dJ(e),!a)return l?IQ(e,_Q(o,e)):kQ(e,mQ(o,e))}else{if(!Ut[d])return i?e:{};o=cJ(e,d,a)}}s||(s=new oo);var p=s.get(e);if(p)return p;s.set(e,o),yJ(e)?e.forEach(function(b){o.add(Hg(b,t,n,b,e,s))}):pJ(e)&&e.forEach(function(b,y){o.set(y,Hg(b,t,n,y,e,s))});var g=c?l?OO:Ob:l?$x:Hh,m=u?void 0:g(e);return kY(m||e,function(b,y){m&&(y=b,b=e[y]),SO(o,y,Hg(b,t,n,y,e,s))}),o}var HJ=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,GJ=/^\w*$/;function Gx(e,t){if(ls(e))return!1;var n=typeof e;return n=="number"||n=="symbol"||n=="boolean"||e==null||hy(e)?!0:GJ.test(e)||!HJ.test(e)||t!=null&&e in Object(t)}var qJ=500;function WJ(e){var t=yy(e,function(r){return n.size===qJ&&n.clear(),r}),n=t.cache;return t}var KJ=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,YJ=/\\(\\)?/g,QJ=WJ(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(KJ,function(n,r,i,s){t.push(i?s.replace(YJ,"$1"):r||n)}),t}),JJ=1/0,ET=as?as.prototype:void 0,CT=ET?ET.toString:void 0;function BO(e){if(typeof e=="string")return e;if(ls(e))return Lx(e,BO)+"";if(hy(e))return CT?CT.call(e):"";var t=e+"";return t=="0"&&1/e==-JJ?"-0":t}function qx(e){return e==null?"":BO(e)}function Ry(e,t){return ls(e)?e:Gx(e,t)?[e]:QJ(qx(e))}function XJ(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var ZJ=1/0;function Gh(e){if(typeof e=="string"||hy(e))return e;var t=e+"";return t=="0"&&1/e==-ZJ?"-0":t}function Wx(e,t){t=Ry(t,e);for(var n=0,r=t.length;e!=null&&n<r;)e=e[Gh(t[n++])];return n&&n==r?e:void 0}function Kx(e,t,n){var r=-1,i=e.length;t<0&&(t=-t>i?0:i+t),n=n>i?i:n,n<0&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var s=Array(i);++r<i;)s[r]=e[r+t];return s}function eX(e,t){return t.length<2?e:Wx(e,Kx(t,0,-1))}function tX(e,t){return t=Ry(t,e),e=eX(e,t),e==null||delete e[Gh(XJ(t))]}var nX="[object Object]",rX=Function.prototype,iX=Object.prototype,DO=rX.toString,sX=iX.hasOwnProperty,oX=DO.call(Object);function aX(e){if(!$o(e)||dc(e)!=nX)return!1;var t=Ux(e);if(t===null)return!0;var n=sX.call(t,"constructor")&&t.constructor;return typeof n=="function"&&n instanceof n&&DO.call(n)==oX}function lX(e){return aX(e)?void 0:e}var kT=as?as.isConcatSpreadable:void 0;function cX(e){return ls(e)||Nx(e)||!!(kT&&e&&e[kT])}function uX(e,t,n,r,i){var s=-1,o=e.length;for(n||(n=cX),i||(i=[]);++s<o;){var a=e[s];n(a)?zx(i,a):i[i.length]=a}return i}function dX(e){var t=e==null?0:e.length;return t?uX(e):[]}function fX(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}var TT=Math.max;function hX(e,t,n){return t=TT(t===void 0?e.length-1:t,0),function(){for(var r=arguments,i=-1,s=TT(r.length-t,0),o=Array(s);++i<s;)o[i]=r[t+i];i=-1;for(var a=Array(t+1);++i<t;)a[i]=r[i];return a[t]=n(o),fX(e,this,a)}}function pX(e){return function(){return e}}function $O(e){return e}var gX=Um?function(e,t){return Um(e,"toString",{configurable:!0,enumerable:!1,value:pX(t),writable:!0})}:$O,mX=800,yX=16,vX=Date.now;function AX(e){var t=0,n=0;return function(){var r=vX(),i=yX-(r-n);if(n=r,i>0){if(++t>=mX)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var bX=AX(gX);function _X(e){return bX(hX(e,void 0,dX),e+"")}var SX=1,xX=2,wX=4,EX=_X(function(e,t){var n={};if(e==null)return n;var r=!1;t=Lx(t,function(s){return s=Ry(s,e),r||(r=s.length>1),s}),Uh(e,OO(e),n),r&&(n=Hg(n,SX|xX|wX,lX));for(var i=t.length;i--;)tX(n,t[i]);return n});function Ds(e,t=!1){const[n,r]=A.useState(null);return A.useEffect(()=>{const i=(...s)=>{r(s)};return e.subscribe(i,t),()=>e.unsubscribe(i)},[e]),n}function Ir(e,t,n=[]){const r=Array.isArray(e)?e:[e];A.useEffect(()=>(r.forEach(i=>i.subscribe(t)),()=>r.forEach(i=>i.unsubscribe(t))),[...r,t,...n])}function Ri(e,t,n=[]){const r=A.useMemo(t,[]),[i,s]=A.useState(r),o=Array.isArray(e)?e:[e];return A.useEffect(()=>{s(t())},n),A.useEffect(()=>{const a=()=>s(t());return o.forEach(l=>l.subscribe(a)),()=>o.forEach(l=>l.unsubscribe(a))},[...o]),i}function CX(e){var t=Object.create(null);return function(n){return t[n]===void 0&&(t[n]=e(n)),t[n]}}var kX=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,TX=CX(function(e){return kX.test(e)||e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)<91}),IX=TX,PX=function(t){return t!=="theme"},IT=function(t){return typeof t=="string"&&t.charCodeAt(0)>96?IX:PX},PT=function(t,n,r){var i;if(n){var s=n.shouldForwardProp;i=t.__emotion_forwardProp&&s?function(o){return t.__emotion_forwardProp(o)&&s(o)}:s}return typeof i!="function"&&r&&(i=t.__emotion_forwardProp),i},RX=function(t){var n=t.cache,r=t.serialized,i=t.isStringTag;return gO(n,r,i),vY(function(){return mO(n,r,i)}),null},j=function e(t,n){var r=t.__emotion_real===t,i=r&&t.__emotion_base||t,s,o;n!==void 0&&(s=n.label,o=n.target);var a=PT(t,n,r),l=a||IT(i),c=!l("as");return function(){var u=arguments,d=r&&t.__emotion_styles!==void 0?t.__emotion_styles.slice(0):[];if(s!==void 0&&d.push("label:"+s+";"),u[0]==null||u[0].raw===void 0)d.push.apply(d,u);else{d.push(u[0][0]);for(var h=u.length,p=1;p<h;p++)d.push(u[p],u[0][p])}var g=bO(function(m,b,y){var v=c&&m.as||i,_="",x=[],S=m;if(m.theme==null){S={};for(var E in m)S[E]=m[E];S.theme=A.useContext(Py)}typeof m.className=="string"?_=cY(b.registered,x,m.className):m.className!=null&&(_=m.className+" ");var C=Iy(d.concat(x),b.registered,S);_+=b.key+"-"+C.name,o!==void 0&&(_+=" "+o);var k=c&&a===void 0?IT(v):l,O={};for(var w in m)c&&w==="as"||k(w)&&(O[w]=m[w]);return O.className=_,O.ref=y,A.createElement(A.Fragment,null,A.createElement(RX,{cache:b,serialized:C,isStringTag:typeof v=="string"}),A.createElement(v,O))});return g.displayName=s!==void 0?s:"Styled("+(typeof i=="string"?i:i.displayName||i.name||"Component")+")",g.defaultProps=t.defaultProps,g.__emotion_real=g,g.__emotion_base=i,g.__emotion_styles=d,g.__emotion_forwardProp=a,Object.defineProperty(g,"toString",{value:function(){return"."+o}}),g.withComponent=function(m,b){return e(m,zm({},n,b,{shouldForwardProp:PT(g,b,!0)})).apply(void 0,d)},g}};const $u={animation:"focusAnimation 1000ms ease-in-out infinite both"},MX={boxShadow:`inset 0px 0px 0px 4px ${ge.colors.text.active}`},Ke={fontWeight:"bold",WebkitTextStroke:"0.1rem black",color:"white","& strong":{color:ge.colors.text.active}};function jX(){var e=A.useRef(!0);return e.current?(e.current=!1,!0):e.current}var qm=function(){return qm=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},qm.apply(this,arguments)};function OX(){var e=A.useRef(!1),t=A.useCallback(function(){return e.current},[]);return A.useEffect(function(){return e.current=!0,function(){e.current=!1}},[]),t}function VX(e,t,n){t===void 0&&(t=[]),n===void 0&&(n={loading:!1});var r=A.useRef(0),i=OX(),s=A.useState(n),o=s[0],a=s[1],l=A.useCallback(function(){for(var c=[],u=0;u<arguments.length;u++)c[u]=arguments[u];var d=++r.current;return o.loading||a(function(h){return qm(qm({},h),{loading:!0})}),e.apply(void 0,c).then(function(h){return i()&&d===r.current&&a({value:h,loading:!1}),h},function(h){return i()&&d===r.current&&a({error:h,loading:!1}),h})},t);return[o,l]}function RT(e,t){t===void 0&&(t=[]);var n=VX(e,t,{loading:!0}),r=n[0],i=n[1];return A.useEffect(function(){i()},[i]),r}function LX(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];e&&e.addEventListener&&e.addEventListener.apply(e,t)}function NX(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];e&&e.removeEventListener&&e.removeEventListener.apply(e,t)}var BX=typeof window<"u",DX=function(e){return(e+1)%1e6};function FO(){var e=A.useReducer(DX,0),t=e[1];return t}var $X=function(e){A.useEffect(e,[])},FX=BX?window:null,MT=function(e){return!!e.addEventListener},jT=function(e){return!!e.on},zX=function(e,t,n,r){n===void 0&&(n=FX),A.useEffect(function(){if(t&&n)return MT(n)?LX(n,e,t,r):jT(n)&&n.on(e,t,r),function(){MT(n)?NX(n,e,t,r):jT(n)&&n.off(e,t,r)}},[e,t,n,JSON.stringify(r)])},zO=function(e,t){var n=A.useRef(function(){});A.useEffect(function(){n.current=e}),A.useEffect(function(){{var r=setInterval(function(){return n.current()},t);return function(){return clearInterval(r)}}},[t])},UX=function(e){var t=A.useRef(e);t.current=e,$X(function(){return function(){return t.current()}})};function HX(e){var t=A.useRef();return A.useEffect(function(){t.current=e}),t.current}var GX=function(e,t){return e===t};function qX(e,t){t===void 0&&(t=GX);var n=A.useRef(),r=A.useRef(e),i=jX();return!i&&!t(r.current,e)&&(n.current=r.current,r.current=e),n.current}function WX(){const[e,t]=A.useState(null),[n,r]=A.useState(Ol.isStarted()),[i,s]=A.useState(Ol.getLatency());zO(()=>{s(Ol.getLatency())},1e3),Ir(te.micServerStarted,()=>{r(!0)}),Ir(te.micServerStopped,()=>{r(!1)});const o=Ri([te.remoteMicConnected,te.remoteMicDisconnected],()=>rt.getRemoteMics(),[n]);return A.useEffect(()=>{e===null&&n&&t(!0)},[n,e]),e?f.jsxs(KX,{children:[f.jsxs(OT,{children:[f.jsx("strong",{children:"Remote mic server"}),": ",n?"Online":"Offline",n&&i&&f.jsxs(f.Fragment,{children:[" (",i,"ms)"]})]}),n&&f.jsx(f.Fragment,{children:f.jsxs(OT,{children:[f.jsx("strong",{children:"connected mics"}),": ",o.length]})})]}):null}const KX=j("div",{target:"eeky7rp1"})("opacity:0.75;position:fixed;bottom:0;right:0;",Ke,";font-size:1.5rem;padding:0.5rem;display:flex;gap:1rem;z-index:100000;pointer-events:none;"),OT=j("div",{target:"eeky7rp0"})(""),Yx="-",YX=e=>{const t=JX(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:o=>{const a=o.split(Yx);return a[0]===""&&a.length!==1&&a.shift(),UO(a,t)||QX(o)},getConflictingClassGroupIds:(o,a)=>{const l=n[o]||[];return a&&r[o]?[...l,...r[o]]:l}}},UO=(e,t)=>{var o;if(e.length===0)return t.classGroupId;const n=e[0],r=t.nextPart.get(n),i=r?UO(e.slice(1),r):void 0;if(i)return i;if(t.validators.length===0)return;const s=e.join(Yx);return(o=t.validators.find(({validator:a})=>a(s)))==null?void 0:o.classGroupId},VT=/^\[(.+)\]$/,QX=e=>{if(VT.test(e)){const t=VT.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},JX=e=>{const{theme:t,prefix:n}=e,r={nextPart:new Map,validators:[]};return ZX(Object.entries(e.classGroups),n).forEach(([s,o])=>{Bb(o,r,s,t)}),r},Bb=(e,t,n,r)=>{e.forEach(i=>{if(typeof i=="string"){const s=i===""?t:LT(t,i);s.classGroupId=n;return}if(typeof i=="function"){if(XX(i)){Bb(i(r),t,n,r);return}t.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([s,o])=>{Bb(o,LT(t,s),n,r)})})},LT=(e,t)=>{let n=e;return t.split(Yx).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},XX=e=>e.isThemeGetter,ZX=(e,t)=>t?e.map(([n,r])=>{const i=r.map(s=>typeof s=="string"?t+s:typeof s=="object"?Object.fromEntries(Object.entries(s).map(([o,a])=>[t+o,a])):s);return[n,i]}):e,eZ=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,r=new Map;const i=(s,o)=>{n.set(s,o),t++,t>e&&(t=0,r=n,n=new Map)};return{get(s){let o=n.get(s);if(o!==void 0)return o;if((o=r.get(s))!==void 0)return i(s,o),o},set(s,o){n.has(s)?n.set(s,o):i(s,o)}}},HO="!",tZ=e=>{const{separator:t,experimentalParseClassName:n}=e,r=t.length===1,i=t[0],s=t.length,o=a=>{const l=[];let c=0,u=0,d;for(let b=0;b<a.length;b++){let y=a[b];if(c===0){if(y===i&&(r||a.slice(b,b+s)===t)){l.push(a.slice(u,b)),u=b+s;continue}if(y==="/"){d=b;continue}}y==="["?c++:y==="]"&&c--}const h=l.length===0?a:a.substring(u),p=h.startsWith(HO),g=p?h.substring(1):h,m=d&&d>u?d-u:void 0;return{modifiers:l,hasImportantModifier:p,baseClassName:g,maybePostfixModifierPosition:m}};return n?a=>n({className:a,parseClassName:o}):o},nZ=e=>{if(e.length<=1)return e;const t=[];let n=[];return e.forEach(r=>{r[0]==="["?(t.push(...n.sort(),r),n=[]):n.push(r)}),t.push(...n.sort()),t},rZ=e=>({cache:eZ(e.cacheSize),parseClassName:tZ(e),...YX(e)}),iZ=/\s+/,sZ=(e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i}=t,s=[],o=e.trim().split(iZ);let a="";for(let l=o.length-1;l>=0;l-=1){const c=o[l],{modifiers:u,hasImportantModifier:d,baseClassName:h,maybePostfixModifierPosition:p}=n(c);let g=!!p,m=r(g?h.substring(0,p):h);if(!m){if(!g){a=c+(a.length>0?" "+a:a);continue}if(m=r(h),!m){a=c+(a.length>0?" "+a:a);continue}g=!1}const b=nZ(u).join(":"),y=d?b+HO:b,v=y+m;if(s.includes(v))continue;s.push(v);const _=i(m,g);for(let x=0;x<_.length;++x){const S=_[x];s.push(y+S)}a=c+(a.length>0?" "+a:a)}return a};function oZ(){let e=0,t,n,r="";for(;e<arguments.length;)(t=arguments[e++])&&(n=GO(t))&&(r&&(r+=" "),r+=n);return r}const GO=e=>{if(typeof e=="string")return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=GO(e[r]))&&(n&&(n+=" "),n+=t);return n};function aZ(e,...t){let n,r,i,s=o;function o(l){const c=t.reduce((u,d)=>d(u),e());return n=rZ(c),r=n.cache.get,i=n.cache.set,s=a,a(l)}function a(l){const c=r(l);if(c)return c;const u=sZ(l,n);return i(l,u),u}return function(){return s(oZ.apply(null,arguments))}}const Wt=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},qO=/^\[(?:([a-z-]+):)?(.+)\]$/i,lZ=/^\d+\/\d+$/,cZ=new Set(["px","full","screen"]),uZ=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,dZ=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,fZ=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,hZ=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,pZ=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,go=e=>gu(e)||cZ.has(e)||lZ.test(e),Zo=e=>hd(e,"length",SZ),gu=e=>!!e&&!Number.isNaN(Number(e)),eA=e=>hd(e,"number",gu),jd=e=>!!e&&Number.isInteger(Number(e)),gZ=e=>e.endsWith("%")&&gu(e.slice(0,-1)),Xe=e=>qO.test(e),ea=e=>uZ.test(e),mZ=new Set(["length","size","percentage"]),yZ=e=>hd(e,mZ,WO),vZ=e=>hd(e,"position",WO),AZ=new Set(["image","url"]),bZ=e=>hd(e,AZ,wZ),_Z=e=>hd(e,"",xZ),Od=()=>!0,hd=(e,t,n)=>{const r=qO.exec(e);return r?r[1]?typeof t=="string"?r[1]===t:t.has(r[1]):n(r[2]):!1},SZ=e=>dZ.test(e)&&!fZ.test(e),WO=()=>!1,xZ=e=>hZ.test(e),wZ=e=>pZ.test(e),EZ=()=>{const e=Wt("colors"),t=Wt("spacing"),n=Wt("blur"),r=Wt("brightness"),i=Wt("borderColor"),s=Wt("borderRadius"),o=Wt("borderSpacing"),a=Wt("borderWidth"),l=Wt("contrast"),c=Wt("grayscale"),u=Wt("hueRotate"),d=Wt("invert"),h=Wt("gap"),p=Wt("gradientColorStops"),g=Wt("gradientColorStopPositions"),m=Wt("inset"),b=Wt("margin"),y=Wt("opacity"),v=Wt("padding"),_=Wt("saturate"),x=Wt("scale"),S=Wt("sepia"),E=Wt("skew"),C=Wt("space"),k=Wt("translate"),O=()=>["auto","contain","none"],w=()=>["auto","hidden","clip","visible","scroll"],M=()=>["auto",Xe,t],N=()=>[Xe,t],R=()=>["",go,Zo],V=()=>["auto",gu,Xe],P=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],T=()=>["solid","dashed","dotted","double","none"],z=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],B=()=>["start","end","center","between","around","evenly","stretch"],D=()=>["","0",Xe],F=()=>["auto","avoid","all","avoid-page","page","left","right","column"],G=()=>[gu,Xe];return{cacheSize:500,separator:":",theme:{colors:[Od],spacing:[go,Zo],blur:["none","",ea,Xe],brightness:G(),borderColor:[e],borderRadius:["none","","full",ea,Xe],borderSpacing:N(),borderWidth:R(),contrast:G(),grayscale:D(),hueRotate:G(),invert:D(),gap:N(),gradientColorStops:[e],gradientColorStopPositions:[gZ,Zo],inset:M(),margin:M(),opacity:G(),padding:N(),saturate:G(),scale:G(),sepia:D(),skew:G(),space:N(),translate:N()},classGroups:{aspect:[{aspect:["auto","square","video",Xe]}],container:["container"],columns:[{columns:[ea]}],"break-after":[{"break-after":F()}],"break-before":[{"break-before":F()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...P(),Xe]}],overflow:[{overflow:w()}],"overflow-x":[{"overflow-x":w()}],"overflow-y":[{"overflow-y":w()}],overscroll:[{overscroll:O()}],"overscroll-x":[{"overscroll-x":O()}],"overscroll-y":[{"overscroll-y":O()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[m]}],"inset-x":[{"inset-x":[m]}],"inset-y":[{"inset-y":[m]}],start:[{start:[m]}],end:[{end:[m]}],top:[{top:[m]}],right:[{right:[m]}],bottom:[{bottom:[m]}],left:[{left:[m]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",jd,Xe]}],basis:[{basis:M()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Xe]}],grow:[{grow:D()}],shrink:[{shrink:D()}],order:[{order:["first","last","none",jd,Xe]}],"grid-cols":[{"grid-cols":[Od]}],"col-start-end":[{col:["auto",{span:["full",jd,Xe]},Xe]}],"col-start":[{"col-start":V()}],"col-end":[{"col-end":V()}],"grid-rows":[{"grid-rows":[Od]}],"row-start-end":[{row:["auto",{span:[jd,Xe]},Xe]}],"row-start":[{"row-start":V()}],"row-end":[{"row-end":V()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Xe]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Xe]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...B()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...B(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...B(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[v]}],px:[{px:[v]}],py:[{py:[v]}],ps:[{ps:[v]}],pe:[{pe:[v]}],pt:[{pt:[v]}],pr:[{pr:[v]}],pb:[{pb:[v]}],pl:[{pl:[v]}],m:[{m:[b]}],mx:[{mx:[b]}],my:[{my:[b]}],ms:[{ms:[b]}],me:[{me:[b]}],mt:[{mt:[b]}],mr:[{mr:[b]}],mb:[{mb:[b]}],ml:[{ml:[b]}],"space-x":[{"space-x":[C]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[C]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Xe,t]}],"min-w":[{"min-w":[Xe,t,"min","max","fit"]}],"max-w":[{"max-w":[Xe,t,"none","full","min","max","fit","prose",{screen:[ea]},ea]}],h:[{h:[Xe,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Xe,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Xe,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Xe,t,"auto","min","max","fit"]}],"font-size":[{text:["base",ea,Zo]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",eA]}],"font-family":[{font:[Od]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Xe]}],"line-clamp":[{"line-clamp":["none",gu,eA]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",go,Xe]}],"list-image":[{"list-image":["none",Xe]}],"list-style-type":[{list:["none","disc","decimal",Xe]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[y]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[y]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...T(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",go,Zo]}],"underline-offset":[{"underline-offset":["auto",go,Xe]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:N()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Xe]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Xe]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[y]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...P(),vZ]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",yZ]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},bZ]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[g]}],"gradient-via-pos":[{via:[g]}],"gradient-to-pos":[{to:[g]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[y]}],"border-style":[{border:[...T(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[y]}],"divide-style":[{divide:T()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...T()]}],"outline-offset":[{"outline-offset":[go,Xe]}],"outline-w":[{outline:[go,Zo]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:R()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[y]}],"ring-offset-w":[{"ring-offset":[go,Zo]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",ea,_Z]}],"shadow-color":[{shadow:[Od]}],opacity:[{opacity:[y]}],"mix-blend":[{"mix-blend":[...z(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":z()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",ea,Xe]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[d]}],saturate:[{saturate:[_]}],sepia:[{sepia:[S]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[d]}],"backdrop-opacity":[{"backdrop-opacity":[y]}],"backdrop-saturate":[{"backdrop-saturate":[_]}],"backdrop-sepia":[{"backdrop-sepia":[S]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Xe]}],duration:[{duration:G()}],ease:[{ease:["linear","in","out","in-out",Xe]}],delay:[{delay:G()}],animate:[{animate:["none","spin","ping","pulse","bounce",Xe]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[x]}],"scale-x":[{"scale-x":[x]}],"scale-y":[{"scale-y":[x]}],rotate:[{rotate:[jd,Xe]}],"translate-x":[{"translate-x":[k]}],"translate-y":[{"translate-y":[k]}],"skew-x":[{"skew-x":[E]}],"skew-y":[{"skew-y":[E]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Xe]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Xe]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":N()}],"scroll-mx":[{"scroll-mx":N()}],"scroll-my":[{"scroll-my":N()}],"scroll-ms":[{"scroll-ms":N()}],"scroll-me":[{"scroll-me":N()}],"scroll-mt":[{"scroll-mt":N()}],"scroll-mr":[{"scroll-mr":N()}],"scroll-mb":[{"scroll-mb":N()}],"scroll-ml":[{"scroll-ml":N()}],"scroll-p":[{"scroll-p":N()}],"scroll-px":[{"scroll-px":N()}],"scroll-py":[{"scroll-py":N()}],"scroll-ps":[{"scroll-ps":N()}],"scroll-pe":[{"scroll-pe":N()}],"scroll-pt":[{"scroll-pt":N()}],"scroll-pr":[{"scroll-pr":N()}],"scroll-pb":[{"scroll-pb":N()}],"scroll-pl":[{"scroll-pl":N()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Xe]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[go,Zo,eA]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},KO=aZ(EZ),Ql=A.forwardRef(function({as:t,className:n,children:r,active:i,...s},o){const a=t||"span";return f.jsx(a,{className:KO(`typography text-base [&_a]:text-active [&_a]:typography ${i?"text-active":""}`,n),...s,ref:o,children:r})});var tA=typeof navigator<"u"?navigator.userAgent.toLowerCase().indexOf("firefox")>0:!1;function nA(e,t,n,r){e.addEventListener?e.addEventListener(t,n,r):e.attachEvent&&e.attachEvent("on".concat(t),function(){n(window.event)})}function YO(e,t){for(var n=t.slice(0,t.length-1),r=0;r<n.length;r++)n[r]=e[n[r].toLowerCase()];return n}function QO(e){typeof e!="string"&&(e=""),e=e.replace(/\s/g,"");for(var t=e.split(","),n=t.lastIndexOf("");n>=0;)t[n-1]+=",",t.splice(n,1),n=t.lastIndexOf("");return t}function CZ(e,t){for(var n=e.length>=t.length?e:t,r=e.length>=t.length?t:e,i=!0,s=0;s<n.length;s++)r.indexOf(n[s])===-1&&(i=!1);return i}var Qx={backspace:8,tab:9,clear:12,enter:13,return:13,esc:27,escape:27,space:32,left:37,up:38,right:39,down:40,del:46,delete:46,ins:45,insert:45,home:36,end:35,pageup:33,pagedown:34,capslock:20,num_0:96,num_1:97,num_2:98,num_3:99,num_4:100,num_5:101,num_6:102,num_7:103,num_8:104,num_9:105,num_multiply:106,num_add:107,num_enter:108,num_subtract:109,num_decimal:110,num_divide:111,"":20,",":188,".":190,"/":191,"`":192,"-":tA?173:189,"=":tA?61:187,";":tA?59:186,"'":222,"[":219,"]":221,"\\":220},La={"":16,shift:16,"":18,alt:18,option:18,"":17,ctrl:17,control:17,"":91,cmd:91,command:91},Db={16:"shiftKey",18:"altKey",17:"ctrlKey",91:"metaKey",shiftKey:16,ctrlKey:17,altKey:18,metaKey:91},fr={16:!1,18:!1,17:!1,91:!1},$n={};for(var zp=1;zp<20;zp++)Qx["f".concat(zp)]=111+zp;var nn=[],NT=!1,JO="all",XO=[],My=function(t){return Qx[t.toLowerCase()]||La[t.toLowerCase()]||t.toUpperCase().charCodeAt(0)};function ZO(e){JO=e||"all"}function nh(){return JO||"all"}function kZ(){return nn.slice(0)}function TZ(e){var t=e.target||e.srcElement,n=t.tagName,r=!0;return(t.isContentEditable||(n==="INPUT"||n==="TEXTAREA"||n==="SELECT")&&!t.readOnly)&&(r=!1),r}function IZ(e){return typeof e=="string"&&(e=My(e)),nn.indexOf(e)!==-1}function PZ(e,t){var n,r;e||(e=nh());for(var i in $n)if(Object.prototype.hasOwnProperty.call($n,i))for(n=$n[i],r=0;r<n.length;)n[r].scope===e?n.splice(r,1):r++;nh()===e&&ZO(t||"all")}function RZ(e){var t=e.keyCode||e.which||e.charCode,n=nn.indexOf(t);if(n>=0&&nn.splice(n,1),e.key&&e.key.toLowerCase()==="meta"&&nn.splice(0,nn.length),(t===93||t===224)&&(t=91),t in fr){fr[t]=!1;for(var r in La)La[r]===t&&(Si[r]=!1)}}function MZ(e){if(typeof e>"u")Object.keys($n).forEach(function(o){return delete $n[o]});else if(Array.isArray(e))e.forEach(function(o){o.key&&rA(o)});else if(typeof e=="object")e.key&&rA(e);else if(typeof e=="string"){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n[0],s=n[1];typeof i=="function"&&(s=i,i=""),rA({key:e,scope:i,method:s,splitKey:"+"})}}var rA=function(t){var n=t.key,r=t.scope,i=t.method,s=t.splitKey,o=s===void 0?"+":s,a=QO(n);a.forEach(function(l){var c=l.split(o),u=c.length,d=c[u-1],h=d==="*"?"*":My(d);if($n[h]){r||(r=nh());var p=u>1?YO(La,c):[];$n[h]=$n[h].filter(function(g){var m=i?g.method===i:!0;return!(m&&g.scope===r&&CZ(g.mods,p))})}})};function BT(e,t,n,r){if(t.element===r){var i;if(t.scope===n||t.scope==="all"){i=t.mods.length>0;for(var s in fr)Object.prototype.hasOwnProperty.call(fr,s)&&(!fr[s]&&t.mods.indexOf(+s)>-1||fr[s]&&t.mods.indexOf(+s)===-1)&&(i=!1);(t.mods.length===0&&!fr[16]&&!fr[18]&&!fr[17]&&!fr[91]||i||t.shortcut==="*")&&t.method(e,t)===!1&&(e.preventDefault?e.preventDefault():e.returnValue=!1,e.stopPropagation&&e.stopPropagation(),e.cancelBubble&&(e.cancelBubble=!0))}}}function DT(e,t){var n=$n["*"],r=e.keyCode||e.which||e.charCode;if(Si.filter.call(this,e)){if((r===93||r===224)&&(r=91),nn.indexOf(r)===-1&&r!==229&&nn.push(r),["ctrlKey","altKey","shiftKey","metaKey"].forEach(function(g){var m=Db[g];e[g]&&nn.indexOf(m)===-1?nn.push(m):!e[g]&&nn.indexOf(m)>-1?nn.splice(nn.indexOf(m),1):g==="metaKey"&&e[g]&&nn.length===3&&(e.ctrlKey||e.shiftKey||e.altKey||(nn=nn.slice(nn.indexOf(m))))}),r in fr){fr[r]=!0;for(var i in La)La[i]===r&&(Si[i]=!0);if(!n)return}for(var s in fr)Object.prototype.hasOwnProperty.call(fr,s)&&(fr[s]=e[Db[s]]);e.getModifierState&&!(e.altKey&&!e.ctrlKey)&&e.getModifierState("AltGraph")&&(nn.indexOf(17)===-1&&nn.push(17),nn.indexOf(18)===-1&&nn.push(18),fr[17]=!0,fr[18]=!0);var o=nh();if(n)for(var a=0;a<n.length;a++)n[a].scope===o&&(e.type==="keydown"&&n[a].keydown||e.type==="keyup"&&n[a].keyup)&&BT(e,n[a],o,t);if(r in $n){for(var l=0;l<$n[r].length;l++)if((e.type==="keydown"&&$n[r][l].keydown||e.type==="keyup"&&$n[r][l].keyup)&&$n[r][l].key){for(var c=$n[r][l],u=c.splitKey,d=c.key.split(u),h=[],p=0;p<d.length;p++)h.push(My(d[p]));h.sort().join("")===nn.sort().join("")&&BT(e,c,o,t)}}}}function jZ(e){return XO.indexOf(e)>-1}function Si(e,t,n){nn=[];var r=QO(e),i=[],s="all",o=document,a=0,l=!1,c=!0,u="+",d=!1;for(n===void 0&&typeof t=="function"&&(n=t),Object.prototype.toString.call(t)==="[object Object]"&&(t.scope&&(s=t.scope),t.element&&(o=t.element),t.keyup&&(l=t.keyup),t.keydown!==void 0&&(c=t.keydown),t.capture!==void 0&&(d=t.capture),typeof t.splitKey=="string"&&(u=t.splitKey)),typeof t=="string"&&(s=t);a<r.length;a++)e=r[a].split(u),i=[],e.length>1&&(i=YO(La,e)),e=e[e.length-1],e=e==="*"?"*":My(e),e in $n||($n[e]=[]),$n[e].push({keyup:l,keydown:c,scope:s,mods:i,shortcut:r[a],method:n,key:r[a],splitKey:u,element:o});typeof o<"u"&&!jZ(o)&&window&&(XO.push(o),nA(o,"keydown",function(h){DT(h,o)},d),NT||(NT=!0,nA(window,"focus",function(){nn=[]},d)),nA(o,"keyup",function(h){DT(h,o),RZ(h)},d))}function OZ(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"all";Object.keys($n).forEach(function(n){var r=$n[n].find(function(i){return i.scope===t&&i.shortcut===e});r&&r.method&&r.method()})}var iA={setScope:ZO,getScope:nh,deleteScope:PZ,getPressedKeyCodes:kZ,isPressed:IZ,filter:TZ,trigger:OZ,unbind:MZ,keyMap:Qx,modifier:La,modifierMap:Db};for(var sA in iA)Object.prototype.hasOwnProperty.call(iA,sA)&&(Si[sA]=iA[sA]);if(typeof window<"u"){var VZ=window.hotkeys;Si.noConflict=function(e){return e&&window.hotkeys===Si&&(window.hotkeys=VZ),Si},window.hotkeys=Si}Si.filter=function(){return!0};var eV=function(t,n){var r=t.target,i=r&&r.tagName;return!!(i&&n&&n.includes(i))},LZ=function(t){return eV(t,["INPUT","TEXTAREA","SELECT"])};function Dr(e,t,n,r){n instanceof Array&&(r=n,n=void 0);var i=n||{},s=i.enableOnTags,o=i.filter,a=i.keyup,l=i.keydown,c=i.filterPreventDefault,u=c===void 0?!0:c,d=i.enabled,h=d===void 0?!0:d,p=i.enableOnContentEditable,g=p===void 0?!1:p,m=A.useRef(null),b=A.useCallback(function(y,v){var _,x;return o&&!o(y)?!u:LZ(y)&&!eV(y,s)||(_=y.target)!=null&&_.isContentEditable&&!g?!0:m.current===null||document.activeElement===m.current||(x=m.current)!=null&&x.contains(document.activeElement)?(t(y,v),!0):!1},r?[m,s,o].concat(r):[m,s,o]);return A.useEffect(function(){if(!h){Si.unbind(e,b);return}return a&&l!==!0&&(n.keydown=!1),Si(e,n||{},b),function(){return Si.unbind(e,b)}},[b,e,h]),m}Si.isPressed;const $b="a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,r,s,t,u,w,x,y,z,1,2,3,4,5,6,7,8,9,0";var AM,xg,bM;try{(bM=(xg=(AM=global==null?void 0:global.navigator)==null?void 0:AM.keyboard)==null?void 0:xg.lock)==null||bM.call(xg,["Escape"])}catch(e){console.warn(e)}var _M,SM;const NZ=!!((SM=(_M=global==null?void 0:global.navigator)==null?void 0:_M.keyboard)!=null&&SM.lock),cl=e=>t=>{e&&(t.preventDefault(),t.stopPropagation(),e(t))};function gc(e,t=!0,n){Ir(te.remoteKeyboardPressed,r=>{var i;t&&r in e&&((i=e[r])==null||i.call(e))}),Dr("up",cl(e.up),{enabled:t&&!!(e!=null&&e.up)},n),Dr("down",cl(e.down),{enabled:t&&!!(e!=null&&e.down)},n),Dr("left",cl(e.left),{enabled:t&&!!(e!=null&&e.left)},n),Dr("right",cl(e.right),{enabled:t&&!!(e!=null&&e.right)},n),Dr("Enter",cl(e.accept),{enabled:t&&!!(e!=null&&e.accept)},n),Dr("Escape,Backspace",cl(e.back),{enabled:t&&!!(e!=null&&e.back)},n),Dr("Shift+R",cl(e.random),{enabled:t&&!!(e!=null&&e.random)},n)}function tV(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=tV(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function xt(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=tV(e))&&(r&&(r+=" "),r+=t);return r}function BZ(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function DZ(...e){return t=>e.forEach(n=>BZ(n,t))}var nV=A.forwardRef((e,t)=>{const{children:n,...r}=e,i=A.Children.toArray(n),s=i.find(FZ);if(s){const o=s.props.children,a=i.map(l=>l===s?A.Children.count(o)>1?A.Children.only(null):A.isValidElement(o)?o.props.children:null:l);return f.jsx(Fb,{...r,ref:t,children:A.isValidElement(o)?A.cloneElement(o,void 0,a):null})}return f.jsx(Fb,{...r,ref:t,children:n})});nV.displayName="Slot";var Fb=A.forwardRef((e,t)=>{const{children:n,...r}=e;if(A.isValidElement(n)){const i=UZ(n);return A.cloneElement(n,{...zZ(r,n.props),ref:t?DZ(t,i):i})}return A.Children.count(n)>1?A.Children.only(null):null});Fb.displayName="SlotClone";var $Z=({children:e})=>f.jsx(f.Fragment,{children:e});function FZ(e){return A.isValidElement(e)&&e.type===$Z}function zZ(e,t){const n={...t};for(const r in t){const i=e[r],s=t[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...a)=>{s(...a),i(...a)}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...e,...n}}function UZ(e){var r,i;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function HZ(e,t){const n={},r=Object.keys(e);for(let i=0;i<r.length;i++){const s=r[i];t(s)&&(n[s]=e[s])}return n}const GZ=(e={})=>{const t=e.compose||xt,n=e.shouldForwardProp||(i=>i[0]!=="$"),r=i=>{const s=(o,a=n)=>{const l=(c,...u)=>{const d=typeof c=="function",h=!d&&String.raw({raw:c},...u);return A.forwardRef((p,g)=>{const{className:m,asChild:b,...y}=p,v=typeof o=="function"?o(p):o||{},_=HZ({...v,...y},a),x=b?nV:i,S=d?c(p):h;return A.createElement(x,{ref:g,className:typeof S=="function"?E=>t(S(E),typeof m=="function"?m(E):m):t(S,m),..._})})};return l.transientProps=c=>s(o,typeof c=="function"?d=>!c(d):d=>!c.includes(d)),o===void 0&&(l.attrs=c=>s(c)),l};return s()};return new Proxy(i=>r(i),{get(i,s){return r(s)}})},an=GZ();function qZ({help:e}){const[t]=Qe(br),[n,r]=Qe(i3);Dr("shift+h",()=>r(!n),void 0,[n]);const i=Object.entries(e??{}).filter(([,s])=>s!==void 0);return t?null:f.jsx(f.Fragment,{children:f.jsx(tee,{"data-test":"help-container",onClick:()=>r(!n),"data-visible":!!i.length&&n,children:n&&f.jsxs(f.Fragment,{children:[f.jsx(eee,{className:"UseKeyboardIndicator",children:"Use indicated keys on your keyboard"}),i.map(([s,o])=>{const{view:a,defaultLabel:l}=ZZ[s];return f.jsxs($T,{children:[f.jsx(zT,{children:o??l}),f.jsx(FT,{children:f.jsx(a,{})})]},s)}),f.jsxs($T,{children:[f.jsx(zT,{children:"Show/hide this help"}),f.jsx(FT,{children:rV("h")()})]})]})})})}const Jx=({vertical:e=!1,horizontal:t=!1})=>f.jsxs(f.Fragment,{children:[f.jsx(io,{disabled:!e,children:""}),f.jsx("br",{}),f.jsx(io,{disabled:!t,children:""}),f.jsx(io,{disabled:!e,children:""}),f.jsx(io,{disabled:!t,children:""})]}),WZ=()=>f.jsx(Jx,{horizontal:!0}),KZ=()=>f.jsx(Jx,{vertical:!0}),YZ=()=>f.jsx(Jx,{vertical:!0,horizontal:!0}),QZ=()=>f.jsx(io,{children:"Enter "}),JZ=()=>NZ?f.jsx(io,{children:"Escape"}):f.jsx(io,{children:"Backspace "}),rV=e=>()=>f.jsxs(f.Fragment,{children:[f.jsx(io,{children:"Shift"})," + ",f.jsx(io,{children:e.toUpperCase()})]}),XZ=()=>f.jsx(f.Fragment,{children:f.jsx(io,{children:"start typing"})}),ZZ={"horizontal-vertical":{view:YZ,defaultLabel:"Navigate"},horizontal:{view:WZ,defaultLabel:"Navigate"},vertical:{view:KZ,defaultLabel:"Navigate"},accept:{view:QZ,defaultLabel:"Select"},back:{view:JZ,defaultLabel:"Go back"},shiftR:{view:rV("r"),defaultLabel:"Pick random"},alphanumeric:{view:XZ,defaultLabel:"Search"}},$T=an.div`flex items-center gap-4`,FT=an.div`flex-nowrap flex-[2] text-white font-bold text-center [&_kbd]:m-1`,zT=an(Ql)`flex-[3] text-base text-right`,eee=an(Ql)`absolute inset-0 bg-black/75 flex items-center justify-center text-white text-md p-8 invisible opacity-0 duration-300 hover:opacity-100 hover:visible`,tee=an.div(e=>["fixed top-[5rem] right-0 p-2 bg-black/50  flex-col gap-4 w-[34rem] cursor-pointer scale-75 z-[1000] [view-transition-name:help-view] [&_svg]:fill-white [&_.UseKeyboardIndicator]:hover:opacity-100 [&_.UseKeyboardIndicator]:hover:visible",e["data-visible"]?"flex mobile:hidden":"hidden"]),io=an.kbd(e=>["py-3 px-4 rounded-md border-t-gray-300 border-l-gray-300 border-solid border-[1.25px] border-gray-500 text-gray-700 leading-4 text-sm bg-gray-50 inline-block font-normal",e.disabled?"opacity-25":"opacity-100"]),Xx=A.createContext({setKeyboard:(e,t)=>{},unsetKeyboard:e=>{},hasContent:!1}),nee=({children:e})=>{const[t,n]=A.useState({}),r=(u,d)=>{n(h=>({...h,[u]:d}))},i=u=>n(d=>EX(d,[u])),[s,o]=Object.entries(t).at(-1)??[];Ir(te.remoteMicConnected,({id:u})=>{var d;(d=rt.getRemoteMicById(u))==null||d.connection.send({t:"keyboard-layout",help:o})}),A.useEffect(()=>{rt.broadcast({t:"keyboard-layout",help:o})},[s]);const{remote:a,...l}=o??{},c=!!Object.values(l).length;return f.jsxs(Xx.Provider,{value:{setKeyboard:r,unsetKeyboard:i,hasContent:c},children:[e,f.jsx(qZ,{help:l}),f.jsx(WX,{})]})};var ree={webm:"data:video/webm;base64,GkXfowEAAAAAAAAfQoaBAUL3gQFC8oEEQvOBCEKChHdlYm1Ch4EEQoWBAhhTgGcBAAAAAAAVkhFNm3RALE27i1OrhBVJqWZTrIHfTbuMU6uEFlSua1OsggEwTbuMU6uEHFO7a1OsghV17AEAAAAAAACkAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAVSalmAQAAAAAAAEUq17GDD0JATYCNTGF2ZjU1LjMzLjEwMFdBjUxhdmY1NS4zMy4xMDBzpJBlrrXf3DCDVB8KcgbMpcr+RImIQJBgAAAAAAAWVK5rAQAAAAAAD++uAQAAAAAAADLXgQFzxYEBnIEAIrWcg3VuZIaFVl9WUDiDgQEj44OEAmJaAOABAAAAAAAABrCBsLqBkK4BAAAAAAAPq9eBAnPFgQKcgQAitZyDdW5khohBX1ZPUkJJU4OBAuEBAAAAAAAAEZ+BArWIQOdwAAAAAABiZIEgY6JPbwIeVgF2b3JiaXMAAAAAAoC7AAAAAAAAgLUBAAAAAAC4AQN2b3JiaXMtAAAAWGlwaC5PcmcgbGliVm9yYmlzIEkgMjAxMDExMDEgKFNjaGF1ZmVudWdnZXQpAQAAABUAAABlbmNvZGVyPUxhdmM1NS41Mi4xMDIBBXZvcmJpcyVCQ1YBAEAAACRzGCpGpXMWhBAaQlAZ4xxCzmvsGUJMEYIcMkxbyyVzkCGkoEKIWyiB0JBVAABAAACHQXgUhIpBCCGEJT1YkoMnPQghhIg5eBSEaUEIIYQQQgghhBBCCCGERTlokoMnQQgdhOMwOAyD5Tj4HIRFOVgQgydB6CCED0K4moOsOQghhCQ1SFCDBjnoHITCLCiKgsQwuBaEBDUojILkMMjUgwtCiJqDSTX4GoRnQXgWhGlBCCGEJEFIkIMGQcgYhEZBWJKDBjm4FITLQagahCo5CB+EIDRkFQCQAACgoiiKoigKEBqyCgDIAAAQQFEUx3EcyZEcybEcCwgNWQUAAAEACAAAoEiKpEiO5EiSJFmSJVmSJVmS5omqLMuyLMuyLMsyEBqyCgBIAABQUQxFcRQHCA1ZBQBkAAAIoDiKpViKpWiK54iOCISGrAIAgAAABAAAEDRDUzxHlETPVFXXtm3btm3btm3btm3btm1blmUZCA1ZBQBAAAAQ0mlmqQaIMAMZBkJDVgEACAAAgBGKMMSA0JBVAABAAACAGEoOogmtOd+c46BZDppKsTkdnEi1eZKbirk555xzzsnmnDHOOeecopxZDJoJrTnnnMSgWQqaCa0555wnsXnQmiqtOeeccc7pYJwRxjnnnCateZCajbU555wFrWmOmkuxOeecSLl5UptLtTnnnHPOOeecc84555zqxekcnBPOOeecqL25lpvQxTnnnE/G6d6cEM4555xzzjnnnHPOOeecIDRkFQAABABAEIaNYdwpCNLnaCBGEWIaMulB9+gwCRqDnELq0ehopJQ6CCWVcVJKJwgNWQUAAAIAQAghhRRSSCGFFFJIIYUUYoghhhhyyimnoIJKKqmooowyyyyzzDLLLLPMOuyssw47DDHEEEMrrcRSU2011lhr7jnnmoO0VlprrbVSSimllFIKQkNWAQAgAAAEQgYZZJBRSCGFFGKIKaeccgoqqIDQkFUAACAAgAAAAABP8hzRER3RER3RER3RER3R8RzPESVREiVREi3TMjXTU0VVdWXXlnVZt31b2IVd933d933d+HVhWJZlWZZlWZZlWZZlWZZlWZYgNGQVAAACAAAghBBCSCGFFFJIKcYYc8w56CSUEAgNWQUAAAIACAAAAHAUR3EcyZEcSbIkS9IkzdIsT/M0TxM9URRF0zRV0RVdUTdtUTZl0zVdUzZdVVZtV5ZtW7Z125dl2/d93/d93/d93/d93/d9XQdCQ1YBABIAADqSIymSIimS4ziOJElAaMgqAEAGAEAAAIriKI7jOJIkSZIlaZJneZaomZrpmZ4qqkBoyCoAABAAQAAAAAAAAIqmeIqpeIqoeI7oiJJomZaoqZoryqbsuq7ruq7ruq7ruq7ruq7ruq7ruq7ruq7ruq7ruq7ruq7ruq4LhIasAgAkAAB0JEdyJEdSJEVSJEdygNCQVQCADACAAAAcwzEkRXIsy9I0T/M0TxM90RM901NFV3SB0JBVAAAgAIAAAAAAAAAMybAUy9EcTRIl1VItVVMt1VJF1VNVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVN0zRNEwgNWQkAkAEAkBBTLS3GmgmLJGLSaqugYwxS7KWxSCpntbfKMYUYtV4ah5RREHupJGOKQcwtpNApJq3WVEKFFKSYYyoVUg5SIDRkhQAQmgHgcBxAsixAsiwAAAAAAAAAkDQN0DwPsDQPAAAAAAAAACRNAyxPAzTPAwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABA0jRA8zxA8zwAAAAAAAAA0DwP8DwR8EQRAAAAAAAAACzPAzTRAzxRBAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABA0jRA8zxA8zwAAAAAAAAAsDwP8EQR0DwRAAAAAAAAACzPAzxRBDzRAwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAEOAAABBgIRQasiIAiBMAcEgSJAmSBM0DSJYFTYOmwTQBkmVB06BpME0AAAAAAAAAAAAAJE2DpkHTIIoASdOgadA0iCIAAAAAAAAAAAAAkqZB06BpEEWApGnQNGgaRBEAAAAAAAAAAAAAzzQhihBFmCbAM02IIkQRpgkAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAGHAAAAgwoQwUGrIiAIgTAHA4imUBAIDjOJYFAACO41gWAABYliWKAABgWZooAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAYcAAACDChDBQashIAiAIAcCiKZQHHsSzgOJYFJMmyAJYF0DyApgFEEQAIAAAocAAACLBBU2JxgEJDVgIAUQAABsWxLE0TRZKkaZoniiRJ0zxPFGma53meacLzPM80IYqiaJoQRVE0TZimaaoqME1VFQAAUOAAABBgg6bE4gCFhqwEAEICAByKYlma5nmeJ4qmqZokSdM8TxRF0TRNU1VJkqZ5niiKommapqqyLE3zPFEURdNUVVWFpnmeKIqiaaqq6sLzPE8URdE0VdV14XmeJ4qiaJqq6roQRVE0TdNUTVV1XSCKpmmaqqqqrgtETxRNU1Vd13WB54miaaqqq7ouEE3TVFVVdV1ZBpimaaqq68oyQFVV1XVdV5YBqqqqruu6sgxQVdd1XVmWZQCu67qyLMsCAAAOHAAAAoygk4wqi7DRhAsPQKEhKwKAKAAAwBimFFPKMCYhpBAaxiSEFEImJaXSUqogpFJSKRWEVEoqJaOUUmopVRBSKamUCkIqJZVSAADYgQMA2IGFUGjISgAgDwCAMEYpxhhzTiKkFGPOOScRUoox55yTSjHmnHPOSSkZc8w556SUzjnnnHNSSuacc845KaVzzjnnnJRSSuecc05KKSWEzkEnpZTSOeecEwAAVOAAABBgo8jmBCNBhYasBABSAQAMjmNZmuZ5omialiRpmud5niiapiZJmuZ5nieKqsnzPE8URdE0VZXneZ4oiqJpqirXFUXTNE1VVV2yLIqmaZqq6rowTdNUVdd1XZimaaqq67oubFtVVdV1ZRm2raqq6rqyDFzXdWXZloEsu67s2rIAAPAEBwCgAhtWRzgpGgssNGQlAJABAEAYg5BCCCFlEEIKIYSUUggJAAAYcAAACDChDBQashIASAUAAIyx1lprrbXWQGettdZaa62AzFprrbXWWmuttdZaa6211lJrrbXWWmuttdZaa6211lprrbXWWmuttdZaa6211lprrbXWWmuttdZaa6211lprrbXWWmstpZRSSimllFJKKaWUUkoppZRSSgUA+lU4APg/2LA6wknRWGChISsBgHAAAMAYpRhzDEIppVQIMeacdFRai7FCiDHnJKTUWmzFc85BKCGV1mIsnnMOQikpxVZjUSmEUlJKLbZYi0qho5JSSq3VWIwxqaTWWoutxmKMSSm01FqLMRYjbE2ptdhqq7EYY2sqLbQYY4zFCF9kbC2m2moNxggjWywt1VprMMYY3VuLpbaaizE++NpSLDHWXAAAd4MDAESCjTOsJJ0VjgYXGrISAAgJACAQUooxxhhzzjnnpFKMOeaccw5CCKFUijHGnHMOQgghlIwx5pxzEEIIIYRSSsaccxBCCCGEkFLqnHMQQgghhBBKKZ1zDkIIIYQQQimlgxBCCCGEEEoopaQUQgghhBBCCKmklEIIIYRSQighlZRSCCGEEEIpJaSUUgohhFJCCKGElFJKKYUQQgillJJSSimlEkoJJYQSUikppRRKCCGUUkpKKaVUSgmhhBJKKSWllFJKIYQQSikFAAAcOAAABBhBJxlVFmGjCRcegEJDVgIAZAAAkKKUUiktRYIipRikGEtGFXNQWoqocgxSzalSziDmJJaIMYSUk1Qy5hRCDELqHHVMKQYtlRhCxhik2HJLoXMOAAAAQQCAgJAAAAMEBTMAwOAA4XMQdAIERxsAgCBEZohEw0JweFAJEBFTAUBigkIuAFRYXKRdXECXAS7o4q4DIQQhCEEsDqCABByccMMTb3jCDU7QKSp1IAAAAAAADADwAACQXAAREdHMYWRobHB0eHyAhIiMkAgAAAAAABcAfAAAJCVAREQ0cxgZGhscHR4fICEiIyQBAIAAAgAAAAAggAAEBAQAAAAAAAIAAAAEBB9DtnUBAAAAAAAEPueBAKOFggAAgACjzoEAA4BwBwCdASqwAJAAAEcIhYWIhYSIAgIABhwJ7kPfbJyHvtk5D32ych77ZOQ99snIe+2TkPfbJyHvtk5D32ych77ZOQ99YAD+/6tQgKOFggADgAqjhYIAD4AOo4WCACSADqOZgQArADECAAEQEAAYABhYL/QACIBDmAYAAKOFggA6gA6jhYIAT4AOo5mBAFMAMQIAARAQABgAGFgv9AAIgEOYBgAAo4WCAGSADqOFggB6gA6jmYEAewAxAgABEBAAGAAYWC/0AAiAQ5gGAACjhYIAj4AOo5mBAKMAMQIAARAQABgAGFgv9AAIgEOYBgAAo4WCAKSADqOFggC6gA6jmYEAywAxAgABEBAAGAAYWC/0AAiAQ5gGAACjhYIAz4AOo4WCAOSADqOZgQDzADECAAEQEAAYABhYL/QACIBDmAYAAKOFggD6gA6jhYIBD4AOo5iBARsAEQIAARAQFGAAYWC/0AAiAQ5gGACjhYIBJIAOo4WCATqADqOZgQFDADECAAEQEAAYABhYL/QACIBDmAYAAKOFggFPgA6jhYIBZIAOo5mBAWsAMQIAARAQABgAGFgv9AAIgEOYBgAAo4WCAXqADqOFggGPgA6jmYEBkwAxAgABEBAAGAAYWC/0AAiAQ5gGAACjhYIBpIAOo4WCAbqADqOZgQG7ADECAAEQEAAYABhYL/QACIBDmAYAAKOFggHPgA6jmYEB4wAxAgABEBAAGAAYWC/0AAiAQ5gGAACjhYIB5IAOo4WCAfqADqOZgQILADECAAEQEAAYABhYL/QACIBDmAYAAKOFggIPgA6jhYICJIAOo5mBAjMAMQIAARAQABgAGFgv9AAIgEOYBgAAo4WCAjqADqOFggJPgA6jmYECWwAxAgABEBAAGAAYWC/0AAiAQ5gGAACjhYICZIAOo4WCAnqADqOZgQKDADECAAEQEAAYABhYL/QACIBDmAYAAKOFggKPgA6jhYICpIAOo5mBAqsAMQIAARAQABgAGFgv9AAIgEOYBgAAo4WCArqADqOFggLPgA6jmIEC0wARAgABEBAUYABhYL/QACIBDmAYAKOFggLkgA6jhYIC+oAOo5mBAvsAMQIAARAQABgAGFgv9AAIgEOYBgAAo4WCAw+ADqOZgQMjADECAAEQEAAYABhYL/QACIBDmAYAAKOFggMkgA6jhYIDOoAOo5mBA0sAMQIAARAQABgAGFgv9AAIgEOYBgAAo4WCA0+ADqOFggNkgA6jmYEDcwAxAgABEBAAGAAYWC/0AAiAQ5gGAACjhYIDeoAOo4WCA4+ADqOZgQObADECAAEQEAAYABhYL/QACIBDmAYAAKOFggOkgA6jhYIDuoAOo5mBA8MAMQIAARAQABgAGFgv9AAIgEOYBgAAo4WCA8+ADqOFggPkgA6jhYID+oAOo4WCBA+ADhxTu2sBAAAAAAAAEbuPs4EDt4r3gQHxghEr8IEK",mp4:"data:video/mp4;base64,AAAAHGZ0eXBNNFYgAAACAGlzb21pc28yYXZjMQAAAAhmcmVlAAAGF21kYXTeBAAAbGliZmFhYyAxLjI4AABCAJMgBDIARwAAArEGBf//rdxF6b3m2Ui3lizYINkj7u94MjY0IC0gY29yZSAxNDIgcjIgOTU2YzhkOCAtIEguMjY0L01QRUctNCBBVkMgY29kZWMgLSBDb3B5bGVmdCAyMDAzLTIwMTQgLSBodHRwOi8vd3d3LnZpZGVvbGFuLm9yZy94MjY0Lmh0bWwgLSBvcHRpb25zOiBjYWJhYz0wIHJlZj0zIGRlYmxvY2s9MTowOjAgYW5hbHlzZT0weDE6MHgxMTEgbWU9aGV4IHN1Ym1lPTcgcHN5PTEgcHN5X3JkPTEuMDA6MC4wMCBtaXhlZF9yZWY9MSBtZV9yYW5nZT0xNiBjaHJvbWFfbWU9MSB0cmVsbGlzPTEgOHg4ZGN0PTAgY3FtPTAgZGVhZHpvbmU9MjEsMTEgZmFzdF9wc2tpcD0xIGNocm9tYV9xcF9vZmZzZXQ9LTIgdGhyZWFkcz02IGxvb2thaGVhZF90aHJlYWRzPTEgc2xpY2VkX3RocmVhZHM9MCBucj0wIGRlY2ltYXRlPTEgaW50ZXJsYWNlZD0wIGJsdXJheV9jb21wYXQ9MCBjb25zdHJhaW5lZF9pbnRyYT0wIGJmcmFtZXM9MCB3ZWlnaHRwPTAga2V5aW50PTI1MCBrZXlpbnRfbWluPTI1IHNjZW5lY3V0PTQwIGludHJhX3JlZnJlc2g9MCByY19sb29rYWhlYWQ9NDAgcmM9Y3JmIG1idHJlZT0xIGNyZj0yMy4wIHFjb21wPTAuNjAgcXBtaW49MCBxcG1heD02OSBxcHN0ZXA9NCB2YnZfbWF4cmF0ZT03NjggdmJ2X2J1ZnNpemU9MzAwMCBjcmZfbWF4PTAuMCBuYWxfaHJkPW5vbmUgZmlsbGVyPTAgaXBfcmF0aW89MS40MCBhcT0xOjEuMDAAgAAAAFZliIQL8mKAAKvMnJycnJycnJycnXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXiEASZACGQAjgCEASZACGQAjgAAAAAdBmjgX4GSAIQBJkAIZACOAAAAAB0GaVAX4GSAhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZpgL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGagC/AySEASZACGQAjgAAAAAZBmqAvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZrAL8DJIQBJkAIZACOAAAAABkGa4C/AySEASZACGQAjgCEASZACGQAjgAAAAAZBmwAvwMkhAEmQAhkAI4AAAAAGQZsgL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGbQC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBm2AvwMkhAEmQAhkAI4AAAAAGQZuAL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGboC/AySEASZACGQAjgAAAAAZBm8AvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZvgL8DJIQBJkAIZACOAAAAABkGaAC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBmiAvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZpAL8DJIQBJkAIZACOAAAAABkGaYC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBmoAvwMkhAEmQAhkAI4AAAAAGQZqgL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGawC/AySEASZACGQAjgAAAAAZBmuAvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZsAL8DJIQBJkAIZACOAAAAABkGbIC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBm0AvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZtgL8DJIQBJkAIZACOAAAAABkGbgCvAySEASZACGQAjgCEASZACGQAjgAAAAAZBm6AnwMkhAEmQAhkAI4AhAEmQAhkAI4AhAEmQAhkAI4AhAEmQAhkAI4AAAAhubW9vdgAAAGxtdmhkAAAAAAAAAAAAAAAAAAAD6AAABDcAAQAAAQAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAwAAAzB0cmFrAAAAXHRraGQAAAADAAAAAAAAAAAAAAABAAAAAAAAA+kAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAALAAAACQAAAAAAAkZWR0cwAAABxlbHN0AAAAAAAAAAEAAAPpAAAAAAABAAAAAAKobWRpYQAAACBtZGhkAAAAAAAAAAAAAAAAAAB1MAAAdU5VxAAAAAAALWhkbHIAAAAAAAAAAHZpZGUAAAAAAAAAAAAAAABWaWRlb0hhbmRsZXIAAAACU21pbmYAAAAUdm1oZAAAAAEAAAAAAAAAAAAAACRkaW5mAAAAHGRyZWYAAAAAAAAAAQAAAAx1cmwgAAAAAQAAAhNzdGJsAAAAr3N0c2QAAAAAAAAAAQAAAJ9hdmMxAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAALAAkABIAAAASAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGP//AAAALWF2Y0MBQsAN/+EAFWdCwA3ZAsTsBEAAAPpAADqYA8UKkgEABWjLg8sgAAAAHHV1aWRraEDyXyRPxbo5pRvPAyPzAAAAAAAAABhzdHRzAAAAAAAAAAEAAAAeAAAD6QAAABRzdHNzAAAAAAAAAAEAAAABAAAAHHN0c2MAAAAAAAAAAQAAAAEAAAABAAAAAQAAAIxzdHN6AAAAAAAAAAAAAAAeAAADDwAAAAsAAAALAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAAiHN0Y28AAAAAAAAAHgAAAEYAAANnAAADewAAA5gAAAO0AAADxwAAA+MAAAP2AAAEEgAABCUAAARBAAAEXQAABHAAAASMAAAEnwAABLsAAATOAAAE6gAABQYAAAUZAAAFNQAABUgAAAVkAAAFdwAABZMAAAWmAAAFwgAABd4AAAXxAAAGDQAABGh0cmFrAAAAXHRraGQAAAADAAAAAAAAAAAAAAACAAAAAAAABDcAAAAAAAAAAAAAAAEBAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAkZWR0cwAAABxlbHN0AAAAAAAAAAEAAAQkAAADcAABAAAAAAPgbWRpYQAAACBtZGhkAAAAAAAAAAAAAAAAAAC7gAAAykBVxAAAAAAALWhkbHIAAAAAAAAAAHNvdW4AAAAAAAAAAAAAAABTb3VuZEhhbmRsZXIAAAADi21pbmYAAAAQc21oZAAAAAAAAAAAAAAAJGRpbmYAAAAcZHJlZgAAAAAAAAABAAAADHVybCAAAAABAAADT3N0YmwAAABnc3RzZAAAAAAAAAABAAAAV21wNGEAAAAAAAAAAQAAAAAAAAAAAAIAEAAAAAC7gAAAAAAAM2VzZHMAAAAAA4CAgCIAAgAEgICAFEAVBbjYAAu4AAAADcoFgICAAhGQBoCAgAECAAAAIHN0dHMAAAAAAAAAAgAAADIAAAQAAAAAAQAAAkAAAAFUc3RzYwAAAAAAAAAbAAAAAQAAAAEAAAABAAAAAgAAAAIAAAABAAAAAwAAAAEAAAABAAAABAAAAAIAAAABAAAABgAAAAEAAAABAAAABwAAAAIAAAABAAAACAAAAAEAAAABAAAACQAAAAIAAAABAAAACgAAAAEAAAABAAAACwAAAAIAAAABAAAADQAAAAEAAAABAAAADgAAAAIAAAABAAAADwAAAAEAAAABAAAAEAAAAAIAAAABAAAAEQAAAAEAAAABAAAAEgAAAAIAAAABAAAAFAAAAAEAAAABAAAAFQAAAAIAAAABAAAAFgAAAAEAAAABAAAAFwAAAAIAAAABAAAAGAAAAAEAAAABAAAAGQAAAAIAAAABAAAAGgAAAAEAAAABAAAAGwAAAAIAAAABAAAAHQAAAAEAAAABAAAAHgAAAAIAAAABAAAAHwAAAAQAAAABAAAA4HN0c3oAAAAAAAAAAAAAADMAAAAaAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAACMc3RjbwAAAAAAAAAfAAAALAAAA1UAAANyAAADhgAAA6IAAAO+AAAD0QAAA+0AAAQAAAAEHAAABC8AAARLAAAEZwAABHoAAASWAAAEqQAABMUAAATYAAAE9AAABRAAAAUjAAAFPwAABVIAAAVuAAAFgQAABZ0AAAWwAAAFzAAABegAAAX7AAAGFwAAAGJ1ZHRhAAAAWm1ldGEAAAAAAAAAIWhkbHIAAAAAAAAAAG1kaXJhcHBsAAAAAAAAAAAAAAAALWlsc3QAAAAlqXRvbwAAAB1kYXRhAAAAAQAAAABMYXZmNTUuMzMuMTAw"};const{webm:iee,mp4:see}=ree,oA=()=>typeof navigator<"u"&&parseFloat((""+(/CPU.*OS ([0-9_]{3,4})[0-9_]{0,1}|(CPU like).*AppleWebKit.*Mobile/i.exec(navigator.userAgent)||[0,""])[1]).replace("undefined","3_2").replace("_",".").replace("_",""))<10&&!window.MSStream,aA=()=>"wakeLock"in navigator&&window.navigator.userAgent.indexOf("Samsung")===-1;class oee{constructor(){if(this.enabled=!1,aA()){this._wakeLock=null;const t=()=>{this._wakeLock!==null&&document.visibilityState==="visible"&&this.enable()};document.addEventListener("visibilitychange",t),document.addEventListener("fullscreenchange",t)}else oA()?this.noSleepTimer=null:(this.noSleepVideo=document.createElement("video"),this.noSleepVideo.setAttribute("title","No Sleep"),this.noSleepVideo.setAttribute("playsinline",""),this._addSourceToVideo(this.noSleepVideo,"webm",iee),this._addSourceToVideo(this.noSleepVideo,"mp4",see),Object.assign(this.noSleepVideo.style,{position:"absolute",left:"-100%",top:"-100%"}),document.querySelector("body").append(this.noSleepVideo),this.noSleepVideo.addEventListener("loadedmetadata",()=>{this.noSleepVideo.duration<=1?this.noSleepVideo.setAttribute("loop",""):this.noSleepVideo.addEventListener("timeupdate",()=>{this.noSleepVideo.currentTime>.5&&(this.noSleepVideo.currentTime=Math.random())})}))}_addSourceToVideo(t,n,r){var i=document.createElement("source");i.src=r,i.type=`video/${n}`,t.appendChild(i)}get isEnabled(){return this.enabled}enable(){return aA()?navigator.wakeLock.request("screen").then(t=>{this._wakeLock=t,this.enabled=!0,console.log("Wake Lock active."),this._wakeLock.addEventListener("release",()=>{console.log("Wake Lock released.")})}).catch(t=>{throw this.enabled=!1,console.error(`${t.name}, ${t.message}`),t}):oA()?(this.disable(),console.warn(`
        NoSleep enabled for older iOS devices. This can interrupt
        active or long-running network requests from completing successfully.
        See https://github.com/richtr/NoSleep.js/issues/15 for more details.
      `),this.noSleepTimer=window.setInterval(()=>{document.hidden||(window.location.href=window.location.href.split("#")[0],window.setTimeout(window.stop,0))},15e3),this.enabled=!0,Promise.resolve()):this.noSleepVideo.play().then(n=>(this.enabled=!0,n)).catch(n=>{throw this.enabled=!1,n})}disable(){aA()?(this._wakeLock&&this._wakeLock.release(),this._wakeLock=null):oA()?this.noSleepTimer&&(console.warn(`
          NoSleep now disabled for older iOS devices.
        `),window.clearInterval(this.noSleepTimer),this.noSleepTimer=null):this.noSleepVideo.pause(),this.enabled=!1}}var aee=oee;const lee=Ar(aee),cee="/assets/eurovisionbg-CvR5q-FP.svg",Zx=A.createContext({visible:!0,theme:"regular",setVisibility:e=>{},setTheme:e=>{}}),qa=(e,t="regular")=>{const{setVisibility:n,setTheme:r}=A.useContext(Zx);A.useEffect(()=>{n(e)},[e,n]),A.useEffect(()=>{r(t)},[t,r])},UT={default:{backgroundImage:`linear-gradient(-45deg, ${Te.red.stroke}, ${Te.blue.text}, ${Te.blue.stroke}, ${Te.red.stroke})`,backgroundSize:"400% 400%"},halloween:{background:"black"}};function uee({children:e}){const[t,n]=A.useState(!0),[r,i]=A.useState("regular"),[s]=Qe(Ji);return f.jsxs(Zx.Provider,{value:{visible:t,setVisibility:n,setTheme:i,theme:r},children:[t&&f.jsx(pee,{"data-theme":r,"data-graphic-level":s,style:UT[r]??UT.default}),e]})}const dee={name:"1skrp57",styles:"animation:escGradient 46s linear infinite;flex:1;@keyframes escGradient{0%{background-position:0% 800%;}100%{background-position:0% 0%;}}"},fee=j("div",{target:"ev6htcq0"})("transform:scale(1, 4);background-image:url(",cee,");background-size:100% 50%;height:100%;&[data-animate='true']{",dee,";}"),HT=()=>{var e;return f.jsx(fee,{"data-animate":!((e=global.location)!=null&&e.href.includes("/remote-mic"))})};Te.christmasGreen.text,Te.christmasGreen.stroke,Te.christmasRed.stroke,Te.christmasRed.stroke;Te.red.stroke,Te.blue.text,Te.blue.stroke,Te.red.stroke;const hee=an.div`bg-white w-full h-full`,pee=an(hee)(e=>["z-[-1] top-0 fixed",e["data-theme"]==="halloween"?"bg-black":"",e["data-graphic-level"]==="high"?"animate-gradient":""]);function gee({size:e=16}){return f.jsx("style",{children:`html {
                font-size: ${e}px !important;
            }`})}function jy(e){return A.useMemo(()=>{var t;return new URLSearchParams((t=global.location)==null?void 0:t.search).get(e)},[e])}const mee=j("div",{target:"e1py91zd0"})(":root{--player-blue-text:",Te.blue.text,";--player-blue-stroke:",Te.blue.stroke,";--player-blue-star-fill:",Te.blue.star.fill,";--player-blue-star-stroke:",Te.blue.star.stroke,";--player-blue-perfect-fill:",Te.blue.perfect.fill,";--player-blue-perfect-stroke:",Te.blue.perfect.stroke,";--player-blue-starPerfect-fill:",Te.blue.starPerfect.fill,";--player-blue-starPerfect-stroke:",Te.blue.starPerfect.stroke,";--player-blue-hit-fill:",Te.blue.hit.fill,";--player-blue-hit-stroke:",Te.blue.hit.stroke,";--player-blue-miss-fill:",Te.blue.miss.fill,";--player-blue-miss-stroke:",Te.blue.miss.stroke,";}h1{",Ke,";margin:0;text-align:center;font-size:4rem;color:",ge.colors.text.active,";}h2{",Ke,";margin:0;font-size:2.9rem;}h3{",Ke,";margin:0;font-size:2.7rem;strong{color:",ge.colors.text.active,";}}h4{",Ke,";margin:0;font-size:2.2rem;line-height:1.15;}h5{",Ke,";margin:0;font-size:1.6rem;line-height:1.5;}h6{",Ke,";margin:0;line-height:1.5;font-size:1.3rem;}hr{margin:0.5rem 1rem;opacity:0.25;}h1,h2,h3,h4,h5{button{",Ke,";background:none;padding:0;margin:0;border:none;font-size:inherit;color:",ge.colors.text.active,";text-decoration:underline;cursor:pointer;}svg{font-size:0.8em;}}a{",Ke,";color:",ge.colors.text.active,";text-decoration:underline;}strong{color:",ge.colors.text.active,";}");function to(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function iV(e){if(!to(e))return e;const t={};return Object.keys(e).forEach(n=>{t[n]=iV(e[n])}),t}function si(e,t,n={clone:!0}){const r=n.clone?{...e}:e;return to(e)&&to(t)&&Object.keys(t).forEach(i=>{to(t[i])&&Object.prototype.hasOwnProperty.call(e,i)&&to(e[i])?r[i]=si(e[i],t[i],n):n.clone?r[i]=to(t[i])?iV(t[i]):t[i]:r[i]=t[i]}),r}var sV={exports:{}},yee="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",vee=yee,Aee=vee;function oV(){}function aV(){}aV.resetWarningCache=oV;var bee=function(){function e(r,i,s,o,a,l){if(l!==Aee){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}e.isRequired=e;function t(){return e}var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:aV,resetWarningCache:oV};return n.PropTypes=n,n};sV.exports=bee();var _ee=sV.exports;const Ze=Ar(_ee);function Jl(e,...t){const n=new URL(`https://mui.com/production-error/?code=${e}`);return t.forEach(r=>n.searchParams.append("args[]",r)),`Minified MUI error #${e}; visit ${n} for the full message.`}function lt(e){if(typeof e!="string")throw new Error(Jl(7));return e.charAt(0).toUpperCase()+e.slice(1)}function GT(...e){return e.reduce((t,n)=>n==null?t:function(...i){t.apply(this,i),n.apply(this,i)},()=>{})}function Xl(e){return e&&e.ownerDocument||document}function Wm(e){return Xl(e).defaultView||window}function zb(e,t){typeof e=="function"?e(t):e&&(e.current=t)}const Ub=typeof window<"u"?A.useLayoutEffect:A.useEffect;let qT=0;function See(e){const[t,n]=A.useState(e),r=e||t;return A.useEffect(()=>{t==null&&(qT+=1,n(`mui-${qT}`))},[t]),r}const xee={...lm},WT=xee.useId;function wee(e){if(WT!==void 0){const t=WT();return e??t}return See(e)}function Gc(e){const t=A.useRef(e);return Ub(()=>{t.current=e}),A.useRef((...n)=>(0,t.current)(...n)).current}function Na(...e){return A.useMemo(()=>e.every(t=>t==null)?null:t=>{e.forEach(n=>{zb(n,t)})},e)}const KT={};function lV(e,t){const n=A.useRef(KT);return n.current===KT&&(n.current=e(t)),n}const Eee=[];function Cee(e){A.useEffect(e,Eee)}class ew{constructor(){ve(this,"currentId",null);ve(this,"clear",()=>{this.currentId!==null&&(clearTimeout(this.currentId),this.currentId=null)});ve(this,"disposeEffect",()=>this.clear)}static create(){return new ew}start(t,n){this.clear(),this.currentId=setTimeout(()=>{this.currentId=null,n()},t)}}function kee(){const e=lV(ew.create).current;return Cee(e.disposeEffect),e}function YT(e){try{return e.matches(":focus-visible")}catch{}return!1}function Tee(e=window){const t=e.document.documentElement.clientWidth;return e.innerWidth-t}function Km(e,t){const n={...t};for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)){const i=r;if(i==="components"||i==="slots")n[i]={...e[i],...n[i]};else if(i==="componentsProps"||i==="slotProps"){const s=e[i],o=t[i];if(!o)n[i]=s||{};else if(!s)n[i]=o;else{n[i]={...o};for(const a in s)if(Object.prototype.hasOwnProperty.call(s,a)){const l=a;n[i][l]=Km(s[l],o[l])}}}else n[i]===void 0&&(n[i]=e[i])}return n}function Wr(e,t,n=void 0){const r={};for(const i in e){const s=e[i];let o="",a=!0;for(let l=0;l<s.length;l+=1){const c=s[l];c&&(o+=(a===!0?"":" ")+t(c),a=!1,n&&n[c]&&(o+=" "+n[c]))}r[i]=o}return r}const QT=e=>e,Iee=()=>{let e=QT;return{configure(t){e=t},generate(t){return e(t)},reset(){e=QT}}},Pee=Iee(),Ree={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function Rr(e,t,n="Mui"){const r=Ree[t];return r?`${n}-${r}`:`${Pee.generate(e)}-${t}`}function Mr(e,t,n="Mui"){const r={};return t.forEach(i=>{r[i]=Rr(e,i,n)}),r}function Mee(e,t=Number.MIN_SAFE_INTEGER,n=Number.MAX_SAFE_INTEGER){return Math.max(t,Math.min(e,n))}function jee(e){return typeof e=="string"}function Oee(e,t,n){return e===void 0||jee(e)?t:{...t,ownerState:{...t.ownerState,...n}}}function cV(e,t=[]){if(e===void 0)return{};const n={};return Object.keys(e).filter(r=>r.match(/^on[A-Z]/)&&typeof e[r]=="function"&&!t.includes(r)).forEach(r=>{n[r]=e[r]}),n}function JT(e){if(e===void 0)return{};const t={};return Object.keys(e).filter(n=>!(n.match(/^on[A-Z]/)&&typeof e[n]=="function")).forEach(n=>{t[n]=e[n]}),t}function Vee(e){const{getSlotProps:t,additionalProps:n,externalSlotProps:r,externalForwardedProps:i,className:s}=e;if(!t){const p=xt(n==null?void 0:n.className,s,i==null?void 0:i.className,r==null?void 0:r.className),g={...n==null?void 0:n.style,...i==null?void 0:i.style,...r==null?void 0:r.style},m={...n,...i,...r};return p.length>0&&(m.className=p),Object.keys(g).length>0&&(m.style=g),{props:m,internalRef:void 0}}const o=cV({...i,...r}),a=JT(r),l=JT(i),c=t(o),u=xt(c==null?void 0:c.className,n==null?void 0:n.className,s,i==null?void 0:i.className,r==null?void 0:r.className),d={...c==null?void 0:c.style,...n==null?void 0:n.style,...i==null?void 0:i.style,...r==null?void 0:r.style},h={...c,...n,...l,...a};return u.length>0&&(h.className=u),Object.keys(d).length>0&&(h.style=d),{props:h,internalRef:c.ref}}function Lee(e,t,n){return typeof e=="function"?e(t,n):e}function tw(e){var t;return parseInt(A.version,10)>=19?((t=e==null?void 0:e.props)==null?void 0:t.ref)||null:(e==null?void 0:e.ref)||null}function Tf(e,t){return t?si(e,t,{clone:!1}):e}function Nee(e,t){if(!e.containerQueries)return t;const n=Object.keys(t).filter(r=>r.startsWith("@container")).sort((r,i)=>{var o,a;const s=/min-width:\s*([0-9.]+)/;return+(((o=r.match(s))==null?void 0:o[1])||0)-+(((a=i.match(s))==null?void 0:a[1])||0)});return n.length?n.reduce((r,i)=>{const s=t[i];return delete r[i],r[i]=s,r},{...t}):t}function Bee(e,t){return t==="@"||t.startsWith("@")&&(e.some(n=>t.startsWith(`@${n}`))||!!t.match(/^@\d/))}function Dee(e,t){const n=t.match(/^@([^/]+)?\/?(.+)?$/);if(!n)return null;const[,r,i]=n,s=Number.isNaN(+r)?r||0:+r;return e.containerQueries(i).up(s)}function $ee(e){const t=(s,o)=>s.replace("@media",o?`@container ${o}`:"@container");function n(s,o){s.up=(...a)=>t(e.breakpoints.up(...a),o),s.down=(...a)=>t(e.breakpoints.down(...a),o),s.between=(...a)=>t(e.breakpoints.between(...a),o),s.only=(...a)=>t(e.breakpoints.only(...a),o),s.not=(...a)=>{const l=t(e.breakpoints.not(...a),o);return l.includes("not all and")?l.replace("not all and ","").replace("min-width:","width<").replace("max-width:","width>").replace("and","or"):l}}const r={},i=s=>(n(r,s),r);return n(i),{...e,containerQueries:i}}const Oy={xs:0,sm:600,md:900,lg:1200,xl:1536},XT={keys:["xs","sm","md","lg","xl"],up:e=>`@media (min-width:${Oy[e]}px)`},Fee={containerQueries:e=>({up:t=>{let n=typeof t=="number"?t:Oy[t]||t;return typeof n=="number"&&(n=`${n}px`),e?`@container ${e} (min-width:${n})`:`@container (min-width:${n})`}})};function zo(e,t,n){const r=e.theme||{};if(Array.isArray(t)){const s=r.breakpoints||XT;return t.reduce((o,a,l)=>(o[s.up(s.keys[l])]=n(t[l]),o),{})}if(typeof t=="object"){const s=r.breakpoints||XT;return Object.keys(t).reduce((o,a)=>{if(Bee(s.keys,a)){const l=Dee(r.containerQueries?r:Fee,a);l&&(o[l]=n(t[a],a))}else if(Object.keys(s.values||Oy).includes(a)){const l=s.up(a);o[l]=n(t[a],a)}else{const l=a;o[l]=t[l]}return o},{})}return n(t)}function uV(e={}){var n;return((n=e.keys)==null?void 0:n.reduce((r,i)=>{const s=e.up(i);return r[s]={},r},{}))||{}}function dV(e,t){return e.reduce((n,r)=>{const i=n[r];return(!i||Object.keys(i).length===0)&&delete n[r],n},t)}function sbe(e,...t){const n=uV(e),r=[n,...t].reduce((i,s)=>si(i,s),{});return dV(Object.keys(n),r)}function zee(e,t){if(typeof e!="object")return{};const n={},r=Object.keys(t);return Array.isArray(e)?r.forEach((i,s)=>{s<e.length&&(n[i]=!0)}):r.forEach(i=>{e[i]!=null&&(n[i]=!0)}),n}function obe({values:e,breakpoints:t,base:n}){const r=n||zee(e,t),i=Object.keys(r);if(i.length===0)return e;let s;return i.reduce((o,a,l)=>(Array.isArray(e)?(o[a]=e[l]!=null?e[l]:e[s],s=l):typeof e=="object"?(o[a]=e[a]!=null?e[a]:e[s],s=a):o[a]=e,o),{})}function Vy(e,t,n=!0){if(!t||typeof t!="string")return null;if(e&&e.vars&&n){const r=`vars.${t}`.split(".").reduce((i,s)=>i&&i[s]?i[s]:null,e);if(r!=null)return r}return t.split(".").reduce((r,i)=>r&&r[i]!=null?r[i]:null,e)}function Ym(e,t,n,r=n){let i;return typeof e=="function"?i=e(n):Array.isArray(e)?i=e[n]||r:i=Vy(e,n)||r,t&&(i=t(i,r,e)),i}function Nn(e){const{prop:t,cssProperty:n=e.prop,themeKey:r,transform:i}=e,s=o=>{if(o[t]==null)return null;const a=o[t],l=o.theme,c=Vy(l,r)||{};return zo(o,a,d=>{let h=Ym(c,i,d);return d===h&&typeof d=="string"&&(h=Ym(c,i,`${t}${d==="default"?"":lt(d)}`,d)),n===!1?h:{[n]:h}})};return s.propTypes={},s.filterProps=[t],s}function Uee(e){const t={};return n=>(t[n]===void 0&&(t[n]=e(n)),t[n])}const Hee={m:"margin",p:"padding"},Gee={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},ZT={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},qee=Uee(e=>{if(e.length>2)if(ZT[e])e=ZT[e];else return[e];const[t,n]=e.split(""),r=Hee[t],i=Gee[n]||"";return Array.isArray(i)?i.map(s=>r+s):[r+i]}),nw=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],rw=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...nw,...rw];function qh(e,t,n,r){const i=Vy(e,t,!0)??n;return typeof i=="number"||typeof i=="string"?s=>typeof s=="string"?s:typeof i=="string"?`calc(${s} * ${i})`:i*s:Array.isArray(i)?s=>{if(typeof s=="string")return s;const o=Math.abs(s),a=i[o];return s>=0?a:typeof a=="number"?-a:`-${a}`}:typeof i=="function"?i:()=>{}}function iw(e){return qh(e,"spacing",8)}function Wh(e,t){return typeof t=="string"||t==null?t:e(t)}function Wee(e,t){return n=>e.reduce((r,i)=>(r[i]=Wh(t,n),r),{})}function Kee(e,t,n,r){if(!t.includes(n))return null;const i=qee(n),s=Wee(i,r),o=e[n];return zo(e,o,s)}function fV(e,t){const n=iw(e.theme);return Object.keys(e).map(r=>Kee(e,t,r,n)).reduce(Tf,{})}function An(e){return fV(e,nw)}An.propTypes={};An.filterProps=nw;function bn(e){return fV(e,rw)}bn.propTypes={};bn.filterProps=rw;function Ly(...e){const t=e.reduce((r,i)=>(i.filterProps.forEach(s=>{r[s]=i}),r),{}),n=r=>Object.keys(r).reduce((i,s)=>t[s]?Tf(i,t[s](r)):i,{});return n.propTypes={},n.filterProps=e.reduce((r,i)=>r.concat(i.filterProps),[]),n}function Wi(e){return typeof e!="number"?e:`${e}px solid`}function gs(e,t){return Nn({prop:e,themeKey:"borders",transform:t})}const Yee=gs("border",Wi),Qee=gs("borderTop",Wi),Jee=gs("borderRight",Wi),Xee=gs("borderBottom",Wi),Zee=gs("borderLeft",Wi),ete=gs("borderColor"),tte=gs("borderTopColor"),nte=gs("borderRightColor"),rte=gs("borderBottomColor"),ite=gs("borderLeftColor"),ste=gs("outline",Wi),ote=gs("outlineColor"),Ny=e=>{if(e.borderRadius!==void 0&&e.borderRadius!==null){const t=qh(e.theme,"shape.borderRadius",4),n=r=>({borderRadius:Wh(t,r)});return zo(e,e.borderRadius,n)}return null};Ny.propTypes={};Ny.filterProps=["borderRadius"];Ly(Yee,Qee,Jee,Xee,Zee,ete,tte,nte,rte,ite,Ny,ste,ote);const By=e=>{if(e.gap!==void 0&&e.gap!==null){const t=qh(e.theme,"spacing",8),n=r=>({gap:Wh(t,r)});return zo(e,e.gap,n)}return null};By.propTypes={};By.filterProps=["gap"];const Dy=e=>{if(e.columnGap!==void 0&&e.columnGap!==null){const t=qh(e.theme,"spacing",8),n=r=>({columnGap:Wh(t,r)});return zo(e,e.columnGap,n)}return null};Dy.propTypes={};Dy.filterProps=["columnGap"];const $y=e=>{if(e.rowGap!==void 0&&e.rowGap!==null){const t=qh(e.theme,"spacing",8),n=r=>({rowGap:Wh(t,r)});return zo(e,e.rowGap,n)}return null};$y.propTypes={};$y.filterProps=["rowGap"];const ate=Nn({prop:"gridColumn"}),lte=Nn({prop:"gridRow"}),cte=Nn({prop:"gridAutoFlow"}),ute=Nn({prop:"gridAutoColumns"}),dte=Nn({prop:"gridAutoRows"}),fte=Nn({prop:"gridTemplateColumns"}),hte=Nn({prop:"gridTemplateRows"}),pte=Nn({prop:"gridTemplateAreas"}),gte=Nn({prop:"gridArea"});Ly(By,Dy,$y,ate,lte,cte,ute,dte,fte,hte,pte,gte);function mu(e,t){return t==="grey"?t:e}const mte=Nn({prop:"color",themeKey:"palette",transform:mu}),yte=Nn({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:mu}),vte=Nn({prop:"backgroundColor",themeKey:"palette",transform:mu});Ly(mte,yte,vte);function Ai(e){return e<=1&&e!==0?`${e*100}%`:e}const Ate=Nn({prop:"width",transform:Ai}),sw=e=>{if(e.maxWidth!==void 0&&e.maxWidth!==null){const t=n=>{var i,s,o,a,l;const r=((o=(s=(i=e.theme)==null?void 0:i.breakpoints)==null?void 0:s.values)==null?void 0:o[n])||Oy[n];return r?((l=(a=e.theme)==null?void 0:a.breakpoints)==null?void 0:l.unit)!=="px"?{maxWidth:`${r}${e.theme.breakpoints.unit}`}:{maxWidth:r}:{maxWidth:Ai(n)}};return zo(e,e.maxWidth,t)}return null};sw.filterProps=["maxWidth"];const bte=Nn({prop:"minWidth",transform:Ai}),_te=Nn({prop:"height",transform:Ai}),Ste=Nn({prop:"maxHeight",transform:Ai}),xte=Nn({prop:"minHeight",transform:Ai});Nn({prop:"size",cssProperty:"width",transform:Ai});Nn({prop:"size",cssProperty:"height",transform:Ai});const wte=Nn({prop:"boxSizing"});Ly(Ate,sw,bte,_te,Ste,xte,wte);const Kh={border:{themeKey:"borders",transform:Wi},borderTop:{themeKey:"borders",transform:Wi},borderRight:{themeKey:"borders",transform:Wi},borderBottom:{themeKey:"borders",transform:Wi},borderLeft:{themeKey:"borders",transform:Wi},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:Wi},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:Ny},color:{themeKey:"palette",transform:mu},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:mu},backgroundColor:{themeKey:"palette",transform:mu},p:{style:bn},pt:{style:bn},pr:{style:bn},pb:{style:bn},pl:{style:bn},px:{style:bn},py:{style:bn},padding:{style:bn},paddingTop:{style:bn},paddingRight:{style:bn},paddingBottom:{style:bn},paddingLeft:{style:bn},paddingX:{style:bn},paddingY:{style:bn},paddingInline:{style:bn},paddingInlineStart:{style:bn},paddingInlineEnd:{style:bn},paddingBlock:{style:bn},paddingBlockStart:{style:bn},paddingBlockEnd:{style:bn},m:{style:An},mt:{style:An},mr:{style:An},mb:{style:An},ml:{style:An},mx:{style:An},my:{style:An},margin:{style:An},marginTop:{style:An},marginRight:{style:An},marginBottom:{style:An},marginLeft:{style:An},marginX:{style:An},marginY:{style:An},marginInline:{style:An},marginInlineStart:{style:An},marginInlineEnd:{style:An},marginBlock:{style:An},marginBlockStart:{style:An},marginBlockEnd:{style:An},displayPrint:{cssProperty:!1,transform:e=>({"@media print":{display:e}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:By},rowGap:{style:$y},columnGap:{style:Dy},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:Ai},maxWidth:{style:sw},minWidth:{transform:Ai},height:{transform:Ai},maxHeight:{transform:Ai},minHeight:{transform:Ai},boxSizing:{},font:{themeKey:"font"},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}};function Ete(...e){const t=e.reduce((r,i)=>r.concat(Object.keys(i)),[]),n=new Set(t);return e.every(r=>n.size===Object.keys(r).length)}function Cte(e,t){return typeof e=="function"?e(t):e}function kte(){function e(n,r,i,s){const o={[n]:r,theme:i},a=s[n];if(!a)return{[n]:r};const{cssProperty:l=n,themeKey:c,transform:u,style:d}=a;if(r==null)return null;if(c==="typography"&&r==="inherit")return{[n]:r};const h=Vy(i,c)||{};return d?d(o):zo(o,r,g=>{let m=Ym(h,u,g);return g===m&&typeof g=="string"&&(m=Ym(h,u,`${n}${g==="default"?"":lt(g)}`,g)),l===!1?m:{[l]:m}})}function t(n){const{sx:r,theme:i={}}=n||{};if(!r)return null;const s=i.unstable_sxConfig??Kh;function o(a){let l=a;if(typeof a=="function")l=a(i);else if(typeof a!="object")return a;if(!l)return null;const c=uV(i.breakpoints),u=Object.keys(c);let d=c;return Object.keys(l).forEach(h=>{const p=Cte(l[h],i);if(p!=null)if(typeof p=="object")if(s[h])d=Tf(d,e(h,p,i,s));else{const g=zo({theme:i},p,m=>({[h]:m}));Ete(g,p)?d[h]=t({sx:p,theme:i}):d=Tf(d,g)}else d=Tf(d,e(h,p,i,s))}),Nee(i,dV(u,d))}return Array.isArray(r)?r.map(o):o(r)}return t}const Zl=kte();Zl.filterProps=["sx"];const Tte=e=>{var r;const t={systemProps:{},otherProps:{}},n=((r=e==null?void 0:e.theme)==null?void 0:r.unstable_sxConfig)??Kh;return Object.keys(e).forEach(i=>{n[i]?t.systemProps[i]=e[i]:t.otherProps[i]=e[i]}),t};function Ite(e){const{sx:t,...n}=e,{systemProps:r,otherProps:i}=Tte(n);let s;return Array.isArray(t)?s=[r,...t]:typeof t=="function"?s=(...o)=>{const a=t(...o);return to(a)?{...r,...a}:r}:s={...r,...t},{...i,sx:s}}var Pte=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],Hb=j.bind();Pte.forEach(function(e){Hb[e]=Hb(e)});function Rte(e){return e==null||Object.keys(e).length===0}function hV(e){const{styles:t,defaultTheme:n={}}=e,r=typeof t=="function"?i=>t(Rte(i)?n:i):t;return f.jsx(bY,{styles:r})}/**
 * @mui/styled-engine v6.1.6
 *
 * @license MIT
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function Mte(e,t){return Hb(e,t)}function jte(e,t){Array.isArray(e.__emotion_styles)&&(e.__emotion_styles=t(e.__emotion_styles))}const eI=[];function tI(e){return eI[0]=e,Iy(eI)}const Ote=e=>{const t=Object.keys(e).map(n=>({key:n,val:e[n]}))||[];return t.sort((n,r)=>n.val-r.val),t.reduce((n,r)=>({...n,[r.key]:r.val}),{})};function Vte(e){const{values:t={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:n="px",step:r=5,...i}=e,s=Ote(t),o=Object.keys(s);function a(h){return`@media (min-width:${typeof t[h]=="number"?t[h]:h}${n})`}function l(h){return`@media (max-width:${(typeof t[h]=="number"?t[h]:h)-r/100}${n})`}function c(h,p){const g=o.indexOf(p);return`@media (min-width:${typeof t[h]=="number"?t[h]:h}${n}) and (max-width:${(g!==-1&&typeof t[o[g]]=="number"?t[o[g]]:p)-r/100}${n})`}function u(h){return o.indexOf(h)+1<o.length?c(h,o[o.indexOf(h)+1]):a(h)}function d(h){const p=o.indexOf(h);return p===0?a(o[1]):p===o.length-1?l(o[p]):c(h,o[o.indexOf(h)+1]).replace("@media","@media not all and")}return{keys:o,values:s,up:a,down:l,between:c,only:u,not:d,unit:n,...i}}const Lte={borderRadius:4};function pV(e=8,t=iw({spacing:e})){if(e.mui)return e;const n=(...r)=>(r.length===0?[1]:r).map(s=>{const o=t(s);return typeof o=="number"?`${o}px`:o}).join(" ");return n.mui=!0,n}function Nte(e,t){var r;const n=this;if(n.vars){if(!((r=n.colorSchemes)!=null&&r[e])||typeof n.getColorSchemeSelector!="function")return{};let i=n.getColorSchemeSelector(e);return i==="&"?t:((i.includes("data-")||i.includes("."))&&(i=`*:where(${i.replace(/\s*&$/,"")}) &`),{[i]:t})}return n.palette.mode===e?t:{}}function ow(e={},...t){const{breakpoints:n={},palette:r={},spacing:i,shape:s={},...o}=e,a=Vte(n),l=pV(i);let c=si({breakpoints:a,direction:"ltr",components:{},palette:{mode:"light",...r},spacing:l,shape:{...Lte,...s}},o);return c=$ee(c),c.applyStyles=Nte,c=t.reduce((u,d)=>si(u,d),c),c.unstable_sxConfig={...Kh,...o==null?void 0:o.unstable_sxConfig},c.unstable_sx=function(d){return Zl({sx:d,theme:this})},c}function Bte(e){return Object.keys(e).length===0}function gV(e=null){const t=A.useContext(Py);return!t||Bte(t)?e:t}const Dte=ow();function mV(e=Dte){return gV(e)}function $te({styles:e,themeId:t,defaultTheme:n={}}){const r=mV(n),i=typeof e=="function"?e(t&&r[t]||r):e;return f.jsx(hV,{styles:i})}function yV(e){const{variants:t,...n}=e,r={variants:t,style:tI(n),isProcessed:!0};return r.style===n||t&&t.forEach(i=>{typeof i.style!="function"&&(i.style=tI(i.style))}),r}const Fte=ow();function lA(e){return e!=="ownerState"&&e!=="theme"&&e!=="sx"&&e!=="as"}function zte(e){return e?(t,n)=>n[e]:null}function Ute(e,t,n){e.theme=qte(e.theme)?n:e.theme[t]||e.theme}function Gg(e,t){const n=typeof t=="function"?t(e):t;if(Array.isArray(n))return n.flatMap(r=>Gg(e,r));if(Array.isArray(n==null?void 0:n.variants)){let r;if(n.isProcessed)r=n.style;else{const{variants:i,...s}=n;r=s}return vV(e,n.variants,[r])}return n!=null&&n.isProcessed?n.style:n}function vV(e,t,n=[]){var i;let r;e:for(let s=0;s<t.length;s+=1){const o=t[s];if(typeof o.props=="function"){if(r??(r={...e,...e.ownerState,ownerState:e.ownerState}),!o.props(r))continue}else for(const a in o.props)if(e[a]!==o.props[a]&&((i=e.ownerState)==null?void 0:i[a])!==o.props[a])continue e;typeof o.style=="function"?(r??(r={...e,...e.ownerState,ownerState:e.ownerState}),n.push(o.style(r))):n.push(o.style)}return n}function Hte(e={}){const{themeId:t,defaultTheme:n=Fte,rootShouldForwardProp:r=lA,slotShouldForwardProp:i=lA}=e;function s(a){Ute(a,t,n)}return(a,l={})=>{jte(a,S=>S.filter(E=>E!==Zl));const{name:c,slot:u,skipVariantsResolver:d,skipSx:h,overridesResolver:p=zte(Kte(u)),...g}=l,m=d!==void 0?d:u&&u!=="Root"&&u!=="root"||!1,b=h||!1;let y=lA;u==="Root"||u==="root"?y=r:u?y=i:Wte(a)&&(y=void 0);const v=Mte(a,{shouldForwardProp:y,label:Gte(),...g}),_=S=>{if(typeof S=="function"&&S.__emotion_real!==S)return function(C){return Gg(C,S)};if(to(S)){const E=yV(S);return E.variants?function(k){return Gg(k,E)}:E.style}return S},x=(...S)=>{const E=[],C=S.map(_),k=[];if(E.push(s),c&&p&&k.push(function(N){var T,z;const V=(z=(T=N.theme.components)==null?void 0:T[c])==null?void 0:z.styleOverrides;if(!V)return null;const P={};for(const B in V)P[B]=Gg(N,V[B]);return p(N,P)}),c&&!m&&k.push(function(N){var P,T;const R=N.theme,V=(T=(P=R==null?void 0:R.components)==null?void 0:P[c])==null?void 0:T.variants;return V?vV(N,V):null}),b||k.push(Zl),Array.isArray(C[0])){const M=C.shift(),N=new Array(E.length).fill(""),R=new Array(k.length).fill("");let V;V=[...N,...M,...R],V.raw=[...N,...M.raw,...R],E.unshift(V)}const O=[...E,...C,...k],w=v(...O);return a.muiName&&(w.muiName=a.muiName),w};return v.withConfig&&(x.withConfig=v.withConfig),x}}function Gte(e,t){return void 0}function qte(e){for(const t in e)return!1;return!0}function Wte(e){return typeof e=="string"&&e.charCodeAt(0)>96}function Kte(e){return e&&e.charAt(0).toLowerCase()+e.slice(1)}function aw(e,t=0,n=1){return Mee(e,t,n)}function Yte(e){e=e.slice(1);const t=new RegExp(`.{1,${e.length>=6?2:1}}`,"g");let n=e.match(t);return n&&n[0].length===1&&(n=n.map(r=>r+r)),n?`rgb${n.length===4?"a":""}(${n.map((r,i)=>i<3?parseInt(r,16):Math.round(parseInt(r,16)/255*1e3)/1e3).join(", ")})`:""}function Ba(e){if(e.type)return e;if(e.charAt(0)==="#")return Ba(Yte(e));const t=e.indexOf("("),n=e.substring(0,t);if(!["rgb","rgba","hsl","hsla","color"].includes(n))throw new Error(Jl(9,e));let r=e.substring(t+1,e.length-1),i;if(n==="color"){if(r=r.split(" "),i=r.shift(),r.length===4&&r[3].charAt(0)==="/"&&(r[3]=r[3].slice(1)),!["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].includes(i))throw new Error(Jl(10,i))}else r=r.split(",");return r=r.map(s=>parseFloat(s)),{type:n,values:r,colorSpace:i}}const Qte=e=>{const t=Ba(e);return t.values.slice(0,3).map((n,r)=>t.type.includes("hsl")&&r!==0?`${n}%`:n).join(" ")},tf=(e,t)=>{try{return Qte(e)}catch{return e}};function Fy(e){const{type:t,colorSpace:n}=e;let{values:r}=e;return t.includes("rgb")?r=r.map((i,s)=>s<3?parseInt(i,10):i):t.includes("hsl")&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),t.includes("color")?r=`${n} ${r.join(" ")}`:r=`${r.join(", ")}`,`${t}(${r})`}function AV(e){e=Ba(e);const{values:t}=e,n=t[0],r=t[1]/100,i=t[2]/100,s=r*Math.min(i,1-i),o=(c,u=(c+n/30)%12)=>i-s*Math.max(Math.min(u-3,9-u,1),-1);let a="rgb";const l=[Math.round(o(0)*255),Math.round(o(8)*255),Math.round(o(4)*255)];return e.type==="hsla"&&(a+="a",l.push(t[3])),Fy({type:a,values:l})}function Gb(e){e=Ba(e);let t=e.type==="hsl"||e.type==="hsla"?Ba(AV(e)).values:e.values;return t=t.map(n=>(e.type!=="color"&&(n/=255),n<=.03928?n/12.92:((n+.055)/1.055)**2.4)),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function Jte(e,t){const n=Gb(e),r=Gb(t);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}function Ts(e,t){return e=Ba(e),t=aw(t),(e.type==="rgb"||e.type==="hsl")&&(e.type+="a"),e.type==="color"?e.values[3]=`/${t}`:e.values[3]=t,Fy(e)}function Up(e,t,n){try{return Ts(e,t)}catch{return e}}function lw(e,t){if(e=Ba(e),t=aw(t),e.type.includes("hsl"))e.values[2]*=1-t;else if(e.type.includes("rgb")||e.type.includes("color"))for(let n=0;n<3;n+=1)e.values[n]*=1-t;return Fy(e)}function Lt(e,t,n){try{return lw(e,t)}catch{return e}}function cw(e,t){if(e=Ba(e),t=aw(t),e.type.includes("hsl"))e.values[2]+=(100-e.values[2])*t;else if(e.type.includes("rgb"))for(let n=0;n<3;n+=1)e.values[n]+=(255-e.values[n])*t;else if(e.type.includes("color"))for(let n=0;n<3;n+=1)e.values[n]+=(1-e.values[n])*t;return Fy(e)}function Nt(e,t,n){try{return cw(e,t)}catch{return e}}function Xte(e,t=.15){return Gb(e)>.5?lw(e,t):cw(e,t)}function Hp(e,t,n){try{return Xte(e,t)}catch{return e}}const bV=A.createContext(null);function uw(){return A.useContext(bV)}const Zte=typeof Symbol=="function"&&Symbol.for,ene=Zte?Symbol.for("mui.nested"):"__THEME_NESTED__";function tne(e,t){return typeof t=="function"?t(e):{...e,...t}}function nne(e){const{children:t,theme:n}=e,r=uw(),i=A.useMemo(()=>{const s=r===null?{...n}:tne(r,n);return s!=null&&(s[ene]=r!==null),s},[n,r]);return f.jsx(bV.Provider,{value:i,children:t})}const _V=A.createContext();function rne({value:e,...t}){return f.jsx(_V.Provider,{value:e??!0,...t})}const abe=()=>A.useContext(_V)??!1,SV=A.createContext(void 0);function ine({value:e,children:t}){return f.jsx(SV.Provider,{value:e,children:t})}function sne(e){const{theme:t,name:n,props:r}=e;if(!t||!t.components||!t.components[n])return r;const i=t.components[n];return i.defaultProps?Km(i.defaultProps,r):!i.styleOverrides&&!i.variants?Km(i,r):r}function one({props:e,name:t}){const n=A.useContext(SV);return sne({props:e,name:t,theme:{components:n}})}const nI={};function rI(e,t,n,r=!1){return A.useMemo(()=>{const i=e&&t[e]||t;if(typeof n=="function"){const s=n(i),o=e?{...t,[e]:s}:s;return r?()=>o:o}return e?{...t,[e]:n}:{...t,...n}},[e,t,n,r])}function xV(e){const{children:t,theme:n,themeId:r}=e,i=gV(nI),s=uw()||nI,o=rI(r,i,n),a=rI(r,s,n,!0),l=o.direction==="rtl";return f.jsx(nne,{theme:a,children:f.jsx(Py.Provider,{value:o,children:f.jsx(rne,{value:l,children:f.jsx(ine,{value:o==null?void 0:o.components,children:t})})})})}const iI={theme:void 0};function ane(e){let t,n;return function(i){let s=t;return(s===void 0||i.theme!==n)&&(iI.theme=i.theme,s=yV(e(iI)),t=s,n=i.theme),s}}const dw="mode",fw="color-scheme",lne="data-color-scheme";function cne(e){const{defaultMode:t="system",defaultLightColorScheme:n="light",defaultDarkColorScheme:r="dark",modeStorageKey:i=dw,colorSchemeStorageKey:s=fw,attribute:o=lne,colorSchemeNode:a="document.documentElement",nonce:l}=e||{};let c="",u=o;if(o==="class"&&(u=".%s"),o==="data"&&(u="[data-%s]"),u.startsWith(".")){const h=u.substring(1);c+=`${a}.classList.remove('${h}'.replace('%s', light), '${h}'.replace('%s', dark));
      ${a}.classList.add('${h}'.replace('%s', colorScheme));`}const d=u.match(/\[([^\]]+)\]/);if(d){const[h,p]=d[1].split("=");p||(c+=`${a}.removeAttribute('${h}'.replace('%s', light));
      ${a}.removeAttribute('${h}'.replace('%s', dark));`),c+=`
      ${a}.setAttribute('${h}'.replace('%s', colorScheme), ${p?`${p}.replace('%s', colorScheme)`:'""'});`}else c+=`${a}.setAttribute('${u}', colorScheme);`;return f.jsx("script",{suppressHydrationWarning:!0,nonce:typeof window>"u"?l:"",dangerouslySetInnerHTML:{__html:`(function() {
try {
  let colorScheme = '';
  const mode = localStorage.getItem('${i}') || '${t}';
  const dark = localStorage.getItem('${s}-dark') || '${r}';
  const light = localStorage.getItem('${s}-light') || '${n}';
  if (mode === 'system') {
    // handle system mode
    const mql = window.matchMedia('(prefers-color-scheme: dark)');
    if (mql.matches) {
      colorScheme = dark
    } else {
      colorScheme = light
    }
  }
  if (mode === 'light') {
    colorScheme = light;
  }
  if (mode === 'dark') {
    colorScheme = dark;
  }
  if (colorScheme) {
    ${c}
  }
} catch(e){}})();`}},"mui-color-scheme-init")}function sI(e){if(typeof window<"u"&&typeof window.matchMedia=="function"&&e==="system")return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}function wV(e,t){if(e.mode==="light"||e.mode==="system"&&e.systemMode==="light")return t("light");if(e.mode==="dark"||e.mode==="system"&&e.systemMode==="dark")return t("dark")}function une(e){return wV(e,t=>{if(t==="light")return e.lightColorScheme;if(t==="dark")return e.darkColorScheme})}function cA(e,t){if(typeof window>"u")return;let n;try{n=localStorage.getItem(e)||void 0,n||localStorage.setItem(e,t)}catch{}return n||t}function dne(e){const{defaultMode:t="light",defaultLightColorScheme:n,defaultDarkColorScheme:r,supportedColorSchemes:i=[],modeStorageKey:s=dw,colorSchemeStorageKey:o=fw,storageWindow:a=typeof window>"u"?void 0:window}=e,l=i.join(","),c=i.length>1,[u,d]=A.useState(()=>{const _=cA(s,t),x=cA(`${o}-light`,n),S=cA(`${o}-dark`,r);return{mode:_,systemMode:sI(_),lightColorScheme:x,darkColorScheme:S}}),[,h]=A.useState(!1),p=A.useRef(!1);A.useEffect(()=>{c&&h(!0),p.current=!0},[c]);const g=une(u),m=A.useCallback(_=>{d(x=>{if(_===x.mode)return x;const S=_??t;try{localStorage.setItem(s,S)}catch{}return{...x,mode:S,systemMode:sI(S)}})},[s,t]),b=A.useCallback(_=>{_?typeof _=="string"?_&&!l.includes(_)?console.error(`\`${_}\` does not exist in \`theme.colorSchemes\`.`):d(x=>{const S={...x};return wV(x,E=>{try{localStorage.setItem(`${o}-${E}`,_)}catch{}E==="light"&&(S.lightColorScheme=_),E==="dark"&&(S.darkColorScheme=_)}),S}):d(x=>{const S={...x},E=_.light===null?n:_.light,C=_.dark===null?r:_.dark;if(E)if(!l.includes(E))console.error(`\`${E}\` does not exist in \`theme.colorSchemes\`.`);else{S.lightColorScheme=E;try{localStorage.setItem(`${o}-light`,E)}catch{}}if(C)if(!l.includes(C))console.error(`\`${C}\` does not exist in \`theme.colorSchemes\`.`);else{S.darkColorScheme=C;try{localStorage.setItem(`${o}-dark`,C)}catch{}}return S}):d(x=>{try{localStorage.setItem(`${o}-light`,n),localStorage.setItem(`${o}-dark`,r)}catch{}return{...x,lightColorScheme:n,darkColorScheme:r}})},[l,o,n,r]),y=A.useCallback(_=>{u.mode==="system"&&d(x=>{const S=_!=null&&_.matches?"dark":"light";return x.systemMode===S?x:{...x,systemMode:S}})},[u.mode]),v=A.useRef(y);return v.current=y,A.useEffect(()=>{if(typeof window.matchMedia!="function"||!c)return;const _=(...S)=>v.current(...S),x=window.matchMedia("(prefers-color-scheme: dark)");return x.addListener(_),_(x),()=>{x.removeListener(_)}},[c]),A.useEffect(()=>{if(a&&c){const _=x=>{const S=x.newValue;typeof x.key=="string"&&x.key.startsWith(o)&&(!S||l.match(S))&&(x.key.endsWith("light")&&b({light:S}),x.key.endsWith("dark")&&b({dark:S})),x.key===s&&(!S||["light","dark","system"].includes(S))&&m(S||t)};return a.addEventListener("storage",_),()=>{a.removeEventListener("storage",_)}}},[b,m,s,o,l,t,a,c]),{...u,mode:p.current||!c?u.mode:void 0,systemMode:p.current||!c?u.systemMode:void 0,colorScheme:p.current||!c?g:void 0,setMode:m,setColorScheme:b}}const fne="*{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}";function hne(e){const{themeId:t,theme:n={},modeStorageKey:r=dw,colorSchemeStorageKey:i=fw,disableTransitionOnChange:s=!1,defaultColorScheme:o,resolveTheme:a}=e,l={allColorSchemes:[],colorScheme:void 0,darkColorScheme:void 0,lightColorScheme:void 0,mode:void 0,setColorScheme:()=>{},setMode:()=>{},systemMode:void 0},c=A.createContext(void 0),u=()=>A.useContext(c)||l;function d(m){var kt,Ce,ut,jt,Ot;const{children:b,theme:y,modeStorageKey:v=r,colorSchemeStorageKey:_=i,disableTransitionOnChange:x=s,storageWindow:S=typeof window>"u"?void 0:window,documentNode:E=typeof document>"u"?void 0:document,colorSchemeNode:C=typeof document>"u"?void 0:document.documentElement,disableNestedContext:k=!1,disableStyleSheetGeneration:O=!1,defaultMode:w="system"}=m,M=A.useRef(!1),N=uw(),R=A.useContext(c),V=!!R&&!k,P=A.useMemo(()=>y||(typeof n=="function"?n():n),[y]),T=P[t],{colorSchemes:z={},components:B={},cssVarPrefix:D,...F}=T||P,G=Object.keys(z).filter(Me=>!!z[Me]).join(","),U=A.useMemo(()=>G.split(","),[G]),ne=typeof o=="string"?o:o.light,$=typeof o=="string"?o:o.dark,fe=z[ne]&&z[$]?w:((Ce=(kt=z[F.defaultColorScheme])==null?void 0:kt.palette)==null?void 0:Ce.mode)||((ut=F.palette)==null?void 0:ut.mode),{mode:Z,setMode:oe,systemMode:Re,lightColorScheme:Ee,darkColorScheme:ae,colorScheme:be,setColorScheme:Ve}=dne({supportedColorSchemes:U,defaultLightColorScheme:ne,defaultDarkColorScheme:$,modeStorageKey:v,colorSchemeStorageKey:_,defaultMode:fe,storageWindow:S});let Ne=Z,ye=be;V&&(Ne=R.mode,ye=R.colorScheme);const Se=ye||F.defaultColorScheme,We=((jt=F.generateThemeVars)==null?void 0:jt.call(F))||F.vars,Be={...F,components:B,colorSchemes:z,cssVarPrefix:D,vars:We};if(typeof Be.generateSpacing=="function"&&(Be.spacing=Be.generateSpacing()),Se){const Me=z[Se];Me&&typeof Me=="object"&&Object.keys(Me).forEach(Ge=>{Me[Ge]&&typeof Me[Ge]=="object"?Be[Ge]={...Be[Ge],...Me[Ge]}:Be[Ge]=Me[Ge]})}const xe=F.colorSchemeSelector;A.useEffect(()=>{if(ye&&C&&xe&&xe!=="media"){const Me=xe;let Ge=xe;if(Me==="class"&&(Ge=".%s"),Me==="data"&&(Ge="[data-%s]"),Me!=null&&Me.startsWith("data-")&&!Me.includes("%s")&&(Ge=`[${Me}="%s"]`),Ge.startsWith("."))C.classList.remove(...U.map(st=>Ge.substring(1).replace("%s",st))),C.classList.add(Ge.substring(1).replace("%s",ye));else{const st=Ge.replace("%s",ye).match(/\[([^\]]+)\]/);if(st){const[ot,ln]=st[1].split("=");ln||U.forEach(mt=>{C.removeAttribute(ot.replace(ye,mt))}),C.setAttribute(ot,ln?ln.replace(/"|'/g,""):"")}else C.setAttribute(Ge,ye)}}},[ye,xe,C,U]),A.useEffect(()=>{let Me;if(x&&M.current&&E){const Ge=E.createElement("style");Ge.appendChild(E.createTextNode(fne)),E.head.appendChild(Ge),window.getComputedStyle(E.body),Me=setTimeout(()=>{E.head.removeChild(Ge)},1)}return()=>{clearTimeout(Me)}},[ye,x,E]),A.useEffect(()=>(M.current=!0,()=>{M.current=!1}),[]);const Je=A.useMemo(()=>({allColorSchemes:U,colorScheme:ye,darkColorScheme:ae,lightColorScheme:Ee,mode:Ne,setColorScheme:Ve,setMode:oe,systemMode:Re}),[U,ye,ae,Ee,Ne,Ve,oe,Re]);let Ct=!0;(O||F.cssVariables===!1||V&&(N==null?void 0:N.cssVarPrefix)===D)&&(Ct=!1);const qt=f.jsxs(A.Fragment,{children:[f.jsx(xV,{themeId:T?t:void 0,theme:a?a(Be):Be,children:b}),Ct&&f.jsx(hV,{styles:((Ot=Be.generateStyleSheets)==null?void 0:Ot.call(Be))||[]})]});return V?qt:f.jsx(c.Provider,{value:Je,children:qt})}const h=typeof o=="string"?o:o.light,p=typeof o=="string"?o:o.dark;return{CssVarsProvider:d,useColorScheme:u,getInitColorSchemeScript:m=>cne({colorSchemeStorageKey:i,defaultLightColorScheme:h,defaultDarkColorScheme:p,modeStorageKey:r,...m})}}function pne(e=""){function t(...r){if(!r.length)return"";const i=r[0];return typeof i=="string"&&!i.match(/(#|\(|\)|(-?(\d*\.)?\d+)(px|em|%|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc))|^(-?(\d*\.)?\d+)$|(\d+ \d+ \d+)/)?`, var(--${e?`${e}-`:""}${i}${t(...r.slice(1))})`:`, ${i}`}return(r,...i)=>`var(--${e?`${e}-`:""}${r}${t(...i)})`}const oI=(e,t,n,r=[])=>{let i=e;t.forEach((s,o)=>{o===t.length-1?Array.isArray(i)?i[Number(s)]=n:i&&typeof i=="object"&&(i[s]=n):i&&typeof i=="object"&&(i[s]||(i[s]=r.includes(s)?[]:{}),i=i[s])})},gne=(e,t,n)=>{function r(i,s=[],o=[]){Object.entries(i).forEach(([a,l])=>{(!n||n&&!n([...s,a]))&&l!=null&&(typeof l=="object"&&Object.keys(l).length>0?r(l,[...s,a],Array.isArray(l)?[...o,a]:o):t([...s,a],l,o))})}r(e)},mne=(e,t)=>typeof t=="number"?["lineHeight","fontWeight","opacity","zIndex"].some(r=>e.includes(r))||e[e.length-1].toLowerCase().includes("opacity")?t:`${t}px`:t;function uA(e,t){const{prefix:n,shouldSkipGeneratingVar:r}=t||{},i={},s={},o={};return gne(e,(a,l,c)=>{if((typeof l=="string"||typeof l=="number")&&(!r||!r(a,l))){const u=`--${n?`${n}-`:""}${a.join("-")}`,d=mne(a,l);Object.assign(i,{[u]:d}),oI(s,a,`var(${u})`,c),oI(o,a,`var(${u}, ${d})`,c)}},a=>a[0]==="vars"),{css:i,vars:s,varsWithDefaults:o}}function yne(e,t={}){const{getSelector:n=b,disableCssColorScheme:r,colorSchemeSelector:i}=t,{colorSchemes:s={},components:o,defaultColorScheme:a="light",...l}=e,{vars:c,css:u,varsWithDefaults:d}=uA(l,t);let h=d;const p={},{[a]:g,...m}=s;if(Object.entries(m||{}).forEach(([_,x])=>{const{vars:S,css:E,varsWithDefaults:C}=uA(x,t);h=si(h,C),p[_]={css:E,vars:S}}),g){const{css:_,vars:x,varsWithDefaults:S}=uA(g,t);h=si(h,S),p[a]={css:_,vars:x}}function b(_,x){var E,C;let S=i;if(i==="class"&&(S=".%s"),i==="data"&&(S="[data-%s]"),i!=null&&i.startsWith("data-")&&!i.includes("%s")&&(S=`[${i}="%s"]`),_){if(S==="media")return e.defaultColorScheme===_?":root":{[`@media (prefers-color-scheme: ${((C=(E=s[_])==null?void 0:E.palette)==null?void 0:C.mode)||_})`]:{":root":x}};if(S)return e.defaultColorScheme===_?`:root, ${S.replace("%s",String(_))}`:S.replace("%s",String(_))}return":root"}return{vars:h,generateThemeVars:()=>{let _={...c};return Object.entries(p).forEach(([,{vars:x}])=>{_=si(_,x)}),_},generateStyleSheets:()=>{var k,O;const _=[],x=e.defaultColorScheme||"light";function S(w,M){Object.keys(M).length&&_.push(typeof w=="string"?{[w]:{...M}}:w)}S(n(void 0,{...u}),u);const{[x]:E,...C}=p;if(E){const{css:w}=E,M=(O=(k=s[x])==null?void 0:k.palette)==null?void 0:O.mode,N=!r&&M?{colorScheme:M,...w}:{...w};S(n(x,{...N}),N)}return Object.entries(C).forEach(([w,{css:M}])=>{var V,P;const N=(P=(V=s[w])==null?void 0:V.palette)==null?void 0:P.mode,R=!r&&N?{colorScheme:N,...M}:{...M};S(n(w,{...R}),R)}),_}}}function vne(e){return function(n){return e==="media"?`@media (prefers-color-scheme: ${n})`:e?e.startsWith("data-")&&!e.includes("%s")?`[${e}="${n}"] &`:e==="class"?`.${n} &`:e==="data"?`[data-${n}] &`:`${e.replace("%s",n)} &`:"&"}}const rh={black:"#000",white:"#fff"},Ane={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},wc={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},Ec={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},Vd={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},Cc={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},kc={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},Tc={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"};function EV(){return{text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:rh.white,default:rh.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}}}const bne=EV();function CV(){return{text:{primary:rh.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:rh.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}}}const aI=CV();function lI(e,t,n,r){const i=r.light||r,s=r.dark||r*1.5;e[t]||(e.hasOwnProperty(n)?e[t]=e[n]:t==="light"?e.light=cw(e.main,i):t==="dark"&&(e.dark=lw(e.main,s)))}function _ne(e="light"){return e==="dark"?{main:Cc[200],light:Cc[50],dark:Cc[400]}:{main:Cc[700],light:Cc[400],dark:Cc[800]}}function Sne(e="light"){return e==="dark"?{main:wc[200],light:wc[50],dark:wc[400]}:{main:wc[500],light:wc[300],dark:wc[700]}}function xne(e="light"){return e==="dark"?{main:Ec[500],light:Ec[300],dark:Ec[700]}:{main:Ec[700],light:Ec[400],dark:Ec[800]}}function wne(e="light"){return e==="dark"?{main:kc[400],light:kc[300],dark:kc[700]}:{main:kc[700],light:kc[500],dark:kc[900]}}function Ene(e="light"){return e==="dark"?{main:Tc[400],light:Tc[300],dark:Tc[700]}:{main:Tc[800],light:Tc[500],dark:Tc[900]}}function Cne(e="light"){return e==="dark"?{main:Vd[400],light:Vd[300],dark:Vd[700]}:{main:"#ed6c02",light:Vd[500],dark:Vd[900]}}function hw(e){const{mode:t="light",contrastThreshold:n=3,tonalOffset:r=.2,...i}=e,s=e.primary||_ne(t),o=e.secondary||Sne(t),a=e.error||xne(t),l=e.info||wne(t),c=e.success||Ene(t),u=e.warning||Cne(t);function d(m){return Jte(m,aI.text.primary)>=n?aI.text.primary:bne.text.primary}const h=({color:m,name:b,mainShade:y=500,lightShade:v=300,darkShade:_=700})=>{if(m={...m},!m.main&&m[y]&&(m.main=m[y]),!m.hasOwnProperty("main"))throw new Error(Jl(11,b?` (${b})`:"",y));if(typeof m.main!="string")throw new Error(Jl(12,b?` (${b})`:"",JSON.stringify(m.main)));return lI(m,"light",v,r),lI(m,"dark",_,r),m.contrastText||(m.contrastText=d(m.main)),m};let p;return t==="light"?p=EV():t==="dark"&&(p=CV()),si({common:{...rh},mode:t,primary:h({color:s,name:"primary"}),secondary:h({color:o,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:h({color:a,name:"error"}),warning:h({color:u,name:"warning"}),info:h({color:l,name:"info"}),success:h({color:c,name:"success"}),grey:Ane,contrastThreshold:n,getContrastText:d,augmentColor:h,tonalOffset:r,...p},i)}function kne(e){const t={};return Object.entries(e).forEach(r=>{const[i,s]=r;typeof s=="object"&&(t[i]=`${s.fontStyle?`${s.fontStyle} `:""}${s.fontVariant?`${s.fontVariant} `:""}${s.fontWeight?`${s.fontWeight} `:""}${s.fontStretch?`${s.fontStretch} `:""}${s.fontSize||""}${s.lineHeight?`/${s.lineHeight} `:""}${s.fontFamily||""}`)}),t}function Tne(e,t){return{toolbar:{minHeight:56,[e.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[e.up("sm")]:{minHeight:64}},...t}}function Ine(e){return Math.round(e*1e5)/1e5}const cI={textTransform:"uppercase"},uI='"Roboto", "Helvetica", "Arial", sans-serif';function kV(e,t){const{fontFamily:n=uI,fontSize:r=14,fontWeightLight:i=300,fontWeightRegular:s=400,fontWeightMedium:o=500,fontWeightBold:a=700,htmlFontSize:l=16,allVariants:c,pxToRem:u,...d}=typeof t=="function"?t(e):t,h=r/14,p=u||(b=>`${b/l*h}rem`),g=(b,y,v,_,x)=>({fontFamily:n,fontWeight:b,fontSize:p(y),lineHeight:v,...n===uI?{letterSpacing:`${Ine(_/y)}em`}:{},...x,...c}),m={h1:g(i,96,1.167,-1.5),h2:g(i,60,1.2,-.5),h3:g(s,48,1.167,0),h4:g(s,34,1.235,.25),h5:g(s,24,1.334,0),h6:g(o,20,1.6,.15),subtitle1:g(s,16,1.75,.15),subtitle2:g(o,14,1.57,.1),body1:g(s,16,1.5,.15),body2:g(s,14,1.43,.15),button:g(o,14,1.75,.4,cI),caption:g(s,12,1.66,.4),overline:g(s,12,2.66,1,cI),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return si({htmlFontSize:l,pxToRem:p,fontFamily:n,fontSize:r,fontWeightLight:i,fontWeightRegular:s,fontWeightMedium:o,fontWeightBold:a,...m},d,{clone:!1})}const Pne=.2,Rne=.14,Mne=.12;function tn(...e){return[`${e[0]}px ${e[1]}px ${e[2]}px ${e[3]}px rgba(0,0,0,${Pne})`,`${e[4]}px ${e[5]}px ${e[6]}px ${e[7]}px rgba(0,0,0,${Rne})`,`${e[8]}px ${e[9]}px ${e[10]}px ${e[11]}px rgba(0,0,0,${Mne})`].join(",")}const jne=["none",tn(0,2,1,-1,0,1,1,0,0,1,3,0),tn(0,3,1,-2,0,2,2,0,0,1,5,0),tn(0,3,3,-2,0,3,4,0,0,1,8,0),tn(0,2,4,-1,0,4,5,0,0,1,10,0),tn(0,3,5,-1,0,5,8,0,0,1,14,0),tn(0,3,5,-1,0,6,10,0,0,1,18,0),tn(0,4,5,-2,0,7,10,1,0,2,16,1),tn(0,5,5,-3,0,8,10,1,0,3,14,2),tn(0,5,6,-3,0,9,12,1,0,3,16,2),tn(0,6,6,-3,0,10,14,1,0,4,18,3),tn(0,6,7,-4,0,11,15,1,0,4,20,3),tn(0,7,8,-4,0,12,17,2,0,5,22,4),tn(0,7,8,-4,0,13,19,2,0,5,24,4),tn(0,7,9,-4,0,14,21,2,0,5,26,4),tn(0,8,9,-5,0,15,22,2,0,6,28,5),tn(0,8,10,-5,0,16,24,2,0,6,30,5),tn(0,8,11,-5,0,17,26,2,0,6,32,5),tn(0,9,11,-5,0,18,28,2,0,7,34,6),tn(0,9,12,-6,0,19,29,2,0,7,36,6),tn(0,10,13,-6,0,20,31,3,0,8,38,7),tn(0,10,13,-6,0,21,33,3,0,8,40,7),tn(0,10,14,-6,0,22,35,3,0,8,42,7),tn(0,11,14,-7,0,23,36,3,0,9,44,8),tn(0,11,15,-7,0,24,38,3,0,9,46,8)],One={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},Vne={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function dI(e){return`${Math.round(e)}ms`}function Lne(e){if(!e)return 0;const t=e/36;return Math.min(Math.round((4+15*t**.25+t/5)*10),3e3)}function Nne(e){const t={...One,...e.easing},n={...Vne,...e.duration};return{getAutoHeightDuration:Lne,create:(i=["all"],s={})=>{const{duration:o=n.standard,easing:a=t.easeInOut,delay:l=0,...c}=s;return(Array.isArray(i)?i:[i]).map(u=>`${u} ${typeof o=="string"?o:dI(o)} ${a} ${typeof l=="string"?l:dI(l)}`).join(",")},...e,easing:t,duration:n}}const Bne={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500};function Dne(e){return to(e)||typeof e>"u"||typeof e=="string"||typeof e=="boolean"||typeof e=="number"||Array.isArray(e)}function TV(e={}){const t={...e};function n(r){const i=Object.entries(r);for(let s=0;s<i.length;s++){const[o,a]=i[s];!Dne(a)||o.startsWith("unstable_")?delete r[o]:to(a)&&(r[o]={...a},n(r[o]))}}return n(t),`import { unstable_createBreakpoints as createBreakpoints, createTransitions } from '@mui/material/styles';

const theme = ${JSON.stringify(t,null,2)};

theme.breakpoints = createBreakpoints(theme.breakpoints || {});
theme.transitions = createTransitions(theme.transitions || {});

export default theme;`}function qb(e={},...t){const{breakpoints:n,mixins:r={},spacing:i,palette:s={},transitions:o={},typography:a={},shape:l,...c}=e;if(e.vars)throw new Error(Jl(20));const u=hw(s),d=ow(e);let h=si(d,{mixins:Tne(d.breakpoints,r),palette:u,shadows:jne.slice(),typography:kV(u,a),transitions:Nne(o),zIndex:{...Bne}});return h=si(h,c),h=t.reduce((p,g)=>si(p,g),h),h.unstable_sxConfig={...Kh,...c==null?void 0:c.unstable_sxConfig},h.unstable_sx=function(g){return Zl({sx:g,theme:this})},h.toRuntimeSource=TV,h}function Wb(e){let t;return e<1?t=5.11916*e**2:t=4.5*Math.log(e+1)+2,Math.round(t*10)/1e3}const $ne=[...Array(25)].map((e,t)=>{if(t===0)return"none";const n=Wb(t);return`linear-gradient(rgba(255 255 255 / ${n}), rgba(255 255 255 / ${n}))`});function IV(e){return{inputPlaceholder:e==="dark"?.5:.42,inputUnderline:e==="dark"?.7:.42,switchTrackDisabled:e==="dark"?.2:.12,switchTrack:e==="dark"?.3:.38}}function PV(e){return e==="dark"?$ne:[]}function Fne(e){const{palette:t={mode:"light"},opacity:n,overlays:r,...i}=e,s=hw(t);return{palette:s,opacity:{...IV(s.mode),...n},overlays:r||PV(s.mode),...i}}function zne(e){var t;return!!e[0].match(/(cssVarPrefix|colorSchemeSelector|rootSelector|typography|mixins|breakpoints|direction|transitions)/)||!!e[0].match(/sxConfig$/)||e[0]==="palette"&&!!((t=e[1])!=null&&t.match(/(mode|contrastThreshold|tonalOffset)/))}const Une=e=>[...[...Array(25)].map((t,n)=>`--${e?`${e}-`:""}overlays-${n}`),`--${e?`${e}-`:""}palette-AppBar-darkBg`,`--${e?`${e}-`:""}palette-AppBar-darkColor`],Hne=e=>(t,n)=>{const r=e.rootSelector||":root",i=e.colorSchemeSelector;let s=i;if(i==="class"&&(s=".%s"),i==="data"&&(s="[data-%s]"),i!=null&&i.startsWith("data-")&&!i.includes("%s")&&(s=`[${i}="%s"]`),e.defaultColorScheme===t){if(t==="dark"){const o={};return Une(e.cssVarPrefix).forEach(a=>{o[a]=n[a],delete n[a]}),s==="media"?{[r]:n,"@media (prefers-color-scheme: dark)":{[r]:o}}:s?{[s.replace("%s",t)]:o,[`${r}, ${s.replace("%s",t)}`]:n}:{[r]:{...n,...o}}}if(s&&s!=="media")return`${r}, ${s.replace("%s",String(t))}`}else if(t){if(s==="media")return{[`@media (prefers-color-scheme: ${String(t)})`]:{[r]:n}};if(s)return s.replace("%s",String(t))}return r};function Gne(e,t){t.forEach(n=>{e[n]||(e[n]={})})}function ee(e,t,n){!e[t]&&n&&(e[t]=n)}function nf(e){return!e||!e.startsWith("hsl")?e:AV(e)}function mo(e,t){`${t}Channel`in e||(e[`${t}Channel`]=tf(nf(e[t]),`MUI: Can't create \`palette.${t}Channel\` because \`palette.${t}\` is not one of these formats: #nnn, #nnnnnn, rgb(), rgba(), hsl(), hsla(), color().
To suppress this warning, you need to explicitly provide the \`palette.${t}Channel\` as a string (in rgb format, for example "12 12 12") or undefined if you want to remove the channel token.`))}function qne(e){return typeof e=="number"?`${e}px`:typeof e=="string"||typeof e=="function"||Array.isArray(e)?e:"8px"}const qs=e=>{try{return e()}catch{}},Wne=(e="mui")=>pne(e);function dA(e,t,n,r){if(!t)return;t=t===!0?{}:t;const i=r==="dark"?"dark":"light";if(!n){e[r]=Fne({...t,palette:{mode:i,...t==null?void 0:t.palette}});return}const{palette:s,...o}=qb({...n,palette:{mode:i,...t==null?void 0:t.palette}});return e[r]={...t,palette:s,opacity:{...IV(i),...t==null?void 0:t.opacity},overlays:(t==null?void 0:t.overlays)||PV(i)},o}function Kne(e={},...t){const{colorSchemes:n={light:!0},defaultColorScheme:r,disableCssColorScheme:i=!1,cssVarPrefix:s="mui",shouldSkipGeneratingVar:o=zne,colorSchemeSelector:a=n.light&&n.dark?"media":void 0,rootSelector:l=":root",...c}=e,u=Object.keys(n)[0],d=r||(n.light&&u!=="light"?"light":u),h=Wne(s),{[d]:p,light:g,dark:m,...b}=n,y={...b};let v=p;if((d==="dark"&&!("dark"in n)||d==="light"&&!("light"in n))&&(v=!0),!v)throw new Error(Jl(21,d));const _=dA(y,v,c,d);g&&!y.light&&dA(y,g,void 0,"light"),m&&!y.dark&&dA(y,m,void 0,"dark");let x={defaultColorScheme:d,..._,cssVarPrefix:s,colorSchemeSelector:a,rootSelector:l,getCssVar:h,colorSchemes:y,font:{...kne(_.typography),..._.font},spacing:qne(c.spacing)};Object.keys(x.colorSchemes).forEach(O=>{const w=x.colorSchemes[O].palette,M=N=>{const R=N.split("-"),V=R[1],P=R[2];return h(N,w[V][P])};if(w.mode==="light"&&(ee(w.common,"background","#fff"),ee(w.common,"onBackground","#000")),w.mode==="dark"&&(ee(w.common,"background","#000"),ee(w.common,"onBackground","#fff")),Gne(w,["Alert","AppBar","Avatar","Button","Chip","FilledInput","LinearProgress","Skeleton","Slider","SnackbarContent","SpeedDialAction","StepConnector","StepContent","Switch","TableCell","Tooltip"]),w.mode==="light"){ee(w.Alert,"errorColor",Lt(w.error.light,.6)),ee(w.Alert,"infoColor",Lt(w.info.light,.6)),ee(w.Alert,"successColor",Lt(w.success.light,.6)),ee(w.Alert,"warningColor",Lt(w.warning.light,.6)),ee(w.Alert,"errorFilledBg",M("palette-error-main")),ee(w.Alert,"infoFilledBg",M("palette-info-main")),ee(w.Alert,"successFilledBg",M("palette-success-main")),ee(w.Alert,"warningFilledBg",M("palette-warning-main")),ee(w.Alert,"errorFilledColor",qs(()=>w.getContrastText(w.error.main))),ee(w.Alert,"infoFilledColor",qs(()=>w.getContrastText(w.info.main))),ee(w.Alert,"successFilledColor",qs(()=>w.getContrastText(w.success.main))),ee(w.Alert,"warningFilledColor",qs(()=>w.getContrastText(w.warning.main))),ee(w.Alert,"errorStandardBg",Nt(w.error.light,.9)),ee(w.Alert,"infoStandardBg",Nt(w.info.light,.9)),ee(w.Alert,"successStandardBg",Nt(w.success.light,.9)),ee(w.Alert,"warningStandardBg",Nt(w.warning.light,.9)),ee(w.Alert,"errorIconColor",M("palette-error-main")),ee(w.Alert,"infoIconColor",M("palette-info-main")),ee(w.Alert,"successIconColor",M("palette-success-main")),ee(w.Alert,"warningIconColor",M("palette-warning-main")),ee(w.AppBar,"defaultBg",M("palette-grey-100")),ee(w.Avatar,"defaultBg",M("palette-grey-400")),ee(w.Button,"inheritContainedBg",M("palette-grey-300")),ee(w.Button,"inheritContainedHoverBg",M("palette-grey-A100")),ee(w.Chip,"defaultBorder",M("palette-grey-400")),ee(w.Chip,"defaultAvatarColor",M("palette-grey-700")),ee(w.Chip,"defaultIconColor",M("palette-grey-700")),ee(w.FilledInput,"bg","rgba(0, 0, 0, 0.06)"),ee(w.FilledInput,"hoverBg","rgba(0, 0, 0, 0.09)"),ee(w.FilledInput,"disabledBg","rgba(0, 0, 0, 0.12)"),ee(w.LinearProgress,"primaryBg",Nt(w.primary.main,.62)),ee(w.LinearProgress,"secondaryBg",Nt(w.secondary.main,.62)),ee(w.LinearProgress,"errorBg",Nt(w.error.main,.62)),ee(w.LinearProgress,"infoBg",Nt(w.info.main,.62)),ee(w.LinearProgress,"successBg",Nt(w.success.main,.62)),ee(w.LinearProgress,"warningBg",Nt(w.warning.main,.62)),ee(w.Skeleton,"bg",`rgba(${M("palette-text-primaryChannel")} / 0.11)`),ee(w.Slider,"primaryTrack",Nt(w.primary.main,.62)),ee(w.Slider,"secondaryTrack",Nt(w.secondary.main,.62)),ee(w.Slider,"errorTrack",Nt(w.error.main,.62)),ee(w.Slider,"infoTrack",Nt(w.info.main,.62)),ee(w.Slider,"successTrack",Nt(w.success.main,.62)),ee(w.Slider,"warningTrack",Nt(w.warning.main,.62));const N=Hp(w.background.default,.8);ee(w.SnackbarContent,"bg",N),ee(w.SnackbarContent,"color",qs(()=>w.getContrastText(N))),ee(w.SpeedDialAction,"fabHoverBg",Hp(w.background.paper,.15)),ee(w.StepConnector,"border",M("palette-grey-400")),ee(w.StepContent,"border",M("palette-grey-400")),ee(w.Switch,"defaultColor",M("palette-common-white")),ee(w.Switch,"defaultDisabledColor",M("palette-grey-100")),ee(w.Switch,"primaryDisabledColor",Nt(w.primary.main,.62)),ee(w.Switch,"secondaryDisabledColor",Nt(w.secondary.main,.62)),ee(w.Switch,"errorDisabledColor",Nt(w.error.main,.62)),ee(w.Switch,"infoDisabledColor",Nt(w.info.main,.62)),ee(w.Switch,"successDisabledColor",Nt(w.success.main,.62)),ee(w.Switch,"warningDisabledColor",Nt(w.warning.main,.62)),ee(w.TableCell,"border",Nt(Up(w.divider,1),.88)),ee(w.Tooltip,"bg",Up(w.grey[700],.92))}if(w.mode==="dark"){ee(w.Alert,"errorColor",Nt(w.error.light,.6)),ee(w.Alert,"infoColor",Nt(w.info.light,.6)),ee(w.Alert,"successColor",Nt(w.success.light,.6)),ee(w.Alert,"warningColor",Nt(w.warning.light,.6)),ee(w.Alert,"errorFilledBg",M("palette-error-dark")),ee(w.Alert,"infoFilledBg",M("palette-info-dark")),ee(w.Alert,"successFilledBg",M("palette-success-dark")),ee(w.Alert,"warningFilledBg",M("palette-warning-dark")),ee(w.Alert,"errorFilledColor",qs(()=>w.getContrastText(w.error.dark))),ee(w.Alert,"infoFilledColor",qs(()=>w.getContrastText(w.info.dark))),ee(w.Alert,"successFilledColor",qs(()=>w.getContrastText(w.success.dark))),ee(w.Alert,"warningFilledColor",qs(()=>w.getContrastText(w.warning.dark))),ee(w.Alert,"errorStandardBg",Lt(w.error.light,.9)),ee(w.Alert,"infoStandardBg",Lt(w.info.light,.9)),ee(w.Alert,"successStandardBg",Lt(w.success.light,.9)),ee(w.Alert,"warningStandardBg",Lt(w.warning.light,.9)),ee(w.Alert,"errorIconColor",M("palette-error-main")),ee(w.Alert,"infoIconColor",M("palette-info-main")),ee(w.Alert,"successIconColor",M("palette-success-main")),ee(w.Alert,"warningIconColor",M("palette-warning-main")),ee(w.AppBar,"defaultBg",M("palette-grey-900")),ee(w.AppBar,"darkBg",M("palette-background-paper")),ee(w.AppBar,"darkColor",M("palette-text-primary")),ee(w.Avatar,"defaultBg",M("palette-grey-600")),ee(w.Button,"inheritContainedBg",M("palette-grey-800")),ee(w.Button,"inheritContainedHoverBg",M("palette-grey-700")),ee(w.Chip,"defaultBorder",M("palette-grey-700")),ee(w.Chip,"defaultAvatarColor",M("palette-grey-300")),ee(w.Chip,"defaultIconColor",M("palette-grey-300")),ee(w.FilledInput,"bg","rgba(255, 255, 255, 0.09)"),ee(w.FilledInput,"hoverBg","rgba(255, 255, 255, 0.13)"),ee(w.FilledInput,"disabledBg","rgba(255, 255, 255, 0.12)"),ee(w.LinearProgress,"primaryBg",Lt(w.primary.main,.5)),ee(w.LinearProgress,"secondaryBg",Lt(w.secondary.main,.5)),ee(w.LinearProgress,"errorBg",Lt(w.error.main,.5)),ee(w.LinearProgress,"infoBg",Lt(w.info.main,.5)),ee(w.LinearProgress,"successBg",Lt(w.success.main,.5)),ee(w.LinearProgress,"warningBg",Lt(w.warning.main,.5)),ee(w.Skeleton,"bg",`rgba(${M("palette-text-primaryChannel")} / 0.13)`),ee(w.Slider,"primaryTrack",Lt(w.primary.main,.5)),ee(w.Slider,"secondaryTrack",Lt(w.secondary.main,.5)),ee(w.Slider,"errorTrack",Lt(w.error.main,.5)),ee(w.Slider,"infoTrack",Lt(w.info.main,.5)),ee(w.Slider,"successTrack",Lt(w.success.main,.5)),ee(w.Slider,"warningTrack",Lt(w.warning.main,.5));const N=Hp(w.background.default,.98);ee(w.SnackbarContent,"bg",N),ee(w.SnackbarContent,"color",qs(()=>w.getContrastText(N))),ee(w.SpeedDialAction,"fabHoverBg",Hp(w.background.paper,.15)),ee(w.StepConnector,"border",M("palette-grey-600")),ee(w.StepContent,"border",M("palette-grey-600")),ee(w.Switch,"defaultColor",M("palette-grey-300")),ee(w.Switch,"defaultDisabledColor",M("palette-grey-600")),ee(w.Switch,"primaryDisabledColor",Lt(w.primary.main,.55)),ee(w.Switch,"secondaryDisabledColor",Lt(w.secondary.main,.55)),ee(w.Switch,"errorDisabledColor",Lt(w.error.main,.55)),ee(w.Switch,"infoDisabledColor",Lt(w.info.main,.55)),ee(w.Switch,"successDisabledColor",Lt(w.success.main,.55)),ee(w.Switch,"warningDisabledColor",Lt(w.warning.main,.55)),ee(w.TableCell,"border",Lt(Up(w.divider,1),.68)),ee(w.Tooltip,"bg",Up(w.grey[700],.92))}mo(w.background,"default"),mo(w.background,"paper"),mo(w.common,"background"),mo(w.common,"onBackground"),mo(w,"divider"),Object.keys(w).forEach(N=>{const R=w[N];R&&typeof R=="object"&&(R.main&&ee(w[N],"mainChannel",tf(nf(R.main))),R.light&&ee(w[N],"lightChannel",tf(nf(R.light))),R.dark&&ee(w[N],"darkChannel",tf(nf(R.dark))),R.contrastText&&ee(w[N],"contrastTextChannel",tf(nf(R.contrastText))),N==="text"&&(mo(w[N],"primary"),mo(w[N],"secondary")),N==="action"&&(R.active&&mo(w[N],"active"),R.selected&&mo(w[N],"selected")))})}),x=t.reduce((O,w)=>si(O,w),x);const S={prefix:s,disableCssColorScheme:i,shouldSkipGeneratingVar:o,getSelector:Hne(x)},{vars:E,generateThemeVars:C,generateStyleSheets:k}=yne(x,S);return x.vars=E,Object.entries(x.colorSchemes[x.defaultColorScheme]).forEach(([O,w])=>{x[O]=w}),x.generateThemeVars=C,x.generateStyleSheets=k,x.generateSpacing=function(){return pV(c.spacing,iw(this))},x.getColorSchemeSelector=vne(a),x.spacing=x.generateSpacing(),x.shouldSkipGeneratingVar=o,x.unstable_sxConfig={...Kh,...c==null?void 0:c.unstable_sxConfig},x.unstable_sx=function(w){return Zl({sx:w,theme:this})},x.toRuntimeSource=TV,x}function fI(e,t,n){e.colorSchemes&&n&&(e.colorSchemes[t]={...n!==!0&&n,palette:hw({...n===!0?{}:n.palette,mode:t})})}function pw(e={},...t){const{palette:n,cssVariables:r=!1,colorSchemes:i=n?void 0:{light:!0},defaultColorScheme:s=n==null?void 0:n.mode,...o}=e,a=s||"light",l=i==null?void 0:i[a],c={...i,...n?{[a]:{...typeof l!="boolean"&&l,palette:n}}:void 0};if(r===!1){if(!("colorSchemes"in e))return qb(e,...t);let u=n;"palette"in e||c[a]&&(c[a]!==!0?u=c[a].palette:a==="dark"&&(u={mode:"dark"}));const d=qb({...e,palette:u},...t);return d.defaultColorScheme=a,d.colorSchemes=c,d.palette.mode==="light"&&(d.colorSchemes.light={...c.light!==!0&&c.light,palette:d.palette},fI(d,"dark",c.dark)),d.palette.mode==="dark"&&(d.colorSchemes.dark={...c.dark!==!0&&c.dark,palette:d.palette},fI(d,"light",c.light)),d}return!n&&!("light"in c)&&a==="light"&&(c.light=!0),Kne({...o,colorSchemes:c,defaultColorScheme:a,...typeof r!="boolean"&&r},...t)}const gw=pw(),Vo="$$material";function mw(){const e=mV(gw);return e[Vo]||e}function Yne(e){return f.jsx($te,{...e,defaultTheme:gw,themeId:Vo})}function Qne(e){return e!=="ownerState"&&e!=="theme"&&e!=="sx"&&e!=="as"}const yw=e=>Qne(e)&&e!=="classes",Zt=Hte({themeId:Vo,defaultTheme:gw,rootShouldForwardProp:yw});function lbe(e){return function(n){return f.jsx(Yne,{styles:typeof e=="function"?r=>e({theme:r,...n}):e})}}function Jne(){return Ite}const cs=ane;function jr(e){return one(e)}function Xne(e){return Rr("MuiSvgIcon",e)}Mr("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const Zne=e=>{const{color:t,fontSize:n,classes:r}=e,i={root:["root",t!=="inherit"&&`color${lt(t)}`,`fontSize${lt(n)}`]};return Wr(i,Xne,r)},ere=Zt("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.color!=="inherit"&&t[`color${lt(n.color)}`],t[`fontSize${lt(n.fontSize)}`]]}})(cs(({theme:e})=>{var t,n,r,i,s,o,a,l,c,u,d,h,p,g;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",flexShrink:0,transition:(i=(t=e.transitions)==null?void 0:t.create)==null?void 0:i.call(t,"fill",{duration:(r=(n=(e.vars??e).transitions)==null?void 0:n.duration)==null?void 0:r.shorter}),variants:[{props:m=>!m.hasSvgAsChild,style:{fill:"currentColor"}},{props:{fontSize:"inherit"},style:{fontSize:"inherit"}},{props:{fontSize:"small"},style:{fontSize:((o=(s=e.typography)==null?void 0:s.pxToRem)==null?void 0:o.call(s,20))||"1.25rem"}},{props:{fontSize:"medium"},style:{fontSize:((l=(a=e.typography)==null?void 0:a.pxToRem)==null?void 0:l.call(a,24))||"1.5rem"}},{props:{fontSize:"large"},style:{fontSize:((u=(c=e.typography)==null?void 0:c.pxToRem)==null?void 0:u.call(c,35))||"2.1875rem"}},...Object.entries((e.vars??e).palette).filter(([,m])=>m&&m.main).map(([m])=>{var b,y;return{props:{color:m},style:{color:(y=(b=(e.vars??e).palette)==null?void 0:b[m])==null?void 0:y.main}}}),{props:{color:"action"},style:{color:(h=(d=(e.vars??e).palette)==null?void 0:d.action)==null?void 0:h.active}},{props:{color:"disabled"},style:{color:(g=(p=(e.vars??e).palette)==null?void 0:p.action)==null?void 0:g.disabled}},{props:{color:"inherit"},style:{color:void 0}}]}})),Qm=A.forwardRef(function(t,n){const r=jr({props:t,name:"MuiSvgIcon"}),{children:i,className:s,color:o="inherit",component:a="svg",fontSize:l="medium",htmlColor:c,inheritViewBox:u=!1,titleAccess:d,viewBox:h="0 0 24 24",...p}=r,g=A.isValidElement(i)&&i.type==="svg",m={...r,color:o,component:a,fontSize:l,instanceFontSize:t.fontSize,inheritViewBox:u,viewBox:h,hasSvgAsChild:g},b={};u||(b.viewBox=h);const y=Zne(m);return f.jsxs(ere,{as:a,className:xt(y.root,s),focusable:"false",color:c,"aria-hidden":d?void 0:!0,role:d?"img":void 0,ref:n,...b,...p,...g&&i.props,ownerState:m,children:[g?i.props.children:i,d?f.jsx("title",{children:d}):null]})});Qm&&(Qm.muiName="SvgIcon");function pt(e,t){function n(r,i){return f.jsx(Qm,{"data-testid":`${t}Icon`,ref:i,...r,children:e})}return n.muiName=Qm.muiName,A.memo(A.forwardRef(n))}const tre=pt(f.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m1 17h-2v-2h2zm2.07-7.75-.9.92C13.45 12.9 13 13.5 13 15h-2v-.5c0-1.1.45-2.1 1.17-2.83l1.24-1.26c.37-.36.59-.86.59-1.41 0-1.1-.9-2-2-2s-2 .9-2 2H8c0-2.21 1.79-4 4-4s4 1.79 4 4c0 .88-.36 1.68-.93 2.25"}),"Help"),nre=pt(f.jsx("path",{d:"M11 18h2v-2h-2zm1-16C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m0-14c-2.21 0-4 1.79-4 4h2c0-1.1.9-2 2-2s2 .9 2 2c0 2-3 1.75-3 5h2c0-2.25 3-2.5 3-5 0-2.21-1.79-4-4-4"}),"HelpOutline"),Jm=pt(f.jsx("path",{d:"M15 21h-2v-2h2zm-2-7h-2v5h2zm8-2h-2v4h2zm-2-2h-2v2h2zM7 12H5v2h2zm-2-2H3v2h2zm7-5h2V3h-2zm-7.5-.5v3h3v-3zM9 9H3V3h6zm-4.5 7.5v3h3v-3zM9 21H3v-6h6zm7.5-16.5v3h3v-3zM21 9h-6V3h6zm-2 10v-3h-4v2h2v3h4v-2zm-2-7h-4v2h4zm-4-2H7v2h2v2h2v-2h2zm1-1V7h-2V5h-2v4zM6.75 5.25h-1.5v1.5h1.5zm0 12h-1.5v1.5h1.5zm12-12h-1.5v1.5h1.5z"}),"QrCode2");function rre(e){return typeof e.main=="string"}function ire(e,t=[]){if(!rre(e))return!1;for(const n of t)if(!e.hasOwnProperty(n)||typeof e[n]!="string")return!1;return!0}function ih(e=[]){return([,t])=>t&&ire(t,e)}class Xm{constructor(){ve(this,"mountEffect",()=>{this.shouldMount&&!this.didMount&&this.ref.current!==null&&(this.didMount=!0,this.mounted.resolve())});this.ref={current:null},this.mounted=null,this.didMount=!1,this.shouldMount=!1,this.setShouldMount=null}static create(){return new Xm}static use(){const t=lV(Xm.create).current,[n,r]=A.useState(!1);return t.shouldMount=n,t.setShouldMount=r,A.useEffect(t.mountEffect,[n]),t}mount(){return this.mounted||(this.mounted=ore(),this.shouldMount=!0,this.setShouldMount(this.shouldMount)),this.mounted}start(...t){this.mount().then(()=>{var n;return(n=this.ref.current)==null?void 0:n.start(...t)})}stop(...t){this.mount().then(()=>{var n;return(n=this.ref.current)==null?void 0:n.stop(...t)})}pulsate(...t){this.mount().then(()=>{var n;return(n=this.ref.current)==null?void 0:n.pulsate(...t)})}}function sre(){return Xm.use()}function ore(){let e,t;const n=new Promise((r,i)=>{e=r,t=i});return n.resolve=e,n.reject=t,n}function RV(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}function Kb(e,t){return Kb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},Kb(e,t)}function MV(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,Kb(e,t)}var jV={exports:{}},Vi={},OV={exports:{}},VV={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(B,D){var F=B.length;B.push(D);e:for(;0<F;){var G=F-1>>>1,U=B[G];if(0<i(U,D))B[G]=D,B[F]=U,F=G;else break e}}function n(B){return B.length===0?null:B[0]}function r(B){if(B.length===0)return null;var D=B[0],F=B.pop();if(F!==D){B[0]=F;e:for(var G=0,U=B.length,ne=U>>>1;G<ne;){var $=2*(G+1)-1,fe=B[$],Z=$+1,oe=B[Z];if(0>i(fe,F))Z<U&&0>i(oe,fe)?(B[G]=oe,B[Z]=F,G=Z):(B[G]=fe,B[$]=F,G=$);else if(Z<U&&0>i(oe,F))B[G]=oe,B[Z]=F,G=Z;else break e}}return D}function i(B,D){var F=B.sortIndex-D.sortIndex;return F!==0?F:B.id-D.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();e.unstable_now=function(){return o.now()-a}}var l=[],c=[],u=1,d=null,h=3,p=!1,g=!1,m=!1,b=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(B){for(var D=n(c);D!==null;){if(D.callback===null)r(c);else if(D.startTime<=B)r(c),D.sortIndex=D.expirationTime,t(l,D);else break;D=n(c)}}function x(B){if(m=!1,_(B),!g)if(n(l)!==null)g=!0,T(S);else{var D=n(c);D!==null&&z(x,D.startTime-B)}}function S(B,D){g=!1,m&&(m=!1,y(k),k=-1),p=!0;var F=h;try{for(_(D),d=n(l);d!==null&&(!(d.expirationTime>D)||B&&!M());){var G=d.callback;if(typeof G=="function"){d.callback=null,h=d.priorityLevel;var U=G(d.expirationTime<=D);D=e.unstable_now(),typeof U=="function"?d.callback=U:d===n(l)&&r(l),_(D)}else r(l);d=n(l)}if(d!==null)var ne=!0;else{var $=n(c);$!==null&&z(x,$.startTime-D),ne=!1}return ne}finally{d=null,h=F,p=!1}}var E=!1,C=null,k=-1,O=5,w=-1;function M(){return!(e.unstable_now()-w<O)}function N(){if(C!==null){var B=e.unstable_now();w=B;var D=!0;try{D=C(!0,B)}finally{D?R():(E=!1,C=null)}}else E=!1}var R;if(typeof v=="function")R=function(){v(N)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,P=V.port2;V.port1.onmessage=N,R=function(){P.postMessage(null)}}else R=function(){b(N,0)};function T(B){C=B,E||(E=!0,R())}function z(B,D){k=b(function(){B(e.unstable_now())},D)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(B){B.callback=null},e.unstable_continueExecution=function(){g||p||(g=!0,T(S))},e.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<B?Math.floor(1e3/B):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(B){switch(h){case 1:case 2:case 3:var D=3;break;default:D=h}var F=h;h=D;try{return B()}finally{h=F}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(B,D){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var F=h;h=B;try{return D()}finally{h=F}},e.unstable_scheduleCallback=function(B,D,F){var G=e.unstable_now();switch(typeof F=="object"&&F!==null?(F=F.delay,F=typeof F=="number"&&0<F?G+F:G):F=G,B){case 1:var U=-1;break;case 2:U=250;break;case 5:U=1073741823;break;case 4:U=1e4;break;default:U=5e3}return U=F+U,B={id:u++,callback:D,priorityLevel:B,startTime:F,expirationTime:U,sortIndex:-1},F>G?(B.sortIndex=F,t(c,B),n(l)===null&&B===n(c)&&(m?(y(k),k=-1):m=!0,z(x,F-G))):(B.sortIndex=U,t(l,B),g||p||(g=!0,T(S))),B},e.unstable_shouldYield=M,e.unstable_wrapCallback=function(B){var D=h;return function(){var F=h;h=D;try{return B.apply(this,arguments)}finally{h=F}}}})(VV);OV.exports=VV;var are=OV.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var LV=A,Mi=are;function ce(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var NV=new Set,sh={};function mc(e,t){Fu(e,t),Fu(e+"Capture",t)}function Fu(e,t){for(sh[e]=t,e=0;e<t.length;e++)NV.add(t[e])}var Uo=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Yb=Object.prototype.hasOwnProperty,lre=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,hI={},pI={};function cre(e){return Yb.call(pI,e)?!0:Yb.call(hI,e)?!1:lre.test(e)?pI[e]=!0:(hI[e]=!0,!1)}function ure(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function dre(e,t,n,r){if(t===null||typeof t>"u"||ure(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Kr(e,t,n,r,i,s,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=o}var vr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){vr[e]=new Kr(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];vr[t]=new Kr(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){vr[e]=new Kr(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){vr[e]=new Kr(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){vr[e]=new Kr(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){vr[e]=new Kr(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){vr[e]=new Kr(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){vr[e]=new Kr(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){vr[e]=new Kr(e,5,!1,e.toLowerCase(),null,!1,!1)});var vw=/[\-:]([a-z])/g;function Aw(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(vw,Aw);vr[t]=new Kr(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(vw,Aw);vr[t]=new Kr(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(vw,Aw);vr[t]=new Kr(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){vr[e]=new Kr(e,1,!1,e.toLowerCase(),null,!1,!1)});vr.xlinkHref=new Kr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){vr[e]=new Kr(e,1,!1,e.toLowerCase(),null,!0,!0)});function bw(e,t,n,r){var i=vr.hasOwnProperty(t)?vr[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(dre(t,n,i,r)&&(n=null),r||i===null?cre(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Yo=LV.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Gp=Symbol.for("react.element"),qc=Symbol.for("react.portal"),Wc=Symbol.for("react.fragment"),_w=Symbol.for("react.strict_mode"),Qb=Symbol.for("react.profiler"),BV=Symbol.for("react.provider"),DV=Symbol.for("react.context"),Sw=Symbol.for("react.forward_ref"),Jb=Symbol.for("react.suspense"),Xb=Symbol.for("react.suspense_list"),xw=Symbol.for("react.memo"),ca=Symbol.for("react.lazy"),$V=Symbol.for("react.offscreen"),gI=Symbol.iterator;function Ld(e){return e===null||typeof e!="object"?null:(e=gI&&e[gI]||e["@@iterator"],typeof e=="function"?e:null)}var mn=Object.assign,fA;function rf(e){if(fA===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);fA=t&&t[1]||""}return`
`+fA+e}var hA=!1;function pA(e,t){if(!e||hA)return"";hA=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=o&&0<=a);break}}}finally{hA=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?rf(e):""}function fre(e){switch(e.tag){case 5:return rf(e.type);case 16:return rf("Lazy");case 13:return rf("Suspense");case 19:return rf("SuspenseList");case 0:case 2:case 15:return e=pA(e.type,!1),e;case 11:return e=pA(e.type.render,!1),e;case 1:return e=pA(e.type,!0),e;default:return""}}function Zb(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Wc:return"Fragment";case qc:return"Portal";case Qb:return"Profiler";case _w:return"StrictMode";case Jb:return"Suspense";case Xb:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case DV:return(e.displayName||"Context")+".Consumer";case BV:return(e._context.displayName||"Context")+".Provider";case Sw:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case xw:return t=e.displayName||null,t!==null?t:Zb(e.type)||"Memo";case ca:t=e._payload,e=e._init;try{return Zb(e(t))}catch{}}return null}function hre(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Zb(t);case 8:return t===_w?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Da(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function FV(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function pre(e){var t=FV(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function qp(e){e._valueTracker||(e._valueTracker=pre(e))}function zV(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=FV(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Zm(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function e_(e,t){var n=t.checked;return mn({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function mI(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Da(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function UV(e,t){t=t.checked,t!=null&&bw(e,"checked",t,!1)}function t_(e,t){UV(e,t);var n=Da(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?n_(e,t.type,n):t.hasOwnProperty("defaultValue")&&n_(e,t.type,Da(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function yI(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function n_(e,t,n){(t!=="number"||Zm(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var sf=Array.isArray;function yu(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Da(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function r_(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(ce(91));return mn({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function vI(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(ce(92));if(sf(n)){if(1<n.length)throw Error(ce(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Da(n)}}function HV(e,t){var n=Da(t.value),r=Da(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function AI(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function GV(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function i_(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?GV(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Wp,qV=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Wp=Wp||document.createElement("div"),Wp.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Wp.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function oh(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var If={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},gre=["Webkit","ms","Moz","O"];Object.keys(If).forEach(function(e){gre.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),If[t]=If[e]})});function WV(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||If.hasOwnProperty(e)&&If[e]?(""+t).trim():t+"px"}function KV(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=WV(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var mre=mn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function s_(e,t){if(t){if(mre[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(ce(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(ce(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(ce(61))}if(t.style!=null&&typeof t.style!="object")throw Error(ce(62))}}function o_(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var a_=null;function ww(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var l_=null,vu=null,Au=null;function bI(e){if(e=Jh(e)){if(typeof l_!="function")throw Error(ce(280));var t=e.stateNode;t&&(t=qy(t),l_(e.stateNode,e.type,t))}}function YV(e){vu?Au?Au.push(e):Au=[e]:vu=e}function QV(){if(vu){var e=vu,t=Au;if(Au=vu=null,bI(e),t)for(e=0;e<t.length;e++)bI(t[e])}}function JV(e,t){return e(t)}function XV(){}var gA=!1;function ZV(e,t,n){if(gA)return e(t,n);gA=!0;try{return JV(e,t,n)}finally{gA=!1,(vu!==null||Au!==null)&&(XV(),QV())}}function ah(e,t){var n=e.stateNode;if(n===null)return null;var r=qy(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(ce(231,t,typeof n));return n}var c_=!1;if(Uo)try{var Nd={};Object.defineProperty(Nd,"passive",{get:function(){c_=!0}}),window.addEventListener("test",Nd,Nd),window.removeEventListener("test",Nd,Nd)}catch{c_=!1}function yre(e,t,n,r,i,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var Pf=!1,e0=null,t0=!1,u_=null,vre={onError:function(e){Pf=!0,e0=e}};function Are(e,t,n,r,i,s,o,a,l){Pf=!1,e0=null,yre.apply(vre,arguments)}function bre(e,t,n,r,i,s,o,a,l){if(Are.apply(this,arguments),Pf){if(Pf){var c=e0;Pf=!1,e0=null}else throw Error(ce(198));t0||(t0=!0,u_=c)}}function yc(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function e4(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function _I(e){if(yc(e)!==e)throw Error(ce(188))}function _re(e){var t=e.alternate;if(!t){if(t=yc(e),t===null)throw Error(ce(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return _I(i),e;if(s===r)return _I(i),t;s=s.sibling}throw Error(ce(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(ce(189))}}if(n.alternate!==r)throw Error(ce(190))}if(n.tag!==3)throw Error(ce(188));return n.stateNode.current===n?e:t}function t4(e){return e=_re(e),e!==null?n4(e):null}function n4(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=n4(e);if(t!==null)return t;e=e.sibling}return null}var r4=Mi.unstable_scheduleCallback,SI=Mi.unstable_cancelCallback,Sre=Mi.unstable_shouldYield,xre=Mi.unstable_requestPaint,jn=Mi.unstable_now,wre=Mi.unstable_getCurrentPriorityLevel,Ew=Mi.unstable_ImmediatePriority,i4=Mi.unstable_UserBlockingPriority,n0=Mi.unstable_NormalPriority,Ere=Mi.unstable_LowPriority,s4=Mi.unstable_IdlePriority,zy=null,ao=null;function Cre(e){if(ao&&typeof ao.onCommitFiberRoot=="function")try{ao.onCommitFiberRoot(zy,e,void 0,(e.current.flags&128)===128)}catch{}}var Vs=Math.clz32?Math.clz32:Ire,kre=Math.log,Tre=Math.LN2;function Ire(e){return e>>>=0,e===0?32:31-(kre(e)/Tre|0)|0}var Kp=64,Yp=4194304;function of(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function r0(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,s=e.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=of(a):(s&=o,s!==0&&(r=of(s)))}else o=n&~i,o!==0?r=of(o):s!==0&&(r=of(s));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,s=t&-t,i>=s||i===16&&(s&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Vs(t),i=1<<n,r|=e[n],t&=~i;return r}function Pre(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Rre(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var o=31-Vs(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=Pre(a,t)):l<=t&&(e.expiredLanes|=a),s&=~a}}function d_(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function o4(){var e=Kp;return Kp<<=1,!(Kp&4194240)&&(Kp=64),e}function mA(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Yh(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Vs(t),e[t]=n}function Mre(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-Vs(n),s=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~s}}function Cw(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Vs(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var Rt=0;function a4(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var l4,kw,c4,u4,d4,f_=!1,Qp=[],Ca=null,ka=null,Ta=null,lh=new Map,ch=new Map,da=[],jre="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function xI(e,t){switch(e){case"focusin":case"focusout":Ca=null;break;case"dragenter":case"dragleave":ka=null;break;case"mouseover":case"mouseout":Ta=null;break;case"pointerover":case"pointerout":lh.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ch.delete(t.pointerId)}}function Bd(e,t,n,r,i,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},t!==null&&(t=Jh(t),t!==null&&kw(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function Ore(e,t,n,r,i){switch(t){case"focusin":return Ca=Bd(Ca,e,t,n,r,i),!0;case"dragenter":return ka=Bd(ka,e,t,n,r,i),!0;case"mouseover":return Ta=Bd(Ta,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return lh.set(s,Bd(lh.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,ch.set(s,Bd(ch.get(s)||null,e,t,n,r,i)),!0}return!1}function f4(e){var t=xl(e.target);if(t!==null){var n=yc(t);if(n!==null){if(t=n.tag,t===13){if(t=e4(n),t!==null){e.blockedOn=t,d4(e.priority,function(){c4(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function qg(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=h_(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);a_=r,n.target.dispatchEvent(r),a_=null}else return t=Jh(n),t!==null&&kw(t),e.blockedOn=n,!1;t.shift()}return!0}function wI(e,t,n){qg(e)&&n.delete(t)}function Vre(){f_=!1,Ca!==null&&qg(Ca)&&(Ca=null),ka!==null&&qg(ka)&&(ka=null),Ta!==null&&qg(Ta)&&(Ta=null),lh.forEach(wI),ch.forEach(wI)}function Dd(e,t){e.blockedOn===t&&(e.blockedOn=null,f_||(f_=!0,Mi.unstable_scheduleCallback(Mi.unstable_NormalPriority,Vre)))}function uh(e){function t(i){return Dd(i,e)}if(0<Qp.length){Dd(Qp[0],e);for(var n=1;n<Qp.length;n++){var r=Qp[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Ca!==null&&Dd(Ca,e),ka!==null&&Dd(ka,e),Ta!==null&&Dd(Ta,e),lh.forEach(t),ch.forEach(t),n=0;n<da.length;n++)r=da[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<da.length&&(n=da[0],n.blockedOn===null);)f4(n),n.blockedOn===null&&da.shift()}var bu=Yo.ReactCurrentBatchConfig,i0=!0;function Lre(e,t,n,r){var i=Rt,s=bu.transition;bu.transition=null;try{Rt=1,Tw(e,t,n,r)}finally{Rt=i,bu.transition=s}}function Nre(e,t,n,r){var i=Rt,s=bu.transition;bu.transition=null;try{Rt=4,Tw(e,t,n,r)}finally{Rt=i,bu.transition=s}}function Tw(e,t,n,r){if(i0){var i=h_(e,t,n,r);if(i===null)CA(e,t,r,s0,n),xI(e,r);else if(Ore(i,e,t,n,r))r.stopPropagation();else if(xI(e,r),t&4&&-1<jre.indexOf(e)){for(;i!==null;){var s=Jh(i);if(s!==null&&l4(s),s=h_(e,t,n,r),s===null&&CA(e,t,r,s0,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else CA(e,t,r,null,n)}}var s0=null;function h_(e,t,n,r){if(s0=null,e=ww(r),e=xl(e),e!==null)if(t=yc(e),t===null)e=null;else if(n=t.tag,n===13){if(e=e4(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return s0=e,null}function h4(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(wre()){case Ew:return 1;case i4:return 4;case n0:case Ere:return 16;case s4:return 536870912;default:return 16}default:return 16}}var ba=null,Iw=null,Wg=null;function p4(){if(Wg)return Wg;var e,t=Iw,n=t.length,r,i="value"in ba?ba.value:ba.textContent,s=i.length;for(e=0;e<n&&t[e]===i[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===i[s-r];r++);return Wg=i.slice(e,1<r?1-r:void 0)}function Kg(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Jp(){return!0}function EI(){return!1}function Li(e){function t(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Jp:EI,this.isPropagationStopped=EI,this}return mn(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Jp)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Jp)},persist:function(){},isPersistent:Jp}),t}var pd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Pw=Li(pd),Qh=mn({},pd,{view:0,detail:0}),Bre=Li(Qh),yA,vA,$d,Uy=mn({},Qh,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Rw,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==$d&&($d&&e.type==="mousemove"?(yA=e.screenX-$d.screenX,vA=e.screenY-$d.screenY):vA=yA=0,$d=e),yA)},movementY:function(e){return"movementY"in e?e.movementY:vA}}),CI=Li(Uy),Dre=mn({},Uy,{dataTransfer:0}),$re=Li(Dre),Fre=mn({},Qh,{relatedTarget:0}),AA=Li(Fre),zre=mn({},pd,{animationName:0,elapsedTime:0,pseudoElement:0}),Ure=Li(zre),Hre=mn({},pd,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Gre=Li(Hre),qre=mn({},pd,{data:0}),kI=Li(qre),Wre={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Kre={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Yre={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Qre(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Yre[e])?!!t[e]:!1}function Rw(){return Qre}var Jre=mn({},Qh,{key:function(e){if(e.key){var t=Wre[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Kg(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Kre[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Rw,charCode:function(e){return e.type==="keypress"?Kg(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Kg(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Xre=Li(Jre),Zre=mn({},Uy,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),TI=Li(Zre),eie=mn({},Qh,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Rw}),tie=Li(eie),nie=mn({},pd,{propertyName:0,elapsedTime:0,pseudoElement:0}),rie=Li(nie),iie=mn({},Uy,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),sie=Li(iie),oie=[9,13,27,32],Mw=Uo&&"CompositionEvent"in window,Rf=null;Uo&&"documentMode"in document&&(Rf=document.documentMode);var aie=Uo&&"TextEvent"in window&&!Rf,g4=Uo&&(!Mw||Rf&&8<Rf&&11>=Rf),II=" ",PI=!1;function m4(e,t){switch(e){case"keyup":return oie.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function y4(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Kc=!1;function lie(e,t){switch(e){case"compositionend":return y4(t);case"keypress":return t.which!==32?null:(PI=!0,II);case"textInput":return e=t.data,e===II&&PI?null:e;default:return null}}function cie(e,t){if(Kc)return e==="compositionend"||!Mw&&m4(e,t)?(e=p4(),Wg=Iw=ba=null,Kc=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return g4&&t.locale!=="ko"?null:t.data;default:return null}}var uie={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function RI(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!uie[e.type]:t==="textarea"}function v4(e,t,n,r){YV(r),t=o0(t,"onChange"),0<t.length&&(n=new Pw("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Mf=null,dh=null;function die(e){I4(e,0)}function Hy(e){var t=Jc(e);if(zV(t))return e}function fie(e,t){if(e==="change")return t}var A4=!1;if(Uo){var bA;if(Uo){var _A="oninput"in document;if(!_A){var MI=document.createElement("div");MI.setAttribute("oninput","return;"),_A=typeof MI.oninput=="function"}bA=_A}else bA=!1;A4=bA&&(!document.documentMode||9<document.documentMode)}function jI(){Mf&&(Mf.detachEvent("onpropertychange",b4),dh=Mf=null)}function b4(e){if(e.propertyName==="value"&&Hy(dh)){var t=[];v4(t,dh,e,ww(e)),ZV(die,t)}}function hie(e,t,n){e==="focusin"?(jI(),Mf=t,dh=n,Mf.attachEvent("onpropertychange",b4)):e==="focusout"&&jI()}function pie(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Hy(dh)}function gie(e,t){if(e==="click")return Hy(t)}function mie(e,t){if(e==="input"||e==="change")return Hy(t)}function yie(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var $s=typeof Object.is=="function"?Object.is:yie;function fh(e,t){if($s(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Yb.call(t,i)||!$s(e[i],t[i]))return!1}return!0}function OI(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function VI(e,t){var n=OI(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=OI(n)}}function _4(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?_4(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function S4(){for(var e=window,t=Zm();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Zm(e.document)}return t}function jw(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function vie(e){var t=S4(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&_4(n.ownerDocument.documentElement,n)){if(r!==null&&jw(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!e.extend&&s>r&&(i=r,r=s,s=i),i=VI(n,s);var o=VI(n,r);i&&o&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Aie=Uo&&"documentMode"in document&&11>=document.documentMode,Yc=null,p_=null,jf=null,g_=!1;function LI(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;g_||Yc==null||Yc!==Zm(r)||(r=Yc,"selectionStart"in r&&jw(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),jf&&fh(jf,r)||(jf=r,r=o0(p_,"onSelect"),0<r.length&&(t=new Pw("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Yc)))}function Xp(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Qc={animationend:Xp("Animation","AnimationEnd"),animationiteration:Xp("Animation","AnimationIteration"),animationstart:Xp("Animation","AnimationStart"),transitionend:Xp("Transition","TransitionEnd")},SA={},x4={};Uo&&(x4=document.createElement("div").style,"AnimationEvent"in window||(delete Qc.animationend.animation,delete Qc.animationiteration.animation,delete Qc.animationstart.animation),"TransitionEvent"in window||delete Qc.transitionend.transition);function Gy(e){if(SA[e])return SA[e];if(!Qc[e])return e;var t=Qc[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in x4)return SA[e]=t[n];return e}var w4=Gy("animationend"),E4=Gy("animationiteration"),C4=Gy("animationstart"),k4=Gy("transitionend"),T4=new Map,NI="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Wa(e,t){T4.set(e,t),mc(t,[e])}for(var xA=0;xA<NI.length;xA++){var wA=NI[xA],bie=wA.toLowerCase(),_ie=wA[0].toUpperCase()+wA.slice(1);Wa(bie,"on"+_ie)}Wa(w4,"onAnimationEnd");Wa(E4,"onAnimationIteration");Wa(C4,"onAnimationStart");Wa("dblclick","onDoubleClick");Wa("focusin","onFocus");Wa("focusout","onBlur");Wa(k4,"onTransitionEnd");Fu("onMouseEnter",["mouseout","mouseover"]);Fu("onMouseLeave",["mouseout","mouseover"]);Fu("onPointerEnter",["pointerout","pointerover"]);Fu("onPointerLeave",["pointerout","pointerover"]);mc("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));mc("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));mc("onBeforeInput",["compositionend","keypress","textInput","paste"]);mc("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));mc("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));mc("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var af="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Sie=new Set("cancel close invalid load scroll toggle".split(" ").concat(af));function BI(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,bre(r,t,void 0,e),e.currentTarget=null}function I4(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;BI(i,a,c),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;BI(i,a,c),s=l}}}if(t0)throw e=u_,t0=!1,u_=null,e}function Kt(e,t){var n=t[b_];n===void 0&&(n=t[b_]=new Set);var r=e+"__bubble";n.has(r)||(P4(t,e,2,!1),n.add(r))}function EA(e,t,n){var r=0;t&&(r|=4),P4(n,e,r,t)}var Zp="_reactListening"+Math.random().toString(36).slice(2);function hh(e){if(!e[Zp]){e[Zp]=!0,NV.forEach(function(n){n!=="selectionchange"&&(Sie.has(n)||EA(n,!1,e),EA(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Zp]||(t[Zp]=!0,EA("selectionchange",!1,t))}}function P4(e,t,n,r){switch(h4(t)){case 1:var i=Lre;break;case 4:i=Nre;break;default:i=Tw}n=i.bind(null,t,n,e),i=void 0,!c_||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function CA(e,t,n,r,i){var s=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=xl(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}ZV(function(){var c=s,u=ww(n),d=[];e:{var h=T4.get(e);if(h!==void 0){var p=Pw,g=e;switch(e){case"keypress":if(Kg(n)===0)break e;case"keydown":case"keyup":p=Xre;break;case"focusin":g="focus",p=AA;break;case"focusout":g="blur",p=AA;break;case"beforeblur":case"afterblur":p=AA;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=CI;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=$re;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=tie;break;case w4:case E4:case C4:p=Ure;break;case k4:p=rie;break;case"scroll":p=Bre;break;case"wheel":p=sie;break;case"copy":case"cut":case"paste":p=Gre;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=TI}var m=(t&4)!==0,b=!m&&e==="scroll",y=m?h!==null?h+"Capture":null:h;m=[];for(var v=c,_;v!==null;){_=v;var x=_.stateNode;if(_.tag===5&&x!==null&&(_=x,y!==null&&(x=ah(v,y),x!=null&&m.push(ph(v,x,_)))),b)break;v=v.return}0<m.length&&(h=new p(h,g,null,n,u),d.push({event:h,listeners:m}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",h&&n!==a_&&(g=n.relatedTarget||n.fromElement)&&(xl(g)||g[Ho]))break e;if((p||h)&&(h=u.window===u?u:(h=u.ownerDocument)?h.defaultView||h.parentWindow:window,p?(g=n.relatedTarget||n.toElement,p=c,g=g?xl(g):null,g!==null&&(b=yc(g),g!==b||g.tag!==5&&g.tag!==6)&&(g=null)):(p=null,g=c),p!==g)){if(m=CI,x="onMouseLeave",y="onMouseEnter",v="mouse",(e==="pointerout"||e==="pointerover")&&(m=TI,x="onPointerLeave",y="onPointerEnter",v="pointer"),b=p==null?h:Jc(p),_=g==null?h:Jc(g),h=new m(x,v+"leave",p,n,u),h.target=b,h.relatedTarget=_,x=null,xl(u)===c&&(m=new m(y,v+"enter",g,n,u),m.target=_,m.relatedTarget=b,x=m),b=x,p&&g)t:{for(m=p,y=g,v=0,_=m;_;_=Ic(_))v++;for(_=0,x=y;x;x=Ic(x))_++;for(;0<v-_;)m=Ic(m),v--;for(;0<_-v;)y=Ic(y),_--;for(;v--;){if(m===y||y!==null&&m===y.alternate)break t;m=Ic(m),y=Ic(y)}m=null}else m=null;p!==null&&DI(d,h,p,m,!1),g!==null&&b!==null&&DI(d,b,g,m,!0)}}e:{if(h=c?Jc(c):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var S=fie;else if(RI(h))if(A4)S=mie;else{S=pie;var E=hie}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(S=gie);if(S&&(S=S(e,c))){v4(d,S,n,u);break e}E&&E(e,h,c),e==="focusout"&&(E=h._wrapperState)&&E.controlled&&h.type==="number"&&n_(h,"number",h.value)}switch(E=c?Jc(c):window,e){case"focusin":(RI(E)||E.contentEditable==="true")&&(Yc=E,p_=c,jf=null);break;case"focusout":jf=p_=Yc=null;break;case"mousedown":g_=!0;break;case"contextmenu":case"mouseup":case"dragend":g_=!1,LI(d,n,u);break;case"selectionchange":if(Aie)break;case"keydown":case"keyup":LI(d,n,u)}var C;if(Mw)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else Kc?m4(e,n)&&(k="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(k="onCompositionStart");k&&(g4&&n.locale!=="ko"&&(Kc||k!=="onCompositionStart"?k==="onCompositionEnd"&&Kc&&(C=p4()):(ba=u,Iw="value"in ba?ba.value:ba.textContent,Kc=!0)),E=o0(c,k),0<E.length&&(k=new kI(k,e,null,n,u),d.push({event:k,listeners:E}),C?k.data=C:(C=y4(n),C!==null&&(k.data=C)))),(C=aie?lie(e,n):cie(e,n))&&(c=o0(c,"onBeforeInput"),0<c.length&&(u=new kI("onBeforeInput","beforeinput",null,n,u),d.push({event:u,listeners:c}),u.data=C))}I4(d,t)})}function ph(e,t,n){return{instance:e,listener:t,currentTarget:n}}function o0(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=ah(e,n),s!=null&&r.unshift(ph(e,s,i)),s=ah(e,t),s!=null&&r.push(ph(e,s,i))),e=e.return}return r}function Ic(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function DI(e,t,n,r,i){for(var s=t._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,i?(l=ah(n,s),l!=null&&o.unshift(ph(n,l,a))):i||(l=ah(n,s),l!=null&&o.push(ph(n,l,a)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var xie=/\r\n?/g,wie=/\u0000|\uFFFD/g;function $I(e){return(typeof e=="string"?e:""+e).replace(xie,`
`).replace(wie,"")}function eg(e,t,n){if(t=$I(t),$I(e)!==t&&n)throw Error(ce(425))}function a0(){}var m_=null,y_=null;function v_(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var A_=typeof setTimeout=="function"?setTimeout:void 0,Eie=typeof clearTimeout=="function"?clearTimeout:void 0,FI=typeof Promise=="function"?Promise:void 0,Cie=typeof queueMicrotask=="function"?queueMicrotask:typeof FI<"u"?function(e){return FI.resolve(null).then(e).catch(kie)}:A_;function kie(e){setTimeout(function(){throw e})}function kA(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),uh(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);uh(t)}function Ia(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function zI(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var gd=Math.random().toString(36).slice(2),no="__reactFiber$"+gd,gh="__reactProps$"+gd,Ho="__reactContainer$"+gd,b_="__reactEvents$"+gd,Tie="__reactListeners$"+gd,Iie="__reactHandles$"+gd;function xl(e){var t=e[no];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Ho]||n[no]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=zI(e);e!==null;){if(n=e[no])return n;e=zI(e)}return t}e=n,n=e.parentNode}return null}function Jh(e){return e=e[no]||e[Ho],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Jc(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(ce(33))}function qy(e){return e[gh]||null}var __=[],Xc=-1;function Ka(e){return{current:e}}function Jt(e){0>Xc||(e.current=__[Xc],__[Xc]=null,Xc--)}function Gt(e,t){Xc++,__[Xc]=e.current,e.current=t}var $a={},Pr=Ka($a),oi=Ka(!1),ec=$a;function zu(e,t){var n=e.type.contextTypes;if(!n)return $a;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=t[s];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function ai(e){return e=e.childContextTypes,e!=null}function l0(){Jt(oi),Jt(Pr)}function UI(e,t,n){if(Pr.current!==$a)throw Error(ce(168));Gt(Pr,t),Gt(oi,n)}function R4(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(ce(108,hre(e)||"Unknown",i));return mn({},n,r)}function c0(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||$a,ec=Pr.current,Gt(Pr,e),Gt(oi,oi.current),!0}function HI(e,t,n){var r=e.stateNode;if(!r)throw Error(ce(169));n?(e=R4(e,t,ec),r.__reactInternalMemoizedMergedChildContext=e,Jt(oi),Jt(Pr),Gt(Pr,e)):Jt(oi),Gt(oi,n)}var wo=null,Wy=!1,TA=!1;function M4(e){wo===null?wo=[e]:wo.push(e)}function Pie(e){Wy=!0,M4(e)}function Ya(){if(!TA&&wo!==null){TA=!0;var e=0,t=Rt;try{var n=wo;for(Rt=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}wo=null,Wy=!1}catch(i){throw wo!==null&&(wo=wo.slice(e+1)),r4(Ew,Ya),i}finally{Rt=t,TA=!1}}return null}var Zc=[],eu=0,u0=null,d0=0,Ki=[],Yi=0,tc=null,Io=1,Po="";function hl(e,t){Zc[eu++]=d0,Zc[eu++]=u0,u0=e,d0=t}function j4(e,t,n){Ki[Yi++]=Io,Ki[Yi++]=Po,Ki[Yi++]=tc,tc=e;var r=Io;e=Po;var i=32-Vs(r)-1;r&=~(1<<i),n+=1;var s=32-Vs(t)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Io=1<<32-Vs(t)+i|n<<i|r,Po=s+e}else Io=1<<s|n<<i|r,Po=e}function Ow(e){e.return!==null&&(hl(e,1),j4(e,1,0))}function Vw(e){for(;e===u0;)u0=Zc[--eu],Zc[eu]=null,d0=Zc[--eu],Zc[eu]=null;for(;e===tc;)tc=Ki[--Yi],Ki[Yi]=null,Po=Ki[--Yi],Ki[Yi]=null,Io=Ki[--Yi],Ki[Yi]=null}var ki=null,xi=null,on=!1,Cs=null;function O4(e,t){var n=Zi(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function GI(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,ki=e,xi=Ia(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,ki=e,xi=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=tc!==null?{id:Io,overflow:Po}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Zi(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,ki=e,xi=null,!0):!1;default:return!1}}function S_(e){return(e.mode&1)!==0&&(e.flags&128)===0}function x_(e){if(on){var t=xi;if(t){var n=t;if(!GI(e,t)){if(S_(e))throw Error(ce(418));t=Ia(n.nextSibling);var r=ki;t&&GI(e,t)?O4(r,n):(e.flags=e.flags&-4097|2,on=!1,ki=e)}}else{if(S_(e))throw Error(ce(418));e.flags=e.flags&-4097|2,on=!1,ki=e}}}function qI(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;ki=e}function tg(e){if(e!==ki)return!1;if(!on)return qI(e),on=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!v_(e.type,e.memoizedProps)),t&&(t=xi)){if(S_(e))throw V4(),Error(ce(418));for(;t;)O4(e,t),t=Ia(t.nextSibling)}if(qI(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(ce(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){xi=Ia(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}xi=null}}else xi=ki?Ia(e.stateNode.nextSibling):null;return!0}function V4(){for(var e=xi;e;)e=Ia(e.nextSibling)}function Uu(){xi=ki=null,on=!1}function Lw(e){Cs===null?Cs=[e]:Cs.push(e)}var Rie=Yo.ReactCurrentBatchConfig;function _s(e,t){if(e&&e.defaultProps){t=mn({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}var f0=Ka(null),h0=null,tu=null,Nw=null;function Bw(){Nw=tu=h0=null}function Dw(e){var t=f0.current;Jt(f0),e._currentValue=t}function w_(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function _u(e,t){h0=e,Nw=tu=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(ri=!0),e.firstContext=null)}function us(e){var t=e._currentValue;if(Nw!==e)if(e={context:e,memoizedValue:t,next:null},tu===null){if(h0===null)throw Error(ce(308));tu=e,h0.dependencies={lanes:0,firstContext:e}}else tu=tu.next=e;return t}var wl=null;function $w(e){wl===null?wl=[e]:wl.push(e)}function L4(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,$w(t)):(n.next=i.next,i.next=n),t.interleaved=n,Go(e,r)}function Go(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var ua=!1;function Fw(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function N4(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Lo(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Pa(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,gt&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Go(e,n)}return i=r.interleaved,i===null?(t.next=t,$w(r)):(t.next=i.next,i.next=t),r.interleaved=t,Go(e,n)}function Yg(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Cw(e,n)}}function WI(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=t:s=s.next=t}else i=s=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function p0(e,t,n,r){var i=e.updateQueue;ua=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?s=c:o.next=c,o=l;var u=e.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==o&&(a===null?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(s!==null){var d=i.baseState;o=0,u=c=l=null,a=s;do{var h=a.lane,p=a.eventTime;if((r&h)===h){u!==null&&(u=u.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var g=e,m=a;switch(h=t,p=n,m.tag){case 1:if(g=m.payload,typeof g=="function"){d=g.call(p,d,h);break e}d=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=m.payload,h=typeof g=="function"?g.call(p,d,h):g,h==null)break e;d=mn({},d,h);break e;case 2:ua=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,h=i.effects,h===null?i.effects=[a]:h.push(a))}else p={eventTime:p,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(c=u=p,l=d):u=u.next=p,o|=h;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;h=a,a=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(u===null&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,t=i.shared.interleaved,t!==null){i=t;do o|=i.lane,i=i.next;while(i!==t)}else s===null&&(i.shared.lanes=0);rc|=o,e.lanes=o,e.memoizedState=d}}function KI(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(ce(191,i));i.call(r)}}}var B4=new LV.Component().refs;function E_(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:mn({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Ky={isMounted:function(e){return(e=e._reactInternals)?yc(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Hr(),i=Ma(e),s=Lo(r,i);s.payload=t,n!=null&&(s.callback=n),t=Pa(e,s,i),t!==null&&(Ls(t,e,i,r),Yg(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Hr(),i=Ma(e),s=Lo(r,i);s.tag=1,s.payload=t,n!=null&&(s.callback=n),t=Pa(e,s,i),t!==null&&(Ls(t,e,i,r),Yg(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Hr(),r=Ma(e),i=Lo(n,r);i.tag=2,t!=null&&(i.callback=t),t=Pa(e,i,r),t!==null&&(Ls(t,e,r,n),Yg(t,e,r))}};function YI(e,t,n,r,i,s,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,s,o):t.prototype&&t.prototype.isPureReactComponent?!fh(n,r)||!fh(i,s):!0}function D4(e,t,n){var r=!1,i=$a,s=t.contextType;return typeof s=="object"&&s!==null?s=us(s):(i=ai(t)?ec:Pr.current,r=t.contextTypes,s=(r=r!=null)?zu(e,i):$a),t=new t(n,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Ky,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function QI(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Ky.enqueueReplaceState(t,t.state,null)}function C_(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=B4,Fw(e);var s=t.contextType;typeof s=="object"&&s!==null?i.context=us(s):(s=ai(t)?ec:Pr.current,i.context=zu(e,s)),i.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(E_(e,t,s,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&Ky.enqueueReplaceState(i,i.state,null),p0(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function Fd(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(ce(309));var r=n.stateNode}if(!r)throw Error(ce(147,e));var i=r,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(o){var a=i.refs;a===B4&&(a=i.refs={}),o===null?delete a[s]:a[s]=o},t._stringRef=s,t)}if(typeof e!="string")throw Error(ce(284));if(!n._owner)throw Error(ce(290,e))}return e}function ng(e,t){throw e=Object.prototype.toString.call(t),Error(ce(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function JI(e){var t=e._init;return t(e._payload)}function $4(e){function t(y,v){if(e){var _=y.deletions;_===null?(y.deletions=[v],y.flags|=16):_.push(v)}}function n(y,v){if(!e)return null;for(;v!==null;)t(y,v),v=v.sibling;return null}function r(y,v){for(y=new Map;v!==null;)v.key!==null?y.set(v.key,v):y.set(v.index,v),v=v.sibling;return y}function i(y,v){return y=ja(y,v),y.index=0,y.sibling=null,y}function s(y,v,_){return y.index=_,e?(_=y.alternate,_!==null?(_=_.index,_<v?(y.flags|=2,v):_):(y.flags|=2,v)):(y.flags|=1048576,v)}function o(y){return e&&y.alternate===null&&(y.flags|=2),y}function a(y,v,_,x){return v===null||v.tag!==6?(v=VA(_,y.mode,x),v.return=y,v):(v=i(v,_),v.return=y,v)}function l(y,v,_,x){var S=_.type;return S===Wc?u(y,v,_.props.children,x,_.key):v!==null&&(v.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===ca&&JI(S)===v.type)?(x=i(v,_.props),x.ref=Fd(y,v,_),x.return=y,x):(x=tm(_.type,_.key,_.props,null,y.mode,x),x.ref=Fd(y,v,_),x.return=y,x)}function c(y,v,_,x){return v===null||v.tag!==4||v.stateNode.containerInfo!==_.containerInfo||v.stateNode.implementation!==_.implementation?(v=LA(_,y.mode,x),v.return=y,v):(v=i(v,_.children||[]),v.return=y,v)}function u(y,v,_,x,S){return v===null||v.tag!==7?(v=Ll(_,y.mode,x,S),v.return=y,v):(v=i(v,_),v.return=y,v)}function d(y,v,_){if(typeof v=="string"&&v!==""||typeof v=="number")return v=VA(""+v,y.mode,_),v.return=y,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Gp:return _=tm(v.type,v.key,v.props,null,y.mode,_),_.ref=Fd(y,null,v),_.return=y,_;case qc:return v=LA(v,y.mode,_),v.return=y,v;case ca:var x=v._init;return d(y,x(v._payload),_)}if(sf(v)||Ld(v))return v=Ll(v,y.mode,_,null),v.return=y,v;ng(y,v)}return null}function h(y,v,_,x){var S=v!==null?v.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return S!==null?null:a(y,v,""+_,x);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Gp:return _.key===S?l(y,v,_,x):null;case qc:return _.key===S?c(y,v,_,x):null;case ca:return S=_._init,h(y,v,S(_._payload),x)}if(sf(_)||Ld(_))return S!==null?null:u(y,v,_,x,null);ng(y,_)}return null}function p(y,v,_,x,S){if(typeof x=="string"&&x!==""||typeof x=="number")return y=y.get(_)||null,a(v,y,""+x,S);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Gp:return y=y.get(x.key===null?_:x.key)||null,l(v,y,x,S);case qc:return y=y.get(x.key===null?_:x.key)||null,c(v,y,x,S);case ca:var E=x._init;return p(y,v,_,E(x._payload),S)}if(sf(x)||Ld(x))return y=y.get(_)||null,u(v,y,x,S,null);ng(v,x)}return null}function g(y,v,_,x){for(var S=null,E=null,C=v,k=v=0,O=null;C!==null&&k<_.length;k++){C.index>k?(O=C,C=null):O=C.sibling;var w=h(y,C,_[k],x);if(w===null){C===null&&(C=O);break}e&&C&&w.alternate===null&&t(y,C),v=s(w,v,k),E===null?S=w:E.sibling=w,E=w,C=O}if(k===_.length)return n(y,C),on&&hl(y,k),S;if(C===null){for(;k<_.length;k++)C=d(y,_[k],x),C!==null&&(v=s(C,v,k),E===null?S=C:E.sibling=C,E=C);return on&&hl(y,k),S}for(C=r(y,C);k<_.length;k++)O=p(C,y,k,_[k],x),O!==null&&(e&&O.alternate!==null&&C.delete(O.key===null?k:O.key),v=s(O,v,k),E===null?S=O:E.sibling=O,E=O);return e&&C.forEach(function(M){return t(y,M)}),on&&hl(y,k),S}function m(y,v,_,x){var S=Ld(_);if(typeof S!="function")throw Error(ce(150));if(_=S.call(_),_==null)throw Error(ce(151));for(var E=S=null,C=v,k=v=0,O=null,w=_.next();C!==null&&!w.done;k++,w=_.next()){C.index>k?(O=C,C=null):O=C.sibling;var M=h(y,C,w.value,x);if(M===null){C===null&&(C=O);break}e&&C&&M.alternate===null&&t(y,C),v=s(M,v,k),E===null?S=M:E.sibling=M,E=M,C=O}if(w.done)return n(y,C),on&&hl(y,k),S;if(C===null){for(;!w.done;k++,w=_.next())w=d(y,w.value,x),w!==null&&(v=s(w,v,k),E===null?S=w:E.sibling=w,E=w);return on&&hl(y,k),S}for(C=r(y,C);!w.done;k++,w=_.next())w=p(C,y,k,w.value,x),w!==null&&(e&&w.alternate!==null&&C.delete(w.key===null?k:w.key),v=s(w,v,k),E===null?S=w:E.sibling=w,E=w);return e&&C.forEach(function(N){return t(y,N)}),on&&hl(y,k),S}function b(y,v,_,x){if(typeof _=="object"&&_!==null&&_.type===Wc&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case Gp:e:{for(var S=_.key,E=v;E!==null;){if(E.key===S){if(S=_.type,S===Wc){if(E.tag===7){n(y,E.sibling),v=i(E,_.props.children),v.return=y,y=v;break e}}else if(E.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===ca&&JI(S)===E.type){n(y,E.sibling),v=i(E,_.props),v.ref=Fd(y,E,_),v.return=y,y=v;break e}n(y,E);break}else t(y,E);E=E.sibling}_.type===Wc?(v=Ll(_.props.children,y.mode,x,_.key),v.return=y,y=v):(x=tm(_.type,_.key,_.props,null,y.mode,x),x.ref=Fd(y,v,_),x.return=y,y=x)}return o(y);case qc:e:{for(E=_.key;v!==null;){if(v.key===E)if(v.tag===4&&v.stateNode.containerInfo===_.containerInfo&&v.stateNode.implementation===_.implementation){n(y,v.sibling),v=i(v,_.children||[]),v.return=y,y=v;break e}else{n(y,v);break}else t(y,v);v=v.sibling}v=LA(_,y.mode,x),v.return=y,y=v}return o(y);case ca:return E=_._init,b(y,v,E(_._payload),x)}if(sf(_))return g(y,v,_,x);if(Ld(_))return m(y,v,_,x);ng(y,_)}return typeof _=="string"&&_!==""||typeof _=="number"?(_=""+_,v!==null&&v.tag===6?(n(y,v.sibling),v=i(v,_),v.return=y,y=v):(n(y,v),v=VA(_,y.mode,x),v.return=y,y=v),o(y)):n(y,v)}return b}var Hu=$4(!0),F4=$4(!1),Xh={},lo=Ka(Xh),mh=Ka(Xh),yh=Ka(Xh);function El(e){if(e===Xh)throw Error(ce(174));return e}function zw(e,t){switch(Gt(yh,t),Gt(mh,e),Gt(lo,Xh),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:i_(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=i_(t,e)}Jt(lo),Gt(lo,t)}function Gu(){Jt(lo),Jt(mh),Jt(yh)}function z4(e){El(yh.current);var t=El(lo.current),n=i_(t,e.type);t!==n&&(Gt(mh,e),Gt(lo,n))}function Uw(e){mh.current===e&&(Jt(lo),Jt(mh))}var fn=Ka(0);function g0(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var IA=[];function Hw(){for(var e=0;e<IA.length;e++)IA[e]._workInProgressVersionPrimary=null;IA.length=0}var Qg=Yo.ReactCurrentDispatcher,PA=Yo.ReactCurrentBatchConfig,nc=0,gn=null,Gn=null,nr=null,m0=!1,Of=!1,vh=0,Mie=0;function Sr(){throw Error(ce(321))}function Gw(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!$s(e[n],t[n]))return!1;return!0}function qw(e,t,n,r,i,s){if(nc=s,gn=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Qg.current=e===null||e.memoizedState===null?Lie:Nie,e=n(r,i),Of){s=0;do{if(Of=!1,vh=0,25<=s)throw Error(ce(301));s+=1,nr=Gn=null,t.updateQueue=null,Qg.current=Bie,e=n(r,i)}while(Of)}if(Qg.current=y0,t=Gn!==null&&Gn.next!==null,nc=0,nr=Gn=gn=null,m0=!1,t)throw Error(ce(300));return e}function Ww(){var e=vh!==0;return vh=0,e}function Ys(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return nr===null?gn.memoizedState=nr=e:nr=nr.next=e,nr}function ds(){if(Gn===null){var e=gn.alternate;e=e!==null?e.memoizedState:null}else e=Gn.next;var t=nr===null?gn.memoizedState:nr.next;if(t!==null)nr=t,Gn=e;else{if(e===null)throw Error(ce(310));Gn=e,e={memoizedState:Gn.memoizedState,baseState:Gn.baseState,baseQueue:Gn.baseQueue,queue:Gn.queue,next:null},nr===null?gn.memoizedState=nr=e:nr=nr.next=e}return nr}function Ah(e,t){return typeof t=="function"?t(e):t}function RA(e){var t=ds(),n=t.queue;if(n===null)throw Error(ce(311));n.lastRenderedReducer=e;var r=Gn,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,c=s;do{var u=c.lane;if((nc&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var d={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=d,o=r):l=l.next=d,gn.lanes|=u,rc|=u}c=c.next}while(c!==null&&c!==s);l===null?o=r:l.next=a,$s(r,t.memoizedState)||(ri=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=l,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do s=i.lane,gn.lanes|=s,rc|=s,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function MA(e){var t=ds(),n=t.queue;if(n===null)throw Error(ce(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,s=t.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=e(s,o.action),o=o.next;while(o!==i);$s(s,t.memoizedState)||(ri=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function U4(){}function H4(e,t){var n=gn,r=ds(),i=t(),s=!$s(r.memoizedState,i);if(s&&(r.memoizedState=i,ri=!0),r=r.queue,Kw(W4.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||nr!==null&&nr.memoizedState.tag&1){if(n.flags|=2048,bh(9,q4.bind(null,n,r,i,t),void 0,null),sr===null)throw Error(ce(349));nc&30||G4(n,t,i)}return i}function G4(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=gn.updateQueue,t===null?(t={lastEffect:null,stores:null},gn.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function q4(e,t,n,r){t.value=n,t.getSnapshot=r,K4(t)&&Y4(e)}function W4(e,t,n){return n(function(){K4(t)&&Y4(e)})}function K4(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!$s(e,n)}catch{return!0}}function Y4(e){var t=Go(e,1);t!==null&&Ls(t,e,1,-1)}function XI(e){var t=Ys();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ah,lastRenderedState:e},t.queue=e,e=e.dispatch=Vie.bind(null,gn,e),[t.memoizedState,e]}function bh(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=gn.updateQueue,t===null?(t={lastEffect:null,stores:null},gn.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function Q4(){return ds().memoizedState}function Jg(e,t,n,r){var i=Ys();gn.flags|=e,i.memoizedState=bh(1|t,n,void 0,r===void 0?null:r)}function Yy(e,t,n,r){var i=ds();r=r===void 0?null:r;var s=void 0;if(Gn!==null){var o=Gn.memoizedState;if(s=o.destroy,r!==null&&Gw(r,o.deps)){i.memoizedState=bh(t,n,s,r);return}}gn.flags|=e,i.memoizedState=bh(1|t,n,s,r)}function ZI(e,t){return Jg(8390656,8,e,t)}function Kw(e,t){return Yy(2048,8,e,t)}function J4(e,t){return Yy(4,2,e,t)}function X4(e,t){return Yy(4,4,e,t)}function Z4(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function eL(e,t,n){return n=n!=null?n.concat([e]):null,Yy(4,4,Z4.bind(null,t,e),n)}function Yw(){}function tL(e,t){var n=ds();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Gw(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function nL(e,t){var n=ds();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Gw(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function rL(e,t,n){return nc&21?($s(n,t)||(n=o4(),gn.lanes|=n,rc|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,ri=!0),e.memoizedState=n)}function jie(e,t){var n=Rt;Rt=n!==0&&4>n?n:4,e(!0);var r=PA.transition;PA.transition={};try{e(!1),t()}finally{Rt=n,PA.transition=r}}function iL(){return ds().memoizedState}function Oie(e,t,n){var r=Ma(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},sL(e))oL(t,n);else if(n=L4(e,t,n,r),n!==null){var i=Hr();Ls(n,e,r,i),aL(n,t,r)}}function Vie(e,t,n){var r=Ma(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(sL(e))oL(t,i);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var o=t.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,$s(a,o)){var l=t.interleaved;l===null?(i.next=i,$w(t)):(i.next=l.next,l.next=i),t.interleaved=i;return}}catch{}finally{}n=L4(e,t,i,r),n!==null&&(i=Hr(),Ls(n,e,r,i),aL(n,t,r))}}function sL(e){var t=e.alternate;return e===gn||t!==null&&t===gn}function oL(e,t){Of=m0=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function aL(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Cw(e,n)}}var y0={readContext:us,useCallback:Sr,useContext:Sr,useEffect:Sr,useImperativeHandle:Sr,useInsertionEffect:Sr,useLayoutEffect:Sr,useMemo:Sr,useReducer:Sr,useRef:Sr,useState:Sr,useDebugValue:Sr,useDeferredValue:Sr,useTransition:Sr,useMutableSource:Sr,useSyncExternalStore:Sr,useId:Sr,unstable_isNewReconciler:!1},Lie={readContext:us,useCallback:function(e,t){return Ys().memoizedState=[e,t===void 0?null:t],e},useContext:us,useEffect:ZI,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Jg(4194308,4,Z4.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Jg(4194308,4,e,t)},useInsertionEffect:function(e,t){return Jg(4,2,e,t)},useMemo:function(e,t){var n=Ys();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Ys();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Oie.bind(null,gn,e),[r.memoizedState,e]},useRef:function(e){var t=Ys();return e={current:e},t.memoizedState=e},useState:XI,useDebugValue:Yw,useDeferredValue:function(e){return Ys().memoizedState=e},useTransition:function(){var e=XI(!1),t=e[0];return e=jie.bind(null,e[1]),Ys().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=gn,i=Ys();if(on){if(n===void 0)throw Error(ce(407));n=n()}else{if(n=t(),sr===null)throw Error(ce(349));nc&30||G4(r,t,n)}i.memoizedState=n;var s={value:n,getSnapshot:t};return i.queue=s,ZI(W4.bind(null,r,s,e),[e]),r.flags|=2048,bh(9,q4.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=Ys(),t=sr.identifierPrefix;if(on){var n=Po,r=Io;n=(r&~(1<<32-Vs(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=vh++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Mie++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Nie={readContext:us,useCallback:tL,useContext:us,useEffect:Kw,useImperativeHandle:eL,useInsertionEffect:J4,useLayoutEffect:X4,useMemo:nL,useReducer:RA,useRef:Q4,useState:function(){return RA(Ah)},useDebugValue:Yw,useDeferredValue:function(e){var t=ds();return rL(t,Gn.memoizedState,e)},useTransition:function(){var e=RA(Ah)[0],t=ds().memoizedState;return[e,t]},useMutableSource:U4,useSyncExternalStore:H4,useId:iL,unstable_isNewReconciler:!1},Bie={readContext:us,useCallback:tL,useContext:us,useEffect:Kw,useImperativeHandle:eL,useInsertionEffect:J4,useLayoutEffect:X4,useMemo:nL,useReducer:MA,useRef:Q4,useState:function(){return MA(Ah)},useDebugValue:Yw,useDeferredValue:function(e){var t=ds();return Gn===null?t.memoizedState=e:rL(t,Gn.memoizedState,e)},useTransition:function(){var e=MA(Ah)[0],t=ds().memoizedState;return[e,t]},useMutableSource:U4,useSyncExternalStore:H4,useId:iL,unstable_isNewReconciler:!1};function qu(e,t){try{var n="",r=t;do n+=fre(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:i,digest:null}}function jA(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function k_(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Die=typeof WeakMap=="function"?WeakMap:Map;function lL(e,t,n){n=Lo(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){A0||(A0=!0,N_=r),k_(e,t)},n}function cL(e,t,n){n=Lo(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){k_(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){k_(e,t),typeof r!="function"&&(Ra===null?Ra=new Set([this]):Ra.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function eP(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new Die;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Zie.bind(null,e,t,n),t.then(e,e))}function tP(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function nP(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Lo(-1,1),t.tag=2,Pa(n,t,1))),n.lanes|=1),e)}var $ie=Yo.ReactCurrentOwner,ri=!1;function Br(e,t,n,r){t.child=e===null?F4(t,null,n,r):Hu(t,e.child,n,r)}function rP(e,t,n,r,i){n=n.render;var s=t.ref;return _u(t,i),r=qw(e,t,n,r,s,i),n=Ww(),e!==null&&!ri?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,qo(e,t,i)):(on&&n&&Ow(t),t.flags|=1,Br(e,t,r,i),t.child)}function iP(e,t,n,r,i){if(e===null){var s=n.type;return typeof s=="function"&&!rE(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=s,uL(e,t,s,r,i)):(e=tm(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:fh,n(o,r)&&e.ref===t.ref)return qo(e,t,i)}return t.flags|=1,e=ja(s,r),e.ref=t.ref,e.return=t,t.child=e}function uL(e,t,n,r,i){if(e!==null){var s=e.memoizedProps;if(fh(s,r)&&e.ref===t.ref)if(ri=!1,t.pendingProps=r=s,(e.lanes&i)!==0)e.flags&131072&&(ri=!0);else return t.lanes=e.lanes,qo(e,t,i)}return T_(e,t,n,r,i)}function dL(e,t,n){var r=t.pendingProps,i=r.children,s=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Gt(ru,yi),yi|=n;else{if(!(n&1073741824))return e=s!==null?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Gt(ru,yi),yi|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Gt(ru,yi),yi|=r}else s!==null?(r=s.baseLanes|n,t.memoizedState=null):r=n,Gt(ru,yi),yi|=r;return Br(e,t,i,n),t.child}function fL(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function T_(e,t,n,r,i){var s=ai(n)?ec:Pr.current;return s=zu(t,s),_u(t,i),n=qw(e,t,n,r,s,i),r=Ww(),e!==null&&!ri?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,qo(e,t,i)):(on&&r&&Ow(t),t.flags|=1,Br(e,t,n,i),t.child)}function sP(e,t,n,r,i){if(ai(n)){var s=!0;c0(t)}else s=!1;if(_u(t,i),t.stateNode===null)Xg(e,t),D4(t,n,r),C_(t,n,r,i),r=!0;else if(e===null){var o=t.stateNode,a=t.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=us(c):(c=ai(n)?ec:Pr.current,c=zu(t,c));var u=n.getDerivedStateFromProps,d=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&QI(t,o,r,c),ua=!1;var h=t.memoizedState;o.state=h,p0(t,r,o,i),l=t.memoizedState,a!==r||h!==l||oi.current||ua?(typeof u=="function"&&(E_(t,n,u,r),l=t.memoizedState),(a=ua||YI(t,n,a,r,h,l,c))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,N4(e,t),a=t.memoizedProps,c=t.type===t.elementType?a:_s(t.type,a),o.props=c,d=t.pendingProps,h=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=us(l):(l=ai(n)?ec:Pr.current,l=zu(t,l));var p=n.getDerivedStateFromProps;(u=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||h!==l)&&QI(t,o,r,l),ua=!1,h=t.memoizedState,o.state=h,p0(t,r,o,i);var g=t.memoizedState;a!==d||h!==g||oi.current||ua?(typeof p=="function"&&(E_(t,n,p,r),g=t.memoizedState),(c=ua||YI(t,n,c,r,h,g,l)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,g,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,g,l)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=g),o.props=r,o.state=g,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return I_(e,t,n,r,s,i)}function I_(e,t,n,r,i,s){fL(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return i&&HI(t,n,!1),qo(e,t,s);r=t.stateNode,$ie.current=t;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=Hu(t,e.child,null,s),t.child=Hu(t,null,a,s)):Br(e,t,a,s),t.memoizedState=r.state,i&&HI(t,n,!0),t.child}function hL(e){var t=e.stateNode;t.pendingContext?UI(e,t.pendingContext,t.pendingContext!==t.context):t.context&&UI(e,t.context,!1),zw(e,t.containerInfo)}function oP(e,t,n,r,i){return Uu(),Lw(i),t.flags|=256,Br(e,t,n,r),t.child}var P_={dehydrated:null,treeContext:null,retryLane:0};function R_(e){return{baseLanes:e,cachePool:null,transitions:null}}function pL(e,t,n){var r=t.pendingProps,i=fn.current,s=!1,o=(t.flags&128)!==0,a;if((a=o)||(a=e!==null&&e.memoizedState===null?!1:(i&2)!==0),a?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),Gt(fn,i&1),e===null)return x_(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,s?(r=t.mode,s=t.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Xy(o,r,0,null),e=Ll(e,r,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=R_(n),t.memoizedState=P_,e):Qw(t,o));if(i=e.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return Fie(e,t,o,r,a,i,n);if(s){s=r.fallback,o=t.mode,i=e.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=l,t.deletions=null):(r=ja(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=ja(a,s):(s=Ll(s,o,n,null),s.flags|=2),s.return=t,r.return=t,r.sibling=s,t.child=r,r=s,s=t.child,o=e.child.memoizedState,o=o===null?R_(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=e.childLanes&~n,t.memoizedState=P_,r}return s=e.child,e=s.sibling,r=ja(s,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Qw(e,t){return t=Xy({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function rg(e,t,n,r){return r!==null&&Lw(r),Hu(t,e.child,null,n),e=Qw(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Fie(e,t,n,r,i,s,o){if(n)return t.flags&256?(t.flags&=-257,r=jA(Error(ce(422))),rg(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=r.fallback,i=t.mode,r=Xy({mode:"visible",children:r.children},i,0,null),s=Ll(s,i,o,null),s.flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,t.mode&1&&Hu(t,e.child,null,o),t.child.memoizedState=R_(o),t.memoizedState=P_,s);if(!(t.mode&1))return rg(e,t,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(ce(419)),r=jA(s,r,void 0),rg(e,t,o,r)}if(a=(o&e.childLanes)!==0,ri||a){if(r=sr,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Go(e,i),Ls(r,e,i,-1))}return nE(),r=jA(Error(ce(421))),rg(e,t,o,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=ese.bind(null,e),i._reactRetry=t,null):(e=s.treeContext,xi=Ia(i.nextSibling),ki=t,on=!0,Cs=null,e!==null&&(Ki[Yi++]=Io,Ki[Yi++]=Po,Ki[Yi++]=tc,Io=e.id,Po=e.overflow,tc=t),t=Qw(t,r.children),t.flags|=4096,t)}function aP(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),w_(e.return,t,n)}function OA(e,t,n,r,i){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function gL(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(Br(e,t,r.children,n),r=fn.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&aP(e,n,t);else if(e.tag===19)aP(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Gt(fn,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&g0(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),OA(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&g0(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}OA(t,!0,n,null,s);break;case"together":OA(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Xg(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function qo(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),rc|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(ce(153));if(t.child!==null){for(e=t.child,n=ja(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=ja(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function zie(e,t,n){switch(t.tag){case 3:hL(t),Uu();break;case 5:z4(t);break;case 1:ai(t.type)&&c0(t);break;case 4:zw(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Gt(f0,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Gt(fn,fn.current&1),t.flags|=128,null):n&t.child.childLanes?pL(e,t,n):(Gt(fn,fn.current&1),e=qo(e,t,n),e!==null?e.sibling:null);Gt(fn,fn.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return gL(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Gt(fn,fn.current),r)break;return null;case 22:case 23:return t.lanes=0,dL(e,t,n)}return qo(e,t,n)}var mL,M_,yL,vL;mL=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};M_=function(){};yL=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,El(lo.current);var s=null;switch(n){case"input":i=e_(e,i),r=e_(e,r),s=[];break;case"select":i=mn({},i,{value:void 0}),r=mn({},r,{value:void 0}),s=[];break;case"textarea":i=r_(e,i),r=r_(e,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=a0)}s_(n,r);var o;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(sh.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var l=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(sh.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Kt("scroll",e),s||a===l||(s=[])):(s=s||[]).push(c,l))}n&&(s=s||[]).push("style",n);var c=s;(t.updateQueue=c)&&(t.flags|=4)}};vL=function(e,t,n,r){n!==r&&(t.flags|=4)};function zd(e,t){if(!on)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function xr(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Uie(e,t,n){var r=t.pendingProps;switch(Vw(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return xr(t),null;case 1:return ai(t.type)&&l0(),xr(t),null;case 3:return r=t.stateNode,Gu(),Jt(oi),Jt(Pr),Hw(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(tg(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Cs!==null&&($_(Cs),Cs=null))),M_(e,t),xr(t),null;case 5:Uw(t);var i=El(yh.current);if(n=t.type,e!==null&&t.stateNode!=null)yL(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(ce(166));return xr(t),null}if(e=El(lo.current),tg(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[no]=t,r[gh]=s,e=(t.mode&1)!==0,n){case"dialog":Kt("cancel",r),Kt("close",r);break;case"iframe":case"object":case"embed":Kt("load",r);break;case"video":case"audio":for(i=0;i<af.length;i++)Kt(af[i],r);break;case"source":Kt("error",r);break;case"img":case"image":case"link":Kt("error",r),Kt("load",r);break;case"details":Kt("toggle",r);break;case"input":mI(r,s),Kt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Kt("invalid",r);break;case"textarea":vI(r,s),Kt("invalid",r)}s_(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&eg(r.textContent,a,e),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&eg(r.textContent,a,e),i=["children",""+a]):sh.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Kt("scroll",r)}switch(n){case"input":qp(r),yI(r,s,!0);break;case"textarea":qp(r),AI(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=a0)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=GV(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[no]=t,e[gh]=r,mL(e,t,!1,!1),t.stateNode=e;e:{switch(o=o_(n,r),n){case"dialog":Kt("cancel",e),Kt("close",e),i=r;break;case"iframe":case"object":case"embed":Kt("load",e),i=r;break;case"video":case"audio":for(i=0;i<af.length;i++)Kt(af[i],e);i=r;break;case"source":Kt("error",e),i=r;break;case"img":case"image":case"link":Kt("error",e),Kt("load",e),i=r;break;case"details":Kt("toggle",e),i=r;break;case"input":mI(e,r),i=e_(e,r),Kt("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=mn({},r,{value:void 0}),Kt("invalid",e);break;case"textarea":vI(e,r),i=r_(e,r),Kt("invalid",e);break;default:i=r}s_(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?KV(e,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&qV(e,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&oh(e,l):typeof l=="number"&&oh(e,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(sh.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Kt("scroll",e):l!=null&&bw(e,s,l,o))}switch(n){case"input":qp(e),yI(e,r,!1);break;case"textarea":qp(e),AI(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Da(r.value));break;case"select":e.multiple=!!r.multiple,s=r.value,s!=null?yu(e,!!r.multiple,s,!1):r.defaultValue!=null&&yu(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=a0)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return xr(t),null;case 6:if(e&&t.stateNode!=null)vL(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(ce(166));if(n=El(yh.current),El(lo.current),tg(t)){if(r=t.stateNode,n=t.memoizedProps,r[no]=t,(s=r.nodeValue!==n)&&(e=ki,e!==null))switch(e.tag){case 3:eg(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&eg(r.nodeValue,n,(e.mode&1)!==0)}s&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[no]=t,t.stateNode=r}return xr(t),null;case 13:if(Jt(fn),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(on&&xi!==null&&t.mode&1&&!(t.flags&128))V4(),Uu(),t.flags|=98560,s=!1;else if(s=tg(t),r!==null&&r.dehydrated!==null){if(e===null){if(!s)throw Error(ce(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(ce(317));s[no]=t}else Uu(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;xr(t),s=!1}else Cs!==null&&($_(Cs),Cs=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||fn.current&1?Kn===0&&(Kn=3):nE())),t.updateQueue!==null&&(t.flags|=4),xr(t),null);case 4:return Gu(),M_(e,t),e===null&&hh(t.stateNode.containerInfo),xr(t),null;case 10:return Dw(t.type._context),xr(t),null;case 17:return ai(t.type)&&l0(),xr(t),null;case 19:if(Jt(fn),s=t.memoizedState,s===null)return xr(t),null;if(r=(t.flags&128)!==0,o=s.rendering,o===null)if(r)zd(s,!1);else{if(Kn!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=g0(e),o!==null){for(t.flags|=128,zd(s,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)s=n,e=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,e=o.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Gt(fn,fn.current&1|2),t.child}e=e.sibling}s.tail!==null&&jn()>Wu&&(t.flags|=128,r=!0,zd(s,!1),t.lanes=4194304)}else{if(!r)if(e=g0(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),zd(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!on)return xr(t),null}else 2*jn()-s.renderingStartTime>Wu&&n!==1073741824&&(t.flags|=128,r=!0,zd(s,!1),t.lanes=4194304);s.isBackwards?(o.sibling=t.child,t.child=o):(n=s.last,n!==null?n.sibling=o:t.child=o,s.last=o)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=jn(),t.sibling=null,n=fn.current,Gt(fn,r?n&1|2:n&1),t):(xr(t),null);case 22:case 23:return tE(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?yi&1073741824&&(xr(t),t.subtreeFlags&6&&(t.flags|=8192)):xr(t),null;case 24:return null;case 25:return null}throw Error(ce(156,t.tag))}function Hie(e,t){switch(Vw(t),t.tag){case 1:return ai(t.type)&&l0(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Gu(),Jt(oi),Jt(Pr),Hw(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Uw(t),null;case 13:if(Jt(fn),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(ce(340));Uu()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Jt(fn),null;case 4:return Gu(),null;case 10:return Dw(t.type._context),null;case 22:case 23:return tE(),null;case 24:return null;default:return null}}var ig=!1,Cr=!1,Gie=typeof WeakSet=="function"?WeakSet:Set,_e=null;function nu(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){_n(e,t,r)}else n.current=null}function j_(e,t,n){try{n()}catch(r){_n(e,t,r)}}var lP=!1;function qie(e,t){if(m_=i0,e=S4(),jw(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,u=0,d=e,h=null;t:for(;;){for(var p;d!==n||i!==0&&d.nodeType!==3||(a=o+i),d!==s||r!==0&&d.nodeType!==3||(l=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(p=d.firstChild)!==null;)h=d,d=p;for(;;){if(d===e)break t;if(h===n&&++c===i&&(a=o),h===s&&++u===r&&(l=o),(p=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=p}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(y_={focusedElem:e,selectionRange:n},i0=!1,_e=t;_e!==null;)if(t=_e,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,_e=e;else for(;_e!==null;){t=_e;try{var g=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var m=g.memoizedProps,b=g.memoizedState,y=t.stateNode,v=y.getSnapshotBeforeUpdate(t.elementType===t.type?m:_s(t.type,m),b);y.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var _=t.stateNode.containerInfo;_.nodeType===1?_.textContent="":_.nodeType===9&&_.documentElement&&_.removeChild(_.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ce(163))}}catch(x){_n(t,t.return,x)}if(e=t.sibling,e!==null){e.return=t.return,_e=e;break}_e=t.return}return g=lP,lP=!1,g}function Vf(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,s!==void 0&&j_(t,n,s)}i=i.next}while(i!==r)}}function Qy(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function O_(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function AL(e){var t=e.alternate;t!==null&&(e.alternate=null,AL(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[no],delete t[gh],delete t[b_],delete t[Tie],delete t[Iie])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function bL(e){return e.tag===5||e.tag===3||e.tag===4}function cP(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||bL(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function V_(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=a0));else if(r!==4&&(e=e.child,e!==null))for(V_(e,t,n),e=e.sibling;e!==null;)V_(e,t,n),e=e.sibling}function L_(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(L_(e,t,n),e=e.sibling;e!==null;)L_(e,t,n),e=e.sibling}var cr=null,ws=!1;function ta(e,t,n){for(n=n.child;n!==null;)_L(e,t,n),n=n.sibling}function _L(e,t,n){if(ao&&typeof ao.onCommitFiberUnmount=="function")try{ao.onCommitFiberUnmount(zy,n)}catch{}switch(n.tag){case 5:Cr||nu(n,t);case 6:var r=cr,i=ws;cr=null,ta(e,t,n),cr=r,ws=i,cr!==null&&(ws?(e=cr,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):cr.removeChild(n.stateNode));break;case 18:cr!==null&&(ws?(e=cr,n=n.stateNode,e.nodeType===8?kA(e.parentNode,n):e.nodeType===1&&kA(e,n),uh(e)):kA(cr,n.stateNode));break;case 4:r=cr,i=ws,cr=n.stateNode.containerInfo,ws=!0,ta(e,t,n),cr=r,ws=i;break;case 0:case 11:case 14:case 15:if(!Cr&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&j_(n,t,o),i=i.next}while(i!==r)}ta(e,t,n);break;case 1:if(!Cr&&(nu(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){_n(n,t,a)}ta(e,t,n);break;case 21:ta(e,t,n);break;case 22:n.mode&1?(Cr=(r=Cr)||n.memoizedState!==null,ta(e,t,n),Cr=r):ta(e,t,n);break;default:ta(e,t,n)}}function uP(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Gie),t.forEach(function(r){var i=tse.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function ys(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=e,o=t,a=o;e:for(;a!==null;){switch(a.tag){case 5:cr=a.stateNode,ws=!1;break e;case 3:cr=a.stateNode.containerInfo,ws=!0;break e;case 4:cr=a.stateNode.containerInfo,ws=!0;break e}a=a.return}if(cr===null)throw Error(ce(160));_L(s,o,i),cr=null,ws=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){_n(i,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)SL(t,e),t=t.sibling}function SL(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ys(t,e),Ws(e),r&4){try{Vf(3,e,e.return),Qy(3,e)}catch(m){_n(e,e.return,m)}try{Vf(5,e,e.return)}catch(m){_n(e,e.return,m)}}break;case 1:ys(t,e),Ws(e),r&512&&n!==null&&nu(n,n.return);break;case 5:if(ys(t,e),Ws(e),r&512&&n!==null&&nu(n,n.return),e.flags&32){var i=e.stateNode;try{oh(i,"")}catch(m){_n(e,e.return,m)}}if(r&4&&(i=e.stateNode,i!=null)){var s=e.memoizedProps,o=n!==null?n.memoizedProps:s,a=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&UV(i,s),o_(a,o);var c=o_(a,s);for(o=0;o<l.length;o+=2){var u=l[o],d=l[o+1];u==="style"?KV(i,d):u==="dangerouslySetInnerHTML"?qV(i,d):u==="children"?oh(i,d):bw(i,u,d,c)}switch(a){case"input":t_(i,s);break;case"textarea":HV(i,s);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var p=s.value;p!=null?yu(i,!!s.multiple,p,!1):h!==!!s.multiple&&(s.defaultValue!=null?yu(i,!!s.multiple,s.defaultValue,!0):yu(i,!!s.multiple,s.multiple?[]:"",!1))}i[gh]=s}catch(m){_n(e,e.return,m)}}break;case 6:if(ys(t,e),Ws(e),r&4){if(e.stateNode===null)throw Error(ce(162));i=e.stateNode,s=e.memoizedProps;try{i.nodeValue=s}catch(m){_n(e,e.return,m)}}break;case 3:if(ys(t,e),Ws(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{uh(t.containerInfo)}catch(m){_n(e,e.return,m)}break;case 4:ys(t,e),Ws(e);break;case 13:ys(t,e),Ws(e),i=e.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Zw=jn())),r&4&&uP(e);break;case 22:if(u=n!==null&&n.memoizedState!==null,e.mode&1?(Cr=(c=Cr)||u,ys(t,e),Cr=c):ys(t,e),Ws(e),r&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!u&&e.mode&1)for(_e=e,u=e.child;u!==null;){for(d=_e=u;_e!==null;){switch(h=_e,p=h.child,h.tag){case 0:case 11:case 14:case 15:Vf(4,h,h.return);break;case 1:nu(h,h.return);var g=h.stateNode;if(typeof g.componentWillUnmount=="function"){r=h,n=h.return;try{t=r,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(m){_n(r,n,m)}}break;case 5:nu(h,h.return);break;case 22:if(h.memoizedState!==null){fP(d);continue}}p!==null?(p.return=h,_e=p):fP(d)}u=u.sibling}e:for(u=null,d=e;;){if(d.tag===5){if(u===null){u=d;try{i=d.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=WV("display",o))}catch(m){_n(e,e.return,m)}}}else if(d.tag===6){if(u===null)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(m){_n(e,e.return,m)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===e)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;d.sibling===null;){if(d.return===null||d.return===e)break e;u===d&&(u=null),d=d.return}u===d&&(u=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:ys(t,e),Ws(e),r&4&&uP(e);break;case 21:break;default:ys(t,e),Ws(e)}}function Ws(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(bL(n)){var r=n;break e}n=n.return}throw Error(ce(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(oh(i,""),r.flags&=-33);var s=cP(e);L_(e,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=cP(e);V_(e,a,o);break;default:throw Error(ce(161))}}catch(l){_n(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Wie(e,t,n){_e=e,xL(e)}function xL(e,t,n){for(var r=(e.mode&1)!==0;_e!==null;){var i=_e,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||ig;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Cr;a=ig;var c=Cr;if(ig=o,(Cr=l)&&!c)for(_e=i;_e!==null;)o=_e,l=o.child,o.tag===22&&o.memoizedState!==null?hP(i):l!==null?(l.return=o,_e=l):hP(i);for(;s!==null;)_e=s,xL(s),s=s.sibling;_e=i,ig=a,Cr=c}dP(e)}else i.subtreeFlags&8772&&s!==null?(s.return=i,_e=s):dP(e)}}function dP(e){for(;_e!==null;){var t=_e;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Cr||Qy(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Cr)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:_s(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&KI(t,s,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}KI(t,o,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var d=u.dehydrated;d!==null&&uh(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ce(163))}Cr||t.flags&512&&O_(t)}catch(h){_n(t,t.return,h)}}if(t===e){_e=null;break}if(n=t.sibling,n!==null){n.return=t.return,_e=n;break}_e=t.return}}function fP(e){for(;_e!==null;){var t=_e;if(t===e){_e=null;break}var n=t.sibling;if(n!==null){n.return=t.return,_e=n;break}_e=t.return}}function hP(e){for(;_e!==null;){var t=_e;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Qy(4,t)}catch(l){_n(t,n,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(l){_n(t,i,l)}}var s=t.return;try{O_(t)}catch(l){_n(t,s,l)}break;case 5:var o=t.return;try{O_(t)}catch(l){_n(t,o,l)}}}catch(l){_n(t,t.return,l)}if(t===e){_e=null;break}var a=t.sibling;if(a!==null){a.return=t.return,_e=a;break}_e=t.return}}var Kie=Math.ceil,v0=Yo.ReactCurrentDispatcher,Jw=Yo.ReactCurrentOwner,ss=Yo.ReactCurrentBatchConfig,gt=0,sr=null,Un=null,yr=0,yi=0,ru=Ka(0),Kn=0,_h=null,rc=0,Jy=0,Xw=0,Lf=null,Zr=null,Zw=0,Wu=1/0,So=null,A0=!1,N_=null,Ra=null,sg=!1,_a=null,b0=0,Nf=0,B_=null,Zg=-1,em=0;function Hr(){return gt&6?jn():Zg!==-1?Zg:Zg=jn()}function Ma(e){return e.mode&1?gt&2&&yr!==0?yr&-yr:Rie.transition!==null?(em===0&&(em=o4()),em):(e=Rt,e!==0||(e=window.event,e=e===void 0?16:h4(e.type)),e):1}function Ls(e,t,n,r){if(50<Nf)throw Nf=0,B_=null,Error(ce(185));Yh(e,n,r),(!(gt&2)||e!==sr)&&(e===sr&&(!(gt&2)&&(Jy|=n),Kn===4&&fa(e,yr)),li(e,r),n===1&&gt===0&&!(t.mode&1)&&(Wu=jn()+500,Wy&&Ya()))}function li(e,t){var n=e.callbackNode;Rre(e,t);var r=r0(e,e===sr?yr:0);if(r===0)n!==null&&SI(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&SI(n),t===1)e.tag===0?Pie(pP.bind(null,e)):M4(pP.bind(null,e)),Cie(function(){!(gt&6)&&Ya()}),n=null;else{switch(a4(r)){case 1:n=Ew;break;case 4:n=i4;break;case 16:n=n0;break;case 536870912:n=s4;break;default:n=n0}n=RL(n,wL.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function wL(e,t){if(Zg=-1,em=0,gt&6)throw Error(ce(327));var n=e.callbackNode;if(Su()&&e.callbackNode!==n)return null;var r=r0(e,e===sr?yr:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=_0(e,r);else{t=r;var i=gt;gt|=2;var s=CL();(sr!==e||yr!==t)&&(So=null,Wu=jn()+500,Vl(e,t));do try{Jie();break}catch(a){EL(e,a)}while(!0);Bw(),v0.current=s,gt=i,Un!==null?t=0:(sr=null,yr=0,t=Kn)}if(t!==0){if(t===2&&(i=d_(e),i!==0&&(r=i,t=D_(e,i))),t===1)throw n=_h,Vl(e,0),fa(e,r),li(e,jn()),n;if(t===6)fa(e,r);else{if(i=e.current.alternate,!(r&30)&&!Yie(i)&&(t=_0(e,r),t===2&&(s=d_(e),s!==0&&(r=s,t=D_(e,s))),t===1))throw n=_h,Vl(e,0),fa(e,r),li(e,jn()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(ce(345));case 2:pl(e,Zr,So);break;case 3:if(fa(e,r),(r&130023424)===r&&(t=Zw+500-jn(),10<t)){if(r0(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){Hr(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=A_(pl.bind(null,e,Zr,So),t);break}pl(e,Zr,So);break;case 4:if(fa(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var o=31-Vs(r);s=1<<o,o=t[o],o>i&&(i=o),r&=~s}if(r=i,r=jn()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Kie(r/1960))-r,10<r){e.timeoutHandle=A_(pl.bind(null,e,Zr,So),r);break}pl(e,Zr,So);break;case 5:pl(e,Zr,So);break;default:throw Error(ce(329))}}}return li(e,jn()),e.callbackNode===n?wL.bind(null,e):null}function D_(e,t){var n=Lf;return e.current.memoizedState.isDehydrated&&(Vl(e,t).flags|=256),e=_0(e,t),e!==2&&(t=Zr,Zr=n,t!==null&&$_(t)),e}function $_(e){Zr===null?Zr=e:Zr.push.apply(Zr,e)}function Yie(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!$s(s(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function fa(e,t){for(t&=~Xw,t&=~Jy,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Vs(t),r=1<<n;e[n]=-1,t&=~r}}function pP(e){if(gt&6)throw Error(ce(327));Su();var t=r0(e,0);if(!(t&1))return li(e,jn()),null;var n=_0(e,t);if(e.tag!==0&&n===2){var r=d_(e);r!==0&&(t=r,n=D_(e,r))}if(n===1)throw n=_h,Vl(e,0),fa(e,t),li(e,jn()),n;if(n===6)throw Error(ce(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,pl(e,Zr,So),li(e,jn()),null}function eE(e,t){var n=gt;gt|=1;try{return e(t)}finally{gt=n,gt===0&&(Wu=jn()+500,Wy&&Ya())}}function ic(e){_a!==null&&_a.tag===0&&!(gt&6)&&Su();var t=gt;gt|=1;var n=ss.transition,r=Rt;try{if(ss.transition=null,Rt=1,e)return e()}finally{Rt=r,ss.transition=n,gt=t,!(gt&6)&&Ya()}}function tE(){yi=ru.current,Jt(ru)}function Vl(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,Eie(n)),Un!==null)for(n=Un.return;n!==null;){var r=n;switch(Vw(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&l0();break;case 3:Gu(),Jt(oi),Jt(Pr),Hw();break;case 5:Uw(r);break;case 4:Gu();break;case 13:Jt(fn);break;case 19:Jt(fn);break;case 10:Dw(r.type._context);break;case 22:case 23:tE()}n=n.return}if(sr=e,Un=e=ja(e.current,null),yr=yi=t,Kn=0,_h=null,Xw=Jy=rc=0,Zr=Lf=null,wl!==null){for(t=0;t<wl.length;t++)if(n=wl[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}wl=null}return e}function EL(e,t){do{var n=Un;try{if(Bw(),Qg.current=y0,m0){for(var r=gn.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}m0=!1}if(nc=0,nr=Gn=gn=null,Of=!1,vh=0,Jw.current=null,n===null||n.return===null){Kn=1,_h=t,Un=null;break}e:{var s=e,o=n.return,a=n,l=t;if(t=yr,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=a,d=u.tag;if(!(u.mode&1)&&(d===0||d===11||d===15)){var h=u.alternate;h?(u.updateQueue=h.updateQueue,u.memoizedState=h.memoizedState,u.lanes=h.lanes):(u.updateQueue=null,u.memoizedState=null)}var p=tP(o);if(p!==null){p.flags&=-257,nP(p,o,a,s,t),p.mode&1&&eP(s,c,t),t=p,l=c;var g=t.updateQueue;if(g===null){var m=new Set;m.add(l),t.updateQueue=m}else g.add(l);break e}else{if(!(t&1)){eP(s,c,t),nE();break e}l=Error(ce(426))}}else if(on&&a.mode&1){var b=tP(o);if(b!==null){!(b.flags&65536)&&(b.flags|=256),nP(b,o,a,s,t),Lw(qu(l,a));break e}}s=l=qu(l,a),Kn!==4&&(Kn=2),Lf===null?Lf=[s]:Lf.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var y=lL(s,l,t);WI(s,y);break e;case 1:a=l;var v=s.type,_=s.stateNode;if(!(s.flags&128)&&(typeof v.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(Ra===null||!Ra.has(_)))){s.flags|=65536,t&=-t,s.lanes|=t;var x=cL(s,a,t);WI(s,x);break e}}s=s.return}while(s!==null)}TL(n)}catch(S){t=S,Un===n&&n!==null&&(Un=n=n.return);continue}break}while(!0)}function CL(){var e=v0.current;return v0.current=y0,e===null?y0:e}function nE(){(Kn===0||Kn===3||Kn===2)&&(Kn=4),sr===null||!(rc&268435455)&&!(Jy&268435455)||fa(sr,yr)}function _0(e,t){var n=gt;gt|=2;var r=CL();(sr!==e||yr!==t)&&(So=null,Vl(e,t));do try{Qie();break}catch(i){EL(e,i)}while(!0);if(Bw(),gt=n,v0.current=r,Un!==null)throw Error(ce(261));return sr=null,yr=0,Kn}function Qie(){for(;Un!==null;)kL(Un)}function Jie(){for(;Un!==null&&!Sre();)kL(Un)}function kL(e){var t=PL(e.alternate,e,yi);e.memoizedProps=e.pendingProps,t===null?TL(e):Un=t,Jw.current=null}function TL(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=Hie(n,t),n!==null){n.flags&=32767,Un=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Kn=6,Un=null;return}}else if(n=Uie(n,t,yi),n!==null){Un=n;return}if(t=t.sibling,t!==null){Un=t;return}Un=t=e}while(t!==null);Kn===0&&(Kn=5)}function pl(e,t,n){var r=Rt,i=ss.transition;try{ss.transition=null,Rt=1,Xie(e,t,n,r)}finally{ss.transition=i,Rt=r}return null}function Xie(e,t,n,r){do Su();while(_a!==null);if(gt&6)throw Error(ce(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(ce(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(Mre(e,s),e===sr&&(Un=sr=null,yr=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||sg||(sg=!0,RL(n0,function(){return Su(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=ss.transition,ss.transition=null;var o=Rt;Rt=1;var a=gt;gt|=4,Jw.current=null,qie(e,n),SL(n,e),vie(y_),i0=!!m_,y_=m_=null,e.current=n,Wie(n),xre(),gt=a,Rt=o,ss.transition=s}else e.current=n;if(sg&&(sg=!1,_a=e,b0=i),s=e.pendingLanes,s===0&&(Ra=null),Cre(n.stateNode),li(e,jn()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(A0)throw A0=!1,e=N_,N_=null,e;return b0&1&&e.tag!==0&&Su(),s=e.pendingLanes,s&1?e===B_?Nf++:(Nf=0,B_=e):Nf=0,Ya(),null}function Su(){if(_a!==null){var e=a4(b0),t=ss.transition,n=Rt;try{if(ss.transition=null,Rt=16>e?16:e,_a===null)var r=!1;else{if(e=_a,_a=null,b0=0,gt&6)throw Error(ce(331));var i=gt;for(gt|=4,_e=e.current;_e!==null;){var s=_e,o=s.child;if(_e.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(_e=c;_e!==null;){var u=_e;switch(u.tag){case 0:case 11:case 15:Vf(8,u,s)}var d=u.child;if(d!==null)d.return=u,_e=d;else for(;_e!==null;){u=_e;var h=u.sibling,p=u.return;if(AL(u),u===c){_e=null;break}if(h!==null){h.return=p,_e=h;break}_e=p}}}var g=s.alternate;if(g!==null){var m=g.child;if(m!==null){g.child=null;do{var b=m.sibling;m.sibling=null,m=b}while(m!==null)}}_e=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,_e=o;else e:for(;_e!==null;){if(s=_e,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Vf(9,s,s.return)}var y=s.sibling;if(y!==null){y.return=s.return,_e=y;break e}_e=s.return}}var v=e.current;for(_e=v;_e!==null;){o=_e;var _=o.child;if(o.subtreeFlags&2064&&_!==null)_.return=o,_e=_;else e:for(o=v;_e!==null;){if(a=_e,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Qy(9,a)}}catch(S){_n(a,a.return,S)}if(a===o){_e=null;break e}var x=a.sibling;if(x!==null){x.return=a.return,_e=x;break e}_e=a.return}}if(gt=i,Ya(),ao&&typeof ao.onPostCommitFiberRoot=="function")try{ao.onPostCommitFiberRoot(zy,e)}catch{}r=!0}return r}finally{Rt=n,ss.transition=t}}return!1}function gP(e,t,n){t=qu(n,t),t=lL(e,t,1),e=Pa(e,t,1),t=Hr(),e!==null&&(Yh(e,1,t),li(e,t))}function _n(e,t,n){if(e.tag===3)gP(e,e,n);else for(;t!==null;){if(t.tag===3){gP(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Ra===null||!Ra.has(r))){e=qu(n,e),e=cL(t,e,1),t=Pa(t,e,1),e=Hr(),t!==null&&(Yh(t,1,e),li(t,e));break}}t=t.return}}function Zie(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Hr(),e.pingedLanes|=e.suspendedLanes&n,sr===e&&(yr&n)===n&&(Kn===4||Kn===3&&(yr&130023424)===yr&&500>jn()-Zw?Vl(e,0):Xw|=n),li(e,t)}function IL(e,t){t===0&&(e.mode&1?(t=Yp,Yp<<=1,!(Yp&130023424)&&(Yp=4194304)):t=1);var n=Hr();e=Go(e,t),e!==null&&(Yh(e,t,n),li(e,n))}function ese(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),IL(e,n)}function tse(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(ce(314))}r!==null&&r.delete(t),IL(e,n)}var PL;PL=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||oi.current)ri=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return ri=!1,zie(e,t,n);ri=!!(e.flags&131072)}else ri=!1,on&&t.flags&1048576&&j4(t,d0,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Xg(e,t),e=t.pendingProps;var i=zu(t,Pr.current);_u(t,n),i=qw(null,t,r,e,i,n);var s=Ww();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,ai(r)?(s=!0,c0(t)):s=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Fw(t),i.updater=Ky,t.stateNode=i,i._reactInternals=t,C_(t,r,e,n),t=I_(null,t,r,!0,s,n)):(t.tag=0,on&&s&&Ow(t),Br(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Xg(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=rse(r),e=_s(r,e),i){case 0:t=T_(null,t,r,e,n);break e;case 1:t=sP(null,t,r,e,n);break e;case 11:t=rP(null,t,r,e,n);break e;case 14:t=iP(null,t,r,_s(r.type,e),n);break e}throw Error(ce(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:_s(r,i),T_(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:_s(r,i),sP(e,t,r,i,n);case 3:e:{if(hL(t),e===null)throw Error(ce(387));r=t.pendingProps,s=t.memoizedState,i=s.element,N4(e,t),p0(t,r,null,n);var o=t.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){i=qu(Error(ce(423)),t),t=oP(e,t,r,n,i);break e}else if(r!==i){i=qu(Error(ce(424)),t),t=oP(e,t,r,n,i);break e}else for(xi=Ia(t.stateNode.containerInfo.firstChild),ki=t,on=!0,Cs=null,n=F4(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Uu(),r===i){t=qo(e,t,n);break e}Br(e,t,r,n)}t=t.child}return t;case 5:return z4(t),e===null&&x_(t),r=t.type,i=t.pendingProps,s=e!==null?e.memoizedProps:null,o=i.children,v_(r,i)?o=null:s!==null&&v_(r,s)&&(t.flags|=32),fL(e,t),Br(e,t,o,n),t.child;case 6:return e===null&&x_(t),null;case 13:return pL(e,t,n);case 4:return zw(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Hu(t,null,r,n):Br(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:_s(r,i),rP(e,t,r,i,n);case 7:return Br(e,t,t.pendingProps,n),t.child;case 8:return Br(e,t,t.pendingProps.children,n),t.child;case 12:return Br(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,s=t.memoizedProps,o=i.value,Gt(f0,r._currentValue),r._currentValue=o,s!==null)if($s(s.value,o)){if(s.children===i.children&&!oi.current){t=qo(e,t,n);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=Lo(-1,n&-n),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),w_(s.return,n,t),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===t.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(ce(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),w_(o,n,t),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===t){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Br(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,_u(t,n),i=us(i),r=r(i),t.flags|=1,Br(e,t,r,n),t.child;case 14:return r=t.type,i=_s(r,t.pendingProps),i=_s(r.type,i),iP(e,t,r,i,n);case 15:return uL(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:_s(r,i),Xg(e,t),t.tag=1,ai(r)?(e=!0,c0(t)):e=!1,_u(t,n),D4(t,r,i),C_(t,r,i,n),I_(null,t,r,!0,e,n);case 19:return gL(e,t,n);case 22:return dL(e,t,n)}throw Error(ce(156,t.tag))};function RL(e,t){return r4(e,t)}function nse(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Zi(e,t,n,r){return new nse(e,t,n,r)}function rE(e){return e=e.prototype,!(!e||!e.isReactComponent)}function rse(e){if(typeof e=="function")return rE(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Sw)return 11;if(e===xw)return 14}return 2}function ja(e,t){var n=e.alternate;return n===null?(n=Zi(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function tm(e,t,n,r,i,s){var o=2;if(r=e,typeof e=="function")rE(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Wc:return Ll(n.children,i,s,t);case _w:o=8,i|=8;break;case Qb:return e=Zi(12,n,t,i|2),e.elementType=Qb,e.lanes=s,e;case Jb:return e=Zi(13,n,t,i),e.elementType=Jb,e.lanes=s,e;case Xb:return e=Zi(19,n,t,i),e.elementType=Xb,e.lanes=s,e;case $V:return Xy(n,i,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case BV:o=10;break e;case DV:o=9;break e;case Sw:o=11;break e;case xw:o=14;break e;case ca:o=16,r=null;break e}throw Error(ce(130,e==null?e:typeof e,""))}return t=Zi(o,n,t,i),t.elementType=e,t.type=r,t.lanes=s,t}function Ll(e,t,n,r){return e=Zi(7,e,r,t),e.lanes=n,e}function Xy(e,t,n,r){return e=Zi(22,e,r,t),e.elementType=$V,e.lanes=n,e.stateNode={isHidden:!1},e}function VA(e,t,n){return e=Zi(6,e,null,t),e.lanes=n,e}function LA(e,t,n){return t=Zi(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function ise(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mA(0),this.expirationTimes=mA(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mA(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function iE(e,t,n,r,i,s,o,a,l){return e=new ise(e,t,n,a,l),t===1?(t=1,s===!0&&(t|=8)):t=0,s=Zi(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Fw(s),e}function sse(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:qc,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function ML(e){if(!e)return $a;e=e._reactInternals;e:{if(yc(e)!==e||e.tag!==1)throw Error(ce(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(ai(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(ce(171))}if(e.tag===1){var n=e.type;if(ai(n))return R4(e,n,t)}return t}function jL(e,t,n,r,i,s,o,a,l){return e=iE(n,r,!0,e,i,s,o,a,l),e.context=ML(null),n=e.current,r=Hr(),i=Ma(n),s=Lo(r,i),s.callback=t??null,Pa(n,s,i),e.current.lanes=i,Yh(e,i,r),li(e,r),e}function Zy(e,t,n,r){var i=t.current,s=Hr(),o=Ma(i);return n=ML(n),t.context===null?t.context=n:t.pendingContext=n,t=Lo(s,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Pa(i,t,o),e!==null&&(Ls(e,i,o,s),Yg(e,i,o)),o}function S0(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function mP(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function sE(e,t){mP(e,t),(e=e.alternate)&&mP(e,t)}function ose(){return null}var OL=typeof reportError=="function"?reportError:function(e){console.error(e)};function oE(e){this._internalRoot=e}ev.prototype.render=oE.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(ce(409));Zy(e,t,null,null)};ev.prototype.unmount=oE.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;ic(function(){Zy(null,e,null,null)}),t[Ho]=null}};function ev(e){this._internalRoot=e}ev.prototype.unstable_scheduleHydration=function(e){if(e){var t=u4();e={blockedOn:null,target:e,priority:t};for(var n=0;n<da.length&&t!==0&&t<da[n].priority;n++);da.splice(n,0,e),n===0&&f4(e)}};function aE(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function tv(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function yP(){}function ase(e,t,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var c=S0(o);s.call(c)}}var o=jL(t,r,e,0,null,!1,!1,"",yP);return e._reactRootContainer=o,e[Ho]=o.current,hh(e.nodeType===8?e.parentNode:e),ic(),o}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=S0(l);a.call(c)}}var l=iE(e,0,!1,null,null,!1,!1,"",yP);return e._reactRootContainer=l,e[Ho]=l.current,hh(e.nodeType===8?e.parentNode:e),ic(function(){Zy(t,l,n,r)}),l}function nv(e,t,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=S0(o);a.call(l)}}Zy(t,o,e,i)}else o=ase(n,t,e,i,r);return S0(o)}l4=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=of(t.pendingLanes);n!==0&&(Cw(t,n|1),li(t,jn()),!(gt&6)&&(Wu=jn()+500,Ya()))}break;case 13:ic(function(){var r=Go(e,1);if(r!==null){var i=Hr();Ls(r,e,1,i)}}),sE(e,1)}};kw=function(e){if(e.tag===13){var t=Go(e,134217728);if(t!==null){var n=Hr();Ls(t,e,134217728,n)}sE(e,134217728)}};c4=function(e){if(e.tag===13){var t=Ma(e),n=Go(e,t);if(n!==null){var r=Hr();Ls(n,e,t,r)}sE(e,t)}};u4=function(){return Rt};d4=function(e,t){var n=Rt;try{return Rt=e,t()}finally{Rt=n}};l_=function(e,t,n){switch(t){case"input":if(t_(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=qy(r);if(!i)throw Error(ce(90));zV(r),t_(r,i)}}}break;case"textarea":HV(e,n);break;case"select":t=n.value,t!=null&&yu(e,!!n.multiple,t,!1)}};JV=eE;XV=ic;var lse={usingClientEntryPoint:!1,Events:[Jh,Jc,qy,YV,QV,eE]},Ud={findFiberByHostInstance:xl,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},cse={bundleType:Ud.bundleType,version:Ud.version,rendererPackageName:Ud.rendererPackageName,rendererConfig:Ud.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Yo.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=t4(e),e===null?null:e.stateNode},findFiberByHostInstance:Ud.findFiberByHostInstance||ose,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var og=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!og.isDisabled&&og.supportsFiber)try{zy=og.inject(cse),ao=og}catch{}}Vi.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=lse;Vi.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!aE(t))throw Error(ce(200));return sse(e,t,null,n)};Vi.createRoot=function(e,t){if(!aE(e))throw Error(ce(299));var n=!1,r="",i=OL;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=iE(e,1,!1,null,null,n,!1,r,i),e[Ho]=t.current,hh(e.nodeType===8?e.parentNode:e),new oE(t)};Vi.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(ce(188)):(e=Object.keys(e).join(","),Error(ce(268,e)));return e=t4(t),e=e===null?null:e.stateNode,e};Vi.flushSync=function(e){return ic(e)};Vi.hydrate=function(e,t,n){if(!tv(t))throw Error(ce(200));return nv(null,e,t,!0,n)};Vi.hydrateRoot=function(e,t,n){if(!aE(e))throw Error(ce(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=OL;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=jL(t,null,e,1,n??null,i,!1,s,o),e[Ho]=t.current,hh(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new ev(t)};Vi.render=function(e,t,n){if(!tv(t))throw Error(ce(200));return nv(null,e,t,!1,n)};Vi.unmountComponentAtNode=function(e){if(!tv(e))throw Error(ce(40));return e._reactRootContainer?(ic(function(){nv(null,null,e,!1,function(){e._reactRootContainer=null,e[Ho]=null})}),!0):!1};Vi.unstable_batchedUpdates=eE;Vi.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!tv(n))throw Error(ce(200));if(e==null||e._reactInternals===void 0)throw Error(ce(38));return nv(e,t,n,!1,r)};Vi.version="18.2.0-next-9e3b772b8-20220608";function VL(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(VL)}catch(e){console.error(e)}}VL(),jV.exports=Vi;var vc=jV.exports;const ag=Ar(vc),vP={disabled:!1},x0=Ie.createContext(null);var use=function(t){return t.scrollTop},lf="unmounted",gl="exited",ml="entering",Nc="entered",F_="exiting",Qo=function(e){MV(t,e);function t(r,i){var s;s=e.call(this,r,i)||this;var o=i,a=o&&!o.isMounting?r.enter:r.appear,l;return s.appearStatus=null,r.in?a?(l=gl,s.appearStatus=ml):l=Nc:r.unmountOnExit||r.mountOnEnter?l=lf:l=gl,s.state={status:l},s.nextCallback=null,s}t.getDerivedStateFromProps=function(i,s){var o=i.in;return o&&s.status===lf?{status:gl}:null};var n=t.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(i){var s=null;if(i!==this.props){var o=this.state.status;this.props.in?o!==ml&&o!==Nc&&(s=ml):(o===ml||o===Nc)&&(s=F_)}this.updateStatus(!1,s)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var i=this.props.timeout,s,o,a;return s=o=a=i,i!=null&&typeof i!="number"&&(s=i.exit,o=i.enter,a=i.appear!==void 0?i.appear:o),{exit:s,enter:o,appear:a}},n.updateStatus=function(i,s){if(i===void 0&&(i=!1),s!==null)if(this.cancelNextCallback(),s===ml){if(this.props.unmountOnExit||this.props.mountOnEnter){var o=this.props.nodeRef?this.props.nodeRef.current:ag.findDOMNode(this);o&&use(o)}this.performEnter(i)}else this.performExit();else this.props.unmountOnExit&&this.state.status===gl&&this.setState({status:lf})},n.performEnter=function(i){var s=this,o=this.props.enter,a=this.context?this.context.isMounting:i,l=this.props.nodeRef?[a]:[ag.findDOMNode(this),a],c=l[0],u=l[1],d=this.getTimeouts(),h=a?d.appear:d.enter;if(!i&&!o||vP.disabled){this.safeSetState({status:Nc},function(){s.props.onEntered(c)});return}this.props.onEnter(c,u),this.safeSetState({status:ml},function(){s.props.onEntering(c,u),s.onTransitionEnd(h,function(){s.safeSetState({status:Nc},function(){s.props.onEntered(c,u)})})})},n.performExit=function(){var i=this,s=this.props.exit,o=this.getTimeouts(),a=this.props.nodeRef?void 0:ag.findDOMNode(this);if(!s||vP.disabled){this.safeSetState({status:gl},function(){i.props.onExited(a)});return}this.props.onExit(a),this.safeSetState({status:F_},function(){i.props.onExiting(a),i.onTransitionEnd(o.exit,function(){i.safeSetState({status:gl},function(){i.props.onExited(a)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(i,s){s=this.setNextCallback(s),this.setState(i,s)},n.setNextCallback=function(i){var s=this,o=!0;return this.nextCallback=function(a){o&&(o=!1,s.nextCallback=null,i(a))},this.nextCallback.cancel=function(){o=!1},this.nextCallback},n.onTransitionEnd=function(i,s){this.setNextCallback(s);var o=this.props.nodeRef?this.props.nodeRef.current:ag.findDOMNode(this),a=i==null&&!this.props.addEndListener;if(!o||a){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var l=this.props.nodeRef?[this.nextCallback]:[o,this.nextCallback],c=l[0],u=l[1];this.props.addEndListener(c,u)}i!=null&&setTimeout(this.nextCallback,i)},n.render=function(){var i=this.state.status;if(i===lf)return null;var s=this.props,o=s.children;s.in,s.mountOnEnter,s.unmountOnExit,s.appear,s.enter,s.exit,s.timeout,s.addEndListener,s.onEnter,s.onEntering,s.onEntered,s.onExit,s.onExiting,s.onExited,s.nodeRef;var a=RV(s,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return Ie.createElement(x0.Provider,{value:null},typeof o=="function"?o(i,a):Ie.cloneElement(Ie.Children.only(o),a))},t}(Ie.Component);Qo.contextType=x0;Qo.propTypes={};function Pc(){}Qo.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Pc,onEntering:Pc,onEntered:Pc,onExit:Pc,onExiting:Pc,onExited:Pc};Qo.UNMOUNTED=lf;Qo.EXITED=gl;Qo.ENTERING=ml;Qo.ENTERED=Nc;Qo.EXITING=F_;function dse(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function lE(e,t){var n=function(s){return t&&A.isValidElement(s)?t(s):s},r=Object.create(null);return e&&A.Children.map(e,function(i){return i}).forEach(function(i){r[i.key]=n(i)}),r}function fse(e,t){e=e||{},t=t||{};function n(u){return u in t?t[u]:e[u]}var r=Object.create(null),i=[];for(var s in e)s in t?i.length&&(r[s]=i,i=[]):i.push(s);var o,a={};for(var l in t){if(r[l])for(o=0;o<r[l].length;o++){var c=r[l][o];a[r[l][o]]=n(c)}a[l]=n(l)}for(o=0;o<i.length;o++)a[i[o]]=n(i[o]);return a}function Cl(e,t,n){return n[t]!=null?n[t]:e.props[t]}function hse(e,t){return lE(e.children,function(n){return A.cloneElement(n,{onExited:t.bind(null,n),in:!0,appear:Cl(n,"appear",e),enter:Cl(n,"enter",e),exit:Cl(n,"exit",e)})})}function pse(e,t,n){var r=lE(e.children),i=fse(t,r);return Object.keys(i).forEach(function(s){var o=i[s];if(A.isValidElement(o)){var a=s in t,l=s in r,c=t[s],u=A.isValidElement(c)&&!c.props.in;l&&(!a||u)?i[s]=A.cloneElement(o,{onExited:n.bind(null,o),in:!0,exit:Cl(o,"exit",e),enter:Cl(o,"enter",e)}):!l&&a&&!u?i[s]=A.cloneElement(o,{in:!1}):l&&a&&A.isValidElement(c)&&(i[s]=A.cloneElement(o,{onExited:n.bind(null,o),in:c.props.in,exit:Cl(o,"exit",e),enter:Cl(o,"enter",e)}))}}),i}var gse=Object.values||function(e){return Object.keys(e).map(function(t){return e[t]})},mse={component:"div",childFactory:function(t){return t}},cE=function(e){MV(t,e);function t(r,i){var s;s=e.call(this,r,i)||this;var o=s.handleExited.bind(dse(s));return s.state={contextValue:{isMounting:!0},handleExited:o,firstRender:!0},s}var n=t.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},t.getDerivedStateFromProps=function(i,s){var o=s.children,a=s.handleExited,l=s.firstRender;return{children:l?hse(i,a):pse(i,o,a),firstRender:!1}},n.handleExited=function(i,s){var o=lE(this.props.children);i.key in o||(i.props.onExited&&i.props.onExited(s),this.mounted&&this.setState(function(a){var l=zm({},a.children);return delete l[i.key],{children:l}}))},n.render=function(){var i=this.props,s=i.component,o=i.childFactory,a=RV(i,["component","childFactory"]),l=this.state.contextValue,c=gse(this.state.children).map(o);return delete a.appear,delete a.enter,delete a.exit,s===null?Ie.createElement(x0.Provider,{value:l},c):Ie.createElement(x0.Provider,{value:l},Ie.createElement(s,a,c))},t}(Ie.Component);cE.propTypes={};cE.defaultProps=mse;function yse(e){const{className:t,classes:n,pulsate:r=!1,rippleX:i,rippleY:s,rippleSize:o,in:a,onExited:l,timeout:c}=e,[u,d]=A.useState(!1),h=xt(t,n.ripple,n.rippleVisible,r&&n.ripplePulsate),p={width:o,height:o,top:-(o/2)+s,left:-(o/2)+i},g=xt(n.child,u&&n.childLeaving,r&&n.childPulsate);return!a&&!u&&d(!0),A.useEffect(()=>{if(!a&&l!=null){const m=setTimeout(l,c);return()=>{clearTimeout(m)}}},[l,a,c]),f.jsx("span",{className:h,style:p,children:f.jsx("span",{className:g})})}const Hi=Mr("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),z_=550,vse=80,Ase=pc`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`,bse=pc`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`,_se=pc`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`,Sse=Zt("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),xse=Zt(yse,{name:"MuiTouchRipple",slot:"Ripple"})`
  opacity: 0;
  position: absolute;

  &.${Hi.rippleVisible} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${Ase};
    animation-duration: ${z_}ms;
    animation-timing-function: ${({theme:e})=>e.transitions.easing.easeInOut};
  }

  &.${Hi.ripplePulsate} {
    animation-duration: ${({theme:e})=>e.transitions.duration.shorter}ms;
  }

  & .${Hi.child} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${Hi.childLeaving} {
    opacity: 0;
    animation-name: ${bse};
    animation-duration: ${z_}ms;
    animation-timing-function: ${({theme:e})=>e.transitions.easing.easeInOut};
  }

  & .${Hi.childPulsate} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${_se};
    animation-duration: 2500ms;
    animation-timing-function: ${({theme:e})=>e.transitions.easing.easeInOut};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`,wse=A.forwardRef(function(t,n){const r=jr({props:t,name:"MuiTouchRipple"}),{center:i=!1,classes:s={},className:o,...a}=r,[l,c]=A.useState([]),u=A.useRef(0),d=A.useRef(null);A.useEffect(()=>{d.current&&(d.current(),d.current=null)},[l]);const h=A.useRef(!1),p=kee(),g=A.useRef(null),m=A.useRef(null),b=A.useCallback(x=>{const{pulsate:S,rippleX:E,rippleY:C,rippleSize:k,cb:O}=x;c(w=>[...w,f.jsx(xse,{classes:{ripple:xt(s.ripple,Hi.ripple),rippleVisible:xt(s.rippleVisible,Hi.rippleVisible),ripplePulsate:xt(s.ripplePulsate,Hi.ripplePulsate),child:xt(s.child,Hi.child),childLeaving:xt(s.childLeaving,Hi.childLeaving),childPulsate:xt(s.childPulsate,Hi.childPulsate)},timeout:z_,pulsate:S,rippleX:E,rippleY:C,rippleSize:k},u.current)]),u.current+=1,d.current=O},[s]),y=A.useCallback((x={},S={},E=()=>{})=>{const{pulsate:C=!1,center:k=i||S.pulsate,fakeElement:O=!1}=S;if((x==null?void 0:x.type)==="mousedown"&&h.current){h.current=!1;return}(x==null?void 0:x.type)==="touchstart"&&(h.current=!0);const w=O?null:m.current,M=w?w.getBoundingClientRect():{width:0,height:0,left:0,top:0};let N,R,V;if(k||x===void 0||x.clientX===0&&x.clientY===0||!x.clientX&&!x.touches)N=Math.round(M.width/2),R=Math.round(M.height/2);else{const{clientX:P,clientY:T}=x.touches&&x.touches.length>0?x.touches[0]:x;N=Math.round(P-M.left),R=Math.round(T-M.top)}if(k)V=Math.sqrt((2*M.width**2+M.height**2)/3),V%2===0&&(V+=1);else{const P=Math.max(Math.abs((w?w.clientWidth:0)-N),N)*2+2,T=Math.max(Math.abs((w?w.clientHeight:0)-R),R)*2+2;V=Math.sqrt(P**2+T**2)}x!=null&&x.touches?g.current===null&&(g.current=()=>{b({pulsate:C,rippleX:N,rippleY:R,rippleSize:V,cb:E})},p.start(vse,()=>{g.current&&(g.current(),g.current=null)})):b({pulsate:C,rippleX:N,rippleY:R,rippleSize:V,cb:E})},[i,b,p]),v=A.useCallback(()=>{y({},{pulsate:!0})},[y]),_=A.useCallback((x,S)=>{if(p.clear(),(x==null?void 0:x.type)==="touchend"&&g.current){g.current(),g.current=null,p.start(0,()=>{_(x,S)});return}g.current=null,c(E=>E.length>0?E.slice(1):E),d.current=S},[p]);return A.useImperativeHandle(n,()=>({pulsate:v,start:y,stop:_}),[v,y,_]),f.jsx(Sse,{className:xt(Hi.root,s.root,o),ref:m,...a,children:f.jsx(cE,{component:null,exit:!0,children:l})})});function Ese(e){return Rr("MuiButtonBase",e)}const Cse=Mr("MuiButtonBase",["root","disabled","focusVisible"]),kse=e=>{const{disabled:t,focusVisible:n,focusVisibleClassName:r,classes:i}=e,o=Wr({root:["root",t&&"disabled",n&&"focusVisible"]},Ese,i);return n&&r&&(o.root+=` ${r}`),o},Tse=Zt("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${Cse.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),LL=A.forwardRef(function(t,n){const r=jr({props:t,name:"MuiButtonBase"}),{action:i,centerRipple:s=!1,children:o,className:a,component:l="button",disabled:c=!1,disableRipple:u=!1,disableTouchRipple:d=!1,focusRipple:h=!1,focusVisibleClassName:p,LinkComponent:g="a",onBlur:m,onClick:b,onContextMenu:y,onDragLeave:v,onFocus:_,onFocusVisible:x,onKeyDown:S,onKeyUp:E,onMouseDown:C,onMouseLeave:k,onMouseUp:O,onTouchEnd:w,onTouchMove:M,onTouchStart:N,tabIndex:R=0,TouchRippleProps:V,touchRippleRef:P,type:T,...z}=r,B=A.useRef(null),D=sre(),F=Na(D.ref,P),[G,U]=A.useState(!1);c&&G&&U(!1),A.useImperativeHandle(i,()=>({focusVisible:()=>{U(!0),B.current.focus()}}),[]);const ne=D.shouldMount&&!u&&!c;A.useEffect(()=>{G&&h&&!u&&D.pulsate()},[u,h,G,D]);function $(Ce,ut,jt=d){return Gc(Ot=>(ut&&ut(Ot),jt||D[Ce](Ot),!0))}const fe=$("start",C),Z=$("stop",y),oe=$("stop",v),Re=$("stop",O),Ee=$("stop",Ce=>{G&&Ce.preventDefault(),k&&k(Ce)}),ae=$("start",N),be=$("stop",w),Ve=$("stop",M),Ne=$("stop",Ce=>{YT(Ce.target)||U(!1),m&&m(Ce)},!1),ye=Gc(Ce=>{B.current||(B.current=Ce.currentTarget),YT(Ce.target)&&(U(!0),x&&x(Ce)),_&&_(Ce)}),Se=()=>{const Ce=B.current;return l&&l!=="button"&&!(Ce.tagName==="A"&&Ce.href)},We=Gc(Ce=>{h&&!Ce.repeat&&G&&Ce.key===" "&&D.stop(Ce,()=>{D.start(Ce)}),Ce.target===Ce.currentTarget&&Se()&&Ce.key===" "&&Ce.preventDefault(),S&&S(Ce),Ce.target===Ce.currentTarget&&Se()&&Ce.key==="Enter"&&!c&&(Ce.preventDefault(),b&&b(Ce))}),Be=Gc(Ce=>{h&&Ce.key===" "&&G&&!Ce.defaultPrevented&&D.stop(Ce,()=>{D.pulsate(Ce)}),E&&E(Ce),b&&Ce.target===Ce.currentTarget&&Se()&&Ce.key===" "&&!Ce.defaultPrevented&&b(Ce)});let xe=l;xe==="button"&&(z.href||z.to)&&(xe=g);const Je={};xe==="button"?(Je.type=T===void 0?"button":T,Je.disabled=c):(!z.href&&!z.to&&(Je.role="button"),c&&(Je["aria-disabled"]=c));const Ct=Na(n,B),qt={...r,centerRipple:s,component:l,disabled:c,disableRipple:u,disableTouchRipple:d,focusRipple:h,tabIndex:R,focusVisible:G},kt=kse(qt);return f.jsxs(Tse,{as:xe,className:xt(kt.root,a),ownerState:qt,onBlur:Ne,onClick:b,onContextMenu:Z,onFocus:ye,onKeyDown:We,onKeyUp:Be,onMouseDown:fe,onMouseLeave:Ee,onMouseUp:Re,onDragLeave:oe,onTouchEnd:be,onTouchMove:Ve,onTouchStart:ae,ref:Ct,tabIndex:c?-1:R,type:T,...Je,...z,children:[o,ne?f.jsx(wse,{ref:F,center:s,...V}):null]})});function Ise(e){return Rr("MuiIconButton",e)}const Pse=Mr("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge"]),Rse=e=>{const{classes:t,disabled:n,color:r,edge:i,size:s}=e,o={root:["root",n&&"disabled",r!=="default"&&`color${lt(r)}`,i&&`edge${lt(i)}`,`size${lt(s)}`]};return Wr(o,Ise,t)},Mse=Zt(LL,{name:"MuiIconButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.color!=="default"&&t[`color${lt(n.color)}`],n.edge&&t[`edge${lt(n.edge)}`],t[`size${lt(n.size)}`]]}})(cs(({theme:e})=>({textAlign:"center",flex:"0 0 auto",fontSize:e.typography.pxToRem(24),padding:8,borderRadius:"50%",color:(e.vars||e).palette.action.active,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shortest}),variants:[{props:t=>!t.disableRipple,style:{"--IconButton-hoverBg":e.vars?`rgba(${e.vars.palette.action.activeChannel} / ${e.vars.palette.action.hoverOpacity})`:Ts(e.palette.action.active,e.palette.action.hoverOpacity),"&:hover":{backgroundColor:"var(--IconButton-hoverBg)","@media (hover: none)":{backgroundColor:"transparent"}}}},{props:{edge:"start"},style:{marginLeft:-12}},{props:{edge:"start",size:"small"},style:{marginLeft:-3}},{props:{edge:"end"},style:{marginRight:-12}},{props:{edge:"end",size:"small"},style:{marginRight:-3}}]})),cs(({theme:e})=>({variants:[{props:{color:"inherit"},style:{color:"inherit"}},...Object.entries(e.palette).filter(ih()).map(([t])=>({props:{color:t},style:{color:(e.vars||e).palette[t].main}})),...Object.entries(e.palette).filter(ih()).map(([t])=>({props:{color:t},style:{"--IconButton-hoverBg":e.vars?`rgba(${(e.vars||e).palette[t].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:Ts((e.vars||e).palette[t].main,e.palette.action.hoverOpacity)}})),{props:{size:"small"},style:{padding:5,fontSize:e.typography.pxToRem(18)}},{props:{size:"large"},style:{padding:12,fontSize:e.typography.pxToRem(28)}}],[`&.${Pse.disabled}`]:{backgroundColor:"transparent",color:(e.vars||e).palette.action.disabled}}))),rv=A.forwardRef(function(t,n){const r=jr({props:t,name:"MuiIconButton"}),{edge:i=!1,children:s,className:o,color:a="default",disabled:l=!1,disableFocusRipple:c=!1,size:u="medium",...d}=r,h={...r,edge:i,color:a,disabled:l,disableFocusRipple:c,size:u},p=Rse(h);return f.jsx(Mse,{className:xt(p.root,o),centerRipple:!0,focusRipple:!c,disabled:l,ref:n,...d,ownerState:h,children:s})}),Ku=Math.min,Nl=Math.max,w0=Math.round,lg=Math.floor,Fa=e=>({x:e,y:e}),jse={left:"right",right:"left",bottom:"top",top:"bottom"},Ose={start:"end",end:"start"};function U_(e,t,n){return Nl(e,Ku(t,n))}function Zh(e,t){return typeof e=="function"?e(t):e}function sc(e){return e.split("-")[0]}function ep(e){return e.split("-")[1]}function NL(e){return e==="x"?"y":"x"}function uE(e){return e==="y"?"height":"width"}function Yu(e){return["top","bottom"].includes(sc(e))?"y":"x"}function dE(e){return NL(Yu(e))}function Vse(e,t,n){n===void 0&&(n=!1);const r=ep(e),i=dE(e),s=uE(i);let o=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[s]>t.floating[s]&&(o=E0(o)),[o,E0(o)]}function Lse(e){const t=E0(e);return[H_(e),t,H_(t)]}function H_(e){return e.replace(/start|end/g,t=>Ose[t])}function Nse(e,t,n){const r=["left","right"],i=["right","left"],s=["top","bottom"],o=["bottom","top"];switch(e){case"top":case"bottom":return n?t?i:r:t?r:i;case"left":case"right":return t?s:o;default:return[]}}function Bse(e,t,n,r){const i=ep(e);let s=Nse(sc(e),n==="start",r);return i&&(s=s.map(o=>o+"-"+i),t&&(s=s.concat(s.map(H_)))),s}function E0(e){return e.replace(/left|right|bottom|top/g,t=>jse[t])}function Dse(e){return{top:0,right:0,bottom:0,left:0,...e}}function BL(e){return typeof e!="number"?Dse(e):{top:e,right:e,bottom:e,left:e}}function C0(e){const{x:t,y:n,width:r,height:i}=e;return{width:r,height:i,top:n,left:t,right:t+r,bottom:n+i,x:t,y:n}}function AP(e,t,n){let{reference:r,floating:i}=e;const s=Yu(t),o=dE(t),a=uE(o),l=sc(t),c=s==="y",u=r.x+r.width/2-i.width/2,d=r.y+r.height/2-i.height/2,h=r[a]/2-i[a]/2;let p;switch(l){case"top":p={x:u,y:r.y-i.height};break;case"bottom":p={x:u,y:r.y+r.height};break;case"right":p={x:r.x+r.width,y:d};break;case"left":p={x:r.x-i.width,y:d};break;default:p={x:r.x,y:r.y}}switch(ep(t)){case"start":p[o]-=h*(n&&c?-1:1);break;case"end":p[o]+=h*(n&&c?-1:1);break}return p}const $se=async(e,t,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:s=[],platform:o}=n,a=s.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(t));let c=await o.getElementRects({reference:e,floating:t,strategy:i}),{x:u,y:d}=AP(c,r,l),h=r,p={},g=0;for(let m=0;m<a.length;m++){const{name:b,fn:y}=a[m],{x:v,y:_,data:x,reset:S}=await y({x:u,y:d,initialPlacement:r,placement:h,strategy:i,middlewareData:p,rects:c,platform:o,elements:{reference:e,floating:t}});u=v??u,d=_??d,p={...p,[b]:{...p[b],...x}},S&&g<=50&&(g++,typeof S=="object"&&(S.placement&&(h=S.placement),S.rects&&(c=S.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:i}):S.rects),{x:u,y:d}=AP(c,h,l)),m=-1)}return{x:u,y:d,placement:h,strategy:i,middlewareData:p}};async function DL(e,t){var n;t===void 0&&(t={});const{x:r,y:i,platform:s,rects:o,elements:a,strategy:l}=e,{boundary:c="clippingAncestors",rootBoundary:u="viewport",elementContext:d="floating",altBoundary:h=!1,padding:p=0}=Zh(t,e),g=BL(p),b=a[h?d==="floating"?"reference":"floating":d],y=C0(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(b)))==null||n?b:b.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(a.floating)),boundary:c,rootBoundary:u,strategy:l})),v=d==="floating"?{x:r,y:i,width:o.floating.width,height:o.floating.height}:o.reference,_=await(s.getOffsetParent==null?void 0:s.getOffsetParent(a.floating)),x=await(s.isElement==null?void 0:s.isElement(_))?await(s.getScale==null?void 0:s.getScale(_))||{x:1,y:1}:{x:1,y:1},S=C0(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:v,offsetParent:_,strategy:l}):v);return{top:(y.top-S.top+g.top)/x.y,bottom:(S.bottom-y.bottom+g.bottom)/x.y,left:(y.left-S.left+g.left)/x.x,right:(S.right-y.right+g.right)/x.x}}const Fse=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:i,rects:s,platform:o,elements:a,middlewareData:l}=t,{element:c,padding:u=0}=Zh(e,t)||{};if(c==null)return{};const d=BL(u),h={x:n,y:r},p=dE(i),g=uE(p),m=await o.getDimensions(c),b=p==="y",y=b?"top":"left",v=b?"bottom":"right",_=b?"clientHeight":"clientWidth",x=s.reference[g]+s.reference[p]-h[p]-s.floating[g],S=h[p]-s.reference[p],E=await(o.getOffsetParent==null?void 0:o.getOffsetParent(c));let C=E?E[_]:0;(!C||!await(o.isElement==null?void 0:o.isElement(E)))&&(C=a.floating[_]||s.floating[g]);const k=x/2-S/2,O=C/2-m[g]/2-1,w=Ku(d[y],O),M=Ku(d[v],O),N=w,R=C-m[g]-M,V=C/2-m[g]/2+k,P=U_(N,V,R),T=!l.arrow&&ep(i)!=null&&V!==P&&s.reference[g]/2-(V<N?w:M)-m[g]/2<0,z=T?V<N?V-N:V-R:0;return{[p]:h[p]+z,data:{[p]:P,centerOffset:V-P-z,...T&&{alignmentOffset:z}},reset:T}}}),zse=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:i,middlewareData:s,rects:o,initialPlacement:a,platform:l,elements:c}=t,{mainAxis:u=!0,crossAxis:d=!0,fallbackPlacements:h,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:g="none",flipAlignment:m=!0,...b}=Zh(e,t);if((n=s.arrow)!=null&&n.alignmentOffset)return{};const y=sc(i),v=Yu(a),_=sc(a)===a,x=await(l.isRTL==null?void 0:l.isRTL(c.floating)),S=h||(_||!m?[E0(a)]:Lse(a)),E=g!=="none";!h&&E&&S.push(...Bse(a,m,g,x));const C=[a,...S],k=await DL(t,b),O=[];let w=((r=s.flip)==null?void 0:r.overflows)||[];if(u&&O.push(k[y]),d){const V=Vse(i,o,x);O.push(k[V[0]],k[V[1]])}if(w=[...w,{placement:i,overflows:O}],!O.every(V=>V<=0)){var M,N;const V=(((M=s.flip)==null?void 0:M.index)||0)+1,P=C[V];if(P)return{data:{index:V,overflows:w},reset:{placement:P}};let T=(N=w.filter(z=>z.overflows[0]<=0).sort((z,B)=>z.overflows[1]-B.overflows[1])[0])==null?void 0:N.placement;if(!T)switch(p){case"bestFit":{var R;const z=(R=w.filter(B=>{if(E){const D=Yu(B.placement);return D===v||D==="y"}return!0}).map(B=>[B.placement,B.overflows.filter(D=>D>0).reduce((D,F)=>D+F,0)]).sort((B,D)=>B[1]-D[1])[0])==null?void 0:R[0];z&&(T=z);break}case"initialPlacement":T=a;break}if(i!==T)return{reset:{placement:T}}}return{}}}};async function Use(e,t){const{placement:n,platform:r,elements:i}=e,s=await(r.isRTL==null?void 0:r.isRTL(i.floating)),o=sc(n),a=ep(n),l=Yu(n)==="y",c=["left","top"].includes(o)?-1:1,u=s&&l?-1:1,d=Zh(t,e);let{mainAxis:h,crossAxis:p,alignmentAxis:g}=typeof d=="number"?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...d};return a&&typeof g=="number"&&(p=a==="end"?g*-1:g),l?{x:p*u,y:h*c}:{x:h*c,y:p*u}}const Hse=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:i,y:s,placement:o,middlewareData:a}=t,l=await Use(t,e);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:i+l.x,y:s+l.y,data:{...l,placement:o}}}}},Gse=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:i}=t,{mainAxis:s=!0,crossAxis:o=!1,limiter:a={fn:b=>{let{x:y,y:v}=b;return{x:y,y:v}}},...l}=Zh(e,t),c={x:n,y:r},u=await DL(t,l),d=Yu(sc(i)),h=NL(d);let p=c[h],g=c[d];if(s){const b=h==="y"?"top":"left",y=h==="y"?"bottom":"right",v=p+u[b],_=p-u[y];p=U_(v,p,_)}if(o){const b=d==="y"?"top":"left",y=d==="y"?"bottom":"right",v=g+u[b],_=g-u[y];g=U_(v,g,_)}const m=a.fn({...t,[h]:p,[d]:g});return{...m,data:{x:m.x-n,y:m.y-r}}}}};function md(e){return $L(e)?(e.nodeName||"").toLowerCase():"#document"}function Ti(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Jo(e){var t;return(t=($L(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function $L(e){return e instanceof Node||e instanceof Ti(e).Node}function uo(e){return e instanceof Element||e instanceof Ti(e).Element}function fo(e){return e instanceof HTMLElement||e instanceof Ti(e).HTMLElement}function bP(e){return typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Ti(e).ShadowRoot}function tp(e){const{overflow:t,overflowX:n,overflowY:r,display:i}=Fs(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(i)}function qse(e){return["table","td","th"].includes(md(e))}function iv(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function fE(e){const t=hE(),n=Fs(e);return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function Wse(e){let t=za(e);for(;fo(t)&&!Qu(t);){if(iv(t))return null;if(fE(t))return t;t=za(t)}return null}function hE(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Qu(e){return["html","body","#document"].includes(md(e))}function Fs(e){return Ti(e).getComputedStyle(e)}function sv(e){return uo(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function za(e){if(md(e)==="html")return e;const t=e.assignedSlot||e.parentNode||bP(e)&&e.host||Jo(e);return bP(t)?t.host:t}function FL(e){const t=za(e);return Qu(t)?e.ownerDocument?e.ownerDocument.body:e.body:fo(t)&&tp(t)?t:FL(t)}function Sh(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const i=FL(e),s=i===((r=e.ownerDocument)==null?void 0:r.body),o=Ti(i);return s?t.concat(o,o.visualViewport||[],tp(i)?i:[],o.frameElement&&n?Sh(o.frameElement):[]):t.concat(i,Sh(i,[],n))}function zL(e){const t=Fs(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const i=fo(e),s=i?e.offsetWidth:n,o=i?e.offsetHeight:r,a=w0(n)!==s||w0(r)!==o;return a&&(n=s,r=o),{width:n,height:r,$:a}}function pE(e){return uo(e)?e:e.contextElement}function xu(e){const t=pE(e);if(!fo(t))return Fa(1);const n=t.getBoundingClientRect(),{width:r,height:i,$:s}=zL(t);let o=(s?w0(n.width):n.width)/r,a=(s?w0(n.height):n.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const Kse=Fa(0);function UL(e){const t=Ti(e);return!hE()||!t.visualViewport?Kse:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function Yse(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==Ti(e)?!1:t}function oc(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const i=e.getBoundingClientRect(),s=pE(e);let o=Fa(1);t&&(r?uo(r)&&(o=xu(r)):o=xu(e));const a=Yse(s,n,r)?UL(s):Fa(0);let l=(i.left+a.x)/o.x,c=(i.top+a.y)/o.y,u=i.width/o.x,d=i.height/o.y;if(s){const h=Ti(s),p=r&&uo(r)?Ti(r):r;let g=h,m=g.frameElement;for(;m&&r&&p!==g;){const b=xu(m),y=m.getBoundingClientRect(),v=Fs(m),_=y.left+(m.clientLeft+parseFloat(v.paddingLeft))*b.x,x=y.top+(m.clientTop+parseFloat(v.paddingTop))*b.y;l*=b.x,c*=b.y,u*=b.x,d*=b.y,l+=_,c+=x,g=Ti(m),m=g.frameElement}}return C0({width:u,height:d,x:l,y:c})}function Qse(e){let{elements:t,rect:n,offsetParent:r,strategy:i}=e;const s=i==="fixed",o=Jo(r),a=t?iv(t.floating):!1;if(r===o||a&&s)return n;let l={scrollLeft:0,scrollTop:0},c=Fa(1);const u=Fa(0),d=fo(r);if((d||!d&&!s)&&((md(r)!=="body"||tp(o))&&(l=sv(r)),fo(r))){const h=oc(r);c=xu(r),u.x=h.x+r.clientLeft,u.y=h.y+r.clientTop}return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+u.x,y:n.y*c.y-l.scrollTop*c.y+u.y}}function Jse(e){return Array.from(e.getClientRects())}function HL(e){return oc(Jo(e)).left+sv(e).scrollLeft}function Xse(e){const t=Jo(e),n=sv(e),r=e.ownerDocument.body,i=Nl(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),s=Nl(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+HL(e);const a=-n.scrollTop;return Fs(r).direction==="rtl"&&(o+=Nl(t.clientWidth,r.clientWidth)-i),{width:i,height:s,x:o,y:a}}function Zse(e,t){const n=Ti(e),r=Jo(e),i=n.visualViewport;let s=r.clientWidth,o=r.clientHeight,a=0,l=0;if(i){s=i.width,o=i.height;const c=hE();(!c||c&&t==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}return{width:s,height:o,x:a,y:l}}function eoe(e,t){const n=oc(e,!0,t==="fixed"),r=n.top+e.clientTop,i=n.left+e.clientLeft,s=fo(e)?xu(e):Fa(1),o=e.clientWidth*s.x,a=e.clientHeight*s.y,l=i*s.x,c=r*s.y;return{width:o,height:a,x:l,y:c}}function _P(e,t,n){let r;if(t==="viewport")r=Zse(e,n);else if(t==="document")r=Xse(Jo(e));else if(uo(t))r=eoe(t,n);else{const i=UL(e);r={...t,x:t.x-i.x,y:t.y-i.y}}return C0(r)}function GL(e,t){const n=za(e);return n===t||!uo(n)||Qu(n)?!1:Fs(n).position==="fixed"||GL(n,t)}function toe(e,t){const n=t.get(e);if(n)return n;let r=Sh(e,[],!1).filter(a=>uo(a)&&md(a)!=="body"),i=null;const s=Fs(e).position==="fixed";let o=s?za(e):e;for(;uo(o)&&!Qu(o);){const a=Fs(o),l=fE(o);!l&&a.position==="fixed"&&(i=null),(s?!l&&!i:!l&&a.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||tp(o)&&!l&&GL(e,o))?r=r.filter(u=>u!==o):i=a,o=za(o)}return t.set(e,r),r}function noe(e){let{element:t,boundary:n,rootBoundary:r,strategy:i}=e;const o=[...n==="clippingAncestors"?iv(t)?[]:toe(t,this._c):[].concat(n),r],a=o[0],l=o.reduce((c,u)=>{const d=_P(t,u,i);return c.top=Nl(d.top,c.top),c.right=Ku(d.right,c.right),c.bottom=Ku(d.bottom,c.bottom),c.left=Nl(d.left,c.left),c},_P(t,a,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function roe(e){const{width:t,height:n}=zL(e);return{width:t,height:n}}function ioe(e,t,n){const r=fo(t),i=Jo(t),s=n==="fixed",o=oc(e,!0,s,t);let a={scrollLeft:0,scrollTop:0};const l=Fa(0);if(r||!r&&!s)if((md(t)!=="body"||tp(i))&&(a=sv(t)),r){const d=oc(t,!0,s,t);l.x=d.x+t.clientLeft,l.y=d.y+t.clientTop}else i&&(l.x=HL(i));const c=o.left+a.scrollLeft-l.x,u=o.top+a.scrollTop-l.y;return{x:c,y:u,width:o.width,height:o.height}}function NA(e){return Fs(e).position==="static"}function SP(e,t){return!fo(e)||Fs(e).position==="fixed"?null:t?t(e):e.offsetParent}function qL(e,t){const n=Ti(e);if(iv(e))return n;if(!fo(e)){let i=za(e);for(;i&&!Qu(i);){if(uo(i)&&!NA(i))return i;i=za(i)}return n}let r=SP(e,t);for(;r&&qse(r)&&NA(r);)r=SP(r,t);return r&&Qu(r)&&NA(r)&&!fE(r)?n:r||Wse(e)||n}const soe=async function(e){const t=this.getOffsetParent||qL,n=this.getDimensions,r=await n(e.floating);return{reference:ioe(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function ooe(e){return Fs(e).direction==="rtl"}const aoe={convertOffsetParentRelativeRectToViewportRelativeRect:Qse,getDocumentElement:Jo,getClippingRect:noe,getOffsetParent:qL,getElementRects:soe,getClientRects:Jse,getDimensions:roe,getScale:xu,isElement:uo,isRTL:ooe};function loe(e,t){let n=null,r;const i=Jo(e);function s(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),s();const{left:c,top:u,width:d,height:h}=e.getBoundingClientRect();if(a||t(),!d||!h)return;const p=lg(u),g=lg(i.clientWidth-(c+d)),m=lg(i.clientHeight-(u+h)),b=lg(c),v={rootMargin:-p+"px "+-g+"px "+-m+"px "+-b+"px",threshold:Nl(0,Ku(1,l))||1};let _=!0;function x(S){const E=S[0].intersectionRatio;if(E!==l){if(!_)return o();E?o(!1,E):r=setTimeout(()=>{o(!1,1e-7)},1e3)}_=!1}try{n=new IntersectionObserver(x,{...v,root:i.ownerDocument})}catch{n=new IntersectionObserver(x,v)}n.observe(e)}return o(!0),s}function coe(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,c=pE(e),u=i||s?[...c?Sh(c):[],...Sh(t)]:[];u.forEach(y=>{i&&y.addEventListener("scroll",n,{passive:!0}),s&&y.addEventListener("resize",n)});const d=c&&a?loe(c,n):null;let h=-1,p=null;o&&(p=new ResizeObserver(y=>{let[v]=y;v&&v.target===c&&p&&(p.unobserve(t),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var _;(_=p)==null||_.observe(t)})),n()}),c&&!l&&p.observe(c),p.observe(t));let g,m=l?oc(e):null;l&&b();function b(){const y=oc(e);m&&(y.x!==m.x||y.y!==m.y||y.width!==m.width||y.height!==m.height)&&n(),m=y,g=requestAnimationFrame(b)}return n(),()=>{var y;u.forEach(v=>{i&&v.removeEventListener("scroll",n),s&&v.removeEventListener("resize",n)}),d==null||d(),(y=p)==null||y.disconnect(),p=null,l&&cancelAnimationFrame(g)}}const uoe=Hse,doe=Gse,foe=zse,hoe=Fse,xP=(e,t,n)=>{const r=new Map,i={platform:aoe,...n},s={...i.platform,_c:r};return $se(e,t,{...i,platform:s})};var WL={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(e){(function(){var t={}.hasOwnProperty;function n(){for(var s="",o=0;o<arguments.length;o++){var a=arguments[o];a&&(s=i(s,r(a)))}return s}function r(s){if(typeof s=="string"||typeof s=="number")return s;if(typeof s!="object")return"";if(Array.isArray(s))return n.apply(null,s);if(s.toString!==Object.prototype.toString&&!s.toString.toString().includes("[native code]"))return s.toString();var o="";for(var a in s)t.call(s,a)&&s[a]&&(o=i(o,a));return o}function i(s,o){return o?s?s+" "+o:s+o:s}e.exports?(n.default=n,e.exports=n):window.classNames=n})()})(WL);var poe=WL.exports;const G_=Ar(poe);var wP={};const goe="react-tooltip-core-styles",moe="react-tooltip-base-styles",EP={core:!1,base:!1};function CP({css:e,id:t=moe,type:n="base",ref:r}){var i,s;if(!e||typeof document>"u"||EP[n]||n==="core"&&typeof process<"u"&&(!((i=process==null?void 0:wP)===null||i===void 0)&&i.REACT_TOOLTIP_DISABLE_CORE_STYLES)||n!=="base"&&typeof process<"u"&&(!((s=process==null?void 0:wP)===null||s===void 0)&&s.REACT_TOOLTIP_DISABLE_BASE_STYLES))return;n==="core"&&(t=goe),r||(r={});const{insertAt:o}=r;if(document.getElementById(t))return void console.warn(`[react-tooltip] Element with id '${t}' already exists. Call \`removeStyle()\` first`);const a=document.head||document.getElementsByTagName("head")[0],l=document.createElement("style");l.id=t,l.type="text/css",o==="top"&&a.firstChild?a.insertBefore(l,a.firstChild):a.appendChild(l),l.styleSheet?l.styleSheet.cssText=e:l.appendChild(document.createTextNode(e)),EP[n]=!0}const kP=async({elementReference:e=null,tooltipReference:t=null,tooltipArrowReference:n=null,place:r="top",offset:i=10,strategy:s="absolute",middlewares:o=[uoe(Number(i)),foe({fallbackAxisSideDirection:"start"}),doe({padding:5})],border:a})=>{if(!e)return{tooltipStyles:{},tooltipArrowStyles:{},place:r};if(t===null)return{tooltipStyles:{},tooltipArrowStyles:{},place:r};const l=o;return n?(l.push(hoe({element:n,padding:5})),xP(e,t,{placement:r,strategy:s,middleware:l}).then(({x:c,y:u,placement:d,middlewareData:h})=>{var p,g;const m={left:`${c}px`,top:`${u}px`,border:a},{x:b,y}=(p=h.arrow)!==null&&p!==void 0?p:{x:0,y:0},v=(g={top:"bottom",right:"left",bottom:"top",left:"right"}[d.split("-")[0]])!==null&&g!==void 0?g:"bottom",_=a&&{borderBottom:a,borderRight:a};let x=0;if(a){const S=`${a}`.match(/(\d+)px/);x=S!=null&&S[1]?Number(S[1]):1}return{tooltipStyles:m,tooltipArrowStyles:{left:b!=null?`${b}px`:"",top:y!=null?`${y}px`:"",right:"",bottom:"",..._,[v]:`-${4+x}px`},place:d}})):xP(e,t,{placement:"bottom",strategy:s,middleware:l}).then(({x:c,y:u,placement:d})=>({tooltipStyles:{left:`${c}px`,top:`${u}px`},tooltipArrowStyles:{},place:d}))},TP=(e,t)=>!("CSS"in window&&"supports"in window.CSS)||window.CSS.supports(e,t),IP=(e,t,n)=>{let r=null;const i=function(...s){const o=()=>{r=null};!r&&(e.apply(this,s),r=setTimeout(o,t))};return i.cancel=()=>{r&&(clearTimeout(r),r=null)},i},PP=e=>e!==null&&!Array.isArray(e)&&typeof e=="object",q_=(e,t)=>{if(e===t)return!0;if(Array.isArray(e)&&Array.isArray(t))return e.length===t.length&&e.every((i,s)=>q_(i,t[s]));if(Array.isArray(e)!==Array.isArray(t))return!1;if(!PP(e)||!PP(t))return e===t;const n=Object.keys(e),r=Object.keys(t);return n.length===r.length&&n.every(i=>q_(e[i],t[i]))},yoe=e=>{if(!(e instanceof HTMLElement||e instanceof SVGElement))return!1;const t=getComputedStyle(e);return["overflow","overflow-x","overflow-y"].some(n=>{const r=t.getPropertyValue(n);return r==="auto"||r==="scroll"})},RP=e=>{if(!e)return null;let t=e.parentElement;for(;t;){if(yoe(t))return t;t=t.parentElement}return document.scrollingElement||document.documentElement},voe=typeof window<"u"?A.useLayoutEffect:A.useEffect,Aoe="DEFAULT_TOOLTIP_ID",boe={anchorRefs:new Set,activeAnchor:{current:null},attach:()=>{},detach:()=>{},setActiveAnchor:()=>{}},_oe=A.createContext({getTooltipData:()=>boe});function KL(e=Aoe){return A.useContext(_oe).getTooltipData(e)}var Rc={tooltip:"core-styles-module_tooltip__3vRRp",fixed:"core-styles-module_fixed__pcSol",arrow:"core-styles-module_arrow__cvMwQ",noArrow:"core-styles-module_noArrow__xock6",clickable:"core-styles-module_clickable__ZuTTB",show:"core-styles-module_show__Nt9eE",closing:"core-styles-module_closing__sGnxF"},BA={tooltip:"styles-module_tooltip__mnnfp",arrow:"styles-module_arrow__K0L3T",dark:"styles-module_dark__xNqje",light:"styles-module_light__Z6W-X",success:"styles-module_success__A2AKt",warning:"styles-module_warning__SCK0X",error:"styles-module_error__JvumD",info:"styles-module_info__BWdHW"};const Soe=({forwardRef:e,id:t,className:n,classNameArrow:r,variant:i="dark",anchorId:s,anchorSelect:o,place:a="top",offset:l=10,events:c=["hover"],openOnClick:u=!1,positionStrategy:d="absolute",middlewares:h,wrapper:p,delayShow:g=0,delayHide:m=0,float:b=!1,hidden:y=!1,noArrow:v=!1,clickable:_=!1,closeOnEsc:x=!1,closeOnScroll:S=!1,closeOnResize:E=!1,openEvents:C,closeEvents:k,globalCloseEvents:O,imperativeModeOnly:w,style:M,position:N,afterShow:R,afterHide:V,content:P,contentWrapperRef:T,isOpen:z,defaultIsOpen:B=!1,setIsOpen:D,activeAnchor:F,setActiveAnchor:G,border:U,opacity:ne,arrowColor:$,role:fe="tooltip"})=>{var Z;const oe=A.useRef(null),Re=A.useRef(null),Ee=A.useRef(null),ae=A.useRef(null),be=A.useRef(null),[Ve,Ne]=A.useState({tooltipStyles:{},tooltipArrowStyles:{},place:a}),[ye,Se]=A.useState(!1),[We,Be]=A.useState(!1),[xe,Je]=A.useState(null),Ct=A.useRef(!1),qt=A.useRef(null),{anchorRefs:kt,setActiveAnchor:Ce}=KL(t),ut=A.useRef(!1),[jt,Ot]=A.useState([]),Me=A.useRef(!1),Ge=u||c.includes("click"),st=Ge||(C==null?void 0:C.click)||(C==null?void 0:C.dblclick)||(C==null?void 0:C.mousedown),ot=C?{...C}:{mouseover:!0,focus:!0,mouseenter:!1,click:!1,dblclick:!1,mousedown:!1};!C&&Ge&&Object.assign(ot,{mouseenter:!1,focus:!1,mouseover:!1,click:!0});const ln=k?{...k}:{mouseout:!0,blur:!0,mouseleave:!1,click:!1,dblclick:!1,mouseup:!1};!k&&Ge&&Object.assign(ln,{mouseleave:!1,blur:!1,mouseout:!1});const mt=O?{...O}:{escape:x||!1,scroll:S||!1,resize:E||!1,clickOutsideAnchor:st||!1};w&&(Object.assign(ot,{mouseenter:!1,focus:!1,click:!1,dblclick:!1,mousedown:!1}),Object.assign(ln,{mouseleave:!1,blur:!1,click:!1,dblclick:!1,mouseup:!1}),Object.assign(mt,{escape:!1,scroll:!1,resize:!1,clickOutsideAnchor:!1})),voe(()=>(Me.current=!0,()=>{Me.current=!1}),[]);const dt=Ae=>{Me.current&&(Ae&&Be(!0),setTimeout(()=>{Me.current&&(D==null||D(Ae),z===void 0&&Se(Ae))},10))};A.useEffect(()=>{if(z===void 0)return()=>null;z&&Be(!0);const Ae=setTimeout(()=>{Se(z)},10);return()=>{clearTimeout(Ae)}},[z]),A.useEffect(()=>{if(ye!==Ct.current)if(be.current&&clearTimeout(be.current),Ct.current=ye,ye)R==null||R();else{const Ae=(ze=>{const qe=ze.match(/^([\d.]+)(ms|s)$/);if(!qe)return 0;const[,Bn,Jn]=qe;return Number(Bn)*(Jn==="ms"?1:1e3)})(getComputedStyle(document.body).getPropertyValue("--rt-transition-show-delay"));be.current=setTimeout(()=>{Be(!1),Je(null),V==null||V()},Ae+25)}},[ye]);const cn=Ae=>{Ne(ze=>q_(ze,Ae)?ze:Ae)},yn=(Ae=g)=>{Ee.current&&clearTimeout(Ee.current),We?dt(!0):Ee.current=setTimeout(()=>{dt(!0)},Ae)},en=(Ae=m)=>{ae.current&&clearTimeout(ae.current),ae.current=setTimeout(()=>{ut.current||dt(!1)},Ae)},bt=Ae=>{var ze;if(!Ae)return;const qe=(ze=Ae.currentTarget)!==null&&ze!==void 0?ze:Ae.target;if(!(qe!=null&&qe.isConnected))return G(null),void Ce({current:null});g?yn():dt(!0),G(qe),Ce({current:qe}),ae.current&&clearTimeout(ae.current)},Hn=()=>{_?en(m||100):m?en():dt(!1),Ee.current&&clearTimeout(Ee.current)},_r=({x:Ae,y:ze})=>{var qe;const Bn={getBoundingClientRect:()=>({x:Ae,y:ze,width:0,height:0,top:ze,left:Ae,right:Ae,bottom:ze})};kP({place:(qe=xe==null?void 0:xe.place)!==null&&qe!==void 0?qe:a,offset:l,elementReference:Bn,tooltipReference:oe.current,tooltipArrowReference:Re.current,strategy:d,middlewares:h,border:U}).then(Jn=>{cn(Jn)})},En=Ae=>{if(!Ae)return;const ze=Ae,qe={x:ze.clientX,y:ze.clientY};_r(qe),qt.current=qe},Ni=Ae=>{var ze;if(!ye)return;const qe=Ae.target;qe.isConnected&&(!((ze=oe.current)===null||ze===void 0)&&ze.contains(qe)||[document.querySelector(`[id='${s}']`),...jt].some(Bn=>Bn==null?void 0:Bn.contains(qe))||(dt(!1),Ee.current&&clearTimeout(Ee.current)))},hi=IP(bt,50),Tt=IP(Hn,50),Cn=Ae=>{Tt.cancel(),hi(Ae)},De=()=>{hi.cancel(),Tt()},nt=A.useCallback(()=>{var Ae,ze;const qe=(Ae=xe==null?void 0:xe.position)!==null&&Ae!==void 0?Ae:N;qe?_r(qe):b?qt.current&&_r(qt.current):F!=null&&F.isConnected&&kP({place:(ze=xe==null?void 0:xe.place)!==null&&ze!==void 0?ze:a,offset:l,elementReference:F,tooltipReference:oe.current,tooltipArrowReference:Re.current,strategy:d,middlewares:h,border:U}).then(Bn=>{Me.current&&cn(Bn)})},[ye,F,P,M,a,xe==null?void 0:xe.place,l,d,N,xe==null?void 0:xe.position,b]);A.useEffect(()=>{var Ae,ze;const qe=new Set(kt);jt.forEach(Vt=>{qe.add({current:Vt})});const Bn=document.querySelector(`[id='${s}']`);Bn&&qe.add({current:Bn});const Jn=()=>{dt(!1)},gi=RP(F),Bi=RP(oe.current);mt.scroll&&(window.addEventListener("scroll",Jn),gi==null||gi.addEventListener("scroll",Jn),Bi==null||Bi.addEventListener("scroll",Jn));let ar=null;mt.resize?window.addEventListener("resize",Jn):F&&oe.current&&(ar=coe(F,oe.current,nt,{ancestorResize:!0,elementResize:!0,layoutShift:!0}));const Yr=Vt=>{Vt.key==="Escape"&&dt(!1)};mt.escape&&window.addEventListener("keydown",Yr),mt.clickOutsideAnchor&&window.addEventListener("click",Ni);const $t=[],tl=Vt=>{ye&&(Vt==null?void 0:Vt.target)===F||bt(Vt)},bv=Vt=>{ye&&(Vt==null?void 0:Vt.target)===F&&Hn()},ap=["mouseover","mouseout","mouseenter","mouseleave","focus","blur"],lp=["click","dblclick","mousedown","mouseup"];Object.entries(ot).forEach(([Vt,ms])=>{ms&&(ap.includes(Vt)?$t.push({event:Vt,listener:Cn}):lp.includes(Vt)&&$t.push({event:Vt,listener:tl}))}),Object.entries(ln).forEach(([Vt,ms])=>{ms&&(ap.includes(Vt)?$t.push({event:Vt,listener:De}):lp.includes(Vt)&&$t.push({event:Vt,listener:bv}))}),b&&$t.push({event:"pointermove",listener:En});const cp=()=>{ut.current=!0},up=()=>{ut.current=!1,Hn()};return _&&!st&&((Ae=oe.current)===null||Ae===void 0||Ae.addEventListener("mouseenter",cp),(ze=oe.current)===null||ze===void 0||ze.addEventListener("mouseleave",up)),$t.forEach(({event:Vt,listener:ms})=>{qe.forEach(bd=>{var nl;(nl=bd.current)===null||nl===void 0||nl.addEventListener(Vt,ms)})}),()=>{var Vt,ms;mt.scroll&&(window.removeEventListener("scroll",Jn),gi==null||gi.removeEventListener("scroll",Jn),Bi==null||Bi.removeEventListener("scroll",Jn)),mt.resize?window.removeEventListener("resize",Jn):ar==null||ar(),mt.clickOutsideAnchor&&window.removeEventListener("click",Ni),mt.escape&&window.removeEventListener("keydown",Yr),_&&!st&&((Vt=oe.current)===null||Vt===void 0||Vt.removeEventListener("mouseenter",cp),(ms=oe.current)===null||ms===void 0||ms.removeEventListener("mouseleave",up)),$t.forEach(({event:bd,listener:nl})=>{qe.forEach(_v=>{var _c;(_c=_v.current)===null||_c===void 0||_c.removeEventListener(bd,nl)})})}},[F,nt,We,kt,jt,C,k,O,Ge,g,m]),A.useEffect(()=>{var Ae,ze;let qe=(ze=(Ae=xe==null?void 0:xe.anchorSelect)!==null&&Ae!==void 0?Ae:o)!==null&&ze!==void 0?ze:"";!qe&&t&&(qe=`[data-tooltip-id='${t.replace(/'/g,"\\'")}']`);const Bn=new MutationObserver(Jn=>{const gi=[],Bi=[];Jn.forEach(ar=>{if(ar.type==="attributes"&&ar.attributeName==="data-tooltip-id"&&(ar.target.getAttribute("data-tooltip-id")===t?gi.push(ar.target):ar.oldValue===t&&Bi.push(ar.target)),ar.type==="childList"){if(F){const Yr=[...ar.removedNodes].filter($t=>$t.nodeType===1);if(qe)try{Bi.push(...Yr.filter($t=>$t.matches(qe))),Bi.push(...Yr.flatMap($t=>[...$t.querySelectorAll(qe)]))}catch{}Yr.some($t=>{var tl;return!!(!((tl=$t==null?void 0:$t.contains)===null||tl===void 0)&&tl.call($t,F))&&(Be(!1),dt(!1),G(null),Ee.current&&clearTimeout(Ee.current),ae.current&&clearTimeout(ae.current),!0)})}if(qe)try{const Yr=[...ar.addedNodes].filter($t=>$t.nodeType===1);gi.push(...Yr.filter($t=>$t.matches(qe))),gi.push(...Yr.flatMap($t=>[...$t.querySelectorAll(qe)]))}catch{}}}),(gi.length||Bi.length)&&Ot(ar=>[...ar.filter(Yr=>!Bi.includes(Yr)),...gi])});return Bn.observe(document.body,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["data-tooltip-id"],attributeOldValue:!0}),()=>{Bn.disconnect()}},[t,o,xe==null?void 0:xe.anchorSelect,F]),A.useEffect(()=>{nt()},[nt]),A.useEffect(()=>{if(!(T!=null&&T.current))return()=>null;const Ae=new ResizeObserver(()=>{setTimeout(()=>nt())});return Ae.observe(T.current),()=>{Ae.disconnect()}},[P,T==null?void 0:T.current]),A.useEffect(()=>{var Ae;const ze=document.querySelector(`[id='${s}']`),qe=[...jt,ze];F&&qe.includes(F)||G((Ae=jt[0])!==null&&Ae!==void 0?Ae:ze)},[s,jt,F]),A.useEffect(()=>(B&&dt(!0),()=>{Ee.current&&clearTimeout(Ee.current),ae.current&&clearTimeout(ae.current)}),[]),A.useEffect(()=>{var Ae;let ze=(Ae=xe==null?void 0:xe.anchorSelect)!==null&&Ae!==void 0?Ae:o;if(!ze&&t&&(ze=`[data-tooltip-id='${t.replace(/'/g,"\\'")}']`),ze)try{const qe=Array.from(document.querySelectorAll(ze));Ot(qe)}catch{Ot([])}},[t,o,xe==null?void 0:xe.anchorSelect]),A.useEffect(()=>{Ee.current&&(clearTimeout(Ee.current),yn(g))},[g]);const Qn=(Z=xe==null?void 0:xe.content)!==null&&Z!==void 0?Z:P,pi=ye&&Object.keys(Ve.tooltipStyles).length>0;return A.useImperativeHandle(e,()=>({open:Ae=>{if(Ae!=null&&Ae.anchorSelect)try{document.querySelector(Ae.anchorSelect)}catch{return void console.warn(`[react-tooltip] "${Ae.anchorSelect}" is not a valid CSS selector`)}Je(Ae??null),Ae!=null&&Ae.delay?yn(Ae.delay):dt(!0)},close:Ae=>{Ae!=null&&Ae.delay?en(Ae.delay):dt(!1)},activeAnchor:F,place:Ve.place,isOpen:!!(We&&!y&&Qn&&pi)})),We&&!y&&Qn?Ie.createElement(p,{id:t,role:fe,className:G_("react-tooltip",Rc.tooltip,BA.tooltip,BA[i],n,`react-tooltip__place-${Ve.place}`,Rc[pi?"show":"closing"],pi?"react-tooltip__show":"react-tooltip__closing",d==="fixed"&&Rc.fixed,_&&Rc.clickable),onTransitionEnd:Ae=>{be.current&&clearTimeout(be.current),ye||Ae.propertyName!=="opacity"||(Be(!1),Je(null),V==null||V())},style:{...M,...Ve.tooltipStyles,opacity:ne!==void 0&&pi?ne:void 0},ref:oe},Qn,Ie.createElement(p,{className:G_("react-tooltip-arrow",Rc.arrow,BA.arrow,r,v&&Rc.noArrow),style:{...Ve.tooltipArrowStyles,background:$?`linear-gradient(to right bottom, transparent 50%, ${$} 50%)`:void 0},ref:Re})):null},xoe=({content:e})=>Ie.createElement("span",{dangerouslySetInnerHTML:{__html:e}}),woe=Ie.forwardRef(({id:e,anchorId:t,anchorSelect:n,content:r,html:i,render:s,className:o,classNameArrow:a,variant:l="dark",place:c="top",offset:u=10,wrapper:d="div",children:h=null,events:p=["hover"],openOnClick:g=!1,positionStrategy:m="absolute",middlewares:b,delayShow:y=0,delayHide:v=0,float:_=!1,hidden:x=!1,noArrow:S=!1,clickable:E=!1,closeOnEsc:C=!1,closeOnScroll:k=!1,closeOnResize:O=!1,openEvents:w,closeEvents:M,globalCloseEvents:N,imperativeModeOnly:R=!1,style:V,position:P,isOpen:T,defaultIsOpen:z=!1,disableStyleInjection:B=!1,border:D,opacity:F,arrowColor:G,setIsOpen:U,afterShow:ne,afterHide:$,role:fe="tooltip"},Z)=>{const[oe,Re]=A.useState(r),[Ee,ae]=A.useState(i),[be,Ve]=A.useState(c),[Ne,ye]=A.useState(l),[Se,We]=A.useState(u),[Be,xe]=A.useState(y),[Je,Ct]=A.useState(v),[qt,kt]=A.useState(_),[Ce,ut]=A.useState(x),[jt,Ot]=A.useState(d),[Me,Ge]=A.useState(p),[st,ot]=A.useState(m),[ln,mt]=A.useState(null),[dt,cn]=A.useState(null),yn=A.useRef(B),{anchorRefs:en,activeAnchor:bt}=KL(e),Hn=Tt=>Tt==null?void 0:Tt.getAttributeNames().reduce((Cn,De)=>{var nt;return De.startsWith("data-tooltip-")&&(Cn[De.replace(/^data-tooltip-/,"")]=(nt=Tt==null?void 0:Tt.getAttribute(De))!==null&&nt!==void 0?nt:null),Cn},{}),_r=Tt=>{const Cn={place:De=>{var nt;Ve((nt=De)!==null&&nt!==void 0?nt:c)},content:De=>{Re(De??r)},html:De=>{ae(De??i)},variant:De=>{var nt;ye((nt=De)!==null&&nt!==void 0?nt:l)},offset:De=>{We(De===null?u:Number(De))},wrapper:De=>{var nt;Ot((nt=De)!==null&&nt!==void 0?nt:d)},events:De=>{const nt=De==null?void 0:De.split(" ");Ge(nt??p)},"position-strategy":De=>{var nt;ot((nt=De)!==null&&nt!==void 0?nt:m)},"delay-show":De=>{xe(De===null?y:Number(De))},"delay-hide":De=>{Ct(De===null?v:Number(De))},float:De=>{kt(De===null?_:De==="true")},hidden:De=>{ut(De===null?x:De==="true")},"class-name":De=>{mt(De)}};Object.values(Cn).forEach(De=>De(null)),Object.entries(Tt).forEach(([De,nt])=>{var Qn;(Qn=Cn[De])===null||Qn===void 0||Qn.call(Cn,nt)})};A.useEffect(()=>{Re(r)},[r]),A.useEffect(()=>{ae(i)},[i]),A.useEffect(()=>{Ve(c)},[c]),A.useEffect(()=>{ye(l)},[l]),A.useEffect(()=>{We(u)},[u]),A.useEffect(()=>{xe(y)},[y]),A.useEffect(()=>{Ct(v)},[v]),A.useEffect(()=>{kt(_)},[_]),A.useEffect(()=>{ut(x)},[x]),A.useEffect(()=>{ot(m)},[m]),A.useEffect(()=>{yn.current!==B&&console.warn("[react-tooltip] Do not change `disableStyleInjection` dynamically.")},[B]),A.useEffect(()=>{typeof window<"u"&&window.dispatchEvent(new CustomEvent("react-tooltip-inject-styles",{detail:{disableCore:B==="core",disableBase:B}}))},[]),A.useEffect(()=>{var Tt;const Cn=new Set(en);let De=n;if(!De&&e&&(De=`[data-tooltip-id='${e.replace(/'/g,"\\'")}']`),De)try{document.querySelectorAll(De).forEach(ze=>{Cn.add({current:ze})})}catch{console.warn(`[react-tooltip] "${De}" is not a valid CSS selector`)}const nt=document.querySelector(`[id='${t}']`);if(nt&&Cn.add({current:nt}),!Cn.size)return()=>null;const Qn=(Tt=dt??nt)!==null&&Tt!==void 0?Tt:bt.current,pi=new MutationObserver(ze=>{ze.forEach(qe=>{var Bn;if(!Qn||qe.type!=="attributes"||!(!((Bn=qe.attributeName)===null||Bn===void 0)&&Bn.startsWith("data-tooltip-")))return;const Jn=Hn(Qn);_r(Jn)})}),Ae={attributes:!0,childList:!1,subtree:!1};if(Qn){const ze=Hn(Qn);_r(ze),pi.observe(Qn,Ae)}return()=>{pi.disconnect()}},[en,bt,dt,t,n]),A.useEffect(()=>{V!=null&&V.border&&console.warn("[react-tooltip] Do not set `style.border`. Use `border` prop instead."),D&&!TP("border",`${D}`)&&console.warn(`[react-tooltip] "${D}" is not a valid \`border\`.`),V!=null&&V.opacity&&console.warn("[react-tooltip] Do not set `style.opacity`. Use `opacity` prop instead."),F&&!TP("opacity",`${F}`)&&console.warn(`[react-tooltip] "${F}" is not a valid \`opacity\`.`)},[]);let En=h;const Ni=A.useRef(null);if(s){const Tt=s({content:(dt==null?void 0:dt.getAttribute("data-tooltip-content"))||oe||null,activeAnchor:dt});En=Tt?Ie.createElement("div",{ref:Ni,className:"react-tooltip-content-wrapper"},Tt):null}else oe&&(En=oe);Ee&&(En=Ie.createElement(xoe,{content:Ee}));const hi={forwardRef:Z,id:e,anchorId:t,anchorSelect:n,className:G_(o,ln),classNameArrow:a,content:En,contentWrapperRef:Ni,place:be,variant:Ne,offset:Se,wrapper:jt,events:Me,openOnClick:g,positionStrategy:st,middlewares:b,delayShow:Be,delayHide:Je,float:qt,hidden:Ce,noArrow:S,clickable:E,closeOnEsc:C,closeOnScroll:k,closeOnResize:O,openEvents:w,closeEvents:M,globalCloseEvents:N,imperativeModeOnly:R,style:V,position:P,isOpen:T,defaultIsOpen:z,border:D,opacity:F,arrowColor:G,setIsOpen:U,afterShow:ne,afterHide:$,activeAnchor:dt,setActiveAnchor:Tt=>cn(Tt),role:fe};return Ie.createElement(Soe,{...hi})});typeof window<"u"&&window.addEventListener("react-tooltip-inject-styles",e=>{e.detail.disableCore||CP({css:":root{--rt-color-white:#fff;--rt-color-dark:#222;--rt-color-success:#8dc572;--rt-color-error:#be6464;--rt-color-warning:#f0ad4e;--rt-color-info:#337ab7;--rt-opacity:0.9;--rt-transition-show-delay:0.15s;--rt-transition-closing-delay:0.15s}.core-styles-module_tooltip__3vRRp{position:absolute;top:0;left:0;pointer-events:none;opacity:0;will-change:opacity}.core-styles-module_fixed__pcSol{position:fixed}.core-styles-module_arrow__cvMwQ{position:absolute;background:inherit}.core-styles-module_noArrow__xock6{display:none}.core-styles-module_clickable__ZuTTB{pointer-events:auto}.core-styles-module_show__Nt9eE{opacity:var(--rt-opacity);transition:opacity var(--rt-transition-show-delay)ease-out}.core-styles-module_closing__sGnxF{opacity:0;transition:opacity var(--rt-transition-closing-delay)ease-in}",type:"core"}),e.detail.disableBase||CP({css:`
.styles-module_tooltip__mnnfp{padding:8px 16px;border-radius:3px;font-size:90%;width:max-content}.styles-module_arrow__K0L3T{width:8px;height:8px}[class*='react-tooltip__place-top']>.styles-module_arrow__K0L3T{transform:rotate(45deg)}[class*='react-tooltip__place-right']>.styles-module_arrow__K0L3T{transform:rotate(135deg)}[class*='react-tooltip__place-bottom']>.styles-module_arrow__K0L3T{transform:rotate(225deg)}[class*='react-tooltip__place-left']>.styles-module_arrow__K0L3T{transform:rotate(315deg)}.styles-module_dark__xNqje{background:var(--rt-color-dark);color:var(--rt-color-white)}.styles-module_light__Z6W-X{background-color:var(--rt-color-white);color:var(--rt-color-dark)}.styles-module_success__A2AKt{background-color:var(--rt-color-success);color:var(--rt-color-white)}.styles-module_warning__SCK0X{background-color:var(--rt-color-warning);color:var(--rt-color-white)}.styles-module_error__JvumD{background-color:var(--rt-color-error);color:var(--rt-color-white)}.styles-module_info__BWdHW{background-color:var(--rt-color-info);color:var(--rt-color-white)}`,type:"base"})});const Eoe=j(woe,{target:"e21jg9v2"})("&&&{background:rgba(0, 0, 0, 0.85);font-size:2rem;padding:1rem 1.5rem;border-radius:1rem;max-width:45rem;",Ke,";.MuiTooltip-arrow{&::before{background:rgba(0, 0, 0, 0.85);}}strong{color:",ge.colors.text.active,";}}z-index:10000;"),Ju=({children:e,title:t,open:n,...r})=>{const i=A.useRef(null),s=A.useMemo(()=>`${Math.random()}`,[]);return f.jsxs(f.Fragment,{children:[vc.createPortal(f.jsx(Eoe,{...r,id:s,ref:i,isOpen:n,children:t}),document.body),A.cloneElement(e,{"data-tooltip-id":s})]})},MP=e=>`tooltip_dismissed_${e}`,Coe=({dismissKey:e,timeoutMs:t,oneTime:n=!0,children:r,title:i,...s})=>{const[o,a]=A.useState(!Le.local.getItem(MP(e))),l=A.useCallback(()=>{Le.local.setItem(MP(e),!0),a(void 0)},[e]);A.useEffect(()=>{if(t){const u=setTimeout(l,t);return()=>clearTimeout(u)}},[t,l]);const c=(o===void 0||!o&&!n)&&s.open===void 0;return f.jsx(Ju,{clickable:!0,open:c?s.open:o,hidden:s.open===!1,...s,title:f.jsxs(f.Fragment,{children:[i,o&&f.jsx(koe,{children:f.jsx(Toe,{"data-test":"close-tooltip-button",onClick:l,children:"Close"})})]}),children:r},c?"uncontrolled":"controlled")},koe=j("div",{target:"e21jg9v1"})({name:"g78t84",styles:"display:flex;justify-content:flex-end;margin-top:1rem"}),Toe=j("button",{target:"e21jg9v0"})("padding:0.25rem 2rem;font-weight:bold;cursor:pointer;color:white;border:1px solid white;border-radius:0.5rem;background:none;font-size:1.75rem;&:hover{color:",ge.colors.text.active,";border-color:",ge.colors.text.active,";}&:active{color:white;background:",ge.colors.text.active,";border-color:none;}"),Ioe=pt(f.jsx("path",{d:"M7 14H5v5h5v-2H7zm-2-4h2V7h3V5H5zm12 7h-3v2h5v-5h-2zM14 5v2h3v3h2V5z"}),"Fullscreen"),Poe=pt(f.jsx("path",{d:"M5 16h3v3h2v-5H5zm3-8H5v2h5V5H8zm6 11h2v-3h3v-2h-5zm2-11V5h-2v5h5V8z"}),"FullscreenExit");function Roe(){const[,e]=Qe(YS),[t]=Qe(br),[n,r]=A.useState(document.fullscreenElement!==null);return A.useEffect(()=>{const i=()=>{r(document.fullscreenElement!==null)};return document.addEventListener("fullscreenchange",i),()=>{document.removeEventListener("fullscreenchange",i)}},[]),f.jsx(Ju,{title:"Toggle fullscreen",place:"bottom-end",children:f.jsx(rv,{"data-test":"toggle-fullscreen",size:"small",onClick:async()=>{var i,s;try{document.fullscreenElement===null?(e(!0),await document.body.requestFullscreen(),t&&(global.screen.orientation.unlock(),await((s=(i=global.screen.orientation).lock)==null?void 0:s.call(i,"landscape")))):(e(!1),await document.exitFullscreen(),t&&global.screen.orientation.unlock())}catch(o){console.info(o)}},children:n?f.jsx(Poe,{}):f.jsx(Ioe,{})})})}const YL=ps("padding:0.1rem 0.3rem;font-size:2.6rem;display:flex;align-items:center;justify-content:center;text-align:center;cursor:pointer;border:0;background-color:rgba(0, 0, 0, 0.75);text-transform:uppercase;letter-spacing:0.2rem;pointer-events:auto;box-sizing:border-box;transition:300ms;",Ke,",;",""),Moe=ps("@keyframes button-focus-loop{0%,100%{transform:scale(1.045);}50%{transform:scale(1.055);}}animation:button-focus-loop 600ms ease-in-out infinite both;transform:scale(1.05);background:",ge.colors.text.active,";",""),joe=ps("transform:scale(1.05);background:",ge.colors.text.active,";",""),ov=Ii()?joe:Moe,Ooe={animation:"focusAnimation 1000ms ease-in-out infinite both"},W_=ps("&:hover{",Ooe,";}&&&:active{background:",ge.colors.text.active,";}",""),Voe=j("a",{target:"eo7q3x1"})(YL," &&{color:white;text-decoration:none;}&[data-focused='true']{",ov,";}&[disabled='false']{",W_,";}"),Loe=({focused:e,...t})=>f.jsx(Voe,{...t}),Noe=j("button",{target:"eo7q3x0"})(YL,";&:not(:disabled){",W_,";}&[data-focused='true']{",ov,";}&[disabled='false']{",W_,";}"),Hs=({focused:e,...t})=>f.jsx(Noe,{"data-focused":e,...t}),gE=A.forwardRef(function({as:t,className:n,children:r,...i},s){const o=t||"div";return f.jsx(o,{className:KO("flex flex-col items-center bg-black/50 justify-center box-border",n),...i,ref:s,children:r})}),QL=an(gE)(e=>["!flex-row duration-300 text-md typography cursor-pointer justify-center border-0 bg-black/75 !text-white uppercase",!Ii()&&e["data-focused"]?"animate-button-focused scale-105":"",e["data-focused"]?"bg-active":"",e.disabled?"cursor-default !text-gray-300 bg-gray-500 pointer-events-none !animate-none !scale-100":"active:bg-active",e["data-inactive"]?"!line-through decoration-white opacity-25":"!no-underline"]),Boe=({children:e,...t})=>f.jsx(QL,{className:"",...t,as:"button",children:e}),JL=({children:e,...t})=>f.jsx(QL,{...t,as:"a",children:e}),Doe=({size:e="regular",focused:t=!1,className:n,...r})=>{const i="href"in r?JL:Boe;return f.jsx(i,{...r,"data-size":e,"data-focused":t,className:`my-2 ${e==="small"?"h-20":"h-40"} ${n}`})},$oe=an(gE)`w-[100vw] max-w-[75rem] m-[2rem auto 0 auto] [view-transition-name:menu-container] items-stretch`,XL=an(Ql)`text-xl text-active flex items-center justify-center`,pr=({title:e,children:t,className:n,spacing:r="regular",...i})=>f.jsxs($oe,{...i,className:`${n} ${r==="tight"?"p-6 gap-1":"p-10 gap-4"}`,children:[e&&f.jsx(XL,{children:e}),t]});pr.Header=XL;pr.Button=Doe;pr.Divider=()=>f.jsx("hr",{});const Foe={name:"1tj9yd6",styles:"cursor:default;color:#989898;background-color:#212121;border-width:0.3rem;pointer-events:none"},ZL=ps("margin:0.5rem 0;height:10rem;border:0 solid black;&[data-disabled='true']{",Foe,";}&[data-size='small']{height:5rem;}",""),zoe=j(Loe,{target:"e1llc1k61"})(ZL,";"),Uoe=j(Hs,{target:"e1llc1k60"})(ZL,";"),Fe=({size:e,disabled:t,...n})=>{const r="href"in n?zoe:Uoe;return f.jsx(r,{...n,"data-disabled":t,"data-size":e})},Qa=pr;function Ac({children:e,onClose:t}){return f.jsxs(f.Fragment,{children:[f.jsx(Hoe,{onClick:t}),f.jsx("div",{onClick:t,className:"fixed top-0 left-0 w-screen h-screen z-[20001] overflow-auto",children:f.jsx("div",{className:"flex items-center justify-center min-h-full",children:f.jsx("div",{onClick:n=>n.stopPropagation(),children:e})})})]})}const Hoe=j("div",{target:"e7rcptf0"})({name:"25wq6t",styles:"position:fixed;top:0;left:0;background:rgba(0, 0, 0, 0.7);width:100vw;height:100vh;z-index:20000;backdrop-filter:blur(20px)"});let Goe=0;function yd(e,t){const n=A.useRef(`${String(Math.random())}-${Goe++}`),{setKeyboard:r,unsetKeyboard:i}=A.useContext(Xx),s=a=>{r(n.current,a)},o=()=>i(n.current);return A.useEffect(()=>(t&&s(e),o),[e,t]),{setHelp:s,clearHelp:o}}function Yn(e={},t=!1){var x;const{enabled:n=!0,onBackspace:r,backspaceHelp:i=null,direction:s="vertical",additionalHelp:o={}}=e,[a,l]=A.useState(null),c=A.useRef([]),u=A.useRef([]),d=A.useRef({}),h=(x=d.current[a])==null?void 0:x.label,p=A.useMemo(()=>({[s]:null,accept:h??null,back:r?i:void 0,...o}),[h,d,i,s]);yd(p,n);const g=()=>{var S;(S=d.current[a])==null||S.callback(),Px.play()},m=()=>{r&&(Rx.play(),r())},b=S=>{const E=a?c.current.indexOf(a):0;Ey.play(),l(c.current.at((E+S)%c.current.length)??null)};gc({[s==="vertical"?"up":"left"]:()=>b(-1),[s==="vertical"?"down":"right"]:()=>b(1),accept:g,back:m},n,[a,c.current]);let y="";const v=(S,E,C,k=!1,{propName:O="onClick",disabled:w=!1}={})=>{if(w)return{disabled:w,focused:!1};u.current.push(S),E&&(d.current[S]={callback:E,label:C,propName:O}),k&&(y=S);const M=n&&a===S;return{focused:M,[O]:E,$keyboardNavigationChangeFocus:b,"data-test":S,...n?{"data-focused":M,"data-e2e-focused":M}:{}}};return A.useEffect(()=>{var S;(S=document.querySelector(`[data-test="${a}"]`))==null||S.scrollIntoView({behavior:"smooth",block:"center"})},[a]),A.useEffect(()=>{const S=u.current.filter(E=>!c.current.includes(E));t&&S.length&&console.log("new elements",S),c.current=[...u.current],u.current.length=0,c.current.length&&(a===null||c.current.indexOf(a)===-1||S.includes(y))&&l(y||c.current[0])}),{focusElement:S=>{c.current.includes(S)&&l(S)},focused:a,register:v}}var qoe=Object.defineProperty,k0=Object.getOwnPropertySymbols,eN=Object.prototype.hasOwnProperty,tN=Object.prototype.propertyIsEnumerable,jP=(e,t,n)=>t in e?qoe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,xh=(e,t)=>{for(var n in t||(t={}))eN.call(t,n)&&jP(e,n,t[n]);if(k0)for(var n of k0(t))tN.call(t,n)&&jP(e,n,t[n]);return e},mE=(e,t)=>{var n={};for(var r in e)eN.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&k0)for(var r of k0(e))t.indexOf(r)<0&&tN.call(e,r)&&(n[r]=e[r]);return n};/**
 * @license QR Code generator library (TypeScript)
 * Copyright (c) Project Nayuki.
 * SPDX-License-Identifier: MIT
 */var ac;(e=>{const t=class{constructor(l,c,u,d){if(this.version=l,this.errorCorrectionLevel=c,this.modules=[],this.isFunction=[],l<t.MIN_VERSION||l>t.MAX_VERSION)throw new RangeError("Version value out of range");if(d<-1||d>7)throw new RangeError("Mask value out of range");this.size=l*4+17;let h=[];for(let g=0;g<this.size;g++)h.push(!1);for(let g=0;g<this.size;g++)this.modules.push(h.slice()),this.isFunction.push(h.slice());this.drawFunctionPatterns();const p=this.addEccAndInterleave(u);if(this.drawCodewords(p),d==-1){let g=1e9;for(let m=0;m<8;m++){this.applyMask(m),this.drawFormatBits(m);const b=this.getPenaltyScore();b<g&&(d=m,g=b),this.applyMask(m)}}s(0<=d&&d<=7),this.mask=d,this.applyMask(d),this.drawFormatBits(d),this.isFunction=[]}static encodeText(l,c){const u=e.QrSegment.makeSegments(l);return t.encodeSegments(u,c)}static encodeBinary(l,c){const u=e.QrSegment.makeBytes(l);return t.encodeSegments([u],c)}static encodeSegments(l,c,u=1,d=40,h=-1,p=!0){if(!(t.MIN_VERSION<=u&&u<=d&&d<=t.MAX_VERSION)||h<-1||h>7)throw new RangeError("Invalid value");let g,m;for(g=u;;g++){const _=t.getNumDataCodewords(g,c)*8,x=a.getTotalBits(l,g);if(x<=_){m=x;break}if(g>=d)throw new RangeError("Data too long")}for(const _ of[t.Ecc.MEDIUM,t.Ecc.QUARTILE,t.Ecc.HIGH])p&&m<=t.getNumDataCodewords(g,_)*8&&(c=_);let b=[];for(const _ of l){r(_.mode.modeBits,4,b),r(_.numChars,_.mode.numCharCountBits(g),b);for(const x of _.getData())b.push(x)}s(b.length==m);const y=t.getNumDataCodewords(g,c)*8;s(b.length<=y),r(0,Math.min(4,y-b.length),b),r(0,(8-b.length%8)%8,b),s(b.length%8==0);for(let _=236;b.length<y;_^=253)r(_,8,b);let v=[];for(;v.length*8<b.length;)v.push(0);return b.forEach((_,x)=>v[x>>>3]|=_<<7-(x&7)),new t(g,c,v,h)}getModule(l,c){return 0<=l&&l<this.size&&0<=c&&c<this.size&&this.modules[c][l]}getModules(){return this.modules}drawFunctionPatterns(){for(let u=0;u<this.size;u++)this.setFunctionModule(6,u,u%2==0),this.setFunctionModule(u,6,u%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);const l=this.getAlignmentPatternPositions(),c=l.length;for(let u=0;u<c;u++)for(let d=0;d<c;d++)u==0&&d==0||u==0&&d==c-1||u==c-1&&d==0||this.drawAlignmentPattern(l[u],l[d]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(l){const c=this.errorCorrectionLevel.formatBits<<3|l;let u=c;for(let h=0;h<10;h++)u=u<<1^(u>>>9)*1335;const d=(c<<10|u)^21522;s(d>>>15==0);for(let h=0;h<=5;h++)this.setFunctionModule(8,h,i(d,h));this.setFunctionModule(8,7,i(d,6)),this.setFunctionModule(8,8,i(d,7)),this.setFunctionModule(7,8,i(d,8));for(let h=9;h<15;h++)this.setFunctionModule(14-h,8,i(d,h));for(let h=0;h<8;h++)this.setFunctionModule(this.size-1-h,8,i(d,h));for(let h=8;h<15;h++)this.setFunctionModule(8,this.size-15+h,i(d,h));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let l=this.version;for(let u=0;u<12;u++)l=l<<1^(l>>>11)*7973;const c=this.version<<12|l;s(c>>>18==0);for(let u=0;u<18;u++){const d=i(c,u),h=this.size-11+u%3,p=Math.floor(u/3);this.setFunctionModule(h,p,d),this.setFunctionModule(p,h,d)}}drawFinderPattern(l,c){for(let u=-4;u<=4;u++)for(let d=-4;d<=4;d++){const h=Math.max(Math.abs(d),Math.abs(u)),p=l+d,g=c+u;0<=p&&p<this.size&&0<=g&&g<this.size&&this.setFunctionModule(p,g,h!=2&&h!=4)}}drawAlignmentPattern(l,c){for(let u=-2;u<=2;u++)for(let d=-2;d<=2;d++)this.setFunctionModule(l+d,c+u,Math.max(Math.abs(d),Math.abs(u))!=1)}setFunctionModule(l,c,u){this.modules[c][l]=u,this.isFunction[c][l]=!0}addEccAndInterleave(l){const c=this.version,u=this.errorCorrectionLevel;if(l.length!=t.getNumDataCodewords(c,u))throw new RangeError("Invalid argument");const d=t.NUM_ERROR_CORRECTION_BLOCKS[u.ordinal][c],h=t.ECC_CODEWORDS_PER_BLOCK[u.ordinal][c],p=Math.floor(t.getNumRawDataModules(c)/8),g=d-p%d,m=Math.floor(p/d);let b=[];const y=t.reedSolomonComputeDivisor(h);for(let _=0,x=0;_<d;_++){let S=l.slice(x,x+m-h+(_<g?0:1));x+=S.length;const E=t.reedSolomonComputeRemainder(S,y);_<g&&S.push(0),b.push(S.concat(E))}let v=[];for(let _=0;_<b[0].length;_++)b.forEach((x,S)=>{(_!=m-h||S>=g)&&v.push(x[_])});return s(v.length==p),v}drawCodewords(l){if(l.length!=Math.floor(t.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");let c=0;for(let u=this.size-1;u>=1;u-=2){u==6&&(u=5);for(let d=0;d<this.size;d++)for(let h=0;h<2;h++){const p=u-h,m=(u+1&2)==0?this.size-1-d:d;!this.isFunction[m][p]&&c<l.length*8&&(this.modules[m][p]=i(l[c>>>3],7-(c&7)),c++)}}s(c==l.length*8)}applyMask(l){if(l<0||l>7)throw new RangeError("Mask value out of range");for(let c=0;c<this.size;c++)for(let u=0;u<this.size;u++){let d;switch(l){case 0:d=(u+c)%2==0;break;case 1:d=c%2==0;break;case 2:d=u%3==0;break;case 3:d=(u+c)%3==0;break;case 4:d=(Math.floor(u/3)+Math.floor(c/2))%2==0;break;case 5:d=u*c%2+u*c%3==0;break;case 6:d=(u*c%2+u*c%3)%2==0;break;case 7:d=((u+c)%2+u*c%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[c][u]&&d&&(this.modules[c][u]=!this.modules[c][u])}}getPenaltyScore(){let l=0;for(let h=0;h<this.size;h++){let p=!1,g=0,m=[0,0,0,0,0,0,0];for(let b=0;b<this.size;b++)this.modules[h][b]==p?(g++,g==5?l+=t.PENALTY_N1:g>5&&l++):(this.finderPenaltyAddHistory(g,m),p||(l+=this.finderPenaltyCountPatterns(m)*t.PENALTY_N3),p=this.modules[h][b],g=1);l+=this.finderPenaltyTerminateAndCount(p,g,m)*t.PENALTY_N3}for(let h=0;h<this.size;h++){let p=!1,g=0,m=[0,0,0,0,0,0,0];for(let b=0;b<this.size;b++)this.modules[b][h]==p?(g++,g==5?l+=t.PENALTY_N1:g>5&&l++):(this.finderPenaltyAddHistory(g,m),p||(l+=this.finderPenaltyCountPatterns(m)*t.PENALTY_N3),p=this.modules[b][h],g=1);l+=this.finderPenaltyTerminateAndCount(p,g,m)*t.PENALTY_N3}for(let h=0;h<this.size-1;h++)for(let p=0;p<this.size-1;p++){const g=this.modules[h][p];g==this.modules[h][p+1]&&g==this.modules[h+1][p]&&g==this.modules[h+1][p+1]&&(l+=t.PENALTY_N2)}let c=0;for(const h of this.modules)c=h.reduce((p,g)=>p+(g?1:0),c);const u=this.size*this.size,d=Math.ceil(Math.abs(c*20-u*10)/u)-1;return s(0<=d&&d<=9),l+=d*t.PENALTY_N4,s(0<=l&&l<=2568888),l}getAlignmentPatternPositions(){if(this.version==1)return[];{const l=Math.floor(this.version/7)+2,c=this.version==32?26:Math.ceil((this.version*4+4)/(l*2-2))*2;let u=[6];for(let d=this.size-7;u.length<l;d-=c)u.splice(1,0,d);return u}}static getNumRawDataModules(l){if(l<t.MIN_VERSION||l>t.MAX_VERSION)throw new RangeError("Version number out of range");let c=(16*l+128)*l+64;if(l>=2){const u=Math.floor(l/7)+2;c-=(25*u-10)*u-55,l>=7&&(c-=36)}return s(208<=c&&c<=29648),c}static getNumDataCodewords(l,c){return Math.floor(t.getNumRawDataModules(l)/8)-t.ECC_CODEWORDS_PER_BLOCK[c.ordinal][l]*t.NUM_ERROR_CORRECTION_BLOCKS[c.ordinal][l]}static reedSolomonComputeDivisor(l){if(l<1||l>255)throw new RangeError("Degree out of range");let c=[];for(let d=0;d<l-1;d++)c.push(0);c.push(1);let u=1;for(let d=0;d<l;d++){for(let h=0;h<c.length;h++)c[h]=t.reedSolomonMultiply(c[h],u),h+1<c.length&&(c[h]^=c[h+1]);u=t.reedSolomonMultiply(u,2)}return c}static reedSolomonComputeRemainder(l,c){let u=c.map(d=>0);for(const d of l){const h=d^u.shift();u.push(0),c.forEach((p,g)=>u[g]^=t.reedSolomonMultiply(p,h))}return u}static reedSolomonMultiply(l,c){if(l>>>8||c>>>8)throw new RangeError("Byte out of range");let u=0;for(let d=7;d>=0;d--)u=u<<1^(u>>>7)*285,u^=(c>>>d&1)*l;return s(u>>>8==0),u}finderPenaltyCountPatterns(l){const c=l[1];s(c<=this.size*3);const u=c>0&&l[2]==c&&l[3]==c*3&&l[4]==c&&l[5]==c;return(u&&l[0]>=c*4&&l[6]>=c?1:0)+(u&&l[6]>=c*4&&l[0]>=c?1:0)}finderPenaltyTerminateAndCount(l,c,u){return l&&(this.finderPenaltyAddHistory(c,u),c=0),c+=this.size,this.finderPenaltyAddHistory(c,u),this.finderPenaltyCountPatterns(u)}finderPenaltyAddHistory(l,c){c[0]==0&&(l+=this.size),c.pop(),c.unshift(l)}};let n=t;n.MIN_VERSION=1,n.MAX_VERSION=40,n.PENALTY_N1=3,n.PENALTY_N2=3,n.PENALTY_N3=40,n.PENALTY_N4=10,n.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],n.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],e.QrCode=n;function r(l,c,u){if(c<0||c>31||l>>>c)throw new RangeError("Value out of range");for(let d=c-1;d>=0;d--)u.push(l>>>d&1)}function i(l,c){return(l>>>c&1)!=0}function s(l){if(!l)throw new Error("Assertion error")}const o=class{constructor(l,c,u){if(this.mode=l,this.numChars=c,this.bitData=u,c<0)throw new RangeError("Invalid argument");this.bitData=u.slice()}static makeBytes(l){let c=[];for(const u of l)r(u,8,c);return new o(o.Mode.BYTE,l.length,c)}static makeNumeric(l){if(!o.isNumeric(l))throw new RangeError("String contains non-numeric characters");let c=[];for(let u=0;u<l.length;){const d=Math.min(l.length-u,3);r(parseInt(l.substr(u,d),10),d*3+1,c),u+=d}return new o(o.Mode.NUMERIC,l.length,c)}static makeAlphanumeric(l){if(!o.isAlphanumeric(l))throw new RangeError("String contains unencodable characters in alphanumeric mode");let c=[],u;for(u=0;u+2<=l.length;u+=2){let d=o.ALPHANUMERIC_CHARSET.indexOf(l.charAt(u))*45;d+=o.ALPHANUMERIC_CHARSET.indexOf(l.charAt(u+1)),r(d,11,c)}return u<l.length&&r(o.ALPHANUMERIC_CHARSET.indexOf(l.charAt(u)),6,c),new o(o.Mode.ALPHANUMERIC,l.length,c)}static makeSegments(l){return l==""?[]:o.isNumeric(l)?[o.makeNumeric(l)]:o.isAlphanumeric(l)?[o.makeAlphanumeric(l)]:[o.makeBytes(o.toUtf8ByteArray(l))]}static makeEci(l){let c=[];if(l<0)throw new RangeError("ECI assignment value out of range");if(l<128)r(l,8,c);else if(l<16384)r(2,2,c),r(l,14,c);else if(l<1e6)r(6,3,c),r(l,21,c);else throw new RangeError("ECI assignment value out of range");return new o(o.Mode.ECI,0,c)}static isNumeric(l){return o.NUMERIC_REGEX.test(l)}static isAlphanumeric(l){return o.ALPHANUMERIC_REGEX.test(l)}getData(){return this.bitData.slice()}static getTotalBits(l,c){let u=0;for(const d of l){const h=d.mode.numCharCountBits(c);if(d.numChars>=1<<h)return 1/0;u+=4+h+d.bitData.length}return u}static toUtf8ByteArray(l){l=encodeURI(l);let c=[];for(let u=0;u<l.length;u++)l.charAt(u)!="%"?c.push(l.charCodeAt(u)):(c.push(parseInt(l.substr(u+1,2),16)),u+=2);return c}};let a=o;a.NUMERIC_REGEX=/^[0-9]*$/,a.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,a.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",e.QrSegment=a})(ac||(ac={}));(e=>{(t=>{const n=class{constructor(i,s){this.ordinal=i,this.formatBits=s}};let r=n;r.LOW=new n(0,1),r.MEDIUM=new n(1,0),r.QUARTILE=new n(2,3),r.HIGH=new n(3,2),t.Ecc=r})(e.QrCode||(e.QrCode={}))})(ac||(ac={}));(e=>{(t=>{const n=class{constructor(i,s){this.modeBits=i,this.numBitsCharCount=s}numCharCountBits(i){return this.numBitsCharCount[Math.floor((i+7)/17)]}};let r=n;r.NUMERIC=new n(1,[10,12,14]),r.ALPHANUMERIC=new n(2,[9,11,13]),r.BYTE=new n(4,[8,16,16]),r.KANJI=new n(8,[8,10,12]),r.ECI=new n(7,[0,0,0]),t.Mode=r})(e.QrSegment||(e.QrSegment={}))})(ac||(ac={}));var iu=ac;/**
 * @license qrcode.react
 * Copyright (c) Paul O'Shannessy
 * SPDX-License-Identifier: ISC
 */var nN={L:iu.QrCode.Ecc.LOW,M:iu.QrCode.Ecc.MEDIUM,Q:iu.QrCode.Ecc.QUARTILE,H:iu.QrCode.Ecc.HIGH},rN=128,iN="L",sN="#FFFFFF",oN="#000000",aN=!1,yE=4,Woe=.1;function lN(e,t=0){const n=[];return e.forEach(function(r,i){let s=null;r.forEach(function(o,a){if(!o&&s!==null){n.push(`M${s+t} ${i+t}h${a-s}v1H${s+t}z`),s=null;return}if(a===r.length-1){if(!o)return;s===null?n.push(`M${a+t},${i+t} h1v1H${a+t}z`):n.push(`M${s+t},${i+t} h${a+1-s}v1H${s+t}z`);return}o&&s===null&&(s=a)})}),n.join("")}function cN(e,t){return e.slice().map((n,r)=>r<t.y||r>=t.y+t.h?n:n.map((i,s)=>s<t.x||s>=t.x+t.w?i:!1))}function uN(e,t,n,r){if(r==null)return null;const i=n?yE:0,s=e.length+i*2,o=Math.floor(t*Woe),a=s/t,l=(r.width||o)*a,c=(r.height||o)*a,u=r.x==null?e.length/2-l/2:r.x*a,d=r.y==null?e.length/2-c/2:r.y*a;let h=null;if(r.excavate){let p=Math.floor(u),g=Math.floor(d),m=Math.ceil(l+u-p),b=Math.ceil(c+d-g);h={x:p,y:g,w:m,h:b}}return{x:u,y:d,h:c,w:l,excavation:h}}var Koe=function(){try{new Path2D().addPath(new Path2D)}catch{return!1}return!0}();function dN(e){const t=e,{value:n,size:r=rN,level:i=iN,bgColor:s=sN,fgColor:o=oN,includeMargin:a=aN,style:l,imageSettings:c}=t,u=mE(t,["value","size","level","bgColor","fgColor","includeMargin","style","imageSettings"]),d=c==null?void 0:c.src,h=A.useRef(null),p=A.useRef(null),[g,m]=A.useState(!1);A.useEffect(()=>{if(h.current!=null){const v=h.current,_=v.getContext("2d");if(!_)return;let x=iu.QrCode.encodeText(n,nN[i]).getModules();const S=a?yE:0,E=x.length+S*2,C=uN(x,r,a,c),k=p.current,O=C!=null&&k!==null&&k.complete&&k.naturalHeight!==0&&k.naturalWidth!==0;O&&C.excavation!=null&&(x=cN(x,C.excavation));const w=window.devicePixelRatio||1;v.height=v.width=r*w;const M=r/E*w;_.scale(M,M),_.fillStyle=s,_.fillRect(0,0,E,E),_.fillStyle=o,Koe?_.fill(new Path2D(lN(x,S))):x.forEach(function(N,R){N.forEach(function(V,P){V&&_.fillRect(P+S,R+S,1,1)})}),O&&_.drawImage(k,C.x+S,C.y+S,C.w,C.h)}}),A.useEffect(()=>{m(!1)},[d]);const b=xh({height:r,width:r},l);let y=null;return d!=null&&(y=Ie.createElement("img",{src:d,key:d,style:{display:"none"},onLoad:()=>{m(!0)},ref:p})),Ie.createElement(Ie.Fragment,null,Ie.createElement("canvas",xh({style:b,height:r,width:r,ref:h},u)),y)}function fN(e){const t=e,{value:n,size:r=rN,level:i=iN,bgColor:s=sN,fgColor:o=oN,includeMargin:a=aN,imageSettings:l}=t,c=mE(t,["value","size","level","bgColor","fgColor","includeMargin","imageSettings"]);let u=iu.QrCode.encodeText(n,nN[i]).getModules();const d=a?yE:0,h=u.length+d*2,p=uN(u,r,a,l);let g=null;l!=null&&p!=null&&(p.excavation!=null&&(u=cN(u,p.excavation)),g=Ie.createElement("image",{xlinkHref:l.src,height:p.h,width:p.w,x:p.x+d,y:p.y+d,preserveAspectRatio:"none"}));const m=lN(u,d);return Ie.createElement("svg",xh({height:r,width:r,viewBox:`0 0 ${h} ${h}`},c),Ie.createElement("path",{fill:s,d:`M0,0 h${h}v${h}H0z`,shapeRendering:"crispEdges"}),Ie.createElement("path",{fill:o,d:m,shapeRendering:"crispEdges"}),g)}var Yoe=e=>{const t=e,{renderAs:n}=t,r=mE(t,["renderAs"]);return n==="svg"?Ie.createElement(fN,xh({},r)):Ie.createElement(dN,xh({},r))};const Qoe=Object.freeze(Object.defineProperty({__proto__:null,QRCodeCanvas:dN,QRCodeSVG:fN,default:Yoe},Symbol.toStringTag,{value:"Module"}));var hN={exports:{}},pN={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xu=A;function Joe(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Xoe=typeof Object.is=="function"?Object.is:Joe,Zoe=Xu.useState,eae=Xu.useEffect,tae=Xu.useLayoutEffect,nae=Xu.useDebugValue;function rae(e,t){var n=t(),r=Zoe({inst:{value:n,getSnapshot:t}}),i=r[0].inst,s=r[1];return tae(function(){i.value=n,i.getSnapshot=t,DA(i)&&s({inst:i})},[e,n,t]),eae(function(){return DA(i)&&s({inst:i}),e(function(){DA(i)&&s({inst:i})})},[e]),nae(n),n}function DA(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Xoe(e,n)}catch{return!0}}function iae(e,t){return t()}var sae=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?iae:rae;pN.useSyncExternalStore=Xu.useSyncExternalStore!==void 0?Xu.useSyncExternalStore:sae;hN.exports=pN;var oae=hN.exports;const{useEffect:aae,useLayoutEffect:lae,useRef:cae,useInsertionEffect:uae}=lm,dae=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",fae=dae?lae:aae,gN=uae||fae,mN=e=>{const t=cae([e,(...n)=>t[0](...n)]).current;return gN(()=>{t[0]=e}),t[1]},hae=(e="",t=location.pathname)=>t.toLowerCase().indexOf(e.toLowerCase())?"~"+t:t.slice(e.length)||"/",pae=(e,t="")=>e[0]==="~"?e.slice(1):t+e,gae="popstate",vE="pushState",AE="replaceState",mae="hashchange",OP=[gae,vE,AE,mae],yae=e=>{for(const t of OP)addEventListener(t,e);return()=>{for(const t of OP)removeEventListener(t,e)}},vae=(e,t)=>oae.useSyncExternalStore(yae,e,t),VP=()=>location.pathname,Aae=({ssrPath:e}={})=>vae(VP,e?()=>e:VP),bae=(e,{replace:t=!1}={})=>history[t?AE:vE](null,"",e),_ae=(e={})=>[hae(e.base,Aae(e)),mN((t,n)=>bae(pae(t,e.base),n))];if(typeof history<"u")for(const e of[vE,AE]){const t=history[e];history[e]=function(){const n=t.apply(this,arguments),r=new Event(e);return r.arguments=arguments,dispatchEvent(r),n}}function Sae(e=wae){let t={};const n=r=>t[r]||(t[r]=e(r));return(r,i)=>{const{regexp:s,keys:o}=n(r||""),a=s.exec(i);return a?[!0,o.reduce((c,u,d)=>(c[u.name]=a[d+1],c),{})]:[!1,null]}}const LP=e=>e.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1"),xae=(e,t,n)=>{let r=e?"((?:[^\\/]+?)(?:\\/(?:[^\\/]+?))*)":"([^\\/]+?)";return t&&n&&(r="(?:\\/"+r+")"),r+(t?"?":"")},wae=e=>{const t=/:([A-Za-z0-9_]+)([?+*]?)/g;let n=null,r=0,i=[],s="";for(;(n=t.exec(e))!==null;){const[o,a,l]=n,c=l==="+"||l==="*",u=l==="?"||l==="*",d=u&&e[n.index-1]==="/"?1:0,h=e.substring(r,n.index-d);i.push({name:a}),r=t.lastIndex,s+=LP(h)+xae(c,u,d)}return s+=LP(e.substring(r)),{keys:i,regexp:new RegExp("^"+s+"(?:\\/)?$","i")}},K_={hook:_ae,matcher:Sae(),base:""},yN=A.createContext(K_),av=()=>A.useContext(yN),lv=e=>e.hook(e),Eae=()=>lv(av()),vN=e=>{const t=av(),[n]=lv(t);return t.matcher(e,n)},Cae=A.createContext({params:{}}),kae=({hook:e,matcher:t,ssrPath:n,base:r="",parent:i,children:s})=>{const o=(l,c=i||K_)=>(l.hook=e||c.hook,l.matcher=t||c.matcher,l.ssrPath=n||c.ssrPath,l.ownBase=r,l.parent=i,l),[a]=A.useState(()=>o({get base(){return(a.parent||K_).base+a.ownBase}}));return gN(()=>{o(a)}),A.createElement(yN.Provider,{value:a,children:s})},NP=(e,t)=>A.createElement(Cae.Provider,{value:{params:e},children:t}),wr=({path:e,match:t,component:n,children:r})=>{const i=vN(e),[s,o]=t||i;return s?n?NP(o,A.createElement(n,{params:o})):NP(o,typeof r=="function"?r(o):r):null},bE=A.forwardRef((e,t)=>{const n=av(),[,r]=lv(n),{to:i,href:s=i,children:o,onClick:a}=e,l=mN(d=>{d.ctrlKey||d.metaKey||d.altKey||d.shiftKey||d.button!==0||(a&&a(d),d.defaultPrevented||(d.preventDefault(),r(i||s,e)))}),c={href:s[0]==="~"?s.slice(1):n.base+s,onClick:l,to:null,ref:t},u=A.isValidElement(o)?o:A.createElement("a",e);return A.cloneElement(u,c)}),Y_=e=>Array.isArray(e)?[].concat(...e.map(t=>t&&t.type===A.Fragment?Y_(t.props.children):Y_(t))):[e],Tae=({children:e,location:t})=>{const n=av(),r=n.matcher,[i]=lv(n);for(const s of Y_(e)){let o=0;if(A.isValidElement(s)&&(o=s.props.path?r(s.props.path,t||i):[!0,{}])[0])return A.cloneElement(s,{match:o})}return null},{QRCodeSVG:Iae}=Qoe;function $A({gameCode:e,...t}){return f.jsx(Oae,{...t,children:e.split("").map((n,r)=>f.jsx("span",{children:n},r))})}function _E(){var i;const e=new URL((i=global.location)==null?void 0:i.href),[t]=vN("remote-mic"),n=jy("room")??Ol.getGameCode();e.pathname="/remote-mic",e.searchParams.set("room",n);const r=e.href;return A.useEffect(()=>{t||Ol.start()},[t]),f.jsxs(Lae,{children:[f.jsx(Bae,{children:f.jsxs("h1",{children:["Code: ",f.jsx($A,{gameCode:n})]})}),f.jsx(Nae,{children:f.jsx(Iae,{value:r,width:"100%",height:"100%",includeMargin:!0})}),f.jsxs(Dae,{children:[f.jsxs(Pae,{children:[f.jsxs("h3",{children:["Game code: ",f.jsx($A,{gameCode:n,"data-test":"game-code"})]}),f.jsxs("ol",{children:[f.jsxs("li",{children:["Go to"," ",f.jsx("a",{href:e.origin,target:"_blank",rel:"noreferrer",children:"allkaraoke.party"})," ","on your phone"]}),f.jsxs("li",{children:["Click on ",f.jsx("b",{children:"Join game"})]}),f.jsxs("li",{children:["Enter the code ",f.jsx($A,{gameCode:n})]}),f.jsx("li",{children:"Follow the instructions"})]})]}),f.jsxs(Rae,{children:[f.jsx("h4",{children:"Or copy and send the link"}),f.jsxs(Mae,{children:[f.jsx(Vae,{disabled:!0,value:r,"data-test":"server-link-input"}),f.jsx(jae,{onClick:()=>{navigator.clipboard.writeText(r)},children:"Copy"})]})]})]})]})}const Pae=j("div",{target:"eg58fmd9"})({name:"82a6rk",styles:"flex:1"}),Rae=j("div",{target:"eg58fmd8"})({name:"4dmv1c",styles:"flex:0"}),Mae=j("div",{target:"eg58fmd7"})({name:"sqzzkh",styles:"position:relative;margin-top:0.5rem"}),jae=j("button",{target:"eg58fmd6"})("cursor:pointer;position:absolute;padding:0 2rem;right:0;height:100%;box-sizing:border-box;background:",ge.colors.text.active,";",Ke,";font-weight:bold;font-size:2.2rem;border:0;:active{background-color:black;}"),Oae=j("strong",{target:"eg58fmd5"})("text-transform:uppercase;padding:0.5rem 1.5rem;border-radius:0.5rem;display:inline-flex;gap:1.5rem;",$u,";"),Vae=j("input",{target:"eg58fmd4"})({name:"gri5w4",styles:"padding:1rem;box-sizing:border-box;background:grey;border:none;width:100%;font-size:1.3rem"}),Lae=j("div",{target:"eg58fmd3"})({name:"1d1jk7v",styles:"display:flex;flex-direction:row;flex-wrap:nowrap;align-items:stretch;flex:1;gap:2%;@media (max-width: 560px){flex-direction:column;}"}),Nae=j("div",{target:"eg58fmd2"})({name:"2ogmzh",styles:"flex:0.6;@media (max-width: 560px){flex:0;}"}),Bae=j("div",{target:"eg58fmd1"})({name:"mhlr3w",styles:"display:none;@media (max-width: 560px){display:block;}margin-bottom:2rem"}),Dae=j("div",{target:"eg58fmd0"})("@media (max-width: 560px){display:none;}flex:1;display:flex;flex-direction:column;b{font-weight:bold;",Ke,";color:",ge.colors.text.active,";}h3{margin-bottom:1rem;}h4{margin:1rem 0;}ol{padding-left:2.3rem;margin:0 0 1.25rem 0;list-style:decimal inside;}li{color:white;font-size:2rem;line-height:3.2rem;}");function $ae({closeModal:e}){const{register:t}=Yn({onBackspace:e});return f.jsx(Ac,{onClose:e,children:f.jsxs(Qa,{children:[f.jsx(_E,{}),f.jsx(Hs,{...t("quick-connect-close",e),children:"Close"})]})})}function Fae(){const[e,t]=A.useState(!1);Qe(br);const[n,r]=Qe(i3),{hasContent:i}=A.useContext(Xx),s=()=>t(!1);return f.jsxs(f.Fragment,{children:[e&&f.jsx($ae,{closeModal:s}),f.jsxs(zae,{children:[i&&f.jsx(Ju,{title:"Toggle help",place:"bottom-end",children:f.jsx(Uae,{size:"small",onClick:()=>r(!n),"data-test":"toggle-help",children:n?f.jsx(tre,{}):f.jsx(nre,{})})}),f.jsx(Roe,{}),f.jsx(Ju,{title:"Connect phone",place:"bottom-end",children:f.jsx(rv,{size:"small",onClick:()=>t(o=>!o),"data-test":"quick-connect-phone",children:f.jsx(Jm,{})})})]})]})}const zae=j("div",{target:"efkmcew1"})({name:"17druna",styles:"view-transition-name:toolbar;cursor:pointer;background:rgba(0, 0, 0, 0.75);color:white;padding-left:1rem;margin:0;position:fixed;top:0;right:0;z-index:10000;color:white;svg{fill:white;width:3.25rem;height:3.25rem;transition:transform 200ms;&:hover{transform:scale(1.2);}}display:flex;gap:0.75rem;border-bottom-left-radius:1.5rem"}),Uae=j(rv,{target:"efkmcew0"})({name:"lpoy45",styles:"scale:0.9"});function Ja({children:e,toolbar:t=!0}){return f.jsxs(mee,{children:[t&&f.jsx(Fae,{}),e]})}const Hae=pt(f.jsx("path",{d:"M3 13h2v-2H3zm0 4h2v-2H3zm0-8h2V7H3zm4 4h14v-2H7zm0 4h14v-2H7zM7 7v2h14V7z"}),"List"),Gae=pt(f.jsx("path",{d:"M19.14 12.94c.04-.3.06-.61.06-.94 0-.32-.02-.64-.07-.94l2.03-1.58c.18-.14.23-.41.12-.61l-1.92-3.32c-.12-.22-.37-.29-.59-.22l-2.39.96c-.5-.38-1.03-.7-1.62-.94l-.36-2.54c-.04-.24-.24-.41-.48-.41h-3.84c-.24 0-.43.17-.47.41l-.36 2.54c-.59.24-1.13.57-1.62.94l-2.39-.96c-.22-.08-.47 0-.59.22L2.74 8.87c-.12.21-.08.47.12.61l2.03 1.58c-.05.3-.09.63-.09.94s.02.64.07.94l-2.03 1.58c-.18.14-.23.41-.12.61l1.92 3.32c.12.22.37.29.59.22l2.39-.96c.5.38 1.03.7 1.62.94l.36 2.54c.05.24.24.41.48.41h3.84c.24 0 .44-.17.47-.41l.36-2.54c.59-.24 1.13-.56 1.62-.94l2.39.96c.22.08.47 0 .59-.22l1.92-3.32c.12-.22.07-.47-.12-.61zM12 15.6c-1.98 0-3.6-1.62-3.6-3.6s1.62-3.6 3.6-3.6 3.6 1.62 3.6 3.6-1.62 3.6-3.6 3.6"}),"Settings"),SE=({...e})=>f.jsx("svg",{viewBox:"0 0 512 512",fill:"currentcolor",...e,children:f.jsx("path",{stroke:"black",strokeWidth:"2%",xmlns:"http://www.w3.org/2000/svg",d:"M252.529,162.029l168.125,210.156c-12.313,1.25-24.031,6.438-33.031,15.438s-14.188,20.719-15.438,33.031L162.029,252.545  c-3.563-24.922,4.813-50.078,22.625-67.891C202.467,166.857,227.623,158.467,252.529,162.029z M398.936,398.936  c-9.063,9.063-13.031,22.063-10.625,34.656l45.281,45.25c12.5,12.5,32.75,12.5,45.25,0s12.5-32.75,0-45.25l-45.25-45.281  C420.998,385.904,407.998,389.873,398.936,398.936z M162.029,162.029c18.594-18.594,43.188-29.891,68.969-32.297  c-3.375-24.563-14.906-49.391-35.031-69.516c-43.75-43.75-109.594-48.813-147.063-11.313  c-37.5,37.484-32.438,103.328,11.313,147.078c20.125,20.125,44.938,31.656,69.5,35.031  C132.154,205.217,143.436,180.623,162.029,162.029z"})}),Q_=an(SE)`fill-text-player-0`,AN=an(SE)`fill-text-player-1`;function qae({active:e,setActiveTab:t}){return f.jsxs(Wae,{children:[f.jsxs(FA,{active:e==="microphone",onClick:()=>t("microphone"),"data-test":"menu-microphone",children:[f.jsx(zA,{children:f.jsx(SE,{})}),f.jsx(UA,{children:"Microphone"})]}),f.jsxs(FA,{active:e==="song-list",onClick:()=>t("song-list"),"data-test":"menu-song-list",children:[f.jsx(zA,{children:f.jsx(Hae,{})}),f.jsx(UA,{children:"Song list"})]}),f.jsxs(FA,{active:e==="settings",onClick:()=>t("settings"),"data-test":"menu-settings",children:[f.jsx(zA,{children:f.jsx(Gae,{})}),f.jsx(UA,{children:"Settings"})]})]})}const Wae=j("div",{target:"e1c2ys9k3"})({name:"1x8gdpu",styles:"position:fixed;bottom:0;right:0;display:flex;align-items:stretch;width:100%;gap:1px;background:#424242;@media (max-height: 500px) and (min-aspect-ratio: 16/10){max-width:400px;transform:scale(0.75);transform-origin:bottom right;}"}),FA=j("div",{target:"e1c2ys9k2"})("cursor:pointer;flex:1;display:flex;flex-direction:column;align-items:center;justify-content:center;background:black;padding:1rem;font-size:1.5rem;gap:0.5rem;color:",e=>e.active?ge.colors.text.active:"#cecece",";"),zA=j("div",{target:"e1c2ys9k1"})({name:"immj2t",styles:"svg{width:2.5rem;height:2.5rem;}font-size:2rem"}),UA=j("div",{target:"e1c2ys9k0"})(""),vd=pt(f.jsx("path",{d:"M1 21h22L12 2zm12-3h-2v-2h2zm0-4h-2v-4h2z"}),"Warning"),xE=()=>{const[e,t]=A.useState(Ea.getStatus());return A.useEffect(()=>Ea.addListener(t),[]),e};function bN(){return navigator==null?void 0:navigator.userAgent.includes("OPR")}const Kae="/assets/allow-mic-DleF1-pf.png",Yae="/assets/enable-mic-opera-B5FfRj_P.png",Qae="/assets/enable-mic-TGG47ucR.png",Jae=()=>bN()?Yae:Qae,np=({children:e,fallback:t,showImages:n=!0})=>{const r=xE();return f.jsxs(f.Fragment,{children:[r==="accepted"&&e,r!=="accepted"&&f.jsxs(f.Fragment,{children:[f.jsx(Zae,{children:f.jsx(ele,{})}),t,f.jsxs(Xae,{children:[r==="requested"&&n&&f.jsx("img",{src:Kae,alt:"how-to-allow"}),r==="declined"&&f.jsxs(f.Fragment,{children:[f.jsx("h3",{children:"Access is blocked, you can unblock it here"}),n&&f.jsx("img",{src:Jae(),alt:"how-to-enable"})]}),bN()&&f.jsxs("h4",{children:[f.jsx("strong",{children:"Opera"})," is buggy regarding microphone access - if you encounter issue (e.g. this message stays even after the access to microphone was granted), consider other browsers."]})]})]})]})},Xae=j("div",{target:"e1w9vi9z2"})({name:"1hmq8jv",styles:"text-align:center;img{margin:1.5rem 0 0.5rem;box-shadow:0.5rem 0.5rem 0.5rem rgba(0, 0, 0, 0.5),inset 0 0 0.5rem 0.5rem rgba(255, 255, 255, 0.5);border:0.5rem solid white;border-radius:1rem;box-sizing:border-box;max-width:100%;}"}),Zae=j("div",{target:"e1w9vi9z1"})({name:"zov8s0",styles:"width:100%;display:flex;justify-content:center"}),ele=j(vd,{target:"e1w9vi9z0"})("color:",ge.colors.text.active,";font-size:3rem;");function tle(){return!1}const nm=pt(f.jsx("path",{d:"m1 9 2 2c4.97-4.97 13.03-4.97 18 0l2-2C16.93 2.93 7.08 2.93 1 9m8 8 3 3 3-3c-1.65-1.66-4.34-1.66-6 0m-4-4 2 2c2.76-2.76 7.24-2.76 10 0l2-2C15.14 9.14 8.87 9.14 5 13"}),"Wifi");function rp(e,t,n=1){return n===1?(t+1)%e.length:(t+e.length-1)%e.length}function nle(e,t,n=1){return rp(e,e.indexOf(t),n)}function Bl(e,t,n=1){return e[nle(e,t,n)]}const es=({focused:e,disabled:t=!1,label:n,value:r,onClick:i,info:s,children:o,...a})=>f.jsxs(rle,{children:[f.jsxs(ile,{"data-focused":e,onClick:i,"data-disabled":t,...a,children:[f.jsx("span",{children:n?f.jsxs(f.Fragment,{children:[n,":"]}):""})," ",f.jsx(sle,{children:r}),o??null]}),s&&f.jsx(_N,{children:s})]}),rle=j("div",{target:"e84wjn53"})(""),_N=j("div",{target:"e84wjn52"})(Ke,";font-size:2rem;padding:1rem 0.5rem 0;text-align:justify;"),ile=j("span",{target:"e84wjn51"})("background:rgba(0, 0, 0, 0.7);width:auto;",Ke,";text-align:right;font-size:2.7rem;cursor:pointer;padding:0.65rem;display:flex;flex-direction:row;justify-content:space-between;&[data-expanded='true']{font-size:6rem;}&[data-disabled='true']{cursor:default;}&[data-focused='true'][data-disabled='false']{animation:focusAnimation 1000ms ease-in-out infinite both;}&:hover{animation:focusAnimation 1000ms ease-in-out infinite both;}"),sle=j("span",{target:"e84wjn50"})("color:",ge.colors.text.active,";text-overflow:ellipsis;overflow:hidden;white-space:nowrap;padding-left:1rem;"),bc=A.forwardRef(({focused:e,label:t,value:n,onChange:r,disabled:i,className:s,adornment:o,info:a,...l},c)=>{const u=A.useRef(null);return A.useImperativeHandle(c,()=>u.current),Dr($b,()=>{var d;return(d=u.current)==null?void 0:d.focus()},{enabled:e}),f.jsxs("div",{children:[f.jsxs(ale,{"data-focused":e,className:s,children:[f.jsx(lle,{children:t}),f.jsx(cle,{value:n,onChange:d=>r(d.target.value),...l,disabled:i,ref:u}),o&&f.jsx(ole,{children:o})]}),a&&f.jsx(_N,{children:a})]})}),ole=j("span",{target:"et2ce2n3"})(""),ale=j("div",{target:"et2ce2n2"})("background:black;caret:underscore;",Ke,";width:auto;display:flex;cursor:text;padding:0.25em;align-items:center;&[data-focused='true']{animation:focusAnimation 1000ms ease-in-out infinite both;}&:hover{animation:focusAnimation 1000ms ease-in-out infinite both;}"),lle=j("span",{target:"et2ce2n1"})({name:"1vbnwdc",styles:"display:inline-flex;align-items:center;justify-content:center;padding-right:0.5em;white-space:nowrap;width:auto;svg{font-size:1em;}"}),cle=j("input",{target:"et2ce2n0"})("padding:0;border:0;background:transparent;caret:underscore;",Ke,";color:",ge.colors.text.active,";width:100%;font-size:1em;&:focus{outline:none;}");function ule(e){return Rr("MuiCircularProgress",e)}Mr("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);const na=44,J_=pc`
  0% {
    transform: rotate(0deg);
  }

  100% {
    transform: rotate(360deg);
  }
`,X_=pc`
  0% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: 0;
  }

  50% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -15px;
  }

  100% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -125px;
  }
`,dle=typeof J_!="string"?ps`
        animation: ${J_} 1.4s linear infinite;
      `:null,fle=typeof X_!="string"?ps`
        animation: ${X_} 1.4s ease-in-out infinite;
      `:null,hle=e=>{const{classes:t,variant:n,color:r,disableShrink:i}=e,s={root:["root",n,`color${lt(r)}`],svg:["svg"],circle:["circle",`circle${lt(n)}`,i&&"circleDisableShrink"]};return Wr(s,ule,t)},ple=Zt("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],t[`color${lt(n.color)}`]]}})(cs(({theme:e})=>({display:"inline-block",variants:[{props:{variant:"determinate"},style:{transition:e.transitions.create("transform")}},{props:{variant:"indeterminate"},style:dle||{animation:`${J_} 1.4s linear infinite`}},...Object.entries(e.palette).filter(ih()).map(([t])=>({props:{color:t},style:{color:(e.vars||e).palette[t].main}}))]}))),gle=Zt("svg",{name:"MuiCircularProgress",slot:"Svg",overridesResolver:(e,t)=>t.svg})({display:"block"}),mle=Zt("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.circle,t[`circle${lt(n.variant)}`],n.disableShrink&&t.circleDisableShrink]}})(cs(({theme:e})=>({stroke:"currentColor",variants:[{props:{variant:"determinate"},style:{transition:e.transitions.create("stroke-dashoffset")}},{props:{variant:"indeterminate"},style:{strokeDasharray:"80px, 200px",strokeDashoffset:0}},{props:({ownerState:t})=>t.variant==="indeterminate"&&!t.disableShrink,style:fle||{animation:`${X_} 1.4s ease-in-out infinite`}}]}))),yle=A.forwardRef(function(t,n){const r=jr({props:t,name:"MuiCircularProgress"}),{className:i,color:s="primary",disableShrink:o=!1,size:a=40,style:l,thickness:c=3.6,value:u=0,variant:d="indeterminate",...h}=r,p={...r,color:s,disableShrink:o,size:a,thickness:c,value:u,variant:d},g=hle(p),m={},b={},y={};if(d==="determinate"){const v=2*Math.PI*((na-c)/2);m.strokeDasharray=v.toFixed(3),y["aria-valuenow"]=Math.round(u),m.strokeDashoffset=`${((100-u)/100*v).toFixed(3)}px`,b.transform="rotate(-90deg)"}return f.jsx(ple,{className:xt(g.root,i),style:{width:a,height:a,...b,...l},ownerState:p,ref:n,role:"progressbar",...y,...h,children:f.jsx(gle,{className:g.svg,ownerState:p,viewBox:`${na/2} ${na/2} ${na} ${na}`,children:f.jsx(mle,{className:g.circle,style:m,ownerState:p,cx:na,cy:na,r:(na-c)/2,fill:"none",strokeWidth:c})})})});function ip(e){return f.jsx(yle,{...e})}function wh(e){document.startViewTransition?document.startViewTransition(async()=>{await e()}):e()}const T0=(e,t)=>{var n;if(t){const r=new URLSearchParams((n=global.location)==null?void 0:n.search);return Object.entries(t).forEach(([i,s])=>{s===null?r.delete(i):r.set(i,s)}),`${e}?${r.toString()}`}return e};function fi(){const[,e]=Eae();return(t,n,{smooth:r=!0,...i}={})=>{r?wh(()=>e(T0(t,n),i)):e(T0(t,n),i)}}const SN=pt(f.jsx("path",{d:"M20 18c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2H4c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2H0v2h24v-2zM4 6h16v10H4z"}),"Laptop"),xN=pt(f.jsx("path",{d:"M16 1H8C6.34 1 5 2.34 5 4v16c0 1.66 1.34 3 3 3h8c1.66 0 3-1.34 3-3V4c0-1.66-1.34-3-3-3m-2 20h-4v-1h4zm3.25-3H6.75V4h10.5z"}),"PhoneAndroid"),BP="confirmed-wifi";function vle({onClose:e}){const[t,n]=Ie.useState(Le.session.getItem(BP)??!1),r=()=>{Le.session.setItem(BP,!0),n(!0),e==null||e()};return A.useEffect(()=>{var i,s,o;if(navigator!=null&&navigator.connection)if(((i=navigator==null?void 0:navigator.connection)==null?void 0:i.type)==="wifi")r();else{const a=()=>{var l;((l=navigator==null?void 0:navigator.connection)==null?void 0:l.type)==="wifi"&&r()};return(o=(s=navigator==null?void 0:navigator.connection)==null?void 0:s.addEventListener)==null||o.call(s,"change",a),()=>{var l,c;return(c=(l=navigator==null?void 0:navigator.connection)==null?void 0:l.removeEventListener)==null?void 0:c.call(l,"change",a)}}},[]),t?null:f.jsx(Ac,{onClose:r,children:f.jsxs(Ale,{children:[f.jsxs(ble,{children:[f.jsxs("h3",{children:["Connect to the ",f.jsx("strong",{children:"same Wi-Fi"})]}),f.jsxs(_le,{children:[f.jsx(xN,{}),"...",f.jsx(nm,{}),"...",f.jsx(SN,{})]}),f.jsx("h4",{children:"Connect to the same Wi-Fi as the game."})]}),f.jsx("h6",{children:"Otherwise microphones might not work properly."}),f.jsx(Fe,{onClick:r,focused:!0,"data-test":"confirm-wifi-connection",children:"I'm connected, continue"})]})})}const Ale=j(Qa,{target:"e1200hll2"})({name:"vcyu3g",styles:"gap:1rem"}),ble=j("div",{target:"e1200hll1"})({name:"1uu7723",styles:"display:flex;flex-direction:column;align-items:center;gap:2rem"}),_le=j("div",{target:"e1200hll0"})("margin:2rem 0;display:flex;color:white;align-items:center;gap:2rem;@keyframes pulse{0%{color:",ge.colors.text.default,";transform:scale(1);}25%{color:",ge.colors.text.active,";transform:scale(1.1);}50%{color:",ge.colors.text.default,";transform:scale(1);}}svg{animation:pulse 2s infinite;font-size:7rem;:nth-of-type(1){animation-delay:0s;}:nth-of-type(2){animation-delay:0.5s;}:nth-of-type(3){animation-delay:1s;}}");function Sle(e,t,n,r){n===void 0&&(n=global),r===void 0&&(r={});var i=A.useRef(),s=r.capture,o=r.passive,a=r.once;A.useEffect(function(){i.current=t},[t]),A.useEffect(function(){if(n&&n.addEventListener){var l=function(u){return i.current(u)},c={capture:s,passive:o,once:a};return n.addEventListener(e,l,c),function(){n.removeEventListener(e,l,c)}}},[e,n,s,o,a])}var ul={},xle=function(e,t,n){return ul[e]||(ul[e]={callbacks:[],value:n}),ul[e].callbacks.push(t),{deregister:function(){var r=ul[e].callbacks,i=r.indexOf(t);i>-1&&r.splice(i,1)},emit:function(r){ul[e].value!==r&&(ul[e].value=r,ul[e].callbacks.forEach(function(i){t!==i&&i(r)}))}}};function Xa(e,t){if(t===void 0&&(t=typeof global<"u"&&global.localStorage?global.localStorage:typeof globalThis<"u"&&globalThis.localStorage?globalThis.localStorage:typeof window<"u"&&window.localStorage?window.localStorage:typeof localStorage<"u"?localStorage:null),t){var n=function(r){return{get:function(i,s){var o=r.getItem(i);return o==null?typeof s=="function"?s():s:JSON.parse(o)},set:function(i,s){r.setItem(i,JSON.stringify(s))}}}(t);return function(r){return function(i,s,o){var a=o.get,l=o.set,c=A.useRef(null),u=A.useState(function(){return a(s,i)}),d=u[0],h=u[1];Sle("storage",function(g){if(g.key===s){var m=JSON.parse(g.newValue);d!==m&&h(m)}}),A.useEffect(function(){return c.current=xle(s,h,i),function(){c.current.deregister()}},[i,s]);var p=A.useCallback(function(g){var m=typeof g=="function"?g(d):g;l(s,m),h(m),c.current.emit(g)},[d,l,s]);return[d,p]}(r,e,n)}}return A.useState}const wle=Xa("remote_mic_name");function Ele({isVisible:e,roomId:t,connectionStatus:n,onConnect:r,connectionError:i}){const[s,o]=wle(""),[a,l]=A.useState(!1),c=A.useRef(null),u=A.useRef(null),[d,h]=A.useState(t??""),p=fi(),g=n!=="uninitialised"&&n!=="error";A.useEffect(()=>{n==="connected"&&!t&&p("remote-mic/",{room:d})},[n,t,d]);const m=(x=!1)=>{pn.connect(d,s,x),r(x)},b=x=>{var S,E;x.preventDefault(),l(!1),!t&&d.length!==xf?(S=c.current)==null||S.focus():s===""?(E=u.current??c.current)==null||E.focus():m()};A.useEffect(()=>{var x;On.capture(t?"remote-mic-qrcode":"remote-mic-manual"),(x=c.current)==null||x.focus()},[]),A.useEffect(()=>{Le.session.getItem("reload-mic-request")!==null&&(global.setTimeout(()=>Le.session.removeItem("reload-mic-request"),1),m(!0))},[]);const[y,v]=A.useState(!1);A.useEffect(()=>{if(v(!1),n==="connecting"||n==="reconnecting"){const x=setTimeout(()=>v(!0),2e3);return()=>clearTimeout(x)}},[n]);const _=n==="error"&&!a;return e?f.jsxs(f.Fragment,{children:[(t==null?void 0:t.startsWith("p"))&&f.jsx(vle,{onClose:()=>{var x;(x=c.current)==null||x.focus()}}),f.jsxs(Cle,{onSubmit:b,children:[!g&&f.jsx(Tle,{ref:c,placeholder:"_____",label:"Game code",autoCapitalize:"characters",autoComplete:"off",onChange:h,value:d,maxLength:xf,focused:!1,autoFocus:!0,"data-test":"game-code-input",onFocus:()=>{n==="error"&&l(!0)},onPaste:x=>{x.preventDefault();let S=(x.clipboardData||global.clipboardData).getData("text");S=S.replace(/\s/g,""),h(S.slice(0,xf))}}),f.jsx(bc,{maxLength:vx,focused:!1,label:"Your name",placeholder:"Enter your name",value:s,onChange:o,ref:t?c:u,disabled:g,autoFocus:!0,"data-test":"player-name-input"}),f.jsxs(kle,{type:"submit",disabled:g,"data-test":"connect-button",children:[n==="connecting"&&f.jsx(ip,{size:"1em"}),n==="uninitialised"||a?"Connect":n.toUpperCase()]})]}),(y||_)&&f.jsxs(f.Fragment,{children:[y&&f.jsx("h3",{children:"If it doesn't connect"}),_&&f.jsxs(f.Fragment,{children:[f.jsxs("h3",{children:[f.jsx("strong",{children:f.jsx(vd,{})})," ","Could not connect:"]}),f.jsxs("h6",{children:["Error code: ",f.jsx("strong",{children:i})]}),f.jsx("br",{}),i==="peer-unavailable"?f.jsxs(f.Fragment,{children:[f.jsx("h4",{children:t===void 0?"Game with this code not found ":"The game seems to be offline "}),t===void 0&&f.jsxs("h5",{children:["1. Is the code ",f.jsx("strong",{children:d.toUpperCase()})," correct?"]}),f.jsxs("h5",{children:[t===void 0?2:1,". Refresh (",f.jsx("strong",{children:"F5"}),") the Karaoke Game on the PC"]}),t!==void 0&&f.jsxs("h5",{children:["2. Scan the"," ",f.jsxs("strong",{children:[f.jsx(Jm,{})," QR Code"]})," ","again"]}),f.jsxs("h5",{children:["3. Make sure you are in the same"," ",f.jsxs("strong",{children:[f.jsx(nm,{})," Wi-Fi"]})]})]}):i==="network"?f.jsxs(f.Fragment,{children:[f.jsx("h4",{children:"No internet access "}),f.jsxs("h5",{children:["Make sure you are in the same"," ",f.jsxs("strong",{children:[f.jsx(nm,{})," Wi-Fi"]}),"and that it has internet connection"]})]}):f.jsxs(f.Fragment,{children:[f.jsxs("h5",{children:["1. Make sure you are in the same"," ",f.jsxs("strong",{children:[f.jsx(nm,{})," Wi-Fi"]})]}),f.jsxs("h5",{children:["2. Refresh (",f.jsx("strong",{children:"F5"}),") the Karaoke Game on the PC"]}),f.jsxs("h5",{children:["3. Scan the"," ",f.jsxs("strong",{children:[f.jsx(Jm,{})," QR Code"]})," ","again"]})]})]})]})]}):null}const Cle=j("form",{target:"e1ey8ze72"})({name:"fvqkyn",styles:"margin-top:2rem;display:flex;flex-direction:column;gap:1rem"}),kle=j(Fe,{target:"e1ey8ze71"})({name:"116s0m5",styles:"margin-bottom:0;height:72px"}),Tle=j(bc,{target:"e1ey8ze70"})({name:"8hhbv6",styles:"input{letter-spacing:2rem;text-align:center;text-transform:uppercase;}"}),Ile=pt(f.jsx("path",{d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20z"}),"ArrowBack"),Ple=pt(f.jsx("path",{d:"m12 4-1.41 1.41L16.17 11H4v2h12.17l-5.58 5.59L12 20l8-8z"}),"ArrowForward"),Rle=pt(f.jsx("path",{d:"M15 7.5V2H9v5.5l3 3zM7.5 9H2v6h5.5l3-3zM9 16.5V22h6v-5.5l-3-3zM16.5 9l-3 3 3 3H22V9z"}),"Games"),Mle=pt(f.jsx("path",{d:"M7.41 8.59 12 13.17l4.59-4.58L18 10l-6 6-6-6z"}),"KeyboardArrowDown"),jle=pt(f.jsx("path",{d:"M15.41 16.59 10.83 12l4.58-4.59L14 6l-6 6 6 6z"}),"KeyboardArrowLeft"),Ole=pt(f.jsx("path",{d:"M8.59 16.59 13.17 12 8.59 7.41 10 6l6 6-6 6z"}),"KeyboardArrowRight"),Vle=pt(f.jsx("path",{d:"M7.41 15.41 12 10.83l4.59 4.58L18 14l-6-6-6 6z"}),"KeyboardArrowUp"),Lle=pt(f.jsx("path",{d:"M10.59 9.17 5.41 4 4 5.41l5.17 5.17zM14.5 4l2.04 2.04L4 18.59 5.41 20 17.96 7.46 20 9.5V4zm.33 9.41-1.41 1.41 3.13 3.13L14.5 20H20v-5.5l-2.04 2.04z"}),"Shuffle"),wE=pt(f.jsx("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14"}),"Search");function EE(e,t){const[n,r]=A.useState(e);return A.useEffect(()=>{const i=setTimeout(()=>{r(e)},t);return()=>{clearTimeout(i)}},[e,t]),n}function Nle({onSearchStateChange:e}){const[t,n]=A.useState(""),r=A.useRef(null),i=EE(t,100),s=HX(i);return A.useEffect(()=>{s!==i&&pn.searchSong(i.trim())},[s,i]),UX(()=>e==null?void 0:e(!1)),f.jsx(Ble,{onFocus:()=>e==null?void 0:e(!0),onBlur:()=>e==null?void 0:e(!1),maxLength:vx,focused:!1,label:f.jsx(wE,{}),placeholder:"Search for a song",value:t,onChange:n,ref:r,"data-test":"search-song-input"})}const Ble=j(bc,{target:"e12hs6m40"})({name:"zrd260",styles:"width:100%;margin-bottom:1rem"});function Dle({onSearchStateChange:e}){var s;const[t]=Ds(te.remoteKeyboardLayout,!0)??[],n=(t==null?void 0:t.horizontal)!==void 0||(t==null?void 0:t["horizontal-vertical"])!==void 0,r=(t==null?void 0:t.vertical)!==void 0||(t==null?void 0:t["horizontal-vertical"])!==void 0,i=o=>()=>{pn.sendKeyStroke(o)};return t!==void 0?f.jsxs($le,{"data-test":"remote-keyboard",children:[((s=t==null?void 0:t.remote)==null?void 0:s.includes("search"))&&f.jsx(Nle,{onSearchStateChange:e}),(n||r)&&f.jsxs(GA,{children:[f.jsx(HA,{children:f.jsx(Bc,{onClick:i("up"),disabled:!r,"data-disabled":!r,"data-test":"arrow-up",children:f.jsx(Vle,{})})}),f.jsxs(HA,{children:[f.jsx(Bc,{onClick:i("left"),disabled:!n,"data-disabled":!n,"data-test":"arrow-left",children:f.jsx(jle,{})}),f.jsx(Bc,{disabled:!0,"data-disabled":!0,children:f.jsx(Rle,{})}),f.jsx(Bc,{onClick:i("right"),disabled:!n,"data-disabled":!n,"data-test":"arrow-right",children:f.jsx(Ole,{})})]}),f.jsx(HA,{children:f.jsx(Bc,{onClick:i("down"),disabled:!r,"data-disabled":!r,"data-test":"arrow-down",children:f.jsx(Mle,{})})})]}),f.jsxs(GA,{children:[f.jsx(qA,{onClick:i("back"),disabled:(t==null?void 0:t.back)===void 0,"data-test":"keyboard-backspace",children:(t==null?void 0:t.back)||f.jsxs(f.Fragment,{children:[f.jsx(Ile,{})," Back"]})}),f.jsx(qA,{onClick:i("accept"),disabled:(t==null?void 0:t.accept)===void 0,"data-test":"keyboard-enter",children:(t==null?void 0:t.accept)||f.jsxs(f.Fragment,{children:["Enter ",f.jsx(Ple,{})]})})]}),f.jsx(Fle,{}),f.jsx(GA,{disabled:(t==null?void 0:t.shiftR)===void 0,"data-test":"keyboard-shift-r",children:f.jsxs(qA,{onClick:i("random"),children:[f.jsx(Lle,{})," ",(t==null?void 0:t.shiftR)||"Random Song"]})})]}):null}const $le=j("div",{target:"epl0eil6"})({name:"17mk58z",styles:"gap:1rem;display:flex;flex-wrap:wrap;margin-bottom:2rem"}),HA=j("div",{target:"epl0eil5"})({name:"144ujnw",styles:"display:flex;justify-content:center;flex:1;color:white;font-size:2rem"}),GA=j("div",{target:"epl0eil4"})("display:flex;flex-direction:column;flex:1;justify-content:space-between;opacity:",e=>e.disabled?0:1,";"),Fle=j("div",{target:"epl0eil3"})({name:"1f76xva",styles:"flex-basis:100%;height:0"}),zle=j("button",{target:"epl0eil2"})("background:none;border:none;box-sizing:border-box;margin:0.25rem;width:4.5rem;height:4.5rem;svg{width:2.5rem;height:2.5rem;}opacity:",e=>e.disabled?.25:1,";"),Bc=j(zle,{target:"epl0eil1"})({name:"1dzx4ce",styles:"display:flex;align-items:center;justify-content:center;border-radius:0.3rem;border:0.3rem solid rgb(204, 204, 204);border-bottom-color:rgb(130, 130, 130);border-right-color:rgb(130, 130, 130);gap:0.5rem;&[data-disabled='false']{cursor:pointer;&:active{border:0.3rem solid rgb(130, 130, 130);border-bottom-color:rgb(204, 204, 204);border-right-color:rgb(204, 204, 204);}}color:rgb(51, 51, 51);font-weight:normal;font-size:2.5rem;box-shadow:0 0.1rem 0 rgba(0, 0, 0, 0.2),inset 0 0 0 0.2rem #ffffff;background-color:rgb(247, 247, 247);text-shadow:0 0.1rem 0 #fff"}),qA=j(Bc,{target:"epl0eil0"})({name:"1d3w5wq",styles:"width:100%"}),CE=pt(f.jsx("path",{d:"M6.99 11 3 15l3.99 4v-3H14v-2H6.99zM21 9l-3.99-4v3H10v2h7.01v3z"}),"SwapHoriz"),cg={regular:["Blue","Red","Green","Yellow"],christmas:["Green","Red","?????","?????"],eurovision:["Blue","Violet","Yellow","Pink"],halloween:["Orange","Violet","Red","Green"]};function wN({playerNumber:e,id:t,onModalClose:n,header:r}){const[i]=Ds(te.remoteStyleChanged,!0)??["regular"],s=a=>{pn.requestPlayerChange(t,a),n()},o=e!==null;return f.jsx(Ac,{onClose:n,children:f.jsxs(Ule,{children:[r&&f.jsx("h2",{children:r}),f.jsx(Fe,{size:"small","data-test":"change-to-player-0",onClick:()=>s(0),disabled:e===0,style:{color:ge.colors.players[0].perfect.fill},children:cg[i][0]}),f.jsx(Fe,{size:"small","data-test":"change-to-player-1",onClick:()=>s(1),disabled:e===1,style:{color:ge.colors.players[1].perfect.fill},children:cg[i][1]}),f.jsx(Fe,{size:"small","data-test":"change-to-player-2",onClick:()=>s(2),disabled:e===2,style:{color:ge.colors.players[2].perfect.fill},children:cg[i][2]}),f.jsx(Fe,{size:"small","data-test":"change-to-player-3",onClick:()=>s(3),disabled:e===3,style:{color:ge.colors.players[3].perfect.fill},children:cg[i][3]}),f.jsx(Fe,{size:"small",onClick:()=>s(null),disabled:!o,"data-test":"change-to-unset",children:"Unassign"}),f.jsx("hr",{}),f.jsx(Fe,{size:"small",onClick:()=>pn.removePlayer(t),"data-test":"remove-player",children:"Remove"}),f.jsx(Fe,{onClick:n,size:"small",children:"Close"})]})})}const Ule=j(Qa,{target:"e1q747tq0"})({name:"8ixhiv",styles:"gap:0"});function EN({number:e,...t}){const[n]=Ds(te.remoteStyleChanged,!0)??["regular"],r=FO();return A.useEffect(()=>{r()},[n]),f.jsx(Hle,{style:{background:e!==null?ge.colors.players[e].perfect.fill:ge.colors.text.inactive},...t})}const Hle=j("div",{target:"e1u9853z0"})({name:"97f0zo",styles:"display:inline-block;width:1em;height:1em;aspect-ratio:1;border-radius:1em"}),Gle=A.memo(function({playerNumber:t}){const[n,r]=A.useState(!1),i=()=>r(!1),s=t!==null;return f.jsxs(f.Fragment,{children:[f.jsxs(qle,{onClick:()=>r(!0),"data-test":"change-player","data-joined":s,children:[s?f.jsxs(f.Fragment,{children:[f.jsx(EN,{number:t})," Change"]}):"Join game"," ",f.jsx(CE,{})]}),n&&f.jsx(wN,{id:pn.getClientId(),playerNumber:t,onModalClose:i})]})}),qle=j("button",{target:"e1x7ggg80"})("position:absolute;z-index:1;color:white;right:1rem;bottom:1rem;padding:1rem;font-size:2rem;text-transform:uppercase;display:flex;align-items:center;gap:1rem;border:none;",Ke,";background:rgba(0, 0, 0, 0.75);&[data-joined='false']{font-size:3rem;padding:3rem;",$u,";}:hover{",$u,";}:active{",ov,";}svg{width:2rem;height:2rem;}");function cv(){const[e]=Ds(te.remoteMicPermissionsSet,!0)??["write"];return e}function Wle({playerNumber:e,volume:t,frequency:n,isMicOn:r,isConnected:i}){const[s,o]=A.useState(1e-6),a=cv();A.useEffect(()=>{o(u=>t>u?t:u*.99)},[t]);const l=e!==null?ge.colors.players[e].miss.stroke:ge.colors.lines.normal.fill,c=e!==null?ge.colors.players[e].perfect.fill:ge.colors.lines.normal.fill;return f.jsxs(Qle,{isMicOn:r,color:l,"data-player-number":`${e??"none"}`,"data-test":"indicator",children:[r&&f.jsx(f.Fragment,{children:f.jsxs(Kle,{children:[n?`${Math.round(n)}Hz`:" ",f.jsx("br",{}),String(t*100).slice(0,5)]})}),i&&a==="write"&&f.jsx(Gle,{playerNumber:e}),f.jsx(Yle,{color:c,style:{transform:`scaleY(${r?1-Math.min(1,t/s):1})`}})]})}const Kle=j("span",{target:"eik0d702"})({name:"1ikzkvw",styles:"position:absolute;color:white;opacity:0.125"}),Yle=j("div",{target:"eik0d701"})("width:100%;height:100%;background-color:",e=>e.color,";transition:200ms;transform-origin:top;"),Qle=j("div",{target:"eik0d700"})("position:relative;border:0.1rem solid white;flex:1;min-height:200px;max-height:100vw;transition:300ms;background:",e=>e.color,";");function DP({isVisible:e,isMicOn:t,isConnected:n}){const[r,i]=A.useState(0),[s,o]=A.useState(0),[a]=Ds(te.remoteMicPlayerSet,!0)??[null],l=A.useCallback(fu((c,u)=>{o(c),i(u)},150),[i,o]);return A.useEffect(()=>(xs.startMonitoring(void 0),xs.addListener(l)),[l]),e?f.jsx(f.Fragment,{children:f.jsx(Wle,{volume:r,frequency:s,playerNumber:a,isMicOn:t,isConnected:n})}):null}function Jle(){const[e,t]=A.useState(0);return A.useEffect(()=>{const n=setInterval(()=>{const r=Ur();pn.pinging&&r-pn.pingStart>e?t(r-pn.pingStart):t(pn.latency)},333);return()=>{clearInterval(n)}},[]),f.jsxs(f.Fragment,{children:[e,"ms"]})}function Xle({roomId:e,monitoringStarted:t,setMonitoringStarted:n,isKeepAwakeOn:r,setIsKeepAwakeOn:i,connectionError:s,connectionStatus:o}){const a=cv(),[l,c]=A.useState(!1),[u]=Qe(YS),d=async()=>{var g,m;i(!0);try{!tle()&&u&&(await document.body.requestFullscreen(),global.screen.orientation.unlock(),await((m=(g=global.screen.orientation).lock)==null?void 0:m.call(g,"portrait")))}catch(b){console.warn(b)}},h=o==="connected",p=f.jsx(DP,{isVisible:!0,isMicOn:t,isConnected:h});return f.jsx(Zle,{children:f.jsxs(np,{showImages:!1,fallback:f.jsxs(f.Fragment,{children:[p,f.jsx("h2",{children:"Please allow access to the microphone."})]}),children:[f.jsxs($P,{collapse:l,children:[f.jsx(DP,{isVisible:!0,isMicOn:t,isConnected:h}),f.jsx(Ele,{roomId:e,isVisible:!0,connectionStatus:o,onConnect:d,connectionError:s})]}),f.jsxs($P,{children:[a==="write"&&f.jsx(Dle,{onSearchStateChange:c}),a==="read"&&f.jsxs(ece,{"data-test":"no-permissions-message",children:["No permission to control the game. Go to in-game ",f.jsx("strong",{children:"Settings"})," menu "," ",f.jsx("strong",{children:"Remote Microphones Settings"})," to manage them."]}),f.jsxs(FP,{onClick:()=>i(!r),children:["WakeLock: ",f.jsx("strong",{children:r?"ON":"OFF"})]}),f.jsxs(CN,{onClick:()=>t?xs.stopMonitoring():xs.startMonitoring(void 0),children:["Microphone: ",f.jsx("strong",{"data-test":"monitoring-state",children:t?"ON":"OFF"})]}),h&&f.jsxs(FP,{children:["Ping: ",f.jsx(Jle,{})]})]})]})})}const Zle=j("div",{target:"eakh27i4"})({name:"15sh5r0",styles:"font-size:2.6rem;display:flex;flex-direction:column;gap:2rem;padding:1.5rem;box-sizing:border-box;@media (max-height: 500px) and (min-aspect-ratio: 16/10){flex-direction:row;}h5{margin-top:0.5em;svg{font-size:0.9em;}}"}),$P=j("div",{target:"eakh27i3"})("flex:1;transition:300ms ease-in-out;margin-top:",e=>e.collapse?"-100%":"0",";@media (max-height: 500px) and (min-aspect-ratio: 16/10){margin-top:0;display:flex;flex-direction:column;justify-content:center;}"),CN=j("div",{target:"eakh27i2"})(Ke," strong{color:",ge.colors.text.active,";}align-self:flex-end;"),FP=j(CN,{target:"eakh27i1"})(""),ece=j("h5",{target:"eakh27i0"})({name:"1s76ut5",styles:"padding-bottom:5rem"});function tce({onConfirm:e}){const[t,n]=A.useState(!1),[r,i]=A.useState(!1);A.useEffect(()=>{Le.session.getItem("reload-mic-request")!==null&&i(!0)},[]),Ir(te.remoteMicPlayerSet,()=>{r&&(i(!1),n(!0))}),Ir(te.remoteReadinessRequested,()=>{n(!0)});const s=()=>{pn.confirmReadiness(),n(!1),e()};return t?f.jsx(nce,{children:f.jsx(Qa,{children:f.jsx(rce,{"data-test":"ready-button",onClick:s,children:"Ready"})})}):null}const nce=j("div",{target:"eusdifu1"})({name:"1b0uzsn",styles:"display:flex;flex-direction:column;align-items:center;justify-content:center;position:absolute;top:0;left:0;width:100%;height:100%;backdrop-filter:blur(10px);z-index:1000"}),rce=j(Fe,{target:"eusdifu0"})("aspect-ratio:1;",$u,";");function kN({unit:e="",value:t,onChange:n,step:r=50,disabled:i=!1,...s}){return f.jsxs(sce,{...s,children:[f.jsx(zP,{onClick:()=>n(t-r),disabled:i,"data-test":"numeric-input-down",children:"-"}),f.jsxs(ice,{children:[f.jsx("strong",{"data-test":"numeric-input-value",children:t}),e]}),f.jsx(zP,{onClick:()=>n(t+r),disabled:i,"data-test":"numeric-input-up",children:"+"})]})}const zP=j("button",{target:"e1tear4c2"})("background:black;padding:0.5rem 2rem;border:none;font-size:3rem;",Ke,";:disabled{opacity:0.5;}"),ice=j("div",{target:"e1tear4c1"})({name:"2qd0l8",styles:"flex:1;text-align:center"}),sce=j("div",{target:"e1tear4c0"})(Ke,";display:flex;align-items:center;justify-self:center;background:black;");function oce(){const[e,t]=A.useState(0),[n,r]=A.useState(!1);A.useEffect(()=>{r(!0),pn.getGameInputLag().then(({value:s})=>t(s)).catch(s=>console.warn(s)).finally(()=>r(!1))},[]);const i=s=>{r(!0),pn.setGameInputLag(s).then(({value:o})=>t(o)).catch(o=>console.warn(o)).finally(()=>r(!1))};return f.jsxs(f.Fragment,{children:[f.jsx("h3",{children:"Adjust game input lag"}),f.jsx(kN,{value:e,onChange:i,disabled:n,unit:"ms","data-test":"game-input-lag"}),f.jsx("h6",{children:"If the sound is not synchronised with the lyrics, use this to compensate it."})]})}function ace(){A.useEffect(()=>(pn.subscribe("remote-mics"),()=>{pn.unsubscribe("remote-mics")}),[]);const[e]=Ds(te.remoteMicListUpdated)??[[]];return f.jsxs(f.Fragment,{children:[f.jsx("h3",{children:"Manage Players"}),e.map(t=>f.jsx(lce,{mic:t},t.id)),e.length===0&&f.jsx("h4",{children:"No remote microphones connected"})]})}const lce=({mic:e})=>{var r;const[t,n]=A.useState(!1);return rt.getPermission(e.id),f.jsxs(cce,{"data-test":"manage-players",children:[t&&f.jsx(wN,{id:e.id,playerNumber:e.number,onModalClose:()=>n(!1),header:f.jsxs(f.Fragment,{children:["Change ",f.jsx("strong",{className:"ph-no-capture",children:e.name}),":"]})}),f.jsxs(uce,{onClick:()=>n(!0),"data-test":"remote-mic-entry","data-id":e.id??e.name,size:"small",children:[f.jsx(EN,{number:e.number}),f.jsx(fce,{children:((r=e.id)==null?void 0:r.slice(-4))??"????"}),f.jsx(dce,{className:"ph-no-capture",isSelf:e.id===pn.getClientId(),children:e.name})]})]})},cce=j("div",{target:"e1sg8znb3"})({name:"4zk4ri",styles:"display:flex;flex-direction:column;gap:1rem"}),uce=j(Fe,{target:"e1sg8znb2"})({name:"1n950nl",styles:"display:flex;align-items:center;padding:0 2rem"}),dce=j("div",{target:"e1sg8znb1"})("color:",e=>e.isSelf?`${ge.colors.text.active}`:"auto",";text-overflow:ellipsis;overflow:hidden;white-space:nowrap;"),fce=j("span",{target:"e1sg8znb0"})({name:"dcs29c",styles:"font-size:1.5rem;padding:0 1rem"});function UP(){const[e,t]=Qe(s3),[n,r]=A.useState(!1);A.useEffect(()=>{r(!0),pn.getMicrophoneInputLag().then(({value:o})=>t(o)).catch(o=>console.warn(o)).finally(()=>r(!1))},[]);const i=o=>{r(!0),pn.setMicrophoneInputLag(o).then(({value:a})=>t(a)).catch(a=>console.warn(a)).finally(()=>r(!1))},s=()=>{var o;pn.disconnect(),Le.local.removeItem("remote_mic_name"),Le.local.removeItem(Rb),(o=global.location)==null||o.reload()};return f.jsxs(f.Fragment,{children:[f.jsx(Fe,{onClick:s,size:"small","data-test":"reset-microphone",children:"Reset microphone"}),f.jsxs("h6",{"data-test":"reset-mic-info",children:[f.jsx("strong",{children:"Note:"})," removes all persisted microphone data (your name, ID etc.)"]}),f.jsx("hr",{}),f.jsx("h3",{children:"Adjust microphone lag"}),f.jsx(kN,{value:e,onChange:i,unit:"ms",disabled:n,step:25,"data-test":"microphone-delay"}),f.jsx("h6",{children:"Adjust the microphone input delay (e.g. if the game doesn't detect you hitting the note on time)"})]})}function hce(){var r;const e=cv(),[t,n]=A.useState(e==="write"?null:"microphone");return f.jsxs(pce,{children:[f.jsxs("h3",{children:["Remote mic ID:"," ",f.jsx("strong",{"data-test":"remote-mic-id",children:((r=pn.getClientId())==null?void 0:r.slice(-4).toUpperCase())??"----"})]}),f.jsx("hr",{}),e==="write"&&t===null&&f.jsxs(f.Fragment,{children:[f.jsx(Fe,{onClick:()=>n("microphone"),size:"small","data-test":"microphone-settings",disabled:t==="microphone",children:"Microphone settings"}),f.jsx(Fe,{onClick:()=>n("manage"),size:"small","data-test":"manage-game",disabled:t==="manage",children:"Manage the game"})]}),e!=="write"&&f.jsx(UP,{}),t!==null&&e==="write"&&f.jsx(Ac,{onClose:()=>n(null),children:f.jsxs(Qa,{children:[f.jsx(gce,{children:t==="microphone"?"Microphone settings":"Manage game"}),t==="microphone"&&f.jsx(UP,{}),t==="manage"&&f.jsxs(f.Fragment,{children:[f.jsx(ace,{}),f.jsx(oce,{})]}),f.jsx("hr",{}),f.jsx(Fe,{onClick:()=>n(null),size:"small","data-test":"close-modal",children:"Close"})]})})]})}const pce=j("div",{target:"edoha0h1"})({name:"10ti2i0",styles:"flex-grow:1;font-size:2.6rem;display:flex;flex-direction:column;justify-content:center;padding:5rem 1.5rem 1.5rem;box-sizing:border-box;gap:1rem"}),gce=j("h1",{target:"edoha0h0"})({name:"bvcr5v",styles:"font-size:3.25rem!important"});var mce="__lodash_hash_undefined__";function yce(e){return this.__data__.set(e,mce),this}function vce(e){return this.__data__.has(e)}function Eh(e){var t=-1,n=e==null?0:e.length;for(this.__data__=new Ko;++t<n;)this.add(e[t])}Eh.prototype.add=Eh.prototype.push=yce;Eh.prototype.has=vce;function Ace(e,t){for(var n=-1,r=e==null?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}function TN(e,t){return e.has(t)}var bce=1,_ce=2;function IN(e,t,n,r,i,s){var o=n&bce,a=e.length,l=t.length;if(a!=l&&!(o&&l>a))return!1;var c=s.get(e),u=s.get(t);if(c&&u)return c==t&&u==e;var d=-1,h=!0,p=n&_ce?new Eh:void 0;for(s.set(e,t),s.set(t,e);++d<a;){var g=e[d],m=t[d];if(r)var b=o?r(m,g,d,t,e,s):r(g,m,d,e,t,s);if(b!==void 0){if(b)continue;h=!1;break}if(p){if(!Ace(t,function(y,v){if(!TN(p,v)&&(g===y||i(g,y,n,r,s)))return p.push(v)})){h=!1;break}}else if(!(g===m||i(g,m,n,r,s))){h=!1;break}}return s.delete(e),s.delete(t),h}function Sce(e){var t=-1,n=Array(e.size);return e.forEach(function(r,i){n[++t]=[i,r]}),n}function kE(e){var t=-1,n=Array(e.size);return e.forEach(function(r){n[++t]=r}),n}var xce=1,wce=2,Ece="[object Boolean]",Cce="[object Date]",kce="[object Error]",Tce="[object Map]",Ice="[object Number]",Pce="[object RegExp]",Rce="[object Set]",Mce="[object String]",jce="[object Symbol]",Oce="[object ArrayBuffer]",Vce="[object DataView]",HP=as?as.prototype:void 0,WA=HP?HP.valueOf:void 0;function Lce(e,t,n,r,i,s,o){switch(n){case Vce:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case Oce:return!(e.byteLength!=t.byteLength||!s(new Gm(e),new Gm(t)));case Ece:case Cce:case Ice:return py(+e,+t);case kce:return e.name==t.name&&e.message==t.message;case Pce:case Mce:return e==t+"";case Tce:var a=Sce;case Rce:var l=r&xce;if(a||(a=kE),e.size!=t.size&&!l)return!1;var c=o.get(e);if(c)return c==t;r|=wce,o.set(e,t);var u=IN(a(e),a(t),r,i,s,o);return o.delete(e),u;case jce:if(WA)return WA.call(e)==WA.call(t)}return!1}var Nce=1,Bce=Object.prototype,Dce=Bce.hasOwnProperty;function $ce(e,t,n,r,i,s){var o=n&Nce,a=Ob(e),l=a.length,c=Ob(t),u=c.length;if(l!=u&&!o)return!1;for(var d=l;d--;){var h=a[d];if(!(o?h in t:Dce.call(t,h)))return!1}var p=s.get(e),g=s.get(t);if(p&&g)return p==t&&g==e;var m=!0;s.set(e,t),s.set(t,e);for(var b=o;++d<l;){h=a[d];var y=e[h],v=t[h];if(r)var _=o?r(v,y,h,t,e,s):r(y,v,h,e,t,s);if(!(_===void 0?y===v||i(y,v,n,r,s):_)){m=!1;break}b||(b=h=="constructor")}if(m&&!b){var x=e.constructor,S=t.constructor;x!=S&&"constructor"in e&&"constructor"in t&&!(typeof x=="function"&&x instanceof x&&typeof S=="function"&&S instanceof S)&&(m=!1)}return s.delete(e),s.delete(t),m}var Fce=1,GP="[object Arguments]",qP="[object Array]",ug="[object Object]",zce=Object.prototype,WP=zce.hasOwnProperty;function Uce(e,t,n,r,i,s){var o=ls(e),a=ls(t),l=o?qP:Es(e),c=a?qP:Es(t);l=l==GP?ug:l,c=c==GP?ug:c;var u=l==ug,d=c==ug,h=l==c;if(h&&Hm(e)){if(!Hm(t))return!1;o=!0,u=!1}if(h&&!u)return s||(s=new oo),o||CO(e)?IN(e,t,n,r,i,s):Lce(e,t,l,n,r,i,s);if(!(n&Fce)){var p=u&&WP.call(e,"__wrapped__"),g=d&&WP.call(t,"__wrapped__");if(p||g){var m=p?e.value():e,b=g?t.value():t;return s||(s=new oo),i(m,b,n,r,s)}}return h?(s||(s=new oo),$ce(e,t,n,r,i,s)):!1}function TE(e,t,n,r,i){return e===t?!0:e==null||t==null||!$o(e)&&!$o(t)?e!==e&&t!==t:Uce(e,t,n,r,TE,i)}var Hce=1,Gce=2;function qce(e,t,n,r){var i=n.length,s=i;if(e==null)return!s;for(e=Object(e);i--;){var o=n[i];if(o[2]?o[1]!==e[o[0]]:!(o[0]in e))return!1}for(;++i<s;){o=n[i];var a=o[0],l=e[a],c=o[1];if(o[2]){if(l===void 0&&!(a in e))return!1}else{var u=new oo,d;if(!(d===void 0?TE(c,l,Hce|Gce,r,u):d))return!1}}return!0}function PN(e){return e===e&&!Bs(e)}function Wce(e){for(var t=Hh(e),n=t.length;n--;){var r=t[n],i=e[r];t[n]=[r,i,PN(i)]}return t}function RN(e,t){return function(n){return n==null?!1:n[e]===t&&(t!==void 0||e in Object(n))}}function Kce(e){var t=Wce(e);return t.length==1&&t[0][2]?RN(t[0][0],t[0][1]):function(n){return n===e||qce(n,e,t)}}function Yce(e,t,n){var r=e==null?void 0:Wx(e,t);return r===void 0?n:r}function Qce(e,t){return e!=null&&t in Object(e)}function Jce(e,t,n){t=Ry(t,e);for(var r=-1,i=t.length,s=!1;++r<i;){var o=Gh(t[r]);if(!(s=e!=null&&n(e,o)))break;e=e[o]}return s||++r!=i?s:(i=e==null?0:e.length,!!i&&Cx(i)&&Tx(o,i)&&(ls(e)||Nx(e)))}function Xce(e,t){return e!=null&&Jce(e,t,Qce)}var Zce=1,eue=2;function tue(e,t){return Gx(e)&&PN(t)?RN(Gh(e),t):function(n){var r=Yce(n,e);return r===void 0&&r===t?Xce(n,e):TE(t,r,Zce|eue)}}function nue(e){return function(t){return t==null?void 0:t[e]}}function rue(e){return function(t){return Wx(t,e)}}function iue(e){return Gx(e)?nue(Gh(e)):rue(e)}function sue(e){return typeof e=="function"?e:e==null?$O:typeof e=="object"?ls(e)?tue(e[0],e[1]):Kce(e):iue(e)}function oue(e,t,n,r){for(var i=e.length,s=n+-1;++s<i;)if(t(e[s],s,e))return s;return-1}function aue(e){return e!==e}function lue(e,t,n){for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r;return-1}function cue(e,t,n){return t===t?lue(e,t,n):oue(e,aue,n)}function uue(e,t){var n=e==null?0:e.length;return!!n&&cue(e,t,0)>-1}function due(){}var fue=1/0,hue=pu&&1/kE(new pu([,-0]))[1]==fue?function(e){return new pu(e)}:due,pue=200;function MN(e,t,n){var r=-1,i=uue,s=e.length,o=!0,a=[],l=a;if(s>=pue){var c=t?null:hue(e);if(c)return kE(c);o=!1,i=TN,l=new Eh}else l=t?[]:a;e:for(;++r<s;){var u=e[r],d=t?t(u):u;if(u=u!==0?u:0,o&&d===d){for(var h=l.length;h--;)if(l[h]===d)continue e;t&&l.push(d),a.push(u)}else i(l,d,n)||(l!==a&&l.push(d),a.push(u))}return a}function gue(e,t){return e&&e.length?MN(e,sue(t)):[]}const IE=j("span",{target:"ejt1whd0"})("position:absolute;transform:translate(40%, -50%);top:0;right:0;background:",ge.colors.text.active,";font-size:1.75rem;",Ke,";color:",ge.colors.text.default,";padding:0.25rem 0.75rem;border-radius:1.5rem;box-shadow:0 0 2px 1px rgba(0, 0, 0, 0.5);"),mue="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='810'%20height='540'%3e%3crect%20width='810'%20height='540'%20fill='%23FCDD09'/%3e%3cpath%20stroke='%23DA121A'%20stroke-width='60'%20d='M0,90H810m0,120H0m0,120H810m0,120H0'/%3e%3c/svg%3e";function yue(){const e=new Intl.DisplayNames(["en"],{type:"language"}),t={};for(let r=0;r<26;r++)for(let i=0;i<26;i++){const s=String.fromCharCode(97+r)+String.fromCharCode(97+i),o=e.of(s);o!==s&&o!==void 0&&(t[o]=s)}return{...t,...{Akan:"ak",Hebrew:"he",Indonesian:"id",Javanese:"jv",Romanian:"ro",Yiddish:"yi",Tagalog:"tl",English:"gb",Korean:"kr",Swedish:"se",Latin:"va",Japanese:"jp",Catalan:"cat",Ukrainian:"ua"}}}const vue=yue();function jN(e){return vue[e]}const Aue=Object.assign({"./Flag/flags/cat.svg":mue}),Dl=e=>{var s;const[t,n]=A.useState(null),r="isocode"in e?(s=e.isocode)==null?void 0:s.toLowerCase():jN(Array.isArray(e.language)?e.language[0]:e.language);if(A.useLayoutEffect(()=>{r&&n(null)},[r]),!r)return null;const i=Aue[`./Flag/flags/${r}.svg`];return f.jsx(bue,{"data-isocode":r,src:i??`https://flagcdn.com/${t??r}.svg`,alt:r,...e,onError:()=>n("un")})},bue=j("img",{target:"e1k9lqhf0"})("");function Ad(e=!1){const[t,n]=A.useState(Pi.getCurrentIndex()),r=A.useRef([]),i=()=>Pi.getIndex(e).then(n);return A.useEffect(()=>{i()},[]),{data:t??r.current,reload:i,isLoading:t===null}}const KP=()=>({width:global.document.body.clientWidth,height:global.visualViewport.height});function sp(){const[e,t]=A.useState(KP()),n=A.useCallback(fu(()=>{t(KP())},1e3),[]);return A.useEffect(()=>(global.addEventListener("resize",n),n(),()=>global.removeEventListener("resize",n)),[]),{...e,handleResize:n}}function ON(){const{width:e,height:t}=sp();return A.useMemo(()=>e*.0035,[e,t])}const rm=pt(f.jsx("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2m-9 14-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8z"}),"CheckBox"),im=pt(f.jsx("path",{d:"M19 5v14H5V5zm0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2"}),"CheckBoxOutlineBlank");function _ue(e){return String(e).match(/[\d.\-+]*\s*(.*)/)[1]||""}function Sue(e){return parseFloat(e)}function YP({theme:e,...t}){const n=Vo in e?e[Vo]:void 0;return f.jsx(xV,{...t,themeId:n?Vo:void 0,theme:n||e})}const dg={attribute:"data-mui-color-scheme",colorSchemeStorageKey:"mui-color-scheme",defaultLightColorScheme:"light",defaultDarkColorScheme:"dark",modeStorageKey:"mui-mode"},{CssVarsProvider:xue,useColorScheme:cbe,getInitColorSchemeScript:ube}=hne({themeId:Vo,theme:()=>pw({cssVariables:!0}),colorSchemeStorageKey:dg.colorSchemeStorageKey,modeStorageKey:dg.modeStorageKey,defaultColorScheme:{light:dg.defaultLightColorScheme,dark:dg.defaultDarkColorScheme},resolveTheme:e=>{const t={...e,typography:kV(e.palette,e.typography)};return t.unstable_sx=function(r){return Zl({sx:r,theme:this})},t}}),wue=xue;function Eue({theme:e,...t}){return typeof e=="function"?f.jsx(YP,{theme:e,...t}):"colorSchemes"in(Vo in e?e[Vo]:e)?f.jsx(wue,{theme:e,...t}):f.jsx(YP,{theme:e,...t})}function Cue(e){return Rr("MuiSkeleton",e)}Mr("MuiSkeleton",["root","text","rectangular","rounded","circular","pulse","wave","withChildren","fitContent","heightAuto"]);const kue=e=>{const{classes:t,variant:n,animation:r,hasChildren:i,width:s,height:o}=e;return Wr({root:["root",n,r,i&&"withChildren",i&&!s&&"fitContent",i&&!o&&"heightAuto"]},Cue,t)},Z_=pc`
  0% {
    opacity: 1;
  }

  50% {
    opacity: 0.4;
  }

  100% {
    opacity: 1;
  }
`,eS=pc`
  0% {
    transform: translateX(-100%);
  }

  50% {
    /* +0.5s of delay between each loop */
    transform: translateX(100%);
  }

  100% {
    transform: translateX(100%);
  }
`,Tue=typeof Z_!="string"?ps`
        animation: ${Z_} 2s ease-in-out 0.5s infinite;
      `:null,Iue=typeof eS!="string"?ps`
        &::after {
          animation: ${eS} 2s linear 0.5s infinite;
        }
      `:null,Pue=Zt("span",{name:"MuiSkeleton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],n.animation!==!1&&t[n.animation],n.hasChildren&&t.withChildren,n.hasChildren&&!n.width&&t.fitContent,n.hasChildren&&!n.height&&t.heightAuto]}})(cs(({theme:e})=>{const t=_ue(e.shape.borderRadius)||"px",n=Sue(e.shape.borderRadius);return{display:"block",backgroundColor:e.vars?e.vars.palette.Skeleton.bg:Ts(e.palette.text.primary,e.palette.mode==="light"?.11:.13),height:"1.2em",variants:[{props:{variant:"text"},style:{marginTop:0,marginBottom:0,height:"auto",transformOrigin:"0 55%",transform:"scale(1, 0.60)",borderRadius:`${n}${t}/${Math.round(n/.6*10)/10}${t}`,"&:empty:before":{content:'"\\00a0"'}}},{props:{variant:"circular"},style:{borderRadius:"50%"}},{props:{variant:"rounded"},style:{borderRadius:(e.vars||e).shape.borderRadius}},{props:({ownerState:r})=>r.hasChildren,style:{"& > *":{visibility:"hidden"}}},{props:({ownerState:r})=>r.hasChildren&&!r.width,style:{maxWidth:"fit-content"}},{props:({ownerState:r})=>r.hasChildren&&!r.height,style:{height:"auto"}},{props:{animation:"pulse"},style:Tue||{animation:`${Z_} 2s ease-in-out 0.5s infinite`}},{props:{animation:"wave"},style:{position:"relative",overflow:"hidden",WebkitMaskImage:"-webkit-radial-gradient(white, black)","&::after":{background:`linear-gradient(
                90deg,
                transparent,
                ${(e.vars||e).palette.action.hover},
                transparent
              )`,content:'""',position:"absolute",transform:"translateX(-100%)",bottom:0,left:0,right:0,top:0}}},{props:{animation:"wave"},style:Iue||{"&::after":{animation:`${eS} 2s linear 0.5s infinite`}}}]}})),Rue=A.forwardRef(function(t,n){const r=jr({props:t,name:"MuiSkeleton"}),{animation:i="pulse",className:s,component:o="span",height:a,style:l,variant:c="text",width:u,...d}=r,h={...r,animation:i,component:o,variant:c,hasChildren:!!d.children},p=kue(h);return f.jsx(Pue,{as:o,ref:n,className:xt(p.root,s),ownerState:h,...d,style:{width:u,height:a,...l}})}),Mue="data:image/gif;base64,R0lGODlhiQAzAOflAAABAAYAAAACAAcAAAkBAAoDAQsEAxAFABEHABIIABMKABgJAhQLAhsLABwNACANAR0OACEOAyMPACMQACcPACgQASgRAioSACsTACwTACwUAC8WAC4WAzAWADQVADUXATYYAjgYADkZADoaADobAD8aAzscAUEbAD4dAEMdAEUeAkAgAEYfAEUfA0ghAE4hAksjAU8iAFEjAFIkAFMlAFQmAVsmAFcoAFwnAF0oAF8qAmEqAGIrAGMsAGksAWUuAGotAmAwDWwuAGsuA20vAF0zDm4wAG8xAHEyAHIzAXgyAHM0AnU1AHo0AHY2AHw1AH43AIA5AoE6AIM7AIQ8AIk7AIU9AIs8AIc+AIw9AI0+AY4+ApFAAJJBAJNCAJRDAJpCAZVEAJtDAp1EAJxEA55FAKBHAKFIAKJJAKhIAaRKAKVLAKtKAKxLAI5RI5BRJK9NALBOALFPALJQALNRALlQBLtRALxSAL1TAL9UAMFWAMJXAMRYArlbCsZZAMVZA8xYAMhaAM9aANFcAdNdAtVfAMpiDddgAN1fANhhAN9hANljAOFiAeNkAOJkA91mAONlBN5nAdhoDeVmAOdoAO5mAOJqB+9nAOlpAPBpAfFqA654SvNrAOduDvRsAPZtAN5yGONxGvduANh0IPFwB/hvAOtxE+B0Gt90I/lwAOxyFPNxCu5zBud0EvRyANt2Is54Ndp2Krt8S+B1JM95L9V4Ked0HeF2G/txAO1zFvRyDOh1E9x3I895NtV4ML19Rsp7NcN8Qbx9TMl7O8J8R9Z5Kq6AW8h7QrZ/ULh/S7V/VsV9O75+R8t8NsR9QqmCYKeCZpqFcLGBVq+BXJGHe4+HgbeAUaOEZqGEbLaAV6CEcauDXKqDYZuGcZmGd42Ih5KIfJCIgpSId4iKh4uKgv///////////////////////////////////////////////////////////////////////////////////////////////////////////yH5BAEIAP8ALAAAAACJADMAAAj+AP8JHEiwoMGDCBMqXMiwocOHECMSHEexosWLGDNq3Mixo8ePIDtKHPhtGK6TKFOqXInrGcuXMGPKnEmzpspU40YKHBdryICfQIMKFVpHFq6hSJOWSMq0qdOnUH8S8PRN579vrFwI2Mq1q9euALbAwvW1bFkAI8yqXcsWbFu1AArgyqkTHK4Ib8v+sEU279cSfgO3HSAYLFWd35RNKryVAIZUfQujZUy5stu5OsfxCkMZgABFNkOLHk065eGR13ClsBxllbdvsL8h04N0S6/YuIXVifrzyu1vsnbz9g1bt1ANqWDbwiHUd0Wd0PR4rozgUbiB43qRKdtDFV3sxbD+BNbBiiKtLoF7tKLoS3zXAqKwkXMFwquOXFWtpsYF5WsClX6UpQcuroAzUDWr5FDWBLhg89034aQiQ2ARNBgOKTf4BUAFuHgTIQ1dDQCAH8dM8wkBXjHooFWwBdOfVwmsEhs2gJTlh4P5/ROMJgicBUgsOY4zDCaCAQAIL8m40mNgg9CyDCYGfPWEK62c4RUARgJp1VUu+rcKXdgE+BUg2BTETBRmAeBCLA8Ow0SRKsQCyxaBEUCADry4+ZVni7SCAVhYxvndSN8Q82JXMeZHo4DQFBQMLpQIiMsoOX5zDC5iclVCSkZ4BQYuvADzA1cIgNEIBF4tkgaqnqWAijP+J6HJFQ246BIKLrJuRSuoOY40TpchGqALmJlyBYAeZU5kjR5lddELRdh9E6ZXJcwC2zCddgWGMt/A8skEAgyQxyqsoMrVAJioMkgBAjCACS/jfBOMIMYykAo21aQC2FYAqFHMN9BaNY6hXzEgI0WLfoVsQZaKUZYOp/QqUMJcoTALRdh6FQYy45BjChgCuJDKNbng1RUn2qSSIRarhFNVN3cZC4gwz2jiVSXTSOwrsF0JK+0woBTLFZkFjVPMEmV5UAo5Bk17rgnWCpntVgNs+8841mACQBdAmmIuV5iE40saAAzCDF3j7HKEsVjkOcfTuFy35U4Ee2UwLZj+8MH+nnpcU7QpE3pFmCfaNF1jVylcXNLUAgAABjICRRiBHMlgZTJXl4CzjR8G4NINScPg0ZUKnqhtLBjwzr0Tz1wJq0kOKJq18ESuVHCWHxwX5DS/UAuzSyqMOw75VbugYAg037Ty9VaYeIONJRsMS9I1qSy5lSa4/MmvIskMKnDdXTFQCQeNq/WH3wRF80lZIpoxjMQUb1XtJ1eA66kyO51SBCrdWO7VJeEIxy2CYItejYMUODCWHhoxHQF4oEOqW92huhICtgxgdgPhxiL25JkhXEx3QjMBJUhwlscJ5Bu0cAMt4lUusGACHChU4aBQCIdwYckJZuhKFE7hve9NsDH+hPnKB6IwB0VkAhfoo1sNzUICV8DvcFQDgQgAEESN4e8qwthE975histthRPgGEcWhWHAbVyCXZ4hAYi4Mghi6CwzrOOXVwjQg0XgwhbMeIaHBjUOWFxBLQZIxecIsrtwyZFqLwjDIDCRiuH9bXkCuIQ3FEKOVLjAMwMoQAK4UqFBRnBgP/wKDBaRClh4I2AG+cYpdPAerxBiGoOK31dUMIhUxMIa2qDGG/3XlUbIDSHfqAXIyrIE/ERQgmopgBlwUYtT9nAiuiAhV0bFFQKk4RixFFpXmJAKXvTvmSRR3rkE8EKFyCZSX7mgM8DpK/B5BQF/SAW32DmQcOBiAV3+SYP2GrcEXvRKll2hwSe8CTBzsuJyVOTELxECDlHUx26pQN4xrxZHroxrRQ25Bjq5kggfjO5LhNTmuUggCFsioxthPAhWvuaZzC1kHKegguB6UJ6JXs2dXImCK6BBz4lIg1lcKcAn1HAuBpRikgMBaIgEAANFVsITslBpF70StoUUil5ekcNtbPqrUCIgFcx4IzCdkUOuiMAVjQBLI54RUq98IC3GEhEACLCxg4zDazcz0EK0cU+waIIbPY0IKAt2GofwJAld+cEpcGE/Ec2BGN+RpQkqsRpj8YsMV2TYQUNU1ZeuApK4EKvA4ggAYQV2IqoIXOPAkApNsLJxAKD+ApuSWqwBmGAUougCBqq4WkcSJHmQrIReDbo8AmCGqzhtly5Ea1dX2I9fBmCA9QQQg1bkSJaJk0UrgGdFlW72XJ01Z8nAElqbUnSChDEtRLyRitgZq4FbqdAvCwmAEvhTaiEyYSpb2BXhMmQc/KXacRuykaIl12DMNcg2EPEWAFyCrROD4lagdi3GCSAMmf3tVMG7UGBumF/l/W9iZqEJT5g4F8dIKXYqql6HfCMZcmgwHYRBrK4Q4LYAy9i59PvIvP4Xr+cacELGEQ5epGINKDCAASywBEzkgqfYObCMHtLHP3IlCSlZG1e6QAtFSbi+UdMxVzDsXS+iq8Nl9kr+iM0Zi0yoAL4DWIAePHFKZHqlxQQeRQ+09b6SOMyGOlgPwkJ4XzGH63GovApw80pP2IgzyIk2yDikkYoVYIkAVAyiAQpxi/wM1m5T/m+8dGGCrszBGhRRRrE0QJVupULCA9iULnKBCwuHoRQFJMh+zIyJUkQ1IbtWMy4ynEpbkAFLsMVk40yAi2jYuWfSY4ilTsIAYx0iF7k4BSkyYSyh4iIWwNiz4AiwiE5AcgAEAAEPdX2HstDVtwaBRh3SOYAxwLsglXxo+cBCgEHgjyJSLqhVh7GEnxgLAhGQBCg2UO24qoAXvdjglW6Qily4Byx0sBZBoIGLUoeIAZ4gdkH+XLI3r0BAFCInCDVEARcqhuEX/4DGME4RSgN4YhjCkPYyzhgiACyBFacg6lf+wAv2ltyQ1qSFMCTulVQAdiKn8MKVgBBthMDUysYyQk0TEo6NpukKOcdGH36wAf/84Aowt2o4XLFGOQLiGMrIhHu3wiFtwNTCAqDENtjbcK6koGUMs8YgrmQGYDD3G8LQZhrepxBqrI8tYoD5NUzxXGOhKA05NydFakGnpuPLFUdv3A92ca0/kyoV4vgGKSrLLyPAyyKw6cbjZSYNj2Bj9myEZUZIkorQl6UQ+PuGKmS6JwjgYhtWPUkq3taVDaQkgTpMSbu7woGUZKgrV4hJFZ7+wH3uY6ImqaBC95/gBMisJDnYOcV21IKCZl/tF4lgnxFI0dNx4AK+VEM2b8NFgJ9Ik978dyVDkWlyhSUGCBWNU4AEiBQ4QRLWkAqs906C8EH/wF749BVrwHjmRBb7J0f41xX7AheWkRdUlCZ7UlhXMwqXEIFbgQB6oAt1dhWkoALpNAiwlHwmuBaTMYKScSUaIgBCBiGjkApmsAIIUAAVwASUoAvXUCm8gHdAiFQbWBkhyIOB0YEkaHMSQxHSgAqrkAqukAqt4AzVMEPLABOB9Q2lgQvmt4Zu+IbPBBvxghsSQ4d0GC8iZod6qIdzuId++IeAGBt9GIh22IfmdYgGiJiIEBEQADs=",jue="/assets/logo-1e2sNsQM.mp4",Oue="/assets/logo-CDt7pIML.webm",Vue="/assets/pride-CMcO3nTB.png";var xM;(xM=global.location)!=null&&xM.search.includes("pride")&&Le.session.setItem("pride","true");function PE(e){const[t]=Qe(br);return t?null:f.jsxs("div",{className:"relative h-[16.4rem] [view-transition-name:logo]",children:[Le.session.getItem("pride")==="true"&&f.jsx(QP,{asChild:!0,children:f.jsx("img",{className:"absolute",src:Vue,alt:"AllKaraoke Pride logo part 1"})}),f.jsxs(QP,{...e,autoPlay:!0,loop:!0,muted:!0,playsInline:!0,children:[f.jsx("source",{src:Oue,type:"video/webm"}),f.jsx("source",{src:jue,type:"video/mp4"})]}),f.jsx("img",{className:"absolute w-[13.7rem] h-[5.1rem] bottom-[-0.5rem] right-[-1rem]",src:Mue,alt:"AllKaraoke Pride logo part 2"})]})}const QP=an.video`w-[66rem] h-[16.4rem]`;function RE(){return"chrome"in window}function Lue(){return f.jsx(f.Fragment,{children:!RE()&&f.jsxs(gE,{className:"w-full py-12 bg-red-900 text-center",children:[f.jsxs(Ql,{className:"text-lg",children:["This game is tested in ",f.jsx("strong",{children:"Google Chrome"})," and ",f.jsx("strong",{children:"MS Edge"}),"."]}),f.jsx(Ql,{children:"It's not guaranteed to work on other browsers (like the one you use now)."})]})})}function VN(){return f.jsx(f.Fragment,{children:f.jsx("a",{href:"https://github.com/Asvarox/allkaraoke",target:"_blank",rel:"noreferrer",className:"github-corner","aria-label":"View source on GitHub",dangerouslySetInnerHTML:{__html:`
      <svg width="80" height="80" viewBox="0 0 250 250"
           style="fill:#151513; color:#fff; position: absolute; top: 0; border: 0; left: 0; transform: scale(-1, 1);"
           aria-hidden="true">
        <path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z" />
        <path
          d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2"
          fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm" />
        <path
          d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z"
          fill="currentColor" class="octo-body" />
      </svg>
      <style>.github-corner:hover .octo-arm{animation:octocat-wave 560ms ease-in-out}@keyframes
        octocat-wave{0 %,100%{transform:rotate(0)}20%,60%{transform:rotate(-25deg)}40%,80%{transform:rotate(10deg)}}@media
        (max-width:500px){.github-corner:hover .octo-arm{animation:none}.github-corner .octo-arm{animation:octocat-wave 560ms ease-in-out}}</style>`}})})}function Za({children:e,supportedBrowsers:t}){return qa(!0),f.jsxs(Ja,{children:[f.jsx(VN,{}),f.jsxs("div",{className:"w-screen h-screen flex items-center flex-col gap-8",children:[f.jsx(PE,{}),t&&f.jsx(Lue,{}),f.jsx(pr,{children:e})]})]})}var ME={},I0=function(){return I0=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},I0.apply(this,arguments)},Nue=function(){function e(t,n,r){var i=this;this.endVal=n,this.options=r,this.version="2.8.0",this.defaults={startVal:0,decimalPlaces:0,duration:2,useEasing:!0,useGrouping:!0,useIndianSeparators:!1,smartEasingThreshold:999,smartEasingAmount:333,separator:",",decimal:".",prefix:"",suffix:"",enableScrollSpy:!1,scrollSpyDelay:200,scrollSpyOnce:!1},this.finalEndVal=null,this.useEasing=!0,this.countDown=!1,this.error="",this.startVal=0,this.paused=!0,this.once=!1,this.count=function(s){i.startTime||(i.startTime=s);var o=s-i.startTime;i.remaining=i.duration-o,i.useEasing?i.countDown?i.frameVal=i.startVal-i.easingFn(o,0,i.startVal-i.endVal,i.duration):i.frameVal=i.easingFn(o,i.startVal,i.endVal-i.startVal,i.duration):i.frameVal=i.startVal+(i.endVal-i.startVal)*(o/i.duration);var a=i.countDown?i.frameVal<i.endVal:i.frameVal>i.endVal;i.frameVal=a?i.endVal:i.frameVal,i.frameVal=Number(i.frameVal.toFixed(i.options.decimalPlaces)),i.printValue(i.frameVal),o<i.duration?i.rAF=requestAnimationFrame(i.count):i.finalEndVal!==null?i.update(i.finalEndVal):i.options.onCompleteCallback&&i.options.onCompleteCallback()},this.formatNumber=function(s){var o,a,l,c,u=s<0?"-":"";o=Math.abs(s).toFixed(i.options.decimalPlaces);var d=(o+="").split(".");if(a=d[0],l=d.length>1?i.options.decimal+d[1]:"",i.options.useGrouping){c="";for(var h=3,p=0,g=0,m=a.length;g<m;++g)i.options.useIndianSeparators&&g===4&&(h=2,p=1),g!==0&&p%h==0&&(c=i.options.separator+c),p++,c=a[m-g-1]+c;a=c}return i.options.numerals&&i.options.numerals.length&&(a=a.replace(/[0-9]/g,function(b){return i.options.numerals[+b]}),l=l.replace(/[0-9]/g,function(b){return i.options.numerals[+b]})),u+i.options.prefix+a+l+i.options.suffix},this.easeOutExpo=function(s,o,a,l){return a*(1-Math.pow(2,-10*s/l))*1024/1023+o},this.options=I0(I0({},this.defaults),r),this.formattingFn=this.options.formattingFn?this.options.formattingFn:this.formatNumber,this.easingFn=this.options.easingFn?this.options.easingFn:this.easeOutExpo,this.startVal=this.validateValue(this.options.startVal),this.frameVal=this.startVal,this.endVal=this.validateValue(n),this.options.decimalPlaces=Math.max(this.options.decimalPlaces),this.resetDuration(),this.options.separator=String(this.options.separator),this.useEasing=this.options.useEasing,this.options.separator===""&&(this.options.useGrouping=!1),this.el=typeof t=="string"?document.getElementById(t):t,this.el?this.printValue(this.startVal):this.error="[CountUp] target is null or undefined",typeof window<"u"&&this.options.enableScrollSpy&&(this.error?console.error(this.error,t):(window.onScrollFns=window.onScrollFns||[],window.onScrollFns.push(function(){return i.handleScroll(i)}),window.onscroll=function(){window.onScrollFns.forEach(function(s){return s()})},this.handleScroll(this)))}return e.prototype.handleScroll=function(t){if(t&&window&&!t.once){var n=window.innerHeight+window.scrollY,r=t.el.getBoundingClientRect(),i=r.top+window.pageYOffset,s=r.top+r.height+window.pageYOffset;s<n&&s>window.scrollY&&t.paused?(t.paused=!1,setTimeout(function(){return t.start()},t.options.scrollSpyDelay),t.options.scrollSpyOnce&&(t.once=!0)):(window.scrollY>s||i>n)&&!t.paused&&t.reset()}},e.prototype.determineDirectionAndSmartEasing=function(){var t=this.finalEndVal?this.finalEndVal:this.endVal;this.countDown=this.startVal>t;var n=t-this.startVal;if(Math.abs(n)>this.options.smartEasingThreshold&&this.options.useEasing){this.finalEndVal=t;var r=this.countDown?1:-1;this.endVal=t+r*this.options.smartEasingAmount,this.duration=this.duration/2}else this.endVal=t,this.finalEndVal=null;this.finalEndVal!==null?this.useEasing=!1:this.useEasing=this.options.useEasing},e.prototype.start=function(t){this.error||(this.options.onStartCallback&&this.options.onStartCallback(),t&&(this.options.onCompleteCallback=t),this.duration>0?(this.determineDirectionAndSmartEasing(),this.paused=!1,this.rAF=requestAnimationFrame(this.count)):this.printValue(this.endVal))},e.prototype.pauseResume=function(){this.paused?(this.startTime=null,this.duration=this.remaining,this.startVal=this.frameVal,this.determineDirectionAndSmartEasing(),this.rAF=requestAnimationFrame(this.count)):cancelAnimationFrame(this.rAF),this.paused=!this.paused},e.prototype.reset=function(){cancelAnimationFrame(this.rAF),this.paused=!0,this.resetDuration(),this.startVal=this.validateValue(this.options.startVal),this.frameVal=this.startVal,this.printValue(this.startVal)},e.prototype.update=function(t){cancelAnimationFrame(this.rAF),this.startTime=null,this.endVal=this.validateValue(t),this.endVal!==this.frameVal&&(this.startVal=this.frameVal,this.finalEndVal==null&&this.resetDuration(),this.finalEndVal=null,this.determineDirectionAndSmartEasing(),this.rAF=requestAnimationFrame(this.count))},e.prototype.printValue=function(t){var n;if(this.el){var r=this.formattingFn(t);!((n=this.options.plugin)===null||n===void 0)&&n.render?this.options.plugin.render(this.el,r):this.el.tagName==="INPUT"?this.el.value=r:this.el.tagName==="text"||this.el.tagName==="tspan"?this.el.textContent=r:this.el.innerHTML=r}},e.prototype.ensureNumber=function(t){return typeof t=="number"&&!isNaN(t)},e.prototype.validateValue=function(t){var n=Number(t);return this.ensureNumber(n)?n:(this.error="[CountUp] invalid start or end value: ".concat(t),null)},e.prototype.resetDuration=function(){this.startTime=null,this.duration=1e3*Number(this.options.duration),this.remaining=this.duration},e}();const Bue=Object.freeze(Object.defineProperty({__proto__:null,CountUp:Nue},Symbol.toStringTag,{value:"Module"})),Due=bD(Bue);Object.defineProperty(ME,"__esModule",{value:!0});var rr=A,$ue=Due;function Fue(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,s,o,a=[],l=!0,c=!1;try{if(s=(n=n.call(e)).next,t!==0)for(;!(l=(r=s.call(n)).done)&&(a.push(r.value),a.length!==t);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return a}}function JP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function P0(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?JP(Object(n),!0).forEach(function(r){zue(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):JP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function zue(e,t,n){return t=Yue(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function tS(){return tS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},tS.apply(this,arguments)}function Uue(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,s;for(s=0;s<r.length;s++)i=r[s],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function LN(e,t){if(e==null)return{};var n=Uue(e,t),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)r=s[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Hue(e,t){return Gue(e)||Fue(e,t)||que(e,t)||Wue()}function Gue(e){if(Array.isArray(e))return e}function que(e,t){if(e){if(typeof e=="string")return XP(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return XP(e,t)}}function XP(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Wue(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Kue(e,t){if(typeof e!="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Yue(e){var t=Kue(e,"string");return typeof t=="symbol"?t:String(t)}var Que=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?rr.useLayoutEffect:rr.useEffect;function Ss(e){var t=rr.useRef(e);return Que(function(){t.current=e}),rr.useCallback(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return t.current.apply(void 0,r)},[])}var Jue=function(t,n){var r=n.decimal,i=n.decimals,s=n.duration,o=n.easingFn,a=n.end,l=n.formattingFn,c=n.numerals,u=n.prefix,d=n.separator,h=n.start,p=n.suffix,g=n.useEasing,m=n.useGrouping,b=n.useIndianSeparators,y=n.enableScrollSpy,v=n.scrollSpyDelay,_=n.scrollSpyOnce,x=n.plugin;return new $ue.CountUp(t,a,{startVal:h,duration:s,decimal:r,decimalPlaces:i,easingFn:o,formattingFn:l,numerals:c,separator:d,prefix:u,suffix:p,plugin:x,useEasing:g,useIndianSeparators:b,useGrouping:m,enableScrollSpy:y,scrollSpyDelay:v,scrollSpyOnce:_})},Xue=["ref","startOnMount","enableReinitialize","delay","onEnd","onStart","onPauseResume","onReset","onUpdate"],Zue={decimal:".",separator:",",delay:null,prefix:"",suffix:"",duration:2,start:0,decimals:0,startOnMount:!0,enableReinitialize:!0,useEasing:!0,useGrouping:!0,useIndianSeparators:!1},NN=function(t){var n=Object.fromEntries(Object.entries(t).filter(function(O){var w=Hue(O,2),M=w[1];return M!==void 0})),r=rr.useMemo(function(){return P0(P0({},Zue),n)},[t]),i=r.ref,s=r.startOnMount,o=r.enableReinitialize,a=r.delay,l=r.onEnd,c=r.onStart,u=r.onPauseResume,d=r.onReset,h=r.onUpdate,p=LN(r,Xue),g=rr.useRef(),m=rr.useRef(),b=rr.useRef(!1),y=Ss(function(){return Jue(typeof i=="string"?i:i.current,p)}),v=Ss(function(O){var w=g.current;if(w&&!O)return w;var M=y();return g.current=M,M}),_=Ss(function(){var O=function(){return v(!0).start(function(){l==null||l({pauseResume:x,reset:S,start:C,update:E})})};a&&a>0?m.current=setTimeout(O,a*1e3):O(),c==null||c({pauseResume:x,reset:S,update:E})}),x=Ss(function(){v().pauseResume(),u==null||u({reset:S,start:C,update:E})}),S=Ss(function(){v().el&&(m.current&&clearTimeout(m.current),v().reset(),d==null||d({pauseResume:x,start:C,update:E}))}),E=Ss(function(O){v().update(O),h==null||h({pauseResume:x,reset:S,start:C})}),C=Ss(function(){S(),_()}),k=Ss(function(O){s&&(O&&S(),_())});return rr.useEffect(function(){b.current?o&&k(!0):(b.current=!0,k())},[o,b,k,a,t.start,t.suffix,t.prefix,t.duration,t.separator,t.decimals,t.decimal,t.formattingFn]),rr.useEffect(function(){return function(){S()}},[S]),{start:C,pauseResume:x,reset:S,update:E,getCountUp:v}},ede=["className","redraw","containerProps","children","style"],tde=function(t){var n=t.className,r=t.redraw,i=t.containerProps,s=t.children,o=t.style,a=LN(t,ede),l=rr.useRef(null),c=rr.useRef(!1),u=NN(P0(P0({},a),{},{ref:l,startOnMount:typeof s!="function"||t.delay===0,enableReinitialize:!1})),d=u.start,h=u.reset,p=u.update,g=u.pauseResume,m=u.getCountUp,b=Ss(function(){d()}),y=Ss(function(x){t.preserveValue||h(),p(x)}),v=Ss(function(){if(typeof t.children=="function"&&!(l.current instanceof Element)){console.error(`Couldn't find attached element to hook the CountUp instance into! Try to attach "containerRef" from the render prop to a an Element, eg. <span ref={containerRef} />.`);return}m()});rr.useEffect(function(){v()},[v]),rr.useEffect(function(){c.current&&y(t.end)},[t.end,y]);var _=r&&t;return rr.useEffect(function(){r&&c.current&&b()},[b,r,_]),rr.useEffect(function(){!r&&c.current&&b()},[b,r,t.start,t.suffix,t.prefix,t.duration,t.separator,t.decimals,t.decimal,t.className,t.formattingFn]),rr.useEffect(function(){c.current=!0},[]),typeof s=="function"?s({countUpRef:l,start:d,reset:h,update:p,pauseResume:g,getCountUp:m}):rr.createElement("span",tS({className:n,ref:l,style:o},i),typeof t.start<"u"?m().formattingFn(t.start):"")},jE=ME.default=tde;ME.useCountUp=NN;const OE=e=>A.useMemo(()=>{const t={};e.forEach(r=>{if(!r.language)return;(Array.isArray(r.language)?r.language:[r.language]).forEach(s=>{const o=s.toLowerCase();t[o]||(t[o]={name:s,count:0}),t[o].count=t[o].count+1})});const n=Object.values(t);return n.sort((r,i)=>i.count-r.count),n},[e]),nde=Ii()?0:10;function BN({onClose:e,closeText:t}){const{register:n}=Yn({onBackspace:e}),[r,i]=Qe(q0),{data:s,isLoading:o}=Ad(),a=OE(s),l=A.useMemo(()=>a.filter(({name:p,count:g})=>jN(p)&&g>=nde),[a]),c=A.useMemo(()=>a.filter(({name:p})=>!l.find(g=>g.name===p)).reduce((p,{count:g})=>p+g,0),[a,l]),u=l.filter(({name:p})=>!(r!=null&&r.includes(p))).reduce((p,{count:g})=>p+g,0),d=p=>{r===null?i([p]):r.includes(p)?i(r.filter(g=>g!==p)):i([...r,p])};A.useEffect(()=>{if(r===null&&(navigator!=null&&navigator.languages)){const p=new Intl.DisplayNames(["en"],{type:"language"}),g=navigator==null?void 0:navigator.languages.map(b=>{var y;return(y=p.of(b))==null?void 0:y.toLowerCase()}).filter(Boolean),m=l.map(b=>b.name).filter(b=>!g.some(y=>y.includes(b.toLowerCase()))).filter(b=>b!=="English");m.length&&i(m)}},[r,l]);const h=A.useMemo(()=>l.every(p=>r==null?void 0:r.includes(p.name)),[r,l]);return A.useEffect(()=>{r!=null&&r.find(p=>!l.find(g=>g.name===p))&&i(r.filter(p=>l.find(g=>g.name===p)))},[l,r,i]),f.jsxs(Za,{children:[f.jsx("h1",{children:"Select Song Languages"}),f.jsxs(sde,{children:[o&&new Array(6).fill(0).map((p,g)=>f.jsx(Rue,{variant:"rectangular",width:"100%",height:"10rem",children:f.jsx(ZP,{"data-excluded":!0,focused:!1,children:f.jsx(Dl,{language:["English"]})})},g)),l.map(({name:p,count:g})=>{const m=(r==null?void 0:r.includes(p))??!1;return f.jsxs(ZP,{"data-excluded":m,...n(`lang-${p}`,()=>d(p)),children:[f.jsx(ide,{children:m?f.jsx(im,{}):f.jsx(rm,{})}),f.jsxs("span",{children:[f.jsx(ode,{children:p})," (",g," songs)"]}),f.jsx(ade,{"data-excluded":m,children:f.jsx(Dl,{language:[p]})})]},p)}),c>0&&f.jsxs(KA,{children:["and ",f.jsxs("strong",{children:[c," songs"]})," in other languages"]})]}),f.jsxs("h3",{children:["You can always update the selection in ",f.jsx("strong",{children:"Manage Songs"})," menu"]}),f.jsxs(rde,{children:[f.jsx(Fe,{...n("close-exclude-languages",e,void 0,!0,{disabled:h||o}),children:t}),f.jsxs(KA,{children:["The list will contain"," ",f.jsx("strong",{children:f.jsx(jE,{duration:1,preserveValue:!0,end:u+c})})," ","songs"]}),h&&f.jsxs(KA,{"data-test":"all-languages-excluded-warning",children:[f.jsx("strong",{children:f.jsx(vd,{})})," ","You excluded all the languages, pick at least one"]})]})]})}const rde=j("div",{target:"e17pzmm6"})({name:"4zk4ri",styles:"display:flex;flex-direction:column;gap:1rem"}),KA=j("h4",{target:"e17pzmm5"})({name:"2qga7i",styles:"text-align:right"}),ide=j("div",{target:"e17pzmm4"})({name:"18gxnlc",styles:"svg{width:3rem;height:3rem;}"}),sde=j("div",{target:"e17pzmm3"})({name:"fvqkyn",styles:"margin-top:2rem;display:flex;flex-direction:column;gap:1rem"}),ode=j("span",{target:"e17pzmm2"})({name:"1jwmbuq",styles:"transition:300ms"}),ade=j("div",{target:"e17pzmm1"})({name:"5606u9",styles:"transition:300ms;opacity:0.95;&[data-excluded='true']{filter:grayscale(0.6);opacity:0.5;}position:absolute;bottom:0;right:0;img{width:14rem;height:8rem;object-fit:cover;}overflow:hidden;width:14rem;height:8rem"}),ZP=j(Fe,{target:"e17pzmm0"})("&[data-excluded='true']{text-decoration:line-through white;opacity:0.5;&[data-focused='false']{background:rgba(0, 0, 0, 0.55);}}",Ke,";display:flex;align-items:center;justify-content:flex-start;gap:2rem;font-size:2.5rem;padding-left:3rem;margin:0;height:8rem;position:relative;width:100%;"),lde=Ii()?0:30;function cde({children:e,languageList:t,excludedLanguages:n,onListChange:r}){const[i,s]=A.useState(!1),o=()=>s(!1),a=t.filter(c=>c.count>lde),l=c=>{const u=n.filter(d=>a.find(h=>h.name===d));u.length===0?r(t.filter(d=>d.name!==c).map(d=>d.name)):u.includes(c)?r(n.filter(d=>d!==c)):u.length===a.length-1?r([]):r([...n,c])};return f.jsxs(f.Fragment,{children:[i&&f.jsx(Ac,{onClose:o,children:f.jsxs(pr,{"data-test":"languages-container",spacing:"tight",children:[a.map(({name:c,count:u})=>{const d=n.length&&n.includes(c);return f.jsxs(pr.Button,{size:"small","data-inactive":d,"data-active":!!n.length&&!n.includes(c),onClick:()=>l(c),"data-test":c,className:"!justify-between",children:[f.jsxs("span",{children:[c," ",f.jsxs("small",{className:"text-sm pl-2",children:["(",u," songs)"]})]}),f.jsx(Dl,{language:[c],className:" h-full w-32 object-cover"})]},c)}),f.jsx(pr.Divider,{}),f.jsx(pr.Button,{size:"small",onClick:o,"data-test":"close-language-filter",children:"Close"})]})}),e({open:()=>s(!0)})]})}const ude=(e,t,n)=>e>=t&&e<n;function dde(e,t){var _,x,S;const n=A.useMemo(()=>{const E=[];return e.groupSizes.forEach((C,k)=>{var O,w;E.push({index:k,type:"group",bottom:(((O=E.at(-1))==null?void 0:O.bottom)??0)+e.groupHeaderHeight,groupIndex:k});for(let M=0;M<C;M++){const N=e.groupSizes.reduce((R,V,P)=>R+(P<k?V:0),0)+M;E.push({index:N,type:"item",bottom:(((w=E.at(-1))==null?void 0:w.bottom)??0)+e.itemHeight,groupIndex:k})}}),E},[e.itemHeight,e.groupHeaderHeight,e.groupSizes]),r=((_=n.at(-1))==null?void 0:_.bottom)??0,i=A.useRef(null),s=((x=i.current)==null?void 0:x.getBoundingClientRect().height)??global.innerHeight,o=A.useCallback(E=>{const C=n.findIndex(O=>O.bottom>E-e.overScan),k=n.findIndex(O=>O.bottom>E+s+e.overScan);return[C,k===-1?n.length:k]},[n,s,e.overScan]),[[a,l],c]=A.useState(o(0));A.useLayoutEffect(()=>{var C;const E=o(((C=i.current)==null?void 0:C.scrollTop)??0);(a!==E[0]||l!==E[1])&&c(E)},[o,e.groupSizes,a,l]),A.useEffect(()=>{if(i.current){const E=()=>{var k;const C=o(((k=i.current)==null?void 0:k.scrollTop)??0);(a!==C[0]||l!==C[1])&&c(C)};return i.current.addEventListener("scroll",E),i.current.scrollTop>r&&i.current.scrollTo({top:0}),()=>{var C;(C=i.current)==null||C.removeEventListener("scroll",E)}}},[a,l,o,r]);const u=A.useCallback((E,C)=>{var k,O;return(((k=n[C])==null?void 0:k.bottom)??0)-(((O=n[E])==null?void 0:O.bottom)??0)},[n]),d=A.useMemo(()=>u(-1,a-1),[a,u]),h=n.slice(0,a).findLastIndex(({type:E})=>E==="group"),p=n.slice(a,l),g=h!==-1?[[]]:[];for(let E=0;E<p.length;E++){const C=p[E];C.type==="group"&&g.push([]),(S=g.at(-1))==null||S.push(C)}A.useImperativeHandle(t,()=>({getItemPositionY:E=>{var C;return(((C=n.find(k=>k.type==="item"&&k.index===E))==null?void 0:C.bottom)??-1)-e.itemHeight},scrollTo:E=>{var C;(C=i.current)==null||C.scrollTo({top:E})},scrollToIndex:async(E,C="auto",k="center")=>{var w,M;const O=n.find(N=>N.type==="item"&&N.index===E);if(O){const N=(e.itemHeight+(k==="center"?(w=i.current)==null?void 0:w.clientHeight:0))/2;(M=i.current)==null||M.scrollTo({top:O.bottom-N,behavior:C})}},scrollToGroup:async(E,C="auto",k="top")=>{var w;const O=n.find(M=>M.type==="group"&&M.index===E);O&&((w=i.current)==null||w.scrollTo({top:O.bottom-e.groupHeaderHeight,behavior:C}))}}));const{Header:m,Footer:b,EmptyPlaceholder:y}=e.components??{},v=n.findIndex(E=>E.type==="item"&&E.index===e.forceRenderItem);return f.jsxs(hde,{ref:i,children:[f.jsxs(fde,{style:{height:r,paddingTop:h!==-1?d-e.groupHeaderHeight:d},children:[m&&f.jsx(m,{context:e.context}),n[v]&&!ude(v,a,l)&&f.jsx(f.Fragment,{children:e.itemContent(n[v].index,n[v].groupIndex,{style:{width:"100%",position:"absolute",top:n[v].bottom-e.itemHeight,left:0,boxSizing:"border-box"},"data-virtualized-bottom":n[v].bottom,"data-virtualized-index":n[v].index})}),g.map((E,C)=>f.jsxs("div",{children:[C===0&&h!==-1&&e.groupContent(n[h].index),E.map(({index:k,type:O,bottom:w,groupIndex:M})=>f.jsx(A.Fragment,{children:O==="group"?e.groupContent(k):e.itemContent(k,M,{"data-virtualized-bottom":w,"data-virtualized-index":k})},`${w}`))]},(E[0]??n[h]).groupIndex))]}),g.length===0&&y&&f.jsx(y,{context:e.context}),b&&f.jsx(b,{context:e.context})]})}const fde=j("div",{target:"e1c20jfn1"})({name:"100d0a9",styles:"box-sizing:border-box;position:relative"}),hde=j("div",{target:"e1c20jfn0"})({name:"1wyitvb",styles:"overflow:auto;height:100%;width:100%"}),DN=A.forwardRef(dde),pde=new Intl.Collator("en",{numeric:!0,sensitivity:"base"}).compare,nS=1/0,YA=e=>e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),eR="eexxaacctt",gde="A-Z",mde="a-z",Hd=(e,t,n)=>e.replace(gde,t).replace(mde,n),tR={unicode:!1,alpha:null,interSplit:"[^A-Za-z\\d']+",intraSplit:"[a-z][A-Z]",intraBound:"[A-Za-z]\\d|\\d[A-Za-z]|[a-z][A-Z]",interLft:0,interRgt:0,interChars:".",interIns:nS,intraChars:"[a-z\\d']",intraIns:null,intraContr:"'[a-z]{1,2}\\b",intraMode:0,intraSlice:[1,nS],intraSub:null,intraTrn:null,intraDel:null,intraFilt:(e,t,n)=>!0,sort:(e,t,n)=>{let{idx:r,chars:i,terms:s,interLft2:o,interLft1:a,start:l,intraIns:c,interIns:u}=e;return r.map((d,h)=>h).sort((d,h)=>i[h]-i[d]||c[d]-c[h]||s[h]+o[h]+.5*a[h]-(s[d]+o[d]+.5*a[d])||u[d]-u[h]||l[d]-l[h]||pde(t[r[d]],t[r[h]]))}},QA=(e,t)=>t==0?"":t==1?e+"??":t==nS?e+"*?":e+`{0,${t}}?`,nR="(?:\\b|_)";function uv(e){e=Object.assign({},tR,e);let{unicode:t,interLft:n,interRgt:r,intraMode:i,intraSlice:s,intraIns:o,intraSub:a,intraTrn:l,intraDel:c,intraContr:u,intraSplit:d,interSplit:h,intraBound:p,intraChars:g}=e;o??(o=i),a??(a=i),l??(l=i),c??(c=i);let m=e.letters??e.alpha;if(m!=null){let G=m.toLocaleUpperCase(),U=m.toLocaleLowerCase();h=Hd(h,G,U),d=Hd(d,G,U),p=Hd(p,G,U),g=Hd(g,G,U),u=Hd(u,G,U)}let b=t?"u":"";const y='".+?"',v=new RegExp(y,"gi"+b),_=new RegExp(`(?:\\s+|^)-(?:${g}+|${y})`,"gi"+b);let{intraRules:x}=e;x==null&&(x=G=>{let U=tR.intraSlice,ne=0,$=0,fe=0,Z=0;if(/[^\d]/.test(G)){let oe=G.length;oe<=4?oe>=3&&(fe=Math.min(l,1),oe==4&&(ne=Math.min(o,1))):(U=s,ne=o,$=a,fe=l,Z=c)}return{intraSlice:U,intraIns:ne,intraSub:$,intraTrn:fe,intraDel:Z}});let S=!!d,E=new RegExp(d,"g"+b),C=new RegExp(h,"g"+b),k=new RegExp("^"+h+"|"+h+"$","g"+b),O=new RegExp(u,"gi"+b);const w=G=>{let U=[];G=G.replace(v,$=>(U.push($),eR)),G=G.replace(k,"").toLocaleLowerCase(),S&&(G=G.replace(E,$=>$[0]+" "+$[1]));let ne=0;return G.split(C).filter($=>$!="").map($=>$===eR?U[ne++]:$)},M=/[^\d]+|\d+/g,N=(G,U=0,ne=!1)=>{let $=w(G);if($.length==0)return[];let fe=Array($.length).fill("");$=$.map((ae,be)=>ae.replace(O,Ve=>(fe[be]=Ve,"")));let Z;if(i==1)Z=$.map((ae,be)=>{if(ae[0]==='"')return YA(ae.slice(1,-1));let Ve="";for(let Ne of ae.matchAll(M)){let ye=Ne[0],{intraSlice:Se,intraIns:We,intraSub:Be,intraTrn:xe,intraDel:Je}=x(ye);if(We+Be+xe+Je==0)Ve+=ye+fe[be];else{let[Ct,qt]=Se,kt=ye.slice(0,Ct),Ce=ye.slice(qt),ut=ye.slice(Ct,qt);We==1&&kt.length==1&&kt!=ut[0]&&(kt+="(?!"+kt+")");let jt=ut.length,Ot=[ye];if(Be)for(let Me=0;Me<jt;Me++)Ot.push(kt+ut.slice(0,Me)+g+ut.slice(Me+1)+Ce);if(xe)for(let Me=0;Me<jt-1;Me++)ut[Me]!=ut[Me+1]&&Ot.push(kt+ut.slice(0,Me)+ut[Me+1]+ut[Me]+ut.slice(Me+2)+Ce);if(Je)for(let Me=0;Me<jt;Me++)Ot.push(kt+ut.slice(0,Me+1)+"?"+ut.slice(Me+1)+Ce);if(We){let Me=QA(g,1);for(let Ge=0;Ge<jt;Ge++)Ot.push(kt+ut.slice(0,Ge)+Me+ut.slice(Ge)+Ce)}Ve+="(?:"+Ot.join("|")+")"+fe[be]}}return Ve});else{let ae=QA(g,o);U==2&&o>0&&(ae=")("+ae+")("),Z=$.map((be,Ve)=>be[0]==='"'?YA(be.slice(1,-1)):be.split("").map((Ne,ye,Se)=>(o==1&&ye==0&&Se.length>1&&Ne!=Se[ye+1]&&(Ne+="(?!"+Ne+")"),Ne)).join(ae)+fe[Ve])}let oe=n==2?nR:"",Re=r==2?nR:"",Ee=Re+QA(e.interChars,e.interIns)+oe;return U>0?ne?Z=oe+"("+Z.join(")"+Re+"|"+oe+"(")+")"+Re:(Z="("+Z.join(")("+Ee+")(")+")",Z="(.??"+oe+")"+Z+"("+Re+".*)"):(Z=Z.join(Ee),Z=oe+Z+Re),[new RegExp(Z,"i"+b),$,fe]},R=(G,U,ne)=>{let[$]=N(U);if($==null)return null;let fe=[];if(ne!=null)for(let Z=0;Z<ne.length;Z++){let oe=ne[Z];$.test(G[oe])&&fe.push(oe)}else for(let Z=0;Z<G.length;Z++)$.test(G[Z])&&fe.push(Z);return fe};let V=!!p,P=new RegExp(h,b),T=new RegExp(p,b);const z=(G,U,ne)=>{let[$,fe,Z]=N(ne,1),[oe]=N(ne,2),Re=fe.length,Ee=G.length,ae=Array(Ee).fill(0),be={idx:Array(Ee),start:ae.slice(),chars:ae.slice(),terms:ae.slice(),interIns:ae.slice(),intraIns:ae.slice(),interLft2:ae.slice(),interRgt2:ae.slice(),interLft1:ae.slice(),interRgt1:ae.slice(),ranges:Array(Ee)},Ve=n==1||r==1,Ne=0;for(let ye=0;ye<G.length;ye++){let Se=U[G[ye]],We=Se.match($),Be=We.index+We[1].length,xe=Be,Je=!1,Ct=0,qt=0,kt=0,Ce=0,ut=0,jt=0,Ot=0,Me=0,Ge=[];for(let st=0,ot=2;st<Re;st++,ot+=2){let ln=We[ot].toLocaleLowerCase(),mt=fe[st],dt=mt[0]=='"'?mt.slice(1,-1):mt+Z[st],cn=dt.length,yn=ln.length,en=ln==dt;if(!en&&We[ot+1].length>=cn){let bt=We[ot+1].toLocaleLowerCase().indexOf(dt);bt>-1&&(Ge.push(xe,yn,bt,cn),xe+=B(We,ot,bt,cn),ln=dt,yn=cn,en=!0,st==0&&(Be=xe))}if(Ve||en){let bt=xe-1,Hn=xe+yn,_r=!1,En=!1;if(bt==-1||P.test(Se[bt]))en&&Ct++,_r=!0;else{if(n==2){Je=!0;break}if(V&&T.test(Se[bt]+Se[bt+1]))en&&qt++,_r=!0;else if(n==1){let Ni=We[ot+1],hi=xe+yn;if(Ni.length>=cn){let Tt=0,Cn=!1,De=new RegExp(dt,"ig"+b),nt;for(;nt=De.exec(Ni);){Tt=nt.index;let Qn=hi+Tt,pi=Qn-1;if(pi==-1||P.test(Se[pi])){Ct++,Cn=!0;break}else if(T.test(Se[pi]+Se[Qn])){qt++,Cn=!0;break}}Cn&&(_r=!0,Ge.push(xe,yn,Tt,cn),xe+=B(We,ot,Tt,cn),ln=dt,yn=cn,en=!0,st==0&&(Be=xe))}if(!_r){Je=!0;break}}}if(Hn==Se.length||P.test(Se[Hn]))en&&kt++,En=!0;else{if(r==2){Je=!0;break}if(V&&T.test(Se[Hn-1]+Se[Hn]))en&&Ce++,En=!0;else if(r==1){Je=!0;break}}en&&(ut+=cn,_r&&En&&jt++)}if(yn>cn&&(Me+=yn-cn),st>0&&(Ot+=We[ot-1].length),!e.intraFilt(dt,ln,xe)){Je=!0;break}st<Re-1&&(xe+=yn+We[ot+1].length)}if(!Je){be.idx[Ne]=G[ye],be.interLft2[Ne]=Ct,be.interLft1[Ne]=qt,be.interRgt2[Ne]=kt,be.interRgt1[Ne]=Ce,be.chars[Ne]=ut,be.terms[Ne]=jt,be.interIns[Ne]=Ot,be.intraIns[Ne]=Me,be.start[Ne]=Be;let st=Se.match(oe),ot=st.index+st[1].length,ln=Ge.length,mt=ln>0?0:1/0,dt=ln-4;for(let bt=2;bt<st.length;){let Hn=st[bt].length;if(mt<=dt&&Ge[mt]==ot){let _r=Ge[mt+1],En=Ge[mt+2],Ni=Ge[mt+3],hi=bt,Tt="";for(let Cn=0;Cn<_r;hi++)Tt+=st[hi],Cn+=st[hi].length;st.splice(bt,hi-bt,Tt),ot+=B(st,bt,En,Ni),mt+=4}else ot+=Hn,bt++}ot=st.index+st[1].length;let cn=be.ranges[Ne]=[],yn=ot,en=ot;for(let bt=2;bt<st.length;bt++){let Hn=st[bt].length;ot+=Hn,bt%2==0?en=ot:Hn>0&&(cn.push(yn,en),yn=en=ot)}en>yn&&cn.push(yn,en),Ne++}}if(Ne<G.length)for(let ye in be)be[ye]=be[ye].slice(0,Ne);return be},B=(G,U,ne,$)=>{let fe=G[U]+G[U+1].slice(0,ne);return G[U-1]+=fe,G[U]=G[U+1].slice(ne,ne+$),G[U+1]=G[U+1].slice(ne+$),fe.length},D=5,F=(G,U,ne,$=1e3,fe)=>{ne=ne?ne===!0?D:ne:0;let Z=null,oe=null,Re=[];U=U.replace(_,ye=>{let Se=ye.trim().slice(1);return Se[0]==='"'&&(Se=YA(Se.slice(1,-1))),Re.push(Se),""});let Ee=w(U),ae;if(Re.length>0){if(ae=new RegExp(Re.join("|"),"i"+b),Ee.length==0){let ye=[];for(let Se=0;Se<G.length;Se++)ae.test(G[Se])||ye.push(Se);return[ye,null,null]}}else if(Ee.length==0)return[null,null,null];if(ne>0){let ye=w(U);if(ye.length>1){let Se=ye.slice().sort((Be,xe)=>xe.length-Be.length);for(let Be=0;Be<Se.length;Be++){if((fe==null?void 0:fe.length)==0)return[[],null,null];fe=R(G,Se[Be],fe)}if(ye.length>ne)return[fe,null,null];Z=$N(ye).map(Be=>Be.join(" ")),oe=[];let We=new Set;for(let Be=0;Be<Z.length;Be++)if(We.size<fe.length){let xe=fe.filter(Ct=>!We.has(Ct)),Je=R(G,Z[Be],xe);for(let Ct=0;Ct<Je.length;Ct++)We.add(Je[Ct]);oe.push(Je)}else oe.push([])}}Z==null&&(Z=[U],oe=[(fe==null?void 0:fe.length)>0?fe:R(G,U)]);let be=null,Ve=null;if(Re.length>0&&(oe=oe.map(ye=>ye.filter(Se=>!ae.test(G[Se])))),oe.reduce((ye,Se)=>ye+Se.length,0)<=$){be={},Ve=[];for(let ye=0;ye<oe.length;ye++){let Se=oe[ye];if(Se==null||Se.length==0)continue;let We=Z[ye],Be=z(Se,G,We),xe=e.sort(Be,G,We);if(ye>0)for(let Je=0;Je<xe.length;Je++)xe[Je]+=Ve.length;for(let Je in Be)be[Je]=(be[Je]??[]).concat(Be[Je]);Ve=Ve.concat(xe)}}return[[].concat(...oe),be,Ve]};return{search:(...G)=>F(...G),split:w,filter:R,info:z,sort:e.sort}}const yde=(()=>{let e={A:"",a:"",E:"",e:"",I:"",i:"",O:"",o:"",U:"",u:"",C:"",c:"",L:"",l:"",N:"",n:"",S:"",s:"",Z:"",z:""},t=new Map,n="";for(let s in e)e[s].split("").forEach(o=>{n+=o,t.set(o,s)});let r=new RegExp(`[${n}]`,"g"),i=s=>t.get(s);return s=>{if(typeof s=="string")return s.replace(r,i);let o=Array(s.length);for(let a=0;a<s.length;a++)o[a]=s[a].replace(r,i);return o}})();function $N(e){e=e.slice();let t=e.length,n=[e.slice()],r=new Array(t).fill(0),i=1,s,o;for(;i<t;)r[i]<i?(s=i%2&&r[i],o=e[i],e[i]=e[s],e[s]=o,++r[i],i=1,n.push(e.slice())):(r[i]=0,++i);return n}const vde=(e,t)=>t?`<mark>${e}</mark>`:e,Ade=(e,t)=>e+t;function bde(e,t,n=vde,r="",i=Ade){r=i(r,n(e.substring(0,t[0]),!1))??r;for(let s=0;s<t.length;s+=2){let o=t[s],a=t[s+1];r=i(r,n(e.substring(o,a),!0))??r,s<t.length-3&&(r=i(r,n(e.substring(t[s+1],t[s+2]),!1))??r)}return r=i(r,n(e.substring(t[t.length-1]),!1))??r,r}uv.latinize=yde;uv.permute=e=>$N([...Array(e.length).keys()]).sort((n,r)=>{for(let i=0;i<n.length;i++)if(n[i]!=r[i])return n[i]-r[i];return 0}).map(n=>n.map(r=>e[r]));uv.highlight=bde;const _de=(e,t,n)=>{const r=OE(e);return A.useMemo(()=>n?[]:[{name:"Selection",Wrapper:({children:a,active:l,focused:c})=>f.jsx(Coe,{...l&&c?{open:!0}:{},oneTime:!1,timeoutMs:15e3,dismissKey:"selection-playlist",place:"right",title:f.jsxs(f.Fragment,{children:["A combination of songs you might like and popular with other players.",f.jsx("br",{}),f.jsx("br",{})," ",f.jsx("strong",{children:"Search"})," is performed across all the songs."]}),children:a}),display:f.jsxs("span",{children:[f.jsx("strong",{children:""}),"Selection",f.jsx("strong",{children:""})]}),filters:{specificSongs:t}},{name:"All",filters:{}},r[0]?{name:r[0].name,filters:{language:r[0].name}}:null,r[1]?{name:r[1].name,filters:{language:r[1].name}}:null,{name:"Duets",filters:{duet:!0}},{name:"New",filters:{recentlyUpdated:!0}}].filter(a=>a!==null),[r,n,t])},rR=e=>Vu((e==null?void 0:e.search)??"").length>2,iR={},Sde=/[^0-9a-z ]/gi,JA=e=>wx(e).toLowerCase().replace(Sde,"");function rS(e,t){const n=Vu(t);if(n.length>0){const r=new uv({}),[,i,s]=r.search(e.map(o=>`${JA(o.artist)} ${JA(o.title)}`),JA(t));return s&&i?s.map(o=>e[i.idx[o]]):e.filter(o=>o.search.includes(n))}return e}const R0={language:(e,t)=>t===""?e:e.filter(n=>n.language.includes(t)),excludeLanguages:(e,t=[],n)=>t.length===0||rR(n)||n.edition==="esc"?e:e.filter(r=>!r.language.every(i=>t.includes(i))),search:(e,t)=>rS(e,t),duet:(e,t)=>t===null?e:e.filter(n=>t?n.tracksCount>1:n.tracksCount===1),yearBefore:(e,t)=>t?e.filter(n=>Number(n.year)<t):e,yearAfter:(e,t)=>t?e.filter(n=>Number(n.year)>=t):e,edition:(e,t)=>Vu(t).length?e.filter(r=>Vu(r.edition??"").includes(t)):e,recentlyUpdated:e=>{const t=Rs().subtract(31,"days");return e.filter(n=>n.lastUpdate&&Rs(n.lastUpdate).isAfter(t))},specificSongs:(e,t,n)=>rR(n)?e:e.filter(r=>t.includes(r.id))},sR=(e,t)=>Object.entries(t).filter(n=>n[0]in R0).reduce((n,[r,i])=>R0[r](n,i,t,e),e),xde=(e,t,n)=>{var g;const[r]=Qe(q0),i=A.useMemo(()=>sR(e,{excludeLanguages:r??[]}),[e,r]),s=_de(i,t,n),[o,a]=A.useState(new URLSearchParams((g=global.location)==null?void 0:g.search).get("playlist")??null),l=m=>{var y;const b=new URL((y=global.location)==null?void 0:y.href);b.searchParams.set("playlist",m),global.history.replaceState(null,"",b.toString()),a(m)},c=s.find(m=>m.name===o)??s[0],[u,d]=A.useState(iR);A.useEffect(()=>{d(iR)},[o]);const h=A.useDeferredValue(u),p=A.useMemo(()=>sR(e,{...(c==null?void 0:c.filters)??{},...h,excludeLanguages:r??[]}),[e,h,r,c]);return{filters:u,filteredList:p,setFilters:d,selectedPlaylist:o,setSelectedPlaylist:l,playlists:s,playlist:c}},wde=Xa("remote-mic-saved-songs"),Ede=Xa("remote-mic-excluded-languages"),Cde=Xa("remote-mic-selected-song-list"),kde=Xa("remote-mic-song-list-search");function Tde({roomId:e,monitoringStarted:t,setMonitoringStarted:n,isKeepAwakeOn:r,setIsKeepAwakeOn:i,connectionError:s,connectionStatus:o}){const[a]=Ds(te.remoteKeyboardLayout,!0)??[],l=cv(),c=Ad(),[u,d]=A.useState();A.useEffect(()=>{o==="connected"&&u===void 0&&pn.getSongList().then(d).catch(console.warn)},[u,o]);const h=A.useMemo(()=>gue(c.data.map(w=>({...w,id:Pi.generateSongFile(w)})).filter(w=>!((u==null?void 0:u.deleted)??[]).includes(w.id)).map(w=>({id:w.id,artist:w.artist,title:w.title,video:w.video,language:w.language,search:w.search})).concat(...((u==null?void 0:u.custom)??[]).map(w=>({...w,id:Pi.generateSongFile(w)}))),w=>w.id),[c.data,u]),p=OE(h),[g,m]=kde(""),[b,y]=Ede([]),[v,_]=wde([]),[x,S]=Cde("list"),E=ON(),C=w=>{S(w),m("")},k=A.useMemo(()=>{if(x==="list"){const w=rS(h,g);return w.length!==h.length?w:h.filter(M=>!M.language.every(N=>b.includes(N)))}else{const w=v.map(M=>h.find(N=>N.id===M)).filter(Boolean);return rS(w,g)}},[g,h,x,v,b]),O=p.length-b.length;return f.jsxs(Ide,{children:[f.jsxs(Pde,{children:[f.jsx(bc,{focused:!1,label:f.jsx(wE,{}),placeholder:"Search for a song",value:g,onChange:w=>m(w),"data-test":"search-input"}),f.jsxs(Rde,{children:[f.jsx(XA,{"data-test":"all-songs-button","data-active":x==="list",onClick:()=>C("list"),children:"All songs"}),f.jsxs(XA,{"data-test":"your-list-button","data-active":x==="queue",onClick:()=>C("queue"),children:["Your list (",v.length,")"]}),f.jsx(cde,{excludedLanguages:b,languageList:p,onListChange:y,children:({open:w})=>f.jsxs(XA,{className:"!flex-grow-[0.3]",onClick:w,"data-test":"song-language-filter","data-active":b.length>0&&x==="list"?!0:void 0,children:["",O<p.length&&f.jsx(IE,{children:O})]})})]})]}),f.jsx(DN,{forceRenderItem:-1,overScan:100,components:{},context:{},groupSizes:[k.length],groupHeaderHeight:1,groupContent:()=>null,itemHeight:E*7+1,itemContent:(w,M,N)=>{var P;const R=k[w],V=v.includes(R.id);return f.jsxs(Mde,{className:V?"!bg-black !bg-opacity-35":"","data-test":R.id,...N,children:[f.jsx(jde,{children:f.jsx(Dl,{language:R.language})}),f.jsxs(Ode,{children:[f.jsx(Lde,{children:R.title}),f.jsx(Vde,{children:R.artist})]}),f.jsxs(Nde,{children:[((P=a==null?void 0:a.remote)==null?void 0:P.includes("select-song"))&&l==="write"&&f.jsx(oR,{onClick:T=>{T.stopPropagation(),pn.selectSong(R.id)},"data-test":"select-song-button",children:"SELECT"}),V?f.jsx(oR,{"data-test":"remove-song-button",onClick:T=>{T.stopPropagation(),_(z=>z.filter(B=>B!==R.id))},children:"-"}):f.jsx(FN,{"data-test":"add-song-button",onClick:T=>{T.stopPropagation(),_(z=>[...z,R.id])},children:"+"})]})]})}})]})}const Ide=j("div",{target:"emsrjbt9"})({name:"lrzqpm",styles:"display:flex;flex-direction:column;position:relative;flex:1 1 auto;min-height:calc(100vh - 6rem);max-height:calc(100vh - 6rem)"}),Pde=j("div",{target:"emsrjbt8"})(Ke,";font-size:2.5rem;display:flex;flex-direction:column;"),Rde=j("div",{target:"emsrjbt7"})({name:"7whenc",styles:"display:flex;width:100%"}),XA=j("button",{target:"emsrjbt6"})("border:none;flex:1;display:flex;align-items:center;justify-content:center;min-width:4rem;height:4rem;background:rgba(0, 0, 0, 0.75);",Ke,";font-size:2rem;position:relative;transition:300ms;&[data-active='true']{background:",ge.colors.text.active,";}&[data-active='false']{box-shadow:inset 0px 0px 0px 2px orange;}"),Mde=j("div",{target:"emsrjbt5"})({name:"16qu2op",styles:"background:rgba(0, 0, 0, 0.15);display:flex;align-items:center;height:7rem;padding:0 1rem;gap:1rem;border-bottom:1px solid black;overflow:hidden;position:relative;transition:100ms"}),jde=j("div",{target:"emsrjbt4"})({name:"1xmi6sr",styles:"img{height:3rem;width:3rem;object-fit:cover;border-radius:3rem;border:0.1rem black solid;aspect-ratio:1;}"}),Ode=j("div",{target:"emsrjbt3"})({name:"tpuoeb",styles:"display:flex;flex-direction:column;justify-content:space-between;gap:1rem"}),Vde=j("span",{target:"emsrjbt2"})("color:",ge.colors.text.default,";font-size:1.25rem;white-space:nowrap;"),Lde=j("span",{target:"emsrjbt1"})("color:",ge.colors.text.active,";font-size:1.5rem;white-space:nowrap;"),Nde=j("div",{target:"emsrjbt0"})({name:"1m2flic",styles:"position:absolute;top:0;right:0;display:flex;height:7rem;align-items:center;justify-content:center;gap:1rem;padding-right:1rem"}),FN=an.button`transition-all duration-300 active:text-text-default active:bg-active typography p-[1rem] min-w-[4rem] h-[4rem] rounded-full text-center bg-black text-[1.5rem] border-none cursor-pointer transition-[300ms]`,oR=an(FN)`text-active`,ZA=new lee;function Bde(){const e=jy("room"),[t]=Ds(te.remoteStyleChanged,!0)??["regular"];A.useLayoutEffect(()=>{z5(t)},[t]),qa(!0,t);const[n,r]=A.useState("microphone"),[i,s]=Ds(te.karaokeConnectionStatusChange)??["uninitialised"],[o,a]=A.useState(!1);Ir(te.micMonitoringStarted,()=>a(!0)),Ir(te.micMonitoringStopped,()=>a(!1));const[l,c]=A.useState(!1),u=async h=>{try{h&&!ZA.isEnabled?await ZA.enable():!h&&ZA.isEnabled,c(h)}catch(p){console.warn("Couldn't set wakelock",p)}},d=()=>{u(!0)};return f.jsxs(Ja,{children:[f.jsx(tce,{onConfirm:d}),f.jsx(gee,{size:10}),f.jsx($de,{id:"phone-ui-container",children:f.jsxs(f.Fragment,{children:[n==="microphone"&&f.jsx(Xle,{roomId:e,monitoringStarted:o,setMonitoringStarted:a,connectionStatus:i,setIsKeepAwakeOn:c,isKeepAwakeOn:l,connectionError:s}),n==="song-list"&&f.jsx(Tde,{roomId:e,monitoringStarted:o,setMonitoringStarted:a,connectionStatus:i,setIsKeepAwakeOn:c,isKeepAwakeOn:l,connectionError:s}),n==="settings"&&f.jsx(hce,{}),f.jsx(Dde,{}),f.jsx(qae,{setActiveTab:r,active:n})]})})]})}const Dde=j("div",{target:"e1ky75ep1"})({name:"4x3vzu",styles:"height:6rem;@media (max-height: 500px) and (min-aspect-ratio: 16/10){height:0;}"}),$de=j("div",{target:"e1ky75ep0"})({name:"1tjfysn",styles:"margin:0 auto;width:100%;max-width:400px;box-sizing:border-box;min-height:100vh;max-height:100vh;background:rgba(0, 0, 0, 0.5);display:flex;flex-direction:column;@media (max-height: 500px) and (min-aspect-ratio: 16/10){max-width:960px;}"});function el(e){A.useEffect(()=>{e?Dg.playing()||Dg.play(!1):Dg.stop()},[e])}function Fde(e){return e&&typeof e=="object"&&"default"in e?e.default:e}var zN=A,zde=Fde(zN);function aR(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ude(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var Hde=!!(typeof window<"u"&&window.document&&window.document.createElement);function Gde(e,t,n){if(typeof e!="function")throw new Error("Expected reducePropsToState to be a function.");if(typeof t!="function")throw new Error("Expected handleStateChangeOnClient to be a function.");if(typeof n<"u"&&typeof n!="function")throw new Error("Expected mapStateOnServer to either be undefined or a function.");function r(i){return i.displayName||i.name||"Component"}return function(s){if(typeof s!="function")throw new Error("Expected WrappedComponent to be a React component.");var o=[],a;function l(){a=e(o.map(function(u){return u.props})),c.canUseDOM?t(a):n&&(a=n(a))}var c=function(u){Ude(d,u);function d(){return u.apply(this,arguments)||this}d.peek=function(){return a},d.rewind=function(){if(d.canUseDOM)throw new Error("You may only call rewind() on the server. Call peek() to read the current state.");var g=a;return a=void 0,o=[],g};var h=d.prototype;return h.UNSAFE_componentWillMount=function(){o.push(this),l()},h.componentDidUpdate=function(){l()},h.componentWillUnmount=function(){var g=o.indexOf(this);o.splice(g,1),l()},h.render=function(){return zde.createElement(s,this.props)},d}(zN.PureComponent);return aR(c,"displayName","SideEffect("+r(s)+")"),aR(c,"canUseDOM",Hde),c}}var qde=Gde;const Wde=Ar(qde);var Kde=typeof Element<"u",Yde=typeof Map=="function",Qde=typeof Set=="function",Jde=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function sm(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;var n,r,i;if(Array.isArray(e)){if(n=e.length,n!=t.length)return!1;for(r=n;r--!==0;)if(!sm(e[r],t[r]))return!1;return!0}var s;if(Yde&&e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(s=e.entries();!(r=s.next()).done;)if(!t.has(r.value[0]))return!1;for(s=e.entries();!(r=s.next()).done;)if(!sm(r.value[1],t.get(r.value[0])))return!1;return!0}if(Qde&&e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(s=e.entries();!(r=s.next()).done;)if(!t.has(r.value[0]))return!1;return!0}if(Jde&&ArrayBuffer.isView(e)&&ArrayBuffer.isView(t)){if(n=e.length,n!=t.length)return!1;for(r=n;r--!==0;)if(e[r]!==t[r])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf&&typeof e.valueOf=="function"&&typeof t.valueOf=="function")return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString&&typeof e.toString=="function"&&typeof t.toString=="function")return e.toString()===t.toString();if(i=Object.keys(e),n=i.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!Object.prototype.hasOwnProperty.call(t,i[r]))return!1;if(Kde&&e instanceof Element)return!1;for(r=n;r--!==0;)if(!((i[r]==="_owner"||i[r]==="__v"||i[r]==="__o")&&e.$$typeof)&&!sm(e[i[r]],t[i[r]]))return!1;return!0}return e!==e&&t!==t}var Xde=function(t,n){try{return sm(t,n)}catch(r){if((r.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw r}};const Zde=Ar(Xde);/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var lR=Object.getOwnPropertySymbols,efe=Object.prototype.hasOwnProperty,tfe=Object.prototype.propertyIsEnumerable;function nfe(e){if(e==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}function rfe(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de",Object.getOwnPropertyNames(e)[0]==="5")return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;var r=Object.getOwnPropertyNames(t).map(function(s){return t[s]});if(r.join("")!=="0123456789")return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach(function(s){i[s]=s}),Object.keys(Object.assign({},i)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}var ife=rfe()?Object.assign:function(e,t){for(var n,r=nfe(e),i,s=1;s<arguments.length;s++){n=Object(arguments[s]);for(var o in n)efe.call(n,o)&&(r[o]=n[o]);if(lR){i=lR(n);for(var a=0;a<i.length;a++)tfe.call(n,i[a])&&(r[i[a]]=n[i[a]])}}return r};const sfe=Ar(ife);var $l={BODY:"bodyAttributes",HTML:"htmlAttributes",TITLE:"titleAttributes"},Ye={BASE:"base",BODY:"body",HEAD:"head",HTML:"html",LINK:"link",META:"meta",NOSCRIPT:"noscript",SCRIPT:"script",STYLE:"style",TITLE:"title"};Object.keys(Ye).map(function(e){return Ye[e]});var rn={CHARSET:"charset",CSS_TEXT:"cssText",HREF:"href",HTTPEQUIV:"http-equiv",INNER_HTML:"innerHTML",ITEM_PROP:"itemprop",NAME:"name",PROPERTY:"property",REL:"rel",SRC:"src",TARGET:"target"},M0={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},Ch={DEFAULT_TITLE:"defaultTitle",DEFER:"defer",ENCODE_SPECIAL_CHARACTERS:"encodeSpecialCharacters",ON_CHANGE_CLIENT_STATE:"onChangeClientState",TITLE_TEMPLATE:"titleTemplate"},ofe=Object.keys(M0).reduce(function(e,t){return e[M0[t]]=t,e},{}),afe=[Ye.NOSCRIPT,Ye.SCRIPT,Ye.STYLE],Ms="data-react-helmet",lfe=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cfe=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},ufe=function(){function e(t,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Jr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},dfe=function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},cR=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n},ffe=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e},iS=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return n===!1?String(t):String(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")},hfe=function(t){var n=wu(t,Ye.TITLE),r=wu(t,Ch.TITLE_TEMPLATE);if(r&&n)return r.replace(/%s/g,function(){return Array.isArray(n)?n.join(""):n});var i=wu(t,Ch.DEFAULT_TITLE);return n||i||void 0},pfe=function(t){return wu(t,Ch.ON_CHANGE_CLIENT_STATE)||function(){}},e1=function(t,n){return n.filter(function(r){return typeof r[t]<"u"}).map(function(r){return r[t]}).reduce(function(r,i){return Jr({},r,i)},{})},gfe=function(t,n){return n.filter(function(r){return typeof r[Ye.BASE]<"u"}).map(function(r){return r[Ye.BASE]}).reverse().reduce(function(r,i){if(!r.length)for(var s=Object.keys(i),o=0;o<s.length;o++){var a=s[o],l=a.toLowerCase();if(t.indexOf(l)!==-1&&i[l])return r.concat(i)}return r},[])},Gd=function(t,n,r){var i={};return r.filter(function(s){return Array.isArray(s[t])?!0:(typeof s[t]<"u"&&Afe("Helmet: "+t+' should be of type "Array". Instead found type "'+lfe(s[t])+'"'),!1)}).map(function(s){return s[t]}).reverse().reduce(function(s,o){var a={};o.filter(function(h){for(var p=void 0,g=Object.keys(h),m=0;m<g.length;m++){var b=g[m],y=b.toLowerCase();n.indexOf(y)!==-1&&!(p===rn.REL&&h[p].toLowerCase()==="canonical")&&!(y===rn.REL&&h[y].toLowerCase()==="stylesheet")&&(p=y),n.indexOf(b)!==-1&&(b===rn.INNER_HTML||b===rn.CSS_TEXT||b===rn.ITEM_PROP)&&(p=b)}if(!p||!h[p])return!1;var v=h[p].toLowerCase();return i[p]||(i[p]={}),a[p]||(a[p]={}),i[p][v]?!1:(a[p][v]=!0,!0)}).reverse().forEach(function(h){return s.push(h)});for(var l=Object.keys(a),c=0;c<l.length;c++){var u=l[c],d=sfe({},i[u],a[u]);i[u]=d}return s},[]).reverse()},wu=function(t,n){for(var r=t.length-1;r>=0;r--){var i=t[r];if(i.hasOwnProperty(n))return i[n]}return null},mfe=function(t){return{baseTag:gfe([rn.HREF,rn.TARGET],t),bodyAttributes:e1($l.BODY,t),defer:wu(t,Ch.DEFER),encode:wu(t,Ch.ENCODE_SPECIAL_CHARACTERS),htmlAttributes:e1($l.HTML,t),linkTags:Gd(Ye.LINK,[rn.REL,rn.HREF],t),metaTags:Gd(Ye.META,[rn.NAME,rn.CHARSET,rn.HTTPEQUIV,rn.PROPERTY,rn.ITEM_PROP],t),noscriptTags:Gd(Ye.NOSCRIPT,[rn.INNER_HTML],t),onChangeClientState:pfe(t),scriptTags:Gd(Ye.SCRIPT,[rn.SRC,rn.INNER_HTML],t),styleTags:Gd(Ye.STYLE,[rn.CSS_TEXT],t),title:hfe(t),titleAttributes:e1($l.TITLE,t)}},sS=function(){var e=Date.now();return function(t){var n=Date.now();n-e>16?(e=n,t(n)):setTimeout(function(){sS(t)},0)}}(),uR=function(t){return clearTimeout(t)},yfe=typeof window<"u"?window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||sS:global.requestAnimationFrame||sS,vfe=typeof window<"u"?window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||uR:global.cancelAnimationFrame||uR,Afe=function(t){return console&&typeof console.warn=="function"&&console.warn(t)},qd=null,bfe=function(t){qd&&vfe(qd),t.defer?qd=yfe(function(){dR(t,function(){qd=null})}):(dR(t),qd=null)},dR=function(t,n){var r=t.baseTag,i=t.bodyAttributes,s=t.htmlAttributes,o=t.linkTags,a=t.metaTags,l=t.noscriptTags,c=t.onChangeClientState,u=t.scriptTags,d=t.styleTags,h=t.title,p=t.titleAttributes;oS(Ye.BODY,i),oS(Ye.HTML,s),_fe(h,p);var g={baseTag:Mc(Ye.BASE,r),linkTags:Mc(Ye.LINK,o),metaTags:Mc(Ye.META,a),noscriptTags:Mc(Ye.NOSCRIPT,l),scriptTags:Mc(Ye.SCRIPT,u),styleTags:Mc(Ye.STYLE,d)},m={},b={};Object.keys(g).forEach(function(y){var v=g[y],_=v.newTags,x=v.oldTags;_.length&&(m[y]=_),x.length&&(b[y]=g[y].oldTags)}),n&&n(),c(t,m,b)},UN=function(t){return Array.isArray(t)?t.join(""):t},_fe=function(t,n){typeof t<"u"&&document.title!==t&&(document.title=UN(t)),oS(Ye.TITLE,n)},oS=function(t,n){var r=document.getElementsByTagName(t)[0];if(r){for(var i=r.getAttribute(Ms),s=i?i.split(","):[],o=[].concat(s),a=Object.keys(n),l=0;l<a.length;l++){var c=a[l],u=n[c]||"";r.getAttribute(c)!==u&&r.setAttribute(c,u),s.indexOf(c)===-1&&s.push(c);var d=o.indexOf(c);d!==-1&&o.splice(d,1)}for(var h=o.length-1;h>=0;h--)r.removeAttribute(o[h]);s.length===o.length?r.removeAttribute(Ms):r.getAttribute(Ms)!==a.join(",")&&r.setAttribute(Ms,a.join(","))}},Mc=function(t,n){var r=document.head||document.querySelector(Ye.HEAD),i=r.querySelectorAll(t+"["+Ms+"]"),s=Array.prototype.slice.call(i),o=[],a=void 0;return n&&n.length&&n.forEach(function(l){var c=document.createElement(t);for(var u in l)if(l.hasOwnProperty(u))if(u===rn.INNER_HTML)c.innerHTML=l.innerHTML;else if(u===rn.CSS_TEXT)c.styleSheet?c.styleSheet.cssText=l.cssText:c.appendChild(document.createTextNode(l.cssText));else{var d=typeof l[u]>"u"?"":l[u];c.setAttribute(u,d)}c.setAttribute(Ms,"true"),s.some(function(h,p){return a=p,c.isEqualNode(h)})?s.splice(a,1):o.push(c)}),s.forEach(function(l){return l.parentNode.removeChild(l)}),o.forEach(function(l){return r.appendChild(l)}),{oldTags:s,newTags:o}},HN=function(t){return Object.keys(t).reduce(function(n,r){var i=typeof t[r]<"u"?r+'="'+t[r]+'"':""+r;return n?n+" "+i:i},"")},Sfe=function(t,n,r,i){var s=HN(r),o=UN(n);return s?"<"+t+" "+Ms+'="true" '+s+">"+iS(o,i)+"</"+t+">":"<"+t+" "+Ms+'="true">'+iS(o,i)+"</"+t+">"},xfe=function(t,n,r){return n.reduce(function(i,s){var o=Object.keys(s).filter(function(c){return!(c===rn.INNER_HTML||c===rn.CSS_TEXT)}).reduce(function(c,u){var d=typeof s[u]>"u"?u:u+'="'+iS(s[u],r)+'"';return c?c+" "+d:d},""),a=s.innerHTML||s.cssText||"",l=afe.indexOf(t)===-1;return i+"<"+t+" "+Ms+'="true" '+o+(l?"/>":">"+a+"</"+t+">")},"")},GN=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.keys(t).reduce(function(r,i){return r[M0[i]||i]=t[i],r},n)},wfe=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.keys(t).reduce(function(r,i){return r[ofe[i]||i]=t[i],r},n)},Efe=function(t,n,r){var i,s=(i={key:n},i[Ms]=!0,i),o=GN(r,s);return[Ie.createElement(Ye.TITLE,o,n)]},Cfe=function(t,n){return n.map(function(r,i){var s,o=(s={key:i},s[Ms]=!0,s);return Object.keys(r).forEach(function(a){var l=M0[a]||a;if(l===rn.INNER_HTML||l===rn.CSS_TEXT){var c=r.innerHTML||r.cssText;o.dangerouslySetInnerHTML={__html:c}}else o[l]=r[a]}),Ie.createElement(t,o)})},yo=function(t,n,r){switch(t){case Ye.TITLE:return{toComponent:function(){return Efe(t,n.title,n.titleAttributes)},toString:function(){return Sfe(t,n.title,n.titleAttributes,r)}};case $l.BODY:case $l.HTML:return{toComponent:function(){return GN(n)},toString:function(){return HN(n)}};default:return{toComponent:function(){return Cfe(t,n)},toString:function(){return xfe(t,n,r)}}}},qN=function(t){var n=t.baseTag,r=t.bodyAttributes,i=t.encode,s=t.htmlAttributes,o=t.linkTags,a=t.metaTags,l=t.noscriptTags,c=t.scriptTags,u=t.styleTags,d=t.title,h=d===void 0?"":d,p=t.titleAttributes;return{base:yo(Ye.BASE,n,i),bodyAttributes:yo($l.BODY,r,i),htmlAttributes:yo($l.HTML,s,i),link:yo(Ye.LINK,o,i),meta:yo(Ye.META,a,i),noscript:yo(Ye.NOSCRIPT,l,i),script:yo(Ye.SCRIPT,c,i),style:yo(Ye.STYLE,u,i),title:yo(Ye.TITLE,{title:h,titleAttributes:p},i)}},kfe=function(t){var n,r;return r=n=function(i){dfe(s,i);function s(){return cfe(this,s),ffe(this,i.apply(this,arguments))}return s.prototype.shouldComponentUpdate=function(a){return!Zde(this.props,a)},s.prototype.mapNestedChildrenToProps=function(a,l){if(!l)return null;switch(a.type){case Ye.SCRIPT:case Ye.NOSCRIPT:return{innerHTML:l};case Ye.STYLE:return{cssText:l}}throw new Error("<"+a.type+" /> elements are self-closing and can not contain children. Refer to our API for more information.")},s.prototype.flattenArrayTypeChildren=function(a){var l,c=a.child,u=a.arrayTypeChildren,d=a.newChildProps,h=a.nestedChildren;return Jr({},u,(l={},l[c.type]=[].concat(u[c.type]||[],[Jr({},d,this.mapNestedChildrenToProps(c,h))]),l))},s.prototype.mapObjectTypeChildren=function(a){var l,c,u=a.child,d=a.newProps,h=a.newChildProps,p=a.nestedChildren;switch(u.type){case Ye.TITLE:return Jr({},d,(l={},l[u.type]=p,l.titleAttributes=Jr({},h),l));case Ye.BODY:return Jr({},d,{bodyAttributes:Jr({},h)});case Ye.HTML:return Jr({},d,{htmlAttributes:Jr({},h)})}return Jr({},d,(c={},c[u.type]=Jr({},h),c))},s.prototype.mapArrayTypeChildrenToProps=function(a,l){var c=Jr({},l);return Object.keys(a).forEach(function(u){var d;c=Jr({},c,(d={},d[u]=a[u],d))}),c},s.prototype.warnOnInvalidChildren=function(a,l){return!0},s.prototype.mapChildrenToProps=function(a,l){var c=this,u={};return Ie.Children.forEach(a,function(d){if(!(!d||!d.props)){var h=d.props,p=h.children,g=cR(h,["children"]),m=wfe(g);switch(c.warnOnInvalidChildren(d,p),d.type){case Ye.LINK:case Ye.META:case Ye.NOSCRIPT:case Ye.SCRIPT:case Ye.STYLE:u=c.flattenArrayTypeChildren({child:d,arrayTypeChildren:u,newChildProps:m,nestedChildren:p});break;default:l=c.mapObjectTypeChildren({child:d,newProps:l,newChildProps:m,nestedChildren:p});break}}}),l=this.mapArrayTypeChildrenToProps(u,l),l},s.prototype.render=function(){var a=this.props,l=a.children,c=cR(a,["children"]),u=Jr({},c);return l&&(u=this.mapChildrenToProps(l,u)),Ie.createElement(t,u)},ufe(s,null,[{key:"canUseDOM",set:function(a){t.canUseDOM=a}}]),s}(Ie.Component),n.propTypes={base:Ze.object,bodyAttributes:Ze.object,children:Ze.oneOfType([Ze.arrayOf(Ze.node),Ze.node]),defaultTitle:Ze.string,defer:Ze.bool,encodeSpecialCharacters:Ze.bool,htmlAttributes:Ze.object,link:Ze.arrayOf(Ze.object),meta:Ze.arrayOf(Ze.object),noscript:Ze.arrayOf(Ze.object),onChangeClientState:Ze.func,script:Ze.arrayOf(Ze.object),style:Ze.arrayOf(Ze.object),title:Ze.string,titleAttributes:Ze.object,titleTemplate:Ze.string},n.defaultProps={defer:!0,encodeSpecialCharacters:!0},n.peek=t.peek,n.rewind=function(){var i=t.rewind();return i||(i=qN({baseTag:[],bodyAttributes:{},encodeSpecialCharacters:!0,htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}})),i},r},Tfe=function(){return null},Ife=Wde(mfe,bfe,qN)(Tfe),ji=kfe(Ife);ji.renderStatic=ji.rewind;const WN=A.forwardRef(({...e},t)=>{const n=A.useRef(null);A.useImperativeHandle(t,()=>n.current);const[r,i]=Qe(Af);return f.jsx(Pfe,{className:"text-[2.7rem]",ref:n,label:"Input lag",value:String(r),onChange:s=>i(+s),type:"number",step:50,min:-2e3,max:2e3,adornment:"ms",onKeyDown:s=>{var o;s.code==="Enter"&&((o=n.current)==null||o.blur())},info:"If the sound is not synchronised with the lyrics, use this to compensate it.",...e})}),Pfe=j(bc,{target:"e1vs2glp0"})({name:"q54eim",styles:"input{text-align:right;}"});function Rfe(){el(!1);const e=fi(),t=()=>e("menu/"),{register:n}=Yn({onBackspace:t}),[r,i]=Qe(Ji),[s,o]=Qe(Tl),[a,l]=Qe(br),c=A.useRef(null),[u,d]=A.useState(Is.getPermissionStatus());A.useEffect(()=>Is.addListener(b=>{d(b)}),[]);const[h,p]=A.useState(!1),g=()=>{p(!0),Is.requestPermissions().then(()=>p(!1))};let m="Disabled";return h?m=f.jsx(ip,{size:"0.9em"}):u===null?m="Click to enable":u&&(m="Enabled"),f.jsxs(Za,{children:[f.jsx(ji,{children:f.jsx("title",{children:"Settings | AllKaraoke.Party - Free Online Karaoke Party Game"})}),f.jsx("h1",{children:"Settings"}),f.jsx(es,{...n("graphics-level",()=>i(Bl(n3,r))),label:"Graphics",value:r.toUpperCase()}),f.jsx(es,{...n("fps-count-level",()=>o(Bl(r3,s))),label:"FPS Count",value:s}),f.jsx(WN,{ref:c,...n("input-lag",()=>{var b;return(b=c.current)==null?void 0:b.focus()})}),f.jsx("hr",{}),f.jsx(es,{...n("camera-access",()=>u?Is.disable():g()),label:"Enable camera mode",value:m,info:"Record a timelapse video from singing. The recording is not sent nor stored anywhere."}),f.jsx("hr",{}),f.jsx(es,{...n("mobile-phone-mode",()=>l(!a)),label:"Mobile Phone Mode",value:a?"Yes":"No",info:"Adjust the game to a smaller screen. Disables option to sing in duets."}),f.jsx("hr",{}),f.jsx(Fe,{...n("remote-mics-settings",()=>e("settings/remote-mics/")),size:"small",children:"Remote Microphones Settings"}),f.jsx(Fe,{...n("setup-mics-button",()=>e("select-input/")),size:"small",children:"Setup Microphones"}),f.jsx(Fe,{...n("manage-songs-button",()=>e("manage-songs/")),size:"small",children:"Manage Songs"}),f.jsx(Fe,{...n("back-button",t),children:"Return To Main Menu"})]})}function Mfe(e){return Rr("MuiPaper",e)}Mr("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const jfe=e=>{const{square:t,elevation:n,variant:r,classes:i}=e,s={root:["root",r,!t&&"rounded",r==="elevation"&&`elevation${n}`]};return Wr(s,Mfe,i)},Ofe=Zt("div",{name:"MuiPaper",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],!n.square&&t.rounded,n.variant==="elevation"&&t[`elevation${n.elevation}`]]}})(cs(({theme:e})=>({backgroundColor:(e.vars||e).palette.background.paper,color:(e.vars||e).palette.text.primary,transition:e.transitions.create("box-shadow"),variants:[{props:({ownerState:t})=>!t.square,style:{borderRadius:e.shape.borderRadius}},{props:{variant:"outlined"},style:{border:`1px solid ${(e.vars||e).palette.divider}`}},{props:{variant:"elevation"},style:{boxShadow:"var(--Paper-shadow)",backgroundImage:"var(--Paper-overlay)"}}]}))),dv=A.forwardRef(function(t,n){var p;const r=jr({props:t,name:"MuiPaper"}),i=mw(),{className:s,component:o="div",elevation:a=1,square:l=!1,variant:c="elevation",...u}=r,d={...r,component:o,elevation:a,square:l,variant:c},h=jfe(d);return f.jsx(Ofe,{as:o,ownerState:d,className:xt(h.root,s),ref:n,...u,style:{...c==="elevation"&&{"--Paper-shadow":(i.vars||i).shadows[a],...i.vars&&{"--Paper-overlay":(p=i.vars.overlays)==null?void 0:p[a]},...!i.vars&&i.palette.mode==="dark"&&{"--Paper-overlay":`linear-gradient(${Ts("#fff",Wb(a))}, ${Ts("#fff",Wb(a))})`}},...u.style}})});function KN(e){return f.jsxs(Vfe,{...e,children:[f.jsx(YN,{asChild:!0,children:f.jsx(AN,{})}),f.jsx(Lfe,{asChild:!0,children:f.jsx(Q_,{})})]})}const Vfe=an.div`relative transition-[300ms] [&_svg]:w-[15rem] [&_svg]:h-[15rem]`,YN=an.svg`w-[15rem] h-[15rem] transition-[300ms]`,Lfe=an(YN)`absolute top-[1.6rem] left-[3.5rem] z-[100] scale-x-[-1]`;function QN(){const[e,t]=A.useState(!1);return A.useEffect(()=>{const n=setTimeout(()=>{t(!0)},500);return()=>{clearTimeout(n)}},[]),f.jsx(Nfe,{visible:e,children:f.jsx(Bfe,{})})}const Nfe=j("div",{target:"e1ej0ve21"})("transition:500ms;opacity:",e=>e.visible?1:0,";position:fixed;inset:0;display:flex;align-items:center;justify-content:center;"),Bfe=j(KN,{target:"e1ej0ve20"})({name:"1wwm3j4",styles:"transform:translate(-1.75rem, -0.8rem) scale(2);svg{animation:pulse 1.25s infinite;@keyframes pulse{0%{scale:1;}33%{scale:1.05;}66%{scale:1;}100%{scale:1;}}}svg:first-of-type{animation-delay:1s;}"}),JN=A.lazy(()=>ud(()=>import("./SongManagement-W0c_-iDP.js"),[]).then(e=>({default:e.Convert}))),Dfe=e=>f.jsxs(A.Suspense,{fallback:f.jsx(QN,{}),children:[f.jsx(ji,{children:f.jsx("title",{children:"Convert Song | AllKaraoke.Party - Free Online Karaoke Party Game"})}),f.jsx(dv,{elevation:2,sx:{minHeight:"100vh",width:"1260px",margin:"0 auto",paddingTop:"30px"},children:f.jsx(JN,{...e})})]}),$fe=pt(f.jsx("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zM19 4h-3.5l-1-1h-5l-1 1H5v2h14z"}),"Delete");var XN={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(ha,function(){return function(n,r,i){n=n||{};var s=r.prototype,o={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function a(c,u,d,h){return s.fromToBase(c,u,d,h)}i.en.relativeTime=o,s.fromToBase=function(c,u,d,h,p){for(var g,m,b,y=d.$locale().relativeTime||o,v=n.thresholds||[{l:"s",r:44,d:"second"},{l:"m",r:89},{l:"mm",r:44,d:"minute"},{l:"h",r:89},{l:"hh",r:21,d:"hour"},{l:"d",r:35},{l:"dd",r:25,d:"day"},{l:"M",r:45},{l:"MM",r:10,d:"month"},{l:"y",r:17},{l:"yy",d:"year"}],_=v.length,x=0;x<_;x+=1){var S=v[x];S.d&&(g=h?i(c).diff(d,S.d,!0):d.diff(c,S.d,!0));var E=(n.rounding||Math.round)(Math.abs(g));if(b=g>0,E<=S.r||!S.r){E<=1&&x>0&&(S=v[x-1]);var C=y[S.l];p&&(E=p(""+E)),m=typeof C=="string"?C.replace("%d",E):C(E,u,S.l,b);break}}if(u)return m;var k=b?y.future:y.past;return typeof k=="function"?k(m):k.replace("%s",m)},s.to=function(c,u){return a(c,u,this,!0)},s.from=function(c,u){return a(c,u,this)};var l=function(c){return c.$u?i.utc():i()};s.toNow=function(c){return this.to(l(this),c)},s.fromNow=function(c){return this.from(l(this),c)}}})})(XN);var Ffe=XN.exports;const zfe=Ar(Ffe),ZN=1e3,Ufe=e=>e.map(t=>{if(t.notes.length===0)debugger;return{...t,start:t.notes[0].start}}),Hfe=e=>{const t=e.notes.at(-1);return t.start+t.length},Gfe=(e,t=10)=>{let n=0;const r=[];return e.forEach(i=>{i.start-n>t&&(r.push({type:"pause",start:n,end:i.start-t}),n=i.start-t),r.push({...i,start:n}),n=Hfe(i)}),r},fR=(e,t)=>({...e,sections:Gfe(Ufe(e.sections.filter(Pt)),t)});function qfe(e){const t=dd(e),n=Math.round(ZN/t);return{...e,tracks:e.tracks.map(r=>fR(r,n)),mergedTrack:fR(e.mergedTrack,n)}}const Wfe=(e,t)=>e.map((n,r)=>Pt(n)?{...n,start:r===0?0:Math.max(0,n.start+t),notes:n.notes.map(i=>({...i,start:i.start+t}))}:{...n,start:Math.max(0,n.start+t),end:Math.max(0,n.end+t)}),hR=(e,t)=>({...e,sections:Wfe(e.sections,t)});function Kfe(e){const t=dd(e),n=Math.round(ZN/t),r=Math.floor((e.gap-n*t<0?e.gap:n*t)/t),i=e.gap-r*t;return{...e,gap:i,tracks:e.tracks.map(s=>hR(s,r)),mergedTrack:hR(e.mergedTrack,r)}}function eB(e,t){return dd(t)*e}function fv(e){const t=Math.min(...e.tracks.map(n=>"sections"in n?Va(n.sections):n.start));return eB(t,e)+e.gap}function Yfe(e){const t=fv(e);return{...e,videoGap:Math.round(Math.max(0,Math.min(e.videoGap??0,t/1e3-15)))}}const Qfe=(e,t)=>e.map((n,r)=>Pt(n)?{...n,start:r===0?0:Math.max(0,n.start-t),notes:n.notes.map(i=>({...i,start:i.start-t}))}:{...n,start:Math.max(0,n.start-t),end:Math.max(0,n.end-t)}).filter(n=>Pt(n)||n.start-n.end>0),pR=(e,t)=>({...e,sections:Qfe(e.sections,t)});function Jfe(e){const t=dd(e),n=e.tracks.reduce((o,a,l)=>{const c=Va(e.tracks[o].sections),u=Va(a.sections);return c>u?l:o},0),r=e.tracks[n].sections.find(Pt);if(!r)return console.error("There are no notes sections in the song, wat",e.tracks),e;const i=r.start+(r.notes[0].start-r.start),s=Math.floor(e.gap+i*t);return{...e,gap:s,tracks:e.tracks.map(o=>pR(o,i)),mergedTrack:pR(e.mergedTrack,i)}}const Xfe=e=>(e.forEach((t,n)=>{t.lyrics.startsWith(" ")&&(t.lyrics=t.lyrics.trimStart(),n>0&&(e[n-1].lyrics=e[n-1].lyrics.trimEnd()+" ")),n===e.length-1&&(t.lyrics=t.lyrics.trimEnd())}),e),gR=e=>({...e,sections:e.sections.map(t=>Pt(t)?{...t,notes:Xfe(t.notes)}:t)});function Zfe(e){return{...e,tracks:e.tracks.map(gR),mergedTrack:gR(e.mergedTrack)}}const ehe=e=>{let t=Jfe(e);return t=Kfe(t),t=qfe(t),t=Zfe(t),t=Yfe(t),t};function tB(e){const[t,n]=A.useState(null);return A.useEffect(()=>{Pi.get(e).then(r=>n(r&&ehe(r)))},[e]),{data:t}}function the(e){return Rr("MuiButton",e)}const jc=Mr("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","colorPrimary","colorSecondary","colorSuccess","colorError","colorInfo","colorWarning","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","icon","iconSizeSmall","iconSizeMedium","iconSizeLarge"]),nhe=A.createContext({}),rhe=A.createContext(void 0),ihe=e=>{const{color:t,disableElevation:n,fullWidth:r,size:i,variant:s,classes:o}=e,a={root:["root",s,`${s}${lt(t)}`,`size${lt(i)}`,`${s}Size${lt(i)}`,`color${lt(t)}`,n&&"disableElevation",r&&"fullWidth"],label:["label"],startIcon:["icon","startIcon",`iconSize${lt(i)}`],endIcon:["icon","endIcon",`iconSize${lt(i)}`]},l=Wr(a,the,o);return{...o,...l}},nB=[{props:{size:"small"},style:{"& > *:nth-of-type(1)":{fontSize:18}}},{props:{size:"medium"},style:{"& > *:nth-of-type(1)":{fontSize:20}}},{props:{size:"large"},style:{"& > *:nth-of-type(1)":{fontSize:22}}}],she=Zt(LL,{shouldForwardProp:e=>yw(e)||e==="classes",name:"MuiButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],t[`${n.variant}${lt(n.color)}`],t[`size${lt(n.size)}`],t[`${n.variant}Size${lt(n.size)}`],n.color==="inherit"&&t.colorInherit,n.disableElevation&&t.disableElevation,n.fullWidth&&t.fullWidth]}})(cs(({theme:e})=>{const t=e.palette.mode==="light"?e.palette.grey[300]:e.palette.grey[800],n=e.palette.mode==="light"?e.palette.grey.A100:e.palette.grey[700];return{...e.typography.button,minWidth:64,padding:"6px 16px",border:0,borderRadius:(e.vars||e).shape.borderRadius,transition:e.transitions.create(["background-color","box-shadow","border-color","color"],{duration:e.transitions.duration.short}),"&:hover":{textDecoration:"none"},[`&.${jc.disabled}`]:{color:(e.vars||e).palette.action.disabled},variants:[{props:{variant:"contained"},style:{color:"var(--variant-containedColor)",backgroundColor:"var(--variant-containedBg)",boxShadow:(e.vars||e).shadows[2],"&:hover":{boxShadow:(e.vars||e).shadows[4],"@media (hover: none)":{boxShadow:(e.vars||e).shadows[2]}},"&:active":{boxShadow:(e.vars||e).shadows[8]},[`&.${jc.focusVisible}`]:{boxShadow:(e.vars||e).shadows[6]},[`&.${jc.disabled}`]:{color:(e.vars||e).palette.action.disabled,boxShadow:(e.vars||e).shadows[0],backgroundColor:(e.vars||e).palette.action.disabledBackground}}},{props:{variant:"outlined"},style:{padding:"5px 15px",border:"1px solid currentColor",borderColor:"var(--variant-outlinedBorder, currentColor)",backgroundColor:"var(--variant-outlinedBg)",color:"var(--variant-outlinedColor)",[`&.${jc.disabled}`]:{border:`1px solid ${(e.vars||e).palette.action.disabledBackground}`}}},{props:{variant:"text"},style:{padding:"6px 8px",color:"var(--variant-textColor)",backgroundColor:"var(--variant-textBg)"}},...Object.entries(e.palette).filter(ih()).map(([r])=>({props:{color:r},style:{"--variant-textColor":(e.vars||e).palette[r].main,"--variant-outlinedColor":(e.vars||e).palette[r].main,"--variant-outlinedBorder":e.vars?`rgba(${e.vars.palette[r].mainChannel} / 0.5)`:Ts(e.palette[r].main,.5),"--variant-containedColor":(e.vars||e).palette[r].contrastText,"--variant-containedBg":(e.vars||e).palette[r].main,"@media (hover: hover)":{"&:hover":{"--variant-containedBg":(e.vars||e).palette[r].dark,"--variant-textBg":e.vars?`rgba(${e.vars.palette[r].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:Ts(e.palette[r].main,e.palette.action.hoverOpacity),"--variant-outlinedBorder":(e.vars||e).palette[r].main,"--variant-outlinedBg":e.vars?`rgba(${e.vars.palette[r].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:Ts(e.palette[r].main,e.palette.action.hoverOpacity)}}}})),{props:{color:"inherit"},style:{color:"inherit",borderColor:"currentColor","--variant-containedBg":e.vars?e.vars.palette.Button.inheritContainedBg:t,"@media (hover: hover)":{"&:hover":{"--variant-containedBg":e.vars?e.vars.palette.Button.inheritContainedHoverBg:n,"--variant-textBg":e.vars?`rgba(${e.vars.palette.text.primaryChannel} / ${e.vars.palette.action.hoverOpacity})`:Ts(e.palette.text.primary,e.palette.action.hoverOpacity),"--variant-outlinedBg":e.vars?`rgba(${e.vars.palette.text.primaryChannel} / ${e.vars.palette.action.hoverOpacity})`:Ts(e.palette.text.primary,e.palette.action.hoverOpacity)}}}},{props:{size:"small",variant:"text"},style:{padding:"4px 5px",fontSize:e.typography.pxToRem(13)}},{props:{size:"large",variant:"text"},style:{padding:"8px 11px",fontSize:e.typography.pxToRem(15)}},{props:{size:"small",variant:"outlined"},style:{padding:"3px 9px",fontSize:e.typography.pxToRem(13)}},{props:{size:"large",variant:"outlined"},style:{padding:"7px 21px",fontSize:e.typography.pxToRem(15)}},{props:{size:"small",variant:"contained"},style:{padding:"4px 10px",fontSize:e.typography.pxToRem(13)}},{props:{size:"large",variant:"contained"},style:{padding:"8px 22px",fontSize:e.typography.pxToRem(15)}},{props:{disableElevation:!0},style:{boxShadow:"none","&:hover":{boxShadow:"none"},[`&.${jc.focusVisible}`]:{boxShadow:"none"},"&:active":{boxShadow:"none"},[`&.${jc.disabled}`]:{boxShadow:"none"}}},{props:{fullWidth:!0},style:{width:"100%"}}]}})),ohe=Zt("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.startIcon,t[`iconSize${lt(n.size)}`]]}})({display:"inherit",marginRight:8,marginLeft:-4,variants:[{props:{size:"small"},style:{marginLeft:-2}},...nB]}),ahe=Zt("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.endIcon,t[`iconSize${lt(n.size)}`]]}})({display:"inherit",marginRight:-4,marginLeft:8,variants:[{props:{size:"small"},style:{marginRight:-2}},...nB]}),mR=A.forwardRef(function(t,n){const r=A.useContext(nhe),i=A.useContext(rhe),s=Km(r,t),o=jr({props:s,name:"MuiButton"}),{children:a,color:l="primary",component:c="button",className:u,disabled:d=!1,disableElevation:h=!1,disableFocusRipple:p=!1,endIcon:g,focusVisibleClassName:m,fullWidth:b=!1,size:y="medium",startIcon:v,type:_,variant:x="text",...S}=o,E={...o,color:l,component:c,disabled:d,disableElevation:h,disableFocusRipple:p,fullWidth:b,size:y,type:_,variant:x},C=ihe(E),k=v&&f.jsx(ohe,{className:C.startIcon,ownerState:E,children:v}),O=g&&f.jsx(ahe,{className:C.endIcon,ownerState:E,children:g}),w=i||"";return f.jsxs(she,{ownerState:E,className:xt(r.className,C.root,u,w),component:c,disabled:d,focusRipple:!p,focusVisibleClassName:xt(C.focusVisible,m),ref:n,type:_,...S,classes:C,children:[k,a,O]})});function lhe(e){const t=Xl(e);return t.body===e?Wm(e).innerWidth>t.documentElement.clientWidth:e.scrollHeight>e.clientHeight}function Bf(e,t){t?e.setAttribute("aria-hidden","true"):e.removeAttribute("aria-hidden")}function yR(e){return parseInt(Wm(e).getComputedStyle(e).paddingRight,10)||0}function che(e){const n=["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].includes(e.tagName),r=e.tagName==="INPUT"&&e.getAttribute("type")==="hidden";return n||r}function vR(e,t,n,r,i){const s=[t,n,...r];[].forEach.call(e.children,o=>{const a=!s.includes(o),l=!che(o);a&&l&&Bf(o,i)})}function t1(e,t){let n=-1;return e.some((r,i)=>t(r)?(n=i,!0):!1),n}function uhe(e,t){const n=[],r=e.container;if(!t.disableScrollLock){if(lhe(r)){const o=Tee(Wm(r));n.push({value:r.style.paddingRight,property:"padding-right",el:r}),r.style.paddingRight=`${yR(r)+o}px`;const a=Xl(r).querySelectorAll(".mui-fixed");[].forEach.call(a,l=>{n.push({value:l.style.paddingRight,property:"padding-right",el:l}),l.style.paddingRight=`${yR(l)+o}px`})}let s;if(r.parentNode instanceof DocumentFragment)s=Xl(r).body;else{const o=r.parentElement,a=Wm(r);s=(o==null?void 0:o.nodeName)==="HTML"&&a.getComputedStyle(o).overflowY==="scroll"?o:r}n.push({value:s.style.overflow,property:"overflow",el:s},{value:s.style.overflowX,property:"overflow-x",el:s},{value:s.style.overflowY,property:"overflow-y",el:s}),s.style.overflow="hidden"}return()=>{n.forEach(({value:s,el:o,property:a})=>{s?o.style.setProperty(a,s):o.style.removeProperty(a)})}}function dhe(e){const t=[];return[].forEach.call(e.children,n=>{n.getAttribute("aria-hidden")==="true"&&t.push(n)}),t}class fhe{constructor(){this.modals=[],this.containers=[]}add(t,n){let r=this.modals.indexOf(t);if(r!==-1)return r;r=this.modals.length,this.modals.push(t),t.modalRef&&Bf(t.modalRef,!1);const i=dhe(n);vR(n,t.mount,t.modalRef,i,!0);const s=t1(this.containers,o=>o.container===n);return s!==-1?(this.containers[s].modals.push(t),r):(this.containers.push({modals:[t],container:n,restore:null,hiddenSiblings:i}),r)}mount(t,n){const r=t1(this.containers,s=>s.modals.includes(t)),i=this.containers[r];i.restore||(i.restore=uhe(i,n))}remove(t,n=!0){const r=this.modals.indexOf(t);if(r===-1)return r;const i=t1(this.containers,o=>o.modals.includes(t)),s=this.containers[i];if(s.modals.splice(s.modals.indexOf(t),1),this.modals.splice(r,1),s.modals.length===0)s.restore&&s.restore(),t.modalRef&&Bf(t.modalRef,n),vR(s.container,t.mount,t.modalRef,s.hiddenSiblings,!1),this.containers.splice(i,1);else{const o=s.modals[s.modals.length-1];o.modalRef&&Bf(o.modalRef,!1)}return r}isTopModal(t){return this.modals.length>0&&this.modals[this.modals.length-1]===t}}const hhe=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function phe(e){const t=parseInt(e.getAttribute("tabindex")||"",10);return Number.isNaN(t)?e.contentEditable==="true"||(e.nodeName==="AUDIO"||e.nodeName==="VIDEO"||e.nodeName==="DETAILS")&&e.getAttribute("tabindex")===null?0:e.tabIndex:t}function ghe(e){if(e.tagName!=="INPUT"||e.type!=="radio"||!e.name)return!1;const t=r=>e.ownerDocument.querySelector(`input[type="radio"]${r}`);let n=t(`[name="${e.name}"]:checked`);return n||(n=t(`[name="${e.name}"]`)),n!==e}function mhe(e){return!(e.disabled||e.tagName==="INPUT"&&e.type==="hidden"||ghe(e))}function yhe(e){const t=[],n=[];return Array.from(e.querySelectorAll(hhe)).forEach((r,i)=>{const s=phe(r);s===-1||!mhe(r)||(s===0?t.push(r):n.push({documentOrder:i,tabIndex:s,node:r}))}),n.sort((r,i)=>r.tabIndex===i.tabIndex?r.documentOrder-i.documentOrder:r.tabIndex-i.tabIndex).map(r=>r.node).concat(t)}function vhe(){return!0}function Ahe(e){const{children:t,disableAutoFocus:n=!1,disableEnforceFocus:r=!1,disableRestoreFocus:i=!1,getTabbable:s=yhe,isEnabled:o=vhe,open:a}=e,l=A.useRef(!1),c=A.useRef(null),u=A.useRef(null),d=A.useRef(null),h=A.useRef(null),p=A.useRef(!1),g=A.useRef(null),m=Na(tw(t),g),b=A.useRef(null);A.useEffect(()=>{!a||!g.current||(p.current=!n)},[n,a]),A.useEffect(()=>{if(!a||!g.current)return;const _=Xl(g.current);return g.current.contains(_.activeElement)||(g.current.hasAttribute("tabIndex")||g.current.setAttribute("tabIndex","-1"),p.current&&g.current.focus()),()=>{i||(d.current&&d.current.focus&&(l.current=!0,d.current.focus()),d.current=null)}},[a]),A.useEffect(()=>{if(!a||!g.current)return;const _=Xl(g.current),x=C=>{b.current=C,!(r||!o()||C.key!=="Tab")&&_.activeElement===g.current&&C.shiftKey&&(l.current=!0,u.current&&u.current.focus())},S=()=>{var O,w;const C=g.current;if(C===null)return;if(!_.hasFocus()||!o()||l.current){l.current=!1;return}if(C.contains(_.activeElement)||r&&_.activeElement!==c.current&&_.activeElement!==u.current)return;if(_.activeElement!==h.current)h.current=null;else if(h.current!==null)return;if(!p.current)return;let k=[];if((_.activeElement===c.current||_.activeElement===u.current)&&(k=s(g.current)),k.length>0){const M=!!((O=b.current)!=null&&O.shiftKey&&((w=b.current)==null?void 0:w.key)==="Tab"),N=k[0],R=k[k.length-1];typeof N!="string"&&typeof R!="string"&&(M?R.focus():N.focus())}else C.focus()};_.addEventListener("focusin",S),_.addEventListener("keydown",x,!0);const E=setInterval(()=>{_.activeElement&&_.activeElement.tagName==="BODY"&&S()},50);return()=>{clearInterval(E),_.removeEventListener("focusin",S),_.removeEventListener("keydown",x,!0)}},[n,r,i,o,a,s]);const y=_=>{d.current===null&&(d.current=_.relatedTarget),p.current=!0,h.current=_.target;const x=t.props.onFocus;x&&x(_)},v=_=>{d.current===null&&(d.current=_.relatedTarget),p.current=!0};return f.jsxs(A.Fragment,{children:[f.jsx("div",{tabIndex:a?0:-1,onFocus:v,ref:c,"data-testid":"sentinelStart"}),A.cloneElement(t,{ref:m,onFocus:y}),f.jsx("div",{tabIndex:a?0:-1,onFocus:v,ref:u,"data-testid":"sentinelEnd"})]})}function bhe(e){return typeof e=="function"?e():e}const _he=A.forwardRef(function(t,n){const{children:r,container:i,disablePortal:s=!1}=t,[o,a]=A.useState(null),l=Na(A.isValidElement(r)?tw(r):null,n);if(Ub(()=>{s||a(bhe(i)||document.body)},[i,s]),Ub(()=>{if(o&&!s)return zb(n,o),()=>{zb(n,null)}},[n,o,s]),s){if(A.isValidElement(r)){const c={ref:l};return A.cloneElement(r,c)}return f.jsx(A.Fragment,{children:r})}return f.jsx(A.Fragment,{children:o&&vc.createPortal(r,o)})});function j0(e,t){const{className:n,elementType:r,ownerState:i,externalForwardedProps:s,getSlotOwnerState:o,internalForwardedProps:a,...l}=t,{component:c,slots:u={[e]:void 0},slotProps:d={[e]:void 0},...h}=s,p=u[e]||r,g=Lee(d[e],i),{props:{component:m,...b},internalRef:y}=Vee({className:n,...l,externalForwardedProps:e==="root"?h:void 0,externalSlotProps:g}),v=Na(y,g==null?void 0:g.ref,t.ref),_=o?o(b):{},x={...i,..._},S=e==="root"?m||c:m,E=Oee(p,{...e==="root"&&!c&&!u[e]&&a,...e!=="root"&&!u[e]&&a,...b,...S&&{as:S},ref:v},x);return Object.keys(_).forEach(C=>{delete E[C]}),[p,E]}const She=e=>e.scrollTop;function AR(e,t){const{timeout:n,easing:r,style:i={}}=e;return{duration:i.transitionDuration??(typeof n=="number"?n:n[t.mode]||0),easing:i.transitionTimingFunction??(typeof r=="object"?r[t.mode]:r),delay:i.transitionDelay}}const xhe={entering:{opacity:1},entered:{opacity:1}},rB=A.forwardRef(function(t,n){const r=mw(),i={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},{addEndListener:s,appear:o=!0,children:a,easing:l,in:c,onEnter:u,onEntered:d,onEntering:h,onExit:p,onExited:g,onExiting:m,style:b,timeout:y=i,TransitionComponent:v=Qo,..._}=t,x=A.useRef(null),S=Na(x,tw(a),n),E=V=>P=>{if(V){const T=x.current;P===void 0?V(T):V(T,P)}},C=E(h),k=E((V,P)=>{She(V);const T=AR({style:b,timeout:y,easing:l},{mode:"enter"});V.style.webkitTransition=r.transitions.create("opacity",T),V.style.transition=r.transitions.create("opacity",T),u&&u(V,P)}),O=E(d),w=E(m),M=E(V=>{const P=AR({style:b,timeout:y,easing:l},{mode:"exit"});V.style.webkitTransition=r.transitions.create("opacity",P),V.style.transition=r.transitions.create("opacity",P),p&&p(V)}),N=E(g),R=V=>{s&&s(x.current,V)};return f.jsx(v,{appear:o,in:c,nodeRef:x,onEnter:k,onEntered:O,onEntering:C,onExit:M,onExited:N,onExiting:w,addEndListener:R,timeout:y,..._,children:(V,P)=>A.cloneElement(a,{style:{opacity:0,visibility:V==="exited"&&!c?"hidden":void 0,...xhe[V],...b,...a.props.style},ref:S,...P})})});function whe(e){return Rr("MuiBackdrop",e)}Mr("MuiBackdrop",["root","invisible"]);const Ehe=e=>{const{ownerState:t,...n}=e;return n},Che=e=>{const{classes:t,invisible:n}=e;return Wr({root:["root",n&&"invisible"]},whe,t)},khe=Zt("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.invisible&&t.invisible]}})({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent",variants:[{props:{invisible:!0},style:{backgroundColor:"transparent"}}]}),iB=A.forwardRef(function(t,n){const r=jr({props:t,name:"MuiBackdrop"}),{children:i,className:s,component:o="div",invisible:a=!1,open:l,components:c={},componentsProps:u={},slotProps:d={},slots:h={},TransitionComponent:p,transitionDuration:g,...m}=r,b={...r,component:o,invisible:a},y=Che(b),v={transition:p,root:c.Root,...h},_={...u,...d},x={slots:v,slotProps:_},[S,E]=j0("root",{elementType:khe,externalForwardedProps:x,className:xt(y.root,s),ownerState:b}),[C,k]=j0("transition",{elementType:rB,externalForwardedProps:x,ownerState:b}),O=Ehe(k);return f.jsx(C,{in:l,timeout:g,...m,...O,children:f.jsx(S,{"aria-hidden":!0,...E,classes:y,ref:n,children:i})})});function The(e){return typeof e=="function"?e():e}function Ihe(e){return e?e.props.hasOwnProperty("in"):!1}const fg=new fhe;function Phe(e){const{container:t,disableEscapeKeyDown:n=!1,disableScrollLock:r=!1,closeAfterTransition:i=!1,onTransitionEnter:s,onTransitionExited:o,children:a,onClose:l,open:c,rootRef:u}=e,d=A.useRef({}),h=A.useRef(null),p=A.useRef(null),g=Na(p,u),[m,b]=A.useState(!c),y=Ihe(a);let v=!0;(e["aria-hidden"]==="false"||e["aria-hidden"]===!1)&&(v=!1);const _=()=>Xl(h.current),x=()=>(d.current.modalRef=p.current,d.current.mount=h.current,d.current),S=()=>{fg.mount(x(),{disableScrollLock:r}),p.current&&(p.current.scrollTop=0)},E=Gc(()=>{const P=The(t)||_().body;fg.add(x(),P),p.current&&S()}),C=()=>fg.isTopModal(x()),k=Gc(P=>{h.current=P,P&&(c&&C()?S():p.current&&Bf(p.current,v))}),O=A.useCallback(()=>{fg.remove(x(),v)},[v]);A.useEffect(()=>()=>{O()},[O]),A.useEffect(()=>{c?E():(!y||!i)&&O()},[c,O,y,i,E]);const w=P=>T=>{var z;(z=P.onKeyDown)==null||z.call(P,T),!(T.key!=="Escape"||T.which===229||!C())&&(n||(T.stopPropagation(),l&&l(T,"escapeKeyDown")))},M=P=>T=>{var z;(z=P.onClick)==null||z.call(P,T),T.target===T.currentTarget&&l&&l(T,"backdropClick")};return{getRootProps:(P={})=>{const T=cV(e);delete T.onTransitionEnter,delete T.onTransitionExited;const z={...T,...P};return{role:"presentation",...z,onKeyDown:w(z),ref:g}},getBackdropProps:(P={})=>{const T=P;return{"aria-hidden":!0,...T,onClick:M(T),open:c}},getTransitionProps:()=>{const P=()=>{b(!1),s&&s()},T=()=>{b(!0),o&&o(),i&&O()};return{onEnter:GT(P,a==null?void 0:a.props.onEnter),onExited:GT(T,a==null?void 0:a.props.onExited)}},rootRef:g,portalRef:k,isTopModal:C,exited:m,hasTransition:y}}function Rhe(e){return Rr("MuiModal",e)}Mr("MuiModal",["root","hidden","backdrop"]);const Mhe=e=>{const{open:t,exited:n,classes:r}=e;return Wr({root:["root",!t&&n&&"hidden"],backdrop:["backdrop"]},Rhe,r)},jhe=Zt("div",{name:"MuiModal",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,!n.open&&n.exited&&t.hidden]}})(cs(({theme:e})=>({position:"fixed",zIndex:(e.vars||e).zIndex.modal,right:0,bottom:0,top:0,left:0,variants:[{props:({ownerState:t})=>!t.open&&t.exited,style:{visibility:"hidden"}}]}))),Ohe=Zt(iB,{name:"MuiModal",slot:"Backdrop",overridesResolver:(e,t)=>t.backdrop})({zIndex:-1}),Vhe=A.forwardRef(function(t,n){const r=jr({name:"MuiModal",props:t}),{BackdropComponent:i=Ohe,BackdropProps:s,classes:o,className:a,closeAfterTransition:l=!1,children:c,container:u,component:d,components:h={},componentsProps:p={},disableAutoFocus:g=!1,disableEnforceFocus:m=!1,disableEscapeKeyDown:b=!1,disablePortal:y=!1,disableRestoreFocus:v=!1,disableScrollLock:_=!1,hideBackdrop:x=!1,keepMounted:S=!1,onBackdropClick:E,onClose:C,onTransitionEnter:k,onTransitionExited:O,open:w,slotProps:M={},slots:N={},theme:R,...V}=r,P={...r,closeAfterTransition:l,disableAutoFocus:g,disableEnforceFocus:m,disableEscapeKeyDown:b,disablePortal:y,disableRestoreFocus:v,disableScrollLock:_,hideBackdrop:x,keepMounted:S},{getRootProps:T,getBackdropProps:z,getTransitionProps:B,portalRef:D,isTopModal:F,exited:G,hasTransition:U}=Phe({...P,rootRef:n}),ne={...P,exited:G},$=Mhe(ne),fe={};if(c.props.tabIndex===void 0&&(fe.tabIndex="-1"),U){const{onEnter:Ve,onExited:Ne}=B();fe.onEnter=Ve,fe.onExited=Ne}const Z={...V,slots:{root:h.Root,backdrop:h.Backdrop,...N},slotProps:{...p,...M}},[oe,Re]=j0("root",{elementType:jhe,externalForwardedProps:Z,getSlotProps:T,additionalProps:{ref:n,as:d},ownerState:ne,className:xt(a,$==null?void 0:$.root,!ne.open&&ne.exited&&($==null?void 0:$.hidden))}),[Ee,ae]=j0("backdrop",{elementType:i,externalForwardedProps:Z,additionalProps:s,getSlotProps:Ve=>z({...Ve,onClick:Ne=>{E&&E(Ne),Ve!=null&&Ve.onClick&&Ve.onClick(Ne)}}),className:xt(s==null?void 0:s.className,$==null?void 0:$.backdrop),ownerState:ne}),be=Na(s==null?void 0:s.ref,ae.ref);return!S&&!w&&(!U||G)?null:f.jsx(_he,{ref:D,container:u,disablePortal:y,children:f.jsxs(oe,{...Re,children:[!x&&i?f.jsx(Ee,{...ae,ref:be}):null,f.jsx(Ahe,{disableEnforceFocus:m,disableAutoFocus:g,disableRestoreFocus:v,isEnabled:F,open:w,children:A.cloneElement(c,fe)})]})})});function Lhe(e){return Rr("MuiDialog",e)}const n1=Mr("MuiDialog",["root","scrollPaper","scrollBody","container","paper","paperScrollPaper","paperScrollBody","paperWidthFalse","paperWidthXs","paperWidthSm","paperWidthMd","paperWidthLg","paperWidthXl","paperFullWidth","paperFullScreen"]),sB=A.createContext({}),Nhe=Zt(iB,{name:"MuiDialog",slot:"Backdrop",overrides:(e,t)=>t.backdrop})({zIndex:-1}),Bhe=e=>{const{classes:t,scroll:n,maxWidth:r,fullWidth:i,fullScreen:s}=e,o={root:["root"],container:["container",`scroll${lt(n)}`],paper:["paper",`paperScroll${lt(n)}`,`paperWidth${lt(String(r))}`,i&&"paperFullWidth",s&&"paperFullScreen"]};return Wr(o,Lhe,t)},Dhe=Zt(Vhe,{name:"MuiDialog",slot:"Root",overridesResolver:(e,t)=>t.root})({"@media print":{position:"absolute !important"}}),$he=Zt("div",{name:"MuiDialog",slot:"Container",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.container,t[`scroll${lt(n.scroll)}`]]}})({height:"100%","@media print":{height:"auto"},outline:0,variants:[{props:{scroll:"paper"},style:{display:"flex",justifyContent:"center",alignItems:"center"}},{props:{scroll:"body"},style:{overflowY:"auto",overflowX:"hidden",textAlign:"center","&::after":{content:'""',display:"inline-block",verticalAlign:"middle",height:"100%",width:"0"}}}]}),Fhe=Zt(dv,{name:"MuiDialog",slot:"Paper",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.paper,t[`scrollPaper${lt(n.scroll)}`],t[`paperWidth${lt(String(n.maxWidth))}`],n.fullWidth&&t.paperFullWidth,n.fullScreen&&t.paperFullScreen]}})(cs(({theme:e})=>({margin:32,position:"relative",overflowY:"auto","@media print":{overflowY:"visible",boxShadow:"none"},variants:[{props:{scroll:"paper"},style:{display:"flex",flexDirection:"column",maxHeight:"calc(100% - 64px)"}},{props:{scroll:"body"},style:{display:"inline-block",verticalAlign:"middle",textAlign:"initial"}},{props:({ownerState:t})=>!t.maxWidth,style:{maxWidth:"calc(100% - 64px)"}},{props:{maxWidth:"xs"},style:{maxWidth:e.breakpoints.unit==="px"?Math.max(e.breakpoints.values.xs,444):`max(${e.breakpoints.values.xs}${e.breakpoints.unit}, 444px)`,[`&.${n1.paperScrollBody}`]:{[e.breakpoints.down(Math.max(e.breakpoints.values.xs,444)+32*2)]:{maxWidth:"calc(100% - 64px)"}}}},...Object.keys(e.breakpoints.values).filter(t=>t!=="xs").map(t=>({props:{maxWidth:t},style:{maxWidth:`${e.breakpoints.values[t]}${e.breakpoints.unit}`,[`&.${n1.paperScrollBody}`]:{[e.breakpoints.down(e.breakpoints.values[t]+32*2)]:{maxWidth:"calc(100% - 64px)"}}}})),{props:({ownerState:t})=>t.fullWidth,style:{width:"calc(100% - 64px)"}},{props:({ownerState:t})=>t.fullScreen,style:{margin:0,width:"100%",maxWidth:"100%",height:"100%",maxHeight:"none",borderRadius:0,[`&.${n1.paperScrollBody}`]:{margin:0,maxWidth:"100%"}}}]}))),zhe=A.forwardRef(function(t,n){const r=jr({props:t,name:"MuiDialog"}),i=mw(),s={enter:i.transitions.duration.enteringScreen,exit:i.transitions.duration.leavingScreen},{"aria-describedby":o,"aria-labelledby":a,"aria-modal":l=!0,BackdropComponent:c,BackdropProps:u,children:d,className:h,disableEscapeKeyDown:p=!1,fullScreen:g=!1,fullWidth:m=!1,maxWidth:b="sm",onBackdropClick:y,onClick:v,onClose:_,open:x,PaperComponent:S=dv,PaperProps:E={},scroll:C="paper",TransitionComponent:k=rB,transitionDuration:O=s,TransitionProps:w,...M}=r,N={...r,disableEscapeKeyDown:p,fullScreen:g,fullWidth:m,maxWidth:b,scroll:C},R=Bhe(N),V=A.useRef(),P=D=>{V.current=D.target===D.currentTarget},T=D=>{v&&v(D),V.current&&(V.current=null,y&&y(D),_&&_(D,"backdropClick"))},z=wee(a),B=A.useMemo(()=>({titleId:z}),[z]);return f.jsx(Dhe,{className:xt(R.root,h),closeAfterTransition:!0,components:{Backdrop:Nhe},componentsProps:{backdrop:{transitionDuration:O,as:c,...u}},disableEscapeKeyDown:p,onClose:_,open:x,ref:n,onClick:T,ownerState:N,...M,children:f.jsx(k,{appear:!0,in:x,timeout:O,role:"presentation",...w,children:f.jsx($he,{className:xt(R.container),onMouseDown:P,ownerState:N,children:f.jsx(Fhe,{as:S,elevation:24,role:"dialog","aria-describedby":o,"aria-labelledby":z,"aria-modal":l,...E,className:xt(R.paper,E.className),ownerState:N,children:f.jsx(sB.Provider,{value:B,children:d})})})})})});function Uhe(e){return Rr("MuiDialogActions",e)}Mr("MuiDialogActions",["root","spacing"]);const Hhe=e=>{const{classes:t,disableSpacing:n}=e;return Wr({root:["root",!n&&"spacing"]},Uhe,t)},Ghe=Zt("div",{name:"MuiDialogActions",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,!n.disableSpacing&&t.spacing]}})({display:"flex",alignItems:"center",padding:8,justifyContent:"flex-end",flex:"0 0 auto",variants:[{props:({ownerState:e})=>!e.disableSpacing,style:{"& > :not(style) ~ :not(style)":{marginLeft:8}}}]}),qhe=A.forwardRef(function(t,n){const r=jr({props:t,name:"MuiDialogActions"}),{className:i,disableSpacing:s=!1,...o}=r,a={...r,disableSpacing:s},l=Hhe(a);return f.jsx(Ghe,{className:xt(l.root,i),ownerState:a,ref:n,...o})});function Whe(e){return Rr("MuiDialogContent",e)}Mr("MuiDialogContent",["root","dividers"]);function Khe(e){return Rr("MuiDialogTitle",e)}const Yhe=Mr("MuiDialogTitle",["root"]),Qhe=e=>{const{classes:t,dividers:n}=e;return Wr({root:["root",n&&"dividers"]},Whe,t)},Jhe=Zt("div",{name:"MuiDialogContent",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.dividers&&t.dividers]}})(cs(({theme:e})=>({flex:"1 1 auto",WebkitOverflowScrolling:"touch",overflowY:"auto",padding:"20px 24px",variants:[{props:({ownerState:t})=>t.dividers,style:{padding:"16px 24px",borderTop:`1px solid ${(e.vars||e).palette.divider}`,borderBottom:`1px solid ${(e.vars||e).palette.divider}`}},{props:({ownerState:t})=>!t.dividers,style:{[`.${Yhe.root} + &`]:{paddingTop:0}}}]}))),Xhe=A.forwardRef(function(t,n){const r=jr({props:t,name:"MuiDialogContent"}),{className:i,dividers:s=!1,...o}=r,a={...r,dividers:s},l=Qhe(a);return f.jsx(Jhe,{className:xt(l.root,i),ownerState:a,ref:n,...o})});function Zhe(e){return Rr("MuiTypography",e)}const dbe=Mr("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]),epe={primary:!0,secondary:!0,error:!0,info:!0,success:!0,warning:!0,textPrimary:!0,textSecondary:!0,textDisabled:!0},tpe=Jne(),npe=e=>{const{align:t,gutterBottom:n,noWrap:r,paragraph:i,variant:s,classes:o}=e,a={root:["root",s,e.align!=="inherit"&&`align${lt(t)}`,n&&"gutterBottom",r&&"noWrap",i&&"paragraph"]};return Wr(a,Zhe,o)},rpe=Zt("span",{name:"MuiTypography",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.variant&&t[n.variant],n.align!=="inherit"&&t[`align${lt(n.align)}`],n.noWrap&&t.noWrap,n.gutterBottom&&t.gutterBottom,n.paragraph&&t.paragraph]}})(cs(({theme:e})=>{var t;return{margin:0,variants:[{props:{variant:"inherit"},style:{font:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}},...Object.entries(e.typography).filter(([n,r])=>n!=="inherit"&&r&&typeof r=="object").map(([n,r])=>({props:{variant:n},style:r})),...Object.entries(e.palette).filter(ih()).map(([n])=>({props:{color:n},style:{color:(e.vars||e).palette[n].main}})),...Object.entries(((t=e.palette)==null?void 0:t.text)||{}).filter(([,n])=>typeof n=="string").map(([n])=>({props:{color:`text${lt(n)}`},style:{color:(e.vars||e).palette.text[n]}})),{props:({ownerState:n})=>n.align!=="inherit",style:{textAlign:"var(--Typography-textAlign)"}},{props:({ownerState:n})=>n.noWrap,style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}},{props:({ownerState:n})=>n.gutterBottom,style:{marginBottom:"0.35em"}},{props:({ownerState:n})=>n.paragraph,style:{marginBottom:16}}]}})),bR={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},oB=A.forwardRef(function(t,n){const{color:r,...i}=jr({props:t,name:"MuiTypography"}),s=!epe[r],o=tpe({...i,...s&&{color:r}}),{align:a="inherit",className:l,component:c,gutterBottom:u=!1,noWrap:d=!1,paragraph:h=!1,variant:p="body1",variantMapping:g=bR,...m}=o,b={...o,align:a,color:r,className:l,component:c,gutterBottom:u,noWrap:d,paragraph:h,variant:p,variantMapping:g},y=c||(h?"p":g[p]||bR[p])||"span",v=npe(b);return f.jsx(rpe,{as:y,ref:n,className:xt(v.root,l),...m,ownerState:b,style:{...a!=="inherit"&&{"--Typography-textAlign":a},...m.style}})});function ipe(e){return Rr("MuiDialogContentText",e)}Mr("MuiDialogContentText",["root"]);const spe=e=>{const{classes:t}=e,r=Wr({root:["root"]},ipe,t);return{...t,...r}},ope=Zt(oB,{shouldForwardProp:e=>yw(e)||e==="classes",name:"MuiDialogContentText",slot:"Root",overridesResolver:(e,t)=>t.root})({}),ape=A.forwardRef(function(t,n){const r=jr({props:t,name:"MuiDialogContentText"}),{children:i,className:s,...o}=r,a=spe(o);return f.jsx(ope,{component:"p",variant:"body1",color:"textSecondary",ref:n,ownerState:o,className:xt(a.root,s),...r,classes:a})}),lpe=e=>{const{classes:t}=e;return Wr({root:["root"]},Khe,t)},cpe=Zt(oB,{name:"MuiDialogTitle",slot:"Root",overridesResolver:(e,t)=>t.root})({padding:"16px 24px",flex:"0 0 auto"}),upe=A.forwardRef(function(t,n){const r=jr({props:t,name:"MuiDialogTitle"}),{className:i,id:s,...o}=r,a=r,l=lpe(a),{titleId:c=s}=A.useContext(sB);return f.jsx(cpe,{component:"h2",className:xt(l.root,i),ownerState:a,ref:n,variant:"h6",id:s??c,...o})});function vn(e,t){if(t!==void 0)return`#${e}:${typeof t=="number"?t.toString(10).replace(".",","):Array.isArray(t)?t.join(", "):t}`}const _R=e=>e.map(t=>`${yW[t.type]} ${t.start} ${t.length} ${t.pitch} ${t.lyrics}`).join(`
`),SR=e=>e.split(":")[0];function dpe(e){const t={artist:vn("ARTIST",e.artist),title:vn("TITLE",e.title),author:vn("CREATOR",e.author),bpm:vn("BPM",e.bpm),year:vn("YEAR",e.year),previewStart:vn("PREVIEWSTART",e.previewStart),video:vn("VIDEO",`v=${e.video}`),videoGap:vn("VIDEOGAP",e.videoGap),genre:vn("GENRE",e.genre),language:vn("LANGUAGE",e.language),gap:vn("GAP",e.gap),edition:vn("EDITION",e.edition),id:vn("ALLKARAOKE_ID",e.id),lastUpdate:vn("ALLKARAOKE_LASTUPDATE",e.lastUpdate),artistOrigin:vn("ALLKARAOKE_ARTISTORIGIN",e.artistOrigin),authorUrl:vn("ALLKARAOKE_CREATORURL",e.authorUrl),realBpm:vn("ALLKARAOKE_REALBPM",e.realBpm),sourceUrl:vn("ALLKARAOKE_SOURCEURL",e.sourceUrl),previewEnd:vn("ALLKARAOKE_PREVIEWEND",e.previewEnd),volume:vn("ALLKARAOKE_VOLUME",e.volume)},n=e.tracks.map(a=>a.name??null),r=[];e.tracks.map(a=>a.sections).forEach(([a,...l])=>{r.push(Pt(a)?_R(a.notes):`- ${a.start} ${a.end}`),l.forEach(c=>r.push(Pt(c)?`- ${c.start}
${_R(c.notes)}`:`- ${c.start} ${c.end}`))});const i=Object.values(t).concat(n[0]?vn("P1",n[0]):void 0).concat(n[1]?vn("P2",n[1]):void 0).filter(Eb),s=i.map(SR),o=(e.unsupportedProps??[]).filter(a=>!s.includes(SR(a)));return i.concat(...o).concat(r).concat("E").filter(Eb).join(`
`)}const aB="share-songs",lB=Xa(aB),fpe=async e=>{try{if(!Le.getItem(aB))return;const n=await Pi.get(e);n&&On.capture("share-song",{song:dpe(n),isBuiltIn:Pi.isBuiltIn(e)})}catch(t){console.error(t),Ns(t)}};function fbe(e){const[t,n]=lB(null),[r,i]=A.useState(!!e.id&&t===null),s=()=>{i(!1)},o=a=>{n(a),a&&e.id&&fpe(e.id),s()};return f.jsxs(zhe,{open:r,onClose:()=>i(!1),fullWidth:!0,children:[f.jsx(upe,{children:"Share songs?"}),f.jsx(Xhe,{children:f.jsx(ape,{children:f.jsxs("p",{children:["Can you share songs you add? This would help tremendously as I will be able to add it for everyone to play ",f.jsx("br",{}),f.jsx("br",{}),"Shared songs appear for other players with a couple of days of delay."]})})}),f.jsxs(qhe,{children:[f.jsx(mR,{onClick:()=>o(!1),"data-test":"share-songs-disagree",children:"Disagree"}),f.jsx(mR,{onClick:()=>o(!0),autoFocus:!0,variant:"contained","data-test":"share-songs-agree",children:"Agree"})]})]})}Rs.extend(zfe);function hpe(){const{data:e}=Ad(!0),[t]=lB(null),n=jy("song");el(!1);const r=tB(n??"");return r.data?f.jsxs(dv,{elevation:2,sx:{minHeight:"100vh",width:"1260px",margin:"0 auto",paddingTop:"30px"},children:[f.jsx(ji,{children:f.jsx("title",{children:"Edit Song | AllKaraoke.Party - Free Online Karaoke Party Game"})}),f.jsxs(ppe,{children:[f.jsx(bE,{to:"edit/list/",children:f.jsx("a",{children:"Return to the song list"})}),f.jsxs("span",{children:["Editing:"," ",f.jsxs("b",{children:[r.data.artist," - ",r.data.title]}),r.data.local&&f.jsx(rv,{title:"Delete the song",onClick:async()=>{global.confirm("Are you sure you want to delete this song?")&&(await Pi.deleteSong(r.data.id),t&&e.some(s=>s.id===r.data.id)&&On.capture("unshare-song",{songId:r.data.id}))},"data-test":"delete-song",children:f.jsx($fe,{})})]}),f.jsxs("abbr",{title:r.data.lastUpdate,children:["Last updated: ",f.jsx("b",{children:r.data.lastUpdate?Rs(r.data.lastUpdate).fromNow():"-"})]})]}),f.jsx(JN,{song:r.data})]}):f.jsx(f.Fragment,{children:"Loading"})}const ppe=j("div",{target:"e104ojv10"})({name:"12zd36v",styles:"display:flex;justify-content:space-between;align-items:center;margin-bottom:20px;padding:0 8px"});var gpe=Math.floor,mpe=Math.random;function ype(e,t){return e+gpe(mpe()*(t-e+1))}function cB(e,t){var n=-1,r=e.length,i=r-1;for(t=t===void 0?r:t;++n<t;){var s=ype(n,i),o=e[s];e[s]=e[n],e[n]=o}return e.length=t,e}function vpe(e){return cB(PO(e))}function Ape(e,t){return Lx(t,function(n){return e[n]})}function bpe(e){return e==null?[]:Ape(e,Hh(e))}function _pe(e){return cB(bpe(e))}function Spe(e){var t=ls(e)?vpe:_pe;return t(e)}var wM;const uB=!((wM=document.getElementById("root"))!=null&&wM.hasChildNodes());function VE(e){return uB?null:e.children}function zr(e){const t=fi(),n=r=>{e.onClick?e.onClick(r):(r.preventDefault(),t(e.to))};return f.jsx(bE,{...e,onClick:n})}const Dc=e=>new Promise(t=>setTimeout(t,e));function xpe(e,t){A.useEffect(()=>{var n,r;(r=(n=e.current)==null?void 0:n.getInternalPlayer())==null||r.setVolume(Math.round((t??.5)*100))},[e,t])}var wpe=function e(t,n){if(t===n)return!0;if(t&&n&&typeof t=="object"&&typeof n=="object"){if(t.constructor!==n.constructor)return!1;var r,i,s;if(Array.isArray(t)){if(r=t.length,r!=n.length)return!1;for(i=r;i--!==0;)if(!e(t[i],n[i]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if(s=Object.keys(t),r=s.length,r!==Object.keys(n).length)return!1;for(i=r;i--!==0;)if(!Object.prototype.hasOwnProperty.call(n,s[i]))return!1;for(i=r;i--!==0;){var o=s[i];if(!e(t[o],n[o]))return!1}return!0}return t!==t&&n!==n};const Epe=Ar(wpe);var aS={exports:{}},dB;/**
* @link https://github.com/gajus/sister for the canonical source repository
* @license https://github.com/gajus/sister/blob/master/LICENSE BSD 3-Clause
*/dB=function(){var e={},t={};return e.on=function(n,r){var i={name:n,handler:r};return t[n]=t[n]||[],t[n].unshift(i),i},e.off=function(n){var r=t[n.name].indexOf(n);r!==-1&&t[n.name].splice(r,1)},e.trigger=function(n,r){var i=t[n],s;if(i)for(s=i.length;s--;)i[s].handler(r)},e};var Cpe=dB,lS={exports:{}},kpe=function(t,n,r){var i=document.head||document.getElementsByTagName("head")[0],s=document.createElement("script");typeof n=="function"&&(r=n,n={}),n=n||{},r=r||function(){},s.type=n.type||"text/javascript",s.charset=n.charset||"utf8",s.async="async"in n?!!n.async:!0,s.src=t,n.attrs&&Tpe(s,n.attrs),n.text&&(s.text=""+n.text);var o="onload"in s?xR:Ipe;o(s,r),s.onload||xR(s,r),i.appendChild(s)};function Tpe(e,t){for(var n in t)e.setAttribute(n,t[n])}function xR(e,t){e.onload=function(){this.onerror=this.onload=null,t(null,e)},e.onerror=function(){this.onerror=this.onload=null,t(new Error("Failed to load "+this.src),e)}}function Ipe(e,t){e.onreadystatechange=function(){this.readyState!="complete"&&this.readyState!="loaded"||(this.onreadystatechange=null,t(null,e))}}(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=kpe,r=i(n);function i(s){return s&&s.__esModule?s:{default:s}}t.default=function(s){var o=new Promise(function(a){if(window.YT&&window.YT.Player&&window.YT.Player instanceof Function){a(window.YT);return}else{var l=window.location.protocol==="http:"?"http:":"https:";(0,r.default)(l+"//www.youtube.com/iframe_api",function(u){u&&s.trigger("error",u)})}var c=window.onYouTubeIframeAPIReady;window.onYouTubeIframeAPIReady=function(){c&&c(),a(window.YT)}});return o},e.exports=t.default})(lS,lS.exports);var Ppe=lS.exports,cS={exports:{}},uS={exports:{}},dS={exports:{}},kh=1e3,Th=kh*60,Ih=Th*60,Ph=Ih*24,Rpe=Ph*365.25,Mpe=function(e,t){t=t||{};var n=typeof e;if(n==="string"&&e.length>0)return jpe(e);if(n==="number"&&isNaN(e)===!1)return t.long?Vpe(e):Ope(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))};function jpe(e){if(e=String(e),!(e.length>100)){var t=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(t){var n=parseFloat(t[1]),r=(t[2]||"ms").toLowerCase();switch(r){case"years":case"year":case"yrs":case"yr":case"y":return n*Rpe;case"days":case"day":case"d":return n*Ph;case"hours":case"hour":case"hrs":case"hr":case"h":return n*Ih;case"minutes":case"minute":case"mins":case"min":case"m":return n*Th;case"seconds":case"second":case"secs":case"sec":case"s":return n*kh;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return n;default:return}}}}function Ope(e){return e>=Ph?Math.round(e/Ph)+"d":e>=Ih?Math.round(e/Ih)+"h":e>=Th?Math.round(e/Th)+"m":e>=kh?Math.round(e/kh)+"s":e+"ms"}function Vpe(e){return hg(e,Ph,"day")||hg(e,Ih,"hour")||hg(e,Th,"minute")||hg(e,kh,"second")||e+" ms"}function hg(e,t,n){if(!(e<t))return e<t*1.5?Math.floor(e/t)+" "+n:Math.ceil(e/t)+" "+n+"s"}(function(e,t){t=e.exports=i.debug=i.default=i,t.coerce=l,t.disable=o,t.enable=s,t.enabled=a,t.humanize=Mpe,t.names=[],t.skips=[],t.formatters={};var n;function r(c){var u=0,d;for(d in c)u=(u<<5)-u+c.charCodeAt(d),u|=0;return t.colors[Math.abs(u)%t.colors.length]}function i(c){function u(){if(u.enabled){var d=u,h=+new Date,p=h-(n||h);d.diff=p,d.prev=n,d.curr=h,n=h;for(var g=new Array(arguments.length),m=0;m<g.length;m++)g[m]=arguments[m];g[0]=t.coerce(g[0]),typeof g[0]!="string"&&g.unshift("%O");var b=0;g[0]=g[0].replace(/%([a-zA-Z%])/g,function(v,_){if(v==="%%")return v;b++;var x=t.formatters[_];if(typeof x=="function"){var S=g[b];v=x.call(d,S),g.splice(b,1),b--}return v}),t.formatArgs.call(d,g);var y=u.log||t.log||console.log.bind(console);y.apply(d,g)}}return u.namespace=c,u.enabled=t.enabled(c),u.useColors=t.useColors(),u.color=r(c),typeof t.init=="function"&&t.init(u),u}function s(c){t.save(c),t.names=[],t.skips=[];for(var u=(typeof c=="string"?c:"").split(/[\s,]+/),d=u.length,h=0;h<d;h++)u[h]&&(c=u[h].replace(/\*/g,".*?"),c[0]==="-"?t.skips.push(new RegExp("^"+c.substr(1)+"$")):t.names.push(new RegExp("^"+c+"$")))}function o(){t.enable("")}function a(c){var u,d;for(u=0,d=t.skips.length;u<d;u++)if(t.skips[u].test(c))return!1;for(u=0,d=t.names.length;u<d;u++)if(t.names[u].test(c))return!0;return!1}function l(c){return c instanceof Error?c.stack||c.message:c}})(dS,dS.exports);var Lpe=dS.exports;(function(e,t){var n={};t=e.exports=Lpe,t.log=s,t.formatArgs=i,t.save=o,t.load=a,t.useColors=r,t.storage=typeof chrome<"u"&&typeof chrome.storage<"u"?chrome.storage.local:l(),t.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"];function r(){return typeof window<"u"&&window.process&&window.process.type==="renderer"?!0:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}t.formatters.j=function(c){try{return JSON.stringify(c)}catch(u){return"[UnexpectedJSONParseError]: "+u.message}};function i(c){var u=this.useColors;if(c[0]=(u?"%c":"")+this.namespace+(u?" %c":" ")+c[0]+(u?"%c ":" ")+"+"+t.humanize(this.diff),!!u){var d="color: "+this.color;c.splice(1,0,d,"color: inherit");var h=0,p=0;c[0].replace(/%[a-zA-Z%]/g,function(g){g!=="%%"&&(h++,g==="%c"&&(p=h))}),c.splice(p,0,d)}}function s(){return typeof console=="object"&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function o(c){try{c==null?t.storage.removeItem("debug"):t.storage.debug=c}catch{}}function a(){var c;try{c=t.storage.debug}catch{}return!c&&typeof process<"u"&&"env"in process&&(c=n.DEBUG),c}t.enable(a());function l(){try{return window.localStorage}catch{}}})(uS,uS.exports);var Npe=uS.exports,fS={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=["cueVideoById","loadVideoById","cueVideoByUrl","loadVideoByUrl","playVideo","pauseVideo","stopVideo","getVideoLoadedFraction","cuePlaylist","loadPlaylist","nextVideo","previousVideo","playVideoAt","setShuffle","setLoop","getPlaylist","getPlaylistIndex","setOption","mute","unMute","isMuted","setVolume","getVolume","seekTo","getPlayerState","getPlaybackRate","setPlaybackRate","getAvailablePlaybackRates","getPlaybackQuality","setPlaybackQuality","getAvailableQualityLevels","getCurrentTime","getDuration","removeEventListener","getVideoUrl","getVideoEmbedCode","getOptions","getOption","addEventListener","destroy","setSize","getIframe"],e.exports=t.default})(fS,fS.exports);var Bpe=fS.exports,hS={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=["ready","stateChange","playbackQualityChange","playbackRateChange","error","apiChange","volumeChange"],e.exports=t.default})(hS,hS.exports);var Dpe=hS.exports,pS={exports:{}},gS={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default={BUFFERING:3,ENDED:0,PAUSED:2,PLAYING:1,UNSTARTED:-1,VIDEO_CUED:5},e.exports=t.default})(gS,gS.exports);var $pe=gS.exports;(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=$pe,r=i(n);function i(s){return s&&s.__esModule?s:{default:s}}t.default={pauseVideo:{acceptableStates:[r.default.ENDED,r.default.PAUSED],stateChangeRequired:!1},playVideo:{acceptableStates:[r.default.ENDED,r.default.PLAYING],stateChangeRequired:!1},seekTo:{acceptableStates:[r.default.ENDED,r.default.PLAYING,r.default.PAUSED],stateChangeRequired:!0,timeout:3e3}},e.exports=t.default})(pS,pS.exports);var Fpe=pS.exports;(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=Npe,r=u(n),i=Bpe,s=u(i),o=Dpe,a=u(o),l=Fpe,c=u(l);function u(p){return p&&p.__esModule?p:{default:p}}var d=(0,r.default)("youtube-player"),h={};h.proxyEvents=function(p){var g={},m=function(C){var k="on"+C.slice(0,1).toUpperCase()+C.slice(1);g[k]=function(O){d('event "%s"',k,O),p.trigger(C,O)}},b=!0,y=!1,v=void 0;try{for(var _=a.default[Symbol.iterator](),x;!(b=(x=_.next()).done);b=!0){var S=x.value;m(S)}}catch(E){y=!0,v=E}finally{try{!b&&_.return&&_.return()}finally{if(y)throw v}}return g},h.promisifyPlayer=function(p){var g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,m={},b=function(k){g&&c.default[k]?m[k]=function(){for(var O=arguments.length,w=Array(O),M=0;M<O;M++)w[M]=arguments[M];return p.then(function(N){var R=c.default[k],V=N.getPlayerState(),P=N[k].apply(N,w);return R.stateChangeRequired||Array.isArray(R.acceptableStates)&&R.acceptableStates.indexOf(V)===-1?new Promise(function(T){var z=function B(){var D=N.getPlayerState(),F=void 0;typeof R.timeout=="number"&&(F=setTimeout(function(){N.removeEventListener("onStateChange",B),T()},R.timeout)),Array.isArray(R.acceptableStates)&&R.acceptableStates.indexOf(D)!==-1&&(N.removeEventListener("onStateChange",B),clearTimeout(F),T())};N.addEventListener("onStateChange",z)}).then(function(){return P}):P})}:m[k]=function(){for(var O=arguments.length,w=Array(O),M=0;M<O;M++)w[M]=arguments[M];return p.then(function(N){return N[k].apply(N,w)})}},y=!0,v=!1,_=void 0;try{for(var x=s.default[Symbol.iterator](),S;!(y=(S=x.next()).done);y=!0){var E=S.value;b(E)}}catch(C){v=!0,_=C}finally{try{!y&&x.return&&x.return()}finally{if(v)throw _}}return m},t.default=h,e.exports=t.default})(cS,cS.exports);var zpe=cS.exports;(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(d){return typeof d}:function(d){return d&&typeof Symbol=="function"&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d},r=Cpe,i=c(r),s=Ppe,o=c(s),a=zpe,l=c(a);function c(d){return d&&d.__esModule?d:{default:d}}var u=void 0;t.default=function(d){var h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},p=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,g=(0,i.default)();if(u||(u=(0,o.default)(g)),h.events)throw new Error("Event handlers cannot be overwritten.");if(typeof d=="string"&&!document.getElementById(d))throw new Error('Element "'+d+'" does not exist.');h.events=l.default.proxyEvents(g);var m=new Promise(function(y){if((typeof d>"u"?"undefined":n(d))==="object"&&d.playVideo instanceof Function){var v=d;y(v)}else u.then(function(_){var x=new _.Player(d,h);return g.on("ready",function(){y(x)}),null})}),b=l.default.promisifyPlayer(m,p);return b.on=g.on,b.off=g.off,b},e.exports=t.default})(aS,aS.exports);var Upe=aS.exports;const Hpe=Ar(Upe);var Gpe=Object.defineProperty,qpe=Object.defineProperties,Wpe=Object.getOwnPropertyDescriptors,wR=Object.getOwnPropertySymbols,Kpe=Object.prototype.hasOwnProperty,Ype=Object.prototype.propertyIsEnumerable,ER=(e,t,n)=>t in e?Gpe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,mS=(e,t)=>{for(var n in t||(t={}))Kpe.call(t,n)&&ER(e,n,t[n]);if(wR)for(var n of wR(t))Ype.call(t,n)&&ER(e,n,t[n]);return e},yS=(e,t)=>qpe(e,Wpe(t)),Qpe=(e,t,n)=>new Promise((r,i)=>{var s=l=>{try{a(n.next(l))}catch(c){i(c)}},o=l=>{try{a(n.throw(l))}catch(c){i(c)}},a=l=>l.done?r(l.value):Promise.resolve(l.value).then(s,o);a((n=n.apply(e,t)).next())});function Jpe(e,t){var n,r;if(e.videoId!==t.videoId)return!0;const i=((n=e.opts)==null?void 0:n.playerVars)||{},s=((r=t.opts)==null?void 0:r.playerVars)||{};return i.start!==s.start||i.end!==s.end}function CR(e={}){return yS(mS({},e),{height:0,width:0,playerVars:yS(mS({},e.playerVars),{autoplay:0,start:0,end:0})})}function Xpe(e,t){return e.videoId!==t.videoId||!Epe(CR(e.opts),CR(t.opts))}function Zpe(e,t){var n,r,i,s;return e.id!==t.id||e.className!==t.className||((n=e.opts)==null?void 0:n.width)!==((r=t.opts)==null?void 0:r.width)||((i=e.opts)==null?void 0:i.height)!==((s=t.opts)==null?void 0:s.height)||e.iframeClassName!==t.iframeClassName||e.title!==t.title}var ege={videoId:"",id:"",className:"",iframeClassName:"",style:{},title:"",loading:void 0,opts:{},onReady:()=>{},onError:()=>{},onPlay:()=>{},onPause:()=>{},onEnd:()=>{},onStateChange:()=>{},onPlaybackRateChange:()=>{},onPlaybackQualityChange:()=>{}},tge={videoId:Ze.string,id:Ze.string,className:Ze.string,iframeClassName:Ze.string,style:Ze.object,title:Ze.string,loading:Ze.oneOf(["lazy","eager"]),opts:Ze.objectOf(Ze.any),onReady:Ze.func,onError:Ze.func,onPlay:Ze.func,onPause:Ze.func,onEnd:Ze.func,onStateChange:Ze.func,onPlaybackRateChange:Ze.func,onPlaybackQualityChange:Ze.func},om=class extends Ie.Component{constructor(e){super(e),this.destroyPlayerPromise=void 0,this.onPlayerReady=t=>{var n,r;return(r=(n=this.props).onReady)==null?void 0:r.call(n,t)},this.onPlayerError=t=>{var n,r;return(r=(n=this.props).onError)==null?void 0:r.call(n,t)},this.onPlayerStateChange=t=>{var n,r,i,s,o,a,l,c;switch((r=(n=this.props).onStateChange)==null||r.call(n,t),t.data){case om.PlayerState.ENDED:(s=(i=this.props).onEnd)==null||s.call(i,t);break;case om.PlayerState.PLAYING:(a=(o=this.props).onPlay)==null||a.call(o,t);break;case om.PlayerState.PAUSED:(c=(l=this.props).onPause)==null||c.call(l,t);break}},this.onPlayerPlaybackRateChange=t=>{var n,r;return(r=(n=this.props).onPlaybackRateChange)==null?void 0:r.call(n,t)},this.onPlayerPlaybackQualityChange=t=>{var n,r;return(r=(n=this.props).onPlaybackQualityChange)==null?void 0:r.call(n,t)},this.destroyPlayer=()=>this.internalPlayer?(this.destroyPlayerPromise=this.internalPlayer.destroy().then(()=>this.destroyPlayerPromise=void 0),this.destroyPlayerPromise):Promise.resolve(),this.createPlayer=()=>{if(typeof document>"u")return;if(this.destroyPlayerPromise){this.destroyPlayerPromise.then(this.createPlayer);return}const t=yS(mS({},this.props.opts),{videoId:this.props.videoId});this.internalPlayer=Hpe(this.container,t),this.internalPlayer.on("ready",this.onPlayerReady),this.internalPlayer.on("error",this.onPlayerError),this.internalPlayer.on("stateChange",this.onPlayerStateChange),this.internalPlayer.on("playbackRateChange",this.onPlayerPlaybackRateChange),this.internalPlayer.on("playbackQualityChange",this.onPlayerPlaybackQualityChange),(this.props.title||this.props.loading)&&this.internalPlayer.getIframe().then(n=>{this.props.title&&n.setAttribute("title",this.props.title),this.props.loading&&n.setAttribute("loading",this.props.loading)})},this.resetPlayer=()=>this.destroyPlayer().then(this.createPlayer),this.updatePlayer=()=>{var t;(t=this.internalPlayer)==null||t.getIframe().then(n=>{this.props.id?n.setAttribute("id",this.props.id):n.removeAttribute("id"),this.props.iframeClassName?n.setAttribute("class",this.props.iframeClassName):n.removeAttribute("class"),this.props.opts&&this.props.opts.width?n.setAttribute("width",this.props.opts.width.toString()):n.removeAttribute("width"),this.props.opts&&this.props.opts.height?n.setAttribute("height",this.props.opts.height.toString()):n.removeAttribute("height"),this.props.title?n.setAttribute("title",this.props.title):n.setAttribute("title","YouTube video player"),this.props.loading?n.setAttribute("loading",this.props.loading):n.removeAttribute("loading")})},this.getInternalPlayer=()=>this.internalPlayer,this.updateVideo=()=>{var t,n,r,i;if(typeof this.props.videoId>"u"||this.props.videoId===null){(t=this.internalPlayer)==null||t.stopVideo();return}let s=!1;const o={videoId:this.props.videoId};if((n=this.props.opts)!=null&&n.playerVars&&(s=this.props.opts.playerVars.autoplay===1,"start"in this.props.opts.playerVars&&(o.startSeconds=this.props.opts.playerVars.start),"end"in this.props.opts.playerVars&&(o.endSeconds=this.props.opts.playerVars.end)),s){(r=this.internalPlayer)==null||r.loadVideoById(o);return}(i=this.internalPlayer)==null||i.cueVideoById(o)},this.refContainer=t=>{this.container=t},this.container=null,this.internalPlayer=null}componentDidMount(){this.createPlayer()}componentDidUpdate(e){return Qpe(this,null,function*(){Zpe(e,this.props)&&this.updatePlayer(),Xpe(e,this.props)&&(yield this.resetPlayer()),Jpe(e,this.props)&&this.updateVideo()})}componentWillUnmount(){this.destroyPlayer()}render(){return Ie.createElement("div",{className:this.props.className,style:this.props.style},Ie.createElement("div",{id:this.props.id,className:this.props.iframeClassName,ref:this.refContainer}))}},hv=om;hv.propTypes=tge;hv.defaultProps=ege;hv.PlayerState={UNSTARTED:-1,ENDED:0,PLAYING:1,PAUSED:2,BUFFERING:3,CUED:5};var Xs=hv;function nge(e){const[t,n]=A.useState(1);return A.useEffect(()=>{if(e===Xs.PlayerState.UNSTARTED){const r=setTimeout(()=>{n(i=>i+1)},5e3+t*2500);return()=>{clearTimeout(r)}}}),t}function rge(e,t){A.useEffect(()=>{if(t===Xs.PlayerState.BUFFERING){const n=setInterval(async()=>{var r,i,s;if(navigator.onLine){clearInterval(n);const o=await((r=e.current)==null?void 0:r.getInternalPlayer().getCurrentTime());(s=(i=e.current)==null?void 0:i.getInternalPlayer())==null||s.seekTo(Math.max(o-2,0),!0)}},500);return()=>{clearInterval(n)}}})}function ige(e,t){return rge(e,t),nge(t)}var In=(e=>(e.UNSTARTED="UNSTARTED",e.ENDED="ENDED",e.PLAYING="PLAYING",e.PAUSED="PAUSED",e.BUFFERING="BUFFERING",e.CUED="CUED",e))(In||{});const sge={[Xs.PlayerState.UNSTARTED]:"UNSTARTED",[Xs.PlayerState.ENDED]:"ENDED",[Xs.PlayerState.PLAYING]:"PLAYING",[Xs.PlayerState.PAUSED]:"PAUSED",[Xs.PlayerState.BUFFERING]:"BUFFERING",[Xs.PlayerState.CUED]:"CUED"},oge=A.forwardRef(function({video:t,autoplay:n,startAt:r,controls:i,disablekb:s,volume:o,width:a,height:l,onStateChange:c},u){const d=A.useRef(null),[h,p]=A.useState(Xs.PlayerState.UNSTARTED),g=ige(d,h);return xpe(d,o),A.useEffect(()=>{d.current&&d.current.getInternalPlayer().setSize(a,l)},[d,a,l,t,g]),A.useImperativeHandle(u,()=>({setSize:(m,b)=>{var y;return(y=d.current)==null?void 0:y.getInternalPlayer().setSize(m,b)},seekTo:m=>{var b;return(b=d.current)==null?void 0:b.getInternalPlayer().seekTo(m,!0)},setPlaybackSpeed:m=>{var b;return(b=d.current)==null?void 0:b.getInternalPlayer().setPlaybackRate(m)},setVolume:m=>{var b;return(b=d.current)==null?void 0:b.getInternalPlayer().setVolume(m)},getCurrentTime:()=>{var m,b,y,v;return((v=(y=(b=(m=d.current)==null?void 0:m.getInternalPlayer)==null?void 0:b.call(m))==null?void 0:y.getCurrentTime)==null?void 0:v.call(y))??Promise.resolve(0)},loadVideoById:m=>{var b;return(b=d.current)==null?void 0:b.getInternalPlayer().loadVideoById(m)},playVideo:()=>{var m;(m=d.current)==null||m.getInternalPlayer().playVideo()},pauseVideo:()=>{var m;return(m=d.current)==null?void 0:m.getInternalPlayer().pauseVideo()},getDuration:()=>{var m,b,y,v;return((v=(y=(b=(m=d.current)==null?void 0:m.getInternalPlayer)==null?void 0:b.call(m))==null?void 0:y.getDuration)==null?void 0:v.call(y))??Promise.resolve(0)}})),f.jsx(Xs,{title:" ",ref:d,videoId:t,opts:{width:"0",height:"0",playerVars:{autoplay:n?1:0,rel:0,fs:0,controls:i?1:0,start:r??0,end:0,disablekb:s?1:0,modestbranding:1}},onStateChange:m=>{p(m.data),c==null||c(sge[m.data])}},`${t}-${g}`)}),age=A.forwardRef(function({video:t,autoplay:n=!0,startAt:r,controls:i,disablekb:s,volume:o,width:a,height:l,onStateChange:c},u){const d=A.useRef(null),[h,p]=A.useState({w:a,h:l}),[g,m]=A.useState(In.UNSTARTED);A.useEffect(()=>{const v=C=>()=>m(C),_=d.current,x=v(In.PLAYING),S=v(In.PAUSED),E=v(In.ENDED);return _==null||_.addEventListener("playing",x),_==null||_.addEventListener("pause",S),_==null||_.addEventListener("ended",E),()=>{_==null||_.removeEventListener("playing",x),_==null||_.removeEventListener("pause",S),_==null||_.removeEventListener("ended",E)}},[m]),A.useEffect(()=>{c==null||c(g)},[g,c]);const b=A.useRef(null),y=A.useMemo(()=>({setSize:(v,_)=>p({w:v,h:_}),seekTo:v=>(d.current&&(d.current.currentTime=v),v),setPlaybackSpeed:v=>{d.current&&(d.current.playbackRate=v)},setVolume:()=>{},getCurrentTime:()=>{var v;return Promise.resolve(((v=d.current)==null?void 0:v.currentTime)??0)},playVideo:async()=>{var v;return await Dc(200),(v=d.current)==null?void 0:v.play()},pauseVideo:()=>{var v;return(v=d.current)==null?void 0:v.pause()},getDuration:()=>{var v;return Promise.resolve(((v=d.current)==null?void 0:v.duration)??0)},loadVideoById:()=>{var v;clearTimeout(b.current),(v=d.current)==null||v.pause(),m(In.UNSTARTED),b.current=setTimeout(()=>{var _;(_=d.current)==null||_.play()},300)}}),[d]);return A.useEffect(()=>{y.setSize(a,l)},[a,l,y]),A.useEffect(()=>{r!==void 0&&y.seekTo(r)},[r,y]),A.useImperativeHandle(u,()=>y),f.jsx("video",{style:{width:h.w,height:h.h},autoPlay:n,controls:i,ref:d,children:f.jsx("source",{src:t})})}),lge="/assets/dummy-video-long-C7qbKeYK.webm",cge="/assets/dummy-video-9QP_sTy6.webm",uge=A.forwardRef(function({video:t,controls:n,...r},i){return f.jsx(age,{ref:i,video:t==="Vueyx9TBEqE"?lge:cge,controls:!0,...r})}),LE=A.forwardRef((e,t)=>Ii()?f.jsx(uge,{...e,ref:t}):f.jsx(oge,{...e,ref:t}));function fB({songData:e,background:t,width:n,height:r,children:i,...s}){return f.jsxs(dge,{video:e.video,width:n,height:r,...s,children:[f.jsx(hge,{video:e.video,blur:!0}),t&&f.jsx(hB,{children:t}),f.jsx(pge,{children:f.jsxs(gge,{children:[f.jsx(mge,{children:e.title}),f.jsx("br",{}),f.jsx(yge,{children:e.artist}),f.jsx("br",{}),e.author&&f.jsxs(vge,{children:["by",e.authorUrl?f.jsx("a",{href:e.authorUrl,children:e.author}):e.author]}),i]})})]})}const dge=j("div",{target:"e1kx27c8"})("width:",e=>e.width,"px;top:0;height:",e=>e.height,"px;overflow-y:hidden;background:black;position:relative;"),hB=j("div",{target:"e1kx27c7"})({name:"1vuuxha",styles:"z-index:1;top:0;left:0;position:absolute;width:100%;height:100%"}),fge=j(hB,{target:"e1kx27c6"})("background-size:cover;background-position:center center;filter:",e=>e.blur?"blur(0.5rem)":"none",";"),hge=e=>f.jsx(fge,{style:{backgroundImage:`url('https://i3.ytimg.com/vi/${e.video}/hqdefault.jpg')`},...e}),pge=j("div",{target:"e1kx27c5"})({name:"11t99gq",styles:"z-index:2;top:0;left:0;width:100%;height:100%;position:absolute;pointer-events:none"}),gge=j("div",{target:"e1kx27c4"})({name:"t7r80e",styles:"position:relative;margin:0 auto;color:white;max-width:144rem;height:100%;pointer-events:none"}),pv=j("span",{target:"e1kx27c3"})("background:rgba(0, 0, 0, 0.5);display:inline-block;backdrop-filter:blur(0.5rem);",Ke,";padding:0.5rem 2rem;margin:0 0 1rem 0;"),mge=j(pv,{target:"e1kx27c2"})("color:",ge.colors.text.active,";margin-top:2rem;font-size:4.5rem;"),yge=j(pv,{target:"e1kx27c1"})({name:"tic7nk",styles:"font-size:3.5rem"}),vge=j(pv,{target:"e1kx27c0"})({name:"a07gmx",styles:"font-size:2rem"});function Age(){var d;qa(!1),el(!1);const e=fi(),{width:t,height:n}=sp(),[r,i]=A.useState(0),s=Ad(),[o,a]=A.useState([]),{register:l}=Yn({onBackspace:()=>e("menu/")});A.useEffect(()=>s.data&&a(Spe(s.data)),[s.data]);const c=()=>s.data&&i(h=>(h+1)%s.data.length);if(!o.length||!t||!n)return null;const u=T0("game/",{song:o[r].id,playlist:"All"});return f.jsxs(Ja,{children:[f.jsx(ji,{children:f.jsx("title",{children:"Jukebox | AllKaraoke.Party - Free Online Karaoke Party Game"})}),f.jsx(VE,{children:f.jsxs(fB,{width:t,height:n,songData:o[r],"data-test":"jukebox-container","data-song":o[r].id,background:f.jsx(LE,{autoplay:!0,controls:!0,width:t,height:n,volume:(d=o[r])==null?void 0:d.volume,video:o[r].video,startAt:o[r].videoGap,onStateChange:h=>{h===In.ENDED&&c()}}),children:[f.jsx(_ge,{...l("skip-button",c),children:"Skip"}),f.jsx(zr,{to:u,children:f.jsx(bge,{...l("sing-button",()=>e(u),void 0,!0),children:"Sing this song"})})]})})]})}const bge=j(Hs,{target:"e1573hk21"})({name:"9gmhgo",styles:"bottom:7rem;right:2rem;width:50rem;position:absolute;font-size:1.9vw"}),_ge=j(Hs,{target:"e1573hk20"})({name:"1qbm012",styles:"bottom:15rem;right:2rem;width:30rem;position:absolute;font-size:1.9vw"}),Sge=j("svg",{target:"enucs170"})({name:"w3i2x3",styles:"--curve:cubic-bezier(0.65, 0, 0.45, 1);--green:#4caf50;margin-right:1rem;width:3.5rem;height:3.5rem;border-radius:50%;display:block;stroke-width:2;stroke:#fff;stroke-miterlimit:10;box-shadow:inset 0px 0px 0px var(--green);animation:fill 0.4s ease-in-out 0.4s forwards,scale 0.3s ease-in-out 0.9s both;.checkmark__circle{stroke-dasharray:166;stroke-dashoffset:166;stroke-width:2;stroke-miterlimit:10;stroke:var(--green);fill:none;animation:stroke 0.6s var(--curve) forwards;}.checkmark__check{transform-origin:50% 50%;stroke-dasharray:48;stroke-dashoffset:48;animation:stroke 0.3s var(--curve) 0.8s forwards;}@keyframes stroke{100%{stroke-dashoffset:0;}}@keyframes scale{0%,100%{transform:none;}50%{transform:scale3d(1.1, 1.1, 1);}}@keyframes fill{100%{box-shadow:inset 0px 0px 0px 3rem var(--green);}}"}),xge=e=>f.jsx(Sge,{...e,children:f.jsxs("svg",{className:"checkmark",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 52 52",children:[f.jsx("circle",{className:"checkmark__circle",cx:"26",cy:"26",r:"25",fill:"none"}),f.jsx("path",{className:"checkmark__check",fill:"none",d:"M14.1 27.2l7.1 7.2 16.7-16.8"})]})}),am=pt([f.jsx("path",{fillRule:"evenodd",d:"M16.67 13.13C18.04 14.06 19 15.32 19 17v3h4v-3c0-2.18-3.57-3.47-6.33-3.87"},"0"),f.jsx("circle",{cx:"9",cy:"8",r:"4",fillRule:"evenodd"},"1"),f.jsx("path",{fillRule:"evenodd",d:"M15 12c2.21 0 4-1.79 4-4s-1.79-4-4-4c-.47 0-.91.1-1.33.24C14.5 5.27 15 6.58 15 8s-.5 2.73-1.33 3.76c.42.14.86.24 1.33.24m-6 1c-2.67 0-8 1.34-8 4v3h16v-3c0-2.66-5.33-4-8-4"},"2")],"PeopleAlt"),kR=pt(f.jsx("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4m0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4"}),"Person"),r1=pt(f.jsx("path",{d:"M15.5 1h-8C6.12 1 5 2.12 5 3.5v17C5 21.88 6.12 23 7.5 23h8c1.38 0 2.5-1.12 2.5-2.5v-17C18 2.12 16.88 1 15.5 1m-4 21c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5m4.5-4H7V4h9z"}),"PhoneIphone"),wge=pt([f.jsx("circle",{cx:"12",cy:"12",r:"3.2"},"0"),f.jsx("path",{d:"M9 2 7.17 4H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2h-3.17L15 2zm3 15c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5"},"1")],"PhotoCamera"),Ege=pt(f.jsx("path",{d:"M3 11h8V3H3zm2-6h4v4H5zM3 21h8v-8H3zm2-6h4v4H5zm8-12v8h8V3zm6 6h-4V5h4zm0 10h2v2h-2zm-6-6h2v2h-2zm2 2h2v2h-2zm-2 2h2v2h-2zm2 2h2v2h-2zm2-2h2v2h-2zm0-4h2v2h-2zm2 2h2v2h-2z"}),"QrCode");function Cge({onPreferenceSelected:e,previouslySelected:t,onBack:n,skipText:r}){const[i]=Qe(br),{register:s}=Yn({onBackspace:n});return f.jsxs(f.Fragment,{children:[f.jsxs(gg,{...s("remote-mics",()=>e("remoteMics"),void 0,t==="remoteMics"),children:[f.jsxs(uf,{children:[f.jsx(xN,{}),f.jsx(r1,{})]}),f.jsxs("div",{children:[i?"Connect other phones":"Use Smartphones",f.jsxs(cf,{children:["Use"," ",f.jsxs("strong",{children:[f.jsx(wge,{}),"Camera app"]})," ","to scan a"," ",f.jsxs("strong",{children:[f.jsx(Ege,{})," QR code"]})," ","that will open Remote Mic website - no need to download an app!"]})]}),f.jsx(IE,{children:"Recommended"}),f.jsxs(pg,{children:[f.jsx(am,{}),f.jsx("strong",{children:"1-4"})]})]}),f.jsxs(gg,{...s("built-in",()=>e("built-in"),void 0,t==="built-in"),children:[f.jsxs(uf,{children:[f.jsx(kR,{}),i?f.jsx(r1,{}):f.jsx(SN,{})]}),f.jsxs("div",{children:["This ",i?"device's":"computer's"," microphone",f.jsxs(cf,{children:["Great to ",f.jsx("strong",{children:"test"})," the app, ",f.jsx("strong",{children:"sing alone"})," or don't care about the rivalry at the party"]})]}),f.jsxs(pg,{children:[f.jsx(kR,{}),f.jsx("strong",{children:"1"})]})]}),f.jsx("hr",{}),!i&&f.jsxs(gg,{...s("multiple-mics",()=>e("multiple-mics"),void 0,t==="multiple-mics"),children:[f.jsxs(uf,{children:[f.jsx(Q_,{}),f.jsx(AN,{})]}),f.jsxs("div",{children:["Multiple microphones",f.jsxs(cf,{children:["Use either ",f.jsx("strong",{children:"SingStar"})," or ",f.jsx("strong",{children:"multiple microphones"})," connected to the device for each player"]})]}),f.jsxs(pg,{children:[f.jsx(am,{}),f.jsx("strong",{children:"2"})]})]}),f.jsxs(gg,{...s("advanced",()=>e("advanced"),void 0,t==="advanced"),children:[f.jsxs(uf,{children:[f.jsx(Q_,{}),f.jsx(r1,{})]}),f.jsxs("div",{children:["Advanced (manual) setup",f.jsx(cf,{children:"Assign the specific device to a player manually, e.g. if you don't have regular SingStar microphones."})]}),f.jsxs(pg,{children:[f.jsx(am,{}),f.jsx("strong",{children:"1-4"})]})]}),f.jsx("hr",{}),f.jsx(zr,{to:"menu/",onClick:o=>{o==null||o.preventDefault(),e("skip")},children:f.jsx(Fe,{...s("skip",()=>e("skip"),void 0,t==="skip"),children:r||"Skip"})})]})}const pg=j("div",{target:"eb2r3ii3"})(Ke,";position:absolute;inset:auto 0.5rem 0.5rem auto;svg{font-size:0.9em;}gap:0.5rem;display:flex;align-items:center;justify-content:flex-end;"),cf=j("div",{target:"eb2r3ii2"})({name:"4vipg7",styles:"padding:0 3rem 0 6rem;font-size:1.6rem;max-height:0;overflow:clip;transition:300ms;svg{font-size:1.4rem;}opacity:0"}),uf=j("div",{target:"eb2r3ii1"})("position:relative;margin:0rem 0.6rem 0 2.5rem;transition:300ms;svg{transition:300ms;width:3.6rem;height:3.6rem;color:",ge.colors.players[1].text,";}svg:first-of-type{top:0.6rem;left:1.25rem;position:absolute;color:",ge.colors.players[0].text,";z-index:100;transform:scaleX(-1);}"),gg=j(Fe,{target:"eb2r3ii0"})("position:relative;display:flex;align-items:center;&:hover,&[data-focused='true']{height:16.5rem;background:black;",$u,";",cf,"{padding-top:1.6rem;max-height:10rem;opacity:1;opacity:1;}",uf,"{transform:scale(1.75);}}");function pB(){var e,t;return((t=(e=navigator==null?void 0:navigator.userAgent)==null?void 0:e.includes)==null?void 0:t.call(e,"Win"))??!1}const NE=(e,t,n=!0,r=1e3/Tl.get())=>{A.useEffect(()=>{if(!n)return;const i=setInterval(()=>{const s=wn.getPlayerVolume(e)??0,o=wn.getPlayerFrequency(e)??0;t([s,Array.isArray(o)?o[0]:o])},r);return()=>{clearInterval(i)}},[e,r,t,n])},kge=(e,t=1e3/Tl.get(),n)=>{const[r,i]=A.useState([0,0]);return NE(e,i,!0,t),A.useEffect(()=>{n&&n(r)},[r,n]),r},gB=e=>A.useMemo(()=>{if(!ge.colors.players[e])return"0, 0, 0";const t=le(ge.colors.players[e].text).toRgb();return`${t.r}, ${t.g}, ${t.b}`},[e]),mB=j("div",{target:"eq7cjwi0"})({name:"5jivz6",styles:"height:100%;width:100%;position:absolute;right:0;top:0;background-repeat:repeat-y;transform-origin:right;z-index:1;pointer-events:none"}),Tge=A.forwardRef(({volume:e,playerNumber:t,...n},r)=>{const i=`${Math.min(1,e*20)}`,s=gB(t);return Oe.getPlayer(t)?f.jsx(mB,{...n,style:{transform:`scaleX(${i})`,background:`linear-gradient(270deg, rgba(${s}, 1) 0%, rgba(${s}, 0) 100%)`},ref:r}):null}),BE=({playerNumber:e,...t})=>{const[n,r]=A.useState(),i=A.useCallback(([o])=>{if(n){const a=`${Math.min(1,o*20)}`;n.style.transform=`scaleX(${a})`}},[n]);NE(e,i);const s=gB(e);return f.jsx(mB,{...t,ref:r,style:{background:`linear-gradient(270deg, rgba(${s}, 1) 0%, rgba(${s}, 0) 100%)`}})};function Ige(e,t){const n=Object.keys(t),[r,i,s]=Ri([te.playerInputChanged,te.inputListChanged],()=>{var c;const l=(c=Oe.getPlayer(e))==null?void 0:c.input;return l?[l,co.getInputForPlayerSelected(l),co.isPlayerInputInitialised(l)]:[null,null,!0]});A.useEffect(()=>{var l;if(s&&i===null){const c=n[0],u=t[c].getDefault();u&&((l=Oe.getPlayer(e))==null||l.changeInput(n[0],u.channel,u.deviceId))}});const o=l=>{var d;const c=Bl(n,(r==null?void 0:r.source)??n[0]),u=l!==void 0?t[c].list[l]:t[c].getDefault();(d=Oe.getPlayer(e))==null||d.changeInput(c,u==null?void 0:u.channel,u==null?void 0:u.deviceId)},a=()=>{var d;if(!r)return;const l=t[r.source].list,c=i?l.findIndex(h=>h.id===i.id):0,u=rp(l,c);if(u===0)o(0);else{const h=l[u];(d=Oe.getPlayer(e))==null||d.changeInput(r.source,h==null?void 0:h.channel,h==null?void 0:h.deviceId)}};return[(r==null?void 0:r.source)??null,o,i,a]}const yB=e=>{const t=e.player,[n,r,i,s]=Ige(t.number,e.inputs);return f.jsxs(f.Fragment,{children:[e.blockSourceChange?f.jsxs(jge,{children:[f.jsxs("h3",{className:"ph-no-capture",children:[t.getName()," Input"]}),f.jsx("h4",{children:"(click to change)"})]}):f.jsx(Mge,{...e.readonly?{}:e.register(`player-${t.number}-source`,()=>r()),label:f.jsxs("span",{className:"ph-no-capture",children:[t.getName()," Source"]}),value:n,disabled:e.readonly}),f.jsx(Rge,{...e.readonly?{}:e.register(`player-${t.number}-input`,s),label:"Input",disabled:e.readonly,value:i==null?void 0:i.label,children:f.jsx(Pge,{playerNumber:t.number})})]})},Pge=j(BE,{target:"e6monco3"})({name:"1vx2200",styles:"opacity:0.75;width:50%;height:calc(100% - 0.5rem);margin:0.25rem"}),Rge=j(es,{target:"e6monco2"})({name:"bjn8wh",styles:"position:relative"}),Mge=j(es,{target:"e6monco1"})({name:"bigtx2",styles:"background:none"}),jge=j("div",{target:"e6monco0"})({name:"1laz9o6",styles:"display:flex;justify-content:space-between;align-items:flex-end"});function gv(e=!1,t){const n=Ri(te.inputListChanged,()=>{const r={...co.getInputList()};if(t)return{[t]:r[t]};for(const i in r)r[i].list.length===0&&delete r[i];return r});return A.useEffect(()=>{e&&co.loadMics()},[e]),n}function op(e,t=Nm){A.useEffect(()=>{Oe.setMinPlayerNumber(e);const n=Oe.getPlayers();if(n.length>t)for(let r=n.length;r>t;r--)Oe.removePlayer(n[r-1].number);else if(n.length<e){const r=Oe.getPlayers().map(s=>s.number),i=Array.from(Array(Nm).keys()).filter(s=>!r.includes(s));console.log(i,r);for(let s=n.length;s<e;s++)Oe.addPlayer(i.shift())}},[])}function vB(){const e=A.useRef(0);Ir(te.remoteMicConnected,({id:t})=>{var r;if(console.log("useRemoteMicAutoselect",t),Oe.getInputs().some(i=>i.deviceId===t)){console.log(`Input ${t} already assigned to player`);return}const n=Oe.getPlayer(e.current);n?n.changeInput(Fo.inputName,0,t):(r=Oe.addPlayer(e.current))==null||r.changeInput(Fo.inputName,0,t),e.current=(e.current+1)%Nm})}function Oge(e){op(2);const t=gv(!0),n=xE();A.useEffect(()=>{e.onSetupComplete(n==="accepted")},[n]),vB();const{register:r}=Yn({onBackspace:e.onBack}),s=Ri(te.playerInputChanged,()=>Oe.getInputs()).filter(a=>a.source===Oo.inputName),o=Ri([te.inputListChanged,te.playerInputChanged,te.playerRemoved],()=>Oe.getPlayers());return f.jsxs(f.Fragment,{children:[f.jsxs(np,{fallback:f.jsx("h2",{children:"Please allow access to the microphone so we can show them."}),children:[f.jsx(_E,{}),o.map((a,l)=>f.jsx(yB,{inputs:t,player:a,register:r,readonly:l>1},a.number)),f.jsx("hr",{}),s.length>1&&RE()&&pB()&&f.jsxs("h3",{children:[f.jsx("strong",{children:"Chrome"})," is known for not handling SingStar mics well. If you notice any problems, try using an alternative browser (eg. ",f.jsx("strong",{children:"MS Edge"})," or ",f.jsx("strong",{children:"Firefox"}),")"]})]}),f.jsx(Fe,{...r("back-button",e.onBack),children:"Change Input Type"}),f.jsx(Fe,{...r("save-button",e.onSave),children:e.closeButtonText})]})}const Vge=pt(f.jsx("path",{d:"M9 16.17 4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"}),"Check"),AB=pt(f.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m1 15h-2v-2h2zm0-4h-2V7h2z"}),"Error");function DE({names:e}){return f.jsx(Lge,{children:Oe.getPlayers().map(t=>f.jsxs(Nge,{"data-test":`mic-check-p${t.number}`,children:[f.jsx(BE,{playerNumber:t.number}),f.jsx("span",{className:"ph-no-capture",children:(e==null?void 0:e[t.number])??t.getName()})]},t.number))})}const Lge=j("div",{target:"e1e3gceh1"})({name:"e7x0p4",styles:"display:flex;gap:1.25rem;div{flex:1;}"}),Nge=j("div",{target:"e1e3gceh0"})({name:"186bnmk",styles:"position:relative;border:0.1rem solid white;padding:1rem 3rem;background:black;text-align:center;gap:1.25rem;font-size:2.3rem;color:white"});function Bge(e){const[t,n]=A.useState(null),r=A.useRef([]),i=A.useRef(0),s=A.useCallback(([o])=>{if(r.current.push(o),r.current.length>35){const l=r.current.sort()[Math.floor(r.current.length/2)]>0;l||i.current>7?n(l):i.current++,r.current.length=0}},[e]);return NE(0,s,t!==!0),A.useEffect(()=>{r.current.length=0,i.current=0,n(null)},[e]),t}function Dge(e){op(1,1);const{register:t}=Yn({onBackspace:e.onBack}),{Microphone:n}=gv(!0,"Microphone"),r=Ri([te.playerInputChanged,te.inputListChanged],()=>{var u;const l=Oe.getInputs().find(d=>d.source==="Microphone"),c=co.getInputList().Microphone.list;return l?((u=c.find(d=>d.id===Kl(l)))==null?void 0:u.label)??"":""}),i=l=>{Oe.getPlayers().forEach(c=>c.changeInput(Oo.inputName,l.channel,l.deviceId))},s=()=>{if(r===""){const l=n.getDefault();l&&i(l)}};A.useEffect(s,[]),Ir([te.inputListChanged,te.playerRemoved],s);const o=()=>{const l=n.list.findIndex(c=>c.label===r);if(l>-1){const c=n.list[rp(n.list,l)];i(c)}},a=Bge(r);return A.useEffect(()=>{e.onSetupComplete(!!r&&!!a)},[r,a]),f.jsxs(f.Fragment,{children:[f.jsxs(np,{fallback:f.jsx("h2",{children:"Please allow access to the microphone so the default one can be selected."}),children:[!r&&f.jsx("h3",{children:"The default device is being selected."}),r&&f.jsxs(f.Fragment,{children:[f.jsxs($ge,{children:[f.jsx("h3",{children:"You'll sing using"}),f.jsx("h4",{children:"(click to change)"})]}),f.jsx(es,{...t("selected-mic",o),label:"Mic",value:r}),f.jsxs(Fge,{children:[a===!0&&f.jsxs(f.Fragment,{children:[f.jsx("h3",{children:"Microphone is audible"}),f.jsx(i1,{children:f.jsx(Uge,{})})]}),a===!1&&f.jsxs(f.Fragment,{children:[f.jsx("h3",{children:"Microphone is not audible"}),f.jsx(i1,{children:f.jsx(zge,{})})]}),a===null&&f.jsxs(f.Fragment,{children:[f.jsx("h3",{children:"Make some noise to the microphone"}),f.jsx(i1,{children:f.jsx(ip,{size:"1em"})})]})]}),a===!1&&f.jsx("h4",{children:"Make some noise to the microphone. If that doesn't work, try using another microphone."})]}),f.jsx(DE,{}),a===!0&&f.jsxs("h4",{children:["Built-in microphones can pick up music from the game. For more accurate scores, try using your"," ",f.jsx("button",{onClick:()=>e.changePreference("remoteMics"),children:"smartphone as a microphone"}),"."]})]}),f.jsx(Fe,{...t("back-button",e.onBack),children:"Change Input Type"}),f.jsx(Fe,{...t("save-button",e.onSave,void 0,!0,{disabled:!r}),disabled:!r,children:e.closeButtonText})]})}const $ge=j("div",{target:"e19x30ho4"})({name:"1laz9o6",styles:"display:flex;justify-content:space-between;align-items:flex-end"}),Fge=j("div",{target:"e19x30ho3"})({name:"19mh0x6",styles:"display:flex;align-items:center;justify-content:flex-end"}),i1=j("div",{target:"e19x30ho2"})({name:"1wxh51d",styles:"width:4rem;height:3rem;display:flex;align-items:center;justify-content:flex-end"}),zge=j(AB,{target:"e19x30ho1"})({name:"72zlrs",styles:"&&{width:2em;height:2em;}color:red"}),Uge=j(Vge,{target:"e19x30ho0"})({name:"17t2lqr",styles:"&&{width:2em;height:2em;}color:white"});function Hge(e){op(2);const t=gv(!0,"Microphone"),n=xE();A.useEffect(()=>{e.onSetupComplete(n==="accepted")},[n]),A.useEffect(()=>{Oe.getPlayers().forEach(s=>{s.input.source!=="Microphone"&&s.changeInput("Microphone",0)})},[]);const{register:r}=Yn({onBackspace:e.onBack}),i=Ri([te.inputListChanged,te.playerInputChanged,te.playerRemoved],()=>Oe.getPlayers());return f.jsxs(f.Fragment,{children:[f.jsxs(np,{fallback:f.jsx("h2",{children:"Please allow access to the microphone so we can show them."}),children:[i.map((s,o)=>f.jsx(yB,{inputs:t,player:s,register:r,readonly:o>1,blockSourceChange:!0},s.number)),f.jsx("hr",{})]}),f.jsx(Fe,{...r("back-button",e.onBack),children:"Change Input Type"}),f.jsx(Fe,{...r("save-button",e.onSave),children:e.closeButtonText})]})}function Gge(e){const{register:t}=Yn({onBackspace:e.onBack});return f.jsxs(f.Fragment,{children:[f.jsx(Fe,{...t("singstar-mics",()=>e.changePreference("singstar-mics")),children:"SingStar microphones"}),f.jsx(Fe,{...t("different-mics-button",()=>e.changePreference("different-mics")),children:"Multiple different microphones"}),f.jsx("hr",{}),f.jsx(Fe,{...t("back-button",e.onBack),children:"Change Input Type"})]})}function qge(e){var s,o;op(2);const{register:t}=Yn({onBackspace:e.onBack});vB();const n=Ri([te.inputListChanged,te.playerInputChanged,te.playerRemoved],()=>Oe.getInputs().map(a=>a.source==="Remote Microphone"?a:null).map(a=>a?co.getInputForPlayerSelected(a):null)),r=()=>{e.onSave()},i=!!((s=n[0])!=null&&s.label)&&!!((o=n[1])!=null&&o.label);return A.useEffect(()=>{e.onSetupComplete(i)},[i]),f.jsxs(f.Fragment,{children:[f.jsx(_E,{}),f.jsx("h4",{children:"You can connect multiple phones in advance."}),f.jsx("h4",{children:"You will be able to connect phones later."}),f.jsx(DE,{}),f.jsx(Fe,{...t("back-button",e.onBack),children:"Change Input Type"}),f.jsx(Fe,{...t("save-button",r,void 0,!0),children:e.closeButtonText})]})}function Wge(e){op(2);const{register:t}=Yn({onBackspace:e.onBack}),{Microphone:n}=gv(!0,"Microphone"),[r,i]=A.useState(!1),s=Ri([te.playerInputChanged,te.inputListChanged],()=>{const c=Oe.getInputs(),u=[...new Set(c.map(p=>p.deviceId))].length===1,d=!c.find(p=>p.source!=="Microphone"),h=!c.find(p=>{var g;return((g=co.getInputForPlayerSelected(p))==null?void 0:g.preferred)===void 0});return u&&d&&h});A.useEffect(()=>(s&&wn.startMonitoring(),()=>{wn.stopMonitoring()}),[s]);const o=()=>{e.onSave()},[a,l]=A.useState(!1);return Ir(te.inputListChanged,c=>{const u=n.list.filter(d=>d.preferred!==void 0);u.length===2&&u[0].deviceId===u[1].deviceId&&u.forEach(d=>{var h;(h=Oe.getPlayer(d.preferred))==null||h.changeInput(Oo.inputName,d.channel,d.deviceId)}),c||l(!0)}),A.useEffect(()=>{e.onSetupComplete(s)},[s]),A.useEffect(()=>{if(s)i(!1);else{const c=setTimeout(()=>i(!0),2500);return()=>clearTimeout(c)}},[s]),f.jsxs(f.Fragment,{children:[f.jsxs(np,{fallback:f.jsx("h2",{children:"Please allow access to the microphone so we can find SingStar ones."}),children:[!s&&f.jsxs(f.Fragment,{children:[f.jsxs("h3",{children:[f.jsx(ip,{size:"0.85em"})," Connect your SingStar microphones."]}),f.jsx("h4",{"data-test":"setup-not-completed",children:"It can take a couple of seconds to detect after you connect them."}),a&&f.jsx("h4",{children:f.jsxs("h4",{"data-test":"list-change-info",children:["Available microphones list has changed, but no SingStar mics were found. Try"," ",f.jsx("button",{onClick:()=>e.changePreference("advanced"),children:"Advanced"})," setup."]})}),r&&f.jsxs(f.Fragment,{children:[!a&&f.jsxs(TR,{"data-test":"advanced-tip",children:["If they don't get detected, try"," ",f.jsx("button",{onClick:()=>e.changePreference("advanced"),children:"Advanced"})," section in the previous menu."]}),RE()&&pB()&&f.jsxs(TR,{children:[f.jsx("strong",{children:"Chrome"})," is known for not handling SingStar mics well. If you notice any problems, try using an alternative browser (eg. ",f.jsx("strong",{children:"MS Edge"})," or ",f.jsx("strong",{children:"Firefox"}),")"]})]})]}),s&&f.jsxs(f.Fragment,{children:[f.jsxs("h2",{"data-test":"setup-completed",children:[f.jsx("strong",{children:"SingStar"})," microphone connected!"]}),f.jsx(DE,{names:["Blue","Red"]})]})]}),f.jsx(Fe,{...t("back-button",e.onBack),children:"Change Input Type"}),f.jsx(Fe,{...t("save-button",o,void 0,!0,{disabled:!s}),"data-test":"save-button",children:e.closeButtonText})]})}const TR=j("h4",{target:"ejfctyg0"})({name:"3v8j4h",styles:"background:darkred;padding:1rem"});function Kge(e){return A.useEffect(()=>{e.onSave()},[]),null}const bB="Previously selected input type",Yge=Le.local.getItem(bB);function $E({onFinish:e,closeButtonText:t,playerNames:n,onBack:r,skipText:i,smooth:s=!0}){const[o,a]=Qe(KS),[l,c]=A.useState(o==="skip"?null:o),[u,d]=A.useState(!1);A.useEffect(()=>{const m=wn.monitoringStarted();return wn.startMonitoring(),()=>{!m&&wn.stopMonitoring()}},[]);const h=(...m)=>{s?wh(()=>{vc.flushSync(()=>{c(...m)})}):c(...m)},p=m=>()=>{a(m==="skip"?o??"skip":m),m&&(Le.local.setItem(bB,m),On.capture("sourcePreferenceSet",{source:m})),e==null||e(m)},g=()=>{wh(()=>{c(null),d(!1)})};return f.jsxs(f.Fragment,{children:[f.jsx(pr.Header,{children:u?f.jsxs(f.Fragment,{children:[f.jsx(xge,{})," Setup completed!"]}):"How do you want to sing?"}),(l===null||l==="skip")&&f.jsx(Cge,{onPreferenceSelected:h,previouslySelected:Yge,onBack:r,skipText:i}),l==="remoteMics"&&f.jsx(qge,{onSetupComplete:d,onBack:g,onSave:p("remoteMics"),closeButtonText:t,changePreference:c}),l==="multiple-mics"&&f.jsx(Gge,{onSetupComplete:d,onBack:g,closeButtonText:t,changePreference:c}),l==="singstar-mics"&&f.jsx(Wge,{onSetupComplete:d,onBack:g,onSave:p("singstar-mics"),closeButtonText:t,changePreference:c}),l==="different-mics"&&f.jsx(Hge,{onSetupComplete:d,onBack:g,onSave:p("singstar-mics"),closeButtonText:t,changePreference:c}),l==="built-in"&&f.jsx(Dge,{onSetupComplete:d,onBack:g,onSave:p("built-in"),closeButtonText:t,changePreference:c}),l==="advanced"&&f.jsx(Oge,{onSave:p("advanced"),onSetupComplete:d,onBack:g,closeButtonText:t,changePreference:c}),l==="skip"&&f.jsx(Kge,{onSetupComplete:d,onBack:g,onSave:p("skip"),closeButtonText:t,changePreference:c})]})}function Qge(){const e=fi();return f.jsxs(Za,{children:[f.jsx(ji,{children:f.jsx("title",{children:"Select Input | AllKaraoke.Party - Free Online Karaoke Party Game"})}),f.jsx($E,{onFinish:()=>e("menu/"),closeButtonText:"Go to main menu"})]})}const Jge=({error:e,resetError:t})=>f.jsxs(Za,{supportedBrowsers:!0,children:[f.jsxs("h1",{children:[f.jsx(vd,{fontSize:"large"})," An error occurred :("]}),"message"in e?f.jsxs(f.Fragment,{children:[f.jsx("h3",{children:"The game crashed with following error"}),f.jsx(Xge,{children:e.message})]}):f.jsx("h3",{children:"The game crashed"}),f.jsxs("h3",{children:["Help fix it by reporting what exactly has happened at"," ",f.jsx("a",{href:"https://github.com/Asvarox/allkaraoke",target:"_blank",rel:"noreferrer",children:"GitHub"})," ","or"," ",f.jsx("a",{href:"https://www.facebook.com/allkaraoke.party",target:"_blank",rel:"noreferrer",children:"Facebook"})]}),f.jsx(Fe,{onClick:t,children:"Reset Error"}),f.jsx("h4",{children:"If that doesn't help"}),f.jsx(Fe,{onClick:()=>{var n;return global.location.href=(n=global.location)==null?void 0:n.origin},children:"Reload the game"}),f.jsx("h4",{children:"If that doesn't help"}),f.jsx(Fe,{onClick:()=>{var n;global.confirm("Are you sure? It will delete all custom songs and scores. Before doing that, try opening the game in an private window or another browser to make sure it will actually help")&&(Le.session.clear(),Le.local.clear(),Cf.clear(),global.location.href=(n=global.location)==null?void 0:n.origin)},children:"Clear all data"})]}),Xge=j("span",{target:"e10ztnls0"})({name:"1jmtlcm",styles:"color:white;font-family:monospace"});function Zge(){el(!1);const e=Ad();return A.useEffect(()=>{if(e.data){const t={};(async()=>{for(const n of e.data){if(n.realBpm)continue;const r=[`lookup=song:${encodeURIComponent(n.title)}+artist:${encodeURIComponent(n.artist)}`,"type=both","api_key=undefined"].join("&"),s=await(await fetch(`https://api.getsongbpm.com/search/?${r}`)).json();t[n.id]=Array.isArray(s.search)&&s.search[0]||null}console.log(t)})()}},[e.data]),f.jsx(f.Fragment,{children:"Copy resulting object to `scripts/scraped-bpm-data.json` file and run fillMetadata script"})}function eme(){const e=fi(),t=()=>e("menu/");return f.jsxs(f.Fragment,{children:[f.jsx(ji,{children:f.jsx("title",{children:"Select Languages | AllKaraoke.Party - Free Online Karaoke Party Game"})}),f.jsx(VE,{children:f.jsx(BN,{onClose:t,closeText:"Return to Main Menu"})})]})}function _B(){const[e]=Qe(YS);A.useEffect(()=>{try{e&&document.body.requestFullscreen().catch(console.info)}catch{}},[])}let s1=0;function SB(){A.useEffect(()=>(document.body.classList.add("blockOverflow"),document.documentElement.classList.add("blockOverflow"),s1++,()=>{s1--,s1===0&&(document.body.classList.remove("blockOverflow"),document.documentElement.classList.remove("blockOverflow"))}),[])}const tme=pt(f.jsx("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2M7.5 18c-.83 0-1.5-.67-1.5-1.5S6.67 15 7.5 15s1.5.67 1.5 1.5S8.33 18 7.5 18m0-9C6.67 9 6 8.33 6 7.5S6.67 6 7.5 6 9 6.67 9 7.5 8.33 9 7.5 9m4.5 4.5c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5m4.5 4.5c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5m0-9c-.83 0-1.5-.67-1.5-1.5S15.67 6 16.5 6s1.5.67 1.5 1.5S17.33 9 16.5 9"}),"Casino");function nme({setFilters:e,filters:t,keyboardControl:n,visible:r,setVisible:i}){const s=A.useRef(null),[o,a]=A.useState(!1),l=h=>{e(p=>({...p,search:h}))};Dr("down",()=>{var h;(h=s.current)==null||h.blur()},{enabled:o,enableOnTags:["INPUT"]});const u=h=>{h.stopPropagation(),h.preventDefault(),l(h.key)};Dr($b,h=>{u(h),i(!0)},{enabled:!t.search&&n});const d=A.useCallback(h=>{n&&l(h)},[n]);return Ir(te.remoteSongSearch,d),Dr($b,h=>{var p;u(h),(p=s.current)==null||p.focus()},{enabled:!o&&n},[t.search]),Dr("Backspace",h=>{var p;(p=s.current)==null||p.focus()},{enabled:!o&&n},[t.search]),A.useEffect(()=>{o||i(!!t.search)},[o,t.search,i]),!t.search&&!r?null:f.jsx(rme,{"data-test":"song-list-search",children:f.jsx(ime,{large:!0,children:f.jsx("form",{"data-test":"filters-search-form",onSubmit:h=>{var p;h.preventDefault(),(p=s.current)==null||p.blur()},children:f.jsx(bc,{onFocus:()=>a(!0),onBlur:()=>a(!1),onKeyDown:h=>{var p;h.key==="Backspace"&&((p=t.search)==null?void 0:p.length)===0&&i(!1)},focused:o,autoFocus:!0,label:"Search",value:t.search??"",onChange:l,ref:s,"data-test":"filters-search"})})})})}const rme=j("div",{target:"ektgxsz1"})({name:"t46wvs",styles:"background:rgba(0, 0, 0, 0.7);padding:2rem;font-size:3rem;box-sizing:border-box;display:flex;flex-direction:row;gap:2rem;position:fixed;z-index:200;top:4.5rem;left:30rem;right:30rem"}),ime=j("div",{target:"ektgxsz0"})("flex:",e=>e.large?1.5:1,";");function sme({onRandom:e,setFilters:t,filters:n,keyboardControl:r}){const[i,s]=A.useState(!1),o=()=>{t(a=>({...a,search:""}))};return f.jsxs(f.Fragment,{children:[f.jsxs(ome,{children:[f.jsx(Ju,{title:"Search",place:"left",children:f.jsx(IR,{onClick:()=>i?o():s(!0),"data-test":"search-song-button",children:f.jsx(wE,{})})}),f.jsx(Ju,{title:"Pick random",place:"left",children:f.jsx(IR,{onClick:e,"data-test":"random-song-button",children:f.jsx(tme,{})})})]}),f.jsx(nme,{setFilters:t,filters:n,visible:i,setVisible:s,keyboardControl:r})]})}const IR=j(Hs,{target:"eie1eis1"})("box-shadow:inset 0 0 2px 2px ",ge.colors.text.active,";background:black;width:7.5rem;height:7.5rem;border-radius:50%;display:flex;align-items:center;justify-content:center;svg{width:4.5rem;height:4.5rem;}"),ome=j("div",{target:"eie1eis0"})({name:"1x0sh4s",styles:"pointer-events:none;position:fixed;display:flex;flex-direction:column;align-items:center;justify-content:center;bottom:2.5rem;right:2.5rem;z-index:100;gap:2rem"});function xB({videoId:e,...t}){return f.jsx(ume,{src:`https://img.youtube.com/vi/${e}/default.jpg`,alt:`Thumbnail image for YouTube video ${e}`,...t})}function ame({videoId:e,...t}){const n=qX(e)??e,[r,i]=A.useState(!0);A.useLayoutEffect(()=>{i(o=>!o)},[e]);const[s]=Qe(Ji);return s==="low"?null:f.jsxs(lme,{...t,children:[f.jsx(PR,{videoId:r?e:n,visible:r}),f.jsx(PR,{videoId:r?n:e,visible:!r}),f.jsx(cme,{videoId:n})]})}const lme=j("div",{target:"e1lv5ws3"})({name:"k44s62",styles:"position:relative;overflow:hidden;background:black"}),cme=j(xB,{target:"e1lv5ws2"})({name:"6dhm9o",styles:"visibility:hidden"}),PR=j(xB,{target:"e1lv5ws1"})("position:absolute;transition:opacity 300ms;opacity:",e=>e.visible?1:0,";"),ume=j("img",{target:"e1lv5ws0"})({name:"4uwt2b",styles:"width:100%;height:100%;object-fit:cover"});function dme(e,t,n="mousedown",r={}){zX(n,i=>{const s=i.target;if(!s||!s.isConnected)return;(Array.isArray(e)?e.filter(a=>!!a.current).every(a=>a.current&&!a.current.contains(s)):e.current&&!e.current.contains(s))&&t(i)},void 0,r)}function fme({active:e,closePlaylist:t,playlists:n,selectedPlaylist:r,setSelectedPlaylist:i}){const{register:s,focused:o,focusElement:a}=Yn({enabled:e,additionalHelp:{vertical:void 0,"horizontal-vertical":null}}),l=A.useRef(null);return dme(l,()=>{t()}),gc({left:()=>t("left"),right:()=>t("right")},e),A.useEffect(()=>{a(`playlist-${r}`)},[r]),A.useEffect(()=>{if(o){const c=n.find(u=>`playlist-${u.name}`===o);c&&i(c.name)}},[o,n]),f.jsx(hme,{"data-test":"song-list-playlists",active:e,ref:l,children:n.map(({Wrapper:c,...u})=>{const d=f.jsx(pme,{"data-selected":`playlist-${u.name}`===o,"data-active":e,...s(`playlist-${u.name}`,()=>a(`playlist-${u.name}`),void 0,u.name===r),children:u.display??u.name},u.name);return c?f.jsx(c,{active:e,focused:`playlist-${u.name}`===o,children:d},u.name):d})})}const hme=j("div",{target:"emspgv91"})("background:rgba(0, 0, 0, ",e=>e.active?.75:.5,");width:100vh;height:var(--song-sidebar-weight);transform-origin:top right;transform:rotate(-90deg);position:absolute;z-index:200;left:-100vh;top:0;box-sizing:border-box;display:flex;flex-direction:row-reverse;gap:0;h2{",Ke,";margin:0;}"),pme=j(Hs,{target:"emspgv90"})("font-size:2.3rem;justify-self:stretch;flex-grow:1;&[data-focused='false'][data-active='true']{background-color:transparent;}&[data-selected='true']{",MX,";}&[data-selected='false'][data-active='false']{opacity:0.75;}padding:1.5rem 1rem;"),FE=e=>{const[t,n]=A.useState(null),r=Lu(e),i=async()=>{n(await iO(e))};return A.useEffect(()=>{i()},[r]),Ir(te.songStatStored,i),t},gme=e=>async(t,n,r,i)=>{const s=Lu(e),o=await iO(e),a=o.scores.map(c=>{if(c.setup.id!==t)return c;const u=c.scores.map(d=>d.name!==r||d.score!==n?d:{name:i.trim(),score:n});return{...c,scores:u}}),l={...o,scores:a};await sO(e,l),te.songScoreUpdated.dispatch(s,l,i.trim())},mme=JSON.parse(`{
  "af": [
    "Persian Dari",
    "Pashto"
  ],
  "al": [
    "Albanian"
  ],
  "dz": [
    "Arabic",
    "Berber"
  ],
  "ad": [
    "Catalan"
  ],
  "ao": [
    "Portuguese"
  ],
  "ag": [
    "English"
  ],
  "ar": [
    "Spanish"
  ],
  "am": [
    "Armenian"
  ],
  "au": [
    "English"
  ],
  "at": [
    "German"
  ],
  "az": [
    "Azerbaijani"
  ],
  "bs": [
    "English"
  ],
  "bh": [
    "Arabic"
  ],
  "bd": [
    "Bengali"
  ],
  "bb": [
    "English"
  ],
  "by": [
    "Belarusian",
    "Russian"
  ],
  "be": [
    "Dutch",
    "French",
    "German"
  ],
  "bz": [
    "English"
  ],
  "dy": [
    "French"
  ],
  "bt": [
    "Dzongkha"
  ],
  "bo": [
    "Spanish",
    "Aymara",
    "Araona",
    "Baure",
    "Bsiro Chiquitano",
    "Canichana",
    "Cavinea",
    "Cayubaba",
    "Chcobo",
    "Chimn",
    "Ese Ejja",
    "Guaran",
    "Guarasuwe",
    "Guarayu",
    "Itonama",
    "Leco",
    "Machajuyai",
    "Machineri",
    "Maropa",
    "Mojeo",
    "Mojeo",
    "Mor",
    "Mosetn",
    "Movima",
    "Pacawara",
    "Puquina",
    "Quechua",
    "Sirion",
    "Tacana",
    "Tapiet",
    "Toromona",
    "Uru-Chipaya",
    "Weenhayek",
    "Yaminawa",
    "Yuki",
    "Yuracar",
    "Zamuco"
  ],
  "ba": [
    "Bosnian",
      "Croatian",
      "Serbian"
  ],
  "bw": [
    "English"
  ],
  "br": [
    "Portuguese"
  ],
  "bn": [
    "Malay"
  ],
  "bg": [
    "Bulgarian"
  ],
  "hv": [
    "French"
  ],
  "bi": [
    "French",
    "Kirundi",
    "English"
  ],
  "kh": [
    "Khmer"
  ],
  "cm": [
    "English",
    "French"
  ],
  "ca": [
    "English",
    "French"
  ],
  "cv": [
    "Portuguese"
  ],
  "cf": [
    "French",
    "Sango"
  ],
  "td": [
    "Arabic",
    "French"
  ],
  "cl": [
    "Spanish"
  ],
  "cn": [
    "Chinese"
  ],
  "cx": [
    "English",
    "Chinese",
    "Malay"
  ],
  "cc": [
    "English",
    "Cocos Malay"
  ],
  "co": [
    "Spanish"
  ],
  "km": [
    "Arabic",
    "Comorian",
    "French"
  ],
  "cd": [
    "French"
  ],
  "cg": [
    "French"
  ],
  "ck": [
    "English",
    "Cook Islands Mori"
  ],
  "cr": [
    "Spanish"
  ],
  "hr": [
    "Croatian"
  ],
  "cu": [
    "Spanish"
  ],
  "cy": [
    "Turkish"
  ],
  "cz": [
    "Czech",
    "Slovak"
  ],
  "dk": [
    "Danish"
  ],
  "dj": [
    "Arabic",
    "French"
  ],
  "dm": [
    "English"
  ],
  "do": [
    "Spanish"
  ],
  "tl": [
    "Portuguese",
    "Tetum"
  ],
  "ec": [
    "Spanish",
    "Quechua"
  ],
  "eg": [
    "Arabic"
  ],
  "sv": [
    "Spanish"
  ],
  "gq": [
    "French",
    "Portuguese",
    "Spanish"
  ],
  "er": [
    "Tigrinya"
  ],
  "ee": [
    "Estonian"
  ],
  "sz": [
    "English",
    "Swazi"
  ],
  "et": [
    "Afar",
    "Amharic",
    "Oromo",
    "Somali",
    "Tigrinya"
  ],
  "fj": [
    "English",
    "Fijian",
    "Fiji Hindi"
  ],
  "fi": [
    "Finnish",
    "Swedish"
  ],
  "fx": [
    "French"
  ],
  "ga": [
    "French"
  ],
  "gm": [
    "English"
  ],
  "ge": [
    "Ossetian",
    "Russian"
  ],
  "de": [
    "German"
  ],
  "gh": [
    "English"
  ],
  "gr": [
    "Greek"
  ],
  "gd": [
    "English"
  ],
  "gt": [
    "Spanish"
  ],
  "gn": [
    "French"
  ],
  "gw": [
    "Portuguese"
  ],
  "gy": [
    "English"
  ],
  "ht": [
    "French",
    "Creole"
  ],
  "hn": [
    "Spanish"
  ],
  "hu": [
    "Hungarian"
  ],
  "is": [
    "Icelandic"
  ],
  "in": [
    "Hindi",
    "English"
  ],
  "id": [
    "Indonesian"
  ],
  "ir": [
    "Persian"
  ],
  "iq": [
    "Arabic",
    "Kurdish"
  ],
  "ie": [
    "Irish",
    "English"
  ],
  "il": [
    "Hebrew"
  ],
  "it": [
    "Italian"
  ],
  "ci": [
    "French"
  ],
  "jm": [
    "English"
  ],
  "jp": [
    "Japanese"
  ],
  "jo": [
    "Arabic"
  ],
  "kz": [
    "Kazakh",
    "Russian"
  ],
  "ke": [
    "English",
    "Swahili"
  ],
  "ki": [
    "English",
    "Gilbertese"
  ],
  "kp": [
    "Korean"
  ],
  "kr": [
    "Korean"
  ],
  "xk": [
    "Albanian",
    "Serbian"
  ],
  "kw": [
    "Arabic"
  ],
  "kg": [
    "Kyrgyz",
    "Russian"
  ],
  "la": [
    "Lao"
  ],
  "lv": [
    "Latvian"
  ],
  "lb": [
    "Arabic"
  ],
  "ls": [
    "Sotho",
    "English"
  ],
  "lr": [
    "English"
  ],
  "ly": [
    "Arabic"
  ],
  "li": [
    "German"
  ],
  "lt": [
    "Lithuanian"
  ],
  "lu": [
    "French",
    "German",
    "Luxembourgish"
  ],
  "mg": [
    "French",
    "Malagasy"
  ],
  "mw": [
    "English",
    "Chichewa"
  ],
  "my": [
    "Malay"
  ],
  "mv": [
    "Dhivehi"
  ],
  "ml": [
    "Bambara",
    "Bobo",
    "Bozo",
    "Dogon",
    "Fula",
    "Hassaniya",
    "Kassonke",
    "Maninke",
    "Minyanka",
    "Senufo",
    "Songhay",
    "Soninke",
    "Tamasheq"
  ],
  "mt": [
    "Italian"
  ],
  "mh": [
    "English",
    "Marshallese"
  ],
  "mr": [
    "Arabic"
  ],
  "mu": [
    "English",
    "Morisien"
  ],
  "mx": [
    "Spanish"
  ],
  "fm": [
    "English"
  ],
  "md": [
    "Moldovan",
    "Russian",
    "Ukrainian"
  ],
  "mc": [
    "French"
  ],
  "mn": [
    "Mongolian"
  ],
  "me": [
    "Montenegrin"
  ],
  "ma": [
    "Arabic",
    "Berber"
  ],
  "mz": [
    "Portuguese"
  ],
  "mm": [
    "Burmese"
  ],
  "na": [
    "English"
  ],
  "nr": [
    "English",
    "Nauruan"
  ],
  "np": [
    "Nepali"
  ],
  "nl": [
    "Dutch"
  ],
  "nz": [
    "English",
    "Maori"
  ],
  "ni": [
    "Spanish"
  ],
  "ne": [
    "French"
  ],
  "ng": [
    "English"
  ],
  "nu": [
    "English",
    "Niuean"
  ],
  "nf": [
    "English",
    "Norfuk"
  ],
  "mk": [
    "Macedonian",
    "Albanian"
  ],
  "no": [
    "Norwegian",
    "Sami"
  ],
  "om": [
    "Arabic"
  ],
  "pk": [
    "Urdu",
    "English"
  ],
  "pw": [
    "English",
    "Palauan"
  ],
  "ps": [
    "Arabic"
  ],
  "pa": [
    "Spanish"
  ],
  "pg": [
    "English",
    "Hiri Motu",
    "Tok Pisin"
  ],
  "py": [
    "Spanish",
    "Guaran"
  ],
  "pe": [
    "Spanish",
    "Quechua",
    "Aymara",
    "Ashninka"
  ],
  "ph": [
    "Filipino",
    "English"
  ],
  "pl": [
    "Polish"
  ],
  "pt": [
    "Portuguese"
  ],
  "qa": [
    "Arabic"
  ],
  "ro": [
    "Romanian"
  ],
  "su": [
    "Russian"
  ],
  "rw": [
    "English",
    "French",
    "Kinyarwanda",
    "Swahili"
  ],
  "eh": [
    "Arabic"
  ],
  "kn": [
    "English"
  ],
  "lc": [
    "English"
  ],
  "vc": [
    "English"
  ],
  "ws": [
    "English",
    "Samoan"
  ],
  "sm": [
    "Italian"
  ],
  "st": [
    "Portuguese"
  ],
  "sa": [
    "Arabic"
  ],
  "sn": [
    "French"
  ],
  "yu": [
    "Serbian"
  ],
  "sc": [
    "English",
    "French",
    "Creole"
  ],
  "sl": [
    "English"
  ],
  "sg": [
    "English",
    "Malay",
    "Chinese",
    "Tamil"
  ],
  "sk": [
    "Slovak"
  ],
  "si": [
    "Slovene"
  ],
  "sb": [
    "English"
  ],
  "so": [
    "Arabic",
    "English",
    "Somali"
  ],
  "za": [
    "Afrikaans",
    "English",
    "Ndebele",
    "Sotho",
    "Swazi",
    "Tsonga",
    "Tswana",
    "Venda",
    "Xhosa",
    "Zulu"
  ],
  "ss": [
    "English"
  ],
  "es": [
    "Spanish"
  ],
  "lk": [
    "Sinhala",
    "Tamil"
  ],
  "sd": [
    "Arabic",
    "English"
  ],
  "sr": [
    "Dutch"
  ],
  "se": [
    "Swedish"
  ],
  "ch": [
    "French",
    "German",
    "Italian",
    "Romansh"
  ],
  "sy": [
    "Arabic"
  ],
  "tw": [
    "Chinese"
  ],
  "tj": [
    "Tajik"
  ],
  "tz": [
    "Swahili",
    "English"
  ],
  "th": [
    "Thai"
  ],
  "tg": [
    "French"
  ],
  "tk": [
    "English",
    "Tokelauan"
  ],
  "to": [
    "English",
    "Tongan"
  ],
  "tt": [
    "English"
  ],
  "tn": [
    "Arabic"
  ],
  "tr": [
    "Turkish"
  ],
  "tm": [
    "Turkmen"
  ],
  "tv": [
    "Tuvaluan",
    "English"
  ],
  "ug": [
    "English",
    "Swahili"
  ],
  "ua": [
    "Ukrainian"
  ],
  "ae": [
    "Arabic"
  ],
  "uk": [
    "English"
  ],
  "us": [
    "English"
  ],
  "uy": [
    "Spanish"
  ],
  "uz": [
    "Uzbek"
  ],
  "vu": [
    "English",
    "French",
    "Bislama"
  ],
  "va": [
    "Italian"
  ],
  "ve": [
    "Spanish"
  ],
  "vn": [
    "Vietnamese"
  ],
  "ye": [
    "Arabic"
  ],
  "zm": [
    "English"
  ],
  "zw": [
    "Chewa",
    "Chibarwe",
    "English",
    "Kalanga",
    "Khoisan",
    "Nambya",
    "Ndau",
    "Ndebele",
    "Shangani",
    "Shona",
    "Sotho",
    "Tonga",
    "Tswana",
    "Venda",
    "Xhosa"
  ]
}`),yme=["US","GB"];function vme({song:e,forceFlag:t,...n}){const r=e.language[0],i=A.useMemo(()=>{var s;return e.artistOrigin?((s=mme[e.artistOrigin.toLowerCase()])==null?void 0:s.includes(r))??t:!1},[e.artistOrigin,r,t]);return f.jsx(f.Fragment,{children:t&&e.artistOrigin?f.jsx(Dl,{isocode:e.artistOrigin,...n}):i&&!yme.includes(e.artistOrigin)?f.jsx(Dl,{isocode:e.artistOrigin,...n}):e.language[0]!=="English"?f.jsx(Dl,{language:e.language,...n}):null})}const Ame=pt(f.jsx("path",{d:"M7.25 12.5 4.75 9H3.5v6h1.25v-3.5L7.3 15h1.2V9H7.25zM9.5 15h4v-1.25H11v-1.11h2.5v-1.26H11v-1.12h2.5V9h-4zm9.75-6v4.5h-1.12V9.99h-1.25v3.52h-1.13V9H14.5v5c0 .55.45 1 1 1h4c.55 0 1-.45 1-1V9z"}),"FiberNewOutlined"),bme=pt(f.jsx("path",{d:"M12 17.27 18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"}),"Star"),vS=e=>{var t,n,r;return((r=(n=(t=e.edition)==null?void 0:t.split(",").find(i=>i.toLowerCase().startsWith("esc ")))==null?void 0:n.replace("Esc ",""))==null?void 0:r.trim())??void 0};function _me(e){return!!vS(e)}const wB="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'?%3e%3csvg%20width='125.33'%20height='131.46'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:cc='http://creativecommons.org/ns%23'%20xmlns:dc='http://purl.org/dc/elements/1.1/'%20xmlns:rdf='http://www.w3.org/1999/02/22-rdf-syntax-ns%23'%3e%3cpath%20stroke='black'%20fill='white'%20d='m12.726%2058.556c0.31803-28.513%2015.157-37.437%2023.237-37.437%2011.285%200%2015.946%208.6151%2016.707%2012.429%200.76116%203.8111%205.0324%206.8595%206.4047%200.60798%201.3734-6.2515%2014.649-25.315%2030.966-25.315%2014.943%200%2020.119%2015.41%2019.671%2028.518-1.2228%2035.683-47.19%2064.158-53.239%2082.143-5.3875-10.891-44.126-26.634-43.746-60.946zm82.652-58.556c-13.42%200-29.29%209.9111-38.896%2026.382-2.592-5.9483-11.827-12.43-22.805-12.43-8.8462%200-33.676%2011.056-33.676%2046.74%200%2046.052%2046.593%2055.508%2056.011%2069.825%200.64721%200.98433%202.7319%201.728%203.5276-0.62388%207.5157-22.18%2065.791-47.242%2065.791-92.379-5.3e-4%20-25.314-16.536-37.513-29.955-37.513z'%20stroke-width='.53006'/%3e%3c/svg%3e",Sme=e=>f.jsxs(wme,{children:[e.song.tracksCount>1&&f.jsxs(Cme,{"data-test":"multitrack-indicator",children:[f.jsx(am,{})," Duet"]}),f.jsx(xme,{song:e.song,isPopular:e.isPopular,focused:!!e.video})]}),xme=({song:e,isPopular:t,focused:n})=>{var l,c;const r=A.useMemo(()=>R0.recentlyUpdated([e]).length>0,[e]),i=_me(e),s=FE(e),o=((c=(l=s==null?void 0:s.scores)==null?void 0:l.at(-1))==null?void 0:c.date)??!1,a=o&&Rs(o).isAfter(Rs().subtract(1,"days"));return s!=null&&s.plays?f.jsx(CB,{"data-test":"song-stat-indicator",children:a?"Played today":f.jsx(f.Fragment,{children:n?f.jsxs(f.Fragment,{children:["Played ",s.plays," time",s.plays>1&&"s"]}):s.plays})}):i?f.jsxs(a1,{white:!0,children:[f.jsx(o1,{children:n?`Eurovision ${vS(e)}`:vS(e)}),f.jsx(Eme,{src:wB,alt:e.edition})]}):r?f.jsx(a1,{white:!0,children:n?f.jsx(o1,{children:"Added recently"}):f.jsx(Ame,{})}):t&&e.language.includes("English")?f.jsx(f.Fragment,{children:f.jsxs(a1,{children:[n&&f.jsx(o1,{children:"Popular"}),f.jsx(bme,{})]})}):null},o1=j("div",{target:"enamf7r6"})({name:"eh2bdr",styles:"padding:0 0.5rem;line-height:0;margin-top:0.2rem;&+svg{margin-left:-0.25rem;}"}),wme=j("div",{target:"enamf7r5"})({name:"67oilw",styles:"position:absolute;top:0.5rem;left:0;padding:0 0.5rem;box-sizing:border-box;display:flex;align-items:center;justify-content:flex-end;gap:0.5rem;width:100%"}),EB=j("div",{target:"enamf7r4"})({name:"1utw6sa",styles:"height:2.75rem;min-width:2.75rem;box-sizing:border-box;color:white;font-size:1.4rem;display:flex;align-items:center;justify-content:center;text-transform:uppercase;background:rgba(0, 0, 0, 0.75);border-radius:0.5rem"}),a1=j(EB,{target:"enamf7r3"})("overflow:hidden;display:flex;align-items:center;justify-content:center;svg,img{fill:",e=>e.white?"white":ge.colors.text.active,";width:2.5rem;height:2.5rem;}"),Eme=j("img",{target:"enamf7r2"})({name:"1pr315k",styles:"padding:0.35rem;margin:0 0.15rem 0 -0.35rem;box-sizing:border-box"}),CB=j(EB,{target:"enamf7r1"})({name:"2ycp6t",styles:"padding:0 1rem"}),Cme=j(CB,{target:"enamf7r0"})({name:"1k65tge",styles:"margin-right:auto;svg{width:1.75rem;height:1.75rem;}"}),kB=({song:e,focused:t,video:n,children:r,index:i,groupLetter:s,handleClick:o,isPopular:a,background:l=!0,forceFlag:c=!1,...u})=>{const d=u["data-expanded"]??!1,h=A.useCallback(()=>o?o(i,s):void 0,[o,i,s]),[p]=Qe(Ji);return f.jsxs(Ime,{...u,onClick:o?h:void 0,children:[l&&f.jsx(Pme,{style:{backgroundImage:`url('https://i3.ytimg.com/vi/${e.video}/hqdefault.jpg')`},"data-focused":d?!1:t,"data-expanded":u["data-expanded"],"data-graphic-setting":p}),f.jsxs(Tme,{"data-expanded":d,children:[!d&&f.jsx(Sme,{song:e,isPopular:a,video:n}),f.jsx(zE,{"data-expanded":d,children:e.artist}),f.jsx(mv,{"data-expanded":d,children:e.title}),f.jsxs(TB,{"data-expanded":d,children:[d&&f.jsxs(f.Fragment,{children:[e.author&&f.jsxs(PB,{expanded:d,children:["by",e.authorUrl?f.jsx("a",{href:e.authorUrl,target:"_blank",rel:"noreferrer",children:e.author}):e.author]}),f.jsx(Rme,{song:e})]}),!d&&f.jsx(kme,{song:e,forceFlag:c})]})]}),r,n]})},kme=j(vme,{target:"e1ornw2x8"})({name:"1152n88",styles:"height:2.75rem;object-fit:cover;border-top-right-radius:1rem;border-bottom-left-radius:1rem;position:absolute;z-index:-1;left:0rem;bottom:0rem;opacity:0.95"}),TB=j("div",{target:"e1ornw2x7"})({name:"1dgv8bf",styles:"display:flex;flex-direction:column;align-items:flex-start;justify-content:flex-start"}),Tme=j("div",{target:"e1ornw2x6"})({name:"cwmgde",styles:"width:100%;height:100%;display:flex;align-items:flex-end;justify-content:flex-end;z-index:1;box-sizing:border-box;flex-direction:column;&[data-expanded='true']{align-items:flex-start;justify-content:flex-start;}"}),Ime=j("div",{target:"e1ornw2x5"})({name:"1s4n252",styles:"font-size:4.5rem;display:flex;align-items:flex-end;justify-content:flex-end;flex-direction:column;box-sizing:border-box;position:relative;padding:0.5rem;border:0.1rem black solid;border-radius:1rem"}),Pme=j("div",{target:"e1ornw2x4"})({name:"10xrxr9",styles:"background-color:#2b2b2b;border-radius:1rem;&[data-expanded='true']{border-radius:0;}position:absolute;z-index:-1;inset:0;&[data-graphic-setting='high']{transition:300ms;&[data-focused='true']{background-size:100%;opacity:1;}&[data-focused='false']{background-size:110%;filter:grayscale(90%);opacity:0.8;}&[data-expanded='true']{filter:blur(10px);}}&[data-graphic-setting='low']{background-size:100%;opacity:0.6;&[data-focused='true']{opacity:1;}}background-position:center center"}),IB=j("span",{target:"e1ornw2x3"})("background:rgba(0, 0, 0, 0.7);width:auto;display:inline-block;padding:0.5rem;",Ke,";text-align:right;font-size:2.7rem;&[data-expanded='true']{font-size:6rem;}"),zE=j(IB,{target:"e1ornw2x2"})("color:",ge.colors.text.active,";"),mv=j(IB,{target:"e1ornw2x1"})("margin-top:",e=>e.expanded?"1.5rem":"0.5rem",";color:white;"),PB=j(mv,{target:"e1ornw2x0"})({name:"5twmqz",styles:"font-size:3rem;margin-top:3rem"}),Rme=({song:e})=>{const t=FE(e);return f.jsx(PB,{children:t!=null&&t.plays?`Played ${t.plays} time${t.plays>1?"s":""}`:"Never played yet"})};function Mme({groupedSongList:e,onScrollToGroup:t,container:n}){const[r,i]=A.useState([]);return A.useEffect(()=>{const s=new IntersectionObserver(a=>{a.forEach(l=>{const c=l.target.getAttribute("data-group-name");l.isIntersecting?i(u=>[...u,c]):i(u=>u.filter(d=>d!==c))})}),o=new MutationObserver(()=>{const a=document.querySelectorAll("[data-group-name]");s.disconnect(),i([]),a.forEach(l=>{s.observe(l)})});if(n)return o.observe(n,{childList:!0,subtree:!0}),()=>{o.disconnect(),i([]),s.disconnect()}},[e,n]),f.jsx(f.Fragment,{children:f.jsx(jme,{children:e.map(s=>{const o=r.includes(s.name);return f.jsx(Ome,{onClick:()=>t(s),"data-active":o,"data-test":`group-navigation-${s.name}`,children:s.displayShort??s.name},s.name)})})})}const jme=j("div",{target:"e131hflw1"})({name:"191ly3l",styles:"position:fixed;display:flex;flex-direction:row;align-items:center;justify-content:flex-start;top:0;left:var(--song-sidebar-weight);padding:1rem 0 1.5rem 2rem;width:100%;z-index:100;gap:1rem;background:rgba(0, 0, 0, 0.75)"}),Ome=j(Hs,{target:"e131hflw0"})("border:none;cursor:pointer;",Ke,";display:inline-flex;align-items:center;justify-content:center;height:3.3rem;padding:0.5rem 1.25rem;font-size:2.3rem;z-index:1;color:",ge.colors.text.default,";&[data-active='true']{background:",ge.colors.text.active,";}&[data-active='false']{background:rgba(0, 0, 0, 0.7);}");var Vme=A.createContext({client:On}),Lme=function(){var e=A.useContext(Vme).client;return e};function Nme(e){var t=Lme(),n=A.useState(),r=n[0],i=n[1];return A.useEffect(function(){return t.onFeatureFlags(function(){i(t.getFeatureFlag(e))})},[t,e]),r}const RR={[Fr.DUEL]:"Duel",[Fr.PASS_THE_MIC]:"Pass The Mic",[Fr.CO_OP]:"Cooperation"},l1=["Hard","Medium","Easy"],Bme=Xa("song_settings-game_mode-v3"),Dme=Xa("song_settings-tolerance-v2");function $me({songPreview:e,onNextStep:t,keyboardControl:n,onExitKeyboardControl:r}){const[i,s]=Bme(null),o=i??(e.tracksCount>1?Fr.CO_OP:Fr.DUEL),[a,l]=Dme(1),c=()=>{const p={id:$m(),players:[],mode:o,tolerance:a+1};t(p)},u=()=>{s(Bl(Object.values(Fr),o))},d=()=>l(p=>rp(l1,p,-1)),{register:h}=Yn({enabled:n,onBackspace:r,additionalHelp:{remote:["select-song"]}});return f.jsxs(f.Fragment,{children:[f.jsx(MR,{...h("difficulty-setting",d,"Change difficulty"),label:"Difficulty",value:l1[a],"data-test-value":l1[a]}),f.jsx(MR,{...h("game-mode-setting",u,"Change mode"),label:"Mode",value:RR[o],"data-test-value":RR[o]}),f.jsxs(zme,{children:[o===Fr.DUEL&&"Face off against each other - person that earns more points wins.",o===Fr.CO_OP&&"Join forces and sing together - your points will be added up to a single pool.",o===Fr.PASS_THE_MIC&&f.jsxs(f.Fragment,{children:["For more than 2 players - split into groups and pass the microphone within the group when prompted with"," ",f.jsx(CE,{})," symbol."]})]}),f.jsx(Fme,{...h("next-step-button",c,void 0,!0),children:"Next "})]})}const Fme=j(Hs,{target:"ews4mmz2"})({name:"sr8dp2",styles:"padding:0.5rem 9rem;font-size:4.3rem;width:50rem"}),zme=j("h3",{target:"ews4mmz1"})({name:"rdh6te",styles:"max-width:50rem;margin:-1rem 0 1rem!important;padding:1.5rem;background:rgba(0, 0, 0, 0.7);box-sizing:border-box"}),MR=j(es,{target:"ews4mmz0"})({name:"1tcj19k",styles:"font-size:4.3rem;padding:1rem;min-width:50rem;box-sizing:border-box"});function Ume(){const t=Ri(te.playerInputChanged,()=>Oe.getInputs()).some(o=>o.source==="Microphone"),n=A.useRef([]),r=A.useCallback(o=>{n.current.push(o)},[]);kge(0,50,r);const[i,s]=A.useState(!1);return A.useEffect(()=>{const o=setInterval(()=>{const a=n.current.filter(([,h])=>h===0),l=n.current.filter(([,h])=>h>0),c=a.reduce((h,[p])=>h+p,0)/(a.length+1),u=l.reduce((h,[p])=>h+p,0)/(l.length+1),d=l.length>a.length*.1&&u>.01&&c>.01&&u-c<c/2;s(d),n.current.length=0},i?5e3:2500);return()=>clearInterval(o)},[i]),f.jsxs(Hme,{visible:i,children:[f.jsxs("h2",{children:[f.jsx("strong",{children:f.jsx(vd,{})})," ","Noise detected"]}),f.jsx("hr",{}),f.jsxs("h4",{children:["This might make singing inaccurate. Make sure your microphone doesn't pick up the music."," ",t&&f.jsxs(f.Fragment,{children:["Alternatively, use your ",f.jsx("strong",{children:"smartphone as a microphone"})," instead."]})]})]})}const Hme=j("div",{target:"e1liv9270"})("opacity:",e=>e.visible?1:0,";transition:300ms;background:rgba(0, 0, 0, 0.75);padding:1rem;max-width:50rem;position:relative;top:-1rem;left:-0.5rem;"),RB=(e,t=333,n)=>{const[r,i]=A.useState("ok");return A.useEffect(()=>{const s=setInterval(()=>{i(wn.getInputStatus(e))},t);return()=>{clearInterval(s)}},[e,t,n]),r},MB=e=>{const[t,n]=A.useState(null);return A.useEffect(()=>{const r=setInterval(()=>{const i=rt.getRemoteMicById(e??"");n(i?i.getLatency():null)},1e3);return()=>{clearInterval(r)}},[e]),t};function jB({playerNumber:e,...t}){var r,i;const n=MB((i=(r=Oe.getPlayer(e))==null?void 0:r.input)==null?void 0:i.deviceId);return f.jsx(f.Fragment,{children:n!==null?f.jsxs(Gme,{...t,children:[n,"ms"]}):""})}const Gme=j("span",{target:"e10sf0140"})({name:"1wwatg0",styles:"position:absolute;right:4rem;bottom:0.5rem;font-size:1.75rem"});function OB({status:e,tooltipPosition:t="end",...n}){return f.jsxs(qme,{...n,children:[e==="ok"?f.jsx(Wme,{"data-test":"status-ok"}):e==="unavailable"?f.jsx(Kme,{"data-test":"status-unavailable"}):f.jsx(Yme,{"data-test":"status-unstable"}),e==="unavailable"?f.jsx(jR,{position:t,children:f.jsxs("span",{children:["The device is ",f.jsx("strong",{children:"disconnected"}),". Reconnect it, please."]})}):e==="unstable"?f.jsx(jR,{position:t,children:f.jsxs("span",{children:["The connection seems ",f.jsx("strong",{children:"unstable"}),". Connect to the same Wifi."]})}):null]})}const qme=j("span",{target:"etoberq4"})({name:"186aqlb",styles:"position:absolute;right:0.5rem;top:0.5rem;font-size:3rem;z-index:10;svg{width:3rem;height:3rem;text-shadow:black;}"}),Wme=j("div",{target:"etoberq3"})({name:"1jjo9fl",styles:"margin:0.15rem;width:2.7rem;height:2.7rem;display:inline-block;background:#ffffff;border:1px solid black;border-radius:50%"}),Kme=j(AB,{target:"etoberq2"})({name:"f0g68e",styles:"fill:#ff0000"}),Yme=j(vd,{target:"etoberq1"})({name:"w492oh",styles:"fill:#f89400;stroke:black"}),jR=j("div",{target:"etoberq0"})(Ke,";position:absolute;left:",e=>e.position==="end"?"100%":"auto",";right:",e=>e.position==="end"?"auto":"150%",";top:-0.5rem;font-size:1.5rem;height:100%;display:flex;align-items:center;width:25rem;background:rgba(0, 0, 0, 0.75);padding:0.5rem;margin-left:2rem;");function VB({player:e}){const t=RB(e.number);return f.jsxs(Qme,{"data-test":`indicator-player-${e.number}`,children:[f.jsx(jB,{playerNumber:e.number}),f.jsx(OB,{status:t}),t!=="unavailable"&&f.jsx(BE,{playerNumber:e.number}),f.jsx(Jme,{className:"ph-no-capture",children:e.getName()})]},e.number)}const Qme=j("div",{target:"e17xkp2e1"})({name:"1gmoqr1",styles:"position:relative;border:0.1rem solid white;padding:1rem 3rem;background:black;width:80%;text-align:center;gap:1.25rem;font-size:2.3rem;color:white;-webkit-text-stroke:1px black"}),Jme=j("span",{target:"e17xkp2e0"})({name:"179t5g5",styles:"position:relative;z-index:1"});function Xme(e){Ds(te.playerNameChanged),A.useEffect(()=>{wn.startMonitoring()},[]);const n=Ri(te.playerInputChanged,()=>Oe.getInputs()).some(r=>r.source!=="Dummy");return f.jsxs(Zme,{...e,children:[f.jsxs(e0e,{children:["Microphone Check",n?Oe.getPlayers().map(r=>f.jsx(VB,{player:r},r.number)):f.jsxs(f.Fragment,{children:[f.jsx(t0e,{children:"Mic not setup"}),f.jsx("h4",{children:"Singing will be emulated"}),f.jsx("h5",{children:"You can setup in the Next step"})]})]}),f.jsx(Ume,{})]})}const Zme=j("div",{target:"egp8knc2"})("display:flex;font-size:3rem;",Ke,";margin-bottom:8.6rem;gap:3.5rem;"),e0e=j("div",{target:"egp8knc1"})({name:"fmwdml",styles:"gap:1.25rem;display:flex;flex-direction:column;align-items:center"}),t0e=j("div",{target:"egp8knc0"})({name:"1x5xnlp",styles:"position:relative;border:0.1rem solid white;padding:1rem 3rem;background:black;width:80%;text-align:center;gap:1.25rem;font-size:2.3rem;color:white"});function LB({onClose:e,closeButtonText:t}){return f.jsx(Ac,{onClose:e,children:f.jsx(Qa,{children:f.jsx($E,{smooth:!1,onBack:e,onFinish:e,closeButtonText:t,skipText:"Back"})})})}const UE=A.forwardRef(({options:e,focused:t,label:n,value:r,onChange:i,disabled:s,placeholder:o,$keyboardNavigationChangeFocus:a,onBlur:l,className:c,...u},d)=>{const h=A.useRef(null);A.useImperativeHandle(d,()=>h.current);const p=A.useRef(null),[g,m]=A.useState(!1),[b,y]=A.useState(-1),v=A.useMemo(()=>e.filter(S=>S.toLowerCase().trim().includes(r.toLowerCase().trim())&&S!==r),[e,r]),_=S=>{var E,C,k;if(S.code==="ArrowUp"||S.code==="ArrowDown")if(v.length){S.preventDefault();const O=rp(v,b,S.code==="ArrowUp"?-1:1);y(O);const w=(E=p.current)==null?void 0:E.querySelector(`[data-index="${O}"]`);w==null||w.scrollIntoView({behavior:"smooth",block:"center"})}else(C=h.current)==null||C.blur(),a==null||a(S.code==="ArrowUp"?-1:1);else if(S.code==="Enter"){const O=v[b];O?(y(-1),i(O)):(k=h.current)==null||k.blur()}},x=()=>{setTimeout(()=>{m(!1),l==null||l()},300)};return f.jsxs(n0e,{className:c,children:[f.jsx(bc,{onFocus:()=>m(!0),onBlur:x,onKeyDown:_,onChange:i,value:r,focused:t,label:n,disabled:s,ref:h,placeholder:o,...u}),g&&!!v.length&&f.jsx(r0e,{ref:p,role:"listbox",children:v.map((S,E)=>f.jsx(i0e,{role:"listitem","data-index":E,"data-focused":E===b,"data-e2e-focused":E===b,focused:E===b,onClick:()=>{var C;i(S),y(-1),(C=h.current)==null||C.blur()},children:S},S))})]})});UE.displayName="Autocomplete";const n0e=j("div",{target:"elw4n422"})({name:"bjn8wh",styles:"position:relative"}),r0e=j("div",{target:"elw4n421"})("margin-top:0.1em;position:absolute;width:100%;background:black;max-height:",(1+2*.3)*4,"em;overflow-y:auto;z-index:2;"),i0e=j("div",{target:"elw4n420"})(Ke,";padding:0.3em;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;color:",e=>e.focused?ge.colors.text.active:"white",";cursor:pointer;"),s0e=(e,t)=>{var n;return((n=e[t])==null?void 0:n.name)??`Track ${t+1}`};function o0e({multipleTracks:e,player:t,songPreview:n,playerNames:r,register:i,onChange:s,setup:o}){const[a,l]=A.useState(!1),c=A.useRef(null);if(Ds(te.playerNameChanged),t===void 0)return null;const u=()=>s({number:t.number,track:(o.track+1)%n.tracksCount}),d=g=>{l(!0),t.setName(g)},h=!a,p=t.getName();return f.jsxs(f.Fragment,{children:[f.jsx(a0e,{maxLength:vx,className:"ph-no-capture",value:h?"":p,placeholder:h?p:void 0,options:r,onChange:d,label:"Name:",ref:c,...i(`player-${t.number}-name`,()=>{var g;return(g=c.current)==null?void 0:g.focus()})}),e&&f.jsx(l0e,{...i(`player-${t.number}-track-setting`,u,"Change track"),label:"Track",value:s0e(n.tracks,o.track),"data-test-value":o.track+1})]})}const a0e=j(UE,{target:"euluv3p1"})("input{font-size:4.5rem;}[role='listbox']{max-height:",6*(4.5+.3),"rem;}"),l0e=j(es,{target:"euluv3p0"})({name:"1bwrnjg",styles:"font-size:4.5rem;padding:1.1rem"});function c0e({songPreview:e,onNextStep:t,keyboardControl:n,onExitKeyboardControl:r}){const[i]=Qe(br),[s]=Qe(KS),o=Oe.getPlayers(),a=!i&&o.length===2&&e.tracksCount>1,l=()=>o.map((x,S)=>({number:x.number,track:a?Math.min(S,e.tracksCount-1):0})),[c,u]=A.useState(l());Ir([te.playerAdded,te.playerRemoved],()=>u(l()));const d=o.map((x,S)=>c.find(E=>E.number===x.number)??l()[S]),h=A.useMemo(()=>JSON.parse(Le.session.getItem(Nu))??[],[]),p=x=>S=>{u(E=>E.map(C=>C.number===x?S:C))},[g,m]=A.useState(!1);A.useEffect(()=>{g||wn.startMonitoring()},[g]);const{register:b,focusElement:y}=Yn({enabled:n&&!g,onBackspace:r,additionalHelp:{remote:["select-song"]}}),v=()=>{t(d)},_=!!s&&s!=="skip";return f.jsxs(f.Fragment,{children:[g&&f.jsx(LB,{closeButtonText:_?"Continue to the song":"Continue to player setup",onClose:()=>{m(!1),_&&y("play")}}),d.map((x,S)=>f.jsxs(u0e,{children:[f.jsxs(d0e,{children:["Player ",S+1]}),f.jsx("div",{children:f.jsx(o0e,{multipleTracks:a,player:Oe.getPlayer(x.number),setup:x,onChange:p(x.number),playerNames:h,register:b,songPreview:e})})]},x.number)),_&&f.jsx(OR,{...b("play-song-button",v,void 0,!0),children:"Play"}),f.jsx(OR,{...b("select-inputs-button",()=>m(!0),void 0,!1),children:"Setup mics"})]})}const u0e=j("div",{target:"e12y59822"})({name:"ho1qnd",styles:"display:flex;flex-direction:row"}),OR=j(Hs,{target:"e12y59821"})({name:"afgxf2",styles:"padding:0.5rem 9rem;font-size:4.3rem"}),d0e=j("span",{target:"e12y59820"})(Ke,";padding:1.3rem;font-size:4.5rem;");function f0e({songPreview:e,onPlay:t,keyboardControl:n,onExitKeyboardControl:r}){const[i,s]=A.useState(null),[o,a]=A.useState("song"),l=u=>{s(u),a("players")},c=u=>{if(!i)return;const d={...i,players:u};te.songStarted.dispatch(e,d),t({song:e,...d})};return f.jsxs(h0e,{children:[f.jsx(Xme,{style:o==="players"?{viewTransitionName:"player-mic-check-container"}:void 0}),f.jsxs(p0e,{children:[o==="song"&&f.jsx($me,{songPreview:e,onNextStep:l,keyboardControl:n,onExitKeyboardControl:r}),o==="players"&&f.jsx(c0e,{songPreview:e,onNextStep:c,keyboardControl:n,onExitKeyboardControl:()=>a("song")})]})]})}const h0e=j("div",{target:"eu207dr1"})({name:"k6gb66",styles:"display:flex;flex-direction:row;align-items:flex-end;justify-content:space-between;width:100%;hr{margin:1rem;opacity:0.25;}"}),p0e=j("div",{target:"eu207dr0"})({name:"115sh08",styles:"width:auto;display:flex;flex-direction:column;align-items:flex-end;gap:1.25rem"}),g0e=30;function m0e({songPreview:e,top:t,left:n,width:r,height:i,keyboardControl:s,onExitKeyboardControl:o,onPlay:a,isPopular:l,forceFlag:c}){const[u,d]=A.useState(!1),h=A.useRef(null),{width:p,height:g}=sp(),m=s;A.useLayoutEffect(()=>{d(!1)},[e.video]);const b=e.previewStart??(e.videoGap??0)+60,y=e.previewEnd??b+g0e,v=A.useMemo(()=>[e.video,b,y,e.volume],[e.video,b,y,e.volume]),[_,x,S,E]=EE(v,350);A.useEffect(()=>{var M;(M=h.current)==null||M.loadVideoById({videoId:_,startSeconds:x,endSeconds:S})},[_,h,x,S]);const C=m?p:r,k=m?g:i,O=m?Math.min(p/20*9,g*(4/5)):i;A.useEffect(()=>{var M;(M=h.current)==null||M.setSize(C,k)},[C,k,s]);const w=A.useCallback(M=>{var N,R;M===In.ENDED?((N=h.current)==null||N.seekTo(b),(R=h.current)==null||R.playVideo()):M===In.PLAYING&&d(!0)},[b]);return f.jsxs(f.Fragment,{children:[m&&f.jsx(A0e,{onClick:o}),!m&&u&&f.jsx(x0e,{width:C,height:k,left:n,top:t,song:e}),f.jsx(v0e,{forceFlag:c,isPopular:l,background:m||u,video:f.jsx(b0e,{"data-show":u,"data-expanded":m,height:O,id:"preview-video-container",children:f.jsx(LE,{width:0,height:0,disablekb:!0,ref:h,video:"",volume:E,onStateChange:w})}),focused:!0,song:e,top:t,left:n,width:C,height:O,"data-show-video":u,"data-expanded":m,"data-song":e.id,"data-test":"song-preview",children:f.jsx(_0e,{"data-expanded":m,children:m&&f.jsx(f0e,{songPreview:e,onPlay:a,keyboardControl:s,onExitKeyboardControl:o})})})]})}const y0e=j(kB,{target:"e1vaewax4"})("--preview-padding:5rem;width:",e=>e.width,"px;height:",e=>e.height,"px;position:absolute;z-index:3;overflow:hidden;visibility:hidden;&[data-expanded='true'],&[data-show-video='true']{visibility:visible;}&[data-expanded='true']{z-index:201;border-radius:0;border:0;position:fixed;padding:var(--preview-padding);}&[data-expanded='false']{pointer-events:none;&[data-show-video='true']{animation:rhythmPulse 1s infinite;}}@keyframes rhythmPulse{0%{transform:scale(1.2);}15%{transform:scale(1.25);}100%{transform:scale(1.2);}}view-transition-name:song-preview;",zE,"{view-transition-name:song-preview-artist;}",mv,"{view-transition-name:song-preview-title;}",TB,"{view-transition-name:song-preview-expanded-data;}"),v0e=e=>{const t=e.song.realBpm||(e.song.bpm>300?e.song.bpm/4:e.song.bpm/2),n=e["data-expanded"];return f.jsx(y0e,{...e,style:{...e.style,top:n?`calc(50vh - ${e.height}px / 2)`:e.top,left:n?0:e.left,animationDuration:`${60/t}s`}})},A0e=j("div",{target:"e1vaewax3"})({name:"1iz7jdz",styles:"position:fixed;top:0;left:0;background:rgba(0, 0, 0, 0.8);width:100vw;height:100vh;z-index:201"}),b0e=j("div",{target:"e1vaewax2"})("&[data-expanded='true']{position:fixed;inset:0;clip-path:inset(calc((100vh - ",e=>e.height,"px) / 2) 0);}&[data-expanded='true'],&[data-show='true']{div{transition:1000ms;}}&[data-expanded='false']{position:absolute;top:0;left:0;background-image:none!important;border-radius:0.5rem;}&[data-show='false']{div{opacity:0;}}&[data-show='true']{div{opacity:1;}}"),_0e=j("div",{target:"e1vaewax1"})({name:"uljwlo",styles:"inset:auto var(--preview-padding);position:fixed;z-index:100;&[data-expanded='false']{transform:scale(0.1);}border-radius:0.5rem;view-transition-name:song-preview-content"}),S0e=j("div",{target:"e1vaewax0"})("background:white;width:",e=>e.width,"px;height:",e=>e.height,"px;z-index:2;top:0;left:0;position:absolute;animation:bpm 1s infinite;border-radius:0.5rem;pointer-events:none;@keyframes bpm{0%{transform:scale(1.15);opacity:1;}100%{transform:scale(1.45);opacity:0;}}"),x0e=e=>{const[t]=Qe(Ji);if(t==="low")return null;const n=e.song.realBpm||(e.song.bpm>300?e.song.bpm/4:e.song.bpm/2);return f.jsx(S0e,{width:e.width,height:e.height,style:{left:e.left,top:e.top,animationDuration:`${60/n}s`}})};function w0e(e){var t=Ng(e),n=t%1;return t===t?n?t-n:t:0}var E0e=Math.ceil,C0e=Math.max;function AS(e,t,n){t===void 0?t=1:t=C0e(w0e(t),0);var r=e==null?0:e.length;if(!r||t<1)return[];for(var i=0,s=0,o=Array(E0e(r/t));i<r;)o[s++]=Kx(e,i,i+=t);return o}function k0e(e,t){const n=A.useRef(null),r=A.useMemo(()=>e.groups.map(u=>({group:u,rows:AS(u.songs,e.perRow)})),[e.groups,e.perRow]),i=A.useMemo(()=>r.map(({rows:u})=>u.length),[r]),s=A.useMemo(()=>r.flatMap(({rows:u})=>u),[r]),{ListRowWrapper:o,GroupRowWrapper:a}=e,l=A.useCallback((u,d)=>{const h=e.groups.findIndex(p=>p.name===u);return h===-1?e.groups.findIndex(p=>p.songs.some(g=>g.index===d)):h},[e.groups]),c=A.useCallback((u,d)=>{const h=l(u,d);if(h===-1)return;const p=e.groups[h].songs.findIndex(g=>g.index===d);return r.slice(0,h).reduce((g,{rows:m})=>g+m.length,Math.floor(p/e.perRow))},[l,r,e.groups,e.perRow]);return A.useImperativeHandle(t,()=>({getSongPosition:(u,d)=>{var y;const h=l(u,d);if(h===-1)return;const p=e.groups[h].songs.findIndex(v=>v.index===d),g=r.slice(0,h).reduce((v,{rows:_})=>v+_.length,Math.floor(p/e.perRow)),m=((y=n.current)==null?void 0:y.getItemPositionY(g))??-1;return{x:p%e.perRow,y:m}},scrollToGroup:u=>{var h;const d=e.groups.findIndex(p=>p.name===u);d!==-1&&((h=n.current)==null||h.scrollToGroup(d,"smooth"))},scrollToSongInGroup:async(u,d,h="smooth")=>{var g;const p=c(u,d);p!==void 0&&((g=n.current)==null||g.scrollToIndex(p,Ii()?"auto":h))}})),f.jsx(f.Fragment,{children:f.jsx(DN,{forceRenderItem:c(e.focusedGroup,e.focusedSong)??-1,overScan:e.itemHeight*2,itemHeight:e.itemHeight,groupHeaderHeight:e.groupHeight,components:e.components,context:e.context,groupContent:(u,d)=>f.jsx(a,{group:r[u].group,...d,children:e.renderGroup(r[u].group)}),ref:n,groupSizes:i,itemContent:(u,d,h)=>f.jsxs(o,{"data-is-new":r[d].group.isNew,...h,children:[s[u].map(p=>e.renderItem(p,r[d].group)),e.placeholder&&s[u].length<e.perRow&&new Array(e.perRow-s[u].length).fill(null).map((p,g)=>f.jsx(A.Fragment,{children:e.placeholder},g))]})},e.itemHeight)})}const T0e=A.forwardRef(k0e),NB=(e,t)=>e+Math.random()*(t-e),js=(e,t)=>Math.round(NB(e,t)),I0e=250,P0e=750;function R0e(e){const t=RT(async()=>(await fetch("/mostPopularSongs.json")).json(),[]),n=RT(async()=>nK(),[]),r=A.useMemo(()=>R0.recentlyUpdated(e),[e]).map(l=>l.id),[i]=Qe(q0),s=t.loading||n.loading||!e.length,o=A.useMemo(()=>{if(s)return;const l=Object.keys(n.value).filter(g=>n.value[g].scores.some(m=>(m.progress??0)>.8)),c=Object.keys(t.value).filter(g=>!(i!=null&&i.includes(g))),u=[...new Set([...c,...i??[]])],d=e.filter(g=>!u.some(m=>g.language.includes(m))||g.local).map(g=>g.id).concat(...l),h=Math.max(I0e,P0e-Math.round(d.length/1.75)),p=c.map(g=>t.value[g].slice(0,h)).flat();return{popular:[...new Set([...l,...p,...d,...r])]}},[i,s,t.value,e,n.value]),a=A.useMemo(()=>({popular:[]}),[]);return{value:o??a,loading:s}}const M0e=e=>{const t=/[^a-zA-Z]/;return{name:isFinite(+e.artist[0])||t.test(e.artist[0])?"0-9":e.artist[0].toUpperCase()}};function j0e(){const e=Ad(),{value:{popular:t},loading:n}=R0e(e.data),r=e.isLoading||n,{filters:i,filteredList:s,setFilters:o,selectedPlaylist:a,setSelectedPlaylist:l,playlists:c,playlist:u}=xde(e.data,t,r);return{groupedSongList:A.useMemo(()=>{var p;if(s.length===0)return[];const h=[];if(i.search)return h.push({name:"Search results",songs:s.map((g,m)=>({index:m,song:g,isPopular:t.includes(g.id)}))}),h;{(u!=null&&u.sortingFn?[...s].sort(u.sortingFn):s).forEach(b=>{try{const{name:y,...v}=((u==null?void 0:u.groupData)??M0e)(b);let _=h.find(x=>x.name===y);_||(_={name:y,songs:[],...v},h.push(_)),_.songs.push({index:s.indexOf(b),song:b,isPopular:t.includes(b.id)})}catch(y){console.error(y),Ns(y)}});const m=((p=u==null?void 0:u.postGrouping)==null?void 0:p.call(u,h))??h;if(!(u!=null&&u.hideNew)){const b=s.filter(y=>y.isNew);b.length&&b.length<50&&m.unshift({name:"New",isNew:!0,songs:b.map(y=>({song:y,index:s.indexOf(y),isPopular:t.includes(y.id)}))})}return m}},[s,i.search,t,u]),songList:s,filters:i,setFilters:o,isLoading:r,selectedPlaylist:a,setSelectedPlaylist:l,playlists:c}}function O0(e){const t=A.useRef(e);return A.useEffect(()=>{t.current=e},[e]),t.current}const O0e=30;function V0e(e,t,n=O0e){let r;if(t.length<e){const i=[...Array(e).keys()].filter(s=>!t.includes(s));r=i[js(0,i.length-1)]}else r=js(0,e-1),t.length=0;return t.length>=n&&t.shift(),t.push(r),r}const L0e=(e=[],t)=>{var b;const[n,r]=A.useState([0,0]),i=A.useMemo(()=>e.map(({songs:y})=>y.length).join(","),[e]),s=A.useMemo(()=>e.map(({songs:y})=>AS(y.map(v=>v.index),t)).flat(),[i,t]),o=A.useMemo(()=>e.map(({songs:y,name:v})=>AS(y.map(()=>v),t)).flat(),[i,t]),a=O0(s??[]),l=n[0]===((b=s[n[1]])==null?void 0:b.length)-1,c=A.useCallback((y,v)=>{var S;const _=s.findIndex((E,C)=>E.includes(y)&&(!v||v===o[C][0])),x=(S=s[_])==null?void 0:S.indexOf(y);x>=0&&_>=0?r([x??0,_??0]):r([0,0])},[s]),u=([y,v],_,x)=>{var E;if(e.length===0)return x;const S=_[v];return(S==null?void 0:S[y])??(S==null?void 0:S.at(-1))??((E=_==null?void 0:_[0])==null?void 0:E[0])??x},d=([y,v],_=s)=>u([y,v],_,0),h=([y,v],_=o)=>u([y,v],_,"A");A.useEffect(()=>{const y=d(n,a),v=d(n,s);a.length&&y!==v&&c(y)},[n,s,a,l]);const p=(y,v)=>{Ey.play(),r(([_,x])=>{let S=_,E=x;if(y==="y")E=x+v;else{if(s[x]===void 0)debugger;const C=s[x].length-1;S=Math.min(_,C)+v,S<0?(E=(s.length+x-1)%s.length,S=s[E].length-1):S>C&&(E=x+1,S=0)}return[S%t,(s.length+E)%s.length]})},g=d(n),m=h(n);return[g,m,n,p,c,l]},N0e=(e,t=[],n,r,i,s)=>{const o=fi(),[a,l]=A.useState([!1,null]),c=O0(a),[u,d]=a,[h,p,g,m,b,y]=L0e(t,s),v=g[0]===0,_=()=>{Px.play(),n()},[x,S]=A.useState(!1),E=O0(i.search);A.useLayoutEffect(()=>{if(E&&!i.search){S(!0);const P=setTimeout(()=>S(!1),2e3);return()=>{clearTimeout(P),S(!1)}}},[i.search]);const C=()=>{!x&&!i.search&&(Rx.play(),o("menu/"))},k=A.useCallback(fu((P,T)=>{const z=(t.length+T+P)%t.length;b(t[z].songs[0].index),Ey.play()},700,{trailing:!1}),[t]),O=(P,T)=>{if(!(P!=null&&P.repeat))m("y",T);else{const z=t.findIndex(B=>!!B.songs.find(D=>D.index===h));k(T,z)}},w=(P,T=!1)=>{!T&&P===-1&&v&&!u?l([!0,"left"]):m("x",P)},M=A.useRef([]),N=()=>{const P=V0e(r,M.current);b(P)};gc({accept:_,down:P=>O(P,1),up:P=>O(P,-1),left:()=>w(-1),right:()=>w(1),back:C,random:N},e&&!u,[t,g,u,i,x]);const R=A.useMemo(()=>({"horizontal-vertical":null,accept:null,back:null,shiftR:null,alphanumeric:null,remote:["search","select-song"]}),[]);yd(R,e);const V=A.useCallback(P=>{l([!1,P??null])},[l,w,t,g]);return A.useLayoutEffect(()=>{const[P,T]=c;P&&!u&&T===d&&w(d==="right"?1:-1,!0)},[u,d,v,y,...g]),[h,p,b,u,V,N]};function B0e(e,t){const{songList:n,groupedSongList:r,setFilters:i,filters:s,isLoading:o,selectedPlaylist:a,setSelectedPlaylist:l,playlists:c}=j0e(),[u,d]=A.useState(!0),h=E=>{wh(()=>{vc.flushSync(()=>{d(E)})}),Mx.play(!1)},[p,g,m,b,y,v]=N0e(u,r,()=>h(!1),n.length,s,t),[_,x]=A.useState(!1);A.useEffect(()=>{if(!_&&n.length&&!o){const E=n.findIndex(O=>O.id===e),C=n.findIndex(O=>O.isNew);let k=js(0,n.length-1);(E>-1||C>-1)&&(k=E),x(!0),m(k)}},[m,_,p,n,e,o]),A.useEffect(()=>{var E;if(_&&n.length&&n[p]&&!o){const C=new URL((E=global.location)==null?void 0:E.href);C.searchParams.set("song",n[p].id),global.history.replaceState(null,"",C.toString())}},[_,p,n,o]);const S=n==null?void 0:n[p];return{groupedSongList:r,focusedSong:p,focusedGroup:g,moveToSong:m,setKeyboardControl:h,keyboardControl:u,songPreview:S,songList:n??[],filters:s,setFilters:i,showFilters:b,setShowFilters:y,isLoading:o||!_,randomSong:v,selectedPlaylist:a,setSelectedPlaylist:l,playlists:c}}const D0e=1.2,VR=4,BB=7,bS=4.5,LR=BB+bS,mg=3.5,$0e={Header:({context:e})=>f.jsxs(f.Fragment,{children:[f.jsx(K0e,{}),e&&e.songPreview.songPreview&&f.jsx(m0e,{...e.songPreview})]}),Footer:()=>f.jsxs(z0e,{children:["Missing a song? Try"," ",f.jsx(bE,{to:"convert/",children:f.jsx("a",{children:"adding one"})})," ","yourself!"]}),EmptyPlaceholder:()=>f.jsx(q0e,{children:"No songs found"})};function F0e({onSongSelected:e,preselectedSong:t}){const[n]=Qe(br),r=n?VR-1:VR;el(!1),qa(!0),SB();const{focusedGroup:i,focusedSong:s,moveToSong:o,groupedSongList:a,keyboardControl:l,songPreview:c,setKeyboardControl:u,setFilters:d,filters:h,setShowFilters:p,showFilters:g,isLoading:m,randomSong:b,selectedPlaylist:y,setSelectedPlaylist:v,playlists:_,songList:x}=B0e(t,r),S=A.useMemo(()=>a.map(U=>U.songs).flat().find(U=>U.song.id===(c==null?void 0:c.id)),[c,a]),E=A.useRef(null),C=ON(),{width:k,handleResize:O}=sp(),M=(k-(LR+bS)*C-(r-1)*mg*C)/r,N=M*(9/16),R=N/2,V=A.useCallback(()=>u(!1),[u]),P=m||!a||!k,T=y==="Eurovision",z=A.useRef(null);A.useEffect(()=>{const U=ne=>x.findIndex($=>$.id===ne);return global.__songList={scrollToSong:ne=>{var oe;const[$]=ne.split("-new-group"),fe=ne.endsWith("-new-group"),Z=a.find(Re=>!!Re.isNew===fe&&Re.songs.some(Ee=>Ee.song.id===$));if(Z){const Re=U($);return(oe=E.current)==null||oe.scrollToSongInGroup(Z.name,Re,"auto"),!0}return!1}},()=>{delete global.__songList}},[a,x]);const[{previewTop:B,previewLeft:D},F]=A.useState({previewTop:0,previewLeft:0});A.useEffect(()=>{const U=document.querySelector(`[data-song-index="${s}"][data-group="${i}"]`);!m&&U?F({previewTop:U.offsetTop+U.parentNode.offsetTop,previewLeft:U.offsetLeft}):m||console.warn("!!!!!!!!!!!! Song not found !!!!!!!!!!!!")},[s,i,m,k]),A.useEffect(()=>{var U;O(),m||(U=E.current)==null||U.scrollToSongInGroup(i,s)},[k,s,i,a,m,O]);const G=fi();return Dr("Shift + E",()=>G(T0("edit/song/",{playlist:null,step:"metadata"})),[G]),Ir(te.remoteSongSelected,async U=>{v("All");const ne=x.findIndex($=>$.id===U);ne&&(s!==ne?(o(ne),l||u(!0),V()):l&&V())},[x,o,V,v,u,l,s]),f.jsx(Ja,{children:f.jsxs(U0e,{songsPerRow:r,style:{"--song-group-header-height":`${Math.floor(R)}px`,"--song-entry-width":`${Math.floor(M)}px`,"--song-entry-height":`${Math.floor(N)}px`,"--song-list-gap":`${Math.floor(mg*C)}px`,"--song-list-padding-left":`${Math.floor(LR*C)}px`,"--song-list-padding-right":`${Math.floor(bS*C)}px`,"--song-sidebar-weight":`${Math.floor(BB*C)}px`},children:[P?f.jsxs(NR,{children:[f.jsx(DR,{children:f.jsx(FR,{children:f.jsx(_S,{children:""})})}),new Array(4).fill(0).map((U,ne)=>f.jsx($R,{children:new Array(4).fill(0).map(($,fe)=>f.jsx(BR,{},fe))},ne))]}):f.jsxs(f.Fragment,{children:[c&&f.jsx(H0e,{videoId:c.video}),f.jsx(sme,{setFilters:d,filters:h,onRandom:b,keyboardControl:l}),f.jsx(Mme,{container:z.current,groupedSongList:a,onScrollToGroup:U=>{o(U.songs[0].index),setTimeout(()=>{var ne;return(ne=E.current)==null?void 0:ne.scrollToGroup(U.name)},20)}}),f.jsx(NR,{active:l,dim:g,"data-test":"song-list-container",ref:z,children:f.jsx(T0e,{focusedSong:s,focusedGroup:i,ListRowWrapper:$R,GroupRowWrapper:DR,ref:E,groups:a,itemHeight:Math.floor(N)+Math.floor(mg*C),groupHeight:Math.floor(R)+Math.floor(mg*C),components:$0e,renderGroup:U=>f.jsx(FR,{"data-highlight":U.name==="New",children:f.jsx(_S,{"data-group-name":U.name,children:U.displayLong??U.name})},U.name),perRow:r,renderItem:(U,ne)=>{const $=U.index===s&&ne.name===i;return A.createElement(W0e,{...g||!l?{"data-unfocusable":!0}:{},isPopular:U.isPopular,key:U.song.id,song:U.song,handleClick:$?V:o,focused:!g&&l&&$,index:U.index,groupLetter:ne.name,"data-song-index":U.index,"data-focused":!g&&l&&U.index===s,"data-test":`song-${U.song.id}${ne.isNew?"-new-group":""}`,"data-group":ne.name,forceFlag:T})},placeholder:f.jsx(BR,{style:{visibility:"hidden"}}),context:{songPreview:{forceFlag:T,isPopular:!!(S!=null&&S.isPopular),keyboardControl:!l,onPlay:e,onExitKeyboardControl:()=>u(!0),songPreview:c,top:B,left:D,width:Math.floor(M),height:Math.floor(N)}}})})]}),f.jsx(fme,{selectedPlaylist:y,setSelectedPlaylist:v,playlists:_,active:g,closePlaylist:p})]})})}const z0e=j("div",{target:"e13s0pn12"})(Ke,";text-align:center;font-size:5rem;padding:10rem 0;"),U0e=j("div",{target:"e13s0pn11"})({name:"usdvu5",styles:"display:flex;flex-direction:row;max-height:100vh"}),H0e=e=>{const{theme:t}=A.useContext(Zx);return t==="eurovision"?null:f.jsx(G0e,{...e})},G0e=j(ame,{target:"e13s0pn10"})({name:"ybgcp",styles:"position:fixed;inset:0;width:100%;height:100%;filter:blur(7px) grayscale(90%);opacity:0.25;object-fit:cover"}),q0e=j("div",{target:"e13s0pn9"})(Ke,";display:flex;align-items:center;justify-content:center;flex:1;height:75vh;font-size:10rem;"),_S=j("div",{target:"e13s0pn8"})(Ke,";display:flex;padding:0.5rem 1rem;font-size:3.5rem;z-index:1;color:",ge.colors.text.active,";background:rgba(0, 0, 0, 0.7);align-items:center;gap:1rem;"),NR=j("div",{target:"e13s0pn7"})("position:relative;flex:1 1 auto;min-height:100vh;max-height:100vh;transition:opacity 500ms;opacity:",e=>e.dim?.5:1,";"),BR=j("div",{target:"e13s0pn6"})({name:"1mtg8xe",styles:"background:black;flex-basis:var(--song-entry-width);height:var(--song-entry-height);border-radius:1rem;animation:skeleton 1s ease-in-out infinite alternate;@keyframes skeleton{0%{opacity:0.65;}100%{opacity:0.75;}}"}),W0e=A.memo(j(kB,{target:"e13s0pn5"})("cursor:pointer;flex-basis:var(--song-entry-width);height:var(--song-entry-height);transition:300ms;transform:scale(1);&[data-focused='true']{transform:scale(",D0e,");z-index:2;",$u,";}")),K0e=j("div",{target:"e13s0pn4"})(""),DB=j("div",{target:"e13s0pn3"})({name:"17ig0qd",styles:"display:flex;flex-wrap:nowrap;gap:var(--song-list-gap);padding:calc(var(--song-list-gap) / 2) var(--song-list-padding-right) calc(var(--song-list-gap) / 2) var(--song-list-padding-left)"}),DR=j(DB,{target:"e13s0pn2"})({name:"1rn35zs",styles:"position:sticky;top:0;z-index:3"}),$R=j(DB,{target:"e13s0pn1"})({name:"s8hqg9",styles:"position:relative;&[data-is-new='true']{background:rgba(0, 0, 0, 0.7);}"}),FR=j("div",{target:"e13s0pn0"})("display:flex;align-items:flex-end;height:var(--song-group-header-height);&[data-highlight='true']{",_S,"{animation:new-song-group-header 600ms ease-in-out infinite both;background:#ffffff;@keyframes new-song-group-header{0%,100%{transform:scale(1);}50%{transform:scale(1.1);}}}}");function Y0e(e){const[t,n]=Qe(q0),[r,i]=A.useState(t===null),s=()=>{n(t??[]),i(!1)};return r?f.jsx(BN,{onClose:s,closeText:"Continue to Song Selection"}):f.jsx(F0e,{...e})}const Q0e=pt(f.jsx("path",{d:"M16.59 7.58 10 14.17l-3.59-3.58L5 12l5 5 8-8zM12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8"}),"CheckCircleOutline"),c1=15;function J0e({onFinish:e}){const[t,n]=A.useState(!1),[r,i]=A.useState([]);Ir(te.readinessConfirmed,a=>{i(l=>[...l,a])});const s=Ri([te.inputListChanged,te.readinessConfirmed],()=>Oe.getPlayers().map((a,l)=>[a.input.deviceId,a.getName(),a]));A.useEffect(()=>{(async()=>{let a=!1;const l=Oe.requestReadiness().then(()=>{a=!0,n(!0)}),c=Dc(1500),u=Dc(c1*1e3);await Dc(250),a||await $g.play(),await Promise.race([Promise.all([l,c]),u]),$g.playing()&&oO.play(),await Dc(500),$g.stop(),await Dc(1e3),e()})()},[]);const o=s.map(([a,l,c])=>({confirmed:r.includes(a),name:l,player:c}));return f.jsx(f.Fragment,{children:f.jsxs(X0e,{children:[!t&&f.jsxs("span",{children:["Waiting for all players to click ",f.jsx("strong",{children:'"Ready"'})]}),f.jsx(eye,{children:o.map(({confirmed:a,name:l,player:c},u)=>f.jsxs(tye,{className:"ph-no-capture","data-test":"player-confirm-status","data-name":l,"data-confirmed":a,children:[!t&&f.jsx(nye,{children:a?f.jsx(Q0e,{}):f.jsx(ip,{color:"info",size:"1em"})})," ",f.jsx(VB,{player:c})]},u))}),!t&&f.jsxs(Z0e,{children:["The song will start automatically in"," ",f.jsx("strong",{children:f.jsx(jE,{end:0,start:c1,duration:c1,useEasing:!1})})]})]})})}const X0e=j("div",{target:"e1wiz9j54"})("top:0;left:0;z-index:1000;display:flex;align-items:center;justify-content:center;flex-direction:column;position:absolute;width:100%;height:100%;gap:5rem;font-size:5rem;",Ke,";"),Z0e=j("span",{target:"e1wiz9j53"})({name:"1umnjfm",styles:"font-size:5rem"}),eye=j("div",{target:"e1wiz9j52"})({name:"1uxgijs",styles:"display:flex;flex-direction:column;gap:5rem;width:50rem;view-transition-name:player-mic-check-container"}),tye=j("div",{target:"e1wiz9j51"})({name:"174652e",styles:"display:flex;align-items:center;gap:2rem;transform:scale(1.5)"}),nye=j("span",{target:"e1wiz9j50"})({name:"1l5xwqu",styles:"svg{width:5rem;height:5rem;stroke:black;}"});function rye({register:e,onExit:t}){const n=A.useRef(null),[r,i]=A.useState(!1),[s,o]=A.useState(!1),[a,l]=A.useState(!1);A.useEffect(()=>{var d;(d=n.current)==null||d.focus()},[n]);const c=()=>{const d=$e.getSong(),h={songId:d==null?void 0:d.id,songLastUpdated:d==null?void 0:d.lastUpdate},p=[];r&&p.push("not-in-sync"),s&&p.push("wrong-volume"),a&&p.push("bad-lyrics"),p.length&&On.capture("rate-song",{issues:p,...h}),t()},u=s||r||a;return f.jsx(f.Fragment,{children:f.jsxs(pr,{"data-test":"rate-song-container",title:"Is the song OK?",children:[f.jsx("h4",{children:"If there's something wrong with the song, let me know so I can fix it"}),f.jsxs(u1,{...e("button-not-in-sync",()=>i(d=>!d)),size:"small",children:[f.jsx(d1,{children:r?f.jsx(rm,{}):f.jsx(im,{})}),f.jsx("span",{children:"Lyrics are not in sync"})]}),f.jsxs(u1,{...e("button-bad-lyrics",()=>l(d=>!d)),size:"small",children:[f.jsx(d1,{children:a?f.jsx(rm,{}):f.jsx(im,{})}),f.jsx("span",{children:"Wrong lyrics, missing spaces etc."})]}),f.jsxs(u1,{...e("button-wrong-volume",()=>o(d=>!d)),size:"small",children:[f.jsx(d1,{children:s?f.jsx(rm,{}):f.jsx(im,{})}),f.jsx("span",{children:"Too loud/quiet"})]}),f.jsx("hr",{}),f.jsx(Fe,{...e("button-song-ok",c,void 0,!0),ref:n,children:u?"Submit and exit":"All good, exit the song"})]})})}const u1=j(Fe,{target:"e1prcfby1"})({name:"12ib3m7",styles:"justify-content:flex-start;gap:1rem"}),d1=j("div",{target:"e1prcfby0"})({name:"224g68",styles:"svg{width:3rem;height:3rem;}display:flex;align-items:center;justify-content:center"});function iye({onResume:e,onExit:t,onRestart:n}){const r=fi(),i=A.useRef(null),s=A.useRef(null);A.useEffect(()=>{var h;(h=i.current)==null||h.focus()},[i]);const[o,a]=A.useState(!1),{register:l}=Yn({enabled:!o}),[c,u]=A.useState(!1),d=async()=>{const h=$e.getSongCompletionProgress(),p=(await Pi.getIndex()).find(g=>{var m;return g.id===((m=$e.getSong())==null?void 0:m.id)});!(p!=null&&p.local)&&h<.7?u(!0):t()};return f.jsxs(Ac,{onClose:e,children:[!c&&f.jsxs(f.Fragment,{children:[f.jsxs(pr,{children:[f.jsx(Fe,{...l("button-resume-song",e),ref:i,children:"Resume song"}),f.jsx(Fe,{...l("button-restart-song",n),children:"Restart song"}),f.jsx(Fe,{...l("button-exit-song",d),children:"Exit song"}),f.jsx(Fe,{...l("input-settings",()=>a(!0)),children:"Microphones settings"}),f.jsx("hr",{}),f.jsx(WN,{ref:s,...l("input-lag",()=>{var h;return(h=s.current)==null?void 0:h.focus()})}),f.jsx(Fe,{...l("edit-song",()=>{var h;return r("edit/song/",{song:((h=$e.getSong())==null?void 0:h.id)??""})}),size:"small",children:"Edit song"})]}),o&&f.jsx(LB,{onClose:()=>a(!1),closeButtonText:"Back to Pause Menu"})]}),c&&f.jsx(rye,{onExit:t,register:l})]})}const $B=Ii()?1e3:8e3;function sye(e){return Math.floor((fv(e)-$B)/1e3)}const oye=2e4;function aye(e){return fv(e)-(e.videoGap??0)*1e3>oye}function lye({playerRef:e,isEnabled:t}){const[n]=Qe(br),r=$e.getSong(),i=A.useMemo(()=>aye(r),[r]),s=A.useMemo(()=>fv(r),[r]),o=$e.getCurrentTime(!1)<s-$B*1.2,a=t&&o&&i;gc({accept:()=>{e==null||e.seekTo(sye(r));const{artist:u,title:d}=$e.getSong();On.capture("introSkipped",{name:`${u} - ${d}`,artist:u,title:d})}},a);const c=A.useMemo(()=>({accept:"Skip Intro",back:"Pause Menu"}),[]);return yd(c,a),!n&&a?f.jsxs(cye,{visible:a,"data-test":"skip-intro-info",children:["Press ",f.jsx(uye,{children:"Enter"})," to skip the intro"]}):null}const cye=j("div",{target:"e167kngm1"})(Ke,";pointer-events:none;position:fixed;bottom:29rem;transform:scale(",e=>e.visible?1:0,");opacity:",e=>e.visible?1:0,";text-align:center;font-size:5rem;text-shadow:0 0 3.5rem black;width:100%;z-index:4;padding:0.5rem;transition:ease 500ms;"),uye=j("kbd",{target:"e167kngm0"})("margin:0.2rem;padding:0.2rem 2rem;border-radius:1.3rem;border:0.5rem solid rgb(204, 204, 204);border-bottom-color:rgb(150, 150, 150);border-right-color:rgb(150, 150, 150);line-height:1.4;display:inline-block;background-color:rgb(247, 247, 247);text-shadow:0 1rem 0 #fff;opacity:",e=>e.disabled?.25:1,";"),dye=15e3;function fye({onSongEnd:e,isEnabled:t}){const[n]=Qe(br),r=$e.getDuration(),i=A.useMemo(()=>Math.max(...$e.getPlayers().map(p=>Xf(p.getLastNotesSection()))),[]),s=A.useMemo(()=>{var g;const p=eB(i,$e.getSong())+(((g=$e.getSong())==null?void 0:g.gap)??0);return t&&r*1e3>p+dye},[r,i,t]),[o,a]=A.useState(0),[l,c]=A.useState(!1);zO(()=>a($e.getCurrentBeat()),1e3);const u=EE(s&&o>i,5e3)&&!l;gc({accept:()=>{c(!0),setTimeout(e,700);const{artist:p,title:g}=$e.getSong();On.capture("outroSkipped",{name:`${p} - ${g}`,artist:p,title:g})}},u);const h=A.useMemo(()=>({accept:"Skip Outro",back:"Pause Menu"}),[]);return yd(h,u),!n&&s?f.jsxs(hye,{visible:u,"data-test":"skip-outro-info","data-visible":u,children:["Press ",f.jsx(pye,{children:"Enter"})," to skip the outro"]}):null}const hye=j("div",{target:"e1b01y1a1"})(Ke,";pointer-events:none;position:fixed;bottom:29rem;transform:scale(",e=>e.visible?1:0,");opacity:",e=>e.visible?1:0,";text-align:center;font-size:5rem;text-shadow:0 0 3.5rem black;width:100%;z-index:4;padding:0.5rem;transition:ease 500ms;"),pye=j("kbd",{target:"e1b01y1a0"})("margin:0.2rem;padding:0.2rem 2rem;border-radius:1.3rem;border:0.5rem solid rgb(204, 204, 204);border-bottom-color:rgb(150, 150, 150);border-right-color:rgb(150, 150, 150);line-height:1.4;display:inline-block;background-color:rgb(247, 247, 247);text-shadow:0 1rem 0 #fff;opacity:",e=>e.disabled?.25:1,";"),gye=Ie.memo(fye);function zR(e){return e&&e.length?MN(e):[]}function mye({players:e}){const t=$e.getCurrentTime(!1),n=$e.getSongBeatLength(),r=$e.getDuration(),i=$e.getSong(),s=A.useMemo(()=>zR(i.tracks.filter((l,c)=>e.find(u=>u.track===c)).map(({sections:l})=>Va(l)*n+i.gap)),[i,n,e]),o=A.useMemo(()=>zR(i.tracks.filter((l,c)=>e.find(u=>u.track===c)).map(({sections:l})=>Jf(l)*n+i.gap)),[i,n,e]),a=r*1e3;return!t||!r?null:f.jsxs(HE,{children:[s.map(l=>f.jsx(UR,{position:l/a},l)),o.map(l=>f.jsx(UR,{position:l/a},l)),f.jsx(Aye,{fill:t/a})]})}const HE=j("div",{target:"e1pz3mwm2"})({name:"1q7pdku",styles:"position:absolute;height:0.6rem;width:100%;background:rgba(0, 0, 0, 0.5);left:0;top:calc(50% - 0.3rem)"}),yye=j(HE,{target:"e1pz3mwm1"})("top:0;margin-left:-0.25rem;width:0.5rem;background:",ge.colors.text.active,";opacity:75%;"),UR=e=>f.jsx(yye,{style:{left:`${Math.min(e.position*100,100)}%`}}),vye=j(HE,{target:"e1pz3mwm0"})({name:"1ssqmyb",styles:"top:0;background:white;opacity:50%"}),Aye=e=>f.jsx(vye,{style:{width:`${Math.round(e.fill*1e4)/100}%`}});function bye({player:e,bottom:t=!1,...n}){const r=wn.getPlayerVolume(e.number),i=RB(e.number);return f.jsxs(_ye,{...n,children:[i!=="unavailable"&&f.jsx(Tge,{playerNumber:e.number,volume:r}),f.jsx(Sye,{status:i,tooltipPosition:"start"}),f.jsx(xye,{playerNumber:e.number})]})}const _ye=j("div",{target:"ea232322"})({name:"180gow0",styles:"width:20rem;position:relative"}),Sye=j(OB,{target:"ea232321"})({name:"14rk3pa",styles:"top:auto;right:1rem;bottom:-0.5rem"}),xye=j(jB,{target:"ea232320"})({name:"ed8znk",styles:"z-index:2;font-size:2rem;margin-right:1rem;-webkit-text-stroke:0.1rem black"});function HR({player:e,bottom:t=!1,effectsEnabled:n,showStatusForAllPlayers:r}){var x;const i=$e.getPlayer(e.number),[s]=Qe(br),o=ge.colors.players[e.number].text,a=((x=$e.getSingSetup())==null?void 0:x.mode)===Fr.PASS_THE_MIC?i.getTrack().changes:[],l=i.getCurrentSection(),c=i.getNextSection(),u=i.getNextSection(2),d=$e.getCurrentBeat(),h=$e.getSongBeatLength(),p=Math.max(0,...a.filter(S=>S<=((l==null?void 0:l.start)??-1/0))),g=a.find(S=>S>((l==null?void 0:l.start)??1/0))??1/0,m=(g-d)*h,b=(g-d)/(g-p),y=m<2500,v=Pt(l),_=v?Va([l])-l.start:0;return f.jsxs(Tye,{shouldBlink:y,bottom:t,"data-test":`lyrics-container-player-${e.number}`,children:[!s&&n&&f.jsx(wye,{children:r?$e.getPlayers().map(S=>f.jsx(GR,{player:Oe.getPlayer(S.getNumber())},S.getNumber())):f.jsx(GR,{player:e})}),m<1/0&&f.jsx(Oye,{color:o,progress:b<=1?b*100:0}),v?f.jsx(f.Fragment,{children:f.jsxs(yg,{"data-test":`lyrics-current-player-${e.number}`,effectsEnabled:n,children:[f.jsx(Eye,{children:f.jsx(kye,{color:o,percent:Math.min(2,(d-l.start)/_)})}),l==null?void 0:l.notes.map(S=>{const E=Math.max(0,Math.min(2,(d-S.start)/S.length));return f.jsxs(Iye,{type:S.type,children:[f.jsxs(Pye,{children:[f.jsx(Mye,{fill:E,color:o,children:S.lyrics.trim()}),S.lyrics.endsWith(" ")&&" "]}),S.lyrics]},S.start)}),(c==null?void 0:c.start)===g&&f.jsx(qR,{"data-should-shake":!0})]})}):f.jsx(yg,{effectsEnabled:n,children:""}),Pt(c)?f.jsxs(yg,{nextLine:!0,"data-test":`lyrics-next-player-${e.number}`,effectsEnabled:n,children:[c.notes.map(S=>f.jsx(A.Fragment,{children:S.lyrics},S.start)),(u==null?void 0:u.start)===g&&f.jsx(qR,{})]}):f.jsx(yg,{effectsEnabled:n,nextLine:!0,children:""})]})}const GR=j(bye,{target:"e1j3lo7n10"})({name:"82a6rk",styles:"flex:1"}),wye=j("div",{target:"e1j3lo7n9"})({name:"zrovsy",styles:"position:absolute;top:0;right:0;display:flex;flex-direction:column;align-items:center;justify-content:center;height:100%"}),Eye=j("span",{target:"e1j3lo7n8"})({name:"1sngsgs",styles:"position:relative;height:0"}),Cye=j("span",{target:"e1j3lo7n7"})({name:"7drlms",styles:"position:absolute;width:15rem;height:3.1rem;margin:0.7rem 0;right:10rem"}),kye=({percent:e,color:t})=>{const n=A.useMemo(()=>{const r=le(t).toRgb();return`${r.r}, ${r.g}, ${r.b}`},[t]);return f.jsx(Cye,{style:{transformOrigin:"right",transform:`scaleX(${Math.min(1,2-e)})`,right:`${Math.max(0,1-e)*15}rem`,background:`linear-gradient(270deg, rgba(${n}, 1) 0%, rgba(${n}, 0.5) 25%, rgba(${n}, 0) 100%)`}})},Tye=j("div",{target:"e1j3lo7n6"})("@keyframes blink{100%{background-color:rgba(0, 0, 0, ",e=>e.bottom?"0.85":"0.5",");}30%{background-color:rgba(0, 0, 0, ",e=>e.bottom?"0.85":"0.5",");}50%{background-color:rgba(200, 200, 200, ",e=>e.bottom?"0.85":"0.5",");}30%{background-color:rgba(0, 0, 0, ",e=>e.bottom?"0.85":"0.5",");}0%{background-color:rgba(0, 0, 0, ",e=>e.bottom?"0.85":"0.5",");}}box-sizing:border-box;padding:1rem;background:rgba(0, 0, 0, ",e=>e.bottom?"0.9":"0.5",");width:100%;text-align:center;line-height:1;position:relative;",e=>e.shouldBlink?"animation: blink 350ms ease-in-out infinite both;":"",";"),Iye=j("span",{target:"e1j3lo7n5"})("font-style:",e=>e.type==="freestyle"?"italic":"normal",";"),Pye=j("span",{target:"e1j3lo7n4"})({name:"nffb2y",styles:"position:absolute;z-index:1"}),Rye=j("span",{target:"e1j3lo7n3"})(""),Mye=({fill:e,color:t,children:n})=>f.jsx(Rye,{style:{clipPath:`inset(0 ${(1-(e===0?0:e+.05))*100}% -5rem 0)`,color:`${t}`},children:n}),jye=j("div",{target:"e1j3lo7n2"})({name:"d6fl9l",styles:"position:absolute;height:1rem;width:100%"}),Oye=e=>f.jsx(jye,{"data-test":"pass-the-mic-progress",style:{background:e.color,transformOrigin:"left",transform:`scaleX(${e.progress/100})`}}),qR=j(CE,{target:"e1j3lo7n1"})("@keyframes shake{10%,90%{transform:translate3d(-0.1rem, 0, 0);}20%,80%{transform:translate3d(0.2rem, 0, 0);}30%,50%,70%{transform:translate3d(-0.4rem, 0, 0);}40%,60%{transform:translate3d(0.4rem, 0, 0);}}font-size:3rem;margin-left:2rem;&[data-should-shake='true']{animation:shake 0.92s cubic-bezier(0.36, 0.07, 0.19, 0.97) both infinite;fill:",ge.colors.text.active,";font-size:4rem;}"),yg=j("div",{target:"e1j3lo7n0"})("font-size:",({nextLine:e,effectsEnabled:t})=>t?3.5+(e?0:1):2,"rem;height:",({effectsEnabled:e})=>e?4.5:2,"rem;-webkit-text-stroke-width:",({effectsEnabled:e})=>e?"0.2rem":"1px",";color:",({nextLine:e})=>e?ge.colors.text.inactive:ge.colors.text.default,";font-family:'Comic Sans MS',Seravek,'Gill Sans Nova',Ubuntu,Calibri,'DejaVu Sans',source-sans-pro,sans-serif;z-index:10;"),FB=new Intl.NumberFormat(void 0,{maximumFractionDigits:0});function SS({score:e}){return f.jsx(f.Fragment,{children:FB.format(e)})}const zB=6,Gi=30,Pn=Gi+6,Vye=e=>{const t=e.canvas.width,n=e.canvas.height,r=Math.max(0,(t-n*(16/9))/2),i=10+(t-2*r)*.15+r,s=n-e.paddingVertical*2;return{width:t-i*2,height:s/e.playerCount,baseX:i,baseY:e.paddingVertical+e.playerIndex*s/e.playerCount}};function WR({canvas:e,currentSectionIndex:t,song:n,songBeatLength:r,minPitch:i,maxPitch:s,track:o,playerIndex:a,playerCount:l,paddingVertical:c}){var _;const u=o.sections,d=u[t],h=u[t+1],p=Vye({canvas:e,playerCount:l,playerIndex:a,paddingVertical:c}),g=Pt(d)?(_=d==null?void 0:d.notes)==null?void 0:_.at(-1):void 0,m=Pt(d)?(h==null?void 0:h.start)??g.start+g.length:d.end,b=d.start*r,y=(m-d.start)*r,v=(p.height-20-Gi)/(s-i+zB*2);return{playerCanvas:p,currentSection:d,sectionEndBeat:m,timeSectionGap:b,maxTime:y,pitchStepHeight:v}}function UB(e,t,n,r,i){return i&&n?ge.colors.players[t].starPerfect:i?ge.colors.players[t].perfect:n&&r?ge.colors.players[t].star:r?ge.colors.players[t].hit:ge.colors.players[t].miss}function Lye(e,t,n,r){return UB(e,t,r.note.type==="star",n,r.isPerfect)}const f1={},Nye=e=>{if(!f1[e]){const t=le(e);f1[e]=[[t.setAlpha(.8).toRgbString(),t.setAlpha(.9).toRgbString(),t.setAlpha(1).toRgbString()],[t.setAlpha(0).toRgbString()],[t.setAlpha(.1).toRgbString(),t.setAlpha(.3).toRgbString(),t.setAlpha(.2).toRgbString()]]}return f1[e]};function xS(e,t,n,r,i,s,o,a=1){if(i<=0)return;t.globalAlpha=1;const l=t.createRadialGradient(n,r,0,n,r,i/2),[c,u,d]=Nye(o);l.addColorStop(0,c[js(0,c.length-1)]),l.addColorStop(.05,c[js(0,c.length-1)]),l.addColorStop(.15,d[js(0,d.length-1)]),l.addColorStop(1,u[js(0,u.length-1)]),t.beginPath(),t.arc(n,r,i/2,0,2*Math.PI),t.closePath(),t.fillStyle=l,t.fill(),t.fillStyle=o,t.globalAlpha=1}function GE(e,t,n,r,i,s,o,a,l=1){i>0&&xS(e,t,n,r,i,s,a,l)}const Df=(e,t)=>e-t+Math.random()*t*2,KR=(e=0)=>Math.sign(e+Math.random()-.5),Bye=500,Dye=100,vg=.2;class $ye{constructor(t,n,r){this.x=t,this.y=n,this.color=r,this.finished=!1,this.tick=(i,s,o)=>{const a=1-this.ttl/this.startingTtl,l=this.startingTtl-this.ttl,c=this.width*a,u=this.width*this.heightModifier*a,d=this.x-c/2+l*this.velocityX,h=this.y+u/2+l*this.velocityY;GE(s,i,d,h,c,u,this.initialAngle+l,this.color,.5*a),this.ttl=this.ttl-o,this.finished=this.ttl<=0},this.startingTtl=this.ttl=Df(Bye,Dye),this.velocityX=vg*Math.random()-vg/2,this.velocityY=vg*Math.random()-vg/2,this.width=25,this.initialAngle=180-Math.random()*360,this.heightModifier=.5+Math.random()/2}}class Fye{constructor(t,n,r,i,s){this.finished=!0,this.tick=(c,u)=>{};const o=ge.colors.players[i].starPerfect.fill,a=le(o).lighten(15).toRgbString(),l=le(o).darken(15).toRgbString();if(Math.random()>.85){const c=js(0,r/8),u=Math.random();let d=o;u>.66?d=a:u>.33&&(d=l);const h=n+20*(Math.random()-.5);s.add(new $ye(t+c*8,h,d))}}}const zye=300,Uye=50,Ag=1.3;class Hye{constructor(t,n,r){this.x=t,this.y=n,this.color=r,this.finished=!1,this.tick=(i,s,o)=>{const a=1-this.ttl/this.startingTtl,l=this.ttl,c=this.width*a,u=this.width*this.heightModifier*a,d=this.x-c/2+l*this.velocityX,h=this.y+u/2+l*this.velocityY;GE(s,i,d,h,c,u,this.initialAngle+l,this.color,.7*a),this.ttl=this.ttl-o,this.finished=this.ttl<=0},this.startingTtl=this.ttl=Df(zye,Uye),this.velocityX=Ag*Math.random()-Ag/2,this.velocityY=Ag*Math.random()-Ag/2,this.width=25,this.initialAngle=180-Math.random()*360,this.heightModifier=.5+Math.random()/2}}const Gye=`
precision mediump float;
`,yv=Gye.replace(/\n/g,""),qye=`
attribute vec3 aVertexPosition;
attribute vec2 aTextureCoord;
`,HB=qye.replace(/\n/g,""),Wye=`
varying vec3 vVertexPosition;
varying vec2 vTextureCoord;
`,vv=Wye.replace(/\n/g,""),Kye=yv+HB+vv+`
uniform mat4 uMVMatrix;
uniform mat4 uPMatrix;

void main() {
    vTextureCoord = aTextureCoord;
    vVertexPosition = aVertexPosition;
    
    gl_Position = uPMatrix * uMVMatrix * vec4(aVertexPosition, 1.0);
}
`;Kye.replace(/\n/g,"");const Yye=yv+vv+`
void main() {
    gl_FragColor = vec4(0.0, 0.0, 0.0, 1.0);
}
`;Yye.replace(/\n/g,"");const Qye=yv+HB+vv+`
void main() {
    vTextureCoord = aTextureCoord;
    vVertexPosition = aVertexPosition;
    
    gl_Position = vec4(aVertexPosition, 1.0);
}
`;Qye.replace(/\n/g,"");const Jye=yv+vv+`
uniform sampler2D uRenderTexture;

void main() {
    gl_FragColor = texture2D(uRenderTexture, vTextureCoord);
}
`;Jye.replace(/\n/g,"");function Xye(e,t,n){var r=e.length;return n=n===void 0?r:n,!t&&n>=r?e:Kx(e,t,n)}var Zye="\\ud800-\\udfff",eve="\\u0300-\\u036f",tve="\\ufe20-\\ufe2f",nve="\\u20d0-\\u20ff",rve=eve+tve+nve,ive="\\ufe0e\\ufe0f",sve="\\u200d",ove=RegExp("["+sve+Zye+rve+ive+"]");function GB(e){return ove.test(e)}function ave(e){return e.split("")}var qB="\\ud800-\\udfff",lve="\\u0300-\\u036f",cve="\\ufe20-\\ufe2f",uve="\\u20d0-\\u20ff",dve=lve+cve+uve,fve="\\ufe0e\\ufe0f",hve="["+qB+"]",wS="["+dve+"]",ES="\\ud83c[\\udffb-\\udfff]",pve="(?:"+wS+"|"+ES+")",WB="[^"+qB+"]",KB="(?:\\ud83c[\\udde6-\\uddff]){2}",YB="[\\ud800-\\udbff][\\udc00-\\udfff]",gve="\\u200d",QB=pve+"?",JB="["+fve+"]?",mve="(?:"+gve+"(?:"+[WB,KB,YB].join("|")+")"+JB+QB+")*",yve=JB+QB+mve,vve="(?:"+[WB+wS+"?",wS,KB,YB,hve].join("|")+")",Ave=RegExp(ES+"(?="+ES+")|"+vve+yve,"g");function bve(e){return e.match(Ave)||[]}function _ve(e){return GB(e)?bve(e):ave(e)}function Sve(e){return function(t){t=qx(t);var n=GB(t)?_ve(t):void 0,r=n?n[0]:t.charAt(0),i=n?Xye(n,1).join(""):t.slice(1);return r[e]()+i}}var xve=Sve("toUpperCase");function wve(e){return xve(qx(e).toLowerCase())}function YR(e,t,n,r,i,s,o,a){const l=Math.max(r,i/2),c=Math.min(l/2,i/2,s);e.beginPath(),e.moveTo(t+c,n),e.lineTo(t+l-c,n),e.quadraticCurveTo(t+l,n,t+l,n+c),e.lineTo(t+l,n+i-c),e.quadraticCurveTo(t+l,n+i,t+l-c,n+i),e.lineTo(t+c,n+i),e.quadraticCurveTo(t,n+i,t,n+i-c),e.lineTo(t,n+c),e.quadraticCurveTo(t,n,t+c,n),e.closePath(),o&&e.fill(),a&&e.stroke()}function qE(e,t,n,r,i,s,o,a,l=.1){YR(e,t,n,r,i,s,o,a),o&&l>0&&(e.save(),YR(e,t,n,r,i,s,!1,!1),e.clip(),e.fillStyle=`rgba(255,255,255,${l})`,e.fillRect(t,n,r,i/2.2),e.restore())}function df(e,t){e.fillStyle=t.fill,e.strokeStyle=t.stroke,e.lineWidth=t.lineWidth}function ff(e,t,n,r,i,s,o){s==="star"?df(e,ge.colors.lines.star):s==="freestyle"||s==="rap"?df(e,ge.colors.lines.freestyle):s==="rapstar"?df(e,{...ge.colors.lines.star,fill:ge.colors.lines.freestyle.fill}):df(e,ge.colors.lines.normal),e.shadowBlur=10,e.shadowColor=o!==void 0?ge.colors.players[o].miss.stroke:"rgb(31,31,31)",e.shadowOffsetX=0,e.shadowOffsetY=0,qE(e,t,n,r,i,100,!0,!0,.075),e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0}function Eve(e,t,n,r,i,s,o,a,l){df(e,UB(e,s,l,o,a)),e.shadowBlur=5,e.shadowColor="rgba(31,31,31, .7)",e.shadowOffsetX=1,e.shadowOffsetY=1,qE(e,t,n,r,i,100,!0,!0,o?.15:0),e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0}const Fn=10,Cve={start:{x:0,y:0,w:Gi/2+Fn,h:Gi+Fn*2},middle:{x:Gi/2+Fn,y:0,w:1,h:Gi+Fn*2},end:{x:Gi/2+1+Fn,y:0,w:Gi/2+Fn,h:Gi+Fn*2}},su={start:{x:0,y:0,w:Pn/2+Fn,h:Pn+Fn*2},middle:{x:Pn/2+Fn,y:0,w:1,h:Pn+Fn*2},end:{x:Pn/2+1+Fn,y:0,w:Pn/2+Fn,h:Pn+Fn*2}},Oc=(e,t,n,r,i)=>({draw:(s,o,a,l,c)=>Eve(s,o,a,l,c,e,t,n,r),width:i?Pn:Gi+1,height:i?Pn:Gi,padding:Fn,fragments:i?su:Cve}),bg=e=>({[`p${e}Normal`]:{draw:(t,n,r,i,s)=>ff(t,n,r,i,s,"normal",e),width:Pn+1,height:Pn,padding:Fn,fragments:su},[`p${e}Miss`]:Oc(e,!1,!1,!1,!1),[`p${e}Hit`]:Oc(e,!0,!1,!1,!0),[`p${e}Perfect`]:Oc(e,!0,!0,!1,!0),[`p${e}StarMiss`]:Oc(e,!1,!1,!0,!1),[`p${e}StarHit`]:Oc(e,!0,!1,!0,!0),[`p${e}StarPerfect`]:Oc(e,!0,!0,!0,!0)}),ko={...bg(0),...bg(1),...bg(2),...bg(3),noteStar:{draw:(e,t,n,r,i)=>ff(e,t,n,r,i,"star"),width:Pn+1,height:Pn,padding:Fn,fragments:su},noteFreestyle:{draw:(e,t,n,r,i)=>ff(e,t,n,r,i,"freestyle"),width:Pn+1,height:Pn,padding:Fn,fragments:su},noteRap:{draw:(e,t,n,r,i)=>ff(e,t,n,r,i,"rap"),width:Pn+1,height:Pn,padding:Fn,fragments:su},noteRapstar:{draw:(e,t,n,r,i)=>ff(e,t,n,r,i,"rapstar"),width:Pn+1,height:Pn,padding:Fn,fragments:su}};function kve(e,t){const n=document.createElement("canvas");return n.width=e,n.height=t,n}const XB=Math.max(...Object.values(ko).map(e=>e.padding*2+e.width)),ZB=Object.values(ko).map(e=>e.padding*2+e.height).reduce((e,t)=>e+t,0),eD=kve(XB,ZB),CS=eD.getContext("2d");let kl=0;const QR=Object.entries(ko).map(([e,t])=>{const n=t.padding*2,r={name:e,x:0,y:kl,w:t.width+n,h:t.height+n};return kl=kl+t.height+n,r}).reduce((e,t)=>({...e,[t.name]:t}),{}),tD=()=>{CS.clearRect(0,0,XB,ZB),kl=0,Object.entries(ko).forEach(([e,t])=>{t.draw(CS,t.padding,kl+t.padding,t.width,t.height),kl=kl+t.padding*2+t.height})};tD();te.songStarted.subscribe(tD);const nD=(e,t)=>({canvas:eD,ctx:CS,x:QR[e].x+ko[e].fragments[t].x,y:QR[e].y+ko[e].fragments[t].y,w:ko[e].fragments[t].w,h:ko[e].fragments[t].h,padding:ko[e].padding}),h1=(e,t,n,r,i,s,o,a=1,l=1)=>{const c=nD(t,n),{canvas:u,w:d,h,y:p,x:g,padding:m}=c,b=m*a,y=m*l;return e.imageSmoothingEnabled=!1,e.drawImage(u,g,p,d,h,r-b,i-y,s??d,h),e.imageSmoothingEnabled=!0,c};function rD(e,t,n,r,i){const s=nD(t,"start"),o=Math.max(i,(s.h-s.padding*2)/2),a=Math.min(1,o/2/(s.w-s.padding)),l=a*s.w,c=l-s.padding*a,u=o-2*c;h1(e,t,"start",n,r,l,void 0,a),u>0&&h1(e,t,"middle",n+l,r,u,void 0,a),h1(e,t,"end",n+u+l,r,l,void 0,a)}const Tve=(e,t)=>`${t!==void 0&&e==="normal"?`p${t}`:"note"}${wve(e)}`;function iD(e,t,n,r,i,s){const o=Tve(i.type,s);rD(e,o,t,n,r)}function Ive(e,t,n,r,i,s){e.save(),qE(e,t,n,r,i,100,!1,!1),e.clip(),e.beginPath(),e.strokeStyle="rgba(255,255,255, .35)",e.lineWidth=3,e.lineJoin="round",e.moveTo(t,n+i/2-s.frequencyRecords[0].preciseDistance*i/3);for(let o=1;o<s.frequencyRecords.length;o++)e.lineTo(t+o*(r/(s.frequencyRecords.length-1)),n+i/2-s.frequencyRecords[o].preciseDistance*i/3);e.stroke(),e.closePath(),e.restore(),e.lineJoin="miter"}const Pve=(e,t,n,r)=>{let i=`p${e}`;return n&&r?i=`${i}StarPerfect`:n?i=`${i}Perfect`:r&&t?i=`${i}StarHit`:t?i=`${i}Hit`:r&&!t?i=`${i}StarMiss`:i=`${i}Miss`,i},Rve=["star","rapstar"];function Mve(e,t,n,r,i,s,o){const a=Pve(i,s,o.isPerfect,Rve.includes(o.note.type));rD(e,a,t,n,r)}class jve{constructor(){this.particles=[],this.lastTick=Date.now(),this.getTimeDelta=t=>{const n=Date.now()-t,r=n-this.lastTick;return this.lastTick=n,r},this.tick=(t,n,r=0)=>{const i=this.getTimeDelta(r);this.particles.forEach(s=>s.tick(t,n,i)),this.particles=this.particles.filter(s=>!s.finished)},this.add=t=>this.particles.push(t),this.clearAll=()=>this.particles=[]}}const vo=new jve,Ove=50/60*1e3,Vve=25/60*1e3,Lve=60,JR=.3;class Nve{constructor(t,n,r,i){this.x=t,this.y=n,this.color=r,this.delay=i,this.finished=!1,this.tick=(s,o,a)=>{if(this.delay-- >0)return;const l=this.ttl/this.startingTtl,c=this.startingTtl-this.ttl,u=this.width*l,d=this.width*this.heightModifier*l,h=this.x-u/2+c*this.velocityX,p=this.y-d/2+c*this.velocityY;GE(o,s,h,p,u,d,this.initialAngle+c,this.color,.8*l),this.velocityX=this.velocityX-.009,this.velocityY=this.velocityY*1.0075,this.ttl=this.ttl-a,this.finished=this.ttl<=0},this.startingTtl=this.ttl=Df(Ove,Vve),this.velocityX=Df(.5,JR)*KR(.2),this.velocityY=Df(.4,JR)*KR(),this.width=Lve,this.initialAngle=180-Math.random()*360,this.heightModifier=.5+Math.random()/2}}class Bve{constructor(t,n,r,i,s,o){this.finished=!0,this.tick=(d,h)=>{};const a=s.type==="star"?ge.colors.players[i].star.fill:ge.colors.players[i].perfect.fill,l=le(a).lighten(15).toRgbString(),c=le(a).darken(15).toRgbString(),u=r/9;for(let d=0;d<u;d++){const h=Math.random();let p=a;h>.66?p=l:h>.33&&(p=c);const g=n+20*(Math.random()-.5);o.add(new Nve(t+d*9,g,p,(u-d)/10))}}}const XR=200;class Dve{constructor(t,n,r,i,s){this.x=t,this.y=n,this.width=r,this.note=i,this.playerNumber=s,this.finished=!1,this.ttl=XR,this.tick=(o,a,l)=>{const c=this.ttl/XR;o.save(),o.globalAlpha=c,o.translate(0,Pn*(1-c)),iD(o,this.x,this.y,this.width,this.note,this.playerNumber),o.globalAlpha=1,o.restore(),this.ttl=this.ttl-l,this.finished=this.ttl<=0}}}const p1=50/60*1e3,_g=.05,$ve=200,ZR=4,Fve=Math.pow;function eM(e){return 1-Fve(1-e,2)}class zve{constructor(t,n,r,i){this.x=t,this.y=n,this.finished=!1,this.tick=(s,o,a)=>{const l=this.ttl/p1;let c=eM(1-Math.min(1,(1-l)*6));const u=this.maxWidth*c*3/4,d=this.maxWidth*c;xS(o,s,this.x,this.y,u,d,"white",c*.35),c=eM(l);const h=c*this.maxWidth/4,p=c*this.maxWidth/4,g=this.x,m=this.y,b=p1-this.ttl;s.globalAlpha=c*.2,xS(o,s,g+b*this.velocityX,m+b*this.velocityY,h,p,"white",c*.2),this.ttl=this.ttl-a,this.finished=this.ttl<=0},this.ttl=p1,this.velocityX=_g*Math.random()-_g/2,this.velocityY=_g*Math.random()-_g/2,this.maxWidth=Math.min(.1+i,1)*(Math.sin(r/70)*ZR+($ve-ZR))}}const tM=20;class Uve{constructor(t,n,r,i,s){this.x=t,this.y=n,this.w=r,this.h=i,this.seed=s,this.finished=!1,this.ttl=2/60*1e3,this.tick=(o,a,l)=>{o.strokeStyle="rgba(255,255,255,.25)",o.lineWidth=2,o.beginPath();for(let c=0;c<this.w;c++){const u=this.x+this.w-c,d=(this.h/2+2)*Math.sin(u/tM+this.seed/250);o.lineTo(u,this.y+this.h/2+d)}o.stroke(),o.beginPath();for(let c=0;c<this.w;c++){const u=this.x+this.w-c,d=-1*(this.h/2+2)*Math.sin(u/tM+this.seed/250);o.lineTo(u,this.y+this.h/2+d)}o.stroke(),this.ttl=this.ttl-l,this.finished=this.ttl<=0}}}const nM=20;function Hve(e,t){return e.find(n=>n.start<=t&&n.start+n.length>=t)}class Gve{constructor(t,n=0,r=1){this.canvas=t,this.verticalMargin=n,this.scaleFactor=r,this.loop=!1,this.pauseTime=0,this.pausedOn=0,this.shaders=null,this.start=()=>{te.sectionChange.subscribe(this.onSectionEnd),this.loop=!0,this.drawFrame()},this.pause=()=>{this.end(),this.pausedOn=Date.now()},this.resume=()=>{this.pauseTime+=Date.now()-this.pausedOn,this.start()},this.end=()=>{var i;this.loop=!1,(i=this.shaders)==null||i.cleanup(),te.sectionChange.unsubscribe(this.onSectionEnd)},this.isPlaying=()=>this.loop,this.drawFrame=()=>{const i=Date.now(),s=this.canvas.getContext("2d");if(s){if($e.isPlaying()&&(s.clearRect(0,0,this.canvas.width,this.canvas.height),Oe.getPlayers().forEach((a,l)=>{this.drawPlayer(a.number,s)}),vo.tick(s,this.canvas,this.pauseTime)),Tl.get()===30){const o=Date.now(),a=1e3/30,l=o-i>a?a:a-(o-i);this.loop&&setTimeout(this.drawFrame,l,Tl.get())}Tl.get()!==30&&this.loop&&global.requestAnimationFrame(this.drawFrame)}},this.drawPlayer=(i,s)=>{const o=this.getDrawingData(i),{currentSection:a}=WR(o);if(Ji.get()==="high"&&this.setDistortionForce(o),!Pt(a))return;const l=this.calculateDisplacements(a,o);this.drawNotesToSing(s,o,l),this.drawSungNotes(s,o,l),Ji.get()==="high"&&(this.drawFlare(s,o,l),this.markGoldNotes(a,o))},this.setDistortionForce=i=>{var o,a,l;const s=i.currentSection;if(!Pt(s))(a=this.shaders)==null||a.updatePlayerForce(i.playerNumber,(((o=this.shaders)==null?void 0:o.getPlayerForce(i.playerNumber))??0)*.99);else{const c=Math.max(0,i.currentBeat-nM),u=i.currentPlayerNotes.filter(m=>m.note.start+m.note.length>=c).filter(m=>Om(m)===0).reduce((m,b)=>m+b.length-Math.max(0,c-b.start),0),d=i.currentPlayerNotes.at(-1),h=((d==null?void 0:d.start)??0)+((d==null?void 0:d.length)??0),p=i.currentBeat-h,g=Math.max(Math.min(Math.pow((u-p/1.5)/nM,3),.98),0);(l=this.shaders)==null||l.updatePlayerForce(i.playerNumber,g)}},this.drawNotesToSing=(i,s,o)=>{Pt(s.currentSection)&&s.currentSection.notes.forEach(a=>{const{x:l,y:c,w:u,h:d}=this.getNoteCoords(s,a,a.pitch,!0,o[a.start]);iD(i,l,c,u,a,s.playerNumber)})},this.drawSungNotes=(i,s,o)=>{Pt(s.currentSection)&&s.currentPlayerNotes.forEach(a=>{const l=Om(a),{x:c,y:u,w:d,h}=this.getNoteCoords(s,a,a.note.pitch+l,l===0,o[a.note.start]);(l>0||d>h/2.5)&&(Mve(i,c,u,d,s.playerNumber,l===0,a),a.vibrato&&vo.add(new Uve(c,u,d,h,s.currentTime)),l===0&&a.frequencyRecords.length>3&&!Sf.includes(a.note.type)&&Ive(i,c,u,d,h,a))})},this.drawFlare=(i,s,o)=>{var l;if(!Pt(s.currentSection))return;const a=Hve(s.currentPlayerNotes,s.currentBeat-185/s.songBeatLength);if(a&&a.distance===0){const c=o[a.note.start]||[0,0],{x:u,y:d,w:h,h:p}=this.getNoteCoords(s,a,a.note.pitch,!0,c),g=Sf.includes(a.note.type)?0:a.frequencyRecords.at(-1).preciseDistance,m=u+h,b=this.getPreciseY(d,p,g);vo.add(new zve(m,b,s.currentTime,1)),vo.add(new Hye(NB(Math.max(u,m-50),m),b,Lye(i,s.playerNumber,!0,a).fill)),(l=this.shaders)==null||l.updatePlayerCenter(s.playerNumber,m,b)}},this.onSectionEnd=i=>{if($e.isPlaying()){const s=this.getDrawingData(i,-1);if(!Pt(s.currentSection))return;this.fadeoutNotes(s.currentSection,s),this.explodeNotes(s.currentSection,s)}},this.fadeoutNotes=(i,s)=>{Ji.get()==="high"&&i.notes.forEach(o=>{const{x:a,y:l,w:c,h:u}=this.getNoteCoords(s,o,o.pitch,!0);vo.add(new Dve(a,l,c,o,s.playerNumber))})},this.explodeNotes=(i,s)=>{Ji.get()==="high"&&s.playerNotes.filter(a=>(a.distance===0||Sf.includes(a.note.type))&&i.notes.includes(a.note)).forEach(a=>{const{x:l,y:c,w:u,h:d}=this.getNoteCoords(s,a,a.note.pitch,!0);vo.add(new Bve(l,c+d/2,u,s.playerNumber,a.note,vo))})},this.markGoldNotes=(i,s)=>{i.notes.filter(a=>a.type==="star"||a.type==="rapstar").forEach(a=>{const{x:l,y:c,w:u,h:d}=this.getNoteCoords(s,a,a.pitch,!0);vo.add(new Fye(l,c+d/2,u,s.playerNumber,vo))})},this.calculateDisplacements=(i,s)=>{const o={};return Ji.get()==="high"?i.notes.forEach(a=>{const l=s.playerNotes.filter(h=>h.note.start===a.start).filter(h=>h.note.start+h.note.length+30>=s.currentBeat&&h.distance===0).map(h=>h.start+30<s.currentBeat?h.length-(s.currentBeat-30-h.start):h.length).reduce((h,p)=>Math.min(h+p,30),0),c=Math.max(0,(l-5)/(a.type==="star"?3:5)),u=(Math.random()-.5)*c,d=(Math.random()-.5)*c;o[a.start]=[u,d]}):i.notes.forEach(a=>{o[a.start]=[0,0]}),o},this.getDrawingData=(i,s=0)=>{const o=Oe.getPlayers(),a=o.findIndex(m=>m.number===i),l=o.length,c=$e.getPlayer(i),u=c.getCurrentSectionIndex()+s,d=$e.getSong(),h=c.getTrack(),p=h.sections[u],g=c.getPlayerNotes();return{playerNumber:i,playerIndex:a,playerCount:l,song:d,songBeatLength:$e.getSongBeatLength(),minPitch:c.getMinPitch(),maxPitch:c.getMaxPitch(),canvas:this.canvas,currentTime:$e.getCurrentTime(),frequencies:c.getPlayerFrequencies(),playerNotes:g,currentPlayerNotes:g.filter(m=>m.note.start>=((p==null?void 0:p.start)??1/0)),track:h,currentBeat:$e.getCurrentBeat(),currentSectionIndex:u,currentSection:p,paddingVertical:this.verticalMargin}},this.getNoteCoords=(i,{start:s,length:o},a,l,c=[0,0])=>{const{sectionEndBeat:u,currentSection:d,playerCanvas:h,pitchStepHeight:p}=WR(i),g=Pt(d)?d.notes[0].start:1,m=h.width/(u-g),[b,y]=l?c:[0,0],v=p*(i.maxPitch-a+zB);return{x:Math.floor(h.baseX+m*(s-g)+b),y:Math.floor(h.baseY+10+v+y-(l?3:0)),w:Math.floor(m*o),h:l?Pn:Gi}},this.getPreciseY=(i,s,o)=>i+s/2-o*s/3}}const qve=`precision mediump float;

const float MAX_FORCE = 300.0;
const int SAMPLE_COUNT = 8; // 2^x
const float INTENSITY = 0.051;
// get our varyings
varying vec3 vVertexPosition;
varying vec2 vTextureCoord;
// the uniform we declared inside our javascript
uniform float uTime;
uniform sampler2D planeTexture;
uniform vec2 uResolution;

uniform vec2 uP0center;
uniform float uP0force;

uniform vec2 uP1center;
uniform float uP1force;

float rnd(float n) {
    return fract(sin(n) * 43758.5453);
}
float random (vec2 st) {
    return rnd(dot(st.xy, vec2(12.9898, 78.233)));
}

vec4 directionalBlur(in vec2 uv, in vec2 direction, in float intensity)
{
    vec4 color = vec4(0.0);

    for (int i=1; i<=SAMPLE_COUNT; i++)
    {
        color += texture2D(planeTexture,uv+float(i)*intensity/float(SAMPLE_COUNT)*direction);
    }

    return color/float(SAMPLE_COUNT);
}

float distort(vec2 center, float force, float comparedIntensity) {
    float actualForce = force * MAX_FORCE;
    vec2 centerAbs = center * uResolution;

    vec2 direction = gl_FragCoord.xy - centerAbs.xy;
    float dist = length(direction) / length(uResolution);


    float intensity = max(0.0, 0.50 - dist) * INTENSITY * pow(force, 1.5);
    if (intensity > comparedIntensity) {
        vec4 newColor = directionalBlur(gl_FragCoord.xy / uResolution, normalize(direction), intensity);
        gl_FragColor = newColor;
    }
    return intensity;
}

void main() {
    gl_FragColor = texture2D(planeTexture, vTextureCoord);
    float p1intensity = distort(uP0center, uP0force, 0.0);
    float p2intensity = distort(uP1center, uP1force, p1intensity);
}`,Wve=`
precision mediump float;

// default mandatory variables
attribute vec3 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat4 uMVMatrix;
uniform mat4 uPMatrix;

uniform mat4 planeTextureMatrix;

// custom varyings
varying vec3 vVertexPosition;
varying vec2 vTextureCoord;

void main() {
    gl_Position = uPMatrix * uMVMatrix * vec4(aVertexPosition, 1.0);

    // varyings
    vVertexPosition = aVertexPosition;
    vTextureCoord = (planeTextureMatrix * vec4(aTextureCoord, 0.0, 1.0)).xy;
}`,Kve=1920,Yve=A.forwardRef(function({currentStatus:e,width:t,height:n,playerSetups:r,onSongEnd:i,effectsEnabled:s,videoPlayerRef:o,isPauseMenuVisible:a},l){var _,x,S;const[c]=Qe(Ji),[u]=Qe(br),d=A.useRef(null),h=A.useRef(null),p=A.useRef(null),g=Kve,m=g*(n/t),b=m/n;A.useImperativeHandle(l,()=>({pause:()=>{var E;return(E=h.current)==null?void 0:E.pause()},resume:()=>{var E;return(E=h.current)==null?void 0:E.resume()}}),[h.current,(_=p.current)==null?void 0:_.offsetHeight,b]),A.useEffect(()=>($e.startInputMonitoring(),()=>{$e.stopInputMonitoring()}),[]),A.useEffect(()=>{if(!(!d.current||!p.current))return h.current=new Gve(d.current,p.current.offsetHeight*b),h.current.start(),()=>{var E;(E=h.current)==null||E.end()}},[(x=p.current)==null?void 0:x.offsetHeight,b]),A.useEffect(()=>{var E,C,k,O;a&&((E=h.current)!=null&&E.isPlaying())?(C=h.current)==null||C.pause():!a&&!((k=h.current)!=null&&k.isPlaying())&&((O=h.current)==null||O.resume())},[a]),A.useEffect(()=>{e===In.ENDED&&i&&i()},[e,i]);const y=Oe.getPlayers(),v=!u&&y.length>1;return f.jsxs(Qve,{children:[c==="high"&&f.jsxs(f.Fragment,{children:[f.jsx("script",{type:"x-shader/x-fragment",id:"plane-fs",children:qve}),f.jsx("script",{id:"plane-vs",type:"x-shader/x-vertex",children:Wve}),f.jsx(Xve,{id:"canvas",style:{zIndex:1e4}})]}),f.jsx(Jve,{id:"plane",style:s?void 0:{opacity:0},children:f.jsx("canvas",{ref:d,width:g,height:m,"data-sampler":"planeTexture"})}),s&&f.jsxs(f.Fragment,{children:[f.jsx(lye,{playerRef:o,isEnabled:!a}),f.jsx(gye,{onSongEnd:i,isEnabled:!a})]}),f.jsx(mye,{players:r}),f.jsx(rM,{children:v&&f.jsx(HR,{player:y[0],effectsEnabled:s,showStatusForAllPlayers:y.length>2})}),f.jsx(Zve,{children:s&&f.jsx(f.Fragment,{children:((S=$e.getSingSetup())==null?void 0:S.mode)===Fr.CO_OP?f.jsx(iM,{"data-test":"players-score","data-score":Math.floor($e.getPlayerScore(0)),children:f.jsx(SS,{score:$e.getPlayerScore(0)})}):Oe.getPlayers().map(E=>f.jsx(iM,{"data-test":`player-${E.number}-score`,"data-score":Math.floor($e.getPlayerScore(E.number)),children:f.jsx(SS,{score:$e.getPlayerScore(E.number)})},E.number))})}),f.jsx(rM,{ref:p,children:f.jsx(HR,{showStatusForAllPlayers:y.length>2,player:y.length>2?y[0]:y.at(-1),bottom:!0,effectsEnabled:s})})]})}),rM=j("div",{target:"el0barv5"})({name:"14ci2tu",styles:"padding:2rem 0;box-sizing:border-box"}),Qve=j("div",{target:"el0barv4"})({name:"y3i90j",styles:"height:100%;color:white;-webkit-text-stroke:0.2rem black;font-weight:bold;position:relative;display:flex;flex-direction:column"}),Jve=j("div",{target:"el0barv3"})({name:"1x1omeb",styles:"position:absolute;top:0;left:0;width:100%;height:100%;canvas{width:100%;height:100%;}"}),Xve=j("div",{target:"el0barv2"})({name:"1b4920d",styles:"position:absolute;top:0;left:0;width:100%;height:100%"}),Zve=j("div",{target:"el0barv1"})({name:"od05bk",styles:"flex:1;height:100%;box-sizing:border-box;font-size:5.5rem;display:flex;justify-content:space-around;padding-right:4rem;flex-direction:column;text-align:right;z-index:1"}),iM=j("span",{target:"el0barv0"})("");function eAe(e,t){const[n,r]=A.useState(0);return A.useEffect(()=>{e.current&&t===In.PLAYING&&n===0&&e.current.getDuration().then(i=>{r(i),$e.setDuration(i)})},[n,e,t]),n}function tAe({song:e,width:t,height:n,autoplay:r=!0,showControls:i=!1,onCurrentTimeUpdate:s,onSongEnd:o,onStatusChange:a,players:l,effectsEnabled:c=!0,singSetup:u,restartSong:d,pauseMenu:h=!1,...p},g){const m=A.useRef(null),[b,y]=A.useState(0),[v,_]=A.useState(In.UNSTARTED),[x]=Qe(Af),[S,E]=A.useState(!1);A.useEffect(()=>($e.setSong(e),$e.setSingSetup(u),()=>{$e.resetSingSetup()}),[e,u]),A.useEffect(()=>{if(m.current&&v===In.PLAYING){const P=setInterval(async()=>{if(!m.current)return;const T=Math.max(0,await m.current.getCurrentTime()*1e3-x);y(T),s==null||s(T),$e.setCurrentTime(T),$e.update()},1e3/Tl.get());return()=>clearInterval(P)}},[m,s,v,x]);const C=eAe(m,v);A.useImperativeHandle(g,()=>({seekTo:P=>m.current.seekTo(P),setPlaybackSpeed:P=>m.current.setPlaybackSpeed(P),play:()=>m.current.playVideo(),pause:()=>m.current.pauseVideo()}));const k=A.useCallback(P=>{_(P),a==null||a(P)},[_,a]),O=h,w=()=>{var P;E(!0),(P=m.current)==null||P.pauseVideo()},M=()=>{var P;E(!1),(P=m.current)==null||P.playVideo()},N=()=>{S?M():w()},R=O0(v);A.useEffect(()=>{var T;if(!O)return;const P=R!==In.PAUSED&&R!==In.BUFFERING&&v===In.PAUSED;v===In.PLAYING&&S?(T=m.current)==null||T.pauseVideo():P&&!S&&E(!0)},[S,v,R,O]),gc({back:N},O,[S]);const V=A.useMemo(()=>({back:"Pause Menu"}),[]);return yd(V,c),f.jsxs(nAe,{...p,children:[S&&f.jsx(iye,{onExit:o,onResume:M,onRestart:d}),v!==In.UNSTARTED&&f.jsx(rAe,{style:{width:`${t}px`,height:`${n}px`},children:f.jsx(Yve,{isPauseMenuVisible:S,effectsEnabled:c,duration:C,currentStatus:v,song:e,width:t,height:n,onSongEnd:o,playerSetups:l,videoPlayerRef:m.current})}),f.jsxs(iAe,{children:[f.jsx(LE,{ref:m,video:e.video,width:t,height:n,controls:i,autoplay:r,disablekb:!0,volume:e.volume,startAt:e.videoGap??0,onStateChange:k}),v===In.PLAYING&&f.jsx(sAe,{"data-test":"make-song-go-fast",onClick:()=>{var P;(P=m.current)==null||P.setPlaybackSpeed(2)}})]})]})}const nAe=j("div",{target:"e1ggxuxd3"})({name:"bjn8wh",styles:"position:relative"}),rAe=j("div",{target:"e1ggxuxd2"})({name:"qkt6ng",styles:"position:absolute;z-index:1;background-color:rgba(0, 0, 0, 0.2);pointer-events:none;width:100%;height:100%;top:0;left:0"}),iAe=j("div",{target:"e1ggxuxd1"})({name:"j387f9",styles:"overflow:hidden;height:100%"}),sAe=j("div",{target:"e1ggxuxd0"})({name:"sp3f84",styles:"width:30px;height:30px;opacity:0.01;background:black;position:absolute;bottom:calc(100vh / 2 - 15px);left:0"}),oAe=A.forwardRef(tAe),sM=[f.jsxs(f.Fragment,{children:["You can follow the updates and give feedback on the game through the Facebook Page:"," ",f.jsx("a",{href:"https://www.facebook.com/allkaraoke.party",target:"_blank",rel:"noreferrer",children:f.jsx("strong",{children:"fb.com/AllKaraoke.Party"})})]}),f.jsxs(f.Fragment,{children:["Start typing a name of a song in ",f.jsx("strong",{children:"Song Selection"})," to active Search feature"]}),f.jsxs(f.Fragment,{children:["Narrow down songs through ",f.jsx("strong",{children:"playlists"})," on the right in Song Selection"]}),f.jsxs(f.Fragment,{children:["Select ",f.jsx("strong",{children:"Pass The Mic"})," Game Mode to share the microphones and sing in a team"]}),f.jsxs(f.Fragment,{children:["Your scores and ",f.jsx("strong",{children:"stats are saved"})," in this browser - they will be available for the next party!"]}),f.jsxs(f.Fragment,{children:["You can remove irrelevant songs from the Song Selection in ",f.jsx("strong",{children:"Edit Songs"})," page"]}),f.jsxs(f.Fragment,{children:["If the game feels a bit jaggy with low FPS, check out ",f.jsx("strong",{children:"Settings"})," page"]}),f.jsxs(f.Fragment,{children:["Party is only getting started? Play ",f.jsx("strong",{children:"Jukebox"})," for the music and to see what songs are available"]}),f.jsxs(f.Fragment,{children:["Research shows that ",f.jsx("strong",{children:"duet songs"})," are that bit more fun than simple one-track ones"]}),f.jsxs(f.Fragment,{children:["Want to sing a ",f.jsx("strong",{children:"new song"}),"? Find UltraStar version of it and import it with",f.jsx("br",{}),f.jsx("strong",{children:"Convert Ultrastar .txt"})]}),f.jsxs(f.Fragment,{children:["The ",f.jsx("strong",{children:"white pulse"})," around selected song in Song Selection tries to match song's tempo"]}),f.jsxs(f.Fragment,{children:["Entire game (besides add/edit song) is navigable with ",f.jsx("strong",{children:"Keyboard"})]}),f.jsxs(f.Fragment,{children:["You can hide or show keyboard navigation help with ",f.jsx("kbd",{children:"H"})," key"]}),f.jsxs(f.Fragment,{children:["In Song Selection, hold ",f.jsx("kbd",{children:""})," or ",f.jsx("kbd",{children:""})," to jump to the next letter"]}),f.jsxs(f.Fragment,{children:["Add ",f.jsx("strong",{children:"vibrato"})," to the notes you sing to get additional ",f.jsx("strong",{children:"bonus points"})]}),f.jsxs(f.Fragment,{children:["You can control the game with your phone - click on the"," ",f.jsxs("strong",{children:[f.jsx(Jm,{}),"QR Code Icon"]})," ","on the top right and follow the instructions"]})],aAe=({as:e="h4",...t})=>{const n=A.useRef(js(0,sM.length-1)),r=e;return f.jsx(r,{...t,children:sM[n.current]})};function lAe({...e}){const[t,n]=A.useState(""),r=A.useRef(null);return A.useEffect(()=>{const i=setTimeout(()=>{n(Is.getVideo())},1e3);return()=>{clearTimeout(i)}},[]),A.useEffect(()=>{try{r.current&&(r.current.playbackRate=16)}catch(i){Ns(i)}},[t]),f.jsx(cAe,{...e,children:f.jsx(uAe,{src:t,ref:r,loop:!0,autoPlay:!0,className:"ph-no-capture"})})}const cAe=j("div",{target:"e1hckw6c1"})({name:"1g34f1k",styles:"width:80rem;height:60rem"}),uAe=j("video",{target:"e1hckw6c0"})({name:"idj2s4",styles:"object-fit:cover;width:100%;height:100%"});function dAe(e){return 1-Math.pow(1-e,3)}function fAe(e){return dAe(e)}function Sg({color:e,maxScore:t,score:n}){return f.jsx(hAe,{style:{border:n===0?0:void 0,width:`${fAe(n/t)*24}%`,backgroundColor:e}})}const hAe=j("div",{target:"e6b38g50"})({name:"1vc31u",styles:`background-image:linear-gradient(
    180deg,
    rgba(0, 0, 0, 0.17) 0%,
    rgba(0, 0, 0, 0.03) 50%,
    rgba(0, 0, 0, 0.18) 51%,
    rgba(0, 0, 0, 0.18) 100%
  );transition:1s;border-radius:0.5rem;height:100%;border:solid 0.1rem black;box-sizing:border-box`});var sD={exports:{}};(function(e,t){(function(n,r){e.exports=r(A)})(typeof self<"u"?self:ha,n=>(()=>{var r={7403:(a,l,c)=>{c.d(l,{default:()=>B});var u=c(4087),d=c.n(u);const h=function(D){return new RegExp(/<[a-z][\s\S]*>/i).test(D)},p=function(D,F){return Math.floor(Math.random()*(F-D+1))+D};var g="TYPE_CHARACTER",m="REMOVE_CHARACTER",b="REMOVE_ALL",y="REMOVE_LAST_VISIBLE_NODE",v="PAUSE_FOR",_="CALL_FUNCTION",x="ADD_HTML_TAG_ELEMENT",S="CHANGE_DELETE_SPEED",E="CHANGE_DELAY",C="CHANGE_CURSOR",k="PASTE_STRING",O="HTML_TAG";function w(D){return w=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(F){return typeof F}:function(F){return F&&typeof Symbol=="function"&&F.constructor===Symbol&&F!==Symbol.prototype?"symbol":typeof F},w(D)}function M(D,F){var G=Object.keys(D);if(Object.getOwnPropertySymbols){var U=Object.getOwnPropertySymbols(D);F&&(U=U.filter(function(ne){return Object.getOwnPropertyDescriptor(D,ne).enumerable})),G.push.apply(G,U)}return G}function N(D){for(var F=1;F<arguments.length;F++){var G=arguments[F]!=null?arguments[F]:{};F%2?M(Object(G),!0).forEach(function(U){T(D,U,G[U])}):Object.getOwnPropertyDescriptors?Object.defineProperties(D,Object.getOwnPropertyDescriptors(G)):M(Object(G)).forEach(function(U){Object.defineProperty(D,U,Object.getOwnPropertyDescriptor(G,U))})}return D}function R(D){return function(F){if(Array.isArray(F))return V(F)}(D)||function(F){if(typeof Symbol<"u"&&F[Symbol.iterator]!=null||F["@@iterator"]!=null)return Array.from(F)}(D)||function(F,G){if(F){if(typeof F=="string")return V(F,G);var U=Object.prototype.toString.call(F).slice(8,-1);return U==="Object"&&F.constructor&&(U=F.constructor.name),U==="Map"||U==="Set"?Array.from(F):U==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(U)?V(F,G):void 0}}(D)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function V(D,F){(F==null||F>D.length)&&(F=D.length);for(var G=0,U=new Array(F);G<F;G++)U[G]=D[G];return U}function P(D,F){for(var G=0;G<F.length;G++){var U=F[G];U.enumerable=U.enumerable||!1,U.configurable=!0,"value"in U&&(U.writable=!0),Object.defineProperty(D,z(U.key),U)}}function T(D,F,G){return(F=z(F))in D?Object.defineProperty(D,F,{value:G,enumerable:!0,configurable:!0,writable:!0}):D[F]=G,D}function z(D){var F=function(G,U){if(w(G)!=="object"||G===null)return G;var ne=G[Symbol.toPrimitive];if(ne!==void 0){var $=ne.call(G,"string");if(w($)!=="object")return $;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(G)}(D);return w(F)==="symbol"?F:String(F)}const B=function(){function D(U,ne){var $=this;if(function(Z,oe){if(!(Z instanceof oe))throw new TypeError("Cannot call a class as a function")}(this,D),T(this,"state",{cursorAnimation:null,lastFrameTime:null,pauseUntil:null,eventQueue:[],eventLoop:null,eventLoopPaused:!1,reverseCalledEvents:[],calledEvents:[],visibleNodes:[],initialOptions:null,elements:{container:null,wrapper:document.createElement("span"),cursor:document.createElement("span")}}),T(this,"options",{strings:null,cursor:"|",delay:"natural",pauseFor:1500,deleteSpeed:"natural",loop:!1,autoStart:!1,devMode:!1,skipAddStyles:!1,wrapperClassName:"Typewriter__wrapper",cursorClassName:"Typewriter__cursor",stringSplitter:null,onCreateTextNode:null,onRemoveNode:null}),T(this,"setupWrapperElement",function(){$.state.elements.container&&($.state.elements.wrapper.className=$.options.wrapperClassName,$.state.elements.cursor.className=$.options.cursorClassName,$.state.elements.cursor.innerHTML=$.options.cursor,$.state.elements.container.innerHTML="",$.state.elements.container.appendChild($.state.elements.wrapper),$.state.elements.container.appendChild($.state.elements.cursor))}),T(this,"start",function(){return $.state.eventLoopPaused=!1,$.runEventLoop(),$}),T(this,"pause",function(){return $.state.eventLoopPaused=!0,$}),T(this,"stop",function(){return $.state.eventLoop&&((0,u.cancel)($.state.eventLoop),$.state.eventLoop=null),$}),T(this,"pauseFor",function(Z){return $.addEventToQueue(v,{ms:Z}),$}),T(this,"typeOutAllStrings",function(){return typeof $.options.strings=="string"?($.typeString($.options.strings).pauseFor($.options.pauseFor),$):($.options.strings.forEach(function(Z){$.typeString(Z).pauseFor($.options.pauseFor).deleteAll($.options.deleteSpeed)}),$)}),T(this,"typeString",function(Z){var oe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(h(Z))return $.typeOutHTMLString(Z,oe);if(Z){var Re=($.options||{}).stringSplitter,Ee=typeof Re=="function"?Re(Z):Z.split("");$.typeCharacters(Ee,oe)}return $}),T(this,"pasteString",function(Z){var oe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;return h(Z)?$.typeOutHTMLString(Z,oe,!0):(Z&&$.addEventToQueue(k,{character:Z,node:oe}),$)}),T(this,"typeOutHTMLString",function(Z){var oe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,Re=arguments.length>2?arguments[2]:void 0,Ee=function(Ne){var ye=document.createElement("div");return ye.innerHTML=Ne,ye.childNodes}(Z);if(Ee.length>0)for(var ae=0;ae<Ee.length;ae++){var be=Ee[ae],Ve=be.innerHTML;be&&be.nodeType!==3?(be.innerHTML="",$.addEventToQueue(x,{node:be,parentNode:oe}),Re?$.pasteString(Ve,be):$.typeString(Ve,be)):be.textContent&&(Re?$.pasteString(be.textContent,oe):$.typeString(be.textContent,oe))}return $}),T(this,"deleteAll",function(){var Z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"natural";return $.addEventToQueue(b,{speed:Z}),$}),T(this,"changeDeleteSpeed",function(Z){if(!Z)throw new Error("Must provide new delete speed");return $.addEventToQueue(S,{speed:Z}),$}),T(this,"changeDelay",function(Z){if(!Z)throw new Error("Must provide new delay");return $.addEventToQueue(E,{delay:Z}),$}),T(this,"changeCursor",function(Z){if(!Z)throw new Error("Must provide new cursor");return $.addEventToQueue(C,{cursor:Z}),$}),T(this,"deleteChars",function(Z){if(!Z)throw new Error("Must provide amount of characters to delete");for(var oe=0;oe<Z;oe++)$.addEventToQueue(m);return $}),T(this,"callFunction",function(Z,oe){if(!Z||typeof Z!="function")throw new Error("Callback must be a function");return $.addEventToQueue(_,{cb:Z,thisArg:oe}),$}),T(this,"typeCharacters",function(Z){var oe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(!Z||!Array.isArray(Z))throw new Error("Characters must be an array");return Z.forEach(function(Re){$.addEventToQueue(g,{character:Re,node:oe})}),$}),T(this,"removeCharacters",function(Z){if(!Z||!Array.isArray(Z))throw new Error("Characters must be an array");return Z.forEach(function(){$.addEventToQueue(m)}),$}),T(this,"addEventToQueue",function(Z,oe){var Re=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return $.addEventToStateProperty(Z,oe,Re,"eventQueue")}),T(this,"addReverseCalledEvent",function(Z,oe){var Re=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return $.options.loop?$.addEventToStateProperty(Z,oe,Re,"reverseCalledEvents"):$}),T(this,"addEventToStateProperty",function(Z,oe){var Re=arguments.length>2&&arguments[2]!==void 0&&arguments[2],Ee=arguments.length>3?arguments[3]:void 0,ae={eventName:Z,eventArgs:oe||{}};return $.state[Ee]=Re?[ae].concat(R($.state[Ee])):[].concat(R($.state[Ee]),[ae]),$}),T(this,"runEventLoop",function(){$.state.lastFrameTime||($.state.lastFrameTime=Date.now());var Z=Date.now(),oe=Z-$.state.lastFrameTime;if(!$.state.eventQueue.length){if(!$.options.loop)return;$.state.eventQueue=R($.state.calledEvents),$.state.calledEvents=[],$.options=N({},$.state.initialOptions)}if($.state.eventLoop=d()($.runEventLoop),!$.state.eventLoopPaused){if($.state.pauseUntil){if(Z<$.state.pauseUntil)return;$.state.pauseUntil=null}var Re,Ee=R($.state.eventQueue),ae=Ee.shift();if(!(oe<=(Re=ae.eventName===y||ae.eventName===m?$.options.deleteSpeed==="natural"?p(40,80):$.options.deleteSpeed:$.options.delay==="natural"?p(120,160):$.options.delay))){var be=ae.eventName,Ve=ae.eventArgs;switch($.logInDevMode({currentEvent:ae,state:$.state,delay:Re}),be){case k:case g:var Ne=Ve.character,ye=Ve.node,Se=document.createTextNode(Ne),We=Se;$.options.onCreateTextNode&&typeof $.options.onCreateTextNode=="function"&&(We=$.options.onCreateTextNode(Ne,Se)),We&&(ye?ye.appendChild(We):$.state.elements.wrapper.appendChild(We)),$.state.visibleNodes=[].concat(R($.state.visibleNodes),[{type:"TEXT_NODE",character:Ne,node:We}]);break;case m:Ee.unshift({eventName:y,eventArgs:{removingCharacterNode:!0}});break;case v:var Be=ae.eventArgs.ms;$.state.pauseUntil=Date.now()+parseInt(Be);break;case _:var xe=ae.eventArgs,Je=xe.cb,Ct=xe.thisArg;Je.call(Ct,{elements:$.state.elements});break;case x:var qt=ae.eventArgs,kt=qt.node,Ce=qt.parentNode;Ce?Ce.appendChild(kt):$.state.elements.wrapper.appendChild(kt),$.state.visibleNodes=[].concat(R($.state.visibleNodes),[{type:O,node:kt,parentNode:Ce||$.state.elements.wrapper}]);break;case b:var ut=$.state.visibleNodes,jt=Ve.speed,Ot=[];jt&&Ot.push({eventName:S,eventArgs:{speed:jt,temp:!0}});for(var Me=0,Ge=ut.length;Me<Ge;Me++)Ot.push({eventName:y,eventArgs:{removingCharacterNode:!1}});jt&&Ot.push({eventName:S,eventArgs:{speed:$.options.deleteSpeed,temp:!0}}),Ee.unshift.apply(Ee,Ot);break;case y:var st=ae.eventArgs.removingCharacterNode;if($.state.visibleNodes.length){var ot=$.state.visibleNodes.pop(),ln=ot.type,mt=ot.node,dt=ot.character;$.options.onRemoveNode&&typeof $.options.onRemoveNode=="function"&&$.options.onRemoveNode({node:mt,character:dt}),mt&&mt.parentNode.removeChild(mt),ln===O&&st&&Ee.unshift({eventName:y,eventArgs:{}})}break;case S:$.options.deleteSpeed=ae.eventArgs.speed;break;case E:$.options.delay=ae.eventArgs.delay;break;case C:$.options.cursor=ae.eventArgs.cursor,$.state.elements.cursor.innerHTML=ae.eventArgs.cursor}$.options.loop&&(ae.eventName===y||ae.eventArgs&&ae.eventArgs.temp||($.state.calledEvents=[].concat(R($.state.calledEvents),[ae]))),$.state.eventQueue=Ee,$.state.lastFrameTime=Z}}}),U)if(typeof U=="string"){var fe=document.querySelector(U);if(!fe)throw new Error("Could not find container element");this.state.elements.container=fe}else this.state.elements.container=U;ne&&(this.options=N(N({},this.options),ne)),this.state.initialOptions=N({},this.options),this.init()}var F,G;return F=D,(G=[{key:"init",value:function(){var U,ne;this.setupWrapperElement(),this.addEventToQueue(C,{cursor:this.options.cursor},!0),this.addEventToQueue(b,null,!0),!window||window.___TYPEWRITER_JS_STYLES_ADDED___||this.options.skipAddStyles||(U=".Typewriter__cursor{-webkit-animation:Typewriter-cursor 1s infinite;animation:Typewriter-cursor 1s infinite;margin-left:1px}@-webkit-keyframes Typewriter-cursor{0%{opacity:0}50%{opacity:1}100%{opacity:0}}@keyframes Typewriter-cursor{0%{opacity:0}50%{opacity:1}100%{opacity:0}}",(ne=document.createElement("style")).appendChild(document.createTextNode(U)),document.head.appendChild(ne),window.___TYPEWRITER_JS_STYLES_ADDED___=!0),this.options.autoStart===!0&&this.options.strings&&this.typeOutAllStrings().start()}},{key:"logInDevMode",value:function(U){this.options.devMode&&console.log(U)}}])&&P(F.prototype,G),Object.defineProperty(F,"prototype",{writable:!1}),D}()},8552:(a,l,c)=>{var u=c(852)(c(5639),"DataView");a.exports=u},1989:(a,l,c)=>{var u=c(1789),d=c(401),h=c(7667),p=c(1327),g=c(1866);function m(b){var y=-1,v=b==null?0:b.length;for(this.clear();++y<v;){var _=b[y];this.set(_[0],_[1])}}m.prototype.clear=u,m.prototype.delete=d,m.prototype.get=h,m.prototype.has=p,m.prototype.set=g,a.exports=m},8407:(a,l,c)=>{var u=c(7040),d=c(4125),h=c(2117),p=c(7518),g=c(4705);function m(b){var y=-1,v=b==null?0:b.length;for(this.clear();++y<v;){var _=b[y];this.set(_[0],_[1])}}m.prototype.clear=u,m.prototype.delete=d,m.prototype.get=h,m.prototype.has=p,m.prototype.set=g,a.exports=m},7071:(a,l,c)=>{var u=c(852)(c(5639),"Map");a.exports=u},3369:(a,l,c)=>{var u=c(4785),d=c(1285),h=c(6e3),p=c(9916),g=c(5265);function m(b){var y=-1,v=b==null?0:b.length;for(this.clear();++y<v;){var _=b[y];this.set(_[0],_[1])}}m.prototype.clear=u,m.prototype.delete=d,m.prototype.get=h,m.prototype.has=p,m.prototype.set=g,a.exports=m},3818:(a,l,c)=>{var u=c(852)(c(5639),"Promise");a.exports=u},8525:(a,l,c)=>{var u=c(852)(c(5639),"Set");a.exports=u},8668:(a,l,c)=>{var u=c(3369),d=c(619),h=c(2385);function p(g){var m=-1,b=g==null?0:g.length;for(this.__data__=new u;++m<b;)this.add(g[m])}p.prototype.add=p.prototype.push=d,p.prototype.has=h,a.exports=p},6384:(a,l,c)=>{var u=c(8407),d=c(7465),h=c(3779),p=c(7599),g=c(4758),m=c(4309);function b(y){var v=this.__data__=new u(y);this.size=v.size}b.prototype.clear=d,b.prototype.delete=h,b.prototype.get=p,b.prototype.has=g,b.prototype.set=m,a.exports=b},2705:(a,l,c)=>{var u=c(5639).Symbol;a.exports=u},1149:(a,l,c)=>{var u=c(5639).Uint8Array;a.exports=u},577:(a,l,c)=>{var u=c(852)(c(5639),"WeakMap");a.exports=u},4963:a=>{a.exports=function(l,c){for(var u=-1,d=l==null?0:l.length,h=0,p=[];++u<d;){var g=l[u];c(g,u,l)&&(p[h++]=g)}return p}},4636:(a,l,c)=>{var u=c(2545),d=c(5694),h=c(1469),p=c(4144),g=c(5776),m=c(6719),b=Object.prototype.hasOwnProperty;a.exports=function(y,v){var _=h(y),x=!_&&d(y),S=!_&&!x&&p(y),E=!_&&!x&&!S&&m(y),C=_||x||S||E,k=C?u(y.length,String):[],O=k.length;for(var w in y)!v&&!b.call(y,w)||C&&(w=="length"||S&&(w=="offset"||w=="parent")||E&&(w=="buffer"||w=="byteLength"||w=="byteOffset")||g(w,O))||k.push(w);return k}},2488:a=>{a.exports=function(l,c){for(var u=-1,d=c.length,h=l.length;++u<d;)l[h+u]=c[u];return l}},2908:a=>{a.exports=function(l,c){for(var u=-1,d=l==null?0:l.length;++u<d;)if(c(l[u],u,l))return!0;return!1}},8470:(a,l,c)=>{var u=c(7813);a.exports=function(d,h){for(var p=d.length;p--;)if(u(d[p][0],h))return p;return-1}},8866:(a,l,c)=>{var u=c(2488),d=c(1469);a.exports=function(h,p,g){var m=p(h);return d(h)?m:u(m,g(h))}},4239:(a,l,c)=>{var u=c(2705),d=c(9607),h=c(2333),p=u?u.toStringTag:void 0;a.exports=function(g){return g==null?g===void 0?"[object Undefined]":"[object Null]":p&&p in Object(g)?d(g):h(g)}},9454:(a,l,c)=>{var u=c(4239),d=c(7005);a.exports=function(h){return d(h)&&u(h)=="[object Arguments]"}},939:(a,l,c)=>{var u=c(2492),d=c(7005);a.exports=function h(p,g,m,b,y){return p===g||(p==null||g==null||!d(p)&&!d(g)?p!=p&&g!=g:u(p,g,m,b,h,y))}},2492:(a,l,c)=>{var u=c(6384),d=c(7114),h=c(8351),p=c(6096),g=c(4160),m=c(1469),b=c(4144),y=c(6719),v="[object Arguments]",_="[object Array]",x="[object Object]",S=Object.prototype.hasOwnProperty;a.exports=function(E,C,k,O,w,M){var N=m(E),R=m(C),V=N?_:g(E),P=R?_:g(C),T=(V=V==v?x:V)==x,z=(P=P==v?x:P)==x,B=V==P;if(B&&b(E)){if(!b(C))return!1;N=!0,T=!1}if(B&&!T)return M||(M=new u),N||y(E)?d(E,C,k,O,w,M):h(E,C,V,k,O,w,M);if(!(1&k)){var D=T&&S.call(E,"__wrapped__"),F=z&&S.call(C,"__wrapped__");if(D||F){var G=D?E.value():E,U=F?C.value():C;return M||(M=new u),w(G,U,k,O,M)}}return!!B&&(M||(M=new u),p(E,C,k,O,w,M))}},8458:(a,l,c)=>{var u=c(3560),d=c(5346),h=c(3218),p=c(346),g=/^\[object .+?Constructor\]$/,m=Function.prototype,b=Object.prototype,y=m.toString,v=b.hasOwnProperty,_=RegExp("^"+y.call(v).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");a.exports=function(x){return!(!h(x)||d(x))&&(u(x)?_:g).test(p(x))}},8749:(a,l,c)=>{var u=c(4239),d=c(1780),h=c(7005),p={};p["[object Float32Array]"]=p["[object Float64Array]"]=p["[object Int8Array]"]=p["[object Int16Array]"]=p["[object Int32Array]"]=p["[object Uint8Array]"]=p["[object Uint8ClampedArray]"]=p["[object Uint16Array]"]=p["[object Uint32Array]"]=!0,p["[object Arguments]"]=p["[object Array]"]=p["[object ArrayBuffer]"]=p["[object Boolean]"]=p["[object DataView]"]=p["[object Date]"]=p["[object Error]"]=p["[object Function]"]=p["[object Map]"]=p["[object Number]"]=p["[object Object]"]=p["[object RegExp]"]=p["[object Set]"]=p["[object String]"]=p["[object WeakMap]"]=!1,a.exports=function(g){return h(g)&&d(g.length)&&!!p[u(g)]}},280:(a,l,c)=>{var u=c(5726),d=c(6916),h=Object.prototype.hasOwnProperty;a.exports=function(p){if(!u(p))return d(p);var g=[];for(var m in Object(p))h.call(p,m)&&m!="constructor"&&g.push(m);return g}},2545:a=>{a.exports=function(l,c){for(var u=-1,d=Array(l);++u<l;)d[u]=c(u);return d}},1717:a=>{a.exports=function(l){return function(c){return l(c)}}},4757:a=>{a.exports=function(l,c){return l.has(c)}},4429:(a,l,c)=>{var u=c(5639)["__core-js_shared__"];a.exports=u},7114:(a,l,c)=>{var u=c(8668),d=c(2908),h=c(4757);a.exports=function(p,g,m,b,y,v){var _=1&m,x=p.length,S=g.length;if(x!=S&&!(_&&S>x))return!1;var E=v.get(p),C=v.get(g);if(E&&C)return E==g&&C==p;var k=-1,O=!0,w=2&m?new u:void 0;for(v.set(p,g),v.set(g,p);++k<x;){var M=p[k],N=g[k];if(b)var R=_?b(N,M,k,g,p,v):b(M,N,k,p,g,v);if(R!==void 0){if(R)continue;O=!1;break}if(w){if(!d(g,function(V,P){if(!h(w,P)&&(M===V||y(M,V,m,b,v)))return w.push(P)})){O=!1;break}}else if(M!==N&&!y(M,N,m,b,v)){O=!1;break}}return v.delete(p),v.delete(g),O}},8351:(a,l,c)=>{var u=c(2705),d=c(1149),h=c(7813),p=c(7114),g=c(8776),m=c(1814),b=u?u.prototype:void 0,y=b?b.valueOf:void 0;a.exports=function(v,_,x,S,E,C,k){switch(x){case"[object DataView]":if(v.byteLength!=_.byteLength||v.byteOffset!=_.byteOffset)return!1;v=v.buffer,_=_.buffer;case"[object ArrayBuffer]":return!(v.byteLength!=_.byteLength||!C(new d(v),new d(_)));case"[object Boolean]":case"[object Date]":case"[object Number]":return h(+v,+_);case"[object Error]":return v.name==_.name&&v.message==_.message;case"[object RegExp]":case"[object String]":return v==_+"";case"[object Map]":var O=g;case"[object Set]":var w=1&S;if(O||(O=m),v.size!=_.size&&!w)return!1;var M=k.get(v);if(M)return M==_;S|=2,k.set(v,_);var N=p(O(v),O(_),S,E,C,k);return k.delete(v),N;case"[object Symbol]":if(y)return y.call(v)==y.call(_)}return!1}},6096:(a,l,c)=>{var u=c(8234),d=Object.prototype.hasOwnProperty;a.exports=function(h,p,g,m,b,y){var v=1&g,_=u(h),x=_.length;if(x!=u(p).length&&!v)return!1;for(var S=x;S--;){var E=_[S];if(!(v?E in p:d.call(p,E)))return!1}var C=y.get(h),k=y.get(p);if(C&&k)return C==p&&k==h;var O=!0;y.set(h,p),y.set(p,h);for(var w=v;++S<x;){var M=h[E=_[S]],N=p[E];if(m)var R=v?m(N,M,E,p,h,y):m(M,N,E,h,p,y);if(!(R===void 0?M===N||b(M,N,g,m,y):R)){O=!1;break}w||(w=E=="constructor")}if(O&&!w){var V=h.constructor,P=p.constructor;V==P||!("constructor"in h)||!("constructor"in p)||typeof V=="function"&&V instanceof V&&typeof P=="function"&&P instanceof P||(O=!1)}return y.delete(h),y.delete(p),O}},1957:(a,l,c)=>{var u=typeof c.g=="object"&&c.g&&c.g.Object===Object&&c.g;a.exports=u},8234:(a,l,c)=>{var u=c(8866),d=c(9551),h=c(3674);a.exports=function(p){return u(p,h,d)}},5050:(a,l,c)=>{var u=c(7019);a.exports=function(d,h){var p=d.__data__;return u(h)?p[typeof h=="string"?"string":"hash"]:p.map}},852:(a,l,c)=>{var u=c(8458),d=c(7801);a.exports=function(h,p){var g=d(h,p);return u(g)?g:void 0}},9607:(a,l,c)=>{var u=c(2705),d=Object.prototype,h=d.hasOwnProperty,p=d.toString,g=u?u.toStringTag:void 0;a.exports=function(m){var b=h.call(m,g),y=m[g];try{m[g]=void 0;var v=!0}catch{}var _=p.call(m);return v&&(b?m[g]=y:delete m[g]),_}},9551:(a,l,c)=>{var u=c(4963),d=c(479),h=Object.prototype.propertyIsEnumerable,p=Object.getOwnPropertySymbols,g=p?function(m){return m==null?[]:(m=Object(m),u(p(m),function(b){return h.call(m,b)}))}:d;a.exports=g},4160:(a,l,c)=>{var u=c(8552),d=c(7071),h=c(3818),p=c(8525),g=c(577),m=c(4239),b=c(346),y="[object Map]",v="[object Promise]",_="[object Set]",x="[object WeakMap]",S="[object DataView]",E=b(u),C=b(d),k=b(h),O=b(p),w=b(g),M=m;(u&&M(new u(new ArrayBuffer(1)))!=S||d&&M(new d)!=y||h&&M(h.resolve())!=v||p&&M(new p)!=_||g&&M(new g)!=x)&&(M=function(N){var R=m(N),V=R=="[object Object]"?N.constructor:void 0,P=V?b(V):"";if(P)switch(P){case E:return S;case C:return y;case k:return v;case O:return _;case w:return x}return R}),a.exports=M},7801:a=>{a.exports=function(l,c){return l==null?void 0:l[c]}},1789:(a,l,c)=>{var u=c(4536);a.exports=function(){this.__data__=u?u(null):{},this.size=0}},401:a=>{a.exports=function(l){var c=this.has(l)&&delete this.__data__[l];return this.size-=c?1:0,c}},7667:(a,l,c)=>{var u=c(4536),d=Object.prototype.hasOwnProperty;a.exports=function(h){var p=this.__data__;if(u){var g=p[h];return g==="__lodash_hash_undefined__"?void 0:g}return d.call(p,h)?p[h]:void 0}},1327:(a,l,c)=>{var u=c(4536),d=Object.prototype.hasOwnProperty;a.exports=function(h){var p=this.__data__;return u?p[h]!==void 0:d.call(p,h)}},1866:(a,l,c)=>{var u=c(4536);a.exports=function(d,h){var p=this.__data__;return this.size+=this.has(d)?0:1,p[d]=u&&h===void 0?"__lodash_hash_undefined__":h,this}},5776:a=>{var l=/^(?:0|[1-9]\d*)$/;a.exports=function(c,u){var d=typeof c;return!!(u=u??9007199254740991)&&(d=="number"||d!="symbol"&&l.test(c))&&c>-1&&c%1==0&&c<u}},7019:a=>{a.exports=function(l){var c=typeof l;return c=="string"||c=="number"||c=="symbol"||c=="boolean"?l!=="__proto__":l===null}},5346:(a,l,c)=>{var u,d=c(4429),h=(u=/[^.]+$/.exec(d&&d.keys&&d.keys.IE_PROTO||""))?"Symbol(src)_1."+u:"";a.exports=function(p){return!!h&&h in p}},5726:a=>{var l=Object.prototype;a.exports=function(c){var u=c&&c.constructor;return c===(typeof u=="function"&&u.prototype||l)}},7040:a=>{a.exports=function(){this.__data__=[],this.size=0}},4125:(a,l,c)=>{var u=c(8470),d=Array.prototype.splice;a.exports=function(h){var p=this.__data__,g=u(p,h);return!(g<0||(g==p.length-1?p.pop():d.call(p,g,1),--this.size,0))}},2117:(a,l,c)=>{var u=c(8470);a.exports=function(d){var h=this.__data__,p=u(h,d);return p<0?void 0:h[p][1]}},7518:(a,l,c)=>{var u=c(8470);a.exports=function(d){return u(this.__data__,d)>-1}},4705:(a,l,c)=>{var u=c(8470);a.exports=function(d,h){var p=this.__data__,g=u(p,d);return g<0?(++this.size,p.push([d,h])):p[g][1]=h,this}},4785:(a,l,c)=>{var u=c(1989),d=c(8407),h=c(7071);a.exports=function(){this.size=0,this.__data__={hash:new u,map:new(h||d),string:new u}}},1285:(a,l,c)=>{var u=c(5050);a.exports=function(d){var h=u(this,d).delete(d);return this.size-=h?1:0,h}},6e3:(a,l,c)=>{var u=c(5050);a.exports=function(d){return u(this,d).get(d)}},9916:(a,l,c)=>{var u=c(5050);a.exports=function(d){return u(this,d).has(d)}},5265:(a,l,c)=>{var u=c(5050);a.exports=function(d,h){var p=u(this,d),g=p.size;return p.set(d,h),this.size+=p.size==g?0:1,this}},8776:a=>{a.exports=function(l){var c=-1,u=Array(l.size);return l.forEach(function(d,h){u[++c]=[h,d]}),u}},4536:(a,l,c)=>{var u=c(852)(Object,"create");a.exports=u},6916:(a,l,c)=>{var u=c(5569)(Object.keys,Object);a.exports=u},1167:(a,l,c)=>{a=c.nmd(a);var u=c(1957),d=l&&!l.nodeType&&l,h=d&&a&&!a.nodeType&&a,p=h&&h.exports===d&&u.process,g=function(){try{return h&&h.require&&h.require("util").types||p&&p.binding&&p.binding("util")}catch{}}();a.exports=g},2333:a=>{var l=Object.prototype.toString;a.exports=function(c){return l.call(c)}},5569:a=>{a.exports=function(l,c){return function(u){return l(c(u))}}},5639:(a,l,c)=>{var u=c(1957),d=typeof self=="object"&&self&&self.Object===Object&&self,h=u||d||Function("return this")();a.exports=h},619:a=>{a.exports=function(l){return this.__data__.set(l,"__lodash_hash_undefined__"),this}},2385:a=>{a.exports=function(l){return this.__data__.has(l)}},1814:a=>{a.exports=function(l){var c=-1,u=Array(l.size);return l.forEach(function(d){u[++c]=d}),u}},7465:(a,l,c)=>{var u=c(8407);a.exports=function(){this.__data__=new u,this.size=0}},3779:a=>{a.exports=function(l){var c=this.__data__,u=c.delete(l);return this.size=c.size,u}},7599:a=>{a.exports=function(l){return this.__data__.get(l)}},4758:a=>{a.exports=function(l){return this.__data__.has(l)}},4309:(a,l,c)=>{var u=c(8407),d=c(7071),h=c(3369);a.exports=function(p,g){var m=this.__data__;if(m instanceof u){var b=m.__data__;if(!d||b.length<199)return b.push([p,g]),this.size=++m.size,this;m=this.__data__=new h(b)}return m.set(p,g),this.size=m.size,this}},346:a=>{var l=Function.prototype.toString;a.exports=function(c){if(c!=null){try{return l.call(c)}catch{}try{return c+""}catch{}}return""}},7813:a=>{a.exports=function(l,c){return l===c||l!=l&&c!=c}},5694:(a,l,c)=>{var u=c(9454),d=c(7005),h=Object.prototype,p=h.hasOwnProperty,g=h.propertyIsEnumerable,m=u(function(){return arguments}())?u:function(b){return d(b)&&p.call(b,"callee")&&!g.call(b,"callee")};a.exports=m},1469:a=>{var l=Array.isArray;a.exports=l},8612:(a,l,c)=>{var u=c(3560),d=c(1780);a.exports=function(h){return h!=null&&d(h.length)&&!u(h)}},4144:(a,l,c)=>{a=c.nmd(a);var u=c(5639),d=c(5062),h=l&&!l.nodeType&&l,p=h&&a&&!a.nodeType&&a,g=p&&p.exports===h?u.Buffer:void 0,m=(g?g.isBuffer:void 0)||d;a.exports=m},8446:(a,l,c)=>{var u=c(939);a.exports=function(d,h){return u(d,h)}},3560:(a,l,c)=>{var u=c(4239),d=c(3218);a.exports=function(h){if(!d(h))return!1;var p=u(h);return p=="[object Function]"||p=="[object GeneratorFunction]"||p=="[object AsyncFunction]"||p=="[object Proxy]"}},1780:a=>{a.exports=function(l){return typeof l=="number"&&l>-1&&l%1==0&&l<=9007199254740991}},3218:a=>{a.exports=function(l){var c=typeof l;return l!=null&&(c=="object"||c=="function")}},7005:a=>{a.exports=function(l){return l!=null&&typeof l=="object"}},6719:(a,l,c)=>{var u=c(8749),d=c(1717),h=c(1167),p=h&&h.isTypedArray,g=p?d(p):u;a.exports=g},3674:(a,l,c)=>{var u=c(4636),d=c(280),h=c(8612);a.exports=function(p){return h(p)?u(p):d(p)}},479:a=>{a.exports=function(){return[]}},5062:a=>{a.exports=function(){return!1}},75:function(a){(function(){var l,c,u,d,h,p;typeof performance<"u"&&performance!==null&&performance.now?a.exports=function(){return performance.now()}:typeof process<"u"&&process!==null&&process.hrtime?(a.exports=function(){return(l()-h)/1e6},c=process.hrtime,d=(l=function(){var g;return 1e9*(g=c())[0]+g[1]})(),p=1e9*process.uptime(),h=d-p):Date.now?(a.exports=function(){return Date.now()-u},u=Date.now()):(a.exports=function(){return new Date().getTime()-u},u=new Date().getTime())}).call(this)},4087:(a,l,c)=>{for(var u=c(75),d=typeof window>"u"?c.g:window,h=["moz","webkit"],p="AnimationFrame",g=d["request"+p],m=d["cancel"+p]||d["cancelRequest"+p],b=0;!g&&b<h.length;b++)g=d[h[b]+"Request"+p],m=d[h[b]+"Cancel"+p]||d[h[b]+"CancelRequest"+p];if(!g||!m){var y=0,v=0,_=[];g=function(x){if(_.length===0){var S=u(),E=Math.max(0,16.666666666666668-(S-y));y=E+S,setTimeout(function(){var C=_.slice(0);_.length=0;for(var k=0;k<C.length;k++)if(!C[k].cancelled)try{C[k].callback(y)}catch(O){setTimeout(function(){throw O},0)}},Math.round(E))}return _.push({handle:++v,callback:x,cancelled:!1}),v},m=function(x){for(var S=0;S<_.length;S++)_[S].handle===x&&(_[S].cancelled=!0)}}a.exports=function(x){return g.call(d,x)},a.exports.cancel=function(){m.apply(d,arguments)},a.exports.polyfill=function(x){x||(x=d),x.requestAnimationFrame=g,x.cancelAnimationFrame=m}},8156:a=>{a.exports=n}},i={};function s(a){var l=i[a];if(l!==void 0)return l.exports;var c=i[a]={id:a,loaded:!1,exports:{}};return r[a].call(c.exports,c,c.exports,s),c.loaded=!0,c.exports}s.n=a=>{var l=a&&a.__esModule?()=>a.default:()=>a;return s.d(l,{a:l}),l},s.d=(a,l)=>{for(var c in l)s.o(l,c)&&!s.o(a,c)&&Object.defineProperty(a,c,{enumerable:!0,get:l[c]})},s.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}(),s.o=(a,l)=>Object.prototype.hasOwnProperty.call(a,l),s.nmd=a=>(a.paths=[],a.children||(a.children=[]),a);var o={};return(()=>{s.d(o,{default:()=>_});var a=s(8156),l=s.n(a),c=s(7403),u=s(8446),d=s.n(u);function h(x){return h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(S){return typeof S}:function(S){return S&&typeof Symbol=="function"&&S.constructor===Symbol&&S!==Symbol.prototype?"symbol":typeof S},h(x)}function p(x,S){for(var E=0;E<S.length;E++){var C=S[E];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(x,y(C.key),C)}}function g(x,S){return g=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(E,C){return E.__proto__=C,E},g(x,S)}function m(x){if(x===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return x}function b(x){return b=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(S){return S.__proto__||Object.getPrototypeOf(S)},b(x)}function y(x){var S=function(E,C){if(h(E)!=="object"||E===null)return E;var k=E[Symbol.toPrimitive];if(k!==void 0){var O=k.call(E,"string");if(h(O)!=="object")return O;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(E)}(x);return h(S)==="symbol"?S:String(S)}var v=function(x){(function(M,N){if(typeof N!="function"&&N!==null)throw new TypeError("Super expression must either be null or a function");M.prototype=Object.create(N&&N.prototype,{constructor:{value:M,writable:!0,configurable:!0}}),Object.defineProperty(M,"prototype",{writable:!1}),N&&g(M,N)})(w,x);var S,E,C,k,O=(C=w,k=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var M,N=b(C);if(k){var R=b(this).constructor;M=Reflect.construct(N,arguments,R)}else M=N.apply(this,arguments);return function(V,P){if(P&&(h(P)==="object"||typeof P=="function"))return P;if(P!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return m(V)}(this,M)});function w(){var M,N,R,V;(function(B,D){if(!(B instanceof D))throw new TypeError("Cannot call a class as a function")})(this,w);for(var P=arguments.length,T=new Array(P),z=0;z<P;z++)T[z]=arguments[z];return N=m(M=O.call.apply(O,[this].concat(T))),V={instance:null},(R=y(R="state"))in N?Object.defineProperty(N,R,{value:V,enumerable:!0,configurable:!0,writable:!0}):N[R]=V,M}return S=w,(E=[{key:"componentDidMount",value:function(){var M=this,N=new c.default(this.typewriter,this.props.options);this.setState({instance:N},function(){var R=M.props.onInit;R&&R(N)})}},{key:"componentDidUpdate",value:function(M){d()(this.props.options,M.options)||this.setState({instance:new c.default(this.typewriter,this.props.options)})}},{key:"componentWillUnmount",value:function(){this.state.instance&&this.state.instance.stop()}},{key:"render",value:function(){var M=this,N=this.props.component;return l().createElement(N,{ref:function(R){return M.typewriter=R},className:"Typewriter","data-testid":"typewriter-wrapper"})}}])&&p(S.prototype,E),Object.defineProperty(S,"prototype",{writable:!1}),w}(a.Component);v.defaultProps={component:"div"};const _=v})(),o.default})())})(sD);var pAe=sD.exports;const oD=Ar(pAe);function gAe({playerNumber:e,player:t,segment:n}){const[r,i]=t.detailedScore;return f.jsxs(mAe,{children:[f.jsx(Sg,{score:n>-1?r.rap+r.freestyle+r.normal:0,maxScore:i.rap+i.freestyle+i.normal,color:ge.colors.players[e].perfect.fill}),f.jsx(Sg,{score:n>0?r.perfect:0,maxScore:i.perfect,color:ge.colors.players[e].stroke}),f.jsx(Sg,{score:n>1?r.star:0,maxScore:i.star,color:ge.colors.players[e].starPerfect.stroke}),f.jsx(Sg,{score:n>2?r.vibrato:0,maxScore:i.vibrato,color:ge.colors.players[e].perfect.stroke}),f.jsx(yAe,{children:n<5&&f.jsx(oD,{options:{strings:["Regular notes","Perfect notes","Star notes","Vibrato"],pauseFor:1e3,autoStart:!0,delay:15,deleteSpeed:15,cursor:""}})})]})}const mAe=j("div",{target:"ejw0p7o1"})({name:"rtb9pf",styles:"position:relative;height:5rem;width:100%;display:flex;flex-direction:row;border-radius:1rem;gap:0.5rem;box-sizing:border-box;background:rgba(0, 0, 0, 0.5);padding:0.5rem"}),yAe=j("span",{target:"ejw0p7o0"})("position:absolute;",Ke,";font-size:3rem;text-align:right;white-space:nowrap;top:6rem;left:1rem;display:block;");function vAe({playerNumber:e,player:t,highestScore:n,highScores:r,singSetup:i,useColors:s=!0,revealHighScore:o,segment:a}){const[l]=t.detailedScore;let c=0;a>-1&&(c=l.normal+l.rap+l.freestyle),a>0&&(c=c+l.perfect),a>1&&(c=c+l.star),a>2&&(c=c+l.vibrato);const u=d=>r.some(h=>h.singSetupId===i.id&&h.name===d);return f.jsxs(AAe,{children:[f.jsx(SAe,{children:f.jsxs(_Ae,{"data-win":o&&c===n,"data-test":`player-${e}-score`,"data-score":Math.floor(c),children:[f.jsx(bAe,{color:s?ge.colors.players[e].text:"","data-test":`player-${e}-name`,className:"ph-no-capture",children:t.name}),f.jsx(jE,{preserveValue:!0,end:c,formattingFn:FB.format,duration:a<5?1:.5})]})}),f.jsx(gAe,{playerNumber:e,player:t,segment:a}),f.jsx(xAe,{"data-highscore":o&&u(t.name),children:"High score!"})]})}const AAe=j("div",{target:"e1vy0af44"})({name:"1kta8sk",styles:"background:rgba(0, 0, 0, 0.5);display:flex;flex-direction:column;align-items:center;border-radius:1rem;gap:1rem;padding:1rem 2rem;position:relative"}),bAe=j("span",{target:"e1vy0af43"})("color:",e=>e.color,";font-size:4rem;"),_Ae=j(pv,{target:"e1vy0af42"})("background:transparent;font-size:5.5rem;color:white;transition:400ms ease-in-out;position:relative;display:flex;align-items:center;justify-content:space-between;flex:1;margin:0;padding:0;&[data-win='true']{font-size:8.5rem;color:",ge.colors.text.active,";}"),SAe=j("div",{target:"e1vy0af41"})({name:"8pc2uz",styles:"display:flex;flex:1;width:100%;height:8.5rem"}),xAe=j(IE,{target:"e1vy0af40"})("font-size:3rem;opacity:0;&[data-highscore='true']{top:-2.5rem;right:-9rem;",ov,";opacity:1;}transition:400ms;");function wAe({onNextStep:e,players:t,highScores:n,singSetup:r}){const[i,s]=A.useState(-1);A.useEffect(()=>{if(i<0)s(0);else if(i<4){const p=setInterval(()=>{s(g=>g+1)},1500);return()=>{clearInterval(p)}}},[i]);const o=i>3,a=()=>{o?e():s(5)};gc({accept:a},!0,[i]);const l=A.useMemo(()=>({accept:"Next"}),[]);yd(l,!0);const c=r.mode===Fr.CO_OP,u=c?[{...t[0],name:t.map(p=>p.name).join(", ")}]:t,d=u.map(p=>Ax(p.detailedScore[0])),h=Math.max(...d);return f.jsxs(EAe,{children:[f.jsx(CAe,{children:u.map((p,g)=>f.jsx(vAe,{playerNumber:p.playerNumber,useColors:!c,revealHighScore:i>3,segment:i,player:p,highScores:n,highestScore:h,singSetup:r},g))}),f.jsx(kAe,{onClick:a,focused:!0,"data-test":o?"highscores-button":"skip-animation-button",children:o?"Next":"Skip"}),Is.getPermissionStatus()&&f.jsx(TAe,{})]})}const EAe=j("div",{target:"e1qmbv7g3"})({name:"1vzp6wx",styles:"position:absolute;padding:20rem 15rem 10rem 15rem;top:0;height:100%;box-sizing:border-box;width:100%;display:flex;flex-direction:column"}),CAe=j("div",{target:"e1qmbv7g2"})({name:"1lbl88b",styles:"text-align:center;display:flex;flex-direction:column;justify-content:center;gap:5rem;margin-bottom:15rem;flex:1"}),kAe=j(Hs,{target:"e1qmbv7g1"})({name:"195iwp6",styles:"width:40rem;font-size:1.9vw;margin-left:auto"}),TAe=j(lAe,{target:"e1qmbv7g0"})({name:"1c3jvq",styles:"position:absolute;top:calc(50% - 30rem);left:95rem;transform:scale(0.75)"});function IAe(){return A.useMemo(()=>JSON.parse(Le.session.getItem(Nu))??[],[])}function PAe({score:e,register:t,singSetupId:n,onSave:r,index:i}){const s=A.useRef(null),[o,a]=A.useState(""),l=IAe(),c=()=>{o.trim().length&&o.trim()!==e.name&&r(n,e.score,e.name,o)};return f.jsx(UE,{className:"ph-no-capture",options:l,onChange:a,onBlur:c,value:o,label:"",ref:s,...t(`highscore-rename-${i}`,()=>{var u;return(u=s.current)==null?void 0:u.focus()}),placeholder:e.name,"data-test":"input-edit-highscore","data-original-name":e.name})}function RAe({onNextStep:e,highScores:t,singSetup:n,song:r}){const{register:i}=Yn(),s=gme(r);return f.jsxs(f.Fragment,{children:[f.jsx(MAe,{"data-test":"highscores-container",children:t.map((o,a)=>f.jsxs(jAe,{isCurrentSing:o.singSetupId===n.id,children:[f.jsx(OAe,{children:a+1}),f.jsx(VAe,{className:"ph-no-capture",children:o.singSetupId===n.id?f.jsx(PAe,{index:a,score:o,register:i,singSetupId:n.id,onSave:s}):o.name}),f.jsx(LAe,{children:f.jsx(SS,{score:o.score})}),f.jsx(NAe,{children:Rs(o.date).format("MMMM DD, YYYY")})]},a))}),f.jsx(BAe,{...i("play-next-song-button",e,void 0,!0),children:"Select song"})]})}const MAe=j("div",{target:"e1kq1u2t6"})({name:"9gtmjg",styles:"position:absolute;top:20rem;width:100%;text-align:center;padding:0 16rem;box-sizing:border-box"}),jAe=j("div",{target:"e1kq1u2t5"})("position:relative;",Ke,";font-size:3.2rem;display:flex;background:",e=>e.isCurrentSing?"rgba(0,0,0,.9)":"rgba(0,0,0,.5)",";margin-bottom:2rem;padding:",e=>e.isCurrentSing?"0 1.5rem":"1rem 3.2rem",";align-items:center;"),OAe=j("div",{target:"e1kq1u2t4"})("padding:0 1.6rem;color:",ge.colors.text.active,";"),VAe=j("div",{target:"e1kq1u2t3"})({name:"1mbe2e5",styles:"text-align:left;flex:1;padding:1.6rem"}),LAe=j("div",{target:"e1kq1u2t2"})({name:"2ycp6t",styles:"padding:0 1rem"}),NAe=j("div",{target:"e1kq1u2t1"})({name:"1gbnj87",styles:"position:absolute;font-size:2rem;bottom:-1rem;right:-1.6rem;background:black;padding:0.5rem"}),BAe=j(Hs,{target:"e1kq1u2t0"})({name:"dmbiod",styles:"position:absolute;bottom:4rem;right:2rem;width:40rem;font-size:1.9vw"});function DAe({song:e,width:t,height:n,onClickSongSelection:r,players:i,highScores:s,singSetup:o}){const[a]=Qe(W0);el(!0);const[l,c]=A.useState("results");return f.jsxs(fB,{songData:e,width:t,height:n,children:[f.jsxs($Ae,{children:[l==="results"&&f.jsx(wAe,{onNextStep:()=>c("highscores"),players:i,singSetup:o,highScores:s}),l==="highscores"&&f.jsx(RAe,{onNextStep:r,singSetup:o,highScores:s,song:e}),f.jsx(FAe,{"data-active":"true"})]}),a==="christmas"&&f.jsxs(zAe,{children:["Credit to ",f.jsx("a",{href:"https://www.FesliyanStudios.com",children:"https://www.FesliyanStudios.com"})," for the background music."]})]})}const $Ae=j("div",{target:"e1fxxvcx2"})({name:"1quw0ni",styles:"pointer-events:auto"}),FAe=j(aAe,{target:"e1fxxvcx1"})({name:"1l1st43",styles:"transition:300ms;position:absolute;bottom:20rem;font-size:3.2rem;line-height:1.25;color:white;text-align:center;background:rgba(0, 0, 0, 0.75);width:100%;box-sizing:border-box;transform:scale(0);&[data-active='true']{transform:scale(1);}padding:2rem 10rem;kbd{padding:0.12rem 0.9rem;border-radius:1rem;border:0.5rem solid rgb(204, 204, 204);border-bottom-color:rgb(150, 150, 150);border-right-color:rgb(150, 150, 150);color:rgb(51, 51, 51);line-height:1.4;display:inline-block;box-shadow:0 0.1rem 0 rgba(0, 0, 0, 0.2),inset 0 0 0 0.2rem #ffffff;background-color:rgb(247, 247, 247);text-shadow:0 0.1rem 0 #fff;font-weight:normal;}"}),zAe=j("span",{target:"e1fxxvcx0"})("position:fixed;bottom:2rem;left:2rem;font-size:1.5rem;",Ke,";");function UAe(e){const[t,n,r,i]=HAe(e);return GAe(t,n,r,i)()}function HAe(e){let t=1779033703,n=3144134277,r=1013904242,i=2773480762;for(let s=0,o;s<e.length;s++)o=e.charCodeAt(s),t=n^Math.imul(t^o,597399067),n=r^Math.imul(n^o,2869860233),r=i^Math.imul(r^o,951274213),i=t^Math.imul(i^o,2716044179);return t=Math.imul(r^t>>>18,597399067),n=Math.imul(i^n>>>22,2869860233),r=Math.imul(t^r>>>17,951274213),i=Math.imul(n^i>>>19,2716044179),t^=n^r^i,n^=t,r^=t,i^=t,[t>>>0,n>>>0,r>>>0,i>>>0]}function GAe(e,t,n,r){return function(){e|=0,t|=0,n|=0,r|=0;var i=(e+t|0)+r|0;return r=r+1|0,e=t^t>>>9,t=n+(n<<3)|0,n=n<<21|n>>>11,n=n+i|0,(i>>>0)/4294967296}}const qAe=["Lysa Arryn","Peter Parker","Zordon","Chad Khalimov","Dat Boi","Good Guy Greg","Scumbag Steve","Meme Man","Pepe","Wojak","Ebmarah","Shrek","Vad of ICE Beat","Krasnolud","May Aragorn","Morning Breeze","Auytjak Lorav","Smelly Cat","Stinky Foot"],oM=new Date("2016-01-01").getTime(),WAe=new Date("2024-01-07").getTime(),g1=5;function KAe(e,t){const n=FE(e);return A.useMemo(()=>{const i=[...qAe];return[...Array.from({length:g1},(o,a)=>{const l=UAe(e.id+a),c=6e5+14e5/(g1-1)*a,u=i.splice(Math.floor(l*i.length),1)[0];return{singSetupId:a.toString(),name:u,score:Ii()?c/1e3:c,date:new Date((WAe-oM)*l+oM).toISOString()}}),...(n==null?void 0:n.scores.filter(({setup:o})=>o.mode===t.mode&&o.tolerance===t.tolerance).map(o=>o.scores.map(a=>({...a,date:o.date,singSetupId:o.setup.id}))).flat())??[]].sort((o,a)=>a.score-o.score).slice(0,g1)},[e.id,n,t])??[]}function YAe({song:e,width:t,height:n,onClickSongSelection:r,singSetup:i}){const s=KAe(e,i),o=A.useMemo(()=>Oe.getPlayers().map(a=>({name:a.getName(),playerNumber:a.number,detailedScore:$e.getPlayerDetailedScore(a.number)})),[]);return f.jsx(Ja,{children:f.jsx(DAe,{singSetup:i,song:e,width:t,height:n,onClickSongSelection:r,players:o,highScores:s})})}function QAe({songPreview:e,singSetup:t,returnToSongSelection:n,restartSong:r}){_B(),SB();const i=A.useRef(null),s=tB(e.id),{width:o,height:a}=sp(),[l,c]=A.useState(!1),[u,d]=A.useState(!0),[h,p]=A.useState(In.UNSTARTED),[g,m]=A.useState(!1);return qa(!g),A.useEffect(()=>{u&&s.data&&(g||h!==In.UNSTARTED)&&d(!1)},[s.data,g,h,u]),l&&s.data?f.jsx(YAe,{width:o,height:a,song:s.data,onClickSongSelection:n,singSetup:t}):f.jsx(Ja,{children:f.jsxs(JAe,{children:[f.jsxs(XAe,{visible:u,"data-test":"background-container",children:[f.jsx(e1e,{video:e.video,width:o,height:a}),f.jsx(t1e,{"data-test":"song-artist",children:e.artist}),f.jsx(n1e,{"data-test":"song-title",children:e.title}),f.jsx(J0e,{onFinish:()=>{var b;m(!0),(b=i.current)==null||b.play()}})]}),s.data&&f.jsx(oAe,{pauseMenu:!0,ref:i,onStatusChange:p,players:t.players,song:s.data,width:o,height:a,autoplay:!1,onSongEnd:()=>{var v;const b=((v=$e.getSingSetup())==null?void 0:v.mode)===Fr.CO_OP?[{name:Oe.getPlayers().map(_=>_.getName()).join(", "),score:$e.getPlayerScore(0)}]:Oe.getPlayers().map(_=>({name:_.getName(),score:$e.getPlayerScore(_.number)})),y=$e.getSongCompletionProgress();te.songEnded.dispatch(s.data,t,b,y),c(!0)},singSetup:t,restartSong:r})]})})}const JAe=j("div",{target:"e9bbafl4"})({name:"bjn8wh",styles:"position:relative"}),XAe=j("div",{target:"e9bbafl3"})("position:fixed;top:0;left:0;z-index:10;pointer-events:none;background-color:black;view-transition-name:song-preview;opacity:",e=>e.visible?1:0,";transition:500ms;"),ZAe=j("div",{target:"e9bbafl2"})({name:"oux8x1",styles:"background-size:cover;background-position:center center;filter:blur(10px)"}),e1e=e=>f.jsx(ZAe,{style:{backgroundImage:`url('https://i3.ytimg.com/vi/${e.video}/hqdefault.jpg')`,width:`${e.width}px`,height:`${e.height}px`}}),t1e=j(zE,{target:"e9bbafl1"})({name:"oyknw4",styles:"view-transition-name:song-preview-artist;position:absolute;top:10rem;left:10rem;font-size:7rem"}),n1e=j(mv,{target:"e9bbafl0"})({name:"1l9juvo",styles:"view-transition-name:song-preview-title;position:absolute;font-size:8rem;top:19rem;left:10rem"});function r1e(){const e=jy("song"),[t,n]=A.useState(null),[r,i]=A.useState(e??null),[s,o]=A.useState(0),a=l=>{document.getElementById("preview-video-container").style.viewTransitionName="song-preview-video",wh(()=>{document.getElementById("preview-video-container").style.viewTransitionName="",vc.flushSync(()=>{n(l)})}),Mx.play(!1)};return _B(),f.jsxs(f.Fragment,{children:[f.jsx(ji,{children:f.jsx("title",{children:"Game | AllKaraoke.Party - Free Online Karaoke Party Game"})}),f.jsx(VE,{children:t?f.jsx(QAe,{restartSong:()=>{Is.restartRecord(),o(l=>l+1)},songPreview:t.song,singSetup:t,returnToSongSelection:()=>{i(t.song.id),n(null)}},s):f.jsx(Y0e,{onSongSelected:a,preselectedSong:r})})]})}const i1e="/assets/screenshot1-DaCeVKxL.webp",s1e="/assets/screenshot2-uopWyjAi.webp",o1e=["2NE1","3 Doors Down","30 Seconds To Mars","3OH!3","3OH!3 feat. Katy Perry","3OH!3 feat. Ke$ha","4 Non Blondes","5 Seconds of Summer","A Day to Remember","A Great Big World","a-ha","A Perfect Circle","AaRON","ABBA","Abby Trott","AC/DC","Ace of Base","Adam Lambert","Adele","Aerosmith","Against The Current","Air Supply","AJR","Akon","Akon feat. Eminem","Alan Jackson","Alan Walker","Alan Walker & Ava Max","Alanis Morissette","Alannah Myles","Alec Benjamin","Alessandra","Alessia Cara","Alesso feat. Tove Lo","Alesso & Katy Perry","Alexander Rybak","Alexis Jordan","Alice Cooper","Alice In Chains","Alice in Chains","Alice Merton","Alicia Keys","ALIKA","All Time Low","Alphaville","Alter Bridge","Alvvays","Aly & AJ","Alyona Alyona & Jerry Heil","America","Amy Grant","Amy MacDonald","Amy Winehouse","Anastacia","Andrew Lambrou","Andy Williams","Anitta","Anna Kendrick","Anna Margaret","Apocalyptica ft. Adam Gontier","Aqua","Aram MP3","Arcade Fire","Arctic Monkeys","Ariana Grande","Ariana Grande feat. Future","Ariana Grande feat. Zedd","Ariana Grande & John Legend","Ariana Grande & Justin Bieber","Ariana Grande & The Weeknd","Ashanti","Ashlee Simpson","Ashley Tisdale","Asking Alexandria","ATeens","Audioslave","AURORA","Ava Max","Avantasia","Avenged Sevenfold","Avicii feat. Sandro Cavazza","Avicii","Avril Lavigne","Awolnation","B52s","Baby Lasagna","Babymetal x Electric Callboy","Baccara","Backstreet Boys","Bad Lip Reading","Bad Omens","Bai Sha JAWS","Baldurs Gate 3","Bambie Thug","Banana minnions family","Band Aid","Barbie (Ryan Gosling)","Barei","Bastille","Beastie Boys","Bebe Rexha y David Guetta","Bee Gees","Bella Poarch","Bella Thorne","Bellamy Brothers","Ben Doli","Ben E. King","Benny Blanco, Halsey & Khalid","Benny Cristo","Benson Boone","Bette Midler","Beyonc","Beyonc feat. Jay-Z","Beyonc & Shakira","Big Time Rush","Bikini Kill","Bill Medley & Jennifer Warnes","Billie Eilish","Billie Eilish & Khalid","Billy Boyd","Billy Idol","Billy Joel","Billy Talent","Bing Crosby","Bjrnzone","Black Eyed Peas, Shakira","Black Sabbath","Black Veil Brides","BLACKPINK & Selena Gomez","Blackstreet feat. Dr. Dre","Blanche","Blanka","Blind Guardian","blink-182","Blink 182","Blondie","Blu Cantrell","Blue","Blue yster Cult","Blur","Ba","B.o.B feat. Bruno Mars","B.o.B feat. Hayley Williams","Bob Marley & The Wailers","Bobby Helms","Bon Jovi","Boney M","Boney M.","Bonnie Tyler","Bowling For Soup","Boyz II Men","Bradley Cooper & Lady Gaga","Brandy & Monica","Breaking Benjamin","Brenda Lee","Bridgit Mendler","Bring Me The Horizon","Britney Spears","Britney Spears / Elton John","Britney Spears feat. Madonna","Britney Spears feat. Tinashe","Britney Spears & Iggy Azalea","Brotherhood Of Man","Bruno Mars & Cardi B","Bruno Mars","Bryan Adams","Bryce Pinkham","BTS","BTS feat. Desiigner","BTS featuring  Desiigner","BTS - J-Hope feat. Becky G","Bucks Fizz","Bush","Busted","Calum Scott","Calvin Harris feat. Rihanna","Camila Cabello ft. Ed Sheeran","Camp Rock 2","Capital Cities","Cardi B & Bruno Mars","Carly Rae Jepsen","Carpenters","Carrie Underwood","Cascada","Cat Stevens","Cee Lo Green","Cline Dion","Chappell Roan","Charli XCX","Charlie Puth","Charlie Puth & Selena Gomez","Chenoa","Cher","Cheryl Cole","Chicago","Childish Gambino","Chingiz","Chris Brown","Chris Brown feat. Rihanna","Chris Isaak","Chris Rea","Christina Aguilera","Christina Milian","Christina Perri","Chuck Berry","Chumbawamba","Cliff Richard","Colbie Caillat","Coldplay","Coldplay feat. Beyonc","Coldplay x BTS","Conchita Wurst","Coolio feat. L.V.","Corey Hart","Corinne Bailey Rae","Cornelia Jakobs","Counting Crows","Creed","Creedence Clearwater Revival","Crowded House","Crush 40","Crusher-P feat. GUMI","Culture Club","Cutting Crew","Cyndi Lauper","Cynthia Harrell","Dai Freyr","Dai og Gagnamagni","Daft Punk","Daft Punk Feat. Todd Edwards","Daisuke Ishiwatari","Dami Im","Dana International","Daniel Caesar","Daniel Powter","Danzel","Darius Rucker","Daryl Hall & John Oates","Dashboard Confessional","Daughtry","Dave Rodgers","David Archuleta","David Bowie","David Cook","David Guetta feat. Akon","David Guetta feat. Kid Cudi","David Guetta feat. Rihanna","David Guetta feat. Usher","David Guetta & Sia","David Hasselhoff","Dead Or Alive","deadmau5 feat. Chris James","deadmau5 feat. Gerard Way","Deadmau5 & Kaskade","Dean Lewis","Dean Martin","Dear Evan Hansen","Deep Purple","Def Leppard","Demi Lovato","Demi Lovato feat. Cher Lloyd","Deorro x Chris Brown","Depeche Mode","Destiny","Destinys Child","Diana Ross","Dido","Dimash Kudaibergen","Dio","Dire Straits","Disney's Aladin","Disneys Beauty and the Beast","Disneys Brother Bear","Disneys Descendants 2","Disneys Descendants","Disneys Encanto ","Disneys Encanto","Disneys Frozen","Disneys Frozen II","Disneys Hercules","Disney's Moana","Disneys Mulan","Disney's Pocahontas","Disney's Tangled","Disneys Tarzan","Disneys Teen Beach Movie","Disneys The Jungle Book","Disneys The Lion King","Disturbed","DJ Sammy & Yanou feat. Do","DJ Snake feat. Justin Bieber","DNCE","Doja Cat feat. SZA","Doja Cat","Doki Doki Literature Club!","Dolly Parton","Don McLean","Donna Summer","Doris Day","Dove Cameron","DragonForce","Drake Bell","Drake feat. Rihanna","Drake feat. Wizkid & Kyla","Drake","Dream Theater","Drowning Pool","Dua Lipa","Dua Lipa & BLACKPINK","Duck Sauce","Duncan Laurence","Duran Duran","Dusty Springfield","Echosmith","Ed Sheeran and Elton John","Ed Sheeran and Justin Bieber","Ed Sheeran","Ed Sheeran feat. Khalid","Ed Sheeran & Pokmon","Eddie Murphy","Edward Maya & Vika Jigulina","Electric Callboy","Electric Callboy feat. Sido","Electric Light Orchestra","Elena Siegman","Eleni Foureira","Ellie Goulding","Elton John","Elton John & Dua Lipa","Elton John & RuPaul","Elvis Presley","Eminem feat. Dido","Eminem feat. Juice WRLD","Eminem feat. Rihanna","Eminem","Emmelie de Forest","Empire Of The Sun","Enrique Iglesias","Enya","Eric Clapton","Eric Saade","Estelle feat. Kanye West","Europe","Eurythmics","Eva Rivas","Evanescence","Extreme","Faith Hill","Faith No More","Fall Out Boy","Fall Out Boy ","Falling In Reverse","Fergie","Fetty Wap","Fifth Harmony feat. Kid Ink","Fifth Harmony","FIFTY FIFTY","Finger Eleven","Five For Fighting","Fleetwood Mac","Flo Rida feat. David Guetta","Flo Rida feat. Ke$ha","Flo Rida feat. Sia","Flo Rida feat. T-Pain","Flo Rida","Florence + the Machine","Foo Fighters","Fools Garden","Foreigner","Foster The People","Fountains Of Wayne","Frank Ocean","Frank Sinatra","Frankie Goes To Hollywood","Frankie Valli","Franz Ferdinand","Freddie Mercury","Fredi and Friends","Fugees","Fun. feat. Janelle Mone","Fun.","Gandalf","Gary Barlow & Elton John","Gayle","Genesis","George Ezra","George Michael","George Michael & Elton John","Getter Jaani","Ghost","Gina G","Ginuwine","Girls Generation (SNSD)","Glee Cast","Gloria Gaynor","GloryHammer","Gnarls Barkley","Goo Goo Dolls","Good Charlotte","Gorillaz","Gorillaz feat. Shaun Ryder","Gotye & Kimbra","Grabbitz","Green Day","Grta Salme & Jnsi","Guns N' Roses","Guns N Roses","Gustaph","Gwen Stefani","Gwen Stefani & Eve","Gwen Stefani Feat Akon","Hailee Steinfeld feat. DNCE","Hailee Steinfeld","Hamilton","Hanson","Harpo","Harry Styles","Hazbin Hotel","Heathers","Helena Paparizou","Hellogoodbye","Helloween","Henry Moodie","Hera Bjrk","High School Musical 2","High School Musical","Hilary Duff","Hillsong United","Himesh Patel","Hinder","Hole","Hollywood Undead","Hoobastank","Hootie & The Blowfish","Hooverphonic","Hozier","Huey Lewis & The News","Hunter Hayes","Ice Cube","Idina Menzel","Iggy Pop","Ike & Tina Turner","Imagine Dragons","Imagine Dragons x JID","Inna","Interpol","Into the Woods","INXS","Iron Maiden","ISAAK","Israel Kamakawiwoole","Jack Black","Jack Johnson","Jack White","Jagwar Twin","James Arthur","James Blunt","Jamiroquai","Janet Jackson","Jason Derulo","Jason Derulo feat. 2 Chainz","Jason Derulo feat. Snoop Dogg","Jason Mraz","Jason Paige","Jay Sean feat. Lil Wayne","Jay Sean","Jay-Z feat. Alicia Keys","Jaymes Young","Jedward","Jennette McCurdy","Jennifer Lopez","Jennifer Lopez & Pitbull","Jesse McCartney","Jessica Simpson","Jessie J","Jet","Jethro Tull","Jewel","Jim Croce","Jimi Jamison","Jimmy Eat World","Joan Jett","Joan Jett & The Blackhearts","Joe Cocker","John Cougar Mellencamp","John Denver","John Legend","John Lennon","John Mayer","John Rzeznik ","John Travolta (Grease)","John Waite","Johnny Cash","Johnny Logan","Johnny Rivers","Joji","JoJo","Jojo","Jon Bellion","Jonas Brothers","Jonathan Coulton","Josh Groban","Journey","Joy Division","Julie and the Phantoms","Justin Bieber","Justin Bieber & Benny Blanco","Justin Bieber feat. Big Sean","Justin Bieber feat. Usher","Justin Bieber & Ludacris","Justin Bieber & Nicki Minaj","Justin Timberlake","Kaiser Chiefs","Kaleen","Kaleo","Kane Brown","Kansas","Kanye West","Kanye West feat. Dwele","Kanye West feat. Pusha T","Kanye West feat. Young Jeezy","Kardinal Offishall feat. Akon","Kasabian","Kate Bush","Katrina And The Waves","KATSEYE","Katy Perry","Katy Perry feat. Kanye West","Katy Perry feat. Migos","Katy Perry feat. Nicki Minaj","Katy Perry feat. Snoop Dogg","Kay Starr","Keane","Keep Shelly in Athens","Keep Shelly In Athens","Ke$ha feat. 3OH!3","Ke$ha","KEiiNO","Kellie Pickler","Kelly Clarkson","Kendrick Lamar feat. Drake","Kendrick Lamar","Kendrick Lamar & SZA","Kenny Rogers & Dolly Parton","Kenya Grace","Khalid x Normani","Kid Cudi","Kid Cudi feat. MGMT & Ratatat","Kid Rock","Kid Rock feat. Sheryl Crow","Kim Petras","Kim Petras & Nicki Minaj","Kim Wilde","Kings Of Leon","Kings of Leon","KISS","Kodaline","KoRn","KT Tunstall","Kygo feat. Maty Noyes","Kygo & Selena Gomez","Kygo x Whitney Houston","Kyle Justin","Kylie Minogue","La Bouche","La Roux","Lady Antebellum","Lady Gaga","Lady Gaga & Ariana Grande","Lady Gaga & BLACKPINK","Lady Gaga, Bradley Cooper","Lady Gaga & Bruno Mars","Lady Gaga feat. Beyonc","Lady Gaga feat. Colby O'Donis","Lana Del Rey","Lana Del Rey feat. The Weeknd","Lauv feat. BTS","LazyTown","LE SSERAFIM","Lea Salonga and Brad Kane","League of Legends","LeAnn Rimes","Led Zeppelin","Lena","Lenny Kravitz","Leona Lewis","Les Fatals Picards","Les Misrables","Lewis Capaldi","Lifehouse","Lil Dicky","Lil Nas X feat. Miley Cyrus","Lil Nas X","Lil Wayne feat. Bruno Mars","Lil Wayne feat. Eminem","Lily Allen","Linkin Park","Lionel Richie","Lipps, Inc.","Little Big","Little Mix feat. Stormzy","Little Mix","Lizzo","LMFAO","Loc Nottet","Lord Of The Lost","Lorde","Lordi","Loreen","Loverboy","LP","LSD","Lucy Hale","Lulu","Lykke Li","Lyn","Lynyrd Skynyrd","M83 feat. Susanne Sundfr","Madcon feat. Ray Dalton","Madcon","Madness","Madonna","Mae Muller","Magic!","Malik Harris","Mamma Mia! (Movie)","Man With A Mission","Manchester Orchestra","Mandaryna","Mandy Moore","Mneskin","Manfred Mann","Manowar","Mns Zelmerlw","Manuel","Marc Cohn","Marc DeMarco","Marcus & Martinus","Margaret Berger","Maria Yaremchuk","Mariah Carey","Mariah Carey & Boyz II Men","Mariah Carey feat. Jay-Z","Marillion","Marilyn Manson","Marina and the Diamonds","Marina & The Diamonds","Mark Ronson feat. Bruno Mars","Mark Ronson ft  Miley Cyrus","Maroon 5 feat. Cardi B","Maroon 5 feat. Wiz Khalifa","Maroon 5","Marshmello & Anne-Marie","Marshmello & Bastille","Marshmello & Kane Brown","Marshmello x Jonas Brothers","Martin Garrix & Bebe Rexha","Martin Garrix feat. Bonn","Martin Solveig & Dragonette","Martin Solveig & GTA","Martina McBride","Marvin Gaye & Tammi Terrell","Mary J. Blige","Matchbox Twenty","Matt Redman","Max Coveri","Meat Loaf","Meatloaf","Meghan Trainor","Melanie Martinez","Melanie Thornton","Melissa Etheridge","MELOVIN","Men at Work","Metallica","Metric","Metro Station","M.I.A.","Michael Bubl","Michael Jackson","Michael Schulte","Michelle Branch","Midnight Oil","Mika feat. Ariana Grande","Mika","Mike Posner","Miley Cyrus","Miley Cyrus & Jessie J","Mili","Milo Manheim & Meg Donnelly","Miracle Of Sound","Miranda Lambert","Mitski","Modern Talking","Modest Mouse","Montaigne","Morandi","Morgan Wallen","Mother Mother","Mtley Cre","Moulin Rouge","Mr. Big","Mumford and Sons","Mumford & Sons","Muse","My Chemical Romance","My Little Pony","Myles Smith","N Sync","Natalia Kills","Natalie Imbruglia","Natasha Bedingfield","Natasha Farrow","Nathan Evans","Naughty Boy feat. Sam Smith","Nazareth","NCT 127","NCT DREAM","Ne-Yo","Neil Young","Nelly feat. Kelly Rowland","Nelly Furtado","Nelly Furtado feat. Timbaland","Nemo","Nena","Neon Genesis Evangelion","Netflix","Netta","New Kids On The Block","New Order","NewJeans; League of Legends","NF","Niall Horan","Nick Cave & The Bad Seeds","Nick Jonas","Nickelback","Nicki Minaj feat. Rihanna","Nicki Minaj","Nicki Taylor","Nico Bruno","Nico & Vinz","Nightwish","NIKI","Nilsson","Nirvana","No Doubt","No Secrets","Noah Kahan","Nothing But Thieves","O.A.R.","Oasis","Ochman","OK Go","Olivia Newton-John","Olivia Rodrigo","Olly Murs","Olly Murs feat. Flo-Rida","Olsen Brothers","One Direction","OneRepublic","OutKast","Owl City & Carly Rae Jepsen","Owl City","Ozzy Osbourne","Panic! at the Disco","Papa Roach","Paramore","Paris Hilton","Passenger","Pat Benatar","Patrice Rushen","Paul Simon","Paula Abdul","Pearl Jam","Peter Cetera","Peter Gabriel","Peter Gabriel & Kate Bush","Petula Clark","Phantom Planet","Pharrell Williams","Phil Collins","Phoebe Bridgers","Pink Floyd","PinkPantheress & Ice Spice","Pitbull feat. Chris Brown","Pitbull feat. Marc Anthony","Pitbull feat. T-Pain","Pixies","Placebo","Placebo feat. David Bowie","Plain White Ts","P!nk feat. Lily Allen","P!nk feat. Nate Ruess","P!nk","Poets Of The Fall","Poets of the Fall","Pointer Sisters","Portal","Post Malone","Post Malone feat. 21 Savage","Post Malone & Swae Lee","Powerwolf","Pretenders","Prince and the Revolution","Psy feat. Suga of BTS","Psychostick","Queen","Queen & David Bowie","Queens Of The Stone Age","R. City feat. Adam Levine","R. Kelly","Radical Face","Radiohead","RAFA","Rage Against the Machine","Rage Against The Machine","RagnBone Man","Rag'n'Bone Man","Rainbow","Ramones","Rascal Flatts","Rasmussen","Ray Parker Jr.","Real Life","Red","Red Hot Chili Peppers","Rednex","R.E.M.","Remo Forrer","Ren","REO Speedwagon","Rhapsody","Richard Marx & Donna Lewis","Richard Marx","Rick Astley","Ricky Martin","Rihanna","Rihanna feat. Calvin Harris","Rihanna feat. Drake","Rihanna feat. Eminem","Rihanna feat. Jay-Z","Rihanna feat. Jeezy","Rihanna feat. Mikky Ekko","Rihanna & Ne-Yo","Rise Against","Rob Thomas","Rob Zombie","Robbie Williams","Rockwell","Rod Stewart","Roman Lob","Rosa Linn","ROS & Bruno Mars","Roxette","Roy Orbison","Rufus Wainwright","Run DMC","RuPaul","Rupert Holmes","Ruslana","Rusted Root","S Club 7","Sabaton","Sabrina Carpenter","Sam Fender","Sam Ryder","Sam Smith","Sam The Sham And The Pharaohs","Sandie Shaw","Santana feat. Rob Thomas","Sara Bareilles","Sara Evans","Sarah McLachlan","Savage Garden","Scars On Broadway","Scissor Sisters","Scorpions","Scott McKenzie","Sean Kingston","Sean Kingston / Justin Bieber","SEBalter","Secondhand Serenade","Selena Gomez","Selena Gomez feat. Gucci Mane","Selena Gomez & The Scene","Selena Gomez x Marshmello","Serj Tankian","Set It Off","Shaggy feat. RikRok","Shakin Stevens","Shakira","Shakira feat. Carlinhos Brown","Shakira feat. Dizzee Rascal","Shakira feat. Rihanna","Shakira feat. Wyclef Jean","Shakira ft. Freshlyground","Shania Twain","Shawn Mendes & Camila Cabello","Shawn Mendes, Camila Cabello","Shawn Mendes","Sheryl Crow","Shinedown","Shrek 2","Sia","Sia feat. Kendrick Lamar","SIAMS","Silia Kapsis","SiM","Simon & Garfunkel","Simple Minds","Simple Plan","Simply Red","Sinad OConnor","SING (Taron Egerton)","Sixpence None The Richer","Skid Row","Skillet","Skunk Anansie","Slade","SLANDER feat. Dylan Matthews","Slayyyter","Slipknot","Smash Into Pieces","Smash Mouth","SMiLE.dk","Smokie","Snow Patrol","Sophie Ellis-Bextor","Soul Asylum","Soundgarden","Spandau Ballet","Spice Girls","Srbuk","Starship","Status Quo","Steindi","Stella Mwangi","Stephen Sanchez","Stereophonics","Steve Aoki feat. BTS","Steve Lacy","Steven Curtis Chapman","Stevie Wonder","Sting","Stone Temple Pilots","Sublime","Subwoolfer","Sudden Lights","Sugababes","Sum 41","Sunrise Ave","Supergrass","Supertramp","Survivor","Sylver","Symphony X","System of a Down","System Of A Down","SZA","Taio Cruz","Taio Cruz feat. Flo Rida","Take That","Taking Back Sunday","Tal Bachman","Talking Heads","Tally Hall","Tate McRae","t.A.T.u.","Taylor Swift","Taylor Swift feat. Bon Iver","Teach-In","Tears For Fears","Technotronic feat. Felly","Teddy Swims","Tenacious D","Terence Trent DArby","Terri Clark","Texas","Teya & Salena","The 1975","The Animals","The Baseballs","The Beach Boys","The Beatles","The Beautiful South","The Black Eyed Peas","The Black Keys","The Bloodhound Gang","The Blues Brothers","The Boomtown Rats","The BossHoss","The Calling","The Cardigans","The Chainsmokers & Coldplay","The Chainsmokers feat. Daya","The Chainsmokers feat. Halsey","The Champs","The Charlie Daniels Band","The Cinematic Orchestra","The Clash","The Common Linnets","The Corrs","The Cranberries","The Cure","The Darkness","The Doors","The Eagles","The Fray","The Greatest Showman","The Ink Spots","The Jackson 5","The Jacksons","The Jam","The Kelly Family","The Kid Laroi & Justin Bieber","The Kid Laroi & Miley Cyrus","The Killers","The Kooks","The Little Mermaid","The Living Tombstone","The Lonely Island feat. Akon","The Makemakes","The Mamas & The Papas","The Neighbourhood","The Offspring","The Phantom of the Opera","The Police","The Postal Service","The Proclaimers","The Psychedelic Furs","The Pussycat Dolls","The Rasmus","The Rembrandts","The Rocky Horror Picture Show","The Rolling Stones","The Ronettes","The Script","The Script feat. will.i.am","The Smashing Pumpkins","The Smiths","The Specials","The Stone Roses","The Strokes","The Sweet","The Temptations","The Tony Rich Project","The Verve","The Village People","The Vines","The Weeknd","The Weeknd feat. Daft Punk","The White Stripes","The Who","The Witcher (Joey Batey)","The Zutons","TheFatRat feat. Laura Brehm","TheFatRat","Third Eye Blind","Thirty Seconds to Mars","Three Days Grace","Thundercats","Tiffany","Timbaland feat. Keri Hilson","Tina Turner","Tix","TLC","Tokio Hotel","Tom Dice","Tom Jones and Mousse T.","Tom Jones","Tom Odell","Tones And I","Toni Braxton","Tool","Toto","Tove Lo","Tracy Chapman","Train","Travie McCoy feat. Bruno Mars","Troye Sivan","Twenty One Pilots","twenty ne pilts","TWICE","Tyler, The Creator","U2","Ultravox","USA for Africa","Usher & Alicia Keys","Usher feat. Pitbull","Usher feat. will.i.am","Usher & Pitbull","Usher","Utada Hikaru","Vampire Weekend","Van Halen","Vance Joy","Vanessa Carlton","Vanessa Hudgens","Vanessa Williams","Vanilla Ice","Vengaboys","Verka Serduchka","Victoria Justice","Vitamin C","Volbeat","Volbeat feat. Sarah Blackwood","Voyager","Warren Zevon","We Are Domi","Ween","Weezer","Weird Al Yankovic","Westlife","Wham!","Wham","Wheatus","Whitesnake","Whitney Houston","Wicked","Wilbur Soot","Will Ferrell & Rachel McAdams","Will Smith","will.i.am & Britney Spears","will.i.am feat. Eva Simons","will.i.am feat. Justin Bieber","will.i.am ","Wilson Phillips","Windows95man","Wiz Khalifa","Wiz Khalifa ft. Charlie Puth","Xavier Rudd","Yazoo","Ylvis","Yohanna","Young The Giant","Zara Larsson","Zara Larsson & MNEK","ZAYN feat. Sia","ZAYN","ZAYN & Taylor Swift","Zedd & Alessia Cara","Zedd feat. Selena Gomez","Zedd & Foxes","Zendaya & Bella Thorne","Zoe Wees","ZZ Top"],a1e=["Polish","Korean","English","Japanese","Spanish","Englisch","Estonian","German","Swedish","Indonesian","Chinese","French","Ukrainian","Portuguese","Dutch","Italian","Catalan","Finnish","Czech","Norwegian","Croatian","Latin","Icelandic","Serbian","Slovenian","ENGL","Armenian","Romanian","Lithuanian","Latvian"],l1e=3743,hf={artists:o1e,languages:a1e,songs:l1e},c1e=new Intl.NumberFormat(void 0,{maximumFractionDigits:0});function u1e(){const[e]=Qe(KS),t=Nme(WS.SkipInitialSetup),n=fi();qa(!0);const r=t==="test"&&!Ii()?"menu/":e===null?"quick-setup/":"menu/";Dr("enter",()=>{n(r)},[r]);const[i,s]=A.useState(!1);return A.useEffect(()=>{const o=setTimeout(()=>{s(!0)},4e3);return()=>clearTimeout(o)},[]),f.jsxs(f.Fragment,{children:[f.jsx(ji,{children:f.jsx("title",{children:"AllKaraoke.Party - Free Online Karaoke Party Game"})}),f.jsx(VN,{}),f.jsxs("div",{className:"flex flex-col w-[110rem] items-stretch justify-center h-screen gap-12 mx-auto landscap:flex-row landscap:w-full mobile:w-full shadow-active [&_strong]:[text-shadow:_0_0_5rem_var(--tw-shadow-color)] [&_a]:[text-shadow:_0_0_5rem_var(--tw-shadow-color)]",children:[f.jsxs("div",{className:"flex justify-center gap-24 mobile:hidden",children:[f.jsx(KN,{}),f.jsx(PE,{})]}),f.jsx(zr,{to:r,children:f.jsx(m1,{"data-test":"enter-the-game",className:"mobile:hidden",children:"Enter the game"})}),f.jsxs("div",{className:"flex gap-24 p-24 items-center box-border bg-black/75 landscap:flex-1 [&_hr]:my-12 mobile:flex-col",children:[f.jsxs(aM,{children:[f.jsxs("div",{className:"leading-normal text-justify",children:[f.jsx("strong",{children:"AllKaraoke"})," is a free online karaoke game inspired by PlayStation's"," ",f.jsx("strong",{children:"SingStar"}),". Sing along to your favorite songs and compete with your friends, all through the browser! Updated almost weekly with new songs and features."]}),f.jsx("hr",{}),f.jsxs(Wd,{children:[" ",f.jsx("strong",{children:c1e.format(hf.songs)})," songs in"," ",f.jsx("strong",{children:hf.languages.length})," languages",f.jsxs(Kd,{children:["Artists such as"," ",f.jsx("strong",{children:i?f.jsx(oD,{options:{strings:hf.artists,autoStart:!0,loop:!0,delay:100}}):hf.artists.at(-1)})]})]}),f.jsxs(Wd,{children:[" Play ",f.jsx("strong",{children:"directly"})," in the browser",f.jsxs(Kd,{children:["No ",f.jsx("strong",{children:"download"})," needed"]})]}),f.jsxs(Wd,{children:[" Use ",f.jsx("strong",{children:"phones"})," as microphones",f.jsx(Kd,{children:"No need to download an app"})]}),f.jsxs(Wd,{children:[" Supports ",f.jsx("strong",{children:"1-4"})," players",f.jsx(Kd,{children:"When using phones as microphones"})]}),f.jsxs(Wd,{children:[" ",f.jsx("strong",{children:"100% Free"})," and open source",f.jsxs(Kd,{children:["Check the"," ",f.jsx("a",{href:"https://github.com/Asvarox/allkaraoke",target:"_blank",rel:"noreferrer",children:"GitHub repository"})]})]})]}),f.jsxs(aM,{className:"gap-16 mobile:flex-row landscap:hidden",children:[f.jsx(lM,{src:i1e,alt:"Song list screen",className:"[box-shadow:_0_0_5rem_rgba(114,155,255,0.5)]"}),f.jsx(lM,{src:s1e,alt:"In-game screen",className:"[box-shadow:_0_0_10rem_rgb(19,19,19)]"})]})]}),f.jsxs(Ql,{className:"mobile:hidden text-md text-right !mt-[-2.5rem]",children:["Using this device as remote microphone?"," ",f.jsx(zr,{to:"remote-mic/",children:f.jsx("a",{"data-test":"join-existing-game",children:"Join existing game"})})]}),f.jsxs("div",{className:"flex flex-col gap-12 landscap:flex-1 [&&_a]:min-h-[30rem] justify-center",children:[f.jsx(zr,{to:"remote-mic/",children:f.jsx(m1,{"data-test":"join-existing-game",className:"hidden mobile:flex",children:f.jsxs("span",{children:["Join game (with ",f.jsx("strong",{children:"Game Code"}),")"]})})}),f.jsx(zr,{to:"quick-setup/",children:f.jsx(m1,{"data-test":"enter-the-game",className:"hidden mobile:flex",children:"Start new game"})})]})]})]})}const Wd=an.div``,Kd=an.div`pt-2 text-right text-[0.7em] [&_.Typewriter]:inline`,aM=an(Ql)`flex flex-col flex-1 gap-4 typography text-[2.3rem] mobile:text-[8.5rem] landscap:text-[4.9rem]`,lM=an.img`w-full aspect-video object-cover shadow-5 border-1 border-black/50 rounded-2xl mobile:w-[calc(50%-2rem)] mobile:h-[50rem]`,m1=an(JL)`text-[9rem] bg-black w-full px-28 py-4 animate-focused`;function d1e(){const e=fi(),t=()=>e("menu/"),{register:n}=Yn({onBackspace:t});return f.jsxs(Za,{children:[f.jsx(ji,{children:f.jsx("title",{children:"Manage Songs | AllKaraoke.Party - Free Online Karaoke Party Game"})}),f.jsx("h1",{children:"Manage Songs"}),f.jsx(zr,{to:"exclude-languages/",children:f.jsx(Fe,{...n("exclude-languages",()=>e("exclude-languages/")),children:"Select Song Languages"})}),f.jsx(zr,{to:"edit/list/",children:f.jsx(Fe,{...n("edit-songs",()=>e("edit/list/")),children:"Edit songs"})}),f.jsx(zr,{to:"convert/",children:f.jsx(Fe,{...n("convert-song",()=>e("convert/")),children:"Convert UltraStar .txt"})}),f.jsx("hr",{}),f.jsx(zr,{to:"menu/",children:f.jsx(Fe,{...n("back-button",t),children:"Return To Main Menu"})})]})}var Av={exports:{}};Av.exports=WE;Av.exports.isMobile=WE;Av.exports.default=WE;const f1e=/(android|bb\d+|meego).+mobile|armv7l|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series[46]0|samsungbrowser.*mobile|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i,h1e=/CrOS/,p1e=/android|ipad|playbook|silk/i;function WE(e){e||(e={});let t=e.ua;if(!t&&typeof navigator<"u"&&(t=navigator.userAgent),t&&t.headers&&typeof t.headers["user-agent"]=="string"&&(t=t.headers["user-agent"]),typeof t!="string")return!1;let n=f1e.test(t)&&!h1e.test(t)||!!e.tablet&&p1e.test(t);return!n&&e.tablet&&e.featureDetect&&navigator&&navigator.maxTouchPoints>1&&t.indexOf("Macintosh")!==-1&&t.indexOf("Safari")!==-1&&(n=!0),n}var g1e=Av.exports;const m1e=Ar(g1e);function y1e(){const[,e]=Qe(br),t=async()=>{var n,r;try{e(!0),await document.body.requestFullscreen(),global.screen.orientation.unlock(),await((r=(n=global.screen.orientation).lock)==null?void 0:r.call(n,"landscape"))}catch(i){console.info(i)}};return f.jsx(Ja,{children:f.jsx(v1e,{children:f.jsxs(A1e,{children:[f.jsx("h1",{children:"Use Mobile Phone Mode?"}),f.jsx("h3",{children:"The regular version of the game isn't optimal for smaller screens. Enable the Mobile Phone Mode to adjust the UI and gameplay elements. Use this, or connect other mobiles to sing songs."}),f.jsxs("h3",{children:["You can always change the setting in the ",f.jsx("strong",{children:"Settings"})," menu."]}),f.jsx(cM,{focused:!0,onClick:t,"data-test":"enable-mobile-mode",children:"Enable Mobile Phone Mode"}),f.jsx(cM,{onClick:()=>e(!1),"data-test":"dismiss-mobile-mode",children:"Dismiss"})]})})})}const cM=j(Fe,{target:"e6hg0672"})({name:"h427ha",styles:"font-size:calc(min(3vw, 4vh));height:auto;padding:calc(min(3vw, 4vh))"}),v1e=j("div",{target:"e6hg0671"})({name:"wkkrci",styles:"position:fixed;inset:0;display:flex;align-items:center;justify-content:center"}),A1e=j(Qa,{target:"e6hg0670"})({name:"x689zy",styles:"max-width:150rem;padding:calc(min(3vw, 4vh));margin:auto;h1{font-size:calc(min(4vw, 5vh));margin-bottom:0.75em;}h3{font-size:calc(min(3vw, 4vh));line-height:1.25;margin-bottom:1em;}"});function b1e(){const[e]=Qe(br),t=A.useMemo(()=>m1e(),[]),n=fi(),r=async i=>{var s,o;if(n("menu/"),e&&document.fullscreenElement===null)try{await document.body.requestFullscreen(),global.screen.orientation.unlock(),await((o=(s=global.screen.orientation).lock)==null?void 0:o.call(s,"landscape"))}catch(a){console.info(a)}};return f.jsxs(f.Fragment,{children:[f.jsx(ji,{children:f.jsx("title",{children:"Select Input | AllKaraoke.Party - Free Online Karaoke Party Game"})}),e===null&&t?f.jsx(y1e,{}):f.jsx(Za,{children:f.jsx($E,{onFinish:r,closeButtonText:"Sing a song",smooth:!0})})]})}function _1e(){el(!1);const e=fi(),t=()=>e("settings/"),{register:n}=Yn({onBackspace:t}),[r,i]=Qe(Em),[s,o]=Qe(o3),a=Ri(te.inputListChanged,()=>rt.getRemoteMics()),l=FO();return A.useEffect(()=>rt.addListener(l),[l]),f.jsxs(Za,{children:[f.jsx("h1",{onClick:()=>{const c=prompt("Code");(c==null?void 0:c.length)===xf-1&&(Jj(c),global.location.reload())},children:"Remote Microphone Settings"}),f.jsx(es,{...n("connection type",()=>i(Bl(L6,r))),label:"Connection type",value:r}),f.jsx("hr",{}),f.jsx(es,{...n("default-permission",()=>o(Bl(S2,s))),label:"Default permission",info:f.jsxs(f.Fragment,{children:[f.jsx("strong",{children:"WRITE"})," - player is able to navigate the menus remotely and assign themselves and other players to the game.",f.jsx("br",{}),f.jsx("br",{}),f.jsx("strong",{children:"READ"})," - player will only be able to use the device as a microphone and otherwise have no control over the game."]}),value:s.toUpperCase()}),f.jsx("hr",{}),f.jsx("h3",{children:"Connected devices permissions:"}),a.map(c=>{const u=rt.getPermission(c.id);return f.jsx(w1e,{...n(`mic-${c.id}`,()=>rt.setPermission(c.id,Bl(S2,u)),"Change permissions"),"data-test":"remote-mic-entry","data-id":c.id,value:u,label:f.jsxs(x1e,{children:[f.jsx(C1e,{children:c.id.slice(-4)}),f.jsx(k1e,{children:f.jsx(S1e,{deviceId:c.id})}),f.jsx(E1e,{className:"ph-no-capture",children:c.name})]})},c.id)}),a.length===0&&f.jsx("h4",{children:"No remote microphones connected"}),f.jsx("hr",{}),f.jsx(Fe,{...n("back-button",t),children:"Return To Settings"})]})}const S1e=({deviceId:e})=>{const t=MB(e);return t===null?null:f.jsxs(f.Fragment,{children:[t,"ms"]})},x1e=j("span",{target:"expzhs34"})({name:"50zrmy",styles:"text-transform:uppercase"}),w1e=j(es,{target:"expzhs33"})({name:"50zrmy",styles:"text-transform:uppercase"}),E1e=j("span",{target:"expzhs32"})(""),C1e=j("span",{target:"expzhs31"})({name:"1mrl9vb",styles:"font-size:1.5rem;padding-right:1rem"}),k1e=j("span",{target:"expzhs30"})({name:"13smbnv",styles:"font-size:1.5rem;padding-right:2rem;text-transform:none"}),y1=2500,T1e=()=>{const e=[0,...new Array(21).fill(0).map((n,r)=>Math.round(10*(1.2+Math.sin(r/2.5+1.5)))/10).map(n=>Math.round(n/28*y1)).reduce((n,r)=>[...n,(n.at(-1)??0)+r],[])],t=[{offset:"0%",color:Te.eurovisionPink.text},{offset:"25%",color:Te.eurovisionYellow.text},{offset:"50%",color:Te.eurovisionPink.text},{offset:"75%",color:Te.eurovisionOrange.text},{offset:"100%",color:Te.eurovisionPink.text}];return f.jsxs("svg",{width:y1,height:y1,version:"1.1",xmlns:"http://www.w3.org/2000/svg",children:[f.jsx("defs",{children:Array.from({length:21},(n,r)=>f.jsx("linearGradient",{id:`grad${r}`,x1:"0%",x2:"0%",y1:`${r*2}%`,y2:`${r*2+100}%`,spreadMethod:"repeat",children:t.map((i,s)=>f.jsx("stop",{offset:i.offset,stopColor:i.color},s))},r))}),Array.from({length:22},(n,r)=>f.jsx("rect",{x:e[r],y:"0",width:(e[r+1]??501)-e[r]+10,height:"100%",fill:`url(#grad${r})`},r))]})},I1e=`<?xml version="1.0" encoding="utf-8"?>
<svg viewBox="0 0 500 500" xmlns="http://www.w3.org/2000/svg">
  <g style="" transform="matrix(1.071942, 0, 0, 1.071942, 1.835104, 30.483427)">
    <path xmlns="http://www.w3.org/2000/svg" d="M 106.909 108.923 C 93.513 122.319 85.385 140.039 83.629 158.623 C 65.934 156.191 48.056 147.884 33.558 133.384 C 2.037 101.864 -1.61 54.425 25.407 27.42 C 52.402 0.403 99.839 4.05 131.36 35.571 C 145.859 50.07 154.167 67.957 156.598 85.654 C 138.025 87.387 120.305 95.527 106.909 108.923 Z M 277.592 279.606 C 284.12 273.076 293.486 270.217 302.56 271.951 L 335.161 304.574 C 344.167 313.579 344.167 328.169 335.161 337.175 C 326.155 346.181 311.566 346.181 302.56 337.175 L 269.937 304.574 C 268.203 295.502 271.062 286.135 277.592 279.606 Z M 172.111 108.923 C 154.167 106.357 136.043 112.402 123.209 125.224 C 110.377 138.057 104.342 156.181 106.909 174.137 L 258.318 295.253 C 259.219 286.383 262.957 277.94 269.441 271.455 C 275.925 264.971 284.368 261.234 293.239 260.333 L 172.111 108.923 Z" style="stroke: rgb(0, 0, 0); fill: rgb(255, 54, 54); stroke-width: 9.32886px; stroke-linejoin: round;"/>
    <path xmlns="http://www.w3.org/2000/svg" d="M 218.755 301.518 C 205.359 288.122 197.231 270.402 195.475 251.818 C 177.78 254.25 159.902 262.557 145.404 277.057 C 113.883 308.577 110.236 356.016 137.253 383.021 C 164.248 410.038 211.685 406.391 243.206 374.87 C 257.705 360.371 266.013 342.484 268.444 324.787 C 249.871 323.054 232.151 314.914 218.755 301.518 Z M 389.438 130.835 C 395.966 137.365 405.332 140.224 414.406 138.49 L 447.007 105.867 C 456.013 96.862 456.013 82.272 447.007 73.266 C 438.001 64.26 423.412 64.26 414.406 73.266 L 381.783 105.867 C 380.049 114.939 382.908 124.306 389.438 130.835 Z M 283.957 301.518 C 266.013 304.084 247.889 298.039 235.055 285.217 C 222.223 272.384 216.188 254.26 218.755 236.304 L 370.164 115.188 C 371.065 124.058 374.803 132.501 381.287 138.986 C 387.771 145.47 396.214 149.207 405.085 150.108 L 283.957 301.518 Z" style="fill: rgb(4, 153, 255); stroke: rgb(0, 0, 0); stroke-width: 9.32886px; stroke-linejoin: round;" transform="matrix(-1, 0, 0, -1, 572.91568, 467.631317)"/>
  </g>
</svg>`;function P1e(){return qa(!1),f.jsxs(Ja,{children:[f.jsxs(R1e,{children:[f.jsx(M1e,{dangerouslySetInnerHTML:{__html:I1e}}),f.jsx(aD,{children:f.jsx(HT,{})})]}),f.jsxs(O1e,{children:[f.jsx(j1e,{children:f.jsx(HT,{})}),f.jsx(PE,{}),f.jsx(V1e,{src:wB,alt:"Eurovision"})]}),f.jsx(T1e,{})]})}const R1e=j("div",{target:"e1bt4f566"})({name:"yc537h",styles:"width:400px;aspect-ratio:1/1;position:relative;padding:30px"}),aD=j("div",{target:"e1bt4f565"})(`display:flex;position:absolute;inset:0;z-index:-1;div{background-image:linear-gradient(
      0deg,
      `,Te.eurovisionViolet.text,`,
      `,Te.eurovisionBlue.text,`,
      `,Te.eurovisionYellow.text,`,
      `,Te.eurovisionBlue.text,`,
      `,Te.eurovisionViolet.text,`
    );}`),M1e=j("svg",{target:"e1bt4f564"})("width:400px;aspect-ratio:1/1;object-fit:contain;filter:drop-shadow(0 0 10px rgb(0 0 0 / 0.6));path:nth-of-type(1){fill:",Te.red.text,"!important;}path:nth-of-type(2){fill:",Te.blue.text,"!important;}"),j1e=j(aD,{target:"e1bt4f563"})(`div{background-image:linear-gradient(
      0deg,
      `,Te.eurovisionPink.text,`,
      `,Te.eurovisionOrange.text,`,
      `,Te.eurovisionYellow.text,`,
      `,Te.eurovisionPink.text,`
    );}`),O1e=j("div",{target:"e1bt4f562"})(`overflow:hidden;position:relative;height:calc(693px / 1);width:calc(2048px / 1);transform:scale(1);background-color:black;background-image:linear-gradient(
    120deg,
    `,Te.red.stroke,`,
    `,Te.red.hit.fill,` 49.9%,
    `,Te.blue.hit.fill,` 50.1%,
    `,Te.blue.stroke,`
  );display:flex;align-items:center;justify-content:center;div{}`),V1e=j("img",{target:"e1bt4f561"})({name:"1go3sm",styles:"margin-left:4rem;transform:scale(1.5)"}),L1e=(e,t)=>`
<iframe src="https://www.facebook.com/plugins/page.php?href=https%3A%2F%2Fwww.facebook.com%2Fallkaraoke.party&${Object.entries({show_posts:!0,width:e,height:t,small_header:!0,adapt_container_width:!0,hide_cover:!1,show_facepile:!1,appId:530120230391395}).map(([i,s])=>`${i}=${String(s)}`).join("&")}" width="${e}" height="${t}" style="border:none;overflow:hidden" scrolling="no" frameborder="0" allowfullscreen="true" allow="autoplay; clipboard-write; encrypted-media; picture-in-picture; web-share"></iframe>
`;function N1e(){const[e]=Qe(br),[t,n]=A.useState(!1),[r,i]=A.useState(180),s=A.useCallback(o=>{i(Math.round(o==null?void 0:o.getBoundingClientRect().width)??200)},[]);return A.useEffect(()=>{const o=setTimeout(()=>{n(!0)},750);return()=>{clearTimeout(o)}},[]),f.jsxs(B1e,{"data-small":!!e,show:t,children:[f.jsx("div",{dangerouslySetInnerHTML:{__html:L1e(450,750)},style:{height:750*(r/350),width:"100%",transformOrigin:"left top",transform:`scale(${r/450})`}}),f.jsx("h5",{ref:s,children:"Get updates, and help by suggesting features and reporting bugs."})]})}const B1e=j(Qa,{target:"e1zzmv40"})("transition:1000ms;opacity:",e=>e.show?1:0,";position:absolute;top:2rem;right:10rem;width:37rem;margin:0;text-decoration:none;text-align:justify;&[data-small='true'] &{width:25rem;right:1rem;h2{font-size:1.5rem;}h5{font-size:1.15rem;}}view-transition-name:fb-notification;");function D1e(){qa(!0);const e=fi();el(!1);const{register:t}=Yn();return f.jsxs(Za,{children:[f.jsxs(ji,{children:[f.jsx("title",{children:"Main Menu | AllKaraoke.Party - Free Online Karaoke Party Game"}),f.jsx("link",{rel:"preload",href:"/songs/index.json",as:"fetch",type:"application/json",crossOrigin:"anonymous"}),f.jsx("link",{rel:"preload",href:"/mostPopularSongs.json",as:"fetch",type:"application/json",crossOrigin:"anonymous"})]}),f.jsxs($1e,{children:[f.jsxs("span",{children:["Bpm data and release year provided by"," ",f.jsx("a",{target:"_blank",href:"https://getsongbpm.com/",rel:"noreferrer",children:"GetSongBPM"})]}),f.jsx("span",{children:"Song: Funk Cool Groove (Music Today 80)"}),f.jsx("span",{children:" Composed & Produced by : Anwar Amr"}),f.jsxs("span",{children:[" Video Link:"," ",f.jsx("a",{href:"https://youtu.be/FGzzBbYRjFY",target:"_blank",rel:"noreferrer",children:"https://youtu.be/FGzzBbYRjFY"})]})]}),f.jsx(N1e,{}),f.jsxs(f.Fragment,{children:[f.jsx(zr,{to:"game/",children:f.jsx(pr.Button,{...t("sing-a-song",()=>e("game/")),children:"Sing a song"})}),f.jsx(zr,{to:"select-input/",children:f.jsx(pr.Button,{...t("select-input",()=>e("select-input/")),children:"Setup Microphones"})}),f.jsx(zr,{to:"settings/",children:f.jsx(pr.Button,{...t("settings",()=>e("settings/")),children:"Settings"})}),f.jsx(zr,{to:"jukebox/",children:f.jsx(pr.Button,{...t("jukebox",()=>e("jukebox/")),children:"Jukebox"})}),f.jsx(zr,{to:"manage-songs/",children:f.jsx(pr.Button,{...t("manage-songs",()=>e("manage-songs/")),children:"Manage Songs"})})]})]})}const $1e=j("div",{target:"e1g7uwpd0"})(Ke,";text-decoration:none;flex-direction:column;display:flex;font-size:1.5rem;gap:1.25rem;opacity:0.85;position:absolute;bottom:4rem;left:1rem;view-transition-name:background-music-credit;"),Qr={INDEX:"",QUICK_SETUP:"quick-setup",GAME:"game",MENU:"menu",JUKEBOX:"jukebox",SELECT_INPUT:"select-input",SETTINGS:"settings",SETTINGS_REMOTE_MICS:"settings/remote-mics",REMOTE_MIC:"remote-mic",MANAGE_SONGS:"manage-songs",EXCLUDE_LANGUAGES:"exclude-languages",CONVERT:"convert",EDIT_SONGS_LIST:"edit/list",EDIT_SONG:"edit/song"},F1e=A.lazy(()=>ud(()=>import("./SongManagement-W0c_-iDP.js"),[]).then(e=>({default:e.SongList})));function z1e(){Qe(br);const[e]=Qe(Ji),t=A.useMemo(()=>pw({graphicSetting:e}),[e]);return f.jsx(Eue,{theme:t,children:f.jsx(yx,{fallback:Jge,children:f.jsx(uee,{children:f.jsx(nee,{children:f.jsx(kae,{base:"/",children:f.jsxs(Tae,{children:[f.jsx(wr,{path:Qr.QUICK_SETUP,component:b1e}),f.jsx(wr,{path:Qr.MENU,component:D1e}),f.jsx(wr,{path:Qr.EXCLUDE_LANGUAGES,component:eme}),f.jsx(wr,{path:Qr.JUKEBOX,component:Age}),f.jsx(wr,{path:Qr.GAME,children:f.jsx(r1e,{})}),f.jsx(wr,{path:Qr.SELECT_INPUT,component:Qge}),f.jsx(wr,{path:Qr.SETTINGS,component:Rfe}),f.jsx(wr,{path:Qr.SETTINGS_REMOTE_MICS,component:_1e}),f.jsx(wr,{path:Qr.REMOTE_MIC,component:Bde}),f.jsx(wr,{path:Qr.MANAGE_SONGS,component:d1e}),f.jsx(wr,{path:"social-media-elements",component:P1e}),f.jsx(wr,{path:Qr.CONVERT,component:()=>f.jsx(Dfe,{})}),f.jsx(wr,{path:Qr.EDIT_SONGS_LIST,component:()=>f.jsx(A.Suspense,{fallback:f.jsx(QN,{}),children:f.jsx(F1e,{})})}),f.jsx(wr,{path:"edit/get-songs-bpms",component:Zge}),f.jsx(wr,{path:Qr.EDIT_SONG,children:f.jsx(hpe,{})}),f.jsx(wr,{path:Qr.INDEX,component:u1e})]})})})})})})}const U1e=XH(z1e),H1e=["AbortError: Version change transaction was aborted in upgradeneeded event handler.","The object can not be found here.","Document is hidden.","Failed to register a ServiceWorker for scope ('https://allkaraoke.party/') with script","NotAllowedError: Permission denied by system","ResizeObserver loop limit exceeded","ResizeObserver loop completed with undelivered notifications.","NotAllowedError: Document is not focused.","Error: Socket was destroyed!",/TypeError: Failed to fetch/,"top.GLOBALS","originalCreateNotification","canvas.contentDocument","MyApp_RemoveAllHighlights","http://tt.epicplay.com","Can't find variable: ZiteReader","jigsaw is not defined","ComboSearch is not defined","http://loading.retry.widdit.com/","atomicFindClose","fb_xd_fragment","bmi_SafeAddOnload","EBCallBackMessageReceived","conduitPage"];var lD,uM=vc;lD=uM.createRoot,uM.hydrateRoot;IH({integrations:[EH({enableInp:!0})],dsn:"https://66c6e940d24b4096a277f350571921bb@o366978.ingest.sentry.io/6174734",ignoreErrors:H1e,tracesSampleRate:Ii()?0:.01,environment:Ii()?"e2e":"production",tunnel:"https://backend.allkaraoke.party/sentry"});Ii()||On.init("phc_bw7XLoONmtGVezmMKTvcwk3lj37jzxTfisqzjlJ0Jik",{api_host:"https://backend.allkaraoke.party/posthog",loaded:e=>{let t=Le.local.getItem("posthog-user-id");t||(t=$m(),Le.local.setItem("posthog-user-id",t)),e.identify(t);let n=Le.local.getItem("posthog-user-name");if(!n){const r=[...new Set(hf.artists.flatMap(i=>Hj(i).split("-")))].filter(i=>i.length<=10);n=new Array(js(3,5)).fill(0).map(()=>r[js(0,r.length-1)]).join("-"),Le.local.setItem("posthog-user-name",n),e.alias(n,t)}t7({id:t})}});const G1e=pO({key:"ec",speedy:!uB}),q1e=document.getElementById("root"),W1e=lD(q1e);W1e.render(f.jsxs(AY,{value:G1e,children:[f.jsx(U1e,{}),f.jsx(Pb,{position:Ft.POSITION.BOTTOM_LEFT,theme:"colored"})]}));export{oB as $,Wr as A,Rr as B,AY as C,Wh as D,use as E,RV as F,Ie as G,zm as H,gw as I,Vo as J,Mr as K,pt as L,Zt as M,dv as N,lt as O,Ze as P,cs as Q,lm as R,Pi as S,Qo as T,jr as U,j0 as V,rv as W,lw as X,cw as Y,ih as Z,MV as _,Lee as a,qhe as a$,mw as a0,Qm as a1,LL as a2,pw as a3,Pee as a4,Wm as a5,lbe as a6,Jl as a7,yw as a8,Tee as a9,Ad as aA,Dl as aB,Hg as aC,nhe as aD,rhe as aE,vq as aF,Va as aG,Jf as aH,eB as aI,Jfe as aJ,Kfe as aK,qfe as aL,Zfe as aM,Fr as aN,dd as aO,oAe as aP,qa as aQ,fi as aR,el as aS,jy as aT,gee as aU,bE as aV,fpe as aW,vc as aX,Vne as aY,rB as aZ,Ahe as a_,Xl as aa,kee as ab,tw as ac,She as ad,AR as ae,Vhe as af,abe as ag,Qne as ah,wee as ai,_he as aj,Ts as ak,Gc as al,ew as am,YT as an,j as ao,mR as ap,wE as aq,Uk as ar,Xs as as,Pt as at,zb as au,dbe as av,Mee as aw,cV as ax,$e as ay,bK as az,Oee as b,lA as b0,cE as b1,zhe as b2,n1 as b3,Xhe as b4,GT as b5,pc as b6,ps as b7,Rue as b8,yle as b9,upe as ba,Poe as bb,Ioe as bc,lB as bd,T0 as be,Rs as bf,ji as bg,VE as bh,fbe as bi,dpe as bj,On as bk,$fe as bl,wW as c,pO as d,VK as e,Mte as f,Ex as g,Zl as h,mV as i,f as j,Ite as k,xt as l,Vee as m,Hte as n,Km as o,gV as p,Ub as q,A as r,Le as s,ow as t,Na as u,zo as v,obe as w,iw as x,si as y,sbe as z};
//# sourceMappingURL=index-CdHmfNr8.js.map
